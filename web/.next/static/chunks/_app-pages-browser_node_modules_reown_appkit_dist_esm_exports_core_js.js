/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_reown_appkit_dist_esm_exports_core_js"],{

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/types/dist/index.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/types/dist/index.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(app-pages-browser)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUYscURBQXFELGtEQUFrRCxxREFBcUQsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxpRUFBaUUsUUFBUSxtQkFBbUIsMkJBQTJCLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQiw2REFBNkQsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxTQUFTLFFBQVEscUJBQXFCLHVDQUF1QyxxREFBcUQsa0RBQWtELHFEQUFxRCxRQUFRLGNBQWMsdUJBQXVCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixtQ0FBbUMsUUFBUSxpQkFBaUIsMkJBQTJCLFFBQVEsbUJBQW1CLHdDQUF3QyxRQUFRLGlCQUFpQixnQ0FBZ0MsUUFBUSxtQkFBbUIsbURBQW1ELHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwrQ0FBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUseURBQXlELGdCQUFnQixnREFBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUsZUFBZ1Y7QUFDbnFFIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3R5cGVzL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0lFdmVudHMgYXMgb31mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtpbXBvcnQgbix7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHU9KGUscyxyKT0+cyBpbiBlP2EoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGM9KGUscyxyKT0+dShlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCksdGhpcy5vcHRzPXMsYyh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGModGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19dmFyIHA9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9KGUscyxyKT0+cyBpbiBlP3AoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHY9KGUscyxyKT0+YihlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHYodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpfX1jbGFzcyBme2NvbnN0cnVjdG9yKHMscix0LHEpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5uYW1lPXR9fXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx4PShlLHMscik9PnMgaW4gZT9FKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix3PShlLHMscik9PngoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dyh0aGlzLFwibWFwXCIsbmV3IE1hcCl9fWNsYXNzIFAgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBqe2NvbnN0cnVjdG9yKHMscil7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUyBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzICR7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBNe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMuc3RvcmU9dH19Y2xhc3MgT3tjb25zdHJ1Y3RvcihzLHIpe3RoaXMucHJvamVjdElkPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUntjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9dH19dmFyIFQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGs9KGUscyxyKT0+cyBpbiBlP1QoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGk9KGUscyxyKT0+ayhlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgSntjb25zdHJ1Y3RvcihzKXt0aGlzLm9wdHM9cyxpKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksaSh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBLIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIFZ7Y29uc3RydWN0b3Iocyl7dGhpcy5jbGllbnQ9c319ZXhwb3J0e2ggYXMgSUNvcmUsZyBhcyBJQ3J5cHRvLE8gYXMgSUVjaG9DbGllbnQsViBhcyBJRW5naW5lLEsgYXMgSUVuZ2luZUV2ZW50cyxSIGFzIElFdmVudENsaWVudCxTIGFzIElFeHBpcmVyLEkgYXMgSUpzb25ScGNIaXN0b3J5LGogYXMgSUtleUNoYWluLHkgYXMgSU1lc3NhZ2VUcmFja2VyLCQgYXMgSVBhaXJpbmcsbSBhcyBJUHVibGlzaGVyLGQgYXMgSVJlbGF5ZXIsSiBhcyBJU2lnbkNsaWVudCxIIGFzIElTaWduQ2xpZW50RXZlbnRzLGYgYXMgSVN0b3JlLFAgYXMgSVN1YnNjcmliZXIsQyBhcyBJU3Vic2NyaWJlclRvcGljTWFwLE0gYXMgSVZlcmlmeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/types/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/types/dist/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/@walletconnect/types/dist/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(app-pages-browser)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUYscURBQXFELGtEQUFrRCxxREFBcUQsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxpRUFBaUUsUUFBUSxtQkFBbUIsMkJBQTJCLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQiw2REFBNkQsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxTQUFTLFFBQVEscUJBQXFCLHVDQUF1QyxxREFBcUQsa0RBQWtELHFEQUFxRCxRQUFRLGNBQWMsdUJBQXVCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixtQ0FBbUMsUUFBUSxpQkFBaUIsMkJBQTJCLFFBQVEsbUJBQW1CLHdDQUF3QyxRQUFRLGlCQUFpQixnQ0FBZ0MsUUFBUSxtQkFBbUIsbURBQW1ELHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwrQ0FBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUseURBQXlELGdCQUFnQixnREFBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUsZUFBZ1Y7QUFDbnFFIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3R5cGVzL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0lFdmVudHMgYXMgb31mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtpbXBvcnQgbix7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHU9KGUscyxyKT0+cyBpbiBlP2EoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGM9KGUscyxyKT0+dShlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCksdGhpcy5vcHRzPXMsYyh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGModGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19dmFyIHA9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9KGUscyxyKT0+cyBpbiBlP3AoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHY9KGUscyxyKT0+YihlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHYodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpfX1jbGFzcyBme2NvbnN0cnVjdG9yKHMscix0LHEpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5uYW1lPXR9fXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx4PShlLHMscik9PnMgaW4gZT9FKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix3PShlLHMscik9PngoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dyh0aGlzLFwibWFwXCIsbmV3IE1hcCl9fWNsYXNzIFAgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBqe2NvbnN0cnVjdG9yKHMscil7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUyBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzICR7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBNe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMuc3RvcmU9dH19Y2xhc3MgT3tjb25zdHJ1Y3RvcihzLHIpe3RoaXMucHJvamVjdElkPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUntjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9dH19dmFyIFQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGs9KGUscyxyKT0+cyBpbiBlP1QoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGk9KGUscyxyKT0+ayhlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgSntjb25zdHJ1Y3RvcihzKXt0aGlzLm9wdHM9cyxpKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksaSh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBLIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIFZ7Y29uc3RydWN0b3Iocyl7dGhpcy5jbGllbnQ9c319ZXhwb3J0e2ggYXMgSUNvcmUsZyBhcyBJQ3J5cHRvLE8gYXMgSUVjaG9DbGllbnQsViBhcyBJRW5naW5lLEsgYXMgSUVuZ2luZUV2ZW50cyxSIGFzIElFdmVudENsaWVudCxTIGFzIElFeHBpcmVyLEkgYXMgSUpzb25ScGNIaXN0b3J5LGogYXMgSUtleUNoYWluLHkgYXMgSU1lc3NhZ2VUcmFja2VyLCQgYXMgSVBhaXJpbmcsbSBhcyBJUHVibGlzaGVyLGQgYXMgSVJlbGF5ZXIsSiBhcyBJU2lnbkNsaWVudCxIIGFzIElTaWduQ2xpZW50RXZlbnRzLGYgYXMgSVN0b3JlLFAgYXMgSVN1YnNjcmliZXIsQyBhcyBJU3Vic2NyaWJlclRvcGljTWFwLE0gYXMgSVZlcmlmeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/types/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/dayjs/dayjs.min.js":
/*!*****************************************!*\
  !*** ./node_modules/dayjs/dayjs.min.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("!function(t,e){ true?module.exports=e():0}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9kYXlqcy9kYXlqcy5taW4uanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxLQUFvRCxvQkFBb0IsQ0FBK0csQ0FBQyxrQkFBa0IsYUFBYSx3SkFBd0osRUFBRSxVQUFVLElBQUksV0FBVyxJQUFJLFlBQVksSUFBSSxRQUFRLElBQUksUUFBUSxJQUFJLGlDQUFpQyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksT0FBTyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksVUFBVSx1TkFBdU4sb0NBQW9DLDRDQUE0QyxtQkFBbUIsZ0JBQWdCLHlEQUF5RCxJQUFJLGtCQUFrQiw2REFBNkQsK0NBQStDLG1CQUFtQixtQ0FBbUMsOEdBQThHLG1DQUFtQyxlQUFlLHlDQUF5QyxlQUFlLE9BQU8seUNBQXlDLGtEQUFrRCxlQUFlLG1CQUFtQixhQUFhLE9BQU8scUNBQXFDLG9DQUFvQyxxQkFBcUIsTUFBTSxlQUFlLHVCQUF1QixzQkFBc0IsNEJBQTRCLG1CQUFtQixpQ0FBaUMsS0FBSyxhQUFhLFdBQVcsNEJBQTRCLGlCQUFpQix5QkFBeUIsOEJBQThCLDBDQUEwQyxLQUFLLDhCQUE4QixZQUFZLDhDQUE4QyxHQUFHLGlCQUFpQixjQUFjLGtFQUFrRSxZQUFZLGtCQUFrQiwyQkFBMkIsb0JBQW9CLHFCQUFxQixpQ0FBaUMsMEJBQTBCLHdDQUF3Qyx1Q0FBdUMsaUJBQWlCLE1BQU0sNkNBQTZDLDBIQUEwSCxtQkFBbUIsZ0JBQWdCLG1CQUFtQixjQUFjLG9MQUFvTCxxQkFBcUIsU0FBUyxzQkFBc0IsZ0NBQWdDLHdCQUF3QixXQUFXLDRDQUE0Qyx5QkFBeUIsNEJBQTRCLDBCQUEwQiwwQkFBMEIsc0JBQXNCLG9DQUFvQyxtQkFBbUIsc0NBQXNDLHNCQUFzQix5QkFBeUIseUJBQXlCLGtEQUFrRCx3REFBd0Qsc0JBQXNCLGlCQUFpQix1RkFBdUYsMERBQTBELFVBQVUsZ0NBQWdDLGdDQUFnQyx5REFBeUQsMEJBQTBCLG9DQUFvQywrQkFBK0IsK0JBQStCLG9DQUFvQyw2QkFBNkIscUJBQXFCLDBCQUEwQixzQkFBc0IsaURBQWlELHlLQUF5SyxpQkFBaUIsNEJBQTRCLDBFQUEwRSxzQkFBc0Isd0JBQXdCLHFCQUFxQiw4QkFBOEIsbUJBQW1CLHNCQUFzQixxQkFBcUIsYUFBYSxZQUFZLDJCQUEyQixXQUFXLGdEQUFnRCxzQ0FBc0Msc0NBQXNDLHFCQUFxQixxQkFBcUIsV0FBVyx1REFBdUQsbUJBQW1CLDBCQUEwQix3QkFBd0Isc0JBQXNCLDRCQUE0QiwyQ0FBMkMsbUlBQW1JLDBDQUEwQyxlQUFlLDJCQUEyQixzQkFBc0IscUJBQXFCLDRCQUE0QixrQ0FBa0Msc0JBQXNCLFVBQVUsdUNBQXVDLGtDQUFrQyxtQkFBbUIsK0JBQStCLHdDQUF3Qyx5QkFBeUIsb0JBQW9CLGdDQUFnQyw0QkFBNEIsMENBQTBDLDZDQUE2QywwQkFBMEIseUJBQXlCLDZCQUE2QixvQkFBb0IscUJBQXFCLHlCQUF5Qix5QkFBeUIseUJBQXlCLDZCQUE2Qiw0QkFBNEIsZ0NBQWdDLGtDQUFrQyxpQkFBaUIsWUFBWSx1QkFBdUIsR0FBRyx3QkFBd0Isc0RBQXNELHdCQUF3Qix3RkFBd0YsaUJBQWlCLFVBQVUsZ0JBQWdCLE1BQU0sYUFBYSxNQUFNLGVBQWUsTUFBTSxzQkFBc0IsTUFBTSxxQkFBcUIsTUFBTSxhQUFhLE1BQU0sYUFBYSxNQUFNLGFBQWEsTUFBTSxZQUFZLGtCQUFrQiwwQkFBMEIsd0JBQXdCLHNCQUFzQixrQkFBa0Isd0JBQXdCLHFCQUFxQiwrQkFBK0IscUJBQXFCLG9CQUFvQix5QkFBeUIscUJBQXFCLGdDQUFnQyxxQkFBcUIsOENBQThDLDBCQUEwQiw2QkFBNkIsdUJBQXVCLDZCQUE2QixHQUFHLGlCQUFpQixxSEFBcUgsb0JBQW9CLDZCQUE2QiwwQkFBMEIsa0NBQWtDLDJDQUEyQyxnQkFBZ0Isd0JBQXdCLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvZGF5anMvZGF5anMubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuZGF5anM9ZSgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciB0PTFlMyxlPTZlNCxuPTM2ZTUscj1cIm1pbGxpc2Vjb25kXCIsaT1cInNlY29uZFwiLHM9XCJtaW51dGVcIix1PVwiaG91clwiLGE9XCJkYXlcIixvPVwid2Vla1wiLGM9XCJtb250aFwiLGY9XCJxdWFydGVyXCIsaD1cInllYXJcIixkPVwiZGF0ZVwiLGw9XCJJbnZhbGlkIERhdGVcIiwkPS9eKFxcZHs0fSlbLS9dPyhcXGR7MSwyfSk/Wy0vXT8oXFxkezAsMn0pW1R0XFxzXSooXFxkezEsMn0pPzo/KFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Wy46XT8oXFxkKyk/JC8seT0vXFxbKFteXFxdXSspXXxZezEsNH18TXsxLDR9fER7MSwyfXxkezEsNH18SHsxLDJ9fGh7MSwyfXxhfEF8bXsxLDJ9fHN7MSwyfXxaezEsMn18U1NTL2csTT17bmFtZTpcImVuXCIsd2Vla2RheXM6XCJTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheVwiLnNwbGl0KFwiX1wiKSxtb250aHM6XCJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyXCIuc3BsaXQoXCJfXCIpLG9yZGluYWw6ZnVuY3Rpb24odCl7dmFyIGU9W1widGhcIixcInN0XCIsXCJuZFwiLFwicmRcIl0sbj10JTEwMDtyZXR1cm5cIltcIit0KyhlWyhuLTIwKSUxMF18fGVbbl18fGVbMF0pK1wiXVwifX0sbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9U3RyaW5nKHQpO3JldHVybiFyfHxyLmxlbmd0aD49ZT90OlwiXCIrQXJyYXkoZSsxLXIubGVuZ3RoKS5qb2luKG4pK3R9LHY9e3M6bSx6OmZ1bmN0aW9uKHQpe3ZhciBlPS10LnV0Y09mZnNldCgpLG49TWF0aC5hYnMoZSkscj1NYXRoLmZsb29yKG4vNjApLGk9biU2MDtyZXR1cm4oZTw9MD9cIitcIjpcIi1cIikrbShyLDIsXCIwXCIpK1wiOlwiK20oaSwyLFwiMFwiKX0sbTpmdW5jdGlvbiB0KGUsbil7aWYoZS5kYXRlKCk8bi5kYXRlKCkpcmV0dXJuLXQobixlKTt2YXIgcj0xMioobi55ZWFyKCktZS55ZWFyKCkpKyhuLm1vbnRoKCktZS5tb250aCgpKSxpPWUuY2xvbmUoKS5hZGQocixjKSxzPW4taTwwLHU9ZS5jbG9uZSgpLmFkZChyKyhzPy0xOjEpLGMpO3JldHVybisoLShyKyhuLWkpLyhzP2ktdTp1LWkpKXx8MCl9LGE6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCl8fDA6TWF0aC5mbG9vcih0KX0scDpmdW5jdGlvbih0KXtyZXR1cm57TTpjLHk6aCx3Om8sZDphLEQ6ZCxoOnUsbTpzLHM6aSxtczpyLFE6Zn1bdF18fFN0cmluZyh0fHxcIlwiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL3MkLyxcIlwiKX0sdTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dH19LGc9XCJlblwiLEQ9e307RFtnXT1NO3ZhciBwPVwiJGlzRGF5anNPYmplY3RcIixTPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgX3x8ISghdHx8IXRbcF0pfSx3PWZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpO2lmKCFlKXJldHVybiBnO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgcz1lLnRvTG93ZXJDYXNlKCk7RFtzXSYmKGk9cyksbiYmKERbc109bixpPXMpO3ZhciB1PWUuc3BsaXQoXCItXCIpO2lmKCFpJiZ1Lmxlbmd0aD4xKXJldHVybiB0KHVbMF0pfWVsc2V7dmFyIGE9ZS5uYW1lO0RbYV09ZSxpPWF9cmV0dXJuIXImJmkmJihnPWkpLGl8fCFyJiZnfSxPPWZ1bmN0aW9uKHQsZSl7aWYoUyh0KSlyZXR1cm4gdC5jbG9uZSgpO3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlP2U6e307cmV0dXJuIG4uZGF0ZT10LG4uYXJncz1hcmd1bWVudHMsbmV3IF8obil9LGI9djtiLmw9dyxiLmk9UyxiLnc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTyh0LHtsb2NhbGU6ZS4kTCx1dGM6ZS4kdSx4OmUuJHgsJG9mZnNldDplLiRvZmZzZXR9KX07dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBNKHQpe3RoaXMuJEw9dyh0LmxvY2FsZSxudWxsLCEwKSx0aGlzLnBhcnNlKHQpLHRoaXMuJHg9dGhpcy4keHx8dC54fHx7fSx0aGlzW3BdPSEwfXZhciBtPU0ucHJvdG90eXBlO3JldHVybiBtLnBhcnNlPWZ1bmN0aW9uKHQpe3RoaXMuJGQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRlLG49dC51dGM7aWYobnVsbD09PWUpcmV0dXJuIG5ldyBEYXRlKE5hTik7aWYoYi51KGUpKXJldHVybiBuZXcgRGF0ZTtpZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEvWiQvaS50ZXN0KGUpKXt2YXIgcj1lLm1hdGNoKCQpO2lmKHIpe3ZhciBpPXJbMl0tMXx8MCxzPShyWzddfHxcIjBcIikuc3Vic3RyaW5nKDAsMyk7cmV0dXJuIG4/bmV3IERhdGUoRGF0ZS5VVEMoclsxXSxpLHJbM118fDEscls0XXx8MCxyWzVdfHwwLHJbNl18fDAscykpOm5ldyBEYXRlKHJbMV0saSxyWzNdfHwxLHJbNF18fDAscls1XXx8MCxyWzZdfHwwLHMpfX1yZXR1cm4gbmV3IERhdGUoZSl9KHQpLHRoaXMuaW5pdCgpfSxtLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRkO3RoaXMuJHk9dC5nZXRGdWxsWWVhcigpLHRoaXMuJE09dC5nZXRNb250aCgpLHRoaXMuJEQ9dC5nZXREYXRlKCksdGhpcy4kVz10LmdldERheSgpLHRoaXMuJEg9dC5nZXRIb3VycygpLHRoaXMuJG09dC5nZXRNaW51dGVzKCksdGhpcy4kcz10LmdldFNlY29uZHMoKSx0aGlzLiRtcz10LmdldE1pbGxpc2Vjb25kcygpfSxtLiR1dGlscz1mdW5jdGlvbigpe3JldHVybiBifSxtLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hKHRoaXMuJGQudG9TdHJpbmcoKT09PWwpfSxtLmlzU2FtZT1mdW5jdGlvbih0LGUpe3ZhciBuPU8odCk7cmV0dXJuIHRoaXMuc3RhcnRPZihlKTw9biYmbjw9dGhpcy5lbmRPZihlKX0sbS5pc0FmdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE8odCk8dGhpcy5zdGFydE9mKGUpfSxtLmlzQmVmb3JlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZW5kT2YoZSk8Tyh0KX0sbS4kZz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGIudSh0KT90aGlzW2VdOnRoaXMuc2V0KG4sdCl9LG0udW5peD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpLzFlMyl9LG0udmFsdWVPZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLmdldFRpbWUoKX0sbS5zdGFydE9mPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPSEhYi51KGUpfHxlLGY9Yi5wKHQpLGw9ZnVuY3Rpb24odCxlKXt2YXIgaT1iLncobi4kdT9EYXRlLlVUQyhuLiR5LGUsdCk6bmV3IERhdGUobi4keSxlLHQpLG4pO3JldHVybiByP2k6aS5lbmRPZihhKX0sJD1mdW5jdGlvbih0LGUpe3JldHVybiBiLncobi50b0RhdGUoKVt0XS5hcHBseShuLnRvRGF0ZShcInNcIiksKHI/WzAsMCwwLDBdOlsyMyw1OSw1OSw5OTldKS5zbGljZShlKSksbil9LHk9dGhpcy4kVyxNPXRoaXMuJE0sbT10aGlzLiRELHY9XCJzZXRcIisodGhpcy4kdT9cIlVUQ1wiOlwiXCIpO3N3aXRjaChmKXtjYXNlIGg6cmV0dXJuIHI/bCgxLDApOmwoMzEsMTEpO2Nhc2UgYzpyZXR1cm4gcj9sKDEsTSk6bCgwLE0rMSk7Y2FzZSBvOnZhciBnPXRoaXMuJGxvY2FsZSgpLndlZWtTdGFydHx8MCxEPSh5PGc/eSs3OnkpLWc7cmV0dXJuIGwocj9tLUQ6bSsoNi1EKSxNKTtjYXNlIGE6Y2FzZSBkOnJldHVybiAkKHYrXCJIb3Vyc1wiLDApO2Nhc2UgdTpyZXR1cm4gJCh2K1wiTWludXRlc1wiLDEpO2Nhc2UgczpyZXR1cm4gJCh2K1wiU2Vjb25kc1wiLDIpO2Nhc2UgaTpyZXR1cm4gJCh2K1wiTWlsbGlzZWNvbmRzXCIsMyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbG9uZSgpfX0sbS5lbmRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydE9mKHQsITEpfSxtLiRzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixvPWIucCh0KSxmPVwic2V0XCIrKHRoaXMuJHU/XCJVVENcIjpcIlwiKSxsPShuPXt9LG5bYV09ZitcIkRhdGVcIixuW2RdPWYrXCJEYXRlXCIsbltjXT1mK1wiTW9udGhcIixuW2hdPWYrXCJGdWxsWWVhclwiLG5bdV09ZitcIkhvdXJzXCIsbltzXT1mK1wiTWludXRlc1wiLG5baV09ZitcIlNlY29uZHNcIixuW3JdPWYrXCJNaWxsaXNlY29uZHNcIixuKVtvXSwkPW89PT1hP3RoaXMuJEQrKGUtdGhpcy4kVyk6ZTtpZihvPT09Y3x8bz09PWgpe3ZhciB5PXRoaXMuY2xvbmUoKS5zZXQoZCwxKTt5LiRkW2xdKCQpLHkuaW5pdCgpLHRoaXMuJGQ9eS5zZXQoZCxNYXRoLm1pbih0aGlzLiRELHkuZGF5c0luTW9udGgoKSkpLiRkfWVsc2UgbCYmdGhpcy4kZFtsXSgkKTtyZXR1cm4gdGhpcy5pbml0KCksdGhpc30sbS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLiRzZXQodCxlKX0sbS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbYi5wKHQpXSgpfSxtLmFkZD1mdW5jdGlvbihyLGYpe3ZhciBkLGw9dGhpcztyPU51bWJlcihyKTt2YXIgJD1iLnAoZikseT1mdW5jdGlvbih0KXt2YXIgZT1PKGwpO3JldHVybiBiLncoZS5kYXRlKGUuZGF0ZSgpK01hdGgucm91bmQodCpyKSksbCl9O2lmKCQ9PT1jKXJldHVybiB0aGlzLnNldChjLHRoaXMuJE0rcik7aWYoJD09PWgpcmV0dXJuIHRoaXMuc2V0KGgsdGhpcy4keStyKTtpZigkPT09YSlyZXR1cm4geSgxKTtpZigkPT09bylyZXR1cm4geSg3KTt2YXIgTT0oZD17fSxkW3NdPWUsZFt1XT1uLGRbaV09dCxkKVskXXx8MSxtPXRoaXMuJGQuZ2V0VGltZSgpK3IqTTtyZXR1cm4gYi53KG0sdGhpcyl9LG0uc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQoLTEqdCxlKX0sbS5mb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuJGxvY2FsZSgpO2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbi5pbnZhbGlkRGF0ZXx8bDt2YXIgcj10fHxcIllZWVktTU0tRERUSEg6bW06c3NaXCIsaT1iLnoodGhpcykscz10aGlzLiRILHU9dGhpcy4kbSxhPXRoaXMuJE0sbz1uLndlZWtkYXlzLGM9bi5tb250aHMsZj1uLm1lcmlkaWVtLGg9ZnVuY3Rpb24odCxuLGkscyl7cmV0dXJuIHQmJih0W25dfHx0KGUscikpfHxpW25dLnNsaWNlKDAscyl9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIGIucyhzJTEyfHwxMix0LFwiMFwiKX0sJD1mfHxmdW5jdGlvbih0LGUsbil7dmFyIHI9dDwxMj9cIkFNXCI6XCJQTVwiO3JldHVybiBuP3IudG9Mb3dlckNhc2UoKTpyfTtyZXR1cm4gci5yZXBsYWNlKHksKGZ1bmN0aW9uKHQscil7cmV0dXJuIHJ8fGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJZWVwiOnJldHVybiBTdHJpbmcoZS4keSkuc2xpY2UoLTIpO2Nhc2VcIllZWVlcIjpyZXR1cm4gYi5zKGUuJHksNCxcIjBcIik7Y2FzZVwiTVwiOnJldHVybiBhKzE7Y2FzZVwiTU1cIjpyZXR1cm4gYi5zKGErMSwyLFwiMFwiKTtjYXNlXCJNTU1cIjpyZXR1cm4gaChuLm1vbnRoc1Nob3J0LGEsYywzKTtjYXNlXCJNTU1NXCI6cmV0dXJuIGgoYyxhKTtjYXNlXCJEXCI6cmV0dXJuIGUuJEQ7Y2FzZVwiRERcIjpyZXR1cm4gYi5zKGUuJEQsMixcIjBcIik7Y2FzZVwiZFwiOnJldHVybiBTdHJpbmcoZS4kVyk7Y2FzZVwiZGRcIjpyZXR1cm4gaChuLndlZWtkYXlzTWluLGUuJFcsbywyKTtjYXNlXCJkZGRcIjpyZXR1cm4gaChuLndlZWtkYXlzU2hvcnQsZS4kVyxvLDMpO2Nhc2VcImRkZGRcIjpyZXR1cm4gb1tlLiRXXTtjYXNlXCJIXCI6cmV0dXJuIFN0cmluZyhzKTtjYXNlXCJISFwiOnJldHVybiBiLnMocywyLFwiMFwiKTtjYXNlXCJoXCI6cmV0dXJuIGQoMSk7Y2FzZVwiaGhcIjpyZXR1cm4gZCgyKTtjYXNlXCJhXCI6cmV0dXJuICQocyx1LCEwKTtjYXNlXCJBXCI6cmV0dXJuICQocyx1LCExKTtjYXNlXCJtXCI6cmV0dXJuIFN0cmluZyh1KTtjYXNlXCJtbVwiOnJldHVybiBiLnModSwyLFwiMFwiKTtjYXNlXCJzXCI6cmV0dXJuIFN0cmluZyhlLiRzKTtjYXNlXCJzc1wiOnJldHVybiBiLnMoZS4kcywyLFwiMFwiKTtjYXNlXCJTU1NcIjpyZXR1cm4gYi5zKGUuJG1zLDMsXCIwXCIpO2Nhc2VcIlpcIjpyZXR1cm4gaX1yZXR1cm4gbnVsbH0odCl8fGkucmVwbGFjZShcIjpcIixcIlwiKX0pKX0sbS51dGNPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTUqLU1hdGgucm91bmQodGhpcy4kZC5nZXRUaW1lem9uZU9mZnNldCgpLzE1KX0sbS5kaWZmPWZ1bmN0aW9uKHIsZCxsKXt2YXIgJCx5PXRoaXMsTT1iLnAoZCksbT1PKHIpLHY9KG0udXRjT2Zmc2V0KCktdGhpcy51dGNPZmZzZXQoKSkqZSxnPXRoaXMtbSxEPWZ1bmN0aW9uKCl7cmV0dXJuIGIubSh5LG0pfTtzd2l0Y2goTSl7Y2FzZSBoOiQ9RCgpLzEyO2JyZWFrO2Nhc2UgYzokPUQoKTticmVhaztjYXNlIGY6JD1EKCkvMzticmVhaztjYXNlIG86JD0oZy12KS82MDQ4ZTU7YnJlYWs7Y2FzZSBhOiQ9KGctdikvODY0ZTU7YnJlYWs7Y2FzZSB1OiQ9Zy9uO2JyZWFrO2Nhc2UgczokPWcvZTticmVhaztjYXNlIGk6JD1nL3Q7YnJlYWs7ZGVmYXVsdDokPWd9cmV0dXJuIGw/JDpiLmEoJCl9LG0uZGF5c0luTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRPZihjKS4kRH0sbS4kbG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIERbdGhpcy4kTF19LG0ubG9jYWxlPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMuJEw7dmFyIG49dGhpcy5jbG9uZSgpLHI9dyh0LGUsITApO3JldHVybiByJiYobi4kTD1yKSxufSxtLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIGIudyh0aGlzLiRkLHRoaXMpfSxtLnRvRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSl9LG0udG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMudG9JU09TdHJpbmcoKTpudWxsfSxtLnRvSVNPU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQudG9JU09TdHJpbmcoKX0sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLnRvVVRDU3RyaW5nKCl9LE19KCksaz1fLnByb3RvdHlwZTtyZXR1cm4gTy5wcm90b3R5cGU9ayxbW1wiJG1zXCIscl0sW1wiJHNcIixpXSxbXCIkbVwiLHNdLFtcIiRIXCIsdV0sW1wiJFdcIixhXSxbXCIkTVwiLGNdLFtcIiR5XCIsaF0sW1wiJERcIixkXV0uZm9yRWFjaCgoZnVuY3Rpb24odCl7a1t0WzFdXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kZyhlLHRbMF0sdFsxXSl9fSkpLE8uZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuJGl8fCh0KGUsXyxPKSx0LiRpPSEwKSxPfSxPLmxvY2FsZT13LE8uaXNEYXlqcz1TLE8udW5peD1mdW5jdGlvbih0KXtyZXR1cm4gTygxZTMqdCl9LE8uZW49RFtnXSxPLkxzPUQsTy5wPXt9LE99KSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/dayjs/dayjs.min.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/dayjs/locale/en.js":
/*!*****************************************!*\
  !*** ./node_modules/dayjs/locale/en.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("!function(e,n){ true?module.exports=n():0}(this,(function(){\"use strict\";return{name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(e){var n=[\"th\",\"st\",\"nd\",\"rd\"],t=e%100;return\"[\"+e+(n[(t-20)%10]||n[t]||n[0])+\"]\"}}}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9kYXlqcy9sb2NhbGUvZW4uanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxLQUFvRCxvQkFBb0IsQ0FBeUgsQ0FBQyxrQkFBa0IsYUFBYSxPQUFPLHVOQUF1TixvQ0FBb0MsNkNBQTZDIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL2RheWpzL2xvY2FsZS9lbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSxuKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShuKTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmRheWpzX2xvY2FsZV9lbj1uKCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJue25hbWU6XCJlblwiLHdlZWtkYXlzOlwiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXlcIi5zcGxpdChcIl9cIiksbW9udGhzOlwiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlclwiLnNwbGl0KFwiX1wiKSxvcmRpbmFsOmZ1bmN0aW9uKGUpe3ZhciBuPVtcInRoXCIsXCJzdFwiLFwibmRcIixcInJkXCJdLHQ9ZSUxMDA7cmV0dXJuXCJbXCIrZSsoblsodC0yMCklMTBdfHxuW3RdfHxuWzBdKStcIl1cIn19fSkpOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/dayjs/locale/en.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/dayjs/plugin/relativeTime.js":
/*!***************************************************!*\
  !*** ./node_modules/dayjs/plugin/relativeTime.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("!function(r,e){ true?module.exports=e():0}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9kYXlqcy9wbHVnaW4vcmVsYXRpdmVUaW1lLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQW1JLENBQUMsa0JBQWtCLGFBQWEsdUJBQXVCLFFBQVEscUJBQXFCLGtMQUFrTCxvQkFBb0IsNkJBQTZCLHFEQUFxRCw4REFBOEQsc0JBQXNCLEVBQUUsV0FBVyxFQUFFLHVCQUF1QixFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQUUsV0FBVyxFQUFFLHNCQUFzQixFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsaUJBQWlCLElBQUksTUFBTSxXQUFXLGdEQUFnRCw0Q0FBNEMsdUJBQXVCLHNCQUFzQixhQUFhLG1FQUFtRSxPQUFPLGNBQWMsd0JBQXdCLGtEQUFrRCxvQkFBb0Isc0JBQXNCLHNCQUFzQixvQkFBb0Isa0JBQWtCLHlCQUF5QixvQkFBb0IsMEJBQTBCLHVCQUF1Qiw4QkFBOEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvZGF5anMvcGx1Z2luL3JlbGF0aXZlVGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24ocixlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKToocj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnJ8fHNlbGYpLmRheWpzX3BsdWdpbl9yZWxhdGl2ZVRpbWU9ZSgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiBmdW5jdGlvbihyLGUsdCl7cj1yfHx7fTt2YXIgbj1lLnByb3RvdHlwZSxvPXtmdXR1cmU6XCJpbiAlc1wiLHBhc3Q6XCIlcyBhZ29cIixzOlwiYSBmZXcgc2Vjb25kc1wiLG06XCJhIG1pbnV0ZVwiLG1tOlwiJWQgbWludXRlc1wiLGg6XCJhbiBob3VyXCIsaGg6XCIlZCBob3Vyc1wiLGQ6XCJhIGRheVwiLGRkOlwiJWQgZGF5c1wiLE06XCJhIG1vbnRoXCIsTU06XCIlZCBtb250aHNcIix5OlwiYSB5ZWFyXCIseXk6XCIlZCB5ZWFyc1wifTtmdW5jdGlvbiBpKHIsZSx0LG8pe3JldHVybiBuLmZyb21Ub0Jhc2UocixlLHQsbyl9dC5lbi5yZWxhdGl2ZVRpbWU9byxuLmZyb21Ub0Jhc2U9ZnVuY3Rpb24oZSxuLGksZCx1KXtmb3IodmFyIGYsYSxzLGw9aS4kbG9jYWxlKCkucmVsYXRpdmVUaW1lfHxvLGg9ci50aHJlc2hvbGRzfHxbe2w6XCJzXCIscjo0NCxkOlwic2Vjb25kXCJ9LHtsOlwibVwiLHI6ODl9LHtsOlwibW1cIixyOjQ0LGQ6XCJtaW51dGVcIn0se2w6XCJoXCIscjo4OX0se2w6XCJoaFwiLHI6MjEsZDpcImhvdXJcIn0se2w6XCJkXCIscjozNX0se2w6XCJkZFwiLHI6MjUsZDpcImRheVwifSx7bDpcIk1cIixyOjQ1fSx7bDpcIk1NXCIscjoxMCxkOlwibW9udGhcIn0se2w6XCJ5XCIscjoxN30se2w6XCJ5eVwiLGQ6XCJ5ZWFyXCJ9XSxtPWgubGVuZ3RoLGM9MDtjPG07Yys9MSl7dmFyIHk9aFtjXTt5LmQmJihmPWQ/dChlKS5kaWZmKGkseS5kLCEwKTppLmRpZmYoZSx5LmQsITApKTt2YXIgcD0oci5yb3VuZGluZ3x8TWF0aC5yb3VuZCkoTWF0aC5hYnMoZikpO2lmKHM9Zj4wLHA8PXkucnx8IXkucil7cDw9MSYmYz4wJiYoeT1oW2MtMV0pO3ZhciB2PWxbeS5sXTt1JiYocD11KFwiXCIrcCkpLGE9XCJzdHJpbmdcIj09dHlwZW9mIHY/di5yZXBsYWNlKFwiJWRcIixwKTp2KHAsbix5Lmwscyk7YnJlYWt9fWlmKG4pcmV0dXJuIGE7dmFyIE09cz9sLmZ1dHVyZTpsLnBhc3Q7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgTT9NKGEpOk0ucmVwbGFjZShcIiVzXCIsYSl9LG4udG89ZnVuY3Rpb24ocixlKXtyZXR1cm4gaShyLGUsdGhpcywhMCl9LG4uZnJvbT1mdW5jdGlvbihyLGUpe3JldHVybiBpKHIsZSx0aGlzKX07dmFyIGQ9ZnVuY3Rpb24ocil7cmV0dXJuIHIuJHU/dC51dGMoKTp0KCl9O24udG9Ob3c9ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMudG8oZCh0aGlzKSxyKX0sbi5mcm9tTm93PWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLmZyb20oZCh0aGlzKSxyKX19fSkpOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/dayjs/plugin/relativeTime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/dayjs/plugin/updateLocale.js":
/*!***************************************************!*\
  !*** ./node_modules/dayjs/plugin/updateLocale.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("!function(e,n){ true?module.exports=n():0}(this,(function(){\"use strict\";return function(e,n,t){t.updateLocale=function(e,n){var o=t.Ls[e];if(o)return(n?Object.keys(n):[]).forEach((function(e){o[e]=n[e]})),o}}}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9kYXlqcy9wbHVnaW4vdXBkYXRlTG9jYWxlLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQW1JLENBQUMsa0JBQWtCLGFBQWEsdUJBQXVCLDZCQUE2QixjQUFjLHNEQUFzRCxVQUFVLE9BQU8iLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvZGF5anMvcGx1Z2luL3VwZGF0ZUxvY2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSxuKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShuKTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmRheWpzX3BsdWdpbl91cGRhdGVMb2NhbGU9bigpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiBmdW5jdGlvbihlLG4sdCl7dC51cGRhdGVMb2NhbGU9ZnVuY3Rpb24oZSxuKXt2YXIgbz10LkxzW2VdO2lmKG8pcmV0dXJuKG4/T2JqZWN0LmtleXMobik6W10pLmZvckVhY2goKGZ1bmN0aW9uKGUpe29bZV09bltlXX0pKSxvfX19KSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/dayjs/plugin/updateLocale.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lit/reactive-element/development/css-tag.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/css-tag.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* binding */ CSSResult),\n/* harmony export */   adoptStyles: () => (/* binding */ adoptStyles),\n/* harmony export */   css: () => (/* binding */ css),\n/* harmony export */   getCompatibleStyle: () => (/* binding */ getCompatibleStyle),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* binding */ supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* binding */ unsafeCSS)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst NODE_MODE = false;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nconst supportsAdoptingStyleSheets = global.ShadowRoot &&\n    (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&\n    'adoptedStyleSheets' in Document.prototype &&\n    'replace' in CSSStyleSheet.prototype;\nconst constructionToken = Symbol();\nconst cssTagCache = new WeakMap();\n/**\n * A container for a string of CSS text, that may be used to create a CSSStyleSheet.\n *\n * CSSResult is the return value of `css`-tagged template literals and\n * `unsafeCSS()`. In order to ensure that CSSResults are only created via the\n * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.\n */\nclass CSSResult {\n    constructor(cssText, strings, safeToken) {\n        // This property needs to remain unminified.\n        this['_$cssResult$'] = true;\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n        this._strings = strings;\n    }\n    // This is a getter so that it's lazy. In practice, this means stylesheets\n    // are not created until the first element instance is made.\n    get styleSheet() {\n        // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is\n        // constructable.\n        let styleSheet = this._styleSheet;\n        const strings = this._strings;\n        if (supportsAdoptingStyleSheets && styleSheet === undefined) {\n            const cacheable = strings !== undefined && strings.length === 1;\n            if (cacheable) {\n                styleSheet = cssTagCache.get(strings);\n            }\n            if (styleSheet === undefined) {\n                (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(this.cssText);\n                if (cacheable) {\n                    cssTagCache.set(strings, styleSheet);\n                }\n            }\n        }\n        return styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\nconst textFromCSSResult = (value) => {\n    // This property needs to remain unminified.\n    if (value['_$cssResult$'] === true) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ` +\n            `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +\n            `to ensure page security.`);\n    }\n};\n/**\n * Wrap a value for interpolation in a {@linkcode css} tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nconst unsafeCSS = (value) => new CSSResult(typeof value === 'string' ? value : String(value), undefined, constructionToken);\n/**\n * A template literal tag which can be used with LitElement's\n * {@linkcode LitElement.styles} property to set element styles.\n *\n * For security reasons, only literal string values and number may be used in\n * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}\n * may be used inside an expression.\n */\nconst css = (strings, ...values) => {\n    const cssText = strings.length === 1\n        ? strings[0]\n        : values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, strings, constructionToken);\n};\n/**\n * Applies the given styles to a `shadowRoot`. When Shadow DOM is\n * available but `adoptedStyleSheets` is not, styles are appended to the\n * `shadowRoot` to [mimic the native feature](https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets).\n * Note, when shimming is used, any styles that are subsequently placed into\n * the shadowRoot should be placed *before* any shimmed adopted styles. This\n * will match spec behavior that gives adopted sheets precedence over styles in\n * shadowRoot.\n */\nconst adoptStyles = (renderRoot, styles) => {\n    if (supportsAdoptingStyleSheets) {\n        renderRoot.adoptedStyleSheets = styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n    }\n    else {\n        for (const s of styles) {\n            const style = document.createElement('style');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const nonce = global['litNonce'];\n            if (nonce !== undefined) {\n                style.setAttribute('nonce', nonce);\n            }\n            style.textContent = s.cssText;\n            renderRoot.appendChild(style);\n        }\n    }\n};\nconst cssResultFromStyleSheet = (sheet) => {\n    let cssText = '';\n    for (const rule of sheet.cssRules) {\n        cssText += rule.cssText;\n    }\n    return unsafeCSS(cssText);\n};\nconst getCompatibleStyle = supportsAdoptingStyleSheets ||\n    (NODE_MODE && global.CSSStyleSheet === undefined)\n    ? (s) => s\n    : (s) => s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;\n//# sourceMappingURL=css-tag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvY3NzLXRhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsSUFBSSw2QkFBNkI7QUFDakM7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvY3NzLXRhZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuLyoqXG4gKiBXaGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgc3VwcG9ydHMgYGFkb3B0ZWRTdHlsZVNoZWV0c2AuXG4gKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSBnbG9iYWwuU2hhZG93Um9vdCAmJlxuICAgIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAgICdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSAmJlxuICAgICdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZTtcbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5jb25zdCBjc3NUYWdDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBhIHN0cmluZyBvZiBDU1MgdGV4dCwgdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGUgYSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIENTU1Jlc3VsdCBpcyB0aGUgcmV0dXJuIHZhbHVlIG9mIGBjc3NgLXRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFscyBhbmRcbiAqIGB1bnNhZmVDU1MoKWAuIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IENTU1Jlc3VsdHMgYXJlIG9ubHkgY3JlYXRlZCB2aWEgdGhlXG4gKiBgY3NzYCB0YWcgYW5kIGB1bnNhZmVDU1MoKWAsIENTU1Jlc3VsdCBjYW5ub3QgYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQsIHN0cmluZ3MsIHNhZmVUb2tlbikge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICB0aGlzWydfJGNzc1Jlc3VsdCQnXSA9IHRydWU7XG4gICAgICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgdGhpcy5fc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zIHN0eWxlc2hlZXRzXG4gICAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgICAgICAvLyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICBsZXQgc3R5bGVTaGVldCA9IHRoaXMuX3N0eWxlU2hlZXQ7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgICAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzICYmIHN0eWxlU2hlZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVhYmxlID0gc3RyaW5ncyAhPT0gdW5kZWZpbmVkICYmIHN0cmluZ3MubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgaWYgKGNhY2hlYWJsZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuX3N0eWxlU2hlZXQgPSBzdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKSkucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RhZ0NhY2hlLnNldChzdHJpbmdzLCBzdHlsZVNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlU2hlZXQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICAgIH1cbn1cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBpZiAodmFsdWVbJ18kY3NzUmVzdWx0JCddID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6IGAgK1xuICAgICAgICAgICAgYCR7dmFsdWV9LiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgYCArXG4gICAgICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gICAgfVxufTtcbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWUpID0+IG5ldyBDU1NSZXN1bHQodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKSwgdW5kZWZpbmVkLCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG4vKipcbiAqIEEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCBMaXRFbGVtZW50J3NcbiAqIHtAbGlua2NvZGUgTGl0RWxlbWVudC5zdHlsZXN9IHByb3BlcnR5IHRvIHNldCBlbGVtZW50IHN0eWxlcy5cbiAqXG4gKiBGb3Igc2VjdXJpdHkgcmVhc29ucywgb25seSBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgYW5kIG51bWJlciBtYXkgYmUgdXNlZCBpblxuICogZW1iZWRkZWQgZXhwcmVzc2lvbnMuIFRvIGluY29ycG9yYXRlIG5vbi1saXRlcmFsIHZhbHVlcyB7QGxpbmtjb2RlIHVuc2FmZUNTU31cbiAqIG1heSBiZSB1c2VkIGluc2lkZSBhbiBleHByZXNzaW9uLlxuICovXG5leHBvcnQgY29uc3QgY3NzID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGNzc1RleHQgPSBzdHJpbmdzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IHN0cmluZ3NbMF1cbiAgICAgICAgOiB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChjc3NUZXh0LCBzdHJpbmdzLCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHRoZSBuYXRpdmUgZmVhdHVyZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NoYWRvd1Jvb3QvYWRvcHRlZFN0eWxlU2hlZXRzKS5cbiAqIE5vdGUsIHdoZW4gc2hpbW1pbmcgaXMgdXNlZCwgYW55IHN0eWxlcyB0aGF0IGFyZSBzdWJzZXF1ZW50bHkgcGxhY2VkIGludG9cbiAqIHRoZSBzaGFkb3dSb290IHNob3VsZCBiZSBwbGFjZWQgKmJlZm9yZSogYW55IHNoaW1tZWQgYWRvcHRlZCBzdHlsZXMuIFRoaXNcbiAqIHdpbGwgbWF0Y2ggc3BlYyBiZWhhdmlvciB0aGF0IGdpdmVzIGFkb3B0ZWQgc2hlZXRzIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAqIHNoYWRvd1Jvb3QuXG4gKi9cbmV4cG9ydCBjb25zdCBhZG9wdFN0eWxlcyA9IChyZW5kZXJSb290LCBzdHlsZXMpID0+IHtcbiAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAgIHJlbmRlclJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzID0gc3R5bGVzLm1hcCgocykgPT4gcyBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyBzIDogcy5zdHlsZVNoZWV0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBzdHlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjb25zdCBub25jZSA9IGdsb2JhbFsnbGl0Tm9uY2UnXTtcbiAgICAgICAgICAgIGlmIChub25jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gcy5jc3NUZXh0O1xuICAgICAgICAgICAgcmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQgPSAoc2hlZXQpID0+IHtcbiAgICBsZXQgY3NzVGV4dCA9ICcnO1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiBzaGVldC5jc3NSdWxlcykge1xuICAgICAgICBjc3NUZXh0ICs9IHJ1bGUuY3NzVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUNTUyhjc3NUZXh0KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0Q29tcGF0aWJsZVN0eWxlID0gc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIHx8XG4gICAgKE5PREVfTU9ERSAmJiBnbG9iYWwuQ1NTU3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKVxuICAgID8gKHMpID0+IHNcbiAgICA6IChzKSA9PiBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0KHMpIDogcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lit/reactive-element/development/css-tag.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lit/reactive-element/development/reactive-element.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/reactive-element.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.CSSResult),\n/* harmony export */   ReactiveElement: () => (/* binding */ ReactiveElement),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* binding */ defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),\n/* harmony export */   notEqual: () => (/* binding */ notEqual),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _css_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css-tag.js */ \"(app-pages-browser)/./node_modules/@lit/reactive-element/development/css-tag.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Use this module if you want to create your own base class extending\n * {@link ReactiveElement}.\n * @packageDocumentation\n */\n\n// In the Node build, this import will be injected by Rollup:\n// import {HTMLElement, customElements} from '@lit-labs/ssr-dom-shim';\n\n// TODO (justinfagnani): Add `hasOwn` here when we ship ES2022\nconst { is, defineProperty, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, getPrototypeOf, } = Object;\nconst NODE_MODE = false;\n// Lets a minifier replace globalThis references with a minified name\nconst global = globalThis;\nif (NODE_MODE) {\n    global.customElements ??= customElements;\n}\nconst DEV_MODE = true;\nlet issueWarning;\nconst trustedTypes = global\n    .trustedTypes;\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nconst polyfillSupport = DEV_MODE\n    ? global.reactiveElementPolyfillSupportDevMode\n    : global.reactiveElementPolyfillSupport;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    queueMicrotask(() => {\n        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n        // Issue polyfill support warning.\n        if (global.ShadyDOM?.inUse && polyfillSupport === undefined) {\n            issueWarning('polyfill-support-missing', `Shadow DOM is being polyfilled via \\`ShadyDOM\\` but ` +\n                `the \\`polyfill-support\\` module has not been loaded.`);\n        }\n    });\n}\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n    ? (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    : undefined;\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                value = value ? emptyStringForBooleanAttribute : null;\n                break;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                value = value == null ? value : JSON.stringify(value);\n                break;\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        let fromValue = value;\n        switch (type) {\n            case Boolean:\n                fromValue = value !== null;\n                break;\n            case Number:\n                fromValue = value === null ? null : Number(value);\n                break;\n            case Object:\n            case Array:\n                // Do *not* generate exception when invalid JSON is set as elements\n                // don't normally complain on being mis-configured.\n                // TODO(sorvell): Do generate exception in *dev mode*.\n                try {\n                    // Assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n                    fromValue = JSON.parse(value);\n                }\n                catch (e) {\n                    fromValue = null;\n                }\n                break;\n        }\n        return fromValue;\n    },\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nconst notEqual = (value, old) => !is(value, old);\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    useDefault: false,\n    hasChanged: notEqual,\n};\n// Ensure metadata is enabled. TypeScript does not polyfill\n// Symbol.metadata, so we must ensure that it exists.\nSymbol.metadata ??= Symbol('metadata');\n// Map from a class's metadata object to property options\n// Note that we must use nullish-coalescing assignment so that we only use one\n// map even if we load multiple version of this module.\nglobal.litPropertyMetadata ??= new WeakMap();\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclasses to render updates as desired.\n * @noInheritDoc\n */\nclass ReactiveElement\n// In the Node build, this `extends` clause will be substituted with\n// `(globalThis.HTMLElement ?? HTMLElement)`.\n//\n// This way, we will first prefer any global `HTMLElement` polyfill that the\n// user has assigned, and then fall back to the `HTMLElement` shim which has\n// been imported (see note at the top of this file about how this import is\n// generated by Rollup). Note that the `HTMLElement` variable has been\n// shadowed by this import, so it no longer refers to the global.\n extends HTMLElement {\n    /**\n     * Adds an initializer function to the class that is called during instance\n     * construction.\n     *\n     * This is useful for code that runs against a `ReactiveElement`\n     * subclass, such as a decorator, that needs to do work for each\n     * instance, such as setting up a `ReactiveController`.\n     *\n     * ```ts\n     * const myDecorator = (target: typeof ReactiveElement, key: string) => {\n     *   target.addInitializer((instance: ReactiveElement) => {\n     *     // This is run during construction of the element\n     *     new MyController(instance);\n     *   });\n     * }\n     * ```\n     *\n     * Decorating a field will then cause each instance to run an initializer\n     * that adds a controller:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   @myDecorator foo;\n     * }\n     * ```\n     *\n     * Initializers are stored per-constructor. Adding an initializer to a\n     * subclass does not add it to a superclass. Since initializers are run in\n     * constructors, initializers will run in order of the class hierarchy,\n     * starting with superclasses and progressing to the instance's class.\n     *\n     * @nocollapse\n     */\n    static addInitializer(initializer) {\n        this.__prepare();\n        (this._initializers ??= []).push(initializer);\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     * @category attributes\n     */\n    static get observedAttributes() {\n        // Ensure we've created all properties\n        this.finalize();\n        // this.__attributeToPropertyMap is only undefined after finalize() in\n        // ReactiveElement itself. ReactiveElement.observedAttributes is only\n        // accessed with ReactiveElement as the receiver when a subclass or mixin\n        // calls super.observedAttributes\n        return (this.__attributeToPropertyMap && [...this.__attributeToPropertyMap.keys()]);\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a {@linkcode PropertyDeclaration} for the property with the\n     * given options. The property setter calls the property's `hasChanged`\n     * property option or uses a strict identity check to determine whether or not\n     * to request an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * ```ts\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // If this is a state property, force the attribute to false.\n        if (options.state) {\n            options.attribute = false;\n        }\n        this.__prepare();\n        // Whether this property is wrapping accessors.\n        // Helps control the initial value change and reflection logic.\n        if (this.prototype.hasOwnProperty(name)) {\n            options = Object.create(options);\n            options.wrapped = true;\n        }\n        this.elementProperties.set(name, options);\n        if (!options.noAccessor) {\n            const key = DEV_MODE\n                ? // Use Symbol.for in dev mode to make it easier to maintain state\n                    // when doing HMR.\n                    Symbol.for(`${String(name)} (@property() cache)`)\n                : Symbol();\n            const descriptor = this.getPropertyDescriptor(name, key, options);\n            if (descriptor !== undefined) {\n                defineProperty(this.prototype, name, descriptor);\n            }\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   static getPropertyDescriptor(name, key, options) {\n     *     const defaultDescriptor =\n     *         super.getPropertyDescriptor(name, key, options);\n     *     const setter = defaultDescriptor.set;\n     *     return {\n     *       get: defaultDescriptor.get,\n     *       set(value) {\n     *         setter.call(this, value);\n     *         // custom action.\n     *       },\n     *       configurable: true,\n     *       enumerable: true\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static getPropertyDescriptor(name, key, options) {\n        const { get, set } = getOwnPropertyDescriptor(this.prototype, name) ?? {\n            get() {\n                return this[key];\n            },\n            set(v) {\n                this[key] = v;\n            },\n        };\n        if (DEV_MODE && get == null) {\n            if ('value' in (getOwnPropertyDescriptor(this.prototype, name) ?? {})) {\n                throw new Error(`Field ${JSON.stringify(String(name))} on ` +\n                    `${this.name} was declared as a reactive property ` +\n                    `but it's actually declared as a value on the prototype. ` +\n                    `Usually this is due to using @property or @state on a method.`);\n            }\n            issueWarning('reactive-property-without-getter', `Field ${JSON.stringify(String(name))} on ` +\n                `${this.name} was declared as a reactive property ` +\n                `but it does not have a getter. This will be an error in a ` +\n                `future version of Lit.`);\n        }\n        return {\n            get,\n            set(value) {\n                const oldValue = get?.call(this);\n                set?.call(this, value);\n                this.requestUpdate(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true,\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a `PropertyDeclaration` via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override\n     * {@linkcode createProperty}.\n     *\n     * @nocollapse\n     * @final\n     * @category properties\n     */\n    static getPropertyOptions(name) {\n        return this.elementProperties.get(name) ?? defaultPropertyDeclaration;\n    }\n    /**\n     * Initializes static own properties of the class used in bookkeeping\n     * for element properties, initializers, etc.\n     *\n     * Can be called multiple times by code that needs to ensure these\n     * properties exist before using them.\n     *\n     * This method ensures the superclass is finalized so that inherited\n     * property metadata can be copied down.\n     * @nocollapse\n     */\n    static __prepare() {\n        if (this.hasOwnProperty(JSCompiler_renameProperty('elementProperties', this))) {\n            // Already prepared\n            return;\n        }\n        // Finalize any superclasses\n        const superCtor = getPrototypeOf(this);\n        superCtor.finalize();\n        // Create own set of initializers for this class if any exist on the\n        // superclass and copy them down. Note, for a small perf boost, avoid\n        // creating initializers unless needed.\n        if (superCtor._initializers !== undefined) {\n            this._initializers = [...superCtor._initializers];\n        }\n        // Initialize elementProperties from the superclass\n        this.elementProperties = new Map(superCtor.elementProperties);\n    }\n    /**\n     * Finishes setting up the class so that it's ready to be registered\n     * as a custom element and instantiated.\n     *\n     * This method is called by the ReactiveElement.observedAttributes getter.\n     * If you override the observedAttributes getter, you must either call\n     * super.observedAttributes to trigger finalization, or call finalize()\n     * yourself.\n     *\n     * @nocollapse\n     */\n    static finalize() {\n        if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this))) {\n            return;\n        }\n        this.finalized = true;\n        this.__prepare();\n        // Create properties from the static properties block:\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            const propKeys = [\n                ...getOwnPropertyNames(props),\n                ...getOwnPropertySymbols(props),\n            ];\n            for (const p of propKeys) {\n                this.createProperty(p, props[p]);\n            }\n        }\n        // Create properties from standard decorator metadata:\n        const metadata = this[Symbol.metadata];\n        if (metadata !== null) {\n            const properties = litPropertyMetadata.get(metadata);\n            if (properties !== undefined) {\n                for (const [p, options] of properties) {\n                    this.elementProperties.set(p, options);\n                }\n            }\n        }\n        // Create the attribute-to-property map\n        this.__attributeToPropertyMap = new Map();\n        for (const [p, options] of this.elementProperties) {\n            const attr = this.__attributeNameForProperty(p, options);\n            if (attr !== undefined) {\n                this.__attributeToPropertyMap.set(attr, p);\n            }\n        }\n        this.elementStyles = this.finalizeStyles(this.styles);\n        if (DEV_MODE) {\n            if (this.hasOwnProperty('createProperty')) {\n                issueWarning('no-override-create-property', 'Overriding ReactiveElement.createProperty() is deprecated. ' +\n                    'The override will not be called with standard decorators');\n            }\n            if (this.hasOwnProperty('getPropertyDescriptor')) {\n                issueWarning('no-override-get-property-descriptor', 'Overriding ReactiveElement.getPropertyDescriptor() is deprecated. ' +\n                    'The override will not be called with standard decorators');\n            }\n        }\n    }\n    /**\n     * Takes the styles the user supplied via the `static styles` property and\n     * returns the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * Styles are deduplicated preserving the _last_ instance in the list. This\n     * is a performance optimization to avoid duplicated styles that can occur\n     * especially when composing via subclassing. The last item is kept to try\n     * to preserve the cascade order with the assumption that it's most important\n     * that last added styles override previous styles.\n     *\n     * @nocollapse\n     * @category styles\n     */\n    static finalizeStyles(styles) {\n        const elementStyles = [];\n        if (Array.isArray(styles)) {\n            // Dedupe the flattened array in reverse order to preserve the last items.\n            // Casting to Array<unknown> works around TS error that\n            // appears to come from trying to flatten a type CSSResultArray.\n            const set = new Set(styles.flat(Infinity).reverse());\n            // Then preserve original order by adding the set items in reverse order.\n            for (const s of set) {\n                elementStyles.unshift((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(s));\n            }\n        }\n        else if (styles !== undefined) {\n            elementStyles.push((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(styles));\n        }\n        return elementStyles;\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static __attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false\n            ? undefined\n            : typeof attribute === 'string'\n                ? attribute\n                : typeof name === 'string'\n                    ? name.toLowerCase()\n                    : undefined;\n    }\n    constructor() {\n        super();\n        this.__instanceProperties = undefined;\n        /**\n         * True if there is a pending update as a result of calling `requestUpdate()`.\n         * Should only be read.\n         * @category updates\n         */\n        this.isUpdatePending = false;\n        /**\n         * Is set to `true` after the first update. The element code cannot assume\n         * that `renderRoot` exists before the element `hasUpdated`.\n         * @category updates\n         */\n        this.hasUpdated = false;\n        /**\n         * Name of currently reflecting property\n         */\n        this.__reflectingProperty = null;\n        this.__initialize();\n    }\n    /**\n     * Internal only override point for customizing work done when elements\n     * are constructed.\n     */\n    __initialize() {\n        this.__updatePromise = new Promise((res) => (this.enableUpdating = res));\n        this._$changedProperties = new Map();\n        // This enqueues a microtask that must run before the first update, so it\n        // must be called before requestUpdate()\n        this.__saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdate();\n        this.constructor._initializers?.forEach((i) => i(this));\n    }\n    /**\n     * Registers a `ReactiveController` to participate in the element's reactive\n     * update cycle. The element automatically calls into any registered\n     * controllers during its lifecycle callbacks.\n     *\n     * If the element is connected when `addController()` is called, the\n     * controller's `hostConnected()` callback will be immediately called.\n     * @category controllers\n     */\n    addController(controller) {\n        (this.__controllers ??= new Set()).add(controller);\n        // If a controller is added after the element has been connected,\n        // call hostConnected. Note, re-using existence of `renderRoot` here\n        // (which is set in connectedCallback) to avoid the need to track a\n        // first connected state.\n        if (this.renderRoot !== undefined && this.isConnected) {\n            controller.hostConnected?.();\n        }\n    }\n    /**\n     * Removes a `ReactiveController` from the element.\n     * @category controllers\n     */\n    removeController(controller) {\n        this.__controllers?.delete(controller);\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs.\n     */\n    __saveInstanceProperties() {\n        const instanceProperties = new Map();\n        const elementProperties = this.constructor\n            .elementProperties;\n        for (const p of elementProperties.keys()) {\n            if (this.hasOwnProperty(p)) {\n                instanceProperties.set(p, this[p]);\n                delete this[p];\n            }\n        }\n        if (instanceProperties.size > 0) {\n            this.__instanceProperties = instanceProperties;\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     *\n     * @return Returns a node into which to render.\n     * @category rendering\n     */\n    createRenderRoot() {\n        const renderRoot = this.shadowRoot ??\n            this.attachShadow(this.constructor.shadowRootOptions);\n        (0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.adoptStyles)(renderRoot, this.constructor.elementStyles);\n        return renderRoot;\n    }\n    /**\n     * On first connection, creates the element's renderRoot, sets up\n     * element styling, and enables updating.\n     * @category lifecycle\n     */\n    connectedCallback() {\n        // Create renderRoot before controllers `hostConnected`\n        this.renderRoot ??=\n            this.createRenderRoot();\n        this.enableUpdating(true);\n        this.__controllers?.forEach((c) => c.hostConnected?.());\n    }\n    /**\n     * Note, this method should be considered final and not overridden. It is\n     * overridden on the element instance with a function that triggers the first\n     * update.\n     * @category updates\n     */\n    enableUpdating(_requestedUpdate) { }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        this.__controllers?.forEach((c) => c.hostDisconnected?.());\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     *\n     * Specifically, when an attribute is set, the corresponding property is set.\n     * You should rarely need to implement this callback. If this method is\n     * overridden, `super.attributeChangedCallback(name, _old, value)` must be\n     * called.\n     *\n     * See [responding to attribute changes](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#responding_to_attribute_changes)\n     * on MDN for more information about the `attributeChangedCallback`.\n     * @category attributes\n     */\n    attributeChangedCallback(name, _old, value) {\n        this._$attributeToProperty(name, value);\n    }\n    __propertyToAttribute(name, value) {\n        const elemProperties = this.constructor.elementProperties;\n        const options = elemProperties.get(name);\n        const attr = this.constructor.__attributeNameForProperty(name, options);\n        if (attr !== undefined && options.reflect === true) {\n            const converter = options.converter?.toAttribute !==\n                undefined\n                ? options.converter\n                : defaultConverter;\n            const attrValue = converter.toAttribute(value, options.type);\n            if (DEV_MODE &&\n                this.constructor.enabledWarnings.includes('migration') &&\n                attrValue === undefined) {\n                issueWarning('undefined-attribute-value', `The attribute value for the ${name} property is ` +\n                    `undefined on element ${this.localName}. The attribute will be ` +\n                    `removed, but in the previous version of \\`ReactiveElement\\`, ` +\n                    `the attribute would not have changed.`);\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this.__reflectingProperty = name;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /** @internal */\n    _$attributeToProperty(name, value) {\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        const propName = ctor.__attributeToPropertyMap.get(name);\n        // Use tracking info to avoid reflecting a property value to an attribute\n        // if it was just set because the attribute changed.\n        if (propName !== undefined && this.__reflectingProperty !== propName) {\n            const options = ctor.getPropertyOptions(propName);\n            const converter = typeof options.converter === 'function'\n                ? { fromAttribute: options.converter }\n                : options.converter?.fromAttribute !== undefined\n                    ? options.converter\n                    : defaultConverter;\n            // mark state reflecting\n            this.__reflectingProperty = propName;\n            const convertedValue = converter.fromAttribute(value, options.type);\n            this[propName] =\n                convertedValue ??\n                    this.__defaultValues?.get(propName) ??\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    convertedValue;\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should be called\n     * when an element should update based on some state not triggered by setting\n     * a reactive property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored.\n     *\n     * @param name name of requesting property\n     * @param oldValue old value of requesting property\n     * @param options property options to use instead of the previously\n     *     configured options\n     * @category updates\n     */\n    requestUpdate(name, oldValue, options) {\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            if (DEV_MODE && name instanceof Event) {\n                issueWarning(``, `The requestUpdate() method was called with an Event as the property name. This is probably a mistake caused by binding this.requestUpdate as an event listener. Instead bind a function that will call it with no arguments: () => this.requestUpdate()`);\n            }\n            const ctor = this.constructor;\n            const newValue = this[name];\n            options ??= ctor.getPropertyOptions(name);\n            const changed = (options.hasChanged ?? notEqual)(newValue, oldValue) ||\n                // When there is no change, check a corner case that can occur when\n                // 1. there's a initial value which was not reflected\n                // 2. the property is subsequently set to this value.\n                // For example, `prop: {useDefault: true, reflect: true}`\n                // and el.prop = 'foo'. This should be considered a change if the\n                // attribute is not set because we will now reflect the property to the attribute.\n                (options.useDefault &&\n                    options.reflect &&\n                    newValue === this.__defaultValues?.get(name) &&\n                    !this.hasAttribute(ctor.__attributeNameForProperty(name, options)));\n            if (changed) {\n                this._$changeProperty(name, oldValue, options);\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                return;\n            }\n        }\n        if (this.isUpdatePending === false) {\n            this.__updatePromise = this.__enqueueUpdate();\n        }\n    }\n    /**\n     * @internal\n     */\n    _$changeProperty(name, oldValue, { useDefault, reflect, wrapped }, initializeValue) {\n        // Record default value when useDefault is used. This allows us to\n        // restore this value when the attribute is removed.\n        if (useDefault && !(this.__defaultValues ??= new Map()).has(name)) {\n            this.__defaultValues.set(name, initializeValue ?? oldValue ?? this[name]);\n            // if this is not wrapping an accessor, it must be an initial setting\n            // and in this case we do not want to record the change or reflect.\n            if (wrapped !== true || initializeValue !== undefined) {\n                return;\n            }\n        }\n        // TODO (justinfagnani): Create a benchmark of Map.has() + Map.set(\n        // vs just Map.set()\n        if (!this._$changedProperties.has(name)) {\n            // On the initial change, the old value should be `undefined`, except\n            // with `useDefault`\n            if (!this.hasUpdated && !useDefault) {\n                oldValue = undefined;\n            }\n            this._$changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `__reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (reflect === true && this.__reflectingProperty !== name) {\n            (this.__reflectingProperties ??= new Set()).add(name);\n        }\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async __enqueueUpdate() {\n        this.isUpdatePending = true;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this.__updatePromise;\n        }\n        catch (e) {\n            // Refire any previous errors async so they do not disrupt the update\n            // cycle. Errors are refired so developers have a chance to observe\n            // them, and this can be done by implementing\n            // `window.onunhandledrejection`.\n            Promise.reject(e);\n        }\n        const result = this.scheduleUpdate();\n        // If `scheduleUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this.isUpdatePending;\n    }\n    /**\n     * Schedules an element update. You can override this method to change the\n     * timing of updates by returning a Promise. The update will await the\n     * returned Promise, and you should resolve the Promise to allow the update\n     * to proceed. If this method is overridden, `super.scheduleUpdate()`\n     * must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```ts\n     * override protected async scheduleUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.scheduleUpdate();\n     * }\n     * ```\n     * @category updates\n     */\n    scheduleUpdate() {\n        const result = this.performUpdate();\n        if (DEV_MODE &&\n            this.constructor.enabledWarnings.includes('async-perform-update') &&\n            typeof result?.then ===\n                'function') {\n            issueWarning('async-perform-update', `Element ${this.localName} returned a Promise from performUpdate(). ` +\n                `This behavior is deprecated and will be removed in a future ` +\n                `version of ReactiveElement.`);\n        }\n        return result;\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * Call `performUpdate()` to immediately process a pending update. This should\n     * generally not be needed, but it can be done in rare cases when you need to\n     * update synchronously.\n     *\n     * @category updates\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this.isUpdatePending) {\n            return;\n        }\n        debugLogEvent?.({ kind: 'update' });\n        if (!this.hasUpdated) {\n            // Create renderRoot before first update. This occurs in `connectedCallback`\n            // but is done here to support out of tree calls to `enableUpdating`/`performUpdate`.\n            this.renderRoot ??=\n                this.createRenderRoot();\n            if (DEV_MODE) {\n                // Produce warning if any reactive properties on the prototype are\n                // shadowed by class fields. Instance fields set before upgrade are\n                // deleted by this point, so any own property is caused by class field\n                // initialization in the constructor.\n                const ctor = this.constructor;\n                const shadowedProperties = [...ctor.elementProperties.keys()].filter((p) => this.hasOwnProperty(p) && p in getPrototypeOf(this));\n                if (shadowedProperties.length) {\n                    throw new Error(`The following properties on element ${this.localName} will not ` +\n                        `trigger updates as expected because they are set using class ` +\n                        `fields: ${shadowedProperties.join(', ')}. ` +\n                        `Native class fields and some compiled output will overwrite ` +\n                        `accessors used for detecting changes. See ` +\n                        `https://lit.dev/msg/class-field-shadowing ` +\n                        `for more information.`);\n                }\n            }\n            // Mixin instance properties once, if they exist.\n            if (this.__instanceProperties) {\n                // TODO (justinfagnani): should we use the stored value? Could a new value\n                // have been set since we stored the own property value?\n                for (const [p, value] of this.__instanceProperties) {\n                    this[p] = value;\n                }\n                this.__instanceProperties = undefined;\n            }\n            // Trigger initial value reflection and populate the initial\n            // `changedProperties` map, but only for the case of properties created\n            // via `createProperty` on accessors, which will not have already\n            // populated the `changedProperties` map since they are not set.\n            // We can't know if these accessors had initializers, so we just set\n            // them anyway - a difference from experimental decorators on fields and\n            // standard decorators on auto-accessors.\n            // For context see:\n            // https://github.com/lit/lit/pull/4183#issuecomment-1711959635\n            const elementProperties = this.constructor\n                .elementProperties;\n            if (elementProperties.size > 0) {\n                for (const [p, options] of elementProperties) {\n                    const { wrapped } = options;\n                    const value = this[p];\n                    if (wrapped === true &&\n                        !this._$changedProperties.has(p) &&\n                        value !== undefined) {\n                        this._$changeProperty(p, undefined, options, value);\n                    }\n                }\n            }\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._$changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.willUpdate(changedProperties);\n                this.__controllers?.forEach((c) => c.hostUpdate?.());\n                this.update(changedProperties);\n            }\n            else {\n                this.__markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this.__markUpdated();\n            throw e;\n        }\n        // The update is no longer considered pending and further updates are now allowed.\n        if (shouldUpdate) {\n            this._$didUpdate(changedProperties);\n        }\n    }\n    /**\n     * Invoked before `update()` to compute values needed during the update.\n     *\n     * Implement `willUpdate` to compute property values that depend on other\n     * properties and are used in the rest of the update process.\n     *\n     * ```ts\n     * willUpdate(changedProperties) {\n     *   // only need to check changed properties for an expensive computation.\n     *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {\n     *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);\n     *   }\n     * }\n     *\n     * render() {\n     *   return html`SHA: ${this.sha}`;\n     * }\n     * ```\n     *\n     * @category updates\n     */\n    willUpdate(_changedProperties) { }\n    // Note, this is an override point for polyfill-support.\n    // @internal\n    _$didUpdate(changedProperties) {\n        this.__controllers?.forEach((c) => c.hostUpdated?.());\n        if (!this.hasUpdated) {\n            this.hasUpdated = true;\n            this.firstUpdated(changedProperties);\n        }\n        this.updated(changedProperties);\n        if (DEV_MODE &&\n            this.isUpdatePending &&\n            this.constructor.enabledWarnings.includes('change-in-update')) {\n            issueWarning('change-in-update', `Element ${this.localName} scheduled an update ` +\n                `(generally because a property was set) ` +\n                `after an update completed, causing a new update to be scheduled. ` +\n                `This is inefficient and should be avoided unless the next update ` +\n                `can only be scheduled as a side effect of the previous update.`);\n        }\n    }\n    __markUpdated() {\n        this._$changedProperties = new Map();\n        this.isUpdatePending = false;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super.getUpdateComplete()`, then any subsequent state.\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    get updateComplete() {\n        return this.getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   override async getUpdateComplete() {\n     *     const result = await super.getUpdateComplete();\n     *     await this._myChild.updateComplete;\n     *     return result;\n     *   }\n     * }\n     * ```\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    getUpdateComplete() {\n        return this.__updatePromise;\n    }\n    /**\n     * Controls whether or not `update()` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(_changedProperties) {\n        // The forEach() expression will only run when __reflectingProperties is\n        // defined, and it returns undefined, setting __reflectingProperties to\n        // undefined\n        this.__reflectingProperties &&= this.__reflectingProperties.forEach((p) => this.__propertyToAttribute(p, this[p]));\n        this.__markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    updated(_changedProperties) { }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * ```ts\n     * firstUpdated() {\n     *   this.renderRoot.getElementById('my-text-area').focus();\n     * }\n     * ```\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    firstUpdated(_changedProperties) { }\n}\n/**\n * Memoized list of all element styles.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category styles\n */\nReactiveElement.elementStyles = [];\n/**\n * Options used when calling `attachShadow`. Set this property to customize\n * the options for the shadowRoot; for example, to create a closed\n * shadowRoot: `{mode: 'closed'}`.\n *\n * Note, these options are used in `createRenderRoot`. If this method\n * is customized, options should be respected if possible.\n * @nocollapse\n * @category rendering\n */\nReactiveElement.shadowRootOptions = { mode: 'open' };\n// Assigned here to work around a jscompiler bug with static fields\n// when compiling to ES5.\n// https://github.com/google/closure-compiler/issues/3177\nReactiveElement[JSCompiler_renameProperty('elementProperties', ReactiveElement)] = new Map();\nReactiveElement[JSCompiler_renameProperty('finalized', ReactiveElement)] = new Map();\n// Apply polyfills if available\npolyfillSupport?.({ ReactiveElement });\n// Dev mode warnings...\nif (DEV_MODE) {\n    // Default warning set.\n    ReactiveElement.enabledWarnings = [\n        'change-in-update',\n        'async-perform-update',\n    ];\n    const ensureOwnWarnings = function (ctor) {\n        if (!ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings', ctor))) {\n            ctor.enabledWarnings = ctor.enabledWarnings.slice();\n        }\n    };\n    ReactiveElement.enableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        if (!this.enabledWarnings.includes(warning)) {\n            this.enabledWarnings.push(warning);\n        }\n    };\n    ReactiveElement.disableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        const i = this.enabledWarnings.indexOf(warning);\n        if (i >= 0) {\n            this.enabledWarnings.splice(i, 1);\n        }\n    };\n}\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for ReactiveElement usage.\n(global.reactiveElementVersions ??= []).push('2.1.1');\nif (DEV_MODE && global.reactiveElementVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n            `is not recommended.`);\n    });\n}\n//# sourceMappingURL=reactive-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvcmVhY3RpdmUtZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHNCQUFzQjtBQUMxQjtBQUNBO0FBQ2dFO0FBQ2hFO0FBQ0EsV0FBVyw2QkFBNkI7QUFDWDtBQUM3QjtBQUNBLFFBQVEsNEdBQTRHO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0JBQStCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGLHlDQUF5Qyw4QkFBOEI7QUFDdkUsdUJBQXVCLFdBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLDhCQUE4QjtBQUNwRyxtQkFBbUIsV0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFrQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0RBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsTUFBTTtBQUMvRiw0Q0FBNEMsZUFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0NBQWdDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw4QkFBOEI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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b2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZXZlbG9wbWVudC9yZWFjdGl2ZS1lbGVtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBVc2UgdGhpcyBtb2R1bGUgaWYgeW91IHdhbnQgdG8gY3JlYXRlIHlvdXIgb3duIGJhc2UgY2xhc3MgZXh0ZW5kaW5nXG4gKiB7QGxpbmsgUmVhY3RpdmVFbGVtZW50fS5cbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5pbXBvcnQgeyBnZXRDb21wYXRpYmxlU3R5bGUsIGFkb3B0U3R5bGVzLCB9IGZyb20gJy4vY3NzLXRhZy5qcyc7XG4vLyBJbiB0aGUgTm9kZSBidWlsZCwgdGhpcyBpbXBvcnQgd2lsbCBiZSBpbmplY3RlZCBieSBSb2xsdXA6XG4vLyBpbXBvcnQge0hUTUxFbGVtZW50LCBjdXN0b21FbGVtZW50c30gZnJvbSAnQGxpdC1sYWJzL3Nzci1kb20tc2hpbSc7XG5leHBvcnQgKiBmcm9tICcuL2Nzcy10YWcuanMnO1xuLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IEFkZCBgaGFzT3duYCBoZXJlIHdoZW4gd2Ugc2hpcCBFUzIwMjJcbmNvbnN0IHsgaXMsIGRlZmluZVByb3BlcnR5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIGdldE93blByb3BlcnR5TmFtZXMsIGdldE93blByb3BlcnR5U3ltYm9scywgZ2V0UHJvdG90eXBlT2YsIH0gPSBPYmplY3Q7XG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcbi8vIExldHMgYSBtaW5pZmllciByZXBsYWNlIGdsb2JhbFRoaXMgcmVmZXJlbmNlcyB3aXRoIGEgbWluaWZpZWQgbmFtZVxuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcbmlmIChOT0RFX01PREUpIHtcbiAgICBnbG9iYWwuY3VzdG9tRWxlbWVudHMgPz89IGN1c3RvbUVsZW1lbnRzO1xufVxuY29uc3QgREVWX01PREUgPSB0cnVlO1xubGV0IGlzc3VlV2FybmluZztcbmNvbnN0IHRydXN0ZWRUeXBlcyA9IGdsb2JhbFxuICAgIC50cnVzdGVkVHlwZXM7XG4vLyBUZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jcmJ1Zy5jb20vOTkzMjY4XG4vLyBDdXJyZW50bHksIGFueSBhdHRyaWJ1dGUgc3RhcnRpbmcgd2l0aCBcIm9uXCIgaXMgY29uc2lkZXJlZCB0byBiZSBhXG4vLyBUcnVzdGVkU2NyaXB0IHNvdXJjZS4gU3VjaCBib29sZWFuIGF0dHJpYnV0ZXMgbXVzdCBiZSBzZXQgdG8gdGhlIGVxdWl2YWxlbnRcbi8vIHRydXN0ZWQgZW1wdHlTY3JpcHQgdmFsdWUuXG5jb25zdCBlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUgPSB0cnVzdGVkVHlwZXNcbiAgICA/IHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdFxuICAgIDogJyc7XG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICAgID8gZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgICA6IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5pZiAoREVWX01PREUpIHtcbiAgICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAgIC8vIGFyZSBsb2FkZWQuXG4gICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID8/PSBuZXcgU2V0KCk7XG4gICAgLyoqXG4gICAgICogSXNzdWUgYSB3YXJuaW5nIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeSwgYmFzZWQgZWl0aGVyIG9uIGBjb2RlYCBvciBgd2FybmluZ2AuXG4gICAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAgICogY2FuIGJlIGRvbmUgYnkgdXNlcnMuXG4gICAgICovXG4gICAgaXNzdWVXYXJuaW5nID0gKGNvZGUsIHdhcm5pbmcpID0+IHtcbiAgICAgICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgaWYgKCFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpICYmXG4gICAgICAgICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoJ2Rldi1tb2RlJywgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWApO1xuICAgICAgICAvLyBJc3N1ZSBwb2x5ZmlsbCBzdXBwb3J0IHdhcm5pbmcuXG4gICAgICAgIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ3BvbHlmaWxsLXN1cHBvcnQtbWlzc2luZycsIGBTaGFkb3cgRE9NIGlzIGJlaW5nIHBvbHlmaWxsZWQgdmlhIFxcYFNoYWR5RE9NXFxgIGJ1dCBgICtcbiAgICAgICAgICAgICAgICBgdGhlIFxcYHBvbHlmaWxsLXN1cHBvcnRcXGAgbW9kdWxlIGhhcyBub3QgYmVlbiBsb2FkZWQuYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSBERVZfTU9ERVxuICAgID8gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBnbG9iYWxcbiAgICAgICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGl0LWRlYnVnJywge1xuICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICA6IHVuZGVmaW5lZDtcbi8qXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbi8qQF9fSU5MSU5FX18qL1xuY29uc3QgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9IChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gICAgdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIGxldCBmcm9tVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIERvICpub3QqIGdlbmVyYXRlIGV4Y2VwdGlvbiB3aGVuIGludmFsaWQgSlNPTiBpcyBzZXQgYXMgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBub3JtYWxseSBjb21wbGFpbiBvbiBiZWluZyBtaXMtY29uZmlndXJlZC5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBEbyBnZW5lcmF0ZSBleGNlcHRpb24gaW4gKmRldiBtb2RlKi5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3NlcnQgdG8gYWRoZXJlIHRvIEJhemVsJ3MgXCJtdXN0IHR5cGUgYXNzZXJ0IEpTT04gcGFyc2VcIiBydWxlLlxuICAgICAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21WYWx1ZTtcbiAgICB9LFxufTtcbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbCA9ICh2YWx1ZSwgb2xkKSA9PiAhaXModmFsdWUsIG9sZCk7XG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgICBhdHRyaWJ1dGU6IHRydWUsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgICByZWZsZWN0OiBmYWxzZSxcbiAgICB1c2VEZWZhdWx0OiBmYWxzZSxcbiAgICBoYXNDaGFuZ2VkOiBub3RFcXVhbCxcbn07XG4vLyBFbnN1cmUgbWV0YWRhdGEgaXMgZW5hYmxlZC4gVHlwZVNjcmlwdCBkb2VzIG5vdCBwb2x5ZmlsbFxuLy8gU3ltYm9sLm1ldGFkYXRhLCBzbyB3ZSBtdXN0IGVuc3VyZSB0aGF0IGl0IGV4aXN0cy5cblN5bWJvbC5tZXRhZGF0YSA/Pz0gU3ltYm9sKCdtZXRhZGF0YScpO1xuLy8gTWFwIGZyb20gYSBjbGFzcydzIG1ldGFkYXRhIG9iamVjdCB0byBwcm9wZXJ0eSBvcHRpb25zXG4vLyBOb3RlIHRoYXQgd2UgbXVzdCB1c2UgbnVsbGlzaC1jb2FsZXNjaW5nIGFzc2lnbm1lbnQgc28gdGhhdCB3ZSBvbmx5IHVzZSBvbmVcbi8vIG1hcCBldmVuIGlmIHdlIGxvYWQgbXVsdGlwbGUgdmVyc2lvbiBvZiB0aGlzIG1vZHVsZS5cbmdsb2JhbC5saXRQcm9wZXJ0eU1ldGFkYXRhID8/PSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbi8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGBleHRlbmRzYCBjbGF1c2Ugd2lsbCBiZSBzdWJzdGl0dXRlZCB3aXRoXG4vLyBgKGdsb2JhbFRoaXMuSFRNTEVsZW1lbnQgPz8gSFRNTEVsZW1lbnQpYC5cbi8vXG4vLyBUaGlzIHdheSwgd2Ugd2lsbCBmaXJzdCBwcmVmZXIgYW55IGdsb2JhbCBgSFRNTEVsZW1lbnRgIHBvbHlmaWxsIHRoYXQgdGhlXG4vLyB1c2VyIGhhcyBhc3NpZ25lZCwgYW5kIHRoZW4gZmFsbCBiYWNrIHRvIHRoZSBgSFRNTEVsZW1lbnRgIHNoaW0gd2hpY2ggaGFzXG4vLyBiZWVuIGltcG9ydGVkIChzZWUgbm90ZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZSBhYm91dCBob3cgdGhpcyBpbXBvcnQgaXNcbi8vIGdlbmVyYXRlZCBieSBSb2xsdXApLiBOb3RlIHRoYXQgdGhlIGBIVE1MRWxlbWVudGAgdmFyaWFibGUgaGFzIGJlZW5cbi8vIHNoYWRvd2VkIGJ5IHRoaXMgaW1wb3J0LCBzbyBpdCBubyBsb25nZXIgcmVmZXJzIHRvIHRoZSBnbG9iYWwuXG4gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBpbml0aWFsaXplciBmdW5jdGlvbiB0byB0aGUgY2xhc3MgdGhhdCBpcyBjYWxsZWQgZHVyaW5nIGluc3RhbmNlXG4gICAgICogY29uc3RydWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvZGUgdGhhdCBydW5zIGFnYWluc3QgYSBgUmVhY3RpdmVFbGVtZW50YFxuICAgICAqIHN1YmNsYXNzLCBzdWNoIGFzIGEgZGVjb3JhdG9yLCB0aGF0IG5lZWRzIHRvIGRvIHdvcmsgZm9yIGVhY2hcbiAgICAgKiBpbnN0YW5jZSwgc3VjaCBhcyBzZXR0aW5nIHVwIGEgYFJlYWN0aXZlQ29udHJvbGxlcmAuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IG15RGVjb3JhdG9yID0gKHRhcmdldDogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgKiAgIHRhcmdldC5hZGRJbml0aWFsaXplcigoaW5zdGFuY2U6IFJlYWN0aXZlRWxlbWVudCkgPT4ge1xuICAgICAqICAgICAvLyBUaGlzIGlzIHJ1biBkdXJpbmcgY29uc3RydWN0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAgICogICAgIG5ldyBNeUNvbnRyb2xsZXIoaW5zdGFuY2UpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogRGVjb3JhdGluZyBhIGZpZWxkIHdpbGwgdGhlbiBjYXVzZSBlYWNoIGluc3RhbmNlIHRvIHJ1biBhbiBpbml0aWFsaXplclxuICAgICAqIHRoYXQgYWRkcyBhIGNvbnRyb2xsZXI6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgICAqICAgQG15RGVjb3JhdG9yIGZvbztcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJbml0aWFsaXplcnMgYXJlIHN0b3JlZCBwZXItY29uc3RydWN0b3IuIEFkZGluZyBhbiBpbml0aWFsaXplciB0byBhXG4gICAgICogc3ViY2xhc3MgZG9lcyBub3QgYWRkIGl0IHRvIGEgc3VwZXJjbGFzcy4gU2luY2UgaW5pdGlhbGl6ZXJzIGFyZSBydW4gaW5cbiAgICAgKiBjb25zdHJ1Y3RvcnMsIGluaXRpYWxpemVycyB3aWxsIHJ1biBpbiBvcmRlciBvZiB0aGUgY2xhc3MgaGllcmFyY2h5LFxuICAgICAqIHN0YXJ0aW5nIHdpdGggc3VwZXJjbGFzc2VzIGFuZCBwcm9ncmVzc2luZyB0byB0aGUgaW5zdGFuY2UncyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGFkZEluaXRpYWxpemVyKGluaXRpYWxpemVyKSB7XG4gICAgICAgIHRoaXMuX19wcmVwYXJlKCk7XG4gICAgICAgICh0aGlzLl9pbml0aWFsaXplcnMgPz89IFtdKS5wdXNoKGluaXRpYWxpemVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICAvLyBFbnN1cmUgd2UndmUgY3JlYXRlZCBhbGwgcHJvcGVydGllc1xuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIC8vIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGlzIG9ubHkgdW5kZWZpbmVkIGFmdGVyIGZpbmFsaXplKCkgaW5cbiAgICAgICAgLy8gUmVhY3RpdmVFbGVtZW50IGl0c2VsZi4gUmVhY3RpdmVFbGVtZW50Lm9ic2VydmVkQXR0cmlidXRlcyBpcyBvbmx5XG4gICAgICAgIC8vIGFjY2Vzc2VkIHdpdGggUmVhY3RpdmVFbGVtZW50IGFzIHRoZSByZWNlaXZlciB3aGVuIGEgc3ViY2xhc3Mgb3IgbWl4aW5cbiAgICAgICAgLy8gY2FsbHMgc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgICAgIHJldHVybiAodGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgJiYgWy4uLnRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmtleXMoKV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgICAqIGFuZCBzdG9yZXMgYSB7QGxpbmtjb2RlIFByb3BlcnR5RGVjbGFyYXRpb259IGZvciB0aGUgcHJvcGVydHkgd2l0aCB0aGVcbiAgICAgKiBnaXZlbiBvcHRpb25zLiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYFxuICAgICAqIHByb3BlcnR5IG9wdGlvbiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICAgICAqIHRvIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gY3VzdG9taXplIHByb3BlcnRpZXM7IGhvd2V2ZXIsXG4gICAgICogd2hlbiBkb2luZyBzbywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXIuY3JlYXRlUHJvcGVydHlgIHRvIGVuc3VyZVxuICAgICAqIHRoZSBwcm9wZXJ0eSBpcyBzZXR1cCBjb3JyZWN0bHkuIFRoaXMgbWV0aG9kIGNhbGxzXG4gICAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAgaW50ZXJuYWxseSB0byBnZXQgYSBkZXNjcmlwdG9yIHRvIGluc3RhbGwuXG4gICAgICogVG8gY3VzdG9taXplIHdoYXQgcHJvcGVydGllcyBkbyB3aGVuIHRoZXkgYXJlIGdldCBvciBzZXQsIG92ZXJyaWRlXG4gICAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAuIFRvIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSxcbiAgICAgKiBpbXBsZW1lbnQgYGNyZWF0ZVByb3BlcnR5YCBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAgICogICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7bXlPcHRpb246IHRydWV9KTtcbiAgICAgKiAgIHN1cGVyLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdGF0ZSBwcm9wZXJ0eSwgZm9yY2UgdGhlIGF0dHJpYnV0ZSB0byBmYWxzZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0cmlidXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3ByZXBhcmUoKTtcbiAgICAgICAgLy8gV2hldGhlciB0aGlzIHByb3BlcnR5IGlzIHdyYXBwaW5nIGFjY2Vzc29ycy5cbiAgICAgICAgLy8gSGVscHMgY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAgICAgIGlmICh0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyk7XG4gICAgICAgICAgICBvcHRpb25zLndyYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubm9BY2Nlc3Nvcikge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gREVWX01PREVcbiAgICAgICAgICAgICAgICA/IC8vIFVzZSBTeW1ib2wuZm9yIGluIGRldiBtb2RlIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gZG9pbmcgSE1SLlxuICAgICAgICAgICAgICAgICAgICBTeW1ib2wuZm9yKGAke1N0cmluZyhuYW1lKX0gKEBwcm9wZXJ0eSgpIGNhY2hlKWApXG4gICAgICAgICAgICAgICAgOiBTeW1ib2woKTtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvcGVydHkgZGVzY3JpcHRvciB0byBiZSBkZWZpbmVkIG9uIHRoZSBnaXZlbiBuYW1lZCBwcm9wZXJ0eS5cbiAgICAgKiBJZiBubyBkZXNjcmlwdG9yIGlzIHJldHVybmVkLCB0aGUgcHJvcGVydHkgd2lsbCBub3QgYmVjb21lIGFuIGFjY2Vzc29yLlxuICAgICAqIEZvciBleGFtcGxlLFxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKSB7XG4gICAgICogICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdG9yID1cbiAgICAgKiAgICAgICAgIHN1cGVyLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAqICAgICBjb25zdCBzZXR0ZXIgPSBkZWZhdWx0RGVzY3JpcHRvci5zZXQ7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgZ2V0OiBkZWZhdWx0RGVzY3JpcHRvci5nZXQsXG4gICAgICogICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICogICAgICAgICBzZXR0ZXIuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICogICAgICAgICAvLyBjdXN0b20gYWN0aW9uLlxuICAgICAqICAgICAgIH0sXG4gICAgICogICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAqICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5wcm90b3R5cGUsIG5hbWUpID8/IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChERVZfTU9ERSAmJiBnZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gKGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge30pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLm5hbWV9IHdhcyBkZWNsYXJlZCBhcyBhIHJlYWN0aXZlIHByb3BlcnR5IGAgK1xuICAgICAgICAgICAgICAgICAgICBgYnV0IGl0J3MgYWN0dWFsbHkgZGVjbGFyZWQgYXMgYSB2YWx1ZSBvbiB0aGUgcHJvdG90eXBlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFVzdWFsbHkgdGhpcyBpcyBkdWUgdG8gdXNpbmcgQHByb3BlcnR5IG9yIEBzdGF0ZSBvbiBhIG1ldGhvZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzc3VlV2FybmluZygncmVhY3RpdmUtcHJvcGVydHktd2l0aG91dC1nZXR0ZXInLCBgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICAgICAgICBgJHt0aGlzLm5hbWV9IHdhcyBkZWNsYXJlZCBhcyBhIHJlYWN0aXZlIHByb3BlcnR5IGAgK1xuICAgICAgICAgICAgICAgIGBidXQgaXQgZG9lcyBub3QgaGF2ZSBhIGdldHRlci4gVGhpcyB3aWxsIGJlIGFuIGVycm9yIGluIGEgYCArXG4gICAgICAgICAgICAgICAgYGZ1dHVyZSB2ZXJzaW9uIG9mIExpdC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQ/LmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgc2V0Py5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICAgKiBvYmplY3Qgb3IgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBhbmQgYXJlIHJlZ2lzdGVyZWQgaW5cbiAgICAgKiBgY3JlYXRlUHJvcGVydHkoLi4uKWAuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgY29uc2lkZXJlZCBcImZpbmFsXCIgYW5kIG5vdCBvdmVycmlkZGVuLiBUb1xuICAgICAqIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBnaXZlbiBwcm9wZXJ0eSwgb3ZlcnJpZGVcbiAgICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGZpbmFsXG4gICAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpID8/IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBzdGF0aWMgb3duIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzIHVzZWQgaW4gYm9va2tlZXBpbmdcbiAgICAgKiBmb3IgZWxlbWVudCBwcm9wZXJ0aWVzLCBpbml0aWFsaXplcnMsIGV0Yy5cbiAgICAgKlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgYnkgY29kZSB0aGF0IG5lZWRzIHRvIGVuc3VyZSB0aGVzZVxuICAgICAqIHByb3BlcnRpZXMgZXhpc3QgYmVmb3JlIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBzdXBlcmNsYXNzIGlzIGZpbmFsaXplZCBzbyB0aGF0IGluaGVyaXRlZFxuICAgICAqIHByb3BlcnR5IG1ldGFkYXRhIGNhbiBiZSBjb3BpZWQgZG93bi5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfX3ByZXBhcmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICAvLyBBbHJlYWR5IHByZXBhcmVkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluYWxpemUgYW55IHN1cGVyY2xhc3Nlc1xuICAgICAgICBjb25zdCBzdXBlckN0b3IgPSBnZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgICAgIC8vIENyZWF0ZSBvd24gc2V0IG9mIGluaXRpYWxpemVycyBmb3IgdGhpcyBjbGFzcyBpZiBhbnkgZXhpc3Qgb24gdGhlXG4gICAgICAgIC8vIHN1cGVyY2xhc3MgYW5kIGNvcHkgdGhlbSBkb3duLiBOb3RlLCBmb3IgYSBzbWFsbCBwZXJmIGJvb3N0LCBhdm9pZFxuICAgICAgICAvLyBjcmVhdGluZyBpbml0aWFsaXplcnMgdW5sZXNzIG5lZWRlZC5cbiAgICAgICAgaWYgKHN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFsuLi5zdXBlckN0b3IuX2luaXRpYWxpemVyc107XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBlbGVtZW50UHJvcGVydGllcyBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAgICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKHN1cGVyQ3Rvci5lbGVtZW50UHJvcGVydGllcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHNldHRpbmcgdXAgdGhlIGNsYXNzIHNvIHRoYXQgaXQncyByZWFkeSB0byBiZSByZWdpc3RlcmVkXG4gICAgICogYXMgYSBjdXN0b20gZWxlbWVudCBhbmQgaW5zdGFudGlhdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoZSBSZWFjdGl2ZUVsZW1lbnQub2JzZXJ2ZWRBdHRyaWJ1dGVzIGdldHRlci5cbiAgICAgKiBJZiB5b3Ugb3ZlcnJpZGUgdGhlIG9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIsIHlvdSBtdXN0IGVpdGhlciBjYWxsXG4gICAgICogc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzIHRvIHRyaWdnZXIgZmluYWxpemF0aW9uLCBvciBjYWxsIGZpbmFsaXplKClcbiAgICAgKiB5b3Vyc2VsZi5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX19wcmVwYXJlKCk7XG4gICAgICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIGJsb2NrOlxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAgICAgICAgIC4uLmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLFxuICAgICAgICAgICAgICAgIC4uLmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcyksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BLZXlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCBwcm9wc1twXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHByb3BlcnRpZXMgZnJvbSBzdGFuZGFyZCBkZWNvcmF0b3IgbWV0YWRhdGE6XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpc1tTeW1ib2wubWV0YWRhdGFdO1xuICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBsaXRQcm9wZXJ0eU1ldGFkYXRhLmdldChtZXRhZGF0YSk7XG4gICAgICAgICAgICBpZiAocHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgcHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChwLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBhdHRyaWJ1dGUtdG8tcHJvcGVydHkgbWFwXG4gICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtwLCBvcHRpb25zXSBvZiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2NyZWF0ZVByb3BlcnR5JykpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ25vLW92ZXJyaWRlLWNyZWF0ZS1wcm9wZXJ0eScsICdPdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC5jcmVhdGVQcm9wZXJ0eSgpIGlzIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVGhlIG92ZXJyaWRlIHdpbGwgbm90IGJlIGNhbGxlZCB3aXRoIHN0YW5kYXJkIGRlY29yYXRvcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdnZXRQcm9wZXJ0eURlc2NyaXB0b3InKSkge1xuICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygnbm8tb3ZlcnJpZGUtZ2V0LXByb3BlcnR5LWRlc2NyaXB0b3InLCAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKCkgaXMgZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBzdHlsZXMgdGhlIHVzZXIgc3VwcGxpZWQgdmlhIHRoZSBgc3RhdGljIHN0eWxlc2AgcHJvcGVydHkgYW5kXG4gICAgICogcmV0dXJucyB0aGUgYXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LlxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGludGVncmF0ZSBpbnRvIGEgc3R5bGUgbWFuYWdlbWVudCBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBTdHlsZXMgYXJlIGRlZHVwbGljYXRlZCBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIGxpc3QuIFRoaXNcbiAgICAgKiBpcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkdXBsaWNhdGVkIHN0eWxlcyB0aGF0IGNhbiBvY2N1clxuICAgICAqIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG8gdHJ5XG4gICAgICogdG8gcHJlc2VydmUgdGhlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnRcbiAgICAgKiB0aGF0IGxhc3QgYWRkZWQgc3R5bGVzIG92ZXJyaWRlIHByZXZpb3VzIHN0eWxlcy5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZVN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICAvLyBEZWR1cGUgdGhlIGZsYXR0ZW5lZCBhcnJheSBpbiByZXZlcnNlIG9yZGVyIHRvIHByZXNlcnZlIHRoZSBsYXN0IGl0ZW1zLlxuICAgICAgICAgICAgLy8gQ2FzdGluZyB0byBBcnJheTx1bmtub3duPiB3b3JrcyBhcm91bmQgVFMgZXJyb3IgdGhhdFxuICAgICAgICAgICAgLy8gYXBwZWFycyB0byBjb21lIGZyb20gdHJ5aW5nIHRvIGZsYXR0ZW4gYSB0eXBlIENTU1Jlc3VsdEFycmF5LlxuICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChzdHlsZXMuZmxhdChJbmZpbml0eSkucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIC8vIFRoZW4gcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgYnkgYWRkaW5nIHRoZSBzZXQgaXRlbXMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBzZXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50U3R5bGVzLnVuc2hpZnQoZ2V0Q29tcGF0aWJsZVN0eWxlKHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudFN0eWxlcy5wdXNoKGdldENvbXBhdGlibGVTdHlsZShzdHlsZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudFN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICA6IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyB1cGRhdGUgYXMgYSByZXN1bHQgb2YgY2FsbGluZyBgcmVxdWVzdFVwZGF0ZSgpYC5cbiAgICAgICAgICogU2hvdWxkIG9ubHkgYmUgcmVhZC5cbiAgICAgICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyBzZXQgdG8gYHRydWVgIGFmdGVyIHRoZSBmaXJzdCB1cGRhdGUuIFRoZSBlbGVtZW50IGNvZGUgY2Fubm90IGFzc3VtZVxuICAgICAgICAgKiB0aGF0IGByZW5kZXJSb290YCBleGlzdHMgYmVmb3JlIHRoZSBlbGVtZW50IGBoYXNVcGRhdGVkYC5cbiAgICAgICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTmFtZSBvZiBjdXJyZW50bHkgcmVmbGVjdGluZyBwcm9wZXJ0eVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuX19pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG9ubHkgb3ZlcnJpZGUgcG9pbnQgZm9yIGN1c3RvbWl6aW5nIHdvcmsgZG9uZSB3aGVuIGVsZW1lbnRzXG4gICAgICogYXJlIGNvbnN0cnVjdGVkLlxuICAgICAqL1xuICAgIF9faW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzKSA9PiAodGhpcy5lbmFibGVVcGRhdGluZyA9IHJlcykpO1xuICAgICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIFRoaXMgZW5xdWV1ZXMgYSBtaWNyb3Rhc2sgdGhhdCBtdXN0IHJ1biBiZWZvcmUgdGhlIGZpcnN0IHVwZGF0ZSwgc28gaXRcbiAgICAgICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgICAgICB0aGlzLl9fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICAvLyBlbnN1cmVzIGZpcnN0IHVwZGF0ZSB3aWxsIGJlIGNhdWdodCBieSBhbiBlYXJseSBhY2Nlc3Mgb2ZcbiAgICAgICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5faW5pdGlhbGl6ZXJzPy5mb3JFYWNoKChpKSA9PiBpKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgYFJlYWN0aXZlQ29udHJvbGxlcmAgdG8gcGFydGljaXBhdGUgaW4gdGhlIGVsZW1lbnQncyByZWFjdGl2ZVxuICAgICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAgICogY29udHJvbGxlcnMgZHVyaW5nIGl0cyBsaWZlY3ljbGUgY2FsbGJhY2tzLlxuICAgICAqXG4gICAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICAgKiBjb250cm9sbGVyJ3MgYGhvc3RDb25uZWN0ZWQoKWAgY2FsbGJhY2sgd2lsbCBiZSBpbW1lZGlhdGVseSBjYWxsZWQuXG4gICAgICogQGNhdGVnb3J5IGNvbnRyb2xsZXJzXG4gICAgICovXG4gICAgYWRkQ29udHJvbGxlcihjb250cm9sbGVyKSB7XG4gICAgICAgICh0aGlzLl9fY29udHJvbGxlcnMgPz89IG5ldyBTZXQoKSkuYWRkKGNvbnRyb2xsZXIpO1xuICAgICAgICAvLyBJZiBhIGNvbnRyb2xsZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gY29ubmVjdGVkLFxuICAgICAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgICAgICAvLyAod2hpY2ggaXMgc2V0IGluIGNvbm5lY3RlZENhbGxiYWNrKSB0byBhdm9pZCB0aGUgbmVlZCB0byB0cmFjayBhXG4gICAgICAgIC8vIGZpcnN0IGNvbm5lY3RlZCBzdGF0ZS5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICogQGNhdGVnb3J5IGNvbnRyb2xsZXJzXG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbGxlcihjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZGVsZXRlKGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXhlcyBhbnkgcHJvcGVydGllcyBzZXQgb24gdGhlIGluc3RhbmNlIGJlZm9yZSB1cGdyYWRlIHRpbWUuXG4gICAgICogT3RoZXJ3aXNlIHRoZXNlIHdvdWxkIHNoYWRvdyB0aGUgYWNjZXNzb3IgYW5kIGJyZWFrIHRoZXNlIHByb3BlcnRpZXMuXG4gICAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICAgKiBjb25zdHJ1Y3RvciBydW5zLlxuICAgICAqL1xuICAgIF9fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50UHJvcGVydGllcyA9IHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgIC5lbGVtZW50UHJvcGVydGllcztcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIGVsZW1lbnRQcm9wZXJ0aWVzLmtleXMoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVByb3BlcnRpZXMuc2V0KHAsIHRoaXNbcF0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgICAgICBjb25zdCByZW5kZXJSb290ID0gdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh0aGlzLmNvbnN0cnVjdG9yLnNoYWRvd1Jvb3RPcHRpb25zKTtcbiAgICAgICAgYWRvcHRTdHlsZXMocmVuZGVyUm9vdCwgdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50U3R5bGVzKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9uIGZpcnN0IGNvbm5lY3Rpb24sIGNyZWF0ZXMgdGhlIGVsZW1lbnQncyByZW5kZXJSb290LCBzZXRzIHVwXG4gICAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBjb250cm9sbGVycyBgaG9zdENvbm5lY3RlZGBcbiAgICAgICAgdGhpcy5yZW5kZXJSb290ID8/PVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgICAgIHRoaXMuZW5hYmxlVXBkYXRpbmcodHJ1ZSk7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGUsIHRoaXMgbWV0aG9kIHNob3VsZCBiZSBjb25zaWRlcmVkIGZpbmFsIGFuZCBub3Qgb3ZlcnJpZGRlbi4gSXQgaXNcbiAgICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgICAqIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGVuYWJsZVVwZGF0aW5nKF9yZXF1ZXN0ZWRVcGRhdGUpIHsgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgYHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIGluIGV4dGVuc2lvbnMgd2hpbGVcbiAgICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgICAqXG4gICAgICogU3BlY2lmaWNhbGx5LCB3aGVuIGFuIGF0dHJpYnV0ZSBpcyBzZXQsIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IGlzIHNldC5cbiAgICAgKiBZb3Ugc2hvdWxkIHJhcmVseSBuZWVkIHRvIGltcGxlbWVudCB0aGlzIGNhbGxiYWNrLiBJZiB0aGlzIG1ldGhvZCBpc1xuICAgICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAgICogY2FsbGVkLlxuICAgICAqXG4gICAgICogU2VlIFtyZXNwb25kaW5nIHRvIGF0dHJpYnV0ZSBjaGFuZ2VzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX2NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3Jlc3BvbmRpbmdfdG9fYXR0cmlidXRlX2NoYW5nZXMpXG4gICAgICogb24gTUROIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC5cbiAgICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBfb2xkLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl8kYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIF9fcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbGVtUHJvcGVydGllcyA9IHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBlbGVtUHJvcGVydGllcy5nZXQobmFtZSk7XG4gICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI/LnRvQXR0cmlidXRlICE9PVxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb252ZXJ0ZXJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICAgICAgICBpZiAoREVWX01PREUgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRXYXJuaW5ncy5pbmNsdWRlcygnbWlncmF0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygndW5kZWZpbmVkLWF0dHJpYnV0ZS12YWx1ZScsIGBUaGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgJHtuYW1lfSBwcm9wZXJ0eSBpcyBgICtcbiAgICAgICAgICAgICAgICAgICAgYHVuZGVmaW5lZCBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9LiBUaGUgYXR0cmlidXRlIHdpbGwgYmUgYCArXG4gICAgICAgICAgICAgICAgICAgIGByZW1vdmVkLCBidXQgaW4gdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgXFxgUmVhY3RpdmVFbGVtZW50XFxgLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYHRoZSBhdHRyaWJ1dGUgd291bGQgbm90IGhhdmUgY2hhbmdlZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgICAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAgICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBuYW1lO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgLy8gTm90ZSwgaGludCB0aGlzIGFzIGFuIGBBdHRyaWJ1dGVNYXBgIHNvIGNsb3N1cmUgY2xlYXJseSB1bmRlcnN0YW5kc1xuICAgICAgICAvLyB0aGUgdHlwZTsgaXQgaGFzIGlzc3VlcyB3aXRoIHRyYWNraW5nIHR5cGVzIHRocm91Z2ggc3RhdGljc1xuICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGN0b3IuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgcmVmbGVjdGluZyBhIHByb3BlcnR5IHZhbHVlIHRvIGFuIGF0dHJpYnV0ZVxuICAgICAgICAvLyBpZiBpdCB3YXMganVzdCBzZXQgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGNoYW5nZWQuXG4gICAgICAgIGlmIChwcm9wTmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMocHJvcE5hbWUpO1xuICAgICAgICAgICAgY29uc3QgY29udmVydGVyID0gdHlwZW9mIG9wdGlvbnMuY29udmVydGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB7IGZyb21BdHRyaWJ1dGU6IG9wdGlvbnMuY29udmVydGVyIH1cbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuY29udmVydGVyPy5mcm9tQXR0cmlidXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBwcm9wTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlID0gY29udmVydGVyLmZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9XG4gICAgICAgICAgICAgICAgY29udmVydGVkVmFsdWUgPz9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2RlZmF1bHRWYWx1ZXM/LmdldChwcm9wTmFtZSkgPz9cbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgY29udmVydGVkVmFsdWU7XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgKiB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWQgYnkgc2V0dGluZ1xuICAgICAqIGEgcmVhY3RpdmUgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHByb3BlcnR5IG9wdGlvbnMgdG8gdXNlIGluc3RlYWQgb2YgdGhlIHByZXZpb3VzbHlcbiAgICAgKiAgICAgY29uZmlndXJlZCBvcHRpb25zXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICByZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoREVWX01PREUgJiYgbmFtZSBpbnN0YW5jZW9mIEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaXNzdWVXYXJuaW5nKGBgLCBgVGhlIHJlcXVlc3RVcGRhdGUoKSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFuIEV2ZW50IGFzIHRoZSBwcm9wZXJ0eSBuYW1lLiBUaGlzIGlzIHByb2JhYmx5IGEgbWlzdGFrZSBjYXVzZWQgYnkgYmluZGluZyB0aGlzLnJlcXVlc3RVcGRhdGUgYXMgYW4gZXZlbnQgbGlzdGVuZXIuIEluc3RlYWQgYmluZCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjYWxsIGl0IHdpdGggbm8gYXJndW1lbnRzOiAoKSA9PiB0aGlzLnJlcXVlc3RVcGRhdGUoKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICBvcHRpb25zID8/PSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWQgPSAob3B0aW9ucy5oYXNDaGFuZ2VkID8/IG5vdEVxdWFsKShuZXdWYWx1ZSwgb2xkVmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGVyZSBpcyBubyBjaGFuZ2UsIGNoZWNrIGEgY29ybmVyIGNhc2UgdGhhdCBjYW4gb2NjdXIgd2hlblxuICAgICAgICAgICAgICAgIC8vIDEuIHRoZXJlJ3MgYSBpbml0aWFsIHZhbHVlIHdoaWNoIHdhcyBub3QgcmVmbGVjdGVkXG4gICAgICAgICAgICAgICAgLy8gMi4gdGhlIHByb3BlcnR5IGlzIHN1YnNlcXVlbnRseSBzZXQgdG8gdGhpcyB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYHByb3A6IHt1c2VEZWZhdWx0OiB0cnVlLCByZWZsZWN0OiB0cnVlfWBcbiAgICAgICAgICAgICAgICAvLyBhbmQgZWwucHJvcCA9ICdmb28nLiBUaGlzIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlIGlmIHRoZVxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBpcyBub3Qgc2V0IGJlY2F1c2Ugd2Ugd2lsbCBub3cgcmVmbGVjdCB0aGUgcHJvcGVydHkgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAgICAob3B0aW9ucy51c2VEZWZhdWx0ICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucmVmbGVjdCAmJlxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9PT0gdGhpcy5fX2RlZmF1bHRWYWx1ZXM/LmdldChuYW1lKSAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5oYXNBdHRyaWJ1dGUoY3Rvci5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1VwZGF0ZVBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IHRoaXMuX19lbnF1ZXVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRjaGFuZ2VQcm9wZXJ0eShuYW1lLCBvbGRWYWx1ZSwgeyB1c2VEZWZhdWx0LCByZWZsZWN0LCB3cmFwcGVkIH0sIGluaXRpYWxpemVWYWx1ZSkge1xuICAgICAgICAvLyBSZWNvcmQgZGVmYXVsdCB2YWx1ZSB3aGVuIHVzZURlZmF1bHQgaXMgdXNlZC4gVGhpcyBhbGxvd3MgdXMgdG9cbiAgICAgICAgLy8gcmVzdG9yZSB0aGlzIHZhbHVlIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICAgICAgICBpZiAodXNlRGVmYXVsdCAmJiAhKHRoaXMuX19kZWZhdWx0VmFsdWVzID8/PSBuZXcgTWFwKCkpLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fX2RlZmF1bHRWYWx1ZXMuc2V0KG5hbWUsIGluaXRpYWxpemVWYWx1ZSA/PyBvbGRWYWx1ZSA/PyB0aGlzW25hbWVdKTtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IHdyYXBwaW5nIGFuIGFjY2Vzc29yLCBpdCBtdXN0IGJlIGFuIGluaXRpYWwgc2V0dGluZ1xuICAgICAgICAgICAgLy8gYW5kIGluIHRoaXMgY2FzZSB3ZSBkbyBub3Qgd2FudCB0byByZWNvcmQgdGhlIGNoYW5nZSBvciByZWZsZWN0LlxuICAgICAgICAgICAgaWYgKHdyYXBwZWQgIT09IHRydWUgfHwgaW5pdGlhbGl6ZVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IENyZWF0ZSBhIGJlbmNobWFyayBvZiBNYXAuaGFzKCkgKyBNYXAuc2V0KFxuICAgICAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgICAgICBpZiAoIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIC8vIE9uIHRoZSBpbml0aWFsIGNoYW5nZSwgdGhlIG9sZCB2YWx1ZSBzaG91bGQgYmUgYHVuZGVmaW5lZGAsIGV4Y2VwdFxuICAgICAgICAgICAgLy8gd2l0aCBgdXNlRGVmYXVsdGBcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkICYmICF1c2VEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9fcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgICAgICAvLyBhdHRyaWJ1dGUgKyBwcm9wZXJ0eSByZWZsZWN0cyBjb3JyZWN0bHkuXG4gICAgICAgIGlmIChyZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQoKSkuYWRkKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fX3VwZGF0ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAgICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgICAgICAvLyBjaGVja2VkIHRvIGF2b2lkIGRlbGF5aW5nIGFuIGFkZGl0aW9uYWwgbWljcm90YXNrIHVubGVzcyB3ZSBuZWVkIHRvLlxuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMuaXNVcGRhdGVQZW5kaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgICAqIHRpbWluZyBvZiB1cGRhdGVzIGJ5IHJldHVybmluZyBhIFByb21pc2UuIFRoZSB1cGRhdGUgd2lsbCBhd2FpdCB0aGVcbiAgICAgKiByZXR1cm5lZCBQcm9taXNlLCBhbmQgeW91IHNob3VsZCByZXNvbHZlIHRoZSBQcm9taXNlIHRvIGFsbG93IHRoZSB1cGRhdGVcbiAgICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICAgKiBtdXN0IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgKiAgIHN1cGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgc2NoZWR1bGVVcGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgICBpZiAoREVWX01PREUgJiZcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFdhcm5pbmdzLmluY2x1ZGVzKCdhc3luYy1wZXJmb3JtLXVwZGF0ZScpICYmXG4gICAgICAgICAgICB0eXBlb2YgcmVzdWx0Py50aGVuID09PVxuICAgICAgICAgICAgICAgICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlzc3VlV2FybmluZygnYXN5bmMtcGVyZm9ybS11cGRhdGUnLCBgRWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSByZXR1cm5lZCBhIFByb21pc2UgZnJvbSBwZXJmb3JtVXBkYXRlKCkuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIGJlaGF2aW9yIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBgICtcbiAgICAgICAgICAgICAgICBgdmVyc2lvbiBvZiBSZWFjdGl2ZUVsZW1lbnQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICAgKiBnZW5lcmFsbHkgbm90IGJlIG5lZWRlZCwgYnV0IGl0IGNhbiBiZSBkb25lIGluIHJhcmUgY2FzZXMgd2hlbiB5b3UgbmVlZCB0b1xuICAgICAqIHVwZGF0ZSBzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBwZXJmb3JtVXBkYXRlKCkge1xuICAgICAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgYHBlcmZvcm1VcGRhdGVgIGlzIGNhbGxlZCBlYXJseSB0byBcImZsdXNoXCJcbiAgICAgICAgLy8gdGhlIHVwZGF0ZS5cbiAgICAgICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnTG9nRXZlbnQ/Lih7IGtpbmQ6ICd1cGRhdGUnIH0pO1xuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGZpcnN0IHVwZGF0ZS4gVGhpcyBvY2N1cnMgaW4gYGNvbm5lY3RlZENhbGxiYWNrYFxuICAgICAgICAgICAgLy8gYnV0IGlzIGRvbmUgaGVyZSB0byBzdXBwb3J0IG91dCBvZiB0cmVlIGNhbGxzIHRvIGBlbmFibGVVcGRhdGluZ2AvYHBlcmZvcm1VcGRhdGVgLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290ID8/PVxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJvZHVjZSB3YXJuaW5nIGlmIGFueSByZWFjdGl2ZSBwcm9wZXJ0aWVzIG9uIHRoZSBwcm90b3R5cGUgYXJlXG4gICAgICAgICAgICAgICAgLy8gc2hhZG93ZWQgYnkgY2xhc3MgZmllbGRzLiBJbnN0YW5jZSBmaWVsZHMgc2V0IGJlZm9yZSB1cGdyYWRlIGFyZVxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93ZWRQcm9wZXJ0aWVzID0gWy4uLmN0b3IuZWxlbWVudFByb3BlcnRpZXMua2V5cygpXS5maWx0ZXIoKHApID0+IHRoaXMuaGFzT3duUHJvcGVydHkocCkgJiYgcCBpbiBnZXRQcm90b3R5cGVPZih0aGlzKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd2VkUHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSB3aWxsIG5vdCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0cmlnZ2VyIHVwZGF0ZXMgYXMgZXhwZWN0ZWQgYmVjYXVzZSB0aGV5IGFyZSBzZXQgdXNpbmcgY2xhc3MgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgTmF0aXZlIGNsYXNzIGZpZWxkcyBhbmQgc29tZSBjb21waWxlZCBvdXRwdXQgd2lsbCBvdmVyd3JpdGUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYWNjZXNzb3JzIHVzZWQgZm9yIGRldGVjdGluZyBjaGFuZ2VzLiBTZWUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZm9yIG1vcmUgaW5mb3JtYXRpb24uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogc2hvdWxkIHdlIHVzZSB0aGUgc3RvcmVkIHZhbHVlPyBDb3VsZCBhIG5ldyB2YWx1ZVxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYmVlbiBzZXQgc2luY2Ugd2Ugc3RvcmVkIHRoZSBvd24gcHJvcGVydHkgdmFsdWU/XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1twXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJpZ2dlciBpbml0aWFsIHZhbHVlIHJlZmxlY3Rpb24gYW5kIHBvcHVsYXRlIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAvLyBgY2hhbmdlZFByb3BlcnRpZXNgIG1hcCwgYnV0IG9ubHkgZm9yIHRoZSBjYXNlIG9mIHByb3BlcnRpZXMgY3JlYXRlZFxuICAgICAgICAgICAgLy8gdmlhIGBjcmVhdGVQcm9wZXJ0eWAgb24gYWNjZXNzb3JzLCB3aGljaCB3aWxsIG5vdCBoYXZlIGFscmVhZHlcbiAgICAgICAgICAgIC8vIHBvcHVsYXRlZCB0aGUgYGNoYW5nZWRQcm9wZXJ0aWVzYCBtYXAgc2luY2UgdGhleSBhcmUgbm90IHNldC5cbiAgICAgICAgICAgIC8vIFdlIGNhbid0IGtub3cgaWYgdGhlc2UgYWNjZXNzb3JzIGhhZCBpbml0aWFsaXplcnMsIHNvIHdlIGp1c3Qgc2V0XG4gICAgICAgICAgICAvLyB0aGVtIGFueXdheSAtIGEgZGlmZmVyZW5jZSBmcm9tIGV4cGVyaW1lbnRhbCBkZWNvcmF0b3JzIG9uIGZpZWxkcyBhbmRcbiAgICAgICAgICAgIC8vIHN0YW5kYXJkIGRlY29yYXRvcnMgb24gYXV0by1hY2Nlc3NvcnMuXG4gICAgICAgICAgICAvLyBGb3IgY29udGV4dCBzZWU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9wdWxsLzQxODMjaXNzdWVjb21tZW50LTE3MTE5NTk2MzVcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRQcm9wZXJ0aWVzID0gdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIC5lbGVtZW50UHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChlbGVtZW50UHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIGVsZW1lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd3JhcHBlZCB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgICAgICBpZiAod3JhcHBlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMocCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRjaGFuZ2VQcm9wZXJ0eShwLCB1bmRlZmluZWQsIG9wdGlvbnMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3RVcGRhdGU/LigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIGZyb20gcnVubmluZyB3aGVuIHRoZXJlJ3MgYW5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBleGNlcHRpb24uXG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRkaWRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50IGB3aWxsVXBkYXRlYCB0byBjb21wdXRlIHByb3BlcnR5IHZhbHVlcyB0aGF0IGRlcGVuZCBvbiBvdGhlclxuICAgICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAqICAgLy8gb25seSBuZWVkIHRvIGNoZWNrIGNoYW5nZWQgcHJvcGVydGllcyBmb3IgYW4gZXhwZW5zaXZlIGNvbXB1dGF0aW9uLlxuICAgICAqICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZmlyc3ROYW1lJykgfHwgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdsYXN0TmFtZScpKSB7XG4gICAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHJlbmRlcigpIHtcbiAgICAgKiAgIHJldHVybiBodG1sYFNIQTogJHt0aGlzLnNoYX1gO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHsgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gICAgLy8gQGludGVybmFsXG4gICAgXyRkaWRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3RVcGRhdGVkPy4oKSk7XG4gICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIGlmIChERVZfTU9ERSAmJlxuICAgICAgICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuZW5hYmxlZFdhcm5pbmdzLmluY2x1ZGVzKCdjaGFuZ2UtaW4tdXBkYXRlJykpIHtcbiAgICAgICAgICAgIGlzc3VlV2FybmluZygnY2hhbmdlLWluLXVwZGF0ZScsIGBFbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHNjaGVkdWxlZCBhbiB1cGRhdGUgYCArXG4gICAgICAgICAgICAgICAgYChnZW5lcmFsbHkgYmVjYXVzZSBhIHByb3BlcnR5IHdhcyBzZXQpIGAgK1xuICAgICAgICAgICAgICAgIGBhZnRlciBhbiB1cGRhdGUgY29tcGxldGVkLCBjYXVzaW5nIGEgbmV3IHVwZGF0ZSB0byBiZSBzY2hlZHVsZWQuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIGlzIGluZWZmaWNpZW50IGFuZCBzaG91bGQgYmUgYXZvaWRlZCB1bmxlc3MgdGhlIG5leHQgdXBkYXRlIGAgK1xuICAgICAgICAgICAgICAgIGBjYW4gb25seSBiZSBzY2hlZHVsZWQgYXMgYSBzaWRlIGVmZmVjdCBvZiB0aGUgcHJldmlvdXMgdXBkYXRlLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fbWFya1VwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAgICogVGhlIFByb21pc2UgdmFsdWUgaXMgYSBib29sZWFuIHRoYXQgaXMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGNvbXBsZXRlZCB0aGVcbiAgICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgICAqIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgICAqXG4gICAgICogVG8gYXdhaXQgYWRkaXRpb25hbCBhc3luY2hyb25vdXMgd29yaywgb3ZlcnJpZGUgdGhlIGBnZXRVcGRhdGVDb21wbGV0ZWBcbiAgICAgKiBtZXRob2QuIEZvciBleGFtcGxlLCBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGF3YWl0IGEgcmVuZGVyZWQgZWxlbWVudFxuICAgICAqIGJlZm9yZSBmdWxmaWxsaW5nIHRoaXMgUHJvbWlzZS4gVG8gZG8gdGhpcywgZmlyc3QgYXdhaXRcbiAgICAgKiBgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIHRoZSBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3Qgc2FmZSB0byBvdmVycmlkZSB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBnZXR0ZXIgZGlyZWN0bHkgZHVlIHRvIGFcbiAgICAgKiBsaW1pdGF0aW9uIGluIFR5cGVTY3JpcHQgd2hpY2ggbWVhbnMgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGNhbGwgYVxuICAgICAqIHN1cGVyY2xhc3MgZ2V0dGVyIChlLmcuIGBzdXBlci51cGRhdGVDb21wbGV0ZS50aGVuKC4uLilgKSB3aGVuIHRoZSB0YXJnZXRcbiAgICAgKiBsYW5ndWFnZSBpcyBFUzUgKGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4KS5cbiAgICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGRlbiBpbnN0ZWFkLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICBvdmVycmlkZSBhc3luYyBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgKiAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5fbXlDaGlsZC51cGRhdGVDb21wbGV0ZTtcbiAgICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGdldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3VwZGF0ZVByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGUoKWAgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IHJlcXVlc3RzXG4gICAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAgICogYW5vdGhlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIFRoZSBmb3JFYWNoKCkgZXhwcmVzc2lvbiB3aWxsIG9ubHkgcnVuIHdoZW4gX19yZWZsZWN0aW5nUHJvcGVydGllcyBpc1xuICAgICAgICAvLyBkZWZpbmVkLCBhbmQgaXQgcmV0dXJucyB1bmRlZmluZWQsIHNldHRpbmcgX19yZWZsZWN0aW5nUHJvcGVydGllcyB0b1xuICAgICAgICAvLyB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICYmPSB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgocCkgPT4gdGhpcy5fX3Byb3BlcnR5VG9BdHRyaWJ1dGUocCwgdGhpc1twXSkpO1xuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7IH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogZmlyc3RVcGRhdGVkKCkge1xuICAgICAqICAgdGhpcy5yZW5kZXJSb290LmdldEVsZW1lbnRCeUlkKCdteS10ZXh0LWFyZWEnKS5mb2N1cygpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHsgfVxufVxuLyoqXG4gKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHN0eWxlcy5cbiAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICogQG5vY29sbGFwc2VcbiAqIEBjYXRlZ29yeSBzdHlsZXNcbiAqL1xuUmVhY3RpdmVFbGVtZW50LmVsZW1lbnRTdHlsZXMgPSBbXTtcbi8qKlxuICogT3B0aW9ucyB1c2VkIHdoZW4gY2FsbGluZyBgYXR0YWNoU2hhZG93YC4gU2V0IHRoaXMgcHJvcGVydHkgdG8gY3VzdG9taXplXG4gKiB0aGUgb3B0aW9ucyBmb3IgdGhlIHNoYWRvd1Jvb3Q7IGZvciBleGFtcGxlLCB0byBjcmVhdGUgYSBjbG9zZWRcbiAqIHNoYWRvd1Jvb3Q6IGB7bW9kZTogJ2Nsb3NlZCd9YC5cbiAqXG4gKiBOb3RlLCB0aGVzZSBvcHRpb25zIGFyZSB1c2VkIGluIGBjcmVhdGVSZW5kZXJSb290YC4gSWYgdGhpcyBtZXRob2RcbiAqIGlzIGN1c3RvbWl6ZWQsIG9wdGlvbnMgc2hvdWxkIGJlIHJlc3BlY3RlZCBpZiBwb3NzaWJsZS5cbiAqIEBub2NvbGxhcHNlXG4gKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gKi9cblJlYWN0aXZlRWxlbWVudC5zaGFkb3dSb290T3B0aW9ucyA9IHsgbW9kZTogJ29wZW4nIH07XG4vLyBBc3NpZ25lZCBoZXJlIHRvIHdvcmsgYXJvdW5kIGEganNjb21waWxlciBidWcgd2l0aCBzdGF0aWMgZmllbGRzXG4vLyB3aGVuIGNvbXBpbGluZyB0byBFUzUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxNzdcblJlYWN0aXZlRWxlbWVudFtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIFJlYWN0aXZlRWxlbWVudCldID0gbmV3IE1hcCgpO1xuUmVhY3RpdmVFbGVtZW50W0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIFJlYWN0aXZlRWxlbWVudCldID0gbmV3IE1hcCgpO1xuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxucG9seWZpbGxTdXBwb3J0Py4oeyBSZWFjdGl2ZUVsZW1lbnQgfSk7XG4vLyBEZXYgbW9kZSB3YXJuaW5ncy4uLlxuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRGVmYXVsdCB3YXJuaW5nIHNldC5cbiAgICBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlZFdhcm5pbmdzID0gW1xuICAgICAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZScsXG4gICAgXTtcbiAgICBjb25zdCBlbnN1cmVPd25XYXJuaW5ncyA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICAgIGlmICghY3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbmFibGVkV2FybmluZ3MnLCBjdG9yKSkpIHtcbiAgICAgICAgICAgIGN0b3IuZW5hYmxlZFdhcm5pbmdzID0gY3Rvci5lbmFibGVkV2FybmluZ3Muc2xpY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAod2FybmluZykge1xuICAgICAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWRXYXJuaW5ncy5pbmNsdWRlcyh3YXJuaW5nKSkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MucHVzaCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RpdmVFbGVtZW50LmRpc2FibGVXYXJuaW5nID0gZnVuY3Rpb24gKHdhcm5pbmcpIHtcbiAgICAgICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmVuYWJsZWRXYXJuaW5ncy5pbmRleE9mKHdhcm5pbmcpO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWRXYXJuaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBSZWFjdGl2ZUVsZW1lbnQgdXNhZ2UuXG4oZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgnMi4xLjEnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWwucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGAgK1xuICAgICAgICAgICAgYGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0aXZlLWVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lit/reactive-element/development/reactive-element.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/erc20.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/contracts/erc20.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   erc20ABI: () => (/* binding */ erc20ABI)\n/* harmony export */ });\nconst erc20ABI = [\n    {\n        type: 'function',\n        name: 'transfer',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: '_to',\n                type: 'address'\n            },\n            {\n                name: '_value',\n                type: 'uint256'\n            }\n        ],\n        outputs: [\n            {\n                name: '',\n                type: 'bool'\n            }\n        ]\n    },\n    {\n        type: 'function',\n        name: 'transferFrom',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: '_from',\n                type: 'address'\n            },\n            {\n                name: '_to',\n                type: 'address'\n            },\n            {\n                name: '_value',\n                type: 'uint256'\n            }\n        ],\n        outputs: [\n            {\n                name: '',\n                type: 'bool'\n            }\n        ]\n    }\n];\n//# sourceMappingURL=erc20.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvY29udHJhY3RzL2VyYzIwLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29tbW9uL2Rpc3QvZXNtL3NyYy9jb250cmFjdHMvZXJjMjAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVyYzIwQUJJID0gW1xuICAgIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZTogJ3RyYW5zZmVyJyxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiAnbm9ucGF5YWJsZScsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdfdG8nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnX3ZhbHVlJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndWludDI1NidcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgIG5hbWU6ICd0cmFuc2ZlckZyb20nLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6ICdub25wYXlhYmxlJyxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ19mcm9tJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ190bycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FkZHJlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdfdmFsdWUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd1aW50MjU2J1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Jvb2wnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJjMjAuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/erc20.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/swap.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/contracts/swap.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   swapABI: () => (/* binding */ swapABI)\n/* harmony export */ });\nconst swapABI = [\n    {\n        type: 'function',\n        name: 'approve',\n        stateMutability: 'nonpayable',\n        inputs: [\n            { name: 'spender', type: 'address' },\n            { name: 'amount', type: 'uint256' }\n        ],\n        outputs: [{ type: 'bool' }]\n    }\n];\n//# sourceMappingURL=swap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvY29udHJhY3RzL3N3YXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0NBQWtDO0FBQ2hELGNBQWM7QUFDZDtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvY29udHJhY3RzL3N3YXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN3YXBBQkkgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lOiAnYXBwcm92ZScsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogJ25vbnBheWFibGUnLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NwZW5kZXInLCB0eXBlOiAnYWRkcmVzcycgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2Ftb3VudCcsIHR5cGU6ICd1aW50MjU2JyB9XG4gICAgICAgIF0sXG4gICAgICAgIG91dHB1dHM6IFt7IHR5cGU6ICdib29sJyB9XVxuICAgIH1cbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2FwLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/swap.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/usdt.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/contracts/usdt.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usdtABI: () => (/* binding */ usdtABI)\n/* harmony export */ });\nconst usdtABI = [\n    {\n        type: 'function',\n        name: 'transfer',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'recipient',\n                type: 'address'\n            },\n            {\n                name: 'amount',\n                type: 'uint256'\n            }\n        ],\n        outputs: []\n    },\n    {\n        type: 'function',\n        name: 'transferFrom',\n        stateMutability: 'nonpayable',\n        inputs: [\n            {\n                name: 'sender',\n                type: 'address'\n            },\n            {\n                name: 'recipient',\n                type: 'address'\n            },\n            {\n                name: 'amount',\n                type: 'uint256'\n            }\n        ],\n        outputs: [\n            {\n                name: '',\n                type: 'bool'\n            }\n        ]\n    }\n];\n//# sourceMappingURL=usdt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvY29udHJhY3RzL3VzZHQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvY29udHJhY3RzL3VzZHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHVzZHRBQkkgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lOiAndHJhbnNmZXInLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6ICdub25wYXlhYmxlJyxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3JlY2lwaWVudCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FkZHJlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhbW91bnQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd1aW50MjU2J1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvdXRwdXRzOiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lOiAndHJhbnNmZXJGcm9tJyxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiAnbm9ucGF5YWJsZScsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdzZW5kZXInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAncmVjaXBpZW50JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2Ftb3VudCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3VpbnQyNTYnXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYm9vbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2R0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/usdt.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\nconst ConstantsUtil = {\n    WC_NAME_SUFFIX: '.reown.id',\n    WC_NAME_SUFFIX_LEGACY: '.wcn.id',\n    BLOCKCHAIN_API_RPC_URL: 'https://rpc.walletconnect.org',\n    PULSE_API_URL: 'https://pulse.walletconnect.org',\n    W3M_API_URL: 'https://api.web3modal.org',\n    CONNECTOR_ID: {\n        WALLET_CONNECT: 'walletConnect',\n        INJECTED: 'injected',\n        WALLET_STANDARD: 'announced',\n        COINBASE: 'coinbaseWallet',\n        COINBASE_SDK: 'coinbaseWalletSDK',\n        SAFE: 'safe',\n        LEDGER: 'ledger',\n        OKX: 'okx',\n        EIP6963: 'eip6963',\n        AUTH: 'AUTH'\n    },\n    CONNECTOR_NAMES: {\n        AUTH: 'Auth'\n    },\n    AUTH_CONNECTOR_SUPPORTED_CHAINS: ['eip155', 'solana'],\n    LIMITS: {\n        PENDING_TRANSACTIONS: 99\n    },\n    CHAIN: {\n        EVM: 'eip155',\n        SOLANA: 'solana',\n        POLKADOT: 'polkadot',\n        BITCOIN: 'bip122'\n    },\n    CHAIN_NAME_MAP: {\n        eip155: 'EVM Networks',\n        solana: 'Solana',\n        polkadot: 'Polkadot',\n        bip122: 'Bitcoin',\n        cosmos: 'Cosmos',\n        sui: 'Sui',\n        stacks: 'Stacks'\n    },\n    ADAPTER_TYPES: {\n        BITCOIN: 'bitcoin',\n        SOLANA: 'solana',\n        WAGMI: 'wagmi',\n        ETHERS: 'ethers',\n        ETHERS5: 'ethers5'\n    },\n    USDT_CONTRACT_ADDRESSES: [\n        '0xdac17f958d2ee523a2206206994597c13d831ec7',\n        '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n        '0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7',\n        '0x919C1c267BC06a7039e03fcc2eF738525769109c',\n        '0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e',\n        '0x55d398326f99059fF775485246999027B3197955',\n        '0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9'\n    ],\n    SOLANA_SPL_TOKEN_ADDRESSES: {\n        SOL: 'So11111111111111111111111111111111111111112'\n    },\n    HTTP_STATUS_CODES: {\n        SERVER_ERROR: 500,\n        TOO_MANY_REQUESTS: 429,\n        SERVICE_UNAVAILABLE: 503,\n        FORBIDDEN: 403\n    },\n    UNSUPPORTED_NETWORK_NAME: 'Unknown Network',\n    SECURE_SITE_SDK_ORIGIN: (typeof process !== 'undefined' && typeof process.env !== 'undefined'\n        ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']\n        : undefined) || 'https://secure.walletconnect.org',\n    REMOTE_FEATURES_ALERTS: {\n        MULTI_WALLET_NOT_ENABLED: {\n            DEFAULT: {\n                displayMessage: 'Multi-Wallet Not Enabled',\n                debugMessage: 'Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com.'\n            },\n            CONNECTIONS_HOOK: {\n                displayMessage: 'Multi-Wallet Not Enabled',\n                debugMessage: 'Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook.'\n            },\n            CONNECTION_HOOK: {\n                displayMessage: 'Multi-Wallet Not Enabled',\n                debugMessage: 'Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook.'\n            }\n        }\n    },\n    IS_DEVELOPMENT: typeof process !== 'undefined' && \"development\" === 'development',\n    DEFAULT_ALLOWED_ANCESTORS: [\n        'http://localhost:*',\n        'https://localhost:*',\n        'http://127.0.0.1:*',\n        'https://127.0.0.1:*',\n        'https://*.pages.dev',\n        'https://*.vercel.app',\n        'https://*.ngrok-free.app',\n        'https://secure-mobile.walletconnect.com',\n        'https://secure-mobile.walletconnect.org'\n    ]\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MsT0FBTywyQkFBMkIsT0FBTztBQUM3RSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJCQUEyQixPQUFPLG9CQUFvQixhQUF1QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQ29uc3RhbnRzVXRpbCA9IHtcbiAgICBXQ19OQU1FX1NVRkZJWDogJy5yZW93bi5pZCcsXG4gICAgV0NfTkFNRV9TVUZGSVhfTEVHQUNZOiAnLndjbi5pZCcsXG4gICAgQkxPQ0tDSEFJTl9BUElfUlBDX1VSTDogJ2h0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnJyxcbiAgICBQVUxTRV9BUElfVVJMOiAnaHR0cHM6Ly9wdWxzZS53YWxsZXRjb25uZWN0Lm9yZycsXG4gICAgVzNNX0FQSV9VUkw6ICdodHRwczovL2FwaS53ZWIzbW9kYWwub3JnJyxcbiAgICBDT05ORUNUT1JfSUQ6IHtcbiAgICAgICAgV0FMTEVUX0NPTk5FQ1Q6ICd3YWxsZXRDb25uZWN0JyxcbiAgICAgICAgSU5KRUNURUQ6ICdpbmplY3RlZCcsXG4gICAgICAgIFdBTExFVF9TVEFOREFSRDogJ2Fubm91bmNlZCcsXG4gICAgICAgIENPSU5CQVNFOiAnY29pbmJhc2VXYWxsZXQnLFxuICAgICAgICBDT0lOQkFTRV9TREs6ICdjb2luYmFzZVdhbGxldFNESycsXG4gICAgICAgIFNBRkU6ICdzYWZlJyxcbiAgICAgICAgTEVER0VSOiAnbGVkZ2VyJyxcbiAgICAgICAgT0tYOiAnb2t4JyxcbiAgICAgICAgRUlQNjk2MzogJ2VpcDY5NjMnLFxuICAgICAgICBBVVRIOiAnQVVUSCdcbiAgICB9LFxuICAgIENPTk5FQ1RPUl9OQU1FUzoge1xuICAgICAgICBBVVRIOiAnQXV0aCdcbiAgICB9LFxuICAgIEFVVEhfQ09OTkVDVE9SX1NVUFBPUlRFRF9DSEFJTlM6IFsnZWlwMTU1JywgJ3NvbGFuYSddLFxuICAgIExJTUlUUzoge1xuICAgICAgICBQRU5ESU5HX1RSQU5TQUNUSU9OUzogOTlcbiAgICB9LFxuICAgIENIQUlOOiB7XG4gICAgICAgIEVWTTogJ2VpcDE1NScsXG4gICAgICAgIFNPTEFOQTogJ3NvbGFuYScsXG4gICAgICAgIFBPTEtBRE9UOiAncG9sa2Fkb3QnLFxuICAgICAgICBCSVRDT0lOOiAnYmlwMTIyJ1xuICAgIH0sXG4gICAgQ0hBSU5fTkFNRV9NQVA6IHtcbiAgICAgICAgZWlwMTU1OiAnRVZNIE5ldHdvcmtzJyxcbiAgICAgICAgc29sYW5hOiAnU29sYW5hJyxcbiAgICAgICAgcG9sa2Fkb3Q6ICdQb2xrYWRvdCcsXG4gICAgICAgIGJpcDEyMjogJ0JpdGNvaW4nLFxuICAgICAgICBjb3Ntb3M6ICdDb3Ntb3MnLFxuICAgICAgICBzdWk6ICdTdWknLFxuICAgICAgICBzdGFja3M6ICdTdGFja3MnXG4gICAgfSxcbiAgICBBREFQVEVSX1RZUEVTOiB7XG4gICAgICAgIEJJVENPSU46ICdiaXRjb2luJyxcbiAgICAgICAgU09MQU5BOiAnc29sYW5hJyxcbiAgICAgICAgV0FHTUk6ICd3YWdtaScsXG4gICAgICAgIEVUSEVSUzogJ2V0aGVycycsXG4gICAgICAgIEVUSEVSUzU6ICdldGhlcnM1J1xuICAgIH0sXG4gICAgVVNEVF9DT05UUkFDVF9BRERSRVNTRVM6IFtcbiAgICAgICAgJzB4ZGFjMTdmOTU4ZDJlZTUyM2EyMjA2MjA2OTk0NTk3YzEzZDgzMWVjNycsXG4gICAgICAgICcweGMyMTMyZDA1ZDMxYzkxNGE4N2M2NjExYzEwNzQ4YWViMDRiNThlOGYnLFxuICAgICAgICAnMHg5NzAyMjMwYThlYTUzNjAxZjVjZDJkYzAwZmRiYzEzZDRkZjRhOGM3JyxcbiAgICAgICAgJzB4OTE5QzFjMjY3QkMwNmE3MDM5ZTAzZmNjMmVGNzM4NTI1NzY5MTA5YycsXG4gICAgICAgICcweDQ4MDY1ZmJCRTI1ZjcxQzkyODJkZGY1ZTFjRDZENkE4ODc0ODNENWUnLFxuICAgICAgICAnMHg1NWQzOTgzMjZmOTkwNTlmRjc3NTQ4NTI0Njk5OTAyN0IzMTk3OTU1JyxcbiAgICAgICAgJzB4ZmQwODZiYzdjZDVjNDgxZGNjOWM4NWViZTQ3OGExYzBiNjlmY2JiOSdcbiAgICBdLFxuICAgIFNPTEFOQV9TUExfVE9LRU5fQUREUkVTU0VTOiB7XG4gICAgICAgIFNPTDogJ1NvMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTInXG4gICAgfSxcbiAgICBIVFRQX1NUQVRVU19DT0RFUzoge1xuICAgICAgICBTRVJWRVJfRVJST1I6IDUwMCxcbiAgICAgICAgVE9PX01BTllfUkVRVUVTVFM6IDQyOSxcbiAgICAgICAgU0VSVklDRV9VTkFWQUlMQUJMRTogNTAzLFxuICAgICAgICBGT1JCSURERU46IDQwM1xuICAgIH0sXG4gICAgVU5TVVBQT1JURURfTkVUV09SS19OQU1FOiAnVW5rbm93biBOZXR3b3JrJyxcbiAgICBTRUNVUkVfU0lURV9TREtfT1JJR0lOOiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLmVudiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBwcm9jZXNzLmVudlsnTkVYVF9QVUJMSUNfU0VDVVJFX1NJVEVfT1JJR0lOJ11cbiAgICAgICAgOiB1bmRlZmluZWQpIHx8ICdodHRwczovL3NlY3VyZS53YWxsZXRjb25uZWN0Lm9yZycsXG4gICAgUkVNT1RFX0ZFQVRVUkVTX0FMRVJUUzoge1xuICAgICAgICBNVUxUSV9XQUxMRVRfTk9UX0VOQUJMRUQ6IHtcbiAgICAgICAgICAgIERFRkFVTFQ6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ011bHRpLVdhbGxldCBOb3QgRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAnTXVsdGktd2FsbGV0IHN1cHBvcnQgaXMgbm90IGVuYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4geW91ciBBcHBLaXQgY29uZmlndXJhdGlvbiBhdCBjbG91ZC5yZW93bi5jb20uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENPTk5FQ1RJT05TX0hPT0s6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ011bHRpLVdhbGxldCBOb3QgRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAnTXVsdGktd2FsbGV0IHN1cHBvcnQgaXMgbm90IGVuYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4geW91ciBBcHBLaXQgY29uZmlndXJhdGlvbiBhdCBjbG91ZC5yZW93bi5jb20gdG8gdXNlIHRoZSB1c2VBcHBLaXRDb25uZWN0aW9ucyBob29rLidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDT05ORUNUSU9OX0hPT0s6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ011bHRpLVdhbGxldCBOb3QgRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAnTXVsdGktd2FsbGV0IHN1cHBvcnQgaXMgbm90IGVuYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4geW91ciBBcHBLaXQgY29uZmlndXJhdGlvbiBhdCBjbG91ZC5yZW93bi5jb20gdG8gdXNlIHRoZSB1c2VBcHBLaXRDb25uZWN0aW9uIGhvb2suJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBJU19ERVZFTE9QTUVOVDogdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52WydOT0RFX0VOViddID09PSAnZGV2ZWxvcG1lbnQnLFxuICAgIERFRkFVTFRfQUxMT1dFRF9BTkNFU1RPUlM6IFtcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6KicsXG4gICAgICAgICdodHRwczovL2xvY2FsaG9zdDoqJyxcbiAgICAgICAgJ2h0dHA6Ly8xMjcuMC4wLjE6KicsXG4gICAgICAgICdodHRwczovLzEyNy4wLjAuMToqJyxcbiAgICAgICAgJ2h0dHBzOi8vKi5wYWdlcy5kZXYnLFxuICAgICAgICAnaHR0cHM6Ly8qLnZlcmNlbC5hcHAnLFxuICAgICAgICAnaHR0cHM6Ly8qLm5ncm9rLWZyZWUuYXBwJyxcbiAgICAgICAgJ2h0dHBzOi8vc2VjdXJlLW1vYmlsZS53YWxsZXRjb25uZWN0LmNvbScsXG4gICAgICAgICdodHRwczovL3NlY3VyZS1tb2JpbGUud2FsbGV0Y29ubmVjdC5vcmcnXG4gICAgXVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContractUtil: () => (/* binding */ ContractUtil)\n/* harmony export */ });\n/* harmony import */ var _contracts_erc20_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contracts/erc20.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/erc20.js\");\n/* harmony import */ var _contracts_swap_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contracts/swap.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/swap.js\");\n/* harmony import */ var _contracts_usdt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/usdt.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/contracts/usdt.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\nconst ContractUtil = {\n    getERC20Abi: (tokenAddress) => {\n        if (_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(tokenAddress)) {\n            return _contracts_usdt_js__WEBPACK_IMPORTED_MODULE_1__.usdtABI;\n        }\n        return _contracts_erc20_js__WEBPACK_IMPORTED_MODULE_2__.erc20ABI;\n    },\n    getSwapAbi: () => _contracts_swap_js__WEBPACK_IMPORTED_MODULE_3__.swapABI\n};\n//# sourceMappingURL=ContractUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvQ29udHJhY3RVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ0Y7QUFDQTtBQUNJO0FBQzVDO0FBQ1A7QUFDQSxZQUFZLDREQUFhO0FBQ3pCLG1CQUFtQix1REFBTztBQUMxQjtBQUNBLGVBQWUseURBQVE7QUFDdkIsS0FBSztBQUNMLHNCQUFzQix1REFBTztBQUM3QjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29tbW9uL2Rpc3QvZXNtL3NyYy91dGlscy9Db250cmFjdFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJjMjBBQkkgfSBmcm9tICcuLi9jb250cmFjdHMvZXJjMjAuanMnO1xuaW1wb3J0IHsgc3dhcEFCSSB9IGZyb20gJy4uL2NvbnRyYWN0cy9zd2FwLmpzJztcbmltcG9ydCB7IHVzZHRBQkkgfSBmcm9tICcuLi9jb250cmFjdHMvdXNkdC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbmV4cG9ydCBjb25zdCBDb250cmFjdFV0aWwgPSB7XG4gICAgZ2V0RVJDMjBBYmk6ICh0b2tlbkFkZHJlc3MpID0+IHtcbiAgICAgICAgaWYgKENvbnN0YW50c1V0aWwuVVNEVF9DT05UUkFDVF9BRERSRVNTRVMuaW5jbHVkZXModG9rZW5BZGRyZXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVzZHRBQkk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVyYzIwQUJJO1xuICAgIH0sXG4gICAgZ2V0U3dhcEFiaTogKCkgPT4gc3dhcEFCSVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyYWN0VXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/DateUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/DateUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DateUtil: () => (/* binding */ DateUtil)\n/* harmony export */ });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"(app-pages-browser)/./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs_locale_en_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/locale/en.js */ \"(app-pages-browser)/./node_modules/dayjs/locale/en.js\");\n/* harmony import */ var dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/relativeTime.js */ \"(app-pages-browser)/./node_modules/dayjs/plugin/relativeTime.js\");\n/* harmony import */ var dayjs_plugin_updateLocale_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/updateLocale.js */ \"(app-pages-browser)/./node_modules/dayjs/plugin/updateLocale.js\");\n\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_0__.extend(dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2__);\ndayjs__WEBPACK_IMPORTED_MODULE_0__.extend(dayjs_plugin_updateLocale_js__WEBPACK_IMPORTED_MODULE_3__);\nconst localeObject = {\n    ...dayjs_locale_en_js__WEBPACK_IMPORTED_MODULE_1__,\n    name: 'en-web3-modal',\n    relativeTime: {\n        future: 'in %s',\n        past: '%s ago',\n        s: '%d sec',\n        m: '1 min',\n        mm: '%d min',\n        h: '1 hr',\n        hh: '%d hrs',\n        d: '1 d',\n        dd: '%d d',\n        M: '1 mo',\n        MM: '%d mo',\n        y: '1 yr',\n        yy: '%d yr'\n    }\n};\nconst MONTH_NAMES = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\ndayjs__WEBPACK_IMPORTED_MODULE_0__.locale('en-web3-modal', localeObject);\nconst DateUtil = {\n    getMonthNameByIndex(monthIndex) {\n        return MONTH_NAMES[monthIndex];\n    },\n    getYear(date = new Date().toISOString()) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_0__(date).year();\n    },\n    getRelativeDateFromNow(date) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_0__(date).locale('en-web3-modal').fromNow(true);\n    },\n    formatDate(date, format = 'DD MMM') {\n        return dayjs__WEBPACK_IMPORTED_MODULE_0__(date).format(format);\n    }\n};\n//# sourceMappingURL=DateUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvRGF0ZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEI7QUFDcUI7QUFDUztBQUNBO0FBQ3hELHlDQUFZLENBQUMseURBQVk7QUFDekIseUNBQVksQ0FBQyx5REFBWTtBQUN6QjtBQUNBLE9BQU8sK0NBQWE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBWTtBQUNMO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0NBQUs7QUFDcEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrQ0FBSztBQUNwQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtDQUFLO0FBQ3BCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvRGF0ZVV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCBlbmdsaXNoTG9jYWxlIGZyb20gJ2RheWpzL2xvY2FsZS9lbi5qcyc7XG5pbXBvcnQgcmVsYXRpdmVUaW1lIGZyb20gJ2RheWpzL3BsdWdpbi9yZWxhdGl2ZVRpbWUuanMnO1xuaW1wb3J0IHVwZGF0ZUxvY2FsZSBmcm9tICdkYXlqcy9wbHVnaW4vdXBkYXRlTG9jYWxlLmpzJztcbmRheWpzLmV4dGVuZChyZWxhdGl2ZVRpbWUpO1xuZGF5anMuZXh0ZW5kKHVwZGF0ZUxvY2FsZSk7XG5jb25zdCBsb2NhbGVPYmplY3QgPSB7XG4gICAgLi4uZW5nbGlzaExvY2FsZSxcbiAgICBuYW1lOiAnZW4td2ViMy1tb2RhbCcsXG4gICAgcmVsYXRpdmVUaW1lOiB7XG4gICAgICAgIGZ1dHVyZTogJ2luICVzJyxcbiAgICAgICAgcGFzdDogJyVzIGFnbycsXG4gICAgICAgIHM6ICclZCBzZWMnLFxuICAgICAgICBtOiAnMSBtaW4nLFxuICAgICAgICBtbTogJyVkIG1pbicsXG4gICAgICAgIGg6ICcxIGhyJyxcbiAgICAgICAgaGg6ICclZCBocnMnLFxuICAgICAgICBkOiAnMSBkJyxcbiAgICAgICAgZGQ6ICclZCBkJyxcbiAgICAgICAgTTogJzEgbW8nLFxuICAgICAgICBNTTogJyVkIG1vJyxcbiAgICAgICAgeTogJzEgeXInLFxuICAgICAgICB5eTogJyVkIHlyJ1xuICAgIH1cbn07XG5jb25zdCBNT05USF9OQU1FUyA9IFtcbiAgICAnSmFudWFyeScsXG4gICAgJ0ZlYnJ1YXJ5JyxcbiAgICAnTWFyY2gnLFxuICAgICdBcHJpbCcsXG4gICAgJ01heScsXG4gICAgJ0p1bmUnLFxuICAgICdKdWx5JyxcbiAgICAnQXVndXN0JyxcbiAgICAnU2VwdGVtYmVyJyxcbiAgICAnT2N0b2JlcicsXG4gICAgJ05vdmVtYmVyJyxcbiAgICAnRGVjZW1iZXInXG5dO1xuZGF5anMubG9jYWxlKCdlbi13ZWIzLW1vZGFsJywgbG9jYWxlT2JqZWN0KTtcbmV4cG9ydCBjb25zdCBEYXRlVXRpbCA9IHtcbiAgICBnZXRNb250aE5hbWVCeUluZGV4KG1vbnRoSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIE1PTlRIX05BTUVTW21vbnRoSW5kZXhdO1xuICAgIH0sXG4gICAgZ2V0WWVhcihkYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpKSB7XG4gICAgICAgIHJldHVybiBkYXlqcyhkYXRlKS55ZWFyKCk7XG4gICAgfSxcbiAgICBnZXRSZWxhdGl2ZURhdGVGcm9tTm93KGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRheWpzKGRhdGUpLmxvY2FsZSgnZW4td2ViMy1tb2RhbCcpLmZyb21Ob3codHJ1ZSk7XG4gICAgfSxcbiAgICBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCA9ICdERCBNTU0nKSB7XG4gICAgICAgIHJldHVybiBkYXlqcyhkYXRlKS5mb3JtYXQoZm9ybWF0KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0ZVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/DateUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorUtil: () => (/* binding */ ErrorUtil),\n/* harmony export */   ProviderRpcError: () => (/* binding */ ProviderRpcError),\n/* harmony export */   UserRejectedRequestError: () => (/* binding */ UserRejectedRequestError)\n/* harmony export */ });\nconst ErrorUtil = {\n    RPC_ERROR_CODE: {\n        USER_REJECTED_REQUEST: 4001,\n        USER_REJECTED_METHODS: 5002,\n        USER_REJECTED: 5000\n    },\n    PROVIDER_RPC_ERROR_NAME: {\n        PROVIDER_RPC: 'ProviderRpcError',\n        USER_REJECTED_REQUEST: 'UserRejectedRequestError'\n    },\n    isRpcProviderError(error) {\n        try {\n            if (typeof error === 'object' && error !== null) {\n                const objErr = error;\n                const hasMessage = typeof objErr['message'] === 'string';\n                const hasCode = typeof objErr['code'] === 'number';\n                return hasMessage && hasCode;\n            }\n            return false;\n        }\n        catch {\n            return false;\n        }\n    },\n    isUserRejectedMessage(message) {\n        return (message.toLowerCase().includes('user rejected') ||\n            message.toLowerCase().includes('user cancelled') ||\n            message.toLowerCase().includes('user canceled'));\n    },\n    isUserRejectedRequestError(error) {\n        if (ErrorUtil.isRpcProviderError(error)) {\n            const isUserRejectedCode = error.code === ErrorUtil.RPC_ERROR_CODE.USER_REJECTED_REQUEST;\n            const isUserRejectedMethodsCode = error.code === ErrorUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n            return (isUserRejectedCode ||\n                isUserRejectedMethodsCode ||\n                ErrorUtil.isUserRejectedMessage(error.message));\n        }\n        if (error instanceof Error) {\n            return ErrorUtil.isUserRejectedMessage(error.message);\n        }\n        return false;\n    }\n};\nclass ProviderRpcError extends Error {\n    constructor(cause, options) {\n        super(options.message, { cause });\n        this.name = ErrorUtil.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC;\n        this.code = options.code;\n    }\n}\nclass UserRejectedRequestError extends ProviderRpcError {\n    constructor(cause) {\n        super(cause, {\n            code: ErrorUtil.RPC_ERROR_CODE.USER_REJECTED_REQUEST,\n            message: 'User rejected the request'\n        });\n        this.name = ErrorUtil.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST;\n    }\n}\n//# sourceMappingURL=ErrorUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvRXJyb3JVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUNBQWlDLE9BQU87QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29tbW9uL2Rpc3QvZXNtL3NyYy91dGlscy9FcnJvclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEVycm9yVXRpbCA9IHtcbiAgICBSUENfRVJST1JfQ09ERToge1xuICAgICAgICBVU0VSX1JFSkVDVEVEX1JFUVVFU1Q6IDQwMDEsXG4gICAgICAgIFVTRVJfUkVKRUNURURfTUVUSE9EUzogNTAwMixcbiAgICAgICAgVVNFUl9SRUpFQ1RFRDogNTAwMFxuICAgIH0sXG4gICAgUFJPVklERVJfUlBDX0VSUk9SX05BTUU6IHtcbiAgICAgICAgUFJPVklERVJfUlBDOiAnUHJvdmlkZXJScGNFcnJvcicsXG4gICAgICAgIFVTRVJfUkVKRUNURURfUkVRVUVTVDogJ1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcidcbiAgICB9LFxuICAgIGlzUnBjUHJvdmlkZXJFcnJvcihlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmpFcnIgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNNZXNzYWdlID0gdHlwZW9mIG9iakVyclsnbWVzc2FnZSddID09PSAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDb2RlID0gdHlwZW9mIG9iakVyclsnY29kZSddID09PSAnbnVtYmVyJztcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzTWVzc2FnZSAmJiBoYXNDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXNVc2VyUmVqZWN0ZWRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIChtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3VzZXIgcmVqZWN0ZWQnKSB8fFxuICAgICAgICAgICAgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd1c2VyIGNhbmNlbGxlZCcpIHx8XG4gICAgICAgICAgICBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3VzZXIgY2FuY2VsZWQnKSk7XG4gICAgfSxcbiAgICBpc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcikge1xuICAgICAgICBpZiAoRXJyb3JVdGlsLmlzUnBjUHJvdmlkZXJFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzVXNlclJlamVjdGVkQ29kZSA9IGVycm9yLmNvZGUgPT09IEVycm9yVXRpbC5SUENfRVJST1JfQ09ERS5VU0VSX1JFSkVDVEVEX1JFUVVFU1Q7XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJSZWplY3RlZE1ldGhvZHNDb2RlID0gZXJyb3IuY29kZSA9PT0gRXJyb3JVdGlsLlJQQ19FUlJPUl9DT0RFLlVTRVJfUkVKRUNURURfTUVUSE9EUztcbiAgICAgICAgICAgIHJldHVybiAoaXNVc2VyUmVqZWN0ZWRDb2RlIHx8XG4gICAgICAgICAgICAgICAgaXNVc2VyUmVqZWN0ZWRNZXRob2RzQ29kZSB8fFxuICAgICAgICAgICAgICAgIEVycm9yVXRpbC5pc1VzZXJSZWplY3RlZE1lc3NhZ2UoZXJyb3IubWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JVdGlsLmlzVXNlclJlamVjdGVkTWVzc2FnZShlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBQcm92aWRlclJwY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNhdXNlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMubWVzc2FnZSwgeyBjYXVzZSB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gRXJyb3JVdGlsLlBST1ZJREVSX1JQQ19FUlJPUl9OQU1FLlBST1ZJREVSX1JQQztcbiAgICAgICAgdGhpcy5jb2RlID0gb3B0aW9ucy5jb2RlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBQcm92aWRlclJwY0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihjYXVzZSkge1xuICAgICAgICBzdXBlcihjYXVzZSwge1xuICAgICAgICAgICAgY29kZTogRXJyb3JVdGlsLlJQQ19FUlJPUl9DT0RFLlVTRVJfUkVKRUNURURfUkVRVUVTVCxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0J1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gRXJyb3JVdGlsLlBST1ZJREVSX1JQQ19FUlJPUl9OQU1FLlVTRVJfUkVKRUNURURfUkVRVUVTVDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FcnJvclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AVAILABLE_NAMESPACES: () => (/* binding */ AVAILABLE_NAMESPACES),\n/* harmony export */   NetworkUtil: () => (/* binding */ NetworkUtil)\n/* harmony export */ });\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n\nconst NetworkUtil = {\n    caipNetworkIdToNumber(caipnetworkId) {\n        return caipnetworkId ? Number(caipnetworkId.split(':')[1]) : undefined;\n    },\n    parseEvmChainId(chainId) {\n        return typeof chainId === 'string'\n            ? this.caipNetworkIdToNumber(chainId)\n            : chainId;\n    },\n    getNetworksByNamespace(networks, namespace) {\n        return networks?.filter(network => network.chainNamespace === namespace) || [];\n    },\n    getFirstNetworkByNamespace(networks, namespace) {\n        return this.getNetworksByNamespace(networks, namespace)[0];\n    },\n    getNetworkNameByCaipNetworkId(caipNetworks, caipNetworkId) {\n        if (!caipNetworkId) {\n            return undefined;\n        }\n        const caipNetwork = caipNetworks.find(network => network.caipNetworkId === caipNetworkId);\n        if (caipNetwork) {\n            return caipNetwork.name;\n        }\n        const [namespace] = caipNetworkId.split(':');\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN_NAME_MAP?.[namespace] || undefined;\n    }\n};\nconst AVAILABLE_NAMESPACES = [\n    'eip155',\n    'solana',\n    'polkadot',\n    'bip122',\n    'cosmos',\n    'sui',\n    'stacks'\n];\n//# sourceMappingURL=NetworkUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvTmV0d29ya1V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQzVDO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBYTtBQUM1QjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb21tb24vZGlzdC9lc20vc3JjL3V0aWxzL05ldHdvcmtVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtVdGlsID0ge1xuICAgIGNhaXBOZXR3b3JrSWRUb051bWJlcihjYWlwbmV0d29ya0lkKSB7XG4gICAgICAgIHJldHVybiBjYWlwbmV0d29ya0lkID8gTnVtYmVyKGNhaXBuZXR3b3JrSWQuc3BsaXQoJzonKVsxXSkgOiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBwYXJzZUV2bUNoYWluSWQoY2hhaW5JZCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGNoYWluSWQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IHRoaXMuY2FpcE5ldHdvcmtJZFRvTnVtYmVyKGNoYWluSWQpXG4gICAgICAgICAgICA6IGNoYWluSWQ7XG4gICAgfSxcbiAgICBnZXROZXR3b3Jrc0J5TmFtZXNwYWNlKG5ldHdvcmtzLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtzPy5maWx0ZXIobmV0d29yayA9PiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBuYW1lc3BhY2UpIHx8IFtdO1xuICAgIH0sXG4gICAgZ2V0Rmlyc3ROZXR3b3JrQnlOYW1lc3BhY2UobmV0d29ya3MsIG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROZXR3b3Jrc0J5TmFtZXNwYWNlKG5ldHdvcmtzLCBuYW1lc3BhY2UpWzBdO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya05hbWVCeUNhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcmtzLCBjYWlwTmV0d29ya0lkKSB7XG4gICAgICAgIGlmICghY2FpcE5ldHdvcmtJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IGNhaXBOZXR3b3Jrcy5maW5kKG5ldHdvcmsgPT4gbmV0d29yay5jYWlwTmV0d29ya0lkID09PSBjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FpcE5ldHdvcmsubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbbmFtZXNwYWNlXSA9IGNhaXBOZXR3b3JrSWQuc3BsaXQoJzonKTtcbiAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuQ0hBSU5fTkFNRV9NQVA/LltuYW1lc3BhY2VdIHx8IHVuZGVmaW5lZDtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IEFWQUlMQUJMRV9OQU1FU1BBQ0VTID0gW1xuICAgICdlaXAxNTUnLFxuICAgICdzb2xhbmEnLFxuICAgICdwb2xrYWRvdCcsXG4gICAgJ2JpcDEyMicsXG4gICAgJ2Nvc21vcycsXG4gICAgJ3N1aScsXG4gICAgJ3N0YWNrcydcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OZXR3b3JrVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NumberUtil: () => (/* binding */ NumberUtil)\n/* harmony export */ });\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! big.js */ \"(app-pages-browser)/./node_modules/big.js/big.mjs\");\n\nconst NumberUtil = {\n    bigNumber(value) {\n        if (!value) {\n            return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0);\n        }\n        return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](value);\n    },\n    multiply(a, b) {\n        if (a === undefined || b === undefined) {\n            return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0);\n        }\n        const aBigNumber = new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](a);\n        const bBigNumber = new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](b);\n        return aBigNumber.times(bBigNumber);\n    },\n    toFixed(value, decimals = 2) {\n        if (value === undefined || value === '') {\n            return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0).toFixed(decimals);\n        }\n        return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](value).toFixed(decimals);\n    },\n    formatNumberToLocalString(value, decimals = 2) {\n        if (value === undefined || value === '') {\n            return '0.00';\n        }\n        if (typeof value === 'number') {\n            return value.toLocaleString('en-US', {\n                maximumFractionDigits: decimals,\n                minimumFractionDigits: decimals,\n                roundingMode: 'floor'\n            });\n        }\n        return parseFloat(value).toLocaleString('en-US', {\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals,\n            roundingMode: 'floor'\n        });\n    },\n    parseLocalStringToNumber(value) {\n        if (value === undefined || value === '') {\n            return 0;\n        }\n        const sanitizedValue = value.replace(/,/gu, '');\n        return new big_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](sanitizedValue).toNumber();\n    }\n};\n//# sourceMappingURL=NumberUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvTnVtYmVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5QjtBQUNsQjtBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsOENBQUc7QUFDMUI7QUFDQSxtQkFBbUIsOENBQUc7QUFDdEIsS0FBSztBQUNMO0FBQ0E7QUFDQSx1QkFBdUIsOENBQUc7QUFDMUI7QUFDQSwrQkFBK0IsOENBQUc7QUFDbEMsK0JBQStCLDhDQUFHO0FBQ2xDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1QkFBdUIsOENBQUc7QUFDMUI7QUFDQSxtQkFBbUIsOENBQUc7QUFDdEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhDQUFHO0FBQ3RCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvTnVtYmVyVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnIGZyb20gJ2JpZy5qcyc7XG5leHBvcnQgY29uc3QgTnVtYmVyVXRpbCA9IHtcbiAgICBiaWdOdW1iZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWcoMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCaWcodmFsdWUpO1xuICAgIH0sXG4gICAgbXVsdGlwbHkoYSwgYikge1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWcoMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYUJpZ051bWJlciA9IG5ldyBCaWcoYSk7XG4gICAgICAgIGNvbnN0IGJCaWdOdW1iZXIgPSBuZXcgQmlnKGIpO1xuICAgICAgICByZXR1cm4gYUJpZ051bWJlci50aW1lcyhiQmlnTnVtYmVyKTtcbiAgICB9LFxuICAgIHRvRml4ZWQodmFsdWUsIGRlY2ltYWxzID0gMikge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmlnKDApLnRvRml4ZWQoZGVjaW1hbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQmlnKHZhbHVlKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICB9LFxuICAgIGZvcm1hdE51bWJlclRvTG9jYWxTdHJpbmcodmFsdWUsIGRlY2ltYWxzID0gMikge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiAnMC4wMCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICAgICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBkZWNpbWFscyxcbiAgICAgICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IGRlY2ltYWxzLFxuICAgICAgICAgICAgICAgIHJvdW5kaW5nTW9kZTogJ2Zsb29yJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogZGVjaW1hbHMsXG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IGRlY2ltYWxzLFxuICAgICAgICAgICAgcm91bmRpbmdNb2RlOiAnZmxvb3InXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFyc2VMb2NhbFN0cmluZ1RvTnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FuaXRpemVkVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8sL2d1LCAnJyk7XG4gICAgICAgIHJldHVybiBuZXcgQmlnKHNhbml0aXplZFZhbHVlKS50b051bWJlcigpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OdW1iZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParseUtil: () => (/* binding */ ParseUtil)\n/* harmony export */ });\nconst ParseUtil = {\n    validateCaipAddress(address) {\n        if (address.split(':')?.length !== 3) {\n            throw new Error('Invalid CAIP Address');\n        }\n        return address;\n    },\n    parseCaipAddress(caipAddress) {\n        const parts = caipAddress.split(':');\n        if (parts.length !== 3) {\n            throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);\n        }\n        const [chainNamespace, chainId, address] = parts;\n        if (!chainNamespace || !chainId || !address) {\n            throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);\n        }\n        return {\n            chainNamespace: chainNamespace,\n            chainId: chainId,\n            address\n        };\n    },\n    parseCaipNetworkId(caipNetworkId) {\n        const parts = caipNetworkId.split(':');\n        if (parts.length !== 2) {\n            throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);\n        }\n        const [chainNamespace, chainId] = parts;\n        if (!chainNamespace || !chainId) {\n            throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);\n        }\n        return {\n            chainNamespace: chainNamespace,\n            chainId: chainId\n        };\n    }\n};\n//# sourceMappingURL=ParseUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvUGFyc2VVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFlBQVk7QUFDcEU7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFlBQVk7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxjQUFjO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxjQUFjO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb21tb24vZGlzdC9lc20vc3JjL3V0aWxzL1BhcnNlVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUGFyc2VVdGlsID0ge1xuICAgIHZhbGlkYXRlQ2FpcEFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICBpZiAoYWRkcmVzcy5zcGxpdCgnOicpPy5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBDQUlQIEFkZHJlc3MnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9LFxuICAgIHBhcnNlQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBjYWlwQWRkcmVzcy5zcGxpdCgnOicpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQ0FJUC0xMCBhZGRyZXNzOiAke2NhaXBBZGRyZXNzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZCwgYWRkcmVzc10gPSBwYXJ0cztcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSB8fCAhY2hhaW5JZCB8fCAhYWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIENBSVAtMTAgYWRkcmVzczogJHtjYWlwQWRkcmVzc31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IGNoYWluTmFtZXNwYWNlLFxuICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZCxcbiAgICAgICAgICAgIGFkZHJlc3NcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHBhcnNlQ2FpcE5ldHdvcmtJZChjYWlwTmV0d29ya0lkKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gY2FpcE5ldHdvcmtJZC5zcGxpdCgnOicpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQ0FJUC0yIG5ldHdvcmsgaWQ6ICR7Y2FpcE5ldHdvcmtJZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbY2hhaW5OYW1lc3BhY2UsIGNoYWluSWRdID0gcGFydHM7XG4gICAgICAgIGlmICghY2hhaW5OYW1lc3BhY2UgfHwgIWNoYWluSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBDQUlQLTIgbmV0d29yayBpZDogJHtjYWlwTmV0d29ya0lkfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogY2hhaW5OYW1lc3BhY2UsXG4gICAgICAgICAgICBjaGFpbklkOiBjaGFpbklkXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnNlVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SafeLocalStorage: () => (/* binding */ SafeLocalStorage),\n/* harmony export */   SafeLocalStorageKeys: () => (/* binding */ SafeLocalStorageKeys),\n/* harmony export */   getSafeConnectorIdKey: () => (/* binding */ getSafeConnectorIdKey),\n/* harmony export */   isSafe: () => (/* binding */ isSafe)\n/* harmony export */ });\nconst SafeLocalStorageKeys = {\n    WALLET_ID: '@appkit/wallet_id',\n    WALLET_NAME: '@appkit/wallet_name',\n    SOLANA_WALLET: '@appkit/solana_wallet',\n    SOLANA_CAIP_CHAIN: '@appkit/solana_caip_chain',\n    ACTIVE_CAIP_NETWORK_ID: '@appkit/active_caip_network_id',\n    CONNECTED_SOCIAL: '@appkit/connected_social',\n    CONNECTED_SOCIAL_USERNAME: '@appkit-wallet/SOCIAL_USERNAME',\n    RECENT_WALLETS: '@appkit/recent_wallets',\n    RECENT_WALLET: '@appkit/recent_wallet',\n    DEEPLINK_CHOICE: 'WALLETCONNECT_DEEPLINK_CHOICE',\n    ACTIVE_NAMESPACE: '@appkit/active_namespace',\n    CONNECTED_NAMESPACES: '@appkit/connected_namespaces',\n    CONNECTION_STATUS: '@appkit/connection_status',\n    SIWX_AUTH_TOKEN: '@appkit/siwx-auth-token',\n    SIWX_NONCE_TOKEN: '@appkit/siwx-nonce-token',\n    TELEGRAM_SOCIAL_PROVIDER: '@appkit/social_provider',\n    NATIVE_BALANCE_CACHE: '@appkit/native_balance_cache',\n    PORTFOLIO_CACHE: '@appkit/portfolio_cache',\n    ENS_CACHE: '@appkit/ens_cache',\n    IDENTITY_CACHE: '@appkit/identity_cache',\n    PREFERRED_ACCOUNT_TYPES: '@appkit/preferred_account_types',\n    CONNECTIONS: '@appkit/connections',\n    DISCONNECTED_CONNECTOR_IDS: '@appkit/disconnected_connector_ids',\n    HISTORY_TRANSACTIONS_CACHE: '@appkit/history_transactions_cache',\n    TOKEN_PRICE_CACHE: '@appkit/token_price_cache',\n    RECENT_EMAILS: '@appkit/recent_emails',\n    LATEST_APPKIT_VERSION: '@appkit/latest_version'\n};\nfunction getSafeConnectorIdKey(namespace) {\n    if (!namespace) {\n        throw new Error('Namespace is required for CONNECTED_CONNECTOR_ID');\n    }\n    return `@appkit/${namespace}:connected_connector_id`;\n}\nconst SafeLocalStorage = {\n    setItem(key, value) {\n        if (isSafe() && value !== undefined) {\n            localStorage.setItem(key, value);\n        }\n    },\n    getItem(key) {\n        if (isSafe()) {\n            return localStorage.getItem(key) || undefined;\n        }\n        return undefined;\n    },\n    removeItem(key) {\n        if (isSafe()) {\n            localStorage.removeItem(key);\n        }\n    },\n    clear() {\n        if (isSafe()) {\n            localStorage.clear();\n        }\n    }\n};\nfunction isSafe() {\n    return typeof window !== 'undefined' && typeof localStorage !== 'undefined';\n}\n//# sourceMappingURL=SafeLocalStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvU2FmZUxvY2FsU3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb21tb24vZGlzdC9lc20vc3JjL3V0aWxzL1NhZmVMb2NhbFN0b3JhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNhZmVMb2NhbFN0b3JhZ2VLZXlzID0ge1xuICAgIFdBTExFVF9JRDogJ0BhcHBraXQvd2FsbGV0X2lkJyxcbiAgICBXQUxMRVRfTkFNRTogJ0BhcHBraXQvd2FsbGV0X25hbWUnLFxuICAgIFNPTEFOQV9XQUxMRVQ6ICdAYXBwa2l0L3NvbGFuYV93YWxsZXQnLFxuICAgIFNPTEFOQV9DQUlQX0NIQUlOOiAnQGFwcGtpdC9zb2xhbmFfY2FpcF9jaGFpbicsXG4gICAgQUNUSVZFX0NBSVBfTkVUV09SS19JRDogJ0BhcHBraXQvYWN0aXZlX2NhaXBfbmV0d29ya19pZCcsXG4gICAgQ09OTkVDVEVEX1NPQ0lBTDogJ0BhcHBraXQvY29ubmVjdGVkX3NvY2lhbCcsXG4gICAgQ09OTkVDVEVEX1NPQ0lBTF9VU0VSTkFNRTogJ0BhcHBraXQtd2FsbGV0L1NPQ0lBTF9VU0VSTkFNRScsXG4gICAgUkVDRU5UX1dBTExFVFM6ICdAYXBwa2l0L3JlY2VudF93YWxsZXRzJyxcbiAgICBSRUNFTlRfV0FMTEVUOiAnQGFwcGtpdC9yZWNlbnRfd2FsbGV0JyxcbiAgICBERUVQTElOS19DSE9JQ0U6ICdXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRScsXG4gICAgQUNUSVZFX05BTUVTUEFDRTogJ0BhcHBraXQvYWN0aXZlX25hbWVzcGFjZScsXG4gICAgQ09OTkVDVEVEX05BTUVTUEFDRVM6ICdAYXBwa2l0L2Nvbm5lY3RlZF9uYW1lc3BhY2VzJyxcbiAgICBDT05ORUNUSU9OX1NUQVRVUzogJ0BhcHBraXQvY29ubmVjdGlvbl9zdGF0dXMnLFxuICAgIFNJV1hfQVVUSF9UT0tFTjogJ0BhcHBraXQvc2l3eC1hdXRoLXRva2VuJyxcbiAgICBTSVdYX05PTkNFX1RPS0VOOiAnQGFwcGtpdC9zaXd4LW5vbmNlLXRva2VuJyxcbiAgICBURUxFR1JBTV9TT0NJQUxfUFJPVklERVI6ICdAYXBwa2l0L3NvY2lhbF9wcm92aWRlcicsXG4gICAgTkFUSVZFX0JBTEFOQ0VfQ0FDSEU6ICdAYXBwa2l0L25hdGl2ZV9iYWxhbmNlX2NhY2hlJyxcbiAgICBQT1JURk9MSU9fQ0FDSEU6ICdAYXBwa2l0L3BvcnRmb2xpb19jYWNoZScsXG4gICAgRU5TX0NBQ0hFOiAnQGFwcGtpdC9lbnNfY2FjaGUnLFxuICAgIElERU5USVRZX0NBQ0hFOiAnQGFwcGtpdC9pZGVudGl0eV9jYWNoZScsXG4gICAgUFJFRkVSUkVEX0FDQ09VTlRfVFlQRVM6ICdAYXBwa2l0L3ByZWZlcnJlZF9hY2NvdW50X3R5cGVzJyxcbiAgICBDT05ORUNUSU9OUzogJ0BhcHBraXQvY29ubmVjdGlvbnMnLFxuICAgIERJU0NPTk5FQ1RFRF9DT05ORUNUT1JfSURTOiAnQGFwcGtpdC9kaXNjb25uZWN0ZWRfY29ubmVjdG9yX2lkcycsXG4gICAgSElTVE9SWV9UUkFOU0FDVElPTlNfQ0FDSEU6ICdAYXBwa2l0L2hpc3RvcnlfdHJhbnNhY3Rpb25zX2NhY2hlJyxcbiAgICBUT0tFTl9QUklDRV9DQUNIRTogJ0BhcHBraXQvdG9rZW5fcHJpY2VfY2FjaGUnLFxuICAgIFJFQ0VOVF9FTUFJTFM6ICdAYXBwa2l0L3JlY2VudF9lbWFpbHMnLFxuICAgIExBVEVTVF9BUFBLSVRfVkVSU0lPTjogJ0BhcHBraXQvbGF0ZXN0X3ZlcnNpb24nXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNhZmVDb25uZWN0b3JJZEtleShuYW1lc3BhY2UpIHtcbiAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hbWVzcGFjZSBpcyByZXF1aXJlZCBmb3IgQ09OTkVDVEVEX0NPTk5FQ1RPUl9JRCcpO1xuICAgIH1cbiAgICByZXR1cm4gYEBhcHBraXQvJHtuYW1lc3BhY2V9OmNvbm5lY3RlZF9jb25uZWN0b3JfaWRgO1xufVxuZXhwb3J0IGNvbnN0IFNhZmVMb2NhbFN0b3JhZ2UgPSB7XG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpc1NhZmUoKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0SXRlbShrZXkpIHtcbiAgICAgICAgaWYgKGlzU2FmZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgICAgIGlmIChpc1NhZmUoKSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmIChpc1NhZmUoKSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FmZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TYWZlTG9jYWxTdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getW3mThemeVariables: () => (/* binding */ getW3mThemeVariables)\n/* harmony export */ });\nfunction getW3mThemeVariables(themeVariables, themeType) {\n    if (themeType === 'light') {\n        return {\n            '--w3m-accent': themeVariables?.['--w3m-accent'] || 'hsla(231, 100%, 70%, 1)',\n            '--w3m-background': '#fff'\n        };\n    }\n    return {\n        '--w3m-accent': themeVariables?.['--w3m-accent'] || 'hsla(230, 100%, 67%, 1)',\n        '--w3m-background': '#202020'\n    };\n}\n//# sourceMappingURL=ThemeUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvVGhlbWVVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbW1vbi9kaXN0L2VzbS9zcmMvdXRpbHMvVGhlbWVVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRXM21UaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcywgdGhlbWVUeXBlKSB7XG4gICAgaWYgKHRoZW1lVHlwZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJy0tdzNtLWFjY2VudCc6IHRoZW1lVmFyaWFibGVzPy5bJy0tdzNtLWFjY2VudCddIHx8ICdoc2xhKDIzMSwgMTAwJSwgNzAlLCAxKScsXG4gICAgICAgICAgICAnLS13M20tYmFja2dyb3VuZCc6ICcjZmZmJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAnLS13M20tYWNjZW50JzogdGhlbWVWYXJpYWJsZXM/LlsnLS13M20tYWNjZW50J10gfHwgJ2hzbGEoMjMwLCAxMDAlLCA2NyUsIDEpJyxcbiAgICAgICAgJy0tdzNtLWJhY2tncm91bmQnOiAnIzIwMjAyMCdcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhlbWVVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterBlueprint: () => (/* binding */ AdapterBlueprint)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ProviderController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n\n\n\n\n\n\n\n\n\nconst IGNORED_CONNECTOR_IDS_FOR_LISTENER = [\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT\n];\n/**\n * Abstract class representing a chain adapter blueprint.\n * @template Connector - The type of connector extending ChainAdapterConnector\n */\nclass AdapterBlueprint {\n    /**\n     * Creates an instance of AdapterBlueprint.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    constructor(params) {\n        this.availableConnectors = [];\n        this.availableConnections = [];\n        this.providerHandlers = {};\n        this.eventListeners = new Map();\n        this.getCaipNetworks = (namespace) => _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks(namespace);\n        this.getConnectorId = (namespace) => _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getConnectorId(namespace);\n        if (params) {\n            this.construct(params);\n        }\n    }\n    /**\n     * Initializes the adapter with the given parameters.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    construct(params) {\n        this.projectId = params.projectId;\n        this.namespace = params.namespace;\n        this.adapterType = params.adapterType;\n    }\n    /**\n     * Gets the available connectors.\n     * @returns {Connector[]} An array of available connectors\n     */\n    get connectors() {\n        return this.availableConnectors;\n    }\n    /**\n     * Gets the available connections.\n     * @returns {Connection[]} An array of available connections\n     */\n    get connections() {\n        return this.availableConnections;\n    }\n    /**\n     * Gets the supported networks.\n     * @returns {CaipNetwork[]} An array of supported networks\n     */\n    get networks() {\n        return this.getCaipNetworks(this.namespace);\n    }\n    /**\n     * Handles the auth connected event.\n     * @param {W3mFrameTypes.Responses['FrameGetUserResponse']} user - The user response\n     */\n    onAuthConnected({ accounts, chainId }) {\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === chainId?.toString());\n        if (accounts && caipNetwork) {\n            this.addConnection({\n                connectorId: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n                accounts,\n                caipNetwork\n            });\n        }\n    }\n    /**\n     * Sets the auth provider.\n     * @param {W3mFrameProvider} authProvider - The auth provider instance\n     */\n    setAuthProvider(authProvider) {\n        authProvider.onConnect(this.onAuthConnected.bind(this));\n        authProvider.onSocialConnected(this.onAuthConnected.bind(this));\n        this.addConnector({\n            id: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n            type: 'AUTH',\n            name: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_NAMES.AUTH,\n            provider: authProvider,\n            imageId: undefined,\n            chain: this.namespace,\n            chains: []\n        });\n    }\n    /**\n     * Adds one or more connectors to the available connectors list.\n     * @param {...Connector} connectors - The connectors to add\n     */\n    addConnector(...connectors) {\n        const connectorsAdded = new Set();\n        this.availableConnectors = [...connectors, ...this.availableConnectors].filter(connector => {\n            if (connectorsAdded.has(connector.id)) {\n                return false;\n            }\n            connectorsAdded.add(connector.id);\n            return true;\n        });\n        this.emit('connectors', this.availableConnectors);\n    }\n    /**\n     * Adds connections to the available connections list\n     * @param {...Connection} connections - The connections to add\n     */\n    addConnection(...connections) {\n        const connectionsAdded = new Set();\n        this.availableConnections = [...connections, ...this.availableConnections].filter(connection => {\n            if (connectionsAdded.has(connection.connectorId.toLowerCase())) {\n                return false;\n            }\n            connectionsAdded.add(connection.connectorId.toLowerCase());\n            return true;\n        });\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Deletes a connection from the available connections list\n     * @param {string} connectorId - The connector ID of the connection to delete\n     */\n    deleteConnection(connectorId) {\n        this.availableConnections = this.availableConnections.filter(c => c.connectorId.toLowerCase() !== connectorId.toLowerCase());\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Clears all connections from the available connections list\n     * @param {boolean} emit - Whether to emit the connections event\n     */\n    clearConnections(emit = false) {\n        this.availableConnections = [];\n        if (emit) {\n            this.emit('connections', this.availableConnections);\n        }\n    }\n    setStatus(status, chainNamespace) {\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('status', status, chainNamespace);\n    }\n    /**\n     * Adds an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be called when the event is emitted\n     */\n    on(eventName, callback) {\n        if (!this.eventListeners.has(eventName)) {\n            this.eventListeners.set(eventName, new Set());\n        }\n        this.eventListeners.get(eventName)?.add(callback);\n    }\n    /**\n     * Removes an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be removed\n     */\n    off(eventName, callback) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.delete(callback);\n        }\n    }\n    /**\n     * Removes all event listeners.\n     */\n    removeAllEventListeners() {\n        this.eventListeners.forEach(listeners => {\n            listeners.clear();\n        });\n    }\n    /**\n     * Emits an event with the given name and optional data.\n     * @template T\n     * @param {T} eventName - The name of the event to emit\n     * @param {EventData[T]} [data] - The optional data to be passed to the event listeners\n     */\n    emit(eventName, data) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.forEach(callback => callback(data));\n        }\n    }\n    /**\n     * Connects to WalletConnect.\n     * @param {number | string} [_chainId] - Optional chain ID to connect to\n     */\n    async connectWalletConnect(_chainId) {\n        try {\n            const connector = this.getWalletConnectConnector();\n            const result = await connector.connectWalletConnect();\n            return { clientId: result.clientId };\n        }\n        catch (err) {\n            if (_utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n    }\n    /**\n     * Switches the network.\n     * @param {AdapterBlueprint.SwitchNetworkParams} params - Network switching parameters\n     */\n    async switchNetwork(params) {\n        const { caipNetwork } = params;\n        const providerType = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProviderId(caipNetwork.chainNamespace);\n        const provider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProvider(caipNetwork.chainNamespace);\n        if (!provider) {\n            throw new Error('Provider not found');\n        }\n        if (providerType === 'WALLET_CONNECT') {\n            const walletConnectProvider = provider;\n            walletConnectProvider.setDefaultChain(caipNetwork.caipNetworkId);\n            return;\n        }\n        if (providerType === 'AUTH') {\n            const authProvider = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getAuthConnector()?.provider;\n            if (!authProvider) {\n                throw new Error('Auth provider not found');\n            }\n            const preferredAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__.getPreferredAccountType)(caipNetwork.chainNamespace);\n            await authProvider.switchNetwork({ chainId: caipNetwork.caipNetworkId });\n            const user = await authProvider.getUser({\n                chainId: caipNetwork.caipNetworkId,\n                preferredAccountType\n            });\n            this.emit('switchNetwork', user);\n        }\n    }\n    getWalletConnectConnector() {\n        const connector = this.connectors.find(c => c.id === 'walletConnect');\n        if (!connector) {\n            throw new Error('WalletConnectConnector not found');\n        }\n        // Review why this type assertion is necessary\n        return connector;\n    }\n    /**\n     * Handles connect event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onConnect(accounts, connectorId) {\n        if (accounts.length > 0) {\n            const { address, chainId } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const caipNetwork = this.getCaipNetworks()\n                .filter(n => n.chainNamespace === this.namespace)\n                .find(n => n.id.toString() === chainId?.toString());\n            const connector = this.connectors.find(c => c.id === connectorId);\n            if (address) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId,\n                    connector\n                });\n                this.addConnection({\n                    connectorId,\n                    accounts: accounts.map(_account => {\n                        const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                        return { address: address };\n                    }),\n                    caipNetwork\n                });\n            }\n        }\n    }\n    /**\n     * Handles accounts changed event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onAccountsChanged(accounts, connectorId, disconnectIfNoAccounts = true) {\n        if (accounts.length > 0) {\n            const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const connection = this.getConnection({\n                connectorId,\n                connections: this.connections,\n                connectors: this.connectors\n            });\n            if (address &&\n                this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n                    connectorId.toLowerCase()) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId: connection?.caipNetwork?.id,\n                    connector: connection?.connector\n                });\n            }\n            this.addConnection({\n                connectorId,\n                accounts: accounts.map(_account => {\n                    const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                    return { address: address };\n                }),\n                caipNetwork: connection?.caipNetwork\n            });\n        }\n        else if (disconnectIfNoAccounts) {\n            this.onDisconnect(connectorId);\n        }\n    }\n    /**\n     * Handles disconnect event for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    onDisconnect(connectorId) {\n        this.removeProviderListeners(connectorId);\n        this.deleteConnection(connectorId);\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emitFirstAvailableConnection();\n        }\n        if (this.connections.length === 0) {\n            this.emit('disconnect');\n        }\n    }\n    /**\n     * Handles chain changed event for a specific connector.\n     * @param {string} chainId - The ID of the chain that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onChainChanged(chainId, connectorId) {\n        const formattedChainId = typeof chainId === 'string' && chainId.startsWith('0x')\n            ? parseInt(chainId, 16).toString()\n            : chainId.toString();\n        const connection = this.getConnection({\n            connectorId,\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === formattedChainId);\n        if (connection) {\n            this.addConnection({\n                connectorId,\n                accounts: connection.accounts,\n                caipNetwork\n            });\n        }\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emit('switchNetwork', { chainId: formattedChainId });\n        }\n    }\n    /**\n     * Listens to provider events for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     * @param {Provider | CombinedProvider} provider - The provider to listen to\n     */\n    listenProviderEvents(connectorId, provider) {\n        if (IGNORED_CONNECTOR_IDS_FOR_LISTENER.includes(connectorId)) {\n            return;\n        }\n        const accountsChangedHandler = (accounts) => this.onAccountsChanged(accounts, connectorId);\n        const chainChangedHandler = (chainId) => this.onChainChanged(chainId, connectorId);\n        const disconnectHandler = () => this.onDisconnect(connectorId);\n        if (!this.providerHandlers[connectorId]) {\n            provider.on('disconnect', disconnectHandler);\n            provider.on('accountsChanged', accountsChangedHandler);\n            provider.on('chainChanged', chainChangedHandler);\n            this.providerHandlers[connectorId] = {\n                provider,\n                disconnect: disconnectHandler,\n                accountsChanged: accountsChangedHandler,\n                chainChanged: chainChangedHandler\n            };\n        }\n    }\n    /**\n     * Removes provider listeners for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    removeProviderListeners(connectorId) {\n        if (this.providerHandlers[connectorId]) {\n            const { provider, disconnect, accountsChanged, chainChanged } = this.providerHandlers[connectorId];\n            provider.removeListener('disconnect', disconnect);\n            provider.removeListener('accountsChanged', accountsChanged);\n            provider.removeListener('chainChanged', chainChanged);\n            this.providerHandlers[connectorId] = null;\n        }\n    }\n    /**\n     * Emits the first available connection.\n     */\n    emitFirstAvailableConnection() {\n        const connection = this.getConnection({\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        if (connection) {\n            const [account] = connection.accounts;\n            this.emit('accountChanged', {\n                address: account?.address,\n                chainId: connection.caipNetwork?.id,\n                connector: connection.connector\n            });\n        }\n    }\n    /**\n     * Gets a connection based on provided parameters.\n     * If connectorId is provided, returns connection for that specific connector.\n     * Otherwise, returns the first available valid connection.\n     *\n     * @param params - Connection parameters\n     * @param params.address - Optional address to filter by\n     * @param params.connectorId - Optional connector ID to filter by\n     * @param params.connections - List of available connections\n     * @param params.connectors - List of available connectors\n     * @returns Connection or null if none found\n     */\n    getConnection({ address, connectorId, connections, connectors }) {\n        if (connectorId) {\n            const connection = connections.find(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n            if (!connection) {\n                return null;\n            }\n            const connector = connectors.find(c => c.id.toLowerCase() === connection.connectorId.toLowerCase());\n            const account = address\n                ? connection.accounts.find(a => a.address.toLowerCase() === address.toLowerCase())\n                : connection.accounts[0];\n            return { ...connection, account, connector };\n        }\n        const validConnection = connections.find(c => c.accounts.length > 0 &&\n            connectors.some(conn => conn.id.toLowerCase() === c.connectorId.toLowerCase()));\n        if (validConnection) {\n            const [account] = validConnection.accounts;\n            const connector = connectors.find(c => c.id.toLowerCase() === validConnection.connectorId.toLowerCase());\n            return {\n                ...validConnection,\n                account,\n                connector\n            };\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=ChainAdapterBlueprint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNvQztBQUN6QjtBQUNkO0FBQ0U7QUFDMUI7QUFDaUI7QUFDUTtBQUNGO0FBQzlEO0FBQ0EsSUFBSSwrREFBbUI7QUFDdkIsSUFBSSwrREFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnRUFBZTtBQUM3RCw2Q0FBNkMsd0VBQW1CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFpRDtBQUNoRTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQW1CO0FBQ25DO0FBQ0Esa0JBQWtCLCtEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNB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O0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25EO0FBQ0EseUNBQXlDLDJCQUEyQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLDZCQUE2QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQXNEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUErQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQWRhcHRlckNvbnRyb2xsZXIvQ2hhaW5BZGFwdGVyQmx1ZXByaW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml2ZXJzYWxQcm92aWRlciBmcm9tICdAd2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXInO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsLCBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uLy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi8uLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBXY0hlbHBlcnNVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvV2FsbGV0Q29ubmVjdFV0aWwuanMnO1xuaW1wb3J0IHt9IGZyb20gJy4uL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUHJvdmlkZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vUHJvdmlkZXJDb250cm9sbGVyLmpzJztcbmNvbnN0IElHTk9SRURfQ09OTkVDVE9SX0lEU19GT1JfTElTVEVORVIgPSBbXG4gICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCxcbiAgICBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVFxuXTtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgcmVwcmVzZW50aW5nIGEgY2hhaW4gYWRhcHRlciBibHVlcHJpbnQuXG4gKiBAdGVtcGxhdGUgQ29ubmVjdG9yIC0gVGhlIHR5cGUgb2YgY29ubmVjdG9yIGV4dGVuZGluZyBDaGFpbkFkYXB0ZXJDb25uZWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEFkYXB0ZXJCbHVlcHJpbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQWRhcHRlckJsdWVwcmludC5cbiAgICAgKiBAcGFyYW0ge0FkYXB0ZXJCbHVlcHJpbnQuUGFyYW1zfSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgaW5pdGlhbGl6aW5nIHRoZSBhZGFwdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdG9ycyA9IFtdO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMucHJvdmlkZXJIYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmdldENhaXBOZXR3b3JrcyA9IChuYW1lc3BhY2UpID0+IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya3MobmFtZXNwYWNlKTtcbiAgICAgICAgdGhpcy5nZXRDb25uZWN0b3JJZCA9IChuYW1lc3BhY2UpID0+IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQobmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3QocGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgYWRhcHRlciB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7QWRhcHRlckJsdWVwcmludC5QYXJhbXN9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBpbml0aWFsaXppbmcgdGhlIGFkYXB0ZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3QocGFyYW1zKSB7XG4gICAgICAgIHRoaXMucHJvamVjdElkID0gcGFyYW1zLnByb2plY3RJZDtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2UgPSBwYXJhbXMubmFtZXNwYWNlO1xuICAgICAgICB0aGlzLmFkYXB0ZXJUeXBlID0gcGFyYW1zLmFkYXB0ZXJUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhdmFpbGFibGUgY29ubmVjdG9ycy5cbiAgICAgKiBAcmV0dXJucyB7Q29ubmVjdG9yW119IEFuIGFycmF5IG9mIGF2YWlsYWJsZSBjb25uZWN0b3JzXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3RvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZUNvbm5lY3RvcnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGF2YWlsYWJsZSBjb25uZWN0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7Q29ubmVjdGlvbltdfSBBbiBhcnJheSBvZiBhdmFpbGFibGUgY29ubmVjdGlvbnNcbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdXBwb3J0ZWQgbmV0d29ya3MuXG4gICAgICogQHJldHVybnMge0NhaXBOZXR3b3JrW119IEFuIGFycmF5IG9mIHN1cHBvcnRlZCBuZXR3b3Jrc1xuICAgICAqL1xuICAgIGdldCBuZXR3b3JrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKHRoaXMubmFtZXNwYWNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYXV0aCBjb25uZWN0ZWQgZXZlbnQuXG4gICAgICogQHBhcmFtIHtXM21GcmFtZVR5cGVzLlJlc3BvbnNlc1snRnJhbWVHZXRVc2VyUmVzcG9uc2UnXX0gdXNlciAtIFRoZSB1c2VyIHJlc3BvbnNlXG4gICAgICovXG4gICAgb25BdXRoQ29ubmVjdGVkKHsgYWNjb3VudHMsIGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKClcbiAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuLmNoYWluTmFtZXNwYWNlID09PSB0aGlzLm5hbWVzcGFjZSlcbiAgICAgICAgICAgIC5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBjaGFpbklkPy50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKGFjY291bnRzICYmIGNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkOiBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRILFxuICAgICAgICAgICAgICAgIGFjY291bnRzLFxuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhdXRoIHByb3ZpZGVyLlxuICAgICAqIEBwYXJhbSB7VzNtRnJhbWVQcm92aWRlcn0gYXV0aFByb3ZpZGVyIC0gVGhlIGF1dGggcHJvdmlkZXIgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBzZXRBdXRoUHJvdmlkZXIoYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgIGF1dGhQcm92aWRlci5vbkNvbm5lY3QodGhpcy5vbkF1dGhDb25uZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIGF1dGhQcm92aWRlci5vblNvY2lhbENvbm5lY3RlZCh0aGlzLm9uQXV0aENvbm5lY3RlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5hZGRDb25uZWN0b3Ioe1xuICAgICAgICAgICAgaWQ6IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgsXG4gICAgICAgICAgICB0eXBlOiAnQVVUSCcsXG4gICAgICAgICAgICBuYW1lOiBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9OQU1FUy5BVVRILFxuICAgICAgICAgICAgcHJvdmlkZXI6IGF1dGhQcm92aWRlcixcbiAgICAgICAgICAgIGltYWdlSWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYWluOiB0aGlzLm5hbWVzcGFjZSxcbiAgICAgICAgICAgIGNoYWluczogW11cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY29ubmVjdG9ycyB0byB0aGUgYXZhaWxhYmxlIGNvbm5lY3RvcnMgbGlzdC5cbiAgICAgKiBAcGFyYW0gey4uLkNvbm5lY3Rvcn0gY29ubmVjdG9ycyAtIFRoZSBjb25uZWN0b3JzIHRvIGFkZFxuICAgICAqL1xuICAgIGFkZENvbm5lY3RvciguLi5jb25uZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnNBZGRlZCA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0b3JzID0gWy4uLmNvbm5lY3RvcnMsIC4uLnRoaXMuYXZhaWxhYmxlQ29ubmVjdG9yc10uZmlsdGVyKGNvbm5lY3RvciA9PiB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yc0FkZGVkLmhhcyhjb25uZWN0b3IuaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdG9yc0FkZGVkLmFkZChjb25uZWN0b3IuaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3RvcnMnLCB0aGlzLmF2YWlsYWJsZUNvbm5lY3RvcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGNvbm5lY3Rpb25zIHRvIHRoZSBhdmFpbGFibGUgY29ubmVjdGlvbnMgbGlzdFxuICAgICAqIEBwYXJhbSB7Li4uQ29ubmVjdGlvbn0gY29ubmVjdGlvbnMgLSBUaGUgY29ubmVjdGlvbnMgdG8gYWRkXG4gICAgICovXG4gICAgYWRkQ29ubmVjdGlvbiguLi5jb25uZWN0aW9ucykge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uc0FkZGVkID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zID0gWy4uLmNvbm5lY3Rpb25zLCAuLi50aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zXS5maWx0ZXIoY29ubmVjdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbnNBZGRlZC5oYXMoY29ubmVjdGlvbi5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3Rpb25zQWRkZWQuYWRkKGNvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbnMnLCB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIGNvbm5lY3Rpb24gZnJvbSB0aGUgYXZhaWxhYmxlIGNvbm5lY3Rpb25zIGxpc3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgY29ubmVjdG9yIElEIG9mIHRoZSBjb25uZWN0aW9uIHRvIGRlbGV0ZVxuICAgICAqL1xuICAgIGRlbGV0ZUNvbm5lY3Rpb24oY29ubmVjdG9ySWQpIHtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyA9IHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMuZmlsdGVyKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpICE9PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9ucycsIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNvbm5lY3Rpb25zIGZyb20gdGhlIGF2YWlsYWJsZSBjb25uZWN0aW9ucyBsaXN0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBlbWl0IC0gV2hldGhlciB0byBlbWl0IHRoZSBjb25uZWN0aW9ucyBldmVudFxuICAgICAqL1xuICAgIGNsZWFyQ29ubmVjdGlvbnMoZW1pdCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGVtaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbnMnLCB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRTdGF0dXMoc3RhdHVzLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3N0YXR1cycsIHN0YXR1cywgY2hhaW5OYW1lc3BhY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGV2ZW50LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHtUfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50Q2FsbGJhY2s8VD59IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkXG4gICAgICovXG4gICAgb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRMaXN0ZW5lcnMuaGFzKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc2V0KGV2ZW50TmFtZSwgbmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudE5hbWUpPy5hZGQoY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGV2ZW50LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHtUfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50Q2FsbGJhY2s8VD59IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKi9cbiAgICBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lcnMgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBvcHRpb25hbCBkYXRhLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHtUfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdFxuICAgICAqIEBwYXJhbSB7RXZlbnREYXRhW1RdfSBbZGF0YV0gLSBUaGUgb3B0aW9uYWwgZGF0YSB0byBiZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byBXYWxsZXRDb25uZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSBbX2NoYWluSWRdIC0gT3B0aW9uYWwgY2hhaW4gSUQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3RXYWxsZXRDb25uZWN0KF9jaGFpbklkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSB0aGlzLmdldFdhbGxldENvbm5lY3RDb25uZWN0b3IoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbm5lY3Rvci5jb25uZWN0V2FsbGV0Q29ubmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2xpZW50SWQ6IHJlc3VsdC5jbGllbnRJZCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChXY0hlbHBlcnNVdGlsLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3dpdGNoZXMgdGhlIG5ldHdvcmsuXG4gICAgICogQHBhcmFtIHtBZGFwdGVyQmx1ZXByaW50LlN3aXRjaE5ldHdvcmtQYXJhbXN9IHBhcmFtcyAtIE5ldHdvcmsgc3dpdGNoaW5nIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBhc3luYyBzd2l0Y2hOZXR3b3JrKHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IGNhaXBOZXR3b3JrIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBQcm92aWRlckNvbnRyb2xsZXIuZ2V0UHJvdmlkZXIoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlclR5cGUgPT09ICdXQUxMRVRfQ09OTkVDVCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHdhbGxldENvbm5lY3RQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgd2FsbGV0Q29ubmVjdFByb3ZpZGVyLnNldERlZmF1bHRDaGFpbihjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdmlkZXJUeXBlID09PSAnQVVUSCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhQcm92aWRlciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpPy5wcm92aWRlcjtcbiAgICAgICAgICAgIGlmICghYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoIHByb3ZpZGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJlZmVycmVkQWNjb3VudFR5cGUgPSBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBhd2FpdCBhdXRoUHJvdmlkZXIuc3dpdGNoTmV0d29yayh7IGNoYWluSWQ6IGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQgfSk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aFByb3ZpZGVyLmdldFVzZXIoe1xuICAgICAgICAgICAgICAgIGNoYWluSWQ6IGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkQWNjb3VudFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzd2l0Y2hOZXR3b3JrJywgdXNlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0V2FsbGV0Q29ubmVjdENvbm5lY3RvcigpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gdGhpcy5jb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkID09PSAnd2FsbGV0Q29ubmVjdCcpO1xuICAgICAgICBpZiAoIWNvbm5lY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYWxsZXRDb25uZWN0Q29ubmVjdG9yIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldmlldyB3aHkgdGhpcyB0eXBlIGFzc2VydGlvbiBpcyBuZWNlc3NhcnlcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjb25uZWN0IGV2ZW50IGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2NvdW50cyAtIFRoZSBhY2NvdW50cyB0aGF0IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqL1xuICAgIG9uQ29ubmVjdChhY2NvdW50cywgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzcywgY2hhaW5JZCB9ID0gQ29yZUhlbHBlclV0aWwuZ2V0QWNjb3VudChhY2NvdW50c1swXSk7XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5jaGFpbk5hbWVzcGFjZSA9PT0gdGhpcy5uYW1lc3BhY2UpXG4gICAgICAgICAgICAgICAgLmZpbmQobiA9PiBuLmlkLnRvU3RyaW5nKCkgPT09IGNoYWluSWQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gdGhpcy5jb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkID09PSBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWNjb3VudENoYW5nZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50czogYWNjb3VudHMubWFwKF9hY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzcyB9ID0gQ29yZUhlbHBlclV0aWwuZ2V0QWNjb3VudChfYWNjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBhZGRyZXNzOiBhZGRyZXNzIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjYWlwTmV0d29ya1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYWNjb3VudHMgY2hhbmdlZCBldmVudCBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYWNjb3VudHMgLSBUaGUgYWNjb3VudHMgdGhhdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICBvbkFjY291bnRzQ2hhbmdlZChhY2NvdW50cywgY29ubmVjdG9ySWQsIGRpc2Nvbm5lY3RJZk5vQWNjb3VudHMgPSB0cnVlKSB7XG4gICAgICAgIGlmIChhY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFkZHJlc3MgfSA9IENvcmVIZWxwZXJVdGlsLmdldEFjY291bnQoYWNjb3VudHNbMF0pO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuZ2V0Q29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnM6IHRoaXMuY29ubmVjdGlvbnMsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yczogdGhpcy5jb25uZWN0b3JzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzICYmXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDb25uZWN0b3JJZChDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSk/LnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FjY291bnRDaGFuZ2VkJywge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiBjb25uZWN0aW9uPy5jYWlwTmV0d29yaz8uaWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29ubmVjdGlvbj8uY29ubmVjdG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgIGFjY291bnRzOiBhY2NvdW50cy5tYXAoX2FjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFkZHJlc3MgfSA9IENvcmVIZWxwZXJVdGlsLmdldEFjY291bnQoX2FjY291bnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBhZGRyZXNzOiBhZGRyZXNzIH07XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcms6IGNvbm5lY3Rpb24/LmNhaXBOZXR3b3JrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXNjb25uZWN0SWZOb0FjY291bnRzKSB7XG4gICAgICAgICAgICB0aGlzLm9uRGlzY29ubmVjdChjb25uZWN0b3JJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBkaXNjb25uZWN0IGV2ZW50IGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqL1xuICAgIG9uRGlzY29ubmVjdChjb25uZWN0b3JJZCkge1xuICAgICAgICB0aGlzLnJlbW92ZVByb3ZpZGVyTGlzdGVuZXJzKGNvbm5lY3RvcklkKTtcbiAgICAgICAgdGhpcy5kZWxldGVDb25uZWN0aW9uKGNvbm5lY3RvcklkKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29ubmVjdG9ySWQoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pPy50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0Rmlyc3RBdmFpbGFibGVDb25uZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNoYWluIGNoYW5nZWQgZXZlbnQgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFpbklkIC0gVGhlIElEIG9mIHRoZSBjaGFpbiB0aGF0IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqL1xuICAgIG9uQ2hhaW5DaGFuZ2VkKGNoYWluSWQsIGNvbm5lY3RvcklkKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZENoYWluSWQgPSB0eXBlb2YgY2hhaW5JZCA9PT0gJ3N0cmluZycgJiYgY2hhaW5JZC5zdGFydHNXaXRoKCcweCcpXG4gICAgICAgICAgICA/IHBhcnNlSW50KGNoYWluSWQsIDE2KS50b1N0cmluZygpXG4gICAgICAgICAgICA6IGNoYWluSWQudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuZ2V0Q29ubmVjdGlvbih7XG4gICAgICAgICAgICBjb25uZWN0b3JJZCxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25zOiB0aGlzLmNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgY29ubmVjdG9yczogdGhpcy5jb25uZWN0b3JzXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKClcbiAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuLmNoYWluTmFtZXNwYWNlID09PSB0aGlzLm5hbWVzcGFjZSlcbiAgICAgICAgICAgIC5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBmb3JtYXR0ZWRDaGFpbklkKTtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYWNjb3VudHM6IGNvbm5lY3Rpb24uYWNjb3VudHMsXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldENvbm5lY3RvcklkKENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKT8udG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgIGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3dpdGNoTmV0d29yaycsIHsgY2hhaW5JZDogZm9ybWF0dGVkQ2hhaW5JZCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5zIHRvIHByb3ZpZGVyIGV2ZW50cyBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKiBAcGFyYW0ge1Byb3ZpZGVyIHwgQ29tYmluZWRQcm92aWRlcn0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gbGlzdGVuIHRvXG4gICAgICovXG4gICAgbGlzdGVuUHJvdmlkZXJFdmVudHMoY29ubmVjdG9ySWQsIHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChJR05PUkVEX0NPTk5FQ1RPUl9JRFNfRk9SX0xJU1RFTkVSLmluY2x1ZGVzKGNvbm5lY3RvcklkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjY291bnRzQ2hhbmdlZEhhbmRsZXIgPSAoYWNjb3VudHMpID0+IHRoaXMub25BY2NvdW50c0NoYW5nZWQoYWNjb3VudHMsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgY29uc3QgY2hhaW5DaGFuZ2VkSGFuZGxlciA9IChjaGFpbklkKSA9PiB0aGlzLm9uQ2hhaW5DaGFuZ2VkKGNoYWluSWQsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdEhhbmRsZXIgPSAoKSA9PiB0aGlzLm9uRGlzY29ubmVjdChjb25uZWN0b3JJZCk7XG4gICAgICAgIGlmICghdGhpcy5wcm92aWRlckhhbmRsZXJzW2Nvbm5lY3RvcklkXSkge1xuICAgICAgICAgICAgcHJvdmlkZXIub24oJ2Rpc2Nvbm5lY3QnLCBkaXNjb25uZWN0SGFuZGxlcik7XG4gICAgICAgICAgICBwcm92aWRlci5vbignYWNjb3VudHNDaGFuZ2VkJywgYWNjb3VudHNDaGFuZ2VkSGFuZGxlcik7XG4gICAgICAgICAgICBwcm92aWRlci5vbignY2hhaW5DaGFuZ2VkJywgY2hhaW5DaGFuZ2VkSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVySGFuZGxlcnNbY29ubmVjdG9ySWRdID0ge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RIYW5kbGVyLFxuICAgICAgICAgICAgICAgIGFjY291bnRzQ2hhbmdlZDogYWNjb3VudHNDaGFuZ2VkSGFuZGxlcixcbiAgICAgICAgICAgICAgICBjaGFpbkNoYW5nZWQ6IGNoYWluQ2hhbmdlZEhhbmRsZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBwcm92aWRlciBsaXN0ZW5lcnMgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICovXG4gICAgcmVtb3ZlUHJvdmlkZXJMaXN0ZW5lcnMoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJIYW5kbGVyc1tjb25uZWN0b3JJZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvdmlkZXIsIGRpc2Nvbm5lY3QsIGFjY291bnRzQ2hhbmdlZCwgY2hhaW5DaGFuZ2VkIH0gPSB0aGlzLnByb3ZpZGVySGFuZGxlcnNbY29ubmVjdG9ySWRdO1xuICAgICAgICAgICAgcHJvdmlkZXIucmVtb3ZlTGlzdGVuZXIoJ2Rpc2Nvbm5lY3QnLCBkaXNjb25uZWN0KTtcbiAgICAgICAgICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKCdhY2NvdW50c0NoYW5nZWQnLCBhY2NvdW50c0NoYW5nZWQpO1xuICAgICAgICAgICAgcHJvdmlkZXIucmVtb3ZlTGlzdGVuZXIoJ2NoYWluQ2hhbmdlZCcsIGNoYWluQ2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVySGFuZGxlcnNbY29ubmVjdG9ySWRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyB0aGUgZmlyc3QgYXZhaWxhYmxlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZW1pdEZpcnN0QXZhaWxhYmxlQ29ubmVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuZ2V0Q29ubmVjdGlvbih7XG4gICAgICAgICAgICBjb25uZWN0aW9uczogdGhpcy5jb25uZWN0aW9ucyxcbiAgICAgICAgICAgIGNvbm5lY3RvcnM6IHRoaXMuY29ubmVjdG9yc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IFthY2NvdW50XSA9IGNvbm5lY3Rpb24uYWNjb3VudHM7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FjY291bnRDaGFuZ2VkJywge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnQ/LmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogY29ubmVjdGlvbi5jYWlwTmV0d29yaz8uaWQsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yOiBjb25uZWN0aW9uLmNvbm5lY3RvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIGNvbm5lY3Rpb24gYmFzZWQgb24gcHJvdmlkZWQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBjb25uZWN0b3JJZCBpcyBwcm92aWRlZCwgcmV0dXJucyBjb25uZWN0aW9uIGZvciB0aGF0IHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBPdGhlcndpc2UsIHJldHVybnMgdGhlIGZpcnN0IGF2YWlsYWJsZSB2YWxpZCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIENvbm5lY3Rpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBwYXJhbXMuYWRkcmVzcyAtIE9wdGlvbmFsIGFkZHJlc3MgdG8gZmlsdGVyIGJ5XG4gICAgICogQHBhcmFtIHBhcmFtcy5jb25uZWN0b3JJZCAtIE9wdGlvbmFsIGNvbm5lY3RvciBJRCB0byBmaWx0ZXIgYnlcbiAgICAgKiBAcGFyYW0gcGFyYW1zLmNvbm5lY3Rpb25zIC0gTGlzdCBvZiBhdmFpbGFibGUgY29ubmVjdGlvbnNcbiAgICAgKiBAcGFyYW0gcGFyYW1zLmNvbm5lY3RvcnMgLSBMaXN0IG9mIGF2YWlsYWJsZSBjb25uZWN0b3JzXG4gICAgICogQHJldHVybnMgQ29ubmVjdGlvbiBvciBudWxsIGlmIG5vbmUgZm91bmRcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0aW9uKHsgYWRkcmVzcywgY29ubmVjdG9ySWQsIGNvbm5lY3Rpb25zLCBjb25uZWN0b3JzIH0pIHtcbiAgICAgICAgaWYgKGNvbm5lY3RvcklkKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gY29ubmVjdGlvbnMuZmluZChjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IGNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdGlvbi5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhZGRyZXNzXG4gICAgICAgICAgICAgICAgPyBjb25uZWN0aW9uLmFjY291bnRzLmZpbmQoYSA9PiBhLmFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgIDogY29ubmVjdGlvbi5hY2NvdW50c1swXTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmNvbm5lY3Rpb24sIGFjY291bnQsIGNvbm5lY3RvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb25zLmZpbmQoYyA9PiBjLmFjY291bnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIGNvbm5lY3RvcnMuc29tZShjb25uID0+IGNvbm4uaWQudG9Mb3dlckNhc2UoKSA9PT0gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgIGlmICh2YWxpZENvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IFthY2NvdW50XSA9IHZhbGlkQ29ubmVjdGlvbi5hY2NvdW50cztcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IGNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQudG9Mb3dlckNhc2UoKSA9PT0gdmFsaWRDb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi52YWxpZENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhaW5BZGFwdGVyQmx1ZXByaW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectConnector: () => (/* binding */ WalletConnectConnector)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/SIWXUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\nclass WalletConnectConnector {\n    constructor({ provider, namespace }) {\n        this.id = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        this.name = 'WalletConnect';\n        this.type = 'WALLET_CONNECT';\n        this.imageId = 'ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400';\n        this.getCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks.bind(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController);\n        this.caipNetworks = this.getCaipNetworks();\n        this.provider = provider;\n        this.chain = namespace;\n    }\n    get chains() {\n        return this.getCaipNetworks();\n    }\n    async connectWalletConnect() {\n        const isAuthenticated = await this.authenticate();\n        if (!isAuthenticated) {\n            const caipNetworks = this.getCaipNetworks();\n            const universalProviderConfigOverride = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.universalProviderConfigOverride;\n            const namespaces = _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.createNamespaces(caipNetworks, universalProviderConfigOverride);\n            await this.provider.connect({ optionalNamespaces: namespaces });\n        }\n        return {\n            clientId: await this.provider.client.core.crypto.getClientId(),\n            session: this.provider.session\n        };\n    }\n    async disconnect() {\n        await this.provider.disconnect();\n    }\n    async authenticate() {\n        const chains = this.chains.map(network => network.caipNetworkId);\n        return _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__.SIWXUtil.universalProviderAuthenticate({\n            universalProvider: this.provider,\n            chains,\n            methods: OPTIONAL_METHODS\n        });\n    }\n}\nconst OPTIONAL_METHODS = [\n    'eth_accounts',\n    'eth_requestAccounts',\n    'eth_sendRawTransaction',\n    'eth_sign',\n    'eth_signTransaction',\n    'eth_signTypedData',\n    'eth_signTypedData_v3',\n    'eth_signTypedData_v4',\n    'eth_sendTransaction',\n    'personal_sign',\n    'wallet_switchEthereumChain',\n    'wallet_addEthereumChain',\n    'wallet_getPermissions',\n    'wallet_requestPermissions',\n    'wallet_registerOnboarding',\n    'wallet_watchAsset',\n    'wallet_scanQRCode',\n    // EIP-5792\n    'wallet_getCallsStatus',\n    'wallet_sendCalls',\n    'wallet_getCapabilities',\n    // EIP-7715\n    'wallet_grantPermissions',\n    'wallet_revokePermissions',\n    //EIP-7811\n    'wallet_getAssets'\n];\n//# sourceMappingURL=WalletConnectConnector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0U7QUFDYjtBQUNGO0FBQ2M7QUFDVDtBQUNJO0FBQ3JEO0FBQ1Asa0JBQWtCLHFCQUFxQjtBQUN2QyxrQkFBa0IsK0RBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlLHNCQUFzQixnRUFBZTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELG9FQUFpQjtBQUNyRSwrQkFBK0Isc0VBQWE7QUFDNUMsMENBQTBDLGdDQUFnQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQWRhcHRlckNvbnRyb2xsZXIvV2FsbGV0Q29ubmVjdENvbm5lY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdmVyc2FsUHJvdmlkZXIgZnJvbSAnQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBTSVdYVXRpbCB9IGZyb20gJy4uLy4uL3V0aWxzL1NJV1hVdGlsLmpzJztcbmltcG9ydCB7IFdjSGVscGVyc1V0aWwgfSBmcm9tICcuLi8uLi91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5leHBvcnQgY2xhc3MgV2FsbGV0Q29ubmVjdENvbm5lY3RvciB7XG4gICAgY29uc3RydWN0b3IoeyBwcm92aWRlciwgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgdGhpcy5pZCA9IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUO1xuICAgICAgICB0aGlzLm5hbWUgPSAnV2FsbGV0Q29ubmVjdCc7XG4gICAgICAgIHRoaXMudHlwZSA9ICdXQUxMRVRfQ09OTkVDVCc7XG4gICAgICAgIHRoaXMuaW1hZ2VJZCA9ICdlZjFhMWZjZi03ZmU4LTRkNjktYmQ2ZC1mZGExMzQ1YjQ0MDAnO1xuICAgICAgICB0aGlzLmdldENhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya3MuYmluZChDaGFpbkNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmNhaXBOZXR3b3JrcyA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCk7XG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgdGhpcy5jaGFpbiA9IG5hbWVzcGFjZTtcbiAgICB9XG4gICAgZ2V0IGNoYWlucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCk7XG4gICAgfVxuICAgIGFzeW5jIGNvbm5lY3RXYWxsZXRDb25uZWN0KCkge1xuICAgICAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZSgpO1xuICAgICAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtzID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS51bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlO1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IFdjSGVscGVyc1V0aWwuY3JlYXRlTmFtZXNwYWNlcyhjYWlwTmV0d29ya3MsIHVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci5jb25uZWN0KHsgb3B0aW9uYWxOYW1lc3BhY2VzOiBuYW1lc3BhY2VzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGllbnRJZDogYXdhaXQgdGhpcy5wcm92aWRlci5jbGllbnQuY29yZS5jcnlwdG8uZ2V0Q2xpZW50SWQoKSxcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMucHJvdmlkZXIuc2Vzc2lvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlKCkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSB0aGlzLmNoYWlucy5tYXAobmV0d29yayA9PiBuZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICByZXR1cm4gU0lXWFV0aWwudW5pdmVyc2FsUHJvdmlkZXJBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgICAgICBjaGFpbnMsXG4gICAgICAgICAgICBtZXRob2RzOiBPUFRJT05BTF9NRVRIT0RTXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IE9QVElPTkFMX01FVEhPRFMgPSBbXG4gICAgJ2V0aF9hY2NvdW50cycsXG4gICAgJ2V0aF9yZXF1ZXN0QWNjb3VudHMnLFxuICAgICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJyxcbiAgICAnZXRoX3NpZ24nLFxuICAgICdldGhfc2lnblRyYW5zYWN0aW9uJyxcbiAgICAnZXRoX3NpZ25UeXBlZERhdGEnLFxuICAgICdldGhfc2lnblR5cGVkRGF0YV92MycsXG4gICAgJ2V0aF9zaWduVHlwZWREYXRhX3Y0JyxcbiAgICAnZXRoX3NlbmRUcmFuc2FjdGlvbicsXG4gICAgJ3BlcnNvbmFsX3NpZ24nLFxuICAgICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcbiAgICAnd2FsbGV0X2dldFBlcm1pc3Npb25zJyxcbiAgICAnd2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9ucycsXG4gICAgJ3dhbGxldF9yZWdpc3Rlck9uYm9hcmRpbmcnLFxuICAgICd3YWxsZXRfd2F0Y2hBc3NldCcsXG4gICAgJ3dhbGxldF9zY2FuUVJDb2RlJyxcbiAgICAvLyBFSVAtNTc5MlxuICAgICd3YWxsZXRfZ2V0Q2FsbHNTdGF0dXMnLFxuICAgICd3YWxsZXRfc2VuZENhbGxzJyxcbiAgICAnd2FsbGV0X2dldENhcGFiaWxpdGllcycsXG4gICAgLy8gRUlQLTc3MTVcbiAgICAnd2FsbGV0X2dyYW50UGVybWlzc2lvbnMnLFxuICAgICd3YWxsZXRfcmV2b2tlUGVybWlzc2lvbnMnLFxuICAgIC8vRUlQLTc4MTFcbiAgICAnd2FsbGV0X2dldEFzc2V0cydcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterController: () => (/* binding */ AdapterController)\n/* harmony export */ });\nconst state = {\n    adapters: {}\n};\nconst AdapterController = {\n    state,\n    initialize(adapters) {\n        state.adapters = { ...adapters };\n    },\n    get(namespace) {\n        return state.adapters[namespace];\n    }\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0FkYXB0ZXJDb250cm9sbGVyL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0YXRlID0ge1xuICAgIGFkYXB0ZXJzOiB7fVxufTtcbmV4cG9ydCBjb25zdCBBZGFwdGVyQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBpbml0aWFsaXplKGFkYXB0ZXJzKSB7XG4gICAgICAgIHN0YXRlLmFkYXB0ZXJzID0geyAuLi5hZGFwdGVycyB9O1xuICAgIH0sXG4gICAgZ2V0KG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWRhcHRlcnNbbmFtZXNwYWNlXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlertController: () => (/* binding */ AlertController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    message: '',\n    variant: 'info',\n    open: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    open(message, variant) {\n        const { debug } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state;\n        const { code, displayMessage, debugMessage } = message;\n        if (displayMessage && debug) {\n            state.message = displayMessage;\n            state.variant = variant;\n            state.open = true;\n        }\n        if (debugMessage) {\n            // eslint-disable-next-line no-console\n            console.error(typeof debugMessage === 'function' ? debugMessage() : debugMessage, code ? { code } : undefined);\n        }\n    },\n    warn(title, description, code) {\n        state.open = true;\n        state.message = title;\n        state.variant = 'warning';\n        if (description) {\n            console.warn(description, code);\n        }\n    },\n    close() {\n        state.open = false;\n        state.message = '';\n        state.variant = 'info';\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AlertController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__.withErrorBoundary)(controller);\n//# sourceMappingURL=AlertController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BbGVydENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUM7QUFDdUI7QUFDSTtBQUNQO0FBQzNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixRQUFRLEVBQUUsb0VBQWlCO0FBQzNDLGdCQUFnQixxQ0FBcUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsT0FBTztBQUM5RztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQWxlcnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgbWVzc2FnZTogJycsXG4gICAgdmFyaWFudDogJ2luZm8nLFxuICAgIG9wZW46IGZhbHNlXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIG9wZW4obWVzc2FnZSwgdmFyaWFudCkge1xuICAgICAgICBjb25zdCB7IGRlYnVnIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyBjb2RlLCBkaXNwbGF5TWVzc2FnZSwgZGVidWdNZXNzYWdlIH0gPSBtZXNzYWdlO1xuICAgICAgICBpZiAoZGlzcGxheU1lc3NhZ2UgJiYgZGVidWcpIHtcbiAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBkaXNwbGF5TWVzc2FnZTtcbiAgICAgICAgICAgIHN0YXRlLnZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlYnVnTWVzc2FnZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodHlwZW9mIGRlYnVnTWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJyA/IGRlYnVnTWVzc2FnZSgpIDogZGVidWdNZXNzYWdlLCBjb2RlID8geyBjb2RlIH0gOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXJuKHRpdGxlLCBkZXNjcmlwdGlvbiwgY29kZSkge1xuICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9IHRpdGxlO1xuICAgICAgICBzdGF0ZS52YXJpYW50ID0gJ3dhcm5pbmcnO1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihkZXNjcmlwdGlvbiwgY29kZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdGF0ZS5vcGVuID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgc3RhdGUudmFyaWFudCA9ICdpbmZvJztcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBBbGVydENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFsZXJ0Q29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiController: () => (/* binding */ ApiController),\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/AssetUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _AssetController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AssetController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getApiUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({\n    baseUrl,\n    clientId: null\n});\nconst entries = 40;\nconst recommendedEntries = 4;\nconst imageCountToFetch = 20;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    promises: {},\n    page: 1,\n    count: 0,\n    featured: [],\n    allFeatured: [],\n    recommended: [],\n    allRecommended: [],\n    wallets: [],\n    filteredWallets: [],\n    search: [],\n    isAnalyticsEnabled: false,\n    excludedWallets: [],\n    isFetchingRecommendedWallets: false,\n    explorerWallets: [],\n    explorerFilteredWallets: [],\n    plan: {\n        tier: 'none',\n        hasExceededUsageLimit: false,\n        limits: {\n            isAboveRpcLimit: false,\n            isAboveMauLimit: false\n        }\n    }\n});\n// -- Controller ---------------------------------------- //\nconst ApiController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    _getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType || 'appkit',\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    _filterOutExtensions(wallets) {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.isUniversalProvider) {\n            return wallets.filter(w => Boolean(w.mobile_link || w.desktop_link || w.webapp_link));\n        }\n        return wallets;\n    },\n    async _fetchWalletImage(imageId) {\n        const imageUrl = `${api.baseUrl}/getWalletImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setWalletImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchNetworkImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setNetworkImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchConnectorImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setConnectorImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchCurrencyImage(countryCode) {\n        const imageUrl = `${api.baseUrl}/public/getCurrencyImage/${countryCode}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setCurrencyImage(countryCode, URL.createObjectURL(blob));\n    },\n    async _fetchTokenImage(symbol) {\n        const imageUrl = `${api.baseUrl}/public/getTokenImage/${symbol}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setTokenImage(symbol, URL.createObjectURL(blob));\n    },\n    _filterWalletsByPlatform(wallets) {\n        const walletsLength = wallets.length;\n        const filteredWallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.isMobile()\n            ? wallets?.filter(w => {\n                if (w.mobile_link || w.webapp_link) {\n                    return true;\n                }\n                const customDeeplinkWalletIds = Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(wallet => wallet.id);\n                return customDeeplinkWalletIds.includes(w.id);\n            })\n            : wallets;\n        const mobileFilteredOutWalletsLength = walletsLength - filteredWallets.length;\n        return { filteredWallets, mobileFilteredOutWalletsLength };\n    },\n    async fetchProjectConfig() {\n        const response = await api.get({\n            path: '/appkit/v1/config',\n            params: ApiController._getSdkProperties()\n        });\n        return response.features;\n    },\n    async fetchUsage() {\n        try {\n            const response = await api.get({\n                path: '/appkit/v1/project-limits',\n                params: ApiController._getSdkProperties()\n            });\n            const { tier, isAboveMauLimit, isAboveRpcLimit } = response.planLimits;\n            const isStarterPlan = tier === 'starter';\n            const isAboveUsageLimit = isAboveMauLimit || isAboveRpcLimit;\n            ApiController.state.plan = {\n                tier,\n                hasExceededUsageLimit: isStarterPlan && isAboveUsageLimit,\n                limits: {\n                    isAboveRpcLimit,\n                    isAboveMauLimit\n                }\n            };\n        }\n        catch (e) {\n            console.warn('Failed to fetch usage', e);\n        }\n    },\n    async fetchAllowedOrigins() {\n        try {\n            const { allowedOrigins } = await api.get({\n                path: '/projects/v1/origins',\n                params: ApiController._getSdkProperties()\n            });\n            return allowedOrigins;\n        }\n        catch (error) {\n            if (error instanceof Error && error.cause instanceof Response) {\n                const status = error.cause.status;\n                if (status === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS) {\n                    throw new Error('RATE_LIMITED', { cause: error });\n                }\n                if (status >= _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR && status < 600) {\n                    throw new Error('SERVER_ERROR', { cause: error });\n                }\n                return [];\n            }\n            return [];\n        }\n    },\n    async fetchNetworkImages() {\n        const requestedCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getAllRequestedCaipNetworks();\n        const ids = requestedCaipNetworks\n            ?.map(({ assets }) => assets?.imageId)\n            .filter(Boolean)\n            .filter(imageId => !_utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__.AssetUtil.getNetworkImageById(imageId));\n        if (ids) {\n            await Promise.allSettled(ids.map(id => ApiController._fetchNetworkImage(id)));\n        }\n    },\n    async fetchConnectorImages() {\n        const { connectors } = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state;\n        const ids = connectors.map(({ imageId }) => imageId).filter(Boolean);\n        await Promise.allSettled(ids.map(id => ApiController._fetchConnectorImage(id)));\n    },\n    async fetchCurrencyImages(currencies = []) {\n        await Promise.allSettled(currencies.map(currency => ApiController._fetchCurrencyImage(currency)));\n    },\n    async fetchTokenImages(tokens = []) {\n        await Promise.allSettled(tokens.map(token => ApiController._fetchTokenImage(token)));\n    },\n    async fetchWallets(params) {\n        const exclude = params.exclude ?? [];\n        const sdkProperties = ApiController._getSdkProperties();\n        if (sdkProperties.sv.startsWith('html-core-')) {\n            exclude.push(...Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(w => w.id));\n        }\n        const wallets = await api.get({\n            path: '/getWallets',\n            params: {\n                ...ApiController._getSdkProperties(),\n                ...params,\n                page: String(params.page),\n                entries: String(params.entries),\n                include: params.include?.join(','),\n                exclude: exclude.join(',')\n            }\n        });\n        const { filteredWallets, mobileFilteredOutWalletsLength } = ApiController._filterWalletsByPlatform(wallets?.data);\n        return {\n            data: filteredWallets || [],\n            // Keep original count for display on main page\n            count: wallets?.count,\n            mobileFilteredOutWalletsLength\n        };\n    },\n    async prefetchWalletRanks() {\n        const connectors = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.connectors;\n        if (!connectors?.length) {\n            return;\n        }\n        const params = {\n            page: 1,\n            entries: 20,\n            badge: 'certified'\n        };\n        params.names = connectors.map(c => c.name).join(',');\n        if (_ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.state.activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.CHAIN.EVM) {\n            const rdnsCandidates = [\n                ...connectors.flatMap(c => c.connectors?.map(sc => sc.info?.rdns) || []),\n                ...connectors.map(c => c.info?.rdns)\n            ].filter((val) => typeof val === 'string' && val.length > 0);\n            if (rdnsCandidates.length) {\n                params.rdns = rdnsCandidates.join(',');\n            }\n        }\n        const { data } = await ApiController.fetchWallets(params);\n        state.explorerWallets = data;\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.explorerFilteredWallets = data.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    async fetchFeaturedWallets() {\n        const { featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        if (featuredWalletIds?.length) {\n            const params = {\n                ...ApiController._getSdkProperties(),\n                page: 1,\n                entries: featuredWalletIds?.length ?? recommendedEntries,\n                include: featuredWalletIds\n            };\n            const { data } = await ApiController.fetchWallets(params);\n            const sortedData = [...data].sort((a, b) => featuredWalletIds.indexOf(a.id) - featuredWalletIds.indexOf(b.id));\n            const images = sortedData.map(d => d.image_id).filter(Boolean);\n            await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n            state.featured = sortedData;\n            state.allFeatured = sortedData;\n        }\n    },\n    async fetchRecommendedWallets() {\n        try {\n            state.isFetchingRecommendedWallets = true;\n            const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            const exclude = [...(excludeWalletIds ?? []), ...(featuredWalletIds ?? [])].filter(Boolean);\n            const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n            const params = {\n                page: 1,\n                entries: recommendedEntries,\n                include: includeWalletIds,\n                exclude,\n                chains\n            };\n            const { data, count } = await ApiController.fetchWallets(params);\n            const recent = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getRecentWallets();\n            const recommendedImages = data.map(d => d.image_id).filter(Boolean);\n            const recentImages = recent.map(r => r.image_id).filter(Boolean);\n            await Promise.allSettled([...recommendedImages, ...recentImages].map(id => ApiController._fetchWalletImage(id)));\n            state.recommended = data;\n            state.allRecommended = data;\n            state.count = count ?? 0;\n        }\n        catch {\n            // Catch silently\n        }\n        finally {\n            state.isFetchingRecommendedWallets = false;\n        }\n    },\n    async fetchWalletsByPage({ page }) {\n        const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        const exclude = [\n            ...state.recommended.map(({ id }) => id),\n            ...(excludeWalletIds ?? []),\n            ...(featuredWalletIds ?? [])\n        ].filter(Boolean);\n        const params = {\n            page,\n            entries,\n            include: includeWalletIds,\n            exclude,\n            chains\n        };\n        const { data, count, mobileFilteredOutWalletsLength } = await ApiController.fetchWallets(params);\n        state.mobileFilteredOutWalletsLength =\n            mobileFilteredOutWalletsLength + (state.mobileFilteredOutWalletsLength ?? 0);\n        const images = data\n            .slice(0, imageCountToFetch)\n            .map(w => w.image_id)\n            .filter(Boolean);\n        await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n        state.wallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.uniqueBy([...state.wallets, ...ApiController._filterOutExtensions(data)], 'id').filter(w => w.chains?.some(chain => chains.includes(chain)));\n        state.count = count > state.count ? count : state.count;\n        state.page = page;\n    },\n    async initializeExcludedWallets({ ids }) {\n        const params = {\n            page: 1,\n            entries: ids.length,\n            include: ids\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        if (data) {\n            data.forEach(wallet => {\n                state.excludedWallets.push({ rdns: wallet.rdns, name: wallet.name });\n            });\n        }\n    },\n    async searchWallet({ search, badge }) {\n        const { includeWalletIds, excludeWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.search = [];\n        const params = {\n            page: 1,\n            entries: 100,\n            search: search?.trim(),\n            badge_type: badge,\n            include: includeWalletIds,\n            exclude: excludeWalletIds,\n            chains\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEARCH_WALLET',\n            properties: { badge: badge ?? '', search: search ?? '' }\n        });\n        const images = data.map(w => w.image_id).filter(Boolean);\n        await Promise.allSettled([\n            ...images.map(id => ApiController._fetchWalletImage(id)),\n            _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.wait(300)\n        ]);\n        state.search = ApiController._filterOutExtensions(data);\n    },\n    initPromise(key, fetchFn) {\n        const existingPromise = state.promises[key];\n        if (existingPromise) {\n            return existingPromise;\n        }\n        return (state.promises[key] = fetchFn());\n    },\n    prefetch({ fetchConnectorImages = true, fetchFeaturedWallets = true, fetchRecommendedWallets = true, fetchNetworkImages = true, fetchWalletRanks = true } = {}) {\n        const promises = [\n            fetchConnectorImages &&\n                ApiController.initPromise('connectorImages', ApiController.fetchConnectorImages),\n            fetchFeaturedWallets &&\n                ApiController.initPromise('featuredWallets', ApiController.fetchFeaturedWallets),\n            fetchRecommendedWallets &&\n                ApiController.initPromise('recommendedWallets', ApiController.fetchRecommendedWallets),\n            fetchNetworkImages &&\n                ApiController.initPromise('networkImages', ApiController.fetchNetworkImages),\n            fetchWalletRanks &&\n                ApiController.initPromise('walletRanks', ApiController.prefetchWalletRanks)\n        ].filter(Boolean);\n        return Promise.allSettled(promises);\n    },\n    prefetchAnalyticsConfig() {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.features?.analytics) {\n            ApiController.fetchAnalyticsConfig();\n        }\n    },\n    async fetchAnalyticsConfig() {\n        try {\n            const { isAnalyticsEnabled } = await api.get({\n                path: '/getAnalyticsConfig',\n                params: ApiController._getSdkProperties()\n            });\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: isAnalyticsEnabled });\n        }\n        catch (error) {\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: false });\n        }\n    },\n    filterByNamespaces(namespaces) {\n        if (!namespaces?.length) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    clearFilterByNamespaces() {\n        state.filteredWallets = [];\n    },\n    setFilterByNamespace(namespace) {\n        if (!namespace) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    }\n};\n//# sourceMappingURL=ApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNUO0FBQ0g7QUFDVTtBQUNWO0FBQ2lCO0FBQ2I7QUFDQztBQUNBO0FBQ1E7QUFDTjtBQUNFO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQ3ZCLGdCQUFnQiwwREFBUztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixpQ0FBaUMsRUFBRSxvRUFBaUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksb0VBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLGtCQUFrQixRQUFRO0FBQ2xFLHlDQUF5QywyREFBMkQ7QUFDcEcsUUFBUSxnRUFBZTtBQUN2QixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsWUFBWSx3QkFBd0IsUUFBUTtBQUN4RSx5Q0FBeUMsMkRBQTJEO0FBQ3BHLFFBQVEsZ0VBQWU7QUFDdkIsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLFlBQVksd0JBQXdCLFFBQVE7QUFDeEUseUNBQXlDLDJEQUEyRDtBQUNwRyxRQUFRLGdFQUFlO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLDJCQUEyQixZ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Q0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBLDZDQUE2QyxzQ0FBc0M7QUFDbkYsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLHlCQUF5QixlQUFlO0FBQ3hDLGdCQUFnQixxQ0FBcUMsRUFBRSxvRUFBaUI7QUFDeEUsdUJBQXVCLGdFQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBYztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLCtJQUErSSxJQUFJO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksb0VBQWlCLGVBQWUsK0JBQStCO0FBQzNFO0FBQ0E7QUFDQSxZQUFZLG9FQUFpQixlQUFlLGtCQUFrQjtBQUM5RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBBc3NldFV0aWwgfSBmcm9tICcuLi91dGlscy9Bc3NldFV0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBGZXRjaFV0aWwgfSBmcm9tICcuLi91dGlscy9GZXRjaFV0aWwuanMnO1xuaW1wb3J0IHsgQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMgfSBmcm9tICcuLi91dGlscy9Nb2JpbGVXYWxsZXQuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBBc3NldENvbnRyb2xsZXIgfSBmcm9tICcuL0Fzc2V0Q29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIEhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgYmFzZVVybCA9IENvcmVIZWxwZXJVdGlsLmdldEFwaVVybCgpO1xuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBGZXRjaFV0aWwoe1xuICAgIGJhc2VVcmwsXG4gICAgY2xpZW50SWQ6IG51bGxcbn0pO1xuY29uc3QgZW50cmllcyA9IDQwO1xuY29uc3QgcmVjb21tZW5kZWRFbnRyaWVzID0gNDtcbmNvbnN0IGltYWdlQ291bnRUb0ZldGNoID0gMjA7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHByb21pc2VzOiB7fSxcbiAgICBwYWdlOiAxLFxuICAgIGNvdW50OiAwLFxuICAgIGZlYXR1cmVkOiBbXSxcbiAgICBhbGxGZWF0dXJlZDogW10sXG4gICAgcmVjb21tZW5kZWQ6IFtdLFxuICAgIGFsbFJlY29tbWVuZGVkOiBbXSxcbiAgICB3YWxsZXRzOiBbXSxcbiAgICBmaWx0ZXJlZFdhbGxldHM6IFtdLFxuICAgIHNlYXJjaDogW10sXG4gICAgaXNBbmFseXRpY3NFbmFibGVkOiBmYWxzZSxcbiAgICBleGNsdWRlZFdhbGxldHM6IFtdLFxuICAgIGlzRmV0Y2hpbmdSZWNvbW1lbmRlZFdhbGxldHM6IGZhbHNlLFxuICAgIGV4cGxvcmVyV2FsbGV0czogW10sXG4gICAgZXhwbG9yZXJGaWx0ZXJlZFdhbGxldHM6IFtdLFxuICAgIHBsYW46IHtcbiAgICAgICAgdGllcjogJ25vbmUnLFxuICAgICAgICBoYXNFeGNlZWRlZFVzYWdlTGltaXQ6IGZhbHNlLFxuICAgICAgICBsaW1pdHM6IHtcbiAgICAgICAgICAgIGlzQWJvdmVScGNMaW1pdDogZmFsc2UsXG4gICAgICAgICAgICBpc0Fib3ZlTWF1TGltaXQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IEFwaUNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBfZ2V0U2RrUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQsIHNka1R5cGUsIHNka1ZlcnNpb24gfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgc3Q6IHNka1R5cGUgfHwgJ2FwcGtpdCcsXG4gICAgICAgICAgICBzdjogc2RrVmVyc2lvbiB8fCAnaHRtbC13YWdtaS00LjIuMidcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIF9maWx0ZXJPdXRFeHRlbnNpb25zKHdhbGxldHMpIHtcbiAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmlzVW5pdmVyc2FsUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWxsZXRzLmZpbHRlcih3ID0+IEJvb2xlYW4ody5tb2JpbGVfbGluayB8fCB3LmRlc2t0b3BfbGluayB8fCB3LndlYmFwcF9saW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhbGxldHM7XG4gICAgfSxcbiAgICBhc3luYyBfZmV0Y2hXYWxsZXRJbWFnZShpbWFnZUlkKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gYCR7YXBpLmJhc2VVcmx9L2dldFdhbGxldEltYWdlLyR7aW1hZ2VJZH1gO1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgYXBpLmdldEJsb2IoeyBwYXRoOiBpbWFnZVVybCwgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCkgfSk7XG4gICAgICAgIEFzc2V0Q29udHJvbGxlci5zZXRXYWxsZXRJbWFnZShpbWFnZUlkLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICB9LFxuICAgIGFzeW5jIF9mZXRjaE5ldHdvcmtJbWFnZShpbWFnZUlkKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gYCR7YXBpLmJhc2VVcmx9L3B1YmxpYy9nZXRBc3NldEltYWdlLyR7aW1hZ2VJZH1gO1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgYXBpLmdldEJsb2IoeyBwYXRoOiBpbWFnZVVybCwgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCkgfSk7XG4gICAgICAgIEFzc2V0Q29udHJvbGxlci5zZXROZXR3b3JrSW1hZ2UoaW1hZ2VJZCwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSxcbiAgICBhc3luYyBfZmV0Y2hDb25uZWN0b3JJbWFnZShpbWFnZUlkKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gYCR7YXBpLmJhc2VVcmx9L3B1YmxpYy9nZXRBc3NldEltYWdlLyR7aW1hZ2VJZH1gO1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgYXBpLmdldEJsb2IoeyBwYXRoOiBpbWFnZVVybCwgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCkgfSk7XG4gICAgICAgIEFzc2V0Q29udHJvbGxlci5zZXRDb25uZWN0b3JJbWFnZShpbWFnZUlkLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICB9LFxuICAgIGFzeW5jIF9mZXRjaEN1cnJlbmN5SW1hZ2UoY291bnRyeUNvZGUpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgJHthcGkuYmFzZVVybH0vcHVibGljL2dldEN1cnJlbmN5SW1hZ2UvJHtjb3VudHJ5Q29kZX1gO1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgYXBpLmdldEJsb2IoeyBwYXRoOiBpbWFnZVVybCwgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCkgfSk7XG4gICAgICAgIEFzc2V0Q29udHJvbGxlci5zZXRDdXJyZW5jeUltYWdlKGNvdW50cnlDb2RlLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICB9LFxuICAgIGFzeW5jIF9mZXRjaFRva2VuSW1hZ2Uoc3ltYm9sKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gYCR7YXBpLmJhc2VVcmx9L3B1YmxpYy9nZXRUb2tlbkltYWdlLyR7c3ltYm9sfWA7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBhcGkuZ2V0QmxvYih7IHBhdGg6IGltYWdlVXJsLCBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSB9KTtcbiAgICAgICAgQXNzZXRDb250cm9sbGVyLnNldFRva2VuSW1hZ2Uoc3ltYm9sLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICB9LFxuICAgIF9maWx0ZXJXYWxsZXRzQnlQbGF0Zm9ybSh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IHdhbGxldHNMZW5ndGggPSB3YWxsZXRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRXYWxsZXRzID0gQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKVxuICAgICAgICAgICAgPyB3YWxsZXRzPy5maWx0ZXIodyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHcubW9iaWxlX2xpbmsgfHwgdy53ZWJhcHBfbGluaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tRGVlcGxpbmtXYWxsZXRJZHMgPSBPYmplY3QudmFsdWVzKENVU1RPTV9ERUVQTElOS19XQUxMRVRTKS5tYXAod2FsbGV0ID0+IHdhbGxldC5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1c3RvbURlZXBsaW5rV2FsbGV0SWRzLmluY2x1ZGVzKHcuaWQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogd2FsbGV0cztcbiAgICAgICAgY29uc3QgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoID0gd2FsbGV0c0xlbmd0aCAtIGZpbHRlcmVkV2FsbGV0cy5sZW5ndGg7XG4gICAgICAgIHJldHVybiB7IGZpbHRlcmVkV2FsbGV0cywgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoIH07XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFByb2plY3RDb25maWcoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCh7XG4gICAgICAgICAgICBwYXRoOiAnL2FwcGtpdC92MS9jb25maWcnLFxuICAgICAgICAgICAgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5mZWF0dXJlcztcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVXNhZ2UoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgICAgIHBhdGg6ICcvYXBwa2l0L3YxL3Byb2plY3QtbGltaXRzJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IHRpZXIsIGlzQWJvdmVNYXVMaW1pdCwgaXNBYm92ZVJwY0xpbWl0IH0gPSByZXNwb25zZS5wbGFuTGltaXRzO1xuICAgICAgICAgICAgY29uc3QgaXNTdGFydGVyUGxhbiA9IHRpZXIgPT09ICdzdGFydGVyJztcbiAgICAgICAgICAgIGNvbnN0IGlzQWJvdmVVc2FnZUxpbWl0ID0gaXNBYm92ZU1hdUxpbWl0IHx8IGlzQWJvdmVScGNMaW1pdDtcbiAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuc3RhdGUucGxhbiA9IHtcbiAgICAgICAgICAgICAgICB0aWVyLFxuICAgICAgICAgICAgICAgIGhhc0V4Y2VlZGVkVXNhZ2VMaW1pdDogaXNTdGFydGVyUGxhbiAmJiBpc0Fib3ZlVXNhZ2VMaW1pdCxcbiAgICAgICAgICAgICAgICBsaW1pdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNBYm92ZVJwY0xpbWl0LFxuICAgICAgICAgICAgICAgICAgICBpc0Fib3ZlTWF1TGltaXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBmZXRjaCB1c2FnZScsIGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaEFsbG93ZWRPcmlnaW5zKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBhbGxvd2VkT3JpZ2lucyB9ID0gYXdhaXQgYXBpLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJy9wcm9qZWN0cy92MS9vcmlnaW5zJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYWxsb3dlZE9yaWdpbnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5jYXVzZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3IuY2F1c2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IENvbnN0YW50c1V0aWwuSFRUUF9TVEFUVVNfQ09ERVMuVE9PX01BTllfUkVRVUVTVFMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSQVRFX0xJTUlURUQnLCB7IGNhdXNlOiBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA+PSBDb25zdGFudHNVdGlsLkhUVFBfU1RBVFVTX0NPREVTLlNFUlZFUl9FUlJPUiAmJiBzdGF0dXMgPCA2MDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTRVJWRVJfRVJST1InLCB7IGNhdXNlOiBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaE5ldHdvcmtJbWFnZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoKTtcbiAgICAgICAgY29uc3QgaWRzID0gcmVxdWVzdGVkQ2FpcE5ldHdvcmtzXG4gICAgICAgICAgICA/Lm1hcCgoeyBhc3NldHMgfSkgPT4gYXNzZXRzPy5pbWFnZUlkKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgLmZpbHRlcihpbWFnZUlkID0+ICFBc3NldFV0aWwuZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKSk7XG4gICAgICAgIGlmIChpZHMpIHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpZHMubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoTmV0d29ya0ltYWdlKGlkKSkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaENvbm5lY3RvckltYWdlcygpIHtcbiAgICAgICAgY29uc3QgeyBjb25uZWN0b3JzIH0gPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBpZHMgPSBjb25uZWN0b3JzLm1hcCgoeyBpbWFnZUlkIH0pID0+IGltYWdlSWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGlkcy5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hDb25uZWN0b3JJbWFnZShpZCkpKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoQ3VycmVuY3lJbWFnZXMoY3VycmVuY2llcyA9IFtdKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChjdXJyZW5jaWVzLm1hcChjdXJyZW5jeSA9PiBBcGlDb250cm9sbGVyLl9mZXRjaEN1cnJlbmN5SW1hZ2UoY3VycmVuY3kpKSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRva2VuSW1hZ2VzKHRva2VucyA9IFtdKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh0b2tlbnMubWFwKHRva2VuID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoVG9rZW5JbWFnZSh0b2tlbikpKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoV2FsbGV0cyhwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgZXhjbHVkZSA9IHBhcmFtcy5leGNsdWRlID8/IFtdO1xuICAgICAgICBjb25zdCBzZGtQcm9wZXJ0aWVzID0gQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpO1xuICAgICAgICBpZiAoc2RrUHJvcGVydGllcy5zdi5zdGFydHNXaXRoKCdodG1sLWNvcmUtJykpIHtcbiAgICAgICAgICAgIGV4Y2x1ZGUucHVzaCguLi5PYmplY3QudmFsdWVzKENVU1RPTV9ERUVQTElOS19XQUxMRVRTKS5tYXAodyA9PiB3LmlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2FsbGV0cyA9IGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgcGF0aDogJy9nZXRXYWxsZXRzJyxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIC4uLkFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSxcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgcGFnZTogU3RyaW5nKHBhcmFtcy5wYWdlKSxcbiAgICAgICAgICAgICAgICBlbnRyaWVzOiBTdHJpbmcocGFyYW1zLmVudHJpZXMpLFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHBhcmFtcy5pbmNsdWRlPy5qb2luKCcsJyksXG4gICAgICAgICAgICAgICAgZXhjbHVkZTogZXhjbHVkZS5qb2luKCcsJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgZmlsdGVyZWRXYWxsZXRzLCBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggfSA9IEFwaUNvbnRyb2xsZXIuX2ZpbHRlcldhbGxldHNCeVBsYXRmb3JtKHdhbGxldHM/LmRhdGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogZmlsdGVyZWRXYWxsZXRzIHx8IFtdLFxuICAgICAgICAgICAgLy8gS2VlcCBvcmlnaW5hbCBjb3VudCBmb3IgZGlzcGxheSBvbiBtYWluIHBhZ2VcbiAgICAgICAgICAgIGNvdW50OiB3YWxsZXRzPy5jb3VudCxcbiAgICAgICAgICAgIG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgcHJlZmV0Y2hXYWxsZXRSYW5rcygpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ycztcbiAgICAgICAgaWYgKCFjb25uZWN0b3JzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgZW50cmllczogMjAsXG4gICAgICAgICAgICBiYWRnZTogJ2NlcnRpZmllZCdcbiAgICAgICAgfTtcbiAgICAgICAgcGFyYW1zLm5hbWVzID0gY29ubmVjdG9ycy5tYXAoYyA9PiBjLm5hbWUpLmpvaW4oJywnKTtcbiAgICAgICAgaWYgKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbiA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJkbnNDYW5kaWRhdGVzID0gW1xuICAgICAgICAgICAgICAgIC4uLmNvbm5lY3RvcnMuZmxhdE1hcChjID0+IGMuY29ubmVjdG9ycz8ubWFwKHNjID0+IHNjLmluZm8/LnJkbnMpIHx8IFtdKSxcbiAgICAgICAgICAgICAgICAuLi5jb25uZWN0b3JzLm1hcChjID0+IGMuaW5mbz8ucmRucylcbiAgICAgICAgICAgIF0uZmlsdGVyKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgIGlmIChyZG5zQ2FuZGlkYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucmRucyA9IHJkbnNDYW5kaWRhdGVzLmpvaW4oJywnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgIHN0YXRlLmV4cGxvcmVyV2FsbGV0cyA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWRzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICBzdGF0ZS5leHBsb3JlckZpbHRlcmVkV2FsbGV0cyA9IGRhdGEuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hGZWF0dXJlZFdhbGxldHMoKSB7XG4gICAgICAgIGNvbnN0IHsgZmVhdHVyZWRXYWxsZXRJZHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBpZiAoZmVhdHVyZWRXYWxsZXRJZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLkFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSxcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgIGVudHJpZXM6IGZlYXR1cmVkV2FsbGV0SWRzPy5sZW5ndGggPz8gcmVjb21tZW5kZWRFbnRyaWVzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IGZlYXR1cmVkV2FsbGV0SWRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICAgICAgY29uc3Qgc29ydGVkRGF0YSA9IFsuLi5kYXRhXS5zb3J0KChhLCBiKSA9PiBmZWF0dXJlZFdhbGxldElkcy5pbmRleE9mKGEuaWQpIC0gZmVhdHVyZWRXYWxsZXRJZHMuaW5kZXhPZihiLmlkKSk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZXMgPSBzb3J0ZWREYXRhLm1hcChkID0+IGQuaW1hZ2VfaWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpbWFnZXMubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoV2FsbGV0SW1hZ2UoaWQpKSk7XG4gICAgICAgICAgICBzdGF0ZS5mZWF0dXJlZCA9IHNvcnRlZERhdGE7XG4gICAgICAgICAgICBzdGF0ZS5hbGxGZWF0dXJlZCA9IHNvcnRlZERhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoUmVjb21tZW5kZWRXYWxsZXRzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhdGUuaXNGZXRjaGluZ1JlY29tbWVuZGVkV2FsbGV0cyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCB7IGluY2x1ZGVXYWxsZXRJZHMsIGV4Y2x1ZGVXYWxsZXRJZHMsIGZlYXR1cmVkV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGUgPSBbLi4uKGV4Y2x1ZGVXYWxsZXRJZHMgPz8gW10pLCAuLi4oZmVhdHVyZWRXYWxsZXRJZHMgPz8gW10pXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBjb25zdCBjaGFpbnMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICBlbnRyaWVzOiByZWNvbW1lbmRlZEVudHJpZXMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogaW5jbHVkZVdhbGxldElkcyxcbiAgICAgICAgICAgICAgICBleGNsdWRlLFxuICAgICAgICAgICAgICAgIGNoYWluc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgY291bnQgfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgICAgICBjb25zdCByZWNlbnQgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgICAgICBjb25zdCByZWNvbW1lbmRlZEltYWdlcyA9IGRhdGEubWFwKGQgPT4gZC5pbWFnZV9pZCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgY29uc3QgcmVjZW50SW1hZ2VzID0gcmVjZW50Lm1hcChyID0+IHIuaW1hZ2VfaWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbLi4ucmVjb21tZW5kZWRJbWFnZXMsIC4uLnJlY2VudEltYWdlc10ubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoV2FsbGV0SW1hZ2UoaWQpKSk7XG4gICAgICAgICAgICBzdGF0ZS5yZWNvbW1lbmRlZCA9IGRhdGE7XG4gICAgICAgICAgICBzdGF0ZS5hbGxSZWNvbW1lbmRlZCA9IGRhdGE7XG4gICAgICAgICAgICBzdGF0ZS5jb3VudCA9IGNvdW50ID8/IDA7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gQ2F0Y2ggc2lsZW50bHlcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLmlzRmV0Y2hpbmdSZWNvbW1lbmRlZFdhbGxldHMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hXYWxsZXRzQnlQYWdlKHsgcGFnZSB9KSB7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZVdhbGxldElkcywgZXhjbHVkZVdhbGxldElkcywgZmVhdHVyZWRXYWxsZXRJZHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGUgPSBbXG4gICAgICAgICAgICAuLi5zdGF0ZS5yZWNvbW1lbmRlZC5tYXAoKHsgaWQgfSkgPT4gaWQpLFxuICAgICAgICAgICAgLi4uKGV4Y2x1ZGVXYWxsZXRJZHMgPz8gW10pLFxuICAgICAgICAgICAgLi4uKGZlYXR1cmVkV2FsbGV0SWRzID8/IFtdKVxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgIGVudHJpZXMsXG4gICAgICAgICAgICBpbmNsdWRlOiBpbmNsdWRlV2FsbGV0SWRzLFxuICAgICAgICAgICAgZXhjbHVkZSxcbiAgICAgICAgICAgIGNoYWluc1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGRhdGEsIGNvdW50LCBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgIHN0YXRlLm1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCA9XG4gICAgICAgICAgICBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggKyAoc3RhdGUubW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoID8/IDApO1xuICAgICAgICBjb25zdCBpbWFnZXMgPSBkYXRhXG4gICAgICAgICAgICAuc2xpY2UoMCwgaW1hZ2VDb3VudFRvRmV0Y2gpXG4gICAgICAgICAgICAubWFwKHcgPT4gdy5pbWFnZV9pZClcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpbWFnZXMubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoV2FsbGV0SW1hZ2UoaWQpKSk7XG4gICAgICAgIHN0YXRlLndhbGxldHMgPSBDb3JlSGVscGVyVXRpbC51bmlxdWVCeShbLi4uc3RhdGUud2FsbGV0cywgLi4uQXBpQ29udHJvbGxlci5fZmlsdGVyT3V0RXh0ZW5zaW9ucyhkYXRhKV0sICdpZCcpLmZpbHRlcih3ID0+IHcuY2hhaW5zPy5zb21lKGNoYWluID0+IGNoYWlucy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICAgICAgc3RhdGUuY291bnQgPSBjb3VudCA+IHN0YXRlLmNvdW50ID8gY291bnQgOiBzdGF0ZS5jb3VudDtcbiAgICAgICAgc3RhdGUucGFnZSA9IHBhZ2U7XG4gICAgfSxcbiAgICBhc3luYyBpbml0aWFsaXplRXhjbHVkZWRXYWxsZXRzKHsgaWRzIH0pIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgIGVudHJpZXM6IGlkcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmNsdWRlOiBpZHNcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKHdhbGxldCA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZXhjbHVkZWRXYWxsZXRzLnB1c2goeyByZG5zOiB3YWxsZXQucmRucywgbmFtZTogd2FsbGV0Lm5hbWUgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2VhcmNoV2FsbGV0KHsgc2VhcmNoLCBiYWRnZSB9KSB7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZVdhbGxldElkcywgZXhjbHVkZVdhbGxldElkcyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgc3RhdGUuc2VhcmNoID0gW107XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBlbnRyaWVzOiAxMDAsXG4gICAgICAgICAgICBzZWFyY2g6IHNlYXJjaD8udHJpbSgpLFxuICAgICAgICAgICAgYmFkZ2VfdHlwZTogYmFkZ2UsXG4gICAgICAgICAgICBpbmNsdWRlOiBpbmNsdWRlV2FsbGV0SWRzLFxuICAgICAgICAgICAgZXhjbHVkZTogZXhjbHVkZVdhbGxldElkcyxcbiAgICAgICAgICAgIGNoYWluc1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NFQVJDSF9XQUxMRVQnLFxuICAgICAgICAgICAgcHJvcGVydGllczogeyBiYWRnZTogYmFkZ2UgPz8gJycsIHNlYXJjaDogc2VhcmNoID8/ICcnIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGltYWdlcyA9IGRhdGEubWFwKHcgPT4gdy5pbWFnZV9pZCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICAgICAgLi4uaW1hZ2VzLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaFdhbGxldEltYWdlKGlkKSksXG4gICAgICAgICAgICBDb3JlSGVscGVyVXRpbC53YWl0KDMwMClcbiAgICAgICAgXSk7XG4gICAgICAgIHN0YXRlLnNlYXJjaCA9IEFwaUNvbnRyb2xsZXIuX2ZpbHRlck91dEV4dGVuc2lvbnMoZGF0YSk7XG4gICAgfSxcbiAgICBpbml0UHJvbWlzZShrZXksIGZldGNoRm4pIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9taXNlID0gc3RhdGUucHJvbWlzZXNba2V5XTtcbiAgICAgICAgaWYgKGV4aXN0aW5nUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHN0YXRlLnByb21pc2VzW2tleV0gPSBmZXRjaEZuKCkpO1xuICAgIH0sXG4gICAgcHJlZmV0Y2goeyBmZXRjaENvbm5lY3RvckltYWdlcyA9IHRydWUsIGZldGNoRmVhdHVyZWRXYWxsZXRzID0gdHJ1ZSwgZmV0Y2hSZWNvbW1lbmRlZFdhbGxldHMgPSB0cnVlLCBmZXRjaE5ldHdvcmtJbWFnZXMgPSB0cnVlLCBmZXRjaFdhbGxldFJhbmtzID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXG4gICAgICAgICAgICBmZXRjaENvbm5lY3RvckltYWdlcyAmJlxuICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuaW5pdFByb21pc2UoJ2Nvbm5lY3RvckltYWdlcycsIEFwaUNvbnRyb2xsZXIuZmV0Y2hDb25uZWN0b3JJbWFnZXMpLFxuICAgICAgICAgICAgZmV0Y2hGZWF0dXJlZFdhbGxldHMgJiZcbiAgICAgICAgICAgICAgICBBcGlDb250cm9sbGVyLmluaXRQcm9taXNlKCdmZWF0dXJlZFdhbGxldHMnLCBBcGlDb250cm9sbGVyLmZldGNoRmVhdHVyZWRXYWxsZXRzKSxcbiAgICAgICAgICAgIGZldGNoUmVjb21tZW5kZWRXYWxsZXRzICYmXG4gICAgICAgICAgICAgICAgQXBpQ29udHJvbGxlci5pbml0UHJvbWlzZSgncmVjb21tZW5kZWRXYWxsZXRzJywgQXBpQ29udHJvbGxlci5mZXRjaFJlY29tbWVuZGVkV2FsbGV0cyksXG4gICAgICAgICAgICBmZXRjaE5ldHdvcmtJbWFnZXMgJiZcbiAgICAgICAgICAgICAgICBBcGlDb250cm9sbGVyLmluaXRQcm9taXNlKCduZXR3b3JrSW1hZ2VzJywgQXBpQ29udHJvbGxlci5mZXRjaE5ldHdvcmtJbWFnZXMpLFxuICAgICAgICAgICAgZmV0Y2hXYWxsZXRSYW5rcyAmJlxuICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuaW5pdFByb21pc2UoJ3dhbGxldFJhbmtzJywgQXBpQ29udHJvbGxlci5wcmVmZXRjaFdhbGxldFJhbmtzKVxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcyk7XG4gICAgfSxcbiAgICBwcmVmZXRjaEFuYWx5dGljc0NvbmZpZygpIHtcbiAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5hbmFseXRpY3MpIHtcbiAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuZmV0Y2hBbmFseXRpY3NDb25maWcoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hBbmFseXRpY3NDb25maWcoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGlzQW5hbHl0aWNzRW5hYmxlZCB9ID0gYXdhaXQgYXBpLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJy9nZXRBbmFseXRpY3NDb25maWcnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEZlYXR1cmVzKHsgYW5hbHl0aWNzOiBpc0FuYWx5dGljc0VuYWJsZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRGZWF0dXJlcyh7IGFuYWx5dGljczogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGZpbHRlckJ5TmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdGF0ZS5mZWF0dXJlZCA9IHN0YXRlLmFsbEZlYXR1cmVkO1xuICAgICAgICAgICAgc3RhdGUucmVjb21tZW5kZWQgPSBzdGF0ZS5hbGxSZWNvbW1lbmRlZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgc3RhdGUuZmVhdHVyZWQgPSBzdGF0ZS5hbGxGZWF0dXJlZC5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgICAgIHN0YXRlLnJlY29tbWVuZGVkID0gc3RhdGUuYWxsUmVjb21tZW5kZWQuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZFdhbGxldHMgPSBzdGF0ZS53YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICB9LFxuICAgIGNsZWFyRmlsdGVyQnlOYW1lc3BhY2VzKCkge1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZFdhbGxldHMgPSBbXTtcbiAgICB9LFxuICAgIHNldEZpbHRlckJ5TmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgc3RhdGUuZmVhdHVyZWQgPSBzdGF0ZS5hbGxGZWF0dXJlZDtcbiAgICAgICAgICAgIHN0YXRlLnJlY29tbWVuZGVkID0gc3RhdGUuYWxsUmVjb21tZW5kZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVkID0gc3RhdGUuYWxsRmVhdHVyZWQuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgICAgICBzdGF0ZS5yZWNvbW1lbmRlZCA9IHN0YXRlLmFsbFJlY29tbWVuZGVkLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWRXYWxsZXRzID0gc3RhdGUud2FsbGV0cy5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwaUNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetController: () => (/* binding */ AssetController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    walletImages: {},\n    networkImages: {},\n    chainImages: {},\n    connectorImages: {},\n    tokenImages: {},\n    currencyImages: {}\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeNetworkImages(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.networkImages, () => callback(state.networkImages));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setWalletImage(key, value) {\n        state.walletImages[key] = value;\n    },\n    setNetworkImage(key, value) {\n        state.networkImages[key] = value;\n    },\n    setChainImage(key, value) {\n        state.chainImages[key] = value;\n    },\n    setConnectorImage(key, value) {\n        state.connectorImages = { ...state.connectorImages, [key]: value };\n    },\n    setTokenImage(key, value) {\n        state.tokenImages[key] = value;\n    },\n    setCurrencyImage(key, value) {\n        state.currencyImages[key] = value;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AssetController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__.withErrorBoundary)(controller);\n//# sourceMappingURL=AssetController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5RDtBQUNLO0FBQ0k7QUFDbEU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsbUJBQW1CO0FBQ25CLHVCQUF1QjtBQUN2QixtQkFBbUI7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQ0FBa0M7QUFDbEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQXNzZXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB3YWxsZXRJbWFnZXM6IHt9LFxuICAgIG5ldHdvcmtJbWFnZXM6IHt9LFxuICAgIGNoYWluSW1hZ2VzOiB7fSxcbiAgICBjb25uZWN0b3JJbWFnZXM6IHt9LFxuICAgIHRva2VuSW1hZ2VzOiB7fSxcbiAgICBjdXJyZW5jeUltYWdlczoge31cbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZU5ldHdvcmtJbWFnZXMoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZS5uZXR3b3JrSW1hZ2VzLCAoKSA9PiBjYWxsYmFjayhzdGF0ZS5uZXR3b3JrSW1hZ2VzKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc2V0V2FsbGV0SW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS53YWxsZXRJbWFnZXNba2V5XSA9IHZhbHVlO1xuICAgIH0sXG4gICAgc2V0TmV0d29ya0ltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUubmV0d29ya0ltYWdlc1trZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICBzZXRDaGFpbkltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUuY2hhaW5JbWFnZXNba2V5XSA9IHZhbHVlO1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdG9ySW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JJbWFnZXMgPSB7IC4uLnN0YXRlLmNvbm5lY3RvckltYWdlcywgW2tleV06IHZhbHVlIH07XG4gICAgfSxcbiAgICBzZXRUb2tlbkltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUudG9rZW5JbWFnZXNba2V5XSA9IHZhbHVlO1xuICAgIH0sXG4gICAgc2V0Q3VycmVuY3lJbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLmN1cnJlbmN5SW1hZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBBc3NldENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2V0Q29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockchainApiController: () => (/* binding */ BlockchainApiController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\nconst DEFAULT_OPTIONS = {\n    purchaseCurrencies: [\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'USD Coin',\n            symbol: 'USDC',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        },\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'Ether',\n            symbol: 'ETH',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        }\n    ],\n    paymentCurrencies: [\n        {\n            id: 'USD',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        },\n        {\n            id: 'EUR',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        }\n    ]\n};\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getBlockchainApiUrl();\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    clientId: null,\n    api: new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId: null }),\n    supportedChains: { http: [], ws: [] }\n});\n// -- Controller ---------------------------------------- //\nconst BlockchainApiController = {\n    state,\n    async get(request) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const projectId = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId;\n        const params = {\n            ...(request.params || {}),\n            st,\n            sv,\n            projectId\n        };\n        return state.api.get({\n            ...request,\n            params\n        });\n    },\n    getSdkProperties() {\n        const { sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            st: sdkType || 'unknown',\n            sv: sdkVersion || 'unknown'\n        };\n    },\n    async isNetworkSupported(networkId) {\n        if (!networkId) {\n            return false;\n        }\n        try {\n            if (!state.supportedChains.http.length) {\n                await BlockchainApiController.getSupportedNetworks();\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return state.supportedChains.http.includes(networkId);\n    },\n    async getSupportedNetworks() {\n        try {\n            const supportedChains = await BlockchainApiController.get({\n                path: 'v1/supported-chains'\n            });\n            state.supportedChains = supportedChains;\n            return supportedChains;\n        }\n        catch {\n            return state.supportedChains;\n        }\n    },\n    async fetchIdentity({ address }) {\n        const identityCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getIdentityFromCacheForAddress(address);\n        if (identityCache) {\n            return identityCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/identity/${address}`,\n            params: {\n                sender: _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress\n                    ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getPlainAddress(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress)\n                    : undefined\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateIdentityCache({\n            address,\n            identity: result,\n            timestamp: Date.now()\n        });\n        return result;\n    },\n    async fetchTransactions({ account, cursor, signal, cache, chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { data: [], next: undefined };\n        }\n        const transactionsCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTransactionsCacheForAddress({\n            address: account,\n            chainId\n        });\n        if (transactionsCache) {\n            return transactionsCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/account/${account}/history`,\n            params: {\n                cursor,\n                chainId\n            },\n            signal,\n            cache\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTransactionsCache({\n            address: account,\n            chainId,\n            timestamp: Date.now(),\n            transactions: result\n        });\n        return result;\n    },\n    async fetchSwapQuote({ amount, userAddress, from, to, gasPrice }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { quotes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/quotes`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                amount,\n                userAddress,\n                from,\n                to,\n                gasPrice\n            }\n        });\n    },\n    async fetchSwapTokens({ chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { tokens: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/tokens`,\n            params: { chainId }\n        });\n    },\n    async fetchTokenPrice({ addresses }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { fungibles: [] };\n        }\n        const tokenPriceCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTokenPriceCacheForAddresses(addresses);\n        if (tokenPriceCache) {\n            return tokenPriceCache;\n        }\n        const result = await state.api.post({\n            path: '/v1/fungible/price',\n            body: {\n                currency: 'usd',\n                addresses,\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTokenPriceCache({\n            addresses,\n            timestamp: Date.now(),\n            tokenPrice: result\n        });\n        return result;\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { allowance: '0' };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/allowance`,\n            params: {\n                tokenAddress,\n                userAddress\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async fetchGasPrice({ chainId }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Gas Price');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/gas-price`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                chainId,\n                st,\n                sv\n            }\n        });\n    },\n    async generateSwapCalldata({ amount, from, to, userAddress, disableEstimate }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return state.api.post({\n            path: '/v1/convert/build-transaction',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: {\n                amount,\n                eip155: {\n                    slippage: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE\n                },\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId,\n                from,\n                to,\n                userAddress,\n                disableEstimate\n            }\n        });\n    },\n    async generateApproveCalldata({ from, to, userAddress }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/build-approve`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                userAddress,\n                from,\n                to,\n                st,\n                sv\n            }\n        });\n    },\n    async getBalance(address, chainId, forceUpdate) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Token Balance Unavailable');\n            return { balances: [] };\n        }\n        const caipAddress = `${chainId}:${address}`;\n        const cachedBalance = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance;\n        }\n        const balance = await BlockchainApiController.get({\n            path: `/v1/account/${address}/balance`,\n            params: {\n                currency: 'usd',\n                chainId,\n                forceUpdate,\n                st,\n                sv\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateBalanceCache({\n            caipAddress,\n            balance,\n            timestamp: Date.now()\n        });\n        return balance;\n    },\n    async lookupEnsName(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { addresses: {}, attributes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/account/${name}`,\n            params: { apiVersion: '2' }\n        });\n    },\n    async reverseLookupEnsName({ address }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        const sender = _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData()?.address;\n        return BlockchainApiController.get({\n            path: `/v1/profile/reverse/${address}`,\n            params: {\n                sender,\n                apiVersion: '2'\n            }\n        });\n    },\n    async getEnsNameSuggestions(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { suggestions: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/suggestions/${name}`,\n            params: { zone: 'reown.id' }\n        });\n    },\n    async registerEnsName({ coinType, address, message, signature }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/profile/account`,\n            body: { coin_type: coinType, address, message, signature },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async generateOnRampURL({ destinationWallets, partnerUserId, defaultNetwork, purchaseAmount, paymentAmount }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return '';\n        }\n        const response = await state.api.post({\n            path: `/v1/generators/onrampurl`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                destinationWallets,\n                defaultNetwork,\n                partnerUserId,\n                defaultExperience: 'buy',\n                presetCryptoAmount: purchaseAmount,\n                presetFiatAmount: paymentAmount\n            }\n        });\n        return response.url;\n    },\n    async getOnrampOptions() {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { paymentCurrencies: [], purchaseCurrencies: [] };\n        }\n        try {\n            const response = await BlockchainApiController.get({\n                path: `/v1/onramp/options`\n            });\n            return response;\n        }\n        catch (e) {\n            return DEFAULT_OPTIONS;\n        }\n    },\n    async getOnrampQuote({ purchaseCurrency, paymentCurrency, amount, network }) {\n        try {\n            const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n            if (!isSupported) {\n                return null;\n            }\n            const response = await state.api.post({\n                path: `/v1/onramp/quote`,\n                params: {\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n                },\n                body: {\n                    purchaseCurrency,\n                    paymentCurrency,\n                    amount,\n                    network\n                }\n            });\n            return response;\n        }\n        catch (e) {\n            // Mocking response as 1:1 until endpoint is ready\n            return {\n                networkFee: { amount, currency: paymentCurrency.id },\n                paymentSubtotal: { amount, currency: paymentCurrency.id },\n                paymentTotal: { amount, currency: paymentCurrency.id },\n                purchaseAmount: { amount, currency: paymentCurrency.id },\n                quoteId: 'mocked-quote-id'\n            };\n        }\n    },\n    async getSmartSessions(caipAddress) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        return BlockchainApiController.get({\n            path: `/v1/sessions/${caipAddress}`\n        });\n    },\n    async revokeSmartSession(address, pci, signature) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/sessions/${address}/revoke`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                pci,\n                signature\n            }\n        });\n    },\n    setClientId(clientId) {\n        state.clientId = clientId;\n        state.api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId });\n    }\n};\n//# sourceMappingURL=BlockchainApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDbUI7QUFDRTtBQUNWO0FBQ0k7QUFDQztBQUNJO0FBQ0o7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLGFBQWEsMERBQVMsR0FBRyx5QkFBeUI7QUFDbEQsdUJBQXVCO0FBQ3ZCLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLDBCQUEwQixvRUFBaUI7QUFDM0M7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLHNCQUFzQixFQUFFLG9FQUFpQjtBQUN6RDtBQUNBO0FBQ0E7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YTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLG9EQUFvRDtBQUMvRTtBQUNBLGlGQUFpRixnRUFBZTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWlCO0FBQ2hELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzQ0FBc0M7QUFDcEUsbUNBQW1DLHNDQUFzQztBQUN6RSxnQ0FBZ0Msc0NBQXNDO0FBQ3RFLGtDQUFrQyxzQ0FBc0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUMsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQSwyQkFBMkIsb0VBQWlCO0FBQzVDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiwwREFBUyxHQUFHLG1CQUFtQjtBQUN2RDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IEZldGNoVXRpbCB9IGZyb20gJy4uL3V0aWxzL0ZldGNoVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICcuL1NuYWNrQ29udHJvbGxlci5qcyc7XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgcHVyY2hhc2VDdXJyZW5jaWVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnMmI5MjMxNWQtZWFiNy01YmVmLTg0ZmEtMDg5YTEzMTMzM2Y1JyxcbiAgICAgICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgICAgIG5ldHdvcmtzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZXRoZXJldW0tbWFpbm5ldCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RfYWRkcmVzczogJzB4QTBiODY5OTFjNjIxOGIzNmMxZDE5RDRhMmU5RWIwY0UzNjA2ZUI0OCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BvbHlnb24tbWFpbm5ldCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ1BvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbl9pZDogJzEzNycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweDI3OTFCY2ExZjJkZTQ2NjFFRDg4QTMwQzk5QTdhOTQ0OUFhODQxNzQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJzJiOTIzMTVkLWVhYjctNWJlZi04NGZhLTA4OWExMzEzMzNmNScsXG4gICAgICAgICAgICBuYW1lOiAnRXRoZXInLFxuICAgICAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgICAgIG5ldHdvcmtzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZXRoZXJldW0tbWFpbm5ldCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RfYWRkcmVzczogJzB4QTBiODY5OTFjNjIxOGIzNmMxZDE5RDRhMmU5RWIwY0UzNjA2ZUI0OCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BvbHlnb24tbWFpbm5ldCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ1BvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbl9pZDogJzEzNycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweDI3OTFCY2ExZjJkZTQ2NjFFRDg4QTMwQzk5QTdhOTQ0OUFhODQxNzQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXSxcbiAgICBwYXltZW50Q3VycmVuY2llczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ1VTRCcsXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF9saW1pdHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnY2FyZCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAnNzUwMC4wMCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdhY2hfYmFua19hY2NvdW50JyxcbiAgICAgICAgICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgICAgICAgICBtYXg6ICcyNTAwMC4wMCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnRVVSJyxcbiAgICAgICAgICAgIHBheW1lbnRfbWV0aG9kX2xpbWl0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdjYXJkJyxcbiAgICAgICAgICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgICAgICAgICBtYXg6ICc3NTAwLjAwJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2FjaF9iYW5rX2FjY291bnQnLFxuICAgICAgICAgICAgICAgICAgICBtaW46ICcxMC4wMCcsXG4gICAgICAgICAgICAgICAgICAgIG1heDogJzI1MDAwLjAwJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIF1cbn07XG4vLyAtLSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGJhc2VVcmwgPSBDb3JlSGVscGVyVXRpbC5nZXRCbG9ja2NoYWluQXBpVXJsKCk7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGNsaWVudElkOiBudWxsLFxuICAgIGFwaTogbmV3IEZldGNoVXRpbCh7IGJhc2VVcmwsIGNsaWVudElkOiBudWxsIH0pLFxuICAgIHN1cHBvcnRlZENoYWluczogeyBodHRwOiBbXSwgd3M6IFtdIH1cbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgYXN5bmMgZ2V0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgeyBzdCwgc3YgfSA9IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldFNka1Byb3BlcnRpZXMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi4ocmVxdWVzdC5wYXJhbXMgfHwge30pLFxuICAgICAgICAgICAgc3QsXG4gICAgICAgICAgICBzdixcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGUuYXBpLmdldCh7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0U2RrUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgeyBzZGtUeXBlLCBzZGtWZXJzaW9uIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0OiBzZGtUeXBlIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgIHN2OiBzZGtWZXJzaW9uIHx8ICd1bmtub3duJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgaXNOZXR3b3JrU3VwcG9ydGVkKG5ldHdvcmtJZCkge1xuICAgICAgICBpZiAoIW5ldHdvcmtJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLnN1cHBvcnRlZENoYWlucy5odHRwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldFN1cHBvcnRlZE5ldHdvcmtzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuc3VwcG9ydGVkQ2hhaW5zLmh0dHAuaW5jbHVkZXMobmV0d29ya0lkKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldFN1cHBvcnRlZE5ldHdvcmtzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3VwcG9ydGVkQ2hhaW5zID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiAndjEvc3VwcG9ydGVkLWNoYWlucydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUuc3VwcG9ydGVkQ2hhaW5zID0gc3VwcG9ydGVkQ2hhaW5zO1xuICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRlZENoYWlucztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuc3VwcG9ydGVkQ2hhaW5zO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaElkZW50aXR5KHsgYWRkcmVzcyB9KSB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5Q2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRJZGVudGl0eUZyb21DYWNoZUZvckFkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgIGlmIChpZGVudGl0eUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpdHlDYWNoZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9pZGVudGl0eS8ke2FkZHJlc3N9YCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHNlbmRlcjogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgID8gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcylcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZUlkZW50aXR5Q2FjaGUoe1xuICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgIGlkZW50aXR5OiByZXN1bHQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRyYW5zYWN0aW9ucyh7IGFjY291bnQsIGN1cnNvciwgc2lnbmFsLCBjYWNoZSwgY2hhaW5JZCB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IFtdLCBuZXh0OiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnNDYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRyYW5zYWN0aW9uc0NhY2hlRm9yQWRkcmVzcyh7XG4gICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50LFxuICAgICAgICAgICAgY2hhaW5JZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9uc0NhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zQ2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvYWNjb3VudC8ke2FjY291bnR9L2hpc3RvcnlgLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY3Vyc29yLFxuICAgICAgICAgICAgICAgIGNoYWluSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICBjYWNoZVxuICAgICAgICB9KTtcbiAgICAgICAgU3RvcmFnZVV0aWwudXBkYXRlVHJhbnNhY3Rpb25zQ2FjaGUoe1xuICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudCxcbiAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICB0cmFuc2FjdGlvbnM6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoU3dhcFF1b3RlKHsgYW1vdW50LCB1c2VyQWRkcmVzcywgZnJvbSwgdG8sIGdhc1ByaWNlIH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcXVvdGVzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9jb252ZXJ0L3F1b3Rlc2AsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgIGdhc1ByaWNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hTd2FwVG9rZW5zKHsgY2hhaW5JZCB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHRva2VuczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC90b2tlbnNgLFxuICAgICAgICAgICAgcGFyYW1zOiB7IGNoYWluSWQgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVG9rZW5QcmljZSh7IGFkZHJlc3NlcyB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGZ1bmdpYmxlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlblByaWNlQ2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUb2tlblByaWNlQ2FjaGVGb3JBZGRyZXNzZXMoYWRkcmVzc2VzKTtcbiAgICAgICAgaWYgKHRva2VuUHJpY2VDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuUHJpY2VDYWNoZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiAnL3YxL2Z1bmdpYmxlL3ByaWNlJyxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgICAgICAgICAgYWRkcmVzc2VzLFxuICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZVRva2VuUHJpY2VDYWNoZSh7XG4gICAgICAgICAgICBhZGRyZXNzZXMsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICB0b2tlblByaWNlOiByZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFN3YXBBbGxvd2FuY2UoeyB0b2tlbkFkZHJlc3MsIHVzZXJBZGRyZXNzIH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYWxsb3dhbmNlOiAnMCcgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC9hbGxvd2FuY2VgLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgdG9rZW5BZGRyZXNzLFxuICAgICAgICAgICAgICAgIHVzZXJBZGRyZXNzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaEdhc1ByaWNlKHsgY2hhaW5JZCB9KSB7XG4gICAgICAgIGNvbnN0IHsgc3QsIHN2IH0gPSBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBub3Qgc3VwcG9ydGVkIGZvciBHYXMgUHJpY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC9nYXMtcHJpY2VgLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIHN0LFxuICAgICAgICAgICAgICAgIHN2XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZ2VuZXJhdGVTd2FwQ2FsbGRhdGEoeyBhbW91bnQsIGZyb20sIHRvLCB1c2VyQWRkcmVzcywgZGlzYWJsZUVzdGltYXRlIH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG5vdCBzdXBwb3J0ZWQgZm9yIFN3YXBzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgIHBhdGg6ICcvdjEvY29udmVydC9idWlsZC10cmFuc2FjdGlvbicsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgZWlwMTU1OiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaXBwYWdlOiBDb25zdGFudHNVdGlsLkNPTlZFUlRfU0xJUFBBR0VfVE9MRVJBTkNFXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZCxcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgIHVzZXJBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGRpc2FibGVFc3RpbWF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGdlbmVyYXRlQXBwcm92ZUNhbGxkYXRhKHsgZnJvbSwgdG8sIHVzZXJBZGRyZXNzIH0pIHtcbiAgICAgICAgY29uc3QgeyBzdCwgc3YgfSA9IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldFNka1Byb3BlcnRpZXMoKTtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG5vdCBzdXBwb3J0ZWQgZm9yIFN3YXBzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2NvbnZlcnQvYnVpbGQtYXBwcm92ZWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHVzZXJBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgc3QsXG4gICAgICAgICAgICAgICAgc3ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRCYWxhbmNlKGFkZHJlc3MsIGNoYWluSWQsIGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHsgc3QsIHN2IH0gPSBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ1Rva2VuIEJhbGFuY2UgVW5hdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGJhbGFuY2VzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gYCR7Y2hhaW5JZH06JHthZGRyZXNzfWA7XG4gICAgICAgIGNvbnN0IGNhY2hlZEJhbGFuY2UgPSBTdG9yYWdlVXRpbC5nZXRCYWxhbmNlQ2FjaGVGb3JDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgIGlmIChjYWNoZWRCYWxhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQmFsYW5jZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvYWNjb3VudC8ke2FkZHJlc3N9L2JhbGFuY2VgLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgZm9yY2VVcGRhdGUsXG4gICAgICAgICAgICAgICAgc3QsXG4gICAgICAgICAgICAgICAgc3ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZUJhbGFuY2VDYWNoZSh7XG4gICAgICAgICAgICBjYWlwQWRkcmVzcyxcbiAgICAgICAgICAgIGJhbGFuY2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBiYWxhbmNlO1xuICAgIH0sXG4gICAgYXN5bmMgbG9va3VwRW5zTmFtZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGFkZHJlc3Nlczoge30sIGF0dHJpYnV0ZXM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Byb2ZpbGUvYWNjb3VudC8ke25hbWV9YCxcbiAgICAgICAgICAgIHBhcmFtczogeyBhcGlWZXJzaW9uOiAnMicgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHJldmVyc2VMb29rdXBFbnNOYW1lKHsgYWRkcmVzcyB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZW5kZXIgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKT8uYWRkcmVzcztcbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Byb2ZpbGUvcmV2ZXJzZS8ke2FkZHJlc3N9YCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHNlbmRlcixcbiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiAnMidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRFbnNOYW1lU3VnZ2VzdGlvbnMobmFtZSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWdnZXN0aW9uczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvcHJvZmlsZS9zdWdnZXN0aW9ucy8ke25hbWV9YCxcbiAgICAgICAgICAgIHBhcmFtczogeyB6b25lOiAncmVvd24uaWQnIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyByZWdpc3RlckVuc05hbWUoeyBjb2luVHlwZSwgYWRkcmVzcywgbWVzc2FnZSwgc2lnbmF0dXJlIH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9wcm9maWxlL2FjY291bnRgLFxuICAgICAgICAgICAgYm9keTogeyBjb2luX3R5cGU6IGNvaW5UeXBlLCBhZGRyZXNzLCBtZXNzYWdlLCBzaWduYXR1cmUgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZ2VuZXJhdGVPblJhbXBVUkwoeyBkZXN0aW5hdGlvbldhbGxldHMsIHBhcnRuZXJVc2VySWQsIGRlZmF1bHROZXR3b3JrLCBwdXJjaGFzZUFtb3VudCwgcGF5bWVudEFtb3VudCB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvZ2VuZXJhdG9ycy9vbnJhbXB1cmxgLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25XYWxsZXRzLFxuICAgICAgICAgICAgICAgIGRlZmF1bHROZXR3b3JrLFxuICAgICAgICAgICAgICAgIHBhcnRuZXJVc2VySWQsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEV4cGVyaWVuY2U6ICdidXknLFxuICAgICAgICAgICAgICAgIHByZXNldENyeXB0b0Ftb3VudDogcHVyY2hhc2VBbW91bnQsXG4gICAgICAgICAgICAgICAgcHJlc2V0RmlhdEFtb3VudDogcGF5bWVudEFtb3VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnVybDtcbiAgICB9LFxuICAgIGFzeW5jIGdldE9ucmFtcE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHBheW1lbnRDdXJyZW5jaWVzOiBbXSwgcHVyY2hhc2VDdXJyZW5jaWVzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogYC92MS9vbnJhbXAvb3B0aW9uc2BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gREVGQVVMVF9PUFRJT05TO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXRPbnJhbXBRdW90ZSh7IHB1cmNoYXNlQ3VycmVuY3ksIHBheW1lbnRDdXJyZW5jeSwgYW1vdW50LCBuZXR3b3JrIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiBgL3YxL29ucmFtcC9xdW90ZWAsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlQ3VycmVuY3ksXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRDdXJyZW5jeSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE1vY2tpbmcgcmVzcG9uc2UgYXMgMToxIHVudGlsIGVuZHBvaW50IGlzIHJlYWR5XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5ldHdvcmtGZWU6IHsgYW1vdW50LCBjdXJyZW5jeTogcGF5bWVudEN1cnJlbmN5LmlkIH0sXG4gICAgICAgICAgICAgICAgcGF5bWVudFN1YnRvdGFsOiB7IGFtb3VudCwgY3VycmVuY3k6IHBheW1lbnRDdXJyZW5jeS5pZCB9LFxuICAgICAgICAgICAgICAgIHBheW1lbnRUb3RhbDogeyBhbW91bnQsIGN1cnJlbmN5OiBwYXltZW50Q3VycmVuY3kuaWQgfSxcbiAgICAgICAgICAgICAgICBwdXJjaGFzZUFtb3VudDogeyBhbW91bnQsIGN1cnJlbmN5OiBwYXltZW50Q3VycmVuY3kuaWQgfSxcbiAgICAgICAgICAgICAgICBxdW90ZUlkOiAnbW9ja2VkLXF1b3RlLWlkJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0U21hcnRTZXNzaW9ucyhjYWlwQWRkcmVzcykge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Nlc3Npb25zLyR7Y2FpcEFkZHJlc3N9YFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHJldm9rZVNtYXJ0U2Vzc2lvbihhZGRyZXNzLCBwY2ksIHNpZ25hdHVyZSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Nlc3Npb25zLyR7YWRkcmVzc30vcmV2b2tlYCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIHBjaSxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRDbGllbnRJZChjbGllbnRJZCkge1xuICAgICAgICBzdGF0ZS5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICBzdGF0ZS5hcGkgPSBuZXcgRmV0Y2hVdGlsKHsgYmFzZVVybCwgY2xpZW50SWQgfSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainController: () => (/* binding */ ChainController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AdapterController/index.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ModalController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProviderController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PublicStateController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _SendController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SendController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SnackController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst defaultAccountState = {\n    currentTab: 0,\n    tokenBalance: [],\n    smartAccountDeployed: false,\n    addressLabels: new Map(),\n    user: undefined,\n    preferredAccountType: undefined\n};\nconst networkState = {\n    caipNetwork: undefined,\n    supportsAllNetworks: true,\n    smartAccountEnabledNetworks: []\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    chains: (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.proxyMap)(),\n    activeCaipAddress: undefined,\n    activeChain: undefined,\n    activeCaipNetwork: undefined,\n    noAdapters: false,\n    universalAdapter: {\n        connectionControllerClient: undefined\n    },\n    isSwitchingNamespace: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribeAccountStateProp(property, callback, chain) {\n        const activeChain = chain || state.activeChain;\n        if (!activeChain) {\n            return () => undefined;\n        }\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state.chains.get(activeChain)?.accountState || {}, property, callback);\n    },\n    subscribeChainProp(property, callback, chain) {\n        let prev = undefined;\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.chains, () => {\n            const activeChain = chain || state.activeChain;\n            if (activeChain) {\n                const nextValue = state.chains.get(activeChain)?.[property];\n                if (prev !== nextValue) {\n                    prev = nextValue;\n                    callback(nextValue);\n                }\n            }\n        });\n    },\n    initialize(adapters, caipNetworks, clients) {\n        const { chainId: activeChainId, namespace: activeNamespace } = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getActiveNetworkProps();\n        const activeCaipNetwork = caipNetworks?.find(network => network.id.toString() === activeChainId?.toString());\n        const defaultAdapter = adapters.find(adapter => adapter?.namespace === activeNamespace);\n        const adapterToActivate = defaultAdapter || adapters?.[0];\n        const namespacesFromAdapters = adapters.map(a => a.namespace).filter(n => n !== undefined);\n        /**\n         * If the AppKit is in embedded mode (for Demo app), we should get the available namespaces from the adapters.\n         */\n        const namespaces = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableEmbedded\n            ? new Set([...namespacesFromAdapters])\n            : new Set([...(caipNetworks?.map(network => network.chainNamespace) ?? [])]);\n        if (adapters?.length === 0 || !adapterToActivate) {\n            state.noAdapters = true;\n        }\n        if (!state.noAdapters) {\n            state.activeChain = adapterToActivate?.namespace;\n            state.activeCaipNetwork = activeCaipNetwork;\n            ChainController.setChainNetworkData(adapterToActivate?.namespace, {\n                caipNetwork: activeCaipNetwork\n            });\n            if (state.activeChain) {\n                _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({ activeChain: adapterToActivate?.namespace });\n            }\n        }\n        namespaces.forEach(namespace => {\n            const namespaceNetworks = caipNetworks?.filter(network => network.chainNamespace === namespace);\n            const storedAccountTypes = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getPreferredAccountTypes() || {};\n            const defaultTypes = { ..._OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes, ...storedAccountTypes };\n            ChainController.state.chains.set(namespace, {\n                namespace,\n                networkState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({ ...networkState, caipNetwork: namespaceNetworks?.[0] }),\n                accountState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n                    ...defaultAccountState,\n                    preferredAccountType: defaultTypes[namespace]\n                }),\n                caipNetworks: namespaceNetworks ?? [],\n                ...clients\n            });\n            ChainController.setRequestedCaipNetworks(namespaceNetworks ?? [], namespace);\n        });\n    },\n    removeAdapter(namespace) {\n        if (state.activeChain === namespace) {\n            const nextAdapter = Array.from(state.chains.entries()).find(([chainNamespace]) => chainNamespace !== namespace);\n            if (nextAdapter) {\n                const caipNetwork = nextAdapter[1]?.caipNetworks?.[0];\n                if (caipNetwork) {\n                    ChainController.setActiveCaipNetwork(caipNetwork);\n                }\n            }\n        }\n        state.chains.delete(namespace);\n    },\n    addAdapter(adapter, { connectionControllerClient }, caipNetworks) {\n        if (!adapter.namespace) {\n            throw new Error('ChainController:addAdapter - adapter must have a namespace');\n        }\n        state.chains.set(adapter.namespace, {\n            namespace: adapter.namespace,\n            networkState: { ...networkState, caipNetwork: caipNetworks[0] },\n            accountState: { ...defaultAccountState },\n            caipNetworks,\n            connectionControllerClient\n        });\n        ChainController.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork => caipNetwork.chainNamespace === adapter.namespace) ?? [], adapter.namespace);\n    },\n    addNetwork(network) {\n        const chainAdapter = state.chains.get(network.chainNamespace);\n        if (chainAdapter) {\n            const newNetworks = [...(chainAdapter.caipNetworks || [])];\n            if (!chainAdapter.caipNetworks?.find(caipNetwork => caipNetwork.id === network.id)) {\n                newNetworks.push(network);\n            }\n            state.chains.set(network.chainNamespace, { ...chainAdapter, caipNetworks: newNetworks });\n            ChainController.setRequestedCaipNetworks(newNetworks, network.chainNamespace);\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(network.chainNamespace, true);\n        }\n    },\n    removeNetwork(namespace, networkId) {\n        const chainAdapter = state.chains.get(namespace);\n        if (chainAdapter) {\n            // Check if network being removed is active network\n            const isActiveNetwork = state.activeCaipNetwork?.id === networkId;\n            // Filter out the network being removed\n            const newCaipNetworksOfAdapter = [\n                ...(chainAdapter.caipNetworks?.filter(network => network.id !== networkId) || [])\n            ];\n            // If active network was removed and there are other networks available, switch to first one\n            if (isActiveNetwork && chainAdapter?.caipNetworks?.[0]) {\n                ChainController.setActiveCaipNetwork(chainAdapter.caipNetworks[0]);\n            }\n            state.chains.set(namespace, { ...chainAdapter, caipNetworks: newCaipNetworksOfAdapter });\n            ChainController.setRequestedCaipNetworks(newCaipNetworksOfAdapter || [], namespace);\n            if (newCaipNetworksOfAdapter.length === 0) {\n                _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(namespace, false);\n            }\n        }\n    },\n    setAdapterNetworkState(chain, props) {\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            chainAdapter.networkState = {\n                ...(chainAdapter.networkState || networkState),\n                ...props\n            };\n            state.chains.set(chain, chainAdapter);\n        }\n    },\n    setChainAccountData(chain, accountProps, _unknown = true) {\n        if (!chain) {\n            throw new Error('Chain is required to update chain account data');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newAccountState = {\n                ...(chainAdapter.accountState || defaultAccountState),\n                ...accountProps\n            };\n            state.chains.set(chain, { ...chainAdapter, accountState: newAccountState });\n            if (state.chains.size === 1 || state.activeChain === chain) {\n                if (accountProps.caipAddress) {\n                    state.activeCaipAddress = accountProps.caipAddress;\n                }\n            }\n        }\n    },\n    setChainNetworkData(chain, networkProps) {\n        if (!chain) {\n            return;\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newNetworkState = { ...(chainAdapter.networkState || networkState), ...networkProps };\n            state.chains.set(chain, { ...chainAdapter, networkState: newNetworkState });\n        }\n    },\n    // eslint-disable-next-line max-params\n    setAccountProp(prop, value, chain, replaceState = true) {\n        ChainController.setChainAccountData(chain, { [prop]: value }, replaceState);\n    },\n    setActiveNamespace(chain) {\n        state.activeChain = chain;\n        const newAdapter = chain ? state.chains.get(chain) : undefined;\n        const caipNetwork = newAdapter?.networkState?.caipNetwork;\n        if (caipNetwork?.id && chain) {\n            state.activeCaipAddress = newAdapter?.accountState?.caipAddress;\n            state.activeCaipNetwork = caipNetwork;\n            ChainController.setChainNetworkData(chain, { caipNetwork });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork?.caipNetworkId);\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n                activeChain: chain,\n                selectedNetworkId: caipNetwork?.caipNetworkId\n            });\n        }\n    },\n    setActiveCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const isSameNamespace = state.activeChain === caipNetwork.chainNamespace;\n        if (!isSameNamespace) {\n            ChainController.setIsSwitchingNamespace(true);\n        }\n        const newAdapter = state.chains.get(caipNetwork.chainNamespace);\n        state.activeChain = caipNetwork.chainNamespace;\n        state.activeCaipNetwork = caipNetwork;\n        ChainController.setChainNetworkData(caipNetwork.chainNamespace, { caipNetwork });\n        let address = newAdapter?.accountState?.address;\n        if (address) {\n            state.activeCaipAddress = `${caipNetwork.chainNamespace}:${caipNetwork.id}:${address}`;\n        }\n        else if (isSameNamespace && state.activeCaipAddress) {\n            const { address: parsedAddress } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(state.activeCaipAddress);\n            address = parsedAddress;\n            state.activeCaipAddress = `${caipNetwork.caipNetworkId}:${address}`;\n        }\n        else {\n            state.activeCaipAddress = undefined;\n        }\n        ChainController.setChainAccountData(caipNetwork.chainNamespace, {\n            address,\n            caipAddress: state.activeCaipAddress\n        });\n        // Reset send state when switching networks\n        _SendController_js__WEBPACK_IMPORTED_MODULE_7__.SendController.resetSend();\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n            activeChain: state.activeChain,\n            selectedNetworkId: state.activeCaipNetwork?.caipNetworkId\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork.caipNetworkId);\n        const isSupported = ChainController.checkIfSupportedNetwork(caipNetwork.chainNamespace);\n        if (!isSupported &&\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableNetworkSwitch &&\n            !_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.allowUnsupportedChain &&\n            !_ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectionController.state.wcBasic) {\n            ChainController.showUnsupportedChainUI();\n        }\n    },\n    addCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const chain = state.chains.get(caipNetwork.chainNamespace);\n        if (chain) {\n            chain?.caipNetworks?.push(caipNetwork);\n        }\n    },\n    async switchActiveNamespace(namespace) {\n        if (!namespace) {\n            return;\n        }\n        const isDifferentChain = namespace !== ChainController.state.activeChain;\n        const caipNetworkOfNamespace = ChainController.getNetworkData(namespace)?.caipNetwork;\n        const firstNetworkWithChain = ChainController.getCaipNetworkByNamespace(namespace, caipNetworkOfNamespace?.id);\n        if (isDifferentChain && firstNetworkWithChain) {\n            await ChainController.switchActiveNetwork(firstNetworkWithChain);\n        }\n    },\n    async switchActiveNetwork(network, { throwOnFailure = false } = {}) {\n        const namespace = ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('ChainController:switchActiveNetwork - namespace is required');\n        }\n        const isAuthProvider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__.ProviderController.getProviderId(state.activeChain) === 'AUTH';\n        const namespaceAddress = ChainController.getAccountData(namespace)?.address;\n        const isAuthSupported = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(network.chainNamespace);\n        try {\n            // If connected to the namespace and switching on same namespace, we should notify the wallet\n            if ((namespaceAddress && network.chainNamespace === namespace) ||\n                (isAuthProvider && isAuthSupported)) {\n                const adapter = _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__.AdapterController.get(network.chainNamespace);\n                if (!adapter) {\n                    throw new Error('Adapter not found');\n                }\n                await adapter.switchNetwork({ caipNetwork: network });\n            }\n            ChainController.setActiveCaipNetwork(network);\n        }\n        catch (error) {\n            if (throwOnFailure) {\n                throw error;\n            }\n        }\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SWITCH_NETWORK',\n            properties: { network: network.caipNetworkId }\n        });\n    },\n    getConnectionControllerClient(_chain) {\n        const chain = _chain || state.activeChain;\n        if (!chain) {\n            throw new Error('Chain is required to get connection controller client');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (!chainAdapter?.connectionControllerClient) {\n            throw new Error('ConnectionController client not set');\n        }\n        return chainAdapter.connectionControllerClient;\n    },\n    getNetworkProp(key, namespace) {\n        const chainNetworkState = state.chains.get(namespace)?.networkState;\n        if (!chainNetworkState) {\n            return undefined;\n        }\n        return chainNetworkState[key];\n    },\n    getRequestedCaipNetworks(chainToFilter) {\n        const adapter = state.chains.get(chainToFilter);\n        const { approvedCaipNetworkIds = [], requestedCaipNetworks = [] } = adapter?.networkState || {};\n        const sortedNetworks = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds, requestedCaipNetworks);\n        const filteredNetworks = sortedNetworks.filter(network => network?.id);\n        return filteredNetworks;\n    },\n    getAllRequestedCaipNetworks() {\n        const requestedCaipNetworks = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace');\n            }\n            const caipNetworks = ChainController.getRequestedCaipNetworks(chainAdapter.namespace);\n            requestedCaipNetworks.push(...caipNetworks);\n        });\n        return requestedCaipNetworks;\n    },\n    setRequestedCaipNetworks(caipNetworks, chain) {\n        ChainController.setAdapterNetworkState(chain, { requestedCaipNetworks: caipNetworks });\n        const allRequestedCaipNetworks = ChainController.getAllRequestedCaipNetworks();\n        const namespaces = allRequestedCaipNetworks.map(network => network.chainNamespace);\n        const uniqueNamespaces = Array.from(new Set(namespaces));\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespaces(uniqueNamespaces);\n    },\n    getAllApprovedCaipNetworkIds() {\n        const approvedCaipNetworkIds = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace');\n            }\n            const approvedIds = ChainController.getApprovedCaipNetworkIds(chainAdapter.namespace);\n            approvedCaipNetworkIds.push(...approvedIds);\n        });\n        return approvedCaipNetworkIds;\n    },\n    getActiveCaipNetwork(chainNamespace) {\n        if (chainNamespace) {\n            return state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n        }\n        return state.activeCaipNetwork;\n    },\n    getActiveCaipAddress() {\n        return state.activeCaipAddress;\n    },\n    getApprovedCaipNetworkIds(namespace) {\n        const adapter = state.chains.get(namespace);\n        const approvedCaipNetworkIds = adapter?.networkState?.approvedCaipNetworkIds || [];\n        return approvedCaipNetworkIds;\n    },\n    setApprovedCaipNetworksData(namespace, params) {\n        ChainController.setAdapterNetworkState(namespace, params);\n    },\n    checkIfSupportedNetwork(namespace, caipNetworkId) {\n        const activeCaipNetworkId = caipNetworkId || state.activeCaipNetwork?.caipNetworkId;\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(namespace);\n        if (!requestedCaipNetworks.length) {\n            return true;\n        }\n        return requestedCaipNetworks?.some(network => network.caipNetworkId === activeCaipNetworkId);\n    },\n    checkIfSupportedChainId(chainId) {\n        if (!state.activeChain) {\n            return true;\n        }\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(state.activeChain);\n        return requestedCaipNetworks?.some(network => network.id === chainId);\n    },\n    checkIfSmartAccountEnabled() {\n        const networkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.NetworkUtil.caipNetworkIdToNumber(state.activeCaipNetwork?.caipNetworkId);\n        const activeChain = state.activeChain;\n        if (!activeChain || !networkId) {\n            return false;\n        }\n        const smartAccountEnabledNetworks = _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__.W3mFrameStorage.get(_reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(',') || [];\n        return Boolean(smartAccountEnabledNetworks?.includes(networkId.toString()));\n    },\n    showUnsupportedChainUI() {\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_17__.ModalController.open({ view: 'UnsupportedChain' });\n    },\n    checkIfNamesSupported() {\n        const activeCaipNetwork = state.activeCaipNetwork;\n        return Boolean(activeCaipNetwork?.chainNamespace &&\n            _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace));\n    },\n    resetNetwork(namespace) {\n        ChainController.setAdapterNetworkState(namespace, {\n            approvedCaipNetworkIds: undefined,\n            supportsAllNetworks: true\n        });\n    },\n    resetAccount(chain) {\n        const chainToWrite = chain;\n        if (!chainToWrite) {\n            throw new Error('Chain is required to set account prop');\n        }\n        const currentAccountType = ChainController.state.chains.get(chainToWrite)?.accountState?.preferredAccountType;\n        const optionsAccountType = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes[chainToWrite];\n        state.activeCaipAddress = undefined;\n        ChainController.setChainAccountData(chainToWrite, {\n            smartAccountDeployed: false,\n            currentTab: 0,\n            caipAddress: undefined,\n            address: undefined,\n            balance: undefined,\n            balanceSymbol: undefined,\n            profileName: undefined,\n            profileImage: undefined,\n            addressExplorerUrl: undefined,\n            tokenBalance: [],\n            connectedWalletInfo: undefined,\n            preferredAccountType: optionsAccountType || currentAccountType,\n            socialProvider: undefined,\n            socialWindow: undefined,\n            farcasterUrl: undefined,\n            user: undefined,\n            status: 'disconnected'\n        });\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.removeConnectorId(chainToWrite);\n    },\n    setIsSwitchingNamespace(isSwitchingNamespace) {\n        state.isSwitchingNamespace = isSwitchingNamespace;\n    },\n    getFirstCaipNetworkSupportsAuthConnector() {\n        const availableChains = [];\n        let firstCaipNetwork = undefined;\n        state.chains.forEach(chain => {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns => ns === chain.namespace)) {\n                if (chain.namespace) {\n                    availableChains.push(chain.namespace);\n                }\n            }\n        });\n        if (availableChains.length > 0) {\n            const firstAvailableChain = availableChains[0];\n            firstCaipNetwork = firstAvailableChain\n                ? state.chains.get(firstAvailableChain)?.caipNetworks?.[0]\n                : undefined;\n            return firstCaipNetwork;\n        }\n        return undefined;\n    },\n    getAccountData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.accountState;\n    },\n    getNetworkData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.networkState;\n    },\n    getCaipNetworkByNamespace(chainNamespace, chainId) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        const chain = ChainController.state.chains.get(chainNamespace);\n        const byChainId = chain?.caipNetworks?.find(network => network.id.toString() === chainId?.toString());\n        if (byChainId) {\n            return byChainId;\n        }\n        return chain?.networkState?.caipNetwork || chain?.caipNetworks?.[0];\n    },\n    /**\n     * Get the requested CaipNetwork IDs for a given namespace. If namespace is not provided, all requested CaipNetwork IDs will be returned\n     * @param namespace - The namespace to get the requested CaipNetwork IDs for\n     * @returns The requested CaipNetwork IDs\n     */\n    getRequestedCaipNetworkIds() {\n        const namespace = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.state.filterByNamespace;\n        const chains = namespace ? [state.chains.get(namespace)] : Array.from(state.chains.values());\n        return chains\n            .flatMap(chain => chain?.caipNetworks || [])\n            .map(caipNetwork => caipNetwork.caipNetworkId);\n    },\n    getCaipNetworks(namespace) {\n        if (namespace) {\n            return ChainController.getRequestedCaipNetworks(namespace);\n        }\n        return ChainController.getAllRequestedCaipNetworks();\n    },\n    getCaipNetworkById(id, namespace) {\n        return controller\n            .getCaipNetworks(namespace)\n            .find(n => n.id.toString() === id.toString() || n.caipNetworkId.toString() === id.toString());\n    },\n    setLastConnectedSIWECaipNetwork(network) {\n        state.lastConnectedSIWECaipNetwork = network;\n    },\n    getLastConnectedSIWECaipNetwork() {\n        return state.lastConnectedSIWECaipNetwork;\n    },\n    async fetchTokenBalance(onError) {\n        const accountState = ChainController.getAccountData();\n        if (!accountState) {\n            return [];\n        }\n        const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        ChainController.setAccountProp('balanceLoading', true, chain);\n        if (accountState.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.isAllowedRetry(accountState.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.ONE_SEC_MS)) {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balance = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__.BalanceUtil.getMyTokensWithBalance();\n                ChainController.setAccountProp('tokenBalance', balance, chain);\n                ChainController.setAccountProp('lastRetry', undefined, chain);\n                ChainController.setAccountProp('balanceLoading', false, chain);\n                return balance;\n            }\n        }\n        catch (error) {\n            ChainController.setAccountProp('lastRetry', Date.now(), chain);\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_20__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n        }\n        return [];\n    },\n    isCaipNetworkDisabled(network) {\n        const networkNamespace = network.chainNamespace;\n        const isNextNamespaceConnected = Boolean(ChainController.getAccountData(networkNamespace)?.caipAddress);\n        const approvedCaipNetworkIds = ChainController.getAllApprovedCaipNetworkIds();\n        const shouldSupportAllNetworks = ChainController.getNetworkProp('supportsAllNetworks', networkNamespace) !== false;\n        const connectorId = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorId(networkNamespace);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.CONNECTOR_ID.AUTH && authConnector;\n        if (!isNextNamespaceConnected || shouldSupportAllNetworks || isConnectedWithAuth) {\n            return false;\n        }\n        return !approvedCaipNetworkIds?.includes(network.caipNetworkId);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ChainController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__.withErrorBoundary)(controller);\n//# sourceMappingURL=ChainController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDZTtBQUM0QjtBQUMxQjtBQUNwQjtBQUNJO0FBQ0U7QUFDTjtBQUNZO0FBQ0Q7QUFDQTtBQUNGO0FBQ047QUFDRjtBQUNJO0FBQ0U7QUFDTTtBQUNkO0FBQ0U7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU0sa0RBQWtEO0FBQ3ZFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGdCQUFnQixxREFBcUQsRUFBRSw4REFBVztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0IsNEVBQXFCLE9BQU8sMkNBQTJDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhEQUFXO0FBQ2xE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aS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHByb3h5TWFwLCBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsLCBOZXR3b3JrVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVDb25zdGFudHMsIFczbUZyYW1lU3RvcmFnZSB9IGZyb20gJ0ByZW93bi9hcHBraXQtd2FsbGV0JztcbmltcG9ydCB7IEJhbGFuY2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQmFsYW5jZVV0aWwuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQWRhcHRlckNvbnRyb2xsZXIgfSBmcm9tICcuL0FkYXB0ZXJDb250cm9sbGVyL2luZGV4LmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFByb3ZpZGVyQ29udHJvbGxlciB9IGZyb20gJy4vUHJvdmlkZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFB1YmxpY1N0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vUHVibGljU3RhdGVDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNlbmRDb250cm9sbGVyIH0gZnJvbSAnLi9TZW5kQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICcuL1NuYWNrQ29udHJvbGxlci5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGRlZmF1bHRBY2NvdW50U3RhdGUgPSB7XG4gICAgY3VycmVudFRhYjogMCxcbiAgICB0b2tlbkJhbGFuY2U6IFtdLFxuICAgIHNtYXJ0QWNjb3VudERlcGxveWVkOiBmYWxzZSxcbiAgICBhZGRyZXNzTGFiZWxzOiBuZXcgTWFwKCksXG4gICAgdXNlcjogdW5kZWZpbmVkLFxuICAgIHByZWZlcnJlZEFjY291bnRUeXBlOiB1bmRlZmluZWRcbn07XG5jb25zdCBuZXR3b3JrU3RhdGUgPSB7XG4gICAgY2FpcE5ldHdvcms6IHVuZGVmaW5lZCxcbiAgICBzdXBwb3J0c0FsbE5ldHdvcmtzOiB0cnVlLFxuICAgIHNtYXJ0QWNjb3VudEVuYWJsZWROZXR3b3JrczogW11cbn07XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGNoYWluczogcHJveHlNYXAoKSxcbiAgICBhY3RpdmVDYWlwQWRkcmVzczogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZUNoYWluOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlQ2FpcE5ldHdvcms6IHVuZGVmaW5lZCxcbiAgICBub0FkYXB0ZXJzOiBmYWxzZSxcbiAgICB1bml2ZXJzYWxBZGFwdGVyOiB7XG4gICAgICAgIGNvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGlzU3dpdGNoaW5nTmFtZXNwYWNlOiBmYWxzZVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUFjY291bnRTdGF0ZVByb3AocHJvcGVydHksIGNhbGxiYWNrLCBjaGFpbikge1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IGNoYWluIHx8IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIWFjdGl2ZUNoYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUuY2hhaW5zLmdldChhY3RpdmVDaGFpbik/LmFjY291bnRTdGF0ZSB8fCB7fSwgcHJvcGVydHksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUNoYWluUHJvcChwcm9wZXJ0eSwgY2FsbGJhY2ssIGNoYWluKSB7XG4gICAgICAgIGxldCBwcmV2ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLmNoYWlucywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW4gPSBjaGFpbiB8fCBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgIGlmIChhY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IHN0YXRlLmNoYWlucy5nZXQoYWN0aXZlQ2hhaW4pPy5bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2ICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldiA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV4dFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZShhZGFwdGVycywgY2FpcE5ldHdvcmtzLCBjbGllbnRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZDogYWN0aXZlQ2hhaW5JZCwgbmFtZXNwYWNlOiBhY3RpdmVOYW1lc3BhY2UgfSA9IFN0b3JhZ2VVdGlsLmdldEFjdGl2ZU5ldHdvcmtQcm9wcygpO1xuICAgICAgICBjb25zdCBhY3RpdmVDYWlwTmV0d29yayA9IGNhaXBOZXR3b3Jrcz8uZmluZChuZXR3b3JrID0+IG5ldHdvcmsuaWQudG9TdHJpbmcoKSA9PT0gYWN0aXZlQ2hhaW5JZD8udG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBZGFwdGVyID0gYWRhcHRlcnMuZmluZChhZGFwdGVyID0+IGFkYXB0ZXI/Lm5hbWVzcGFjZSA9PT0gYWN0aXZlTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgYWRhcHRlclRvQWN0aXZhdGUgPSBkZWZhdWx0QWRhcHRlciB8fCBhZGFwdGVycz8uWzBdO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzRnJvbUFkYXB0ZXJzID0gYWRhcHRlcnMubWFwKGEgPT4gYS5uYW1lc3BhY2UpLmZpbHRlcihuID0+IG4gIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgQXBwS2l0IGlzIGluIGVtYmVkZGVkIG1vZGUgKGZvciBEZW1vIGFwcCksIHdlIHNob3VsZCBnZXQgdGhlIGF2YWlsYWJsZSBuYW1lc3BhY2VzIGZyb20gdGhlIGFkYXB0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZUVtYmVkZGVkXG4gICAgICAgICAgICA/IG5ldyBTZXQoWy4uLm5hbWVzcGFjZXNGcm9tQWRhcHRlcnNdKVxuICAgICAgICAgICAgOiBuZXcgU2V0KFsuLi4oY2FpcE5ldHdvcmtzPy5tYXAobmV0d29yayA9PiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlKSA/PyBbXSldKTtcbiAgICAgICAgaWYgKGFkYXB0ZXJzPy5sZW5ndGggPT09IDAgfHwgIWFkYXB0ZXJUb0FjdGl2YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZS5ub0FkYXB0ZXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0YXRlLm5vQWRhcHRlcnMpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNoYWluID0gYWRhcHRlclRvQWN0aXZhdGU/Lm5hbWVzcGFjZTtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrID0gYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5OZXR3b3JrRGF0YShhZGFwdGVyVG9BY3RpdmF0ZT8ubmFtZXNwYWNlLCB7XG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcms6IGFjdGl2ZUNhaXBOZXR3b3JrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBhY3RpdmVDaGFpbjogYWRhcHRlclRvQWN0aXZhdGU/Lm5hbWVzcGFjZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZU5ldHdvcmtzID0gY2FpcE5ldHdvcmtzPy5maWx0ZXIobmV0d29yayA9PiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkQWNjb3VudFR5cGVzID0gU3RvcmFnZVV0aWwuZ2V0UHJlZmVycmVkQWNjb3VudFR5cGVzKCkgfHwge307XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VHlwZXMgPSB7IC4uLk9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmRlZmF1bHRBY2NvdW50VHlwZXMsIC4uLnN0b3JlZEFjY291bnRUeXBlcyB9O1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5zZXQobmFtZXNwYWNlLCB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgIG5ldHdvcmtTdGF0ZTogcHJveHkoeyAuLi5uZXR3b3JrU3RhdGUsIGNhaXBOZXR3b3JrOiBuYW1lc3BhY2VOZXR3b3Jrcz8uWzBdIH0pLFxuICAgICAgICAgICAgICAgIGFjY291bnRTdGF0ZTogcHJveHkoe1xuICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0QWNjb3VudFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZTogZGVmYXVsdFR5cGVzW25hbWVzcGFjZV1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29ya3M6IG5hbWVzcGFjZU5ldHdvcmtzID8/IFtdLFxuICAgICAgICAgICAgICAgIC4uLmNsaWVudHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuYW1lc3BhY2VOZXR3b3JrcyA/PyBbXSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByZW1vdmVBZGFwdGVyKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoc3RhdGUuYWN0aXZlQ2hhaW4gPT09IG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dEFkYXB0ZXIgPSBBcnJheS5mcm9tKHN0YXRlLmNoYWlucy5lbnRyaWVzKCkpLmZpbmQoKFtjaGFpbk5hbWVzcGFjZV0pID0+IGNoYWluTmFtZXNwYWNlICE9PSBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKG5leHRBZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBuZXh0QWRhcHRlclsxXT8uY2FpcE5ldHdvcmtzPy5bMF07XG4gICAgICAgICAgICAgICAgaWYgKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY3RpdmVDYWlwTmV0d29yayhjYWlwTmV0d29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNoYWlucy5kZWxldGUobmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGFkZEFkYXB0ZXIoYWRhcHRlciwgeyBjb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCB9LCBjYWlwTmV0d29ya3MpIHtcbiAgICAgICAgaWYgKCFhZGFwdGVyLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbkNvbnRyb2xsZXI6YWRkQWRhcHRlciAtIGFkYXB0ZXIgbXVzdCBoYXZlIGEgbmFtZXNwYWNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2hhaW5zLnNldChhZGFwdGVyLm5hbWVzcGFjZSwge1xuICAgICAgICAgICAgbmFtZXNwYWNlOiBhZGFwdGVyLm5hbWVzcGFjZSxcbiAgICAgICAgICAgIG5ldHdvcmtTdGF0ZTogeyAuLi5uZXR3b3JrU3RhdGUsIGNhaXBOZXR3b3JrOiBjYWlwTmV0d29ya3NbMF0gfSxcbiAgICAgICAgICAgIGFjY291bnRTdGF0ZTogeyAuLi5kZWZhdWx0QWNjb3VudFN0YXRlIH0sXG4gICAgICAgICAgICBjYWlwTmV0d29ya3MsXG4gICAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlckNsaWVudFxuICAgICAgICB9KTtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhjYWlwTmV0d29ya3M/LmZpbHRlcihjYWlwTmV0d29yayA9PiBjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSA9PT0gYWRhcHRlci5uYW1lc3BhY2UpID8/IFtdLCBhZGFwdGVyLm5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBhZGROZXR3b3JrKG5ldHdvcmspIHtcbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKGNoYWluQWRhcHRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3TmV0d29ya3MgPSBbLi4uKGNoYWluQWRhcHRlci5jYWlwTmV0d29ya3MgfHwgW10pXTtcbiAgICAgICAgICAgIGlmICghY2hhaW5BZGFwdGVyLmNhaXBOZXR3b3Jrcz8uZmluZChjYWlwTmV0d29yayA9PiBjYWlwTmV0d29yay5pZCA9PT0gbmV0d29yay5pZCkpIHtcbiAgICAgICAgICAgICAgICBuZXdOZXR3b3Jrcy5wdXNoKG5ldHdvcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY2hhaW5zLnNldChuZXR3b3JrLmNoYWluTmFtZXNwYWNlLCB7IC4uLmNoYWluQWRhcHRlciwgY2FpcE5ldHdvcmtzOiBuZXdOZXR3b3JrcyB9KTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmV3TmV0d29ya3MsIG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5maWx0ZXJCeU5hbWVzcGFjZShuZXR3b3JrLmNoYWluTmFtZXNwYWNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlTmV0d29yayhuYW1lc3BhY2UsIG5ldHdvcmtJZCkge1xuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChjaGFpbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG5ldHdvcmsgYmVpbmcgcmVtb3ZlZCBpcyBhY3RpdmUgbmV0d29ya1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmVOZXR3b3JrID0gc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmlkID09PSBuZXR3b3JrSWQ7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBuZXR3b3JrIGJlaW5nIHJlbW92ZWRcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhaXBOZXR3b3Jrc09mQWRhcHRlciA9IFtcbiAgICAgICAgICAgICAgICAuLi4oY2hhaW5BZGFwdGVyLmNhaXBOZXR3b3Jrcz8uZmlsdGVyKG5ldHdvcmsgPT4gbmV0d29yay5pZCAhPT0gbmV0d29ya0lkKSB8fCBbXSlcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBJZiBhY3RpdmUgbmV0d29yayB3YXMgcmVtb3ZlZCBhbmQgdGhlcmUgYXJlIG90aGVyIG5ldHdvcmtzIGF2YWlsYWJsZSwgc3dpdGNoIHRvIGZpcnN0IG9uZVxuICAgICAgICAgICAgaWYgKGlzQWN0aXZlTmV0d29yayAmJiBjaGFpbkFkYXB0ZXI/LmNhaXBOZXR3b3Jrcz8uWzBdKSB7XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjdGl2ZUNhaXBOZXR3b3JrKGNoYWluQWRhcHRlci5jYWlwTmV0d29ya3NbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY2hhaW5zLnNldChuYW1lc3BhY2UsIHsgLi4uY2hhaW5BZGFwdGVyLCBjYWlwTmV0d29ya3M6IG5ld0NhaXBOZXR3b3Jrc09mQWRhcHRlciB9KTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmV3Q2FpcE5ldHdvcmtzT2ZBZGFwdGVyIHx8IFtdLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKG5ld0NhaXBOZXR3b3Jrc09mQWRhcHRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmZpbHRlckJ5TmFtZXNwYWNlKG5hbWVzcGFjZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBZGFwdGVyTmV0d29ya1N0YXRlKGNoYWluLCBwcm9wcykge1xuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluKTtcbiAgICAgICAgaWYgKGNoYWluQWRhcHRlcikge1xuICAgICAgICAgICAgY2hhaW5BZGFwdGVyLm5ldHdvcmtTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi4oY2hhaW5BZGFwdGVyLm5ldHdvcmtTdGF0ZSB8fCBuZXR3b3JrU3RhdGUpLFxuICAgICAgICAgICAgICAgIC4uLnByb3BzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuY2hhaW5zLnNldChjaGFpbiwgY2hhaW5BZGFwdGVyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q2hhaW5BY2NvdW50RGF0YShjaGFpbiwgYWNjb3VudFByb3BzLCBfdW5rbm93biA9IHRydWUpIHtcbiAgICAgICAgaWYgKCFjaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbiBpcyByZXF1aXJlZCB0byB1cGRhdGUgY2hhaW4gYWNjb3VudCBkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjaGFpbik7XG4gICAgICAgIGlmIChjaGFpbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnRTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi4oY2hhaW5BZGFwdGVyLmFjY291bnRTdGF0ZSB8fCBkZWZhdWx0QWNjb3VudFN0YXRlKSxcbiAgICAgICAgICAgICAgICAuLi5hY2NvdW50UHJvcHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KGNoYWluLCB7IC4uLmNoYWluQWRhcHRlciwgYWNjb3VudFN0YXRlOiBuZXdBY2NvdW50U3RhdGUgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY2hhaW5zLnNpemUgPT09IDEgfHwgc3RhdGUuYWN0aXZlQ2hhaW4gPT09IGNoYWluKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRQcm9wcy5jYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IGFjY291bnRQcm9wcy5jYWlwQWRkcmVzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldENoYWluTmV0d29ya0RhdGEoY2hhaW4sIG5ldHdvcmtQcm9wcykge1xuICAgICAgICBpZiAoIWNoYWluKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjaGFpbik7XG4gICAgICAgIGlmIChjaGFpbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld05ldHdvcmtTdGF0ZSA9IHsgLi4uKGNoYWluQWRhcHRlci5uZXR3b3JrU3RhdGUgfHwgbmV0d29ya1N0YXRlKSwgLi4ubmV0d29ya1Byb3BzIH07XG4gICAgICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KGNoYWluLCB7IC4uLmNoYWluQWRhcHRlciwgbmV0d29ya1N0YXRlOiBuZXdOZXR3b3JrU3RhdGUgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtcGFyYW1zXG4gICAgc2V0QWNjb3VudFByb3AocHJvcCwgdmFsdWUsIGNoYWluLCByZXBsYWNlU3RhdGUgPSB0cnVlKSB7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbkFjY291bnREYXRhKGNoYWluLCB7IFtwcm9wXTogdmFsdWUgfSwgcmVwbGFjZVN0YXRlKTtcbiAgICB9LFxuICAgIHNldEFjdGl2ZU5hbWVzcGFjZShjaGFpbikge1xuICAgICAgICBzdGF0ZS5hY3RpdmVDaGFpbiA9IGNoYWluO1xuICAgICAgICBjb25zdCBuZXdBZGFwdGVyID0gY2hhaW4gPyBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBuZXdBZGFwdGVyPy5uZXR3b3JrU3RhdGU/LmNhaXBOZXR3b3JrO1xuICAgICAgICBpZiAoY2FpcE5ldHdvcms/LmlkICYmIGNoYWluKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IG5ld0FkYXB0ZXI/LmFjY291bnRTdGF0ZT8uY2FpcEFkZHJlc3M7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yayA9IGNhaXBOZXR3b3JrO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluTmV0d29ya0RhdGEoY2hhaW4sIHsgY2FpcE5ldHdvcmsgfSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRBY3RpdmVDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoe1xuICAgICAgICAgICAgICAgIGFjdGl2ZUNoYWluOiBjaGFpbixcbiAgICAgICAgICAgICAgICBzZWxlY3RlZE5ldHdvcmtJZDogY2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBY3RpdmVDYWlwTmV0d29yayhjYWlwTmV0d29yaykge1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTYW1lTmFtZXNwYWNlID0gc3RhdGUuYWN0aXZlQ2hhaW4gPT09IGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBpZiAoIWlzU2FtZU5hbWVzcGFjZSkge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldElzU3dpdGNoaW5nTmFtZXNwYWNlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ2hhaW4gPSBjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmsgPSBjYWlwTmV0d29yaztcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluTmV0d29ya0RhdGEoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UsIHsgY2FpcE5ldHdvcmsgfSk7XG4gICAgICAgIGxldCBhZGRyZXNzID0gbmV3QWRhcHRlcj8uYWNjb3VudFN0YXRlPy5hZGRyZXNzO1xuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSBgJHtjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZX06JHtjYWlwTmV0d29yay5pZH06JHthZGRyZXNzfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lTmFtZXNwYWNlICYmIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFkZHJlc3M6IHBhcnNlZEFkZHJlc3MgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzKTtcbiAgICAgICAgICAgIGFkZHJlc3MgPSBwYXJzZWRBZGRyZXNzO1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSBgJHtjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkfToke2FkZHJlc3N9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbkFjY291bnREYXRhKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlLCB7XG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgY2FpcEFkZHJlc3M6IHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZXNldCBzZW5kIHN0YXRlIHdoZW4gc3dpdGNoaW5nIG5ldHdvcmtzXG4gICAgICAgIFNlbmRDb250cm9sbGVyLnJlc2V0U2VuZCgpO1xuICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHtcbiAgICAgICAgICAgIGFjdGl2ZUNoYWluOiBzdGF0ZS5hY3RpdmVDaGFpbixcbiAgICAgICAgICAgIHNlbGVjdGVkTmV0d29ya0lkOiBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZFxuICAgICAgICB9KTtcbiAgICAgICAgU3RvcmFnZVV0aWwuc2V0QWN0aXZlQ2FpcE5ldHdvcmtJZChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBDaGFpbkNvbnRyb2xsZXIuY2hlY2tJZlN1cHBvcnRlZE5ldHdvcmsoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkICYmXG4gICAgICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVOZXR3b3JrU3dpdGNoICYmXG4gICAgICAgICAgICAhT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuYWxsb3dVbnN1cHBvcnRlZENoYWluICYmXG4gICAgICAgICAgICAhQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUud2NCYXNpYykge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNob3dVbnN1cHBvcnRlZENoYWluVUkoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkQ2FpcE5ldHdvcmsoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgaWYgKCFjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluID0gc3RhdGUuY2hhaW5zLmdldChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChjaGFpbikge1xuICAgICAgICAgICAgY2hhaW4/LmNhaXBOZXR3b3Jrcz8ucHVzaChjYWlwTmV0d29yayk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHN3aXRjaEFjdGl2ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0RpZmZlcmVudENoYWluID0gbmFtZXNwYWNlICE9PSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrT2ZOYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0TmV0d29ya0RhdGEobmFtZXNwYWNlKT8uY2FpcE5ldHdvcms7XG4gICAgICAgIGNvbnN0IGZpcnN0TmV0d29ya1dpdGhDaGFpbiA9IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya0J5TmFtZXNwYWNlKG5hbWVzcGFjZSwgY2FpcE5ldHdvcmtPZk5hbWVzcGFjZT8uaWQpO1xuICAgICAgICBpZiAoaXNEaWZmZXJlbnRDaGFpbiAmJiBmaXJzdE5ldHdvcmtXaXRoQ2hhaW4pIHtcbiAgICAgICAgICAgIGF3YWl0IENoYWluQ29udHJvbGxlci5zd2l0Y2hBY3RpdmVOZXR3b3JrKGZpcnN0TmV0d29ya1dpdGhDaGFpbik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHN3aXRjaEFjdGl2ZU5ldHdvcmsobmV0d29yaywgeyB0aHJvd09uRmFpbHVyZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluQ29udHJvbGxlcjpzd2l0Y2hBY3RpdmVOZXR3b3JrIC0gbmFtZXNwYWNlIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNBdXRoUHJvdmlkZXIgPSBQcm92aWRlckNvbnRyb2xsZXIuZ2V0UHJvdmlkZXJJZChzdGF0ZS5hY3RpdmVDaGFpbikgPT09ICdBVVRIJztcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpPy5hZGRyZXNzO1xuICAgICAgICBjb25zdCBpc0F1dGhTdXBwb3J0ZWQgPSBDb21tb25Db25zdGFudHNVdGlsLkFVVEhfQ09OTkVDVE9SX1NVUFBPUlRFRF9DSEFJTlMuaW5jbHVkZXMobmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJZiBjb25uZWN0ZWQgdG8gdGhlIG5hbWVzcGFjZSBhbmQgc3dpdGNoaW5nIG9uIHNhbWUgbmFtZXNwYWNlLCB3ZSBzaG91bGQgbm90aWZ5IHRoZSB3YWxsZXRcbiAgICAgICAgICAgIGlmICgobmFtZXNwYWNlQWRkcmVzcyAmJiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBuYW1lc3BhY2UpIHx8XG4gICAgICAgICAgICAgICAgKGlzQXV0aFByb3ZpZGVyICYmIGlzQXV0aFN1cHBvcnRlZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gQWRhcHRlckNvbnRyb2xsZXIuZ2V0KG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FkYXB0ZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IGFkYXB0ZXIuc3dpdGNoTmV0d29yayh7IGNhaXBOZXR3b3JrOiBuZXR3b3JrIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjdGl2ZUNhaXBOZXR3b3JrKG5ldHdvcmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHRocm93T25GYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU1dJVENIX05FVFdPUksnLFxuICAgICAgICAgICAgcHJvcGVydGllczogeyBuZXR3b3JrOiBuZXR3b3JrLmNhaXBOZXR3b3JrSWQgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50KF9jaGFpbikge1xuICAgICAgICBjb25zdCBjaGFpbiA9IF9jaGFpbiB8fCBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFjaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbiBpcyByZXF1aXJlZCB0byBnZXQgY29ubmVjdGlvbiBjb250cm9sbGVyIGNsaWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2hhaW4pO1xuICAgICAgICBpZiAoIWNoYWluQWRhcHRlcj8uY29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29ubmVjdGlvbkNvbnRyb2xsZXIgY2xpZW50IG5vdCBzZXQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhaW5BZGFwdGVyLmNvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50O1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya1Byb3Aoa2V5LCBuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgY2hhaW5OZXR3b3JrU3RhdGUgPSBzdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSk/Lm5ldHdvcmtTdGF0ZTtcbiAgICAgICAgaWYgKCFjaGFpbk5ldHdvcmtTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhaW5OZXR3b3JrU3RhdGVba2V5XTtcbiAgICB9LFxuICAgIGdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhjaGFpblRvRmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluVG9GaWx0ZXIpO1xuICAgICAgICBjb25zdCB7IGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgPSBbXSwgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gW10gfSA9IGFkYXB0ZXI/Lm5ldHdvcmtTdGF0ZSB8fCB7fTtcbiAgICAgICAgY29uc3Qgc29ydGVkTmV0d29ya3MgPSBDb3JlSGVscGVyVXRpbC5zb3J0UmVxdWVzdGVkTmV0d29ya3MoYXBwcm92ZWRDYWlwTmV0d29ya0lkcywgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWROZXR3b3JrcyA9IHNvcnRlZE5ldHdvcmtzLmZpbHRlcihuZXR3b3JrID0+IG5ldHdvcms/LmlkKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkTmV0d29ya3M7XG4gICAgfSxcbiAgICBnZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IFtdO1xuICAgICAgICBzdGF0ZS5jaGFpbnMuZm9yRWFjaChjaGFpbkFkYXB0ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGFpbkFkYXB0ZXIubmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbkNvbnRyb2xsZXI6Z2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzIC0gY2hhaW5BZGFwdGVyIG11c3QgaGF2ZSBhIG5hbWVzcGFjZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhjaGFpbkFkYXB0ZXIubmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJlcXVlc3RlZENhaXBOZXR3b3Jrcy5wdXNoKC4uLmNhaXBOZXR3b3Jrcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2FpcE5ldHdvcmtzO1xuICAgIH0sXG4gICAgc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKGNhaXBOZXR3b3JrcywgY2hhaW4pIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFkYXB0ZXJOZXR3b3JrU3RhdGUoY2hhaW4sIHsgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzOiBjYWlwTmV0d29ya3MgfSk7XG4gICAgICAgIGNvbnN0IGFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoKTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IGFsbFJlcXVlc3RlZENhaXBOZXR3b3Jrcy5tYXAobmV0d29yayA9PiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgdW5pcXVlTmFtZXNwYWNlcyA9IEFycmF5LmZyb20obmV3IFNldChuYW1lc3BhY2VzKSk7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuZmlsdGVyQnlOYW1lc3BhY2VzKHVuaXF1ZU5hbWVzcGFjZXMpO1xuICAgIH0sXG4gICAgZ2V0QWxsQXBwcm92ZWRDYWlwTmV0d29ya0lkcygpIHtcbiAgICAgICAgY29uc3QgYXBwcm92ZWRDYWlwTmV0d29ya0lkcyA9IFtdO1xuICAgICAgICBzdGF0ZS5jaGFpbnMuZm9yRWFjaChjaGFpbkFkYXB0ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGFpbkFkYXB0ZXIubmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbkNvbnRyb2xsZXI6Z2V0QWxsQXBwcm92ZWRDYWlwTmV0d29ya0lkcyAtIGNoYWluQWRhcHRlciBtdXN0IGhhdmUgYSBuYW1lc3BhY2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmVkSWRzID0gQ2hhaW5Db250cm9sbGVyLmdldEFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMoY2hhaW5BZGFwdGVyLm5hbWVzcGFjZSk7XG4gICAgICAgICAgICBhcHByb3ZlZENhaXBOZXR3b3JrSWRzLnB1c2goLi4uYXBwcm92ZWRJZHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHM7XG4gICAgfSxcbiAgICBnZXRBY3RpdmVDYWlwTmV0d29yayhjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluTmFtZXNwYWNlKT8ubmV0d29ya1N0YXRlPy5jYWlwTmV0d29yaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgfSxcbiAgICBnZXRBY3RpdmVDYWlwQWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzO1xuICAgIH0sXG4gICAgZ2V0QXBwcm92ZWRDYWlwTmV0d29ya0lkcyhuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgYXBwcm92ZWRDYWlwTmV0d29ya0lkcyA9IGFkYXB0ZXI/Lm5ldHdvcmtTdGF0ZT8uYXBwcm92ZWRDYWlwTmV0d29ya0lkcyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHM7XG4gICAgfSxcbiAgICBzZXRBcHByb3ZlZENhaXBOZXR3b3Jrc0RhdGEobmFtZXNwYWNlLCBwYXJhbXMpIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFkYXB0ZXJOZXR3b3JrU3RhdGUobmFtZXNwYWNlLCBwYXJhbXMpO1xuICAgIH0sXG4gICAgY2hlY2tJZlN1cHBvcnRlZE5ldHdvcmsobmFtZXNwYWNlLCBjYWlwTmV0d29ya0lkKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrSWQgPSBjYWlwTmV0d29ya0lkIHx8IHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghcmVxdWVzdGVkQ2FpcE5ldHdvcmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENhaXBOZXR3b3Jrcz8uc29tZShuZXR3b3JrID0+IG5ldHdvcmsuY2FpcE5ldHdvcmtJZCA9PT0gYWN0aXZlQ2FpcE5ldHdvcmtJZCk7XG4gICAgfSxcbiAgICBjaGVja0lmU3VwcG9ydGVkQ2hhaW5JZChjaGFpbklkKSB7XG4gICAgICAgIGlmICghc3RhdGUuYWN0aXZlQ2hhaW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3Moc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2FpcE5ldHdvcmtzPy5zb21lKG5ldHdvcmsgPT4gbmV0d29yay5pZCA9PT0gY2hhaW5JZCk7XG4gICAgfSxcbiAgICBjaGVja0lmU21hcnRBY2NvdW50RW5hYmxlZCgpIHtcbiAgICAgICAgY29uc3QgbmV0d29ya0lkID0gTmV0d29ya1V0aWwuY2FpcE5ldHdvcmtJZFRvTnVtYmVyKHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW4gPSBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGFpbiB8fCAhbmV0d29ya0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc21hcnRBY2NvdW50RW5hYmxlZE5ldHdvcmtzID0gVzNtRnJhbWVTdG9yYWdlLmdldChXM21GcmFtZUNvbnN0YW50cy5TTUFSVF9BQ0NPVU5UX0VOQUJMRURfTkVUV09SS1MpPy5zcGxpdCgnLCcpIHx8IFtdO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihzbWFydEFjY291bnRFbmFibGVkTmV0d29ya3M/LmluY2x1ZGVzKG5ldHdvcmtJZC50b1N0cmluZygpKSk7XG4gICAgfSxcbiAgICBzaG93VW5zdXBwb3J0ZWRDaGFpblVJKCkge1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIub3Blbih7IHZpZXc6ICdVbnN1cHBvcnRlZENoYWluJyB9KTtcbiAgICB9LFxuICAgIGNoZWNrSWZOYW1lc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmsgPSBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oYWN0aXZlQ2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlICYmXG4gICAgICAgICAgICBDb25zdGFudHNVdGlsLk5BTUVTX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTLmluY2x1ZGVzKGFjdGl2ZUNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKSk7XG4gICAgfSxcbiAgICByZXNldE5ldHdvcmsobmFtZXNwYWNlKSB7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBZGFwdGVyTmV0d29ya1N0YXRlKG5hbWVzcGFjZSwge1xuICAgICAgICAgICAgYXBwcm92ZWRDYWlwTmV0d29ya0lkczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3VwcG9ydHNBbGxOZXR3b3JrczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlc2V0QWNjb3VudChjaGFpbikge1xuICAgICAgICBjb25zdCBjaGFpblRvV3JpdGUgPSBjaGFpbjtcbiAgICAgICAgaWYgKCFjaGFpblRvV3JpdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW4gaXMgcmVxdWlyZWQgdG8gc2V0IGFjY291bnQgcHJvcCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50VHlwZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KGNoYWluVG9Xcml0ZSk/LmFjY291bnRTdGF0ZT8ucHJlZmVycmVkQWNjb3VudFR5cGU7XG4gICAgICAgIGNvbnN0IG9wdGlvbnNBY2NvdW50VHlwZSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmRlZmF1bHRBY2NvdW50VHlwZXNbY2hhaW5Ub1dyaXRlXTtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbkFjY291bnREYXRhKGNoYWluVG9Xcml0ZSwge1xuICAgICAgICAgICAgc21hcnRBY2NvdW50RGVwbG95ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY3VycmVudFRhYjogMCxcbiAgICAgICAgICAgIGNhaXBBZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBiYWxhbmNlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBiYWxhbmNlU3ltYm9sOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwcm9maWxlTmFtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJvZmlsZUltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhZGRyZXNzRXhwbG9yZXJVcmw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRva2VuQmFsYW5jZTogW10sXG4gICAgICAgICAgICBjb25uZWN0ZWRXYWxsZXRJbmZvOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZTogb3B0aW9uc0FjY291bnRUeXBlIHx8IGN1cnJlbnRBY2NvdW50VHlwZSxcbiAgICAgICAgICAgIHNvY2lhbFByb3ZpZGVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzb2NpYWxXaW5kb3c6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZhcmNhc3RlclVybDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdXNlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJ1xuICAgICAgICB9KTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5yZW1vdmVDb25uZWN0b3JJZChjaGFpblRvV3JpdGUpO1xuICAgIH0sXG4gICAgc2V0SXNTd2l0Y2hpbmdOYW1lc3BhY2UoaXNTd2l0Y2hpbmdOYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUuaXNTd2l0Y2hpbmdOYW1lc3BhY2UgPSBpc1N3aXRjaGluZ05hbWVzcGFjZTtcbiAgICB9LFxuICAgIGdldEZpcnN0Q2FpcE5ldHdvcmtTdXBwb3J0c0F1dGhDb25uZWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUNoYWlucyA9IFtdO1xuICAgICAgICBsZXQgZmlyc3RDYWlwTmV0d29yayA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUuY2hhaW5zLmZvckVhY2goY2hhaW4gPT4ge1xuICAgICAgICAgICAgaWYgKENvbW1vbkNvbnN0YW50c1V0aWwuQVVUSF9DT05ORUNUT1JfU1VQUE9SVEVEX0NIQUlOUy5maW5kKG5zID0+IG5zID09PSBjaGFpbi5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYWluLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVDaGFpbnMucHVzaChjaGFpbi5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhdmFpbGFibGVDaGFpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RBdmFpbGFibGVDaGFpbiA9IGF2YWlsYWJsZUNoYWluc1swXTtcbiAgICAgICAgICAgIGZpcnN0Q2FpcE5ldHdvcmsgPSBmaXJzdEF2YWlsYWJsZUNoYWluXG4gICAgICAgICAgICAgICAgPyBzdGF0ZS5jaGFpbnMuZ2V0KGZpcnN0QXZhaWxhYmxlQ2hhaW4pPy5jYWlwTmV0d29ya3M/LlswXVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0Q2FpcE5ldHdvcms7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldEFjY291bnREYXRhKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGNoYWluTmFtZXNwYWNlIHx8IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKT8uYWNjb3VudFN0YXRlO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya0RhdGEoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gY2hhaW5OYW1lc3BhY2UgfHwgc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpPy5uZXR3b3JrU3RhdGU7XG4gICAgfSxcbiAgICBnZXRDYWlwTmV0d29ya0J5TmFtZXNwYWNlKGNoYWluTmFtZXNwYWNlLCBjaGFpbklkKSB7XG4gICAgICAgIGlmICghY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGJ5Q2hhaW5JZCA9IGNoYWluPy5jYWlwTmV0d29ya3M/LmZpbmQobmV0d29yayA9PiBuZXR3b3JrLmlkLnRvU3RyaW5nKCkgPT09IGNoYWluSWQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoYnlDaGFpbklkKSB7XG4gICAgICAgICAgICByZXR1cm4gYnlDaGFpbklkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbj8ubmV0d29ya1N0YXRlPy5jYWlwTmV0d29yayB8fCBjaGFpbj8uY2FpcE5ldHdvcmtzPy5bMF07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlcXVlc3RlZCBDYWlwTmV0d29yayBJRHMgZm9yIGEgZ2l2ZW4gbmFtZXNwYWNlLiBJZiBuYW1lc3BhY2UgaXMgbm90IHByb3ZpZGVkLCBhbGwgcmVxdWVzdGVkIENhaXBOZXR3b3JrIElEcyB3aWxsIGJlIHJldHVybmVkXG4gICAgICogQHBhcmFtIG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2UgdG8gZ2V0IHRoZSByZXF1ZXN0ZWQgQ2FpcE5ldHdvcmsgSURzIGZvclxuICAgICAqIEByZXR1cm5zIFRoZSByZXF1ZXN0ZWQgQ2FpcE5ldHdvcmsgSURzXG4gICAgICovXG4gICAgZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IG5hbWVzcGFjZSA/IFtzdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSldIDogQXJyYXkuZnJvbShzdGF0ZS5jaGFpbnMudmFsdWVzKCkpO1xuICAgICAgICByZXR1cm4gY2hhaW5zXG4gICAgICAgICAgICAuZmxhdE1hcChjaGFpbiA9PiBjaGFpbj8uY2FpcE5ldHdvcmtzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcChjYWlwTmV0d29yayA9PiBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICB9LFxuICAgIGdldENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgIH0sXG4gICAgZ2V0Q2FpcE5ldHdvcmtCeUlkKGlkLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXJcbiAgICAgICAgICAgIC5nZXRDYWlwTmV0d29ya3MobmFtZXNwYWNlKVxuICAgICAgICAgICAgLmZpbmQobiA9PiBuLmlkLnRvU3RyaW5nKCkgPT09IGlkLnRvU3RyaW5nKCkgfHwgbi5jYWlwTmV0d29ya0lkLnRvU3RyaW5nKCkgPT09IGlkLnRvU3RyaW5nKCkpO1xuICAgIH0sXG4gICAgc2V0TGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yayhuZXR3b3JrKSB7XG4gICAgICAgIHN0YXRlLmxhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsgPSBuZXR3b3JrO1xuICAgIH0sXG4gICAgZ2V0TGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yaygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmxhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcms7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRva2VuQmFsYW5jZShvbkVycm9yKSB7XG4gICAgICAgIGNvbnN0IGFjY291bnRTdGF0ZSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpO1xuICAgICAgICBpZiAoIWFjY291bnRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIGNvbnN0IGNoYWluID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBjYWlwQWRkcmVzcyA/IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhjYWlwQWRkcmVzcykgOiB1bmRlZmluZWQ7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZUxvYWRpbmcnLCB0cnVlLCBjaGFpbik7XG4gICAgICAgIGlmIChhY2NvdW50U3RhdGUubGFzdFJldHJ5ICYmXG4gICAgICAgICAgICAhQ29yZUhlbHBlclV0aWwuaXNBbGxvd2VkUmV0cnkoYWNjb3VudFN0YXRlLmxhc3RSZXRyeSwgMzAgKiBDb25zdGFudHNVdGlsLk9ORV9TRUNfTVMpKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2JhbGFuY2VMb2FkaW5nJywgZmFsc2UsIGNoYWluKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGFkZHJlc3MgJiYgY2hhaW5JZCAmJiBjaGFpbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCBCYWxhbmNlVXRpbC5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKCk7XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCd0b2tlbkJhbGFuY2UnLCBiYWxhbmNlLCBjaGFpbik7XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdsYXN0UmV0cnknLCB1bmRlZmluZWQsIGNoYWluKTtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2JhbGFuY2VMb2FkaW5nJywgZmFsc2UsIGNoYWluKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFsYW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnbGFzdFJldHJ5JywgRGF0ZS5ub3coKSwgY2hhaW4pO1xuICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ1Rva2VuIEJhbGFuY2UgVW5hdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZUxvYWRpbmcnLCBmYWxzZSwgY2hhaW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGlzQ2FpcE5ldHdvcmtEaXNhYmxlZChuZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtOYW1lc3BhY2UgPSBuZXR3b3JrLmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBpc05leHROYW1lc3BhY2VDb25uZWN0ZWQgPSBCb29sZWFuKENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuZXR3b3JrTmFtZXNwYWNlKT8uY2FpcEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBhcHByb3ZlZENhaXBOZXR3b3JrSWRzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbEFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMoKTtcbiAgICAgICAgY29uc3Qgc2hvdWxkU3VwcG9ydEFsbE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldE5ldHdvcmtQcm9wKCdzdXBwb3J0c0FsbE5ldHdvcmtzJywgbmV0d29ya05hbWVzcGFjZSkgIT09IGZhbHNlO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQobmV0d29ya05hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWRXaXRoQXV0aCA9IGNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIICYmIGF1dGhDb25uZWN0b3I7XG4gICAgICAgIGlmICghaXNOZXh0TmFtZXNwYWNlQ29ubmVjdGVkIHx8IHNob3VsZFN1cHBvcnRBbGxOZXR3b3JrcyB8fCBpc0Nvbm5lY3RlZFdpdGhBdXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFhcHByb3ZlZENhaXBOZXR3b3JrSWRzPy5pbmNsdWRlcyhuZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IENoYWluQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhaW5Db250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionController: () => (/* binding */ ConnectionController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/ConnectionControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\");\n/* harmony import */ var _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/ConnectorControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ModalController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _TransactionsController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TransactionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\");\n/* eslint-disable no-console */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    connections: new Map(),\n    recentConnections: new Map(),\n    isSwitchingConnection: false,\n    wcError: false,\n    buffering: false,\n    status: 'disconnected'\n});\n// eslint-disable-next-line init-declarations\nlet wcConnectionPromise;\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    _getClient() {\n        return state._client;\n    },\n    setClient(client) {\n        state._client = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(client);\n    },\n    initialize(adapters) {\n        const namespaces = adapters\n            .filter((a) => Boolean(a.namespace))\n            .map(a => a.namespace);\n        ConnectionController.syncStorageConnections(namespaces);\n    },\n    syncStorageConnections(namespaces) {\n        const storageConnections = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getConnections();\n        const namespacesToSync = namespaces ?? Array.from(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.keys());\n        for (const namespace of namespacesToSync) {\n            const storageConnectionsByNamespace = storageConnections[namespace] ?? [];\n            const recentConnectionsMap = new Map(state.recentConnections);\n            recentConnectionsMap.set(namespace, storageConnectionsByNamespace);\n            state.recentConnections = recentConnectionsMap;\n        }\n    },\n    getConnections(namespace) {\n        return namespace ? (state.connections.get(namespace) ?? []) : [];\n    },\n    hasAnyConnection(connectorId) {\n        const connections = ConnectionController.state.connections;\n        return Array.from(connections.values())\n            .flatMap(_connections => _connections)\n            .some(({ connectorId: _connectorId }) => _connectorId === connectorId);\n    },\n    async connectWalletConnect({ cache = 'auto' } = {}) {\n        const isInTelegramOrSafariIos = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isTelegram() || (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isSafari() && _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isIos());\n        if (cache === 'always' || (cache === 'auto' && isInTelegramOrSafariIos)) {\n            if (wcConnectionPromise) {\n                await wcConnectionPromise;\n                wcConnectionPromise = undefined;\n                return;\n            }\n            if (!_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isPairingExpired(state?.wcPairingExpiry)) {\n                const link = state.wcUri;\n                state.wcUri = link;\n                return;\n            }\n            wcConnectionPromise = ConnectionController._getClient()\n                ?.connectWalletConnect?.()\n                .catch(() => undefined);\n            ConnectionController.state.status = 'connecting';\n            await wcConnectionPromise;\n            wcConnectionPromise = undefined;\n            state.wcPairingExpiry = undefined;\n            ConnectionController.state.status = 'connected';\n        }\n        else {\n            await ConnectionController._getClient()?.connectWalletConnect?.();\n        }\n    },\n    async connectExternal(options, chain, setChain = true) {\n        const connectData = await ConnectionController._getClient()?.connectExternal?.(options);\n        if (setChain) {\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setActiveNamespace(chain);\n        }\n        return connectData;\n    },\n    async reconnectExternal(options) {\n        await ConnectionController._getClient()?.reconnectExternal?.(options);\n        const namespace = options.chain || _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n        if (namespace) {\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setConnectorId(options.id, namespace);\n        }\n    },\n    async setPreferredAccountType(accountType, namespace) {\n        if (!namespace) {\n            return;\n        }\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.setLoading(true, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            return;\n        }\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('preferredAccountType', accountType, namespace);\n        await authConnector.provider.setPreferredAccount(accountType);\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setPreferredAccountTypes(Object.entries(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains).reduce((acc, [key, _]) => {\n            const namespace = key;\n            const accountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__.getPreferredAccountType)(namespace);\n            if (accountType !== undefined) {\n                ;\n                acc[namespace] = accountType;\n            }\n            return acc;\n        }, {}));\n        await ConnectionController.reconnectExternal(authConnector);\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.setLoading(false, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_8__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SET_PREFERRED_ACCOUNT_TYPE',\n            properties: {\n                accountType,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n            }\n        });\n    },\n    async signMessage(message) {\n        return ConnectionController._getClient()?.signMessage(message);\n    },\n    parseUnits(value, decimals) {\n        return ConnectionController._getClient()?.parseUnits(value, decimals);\n    },\n    formatUnits(value, decimals) {\n        return ConnectionController._getClient()?.formatUnits(value, decimals);\n    },\n    updateBalance(namespace) {\n        return ConnectionController._getClient()?.updateBalance(namespace);\n    },\n    async sendTransaction(args) {\n        return ConnectionController._getClient()?.sendTransaction(args);\n    },\n    async getCapabilities(params) {\n        return ConnectionController._getClient()?.getCapabilities(params);\n    },\n    async grantPermissions(params) {\n        return ConnectionController._getClient()?.grantPermissions(params);\n    },\n    async walletGetAssets(params) {\n        return ConnectionController._getClient()?.walletGetAssets(params) ?? {};\n    },\n    async estimateGas(args) {\n        return ConnectionController._getClient()?.estimateGas(args);\n    },\n    async writeContract(args) {\n        return ConnectionController._getClient()?.writeContract(args);\n    },\n    async getEnsAddress(value) {\n        return ConnectionController._getClient()?.getEnsAddress(value);\n    },\n    async getEnsAvatar(value) {\n        return ConnectionController._getClient()?.getEnsAvatar(value);\n    },\n    checkInstalled(ids) {\n        return ConnectionController._getClient()?.checkInstalled?.(ids) || false;\n    },\n    resetWcConnection() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        state.wcLinking = undefined;\n        state.recentWallet = undefined;\n        state.status = 'disconnected';\n        _TransactionsController_js__WEBPACK_IMPORTED_MODULE_9__.TransactionsController.resetTransactions();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteWalletConnectDeepLink();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteRecentWallet();\n    },\n    resetUri() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        wcConnectionPromise = undefined;\n    },\n    finalizeWcConnection(address) {\n        const { wcLinking, recentWallet } = ConnectionController.state;\n        if (wcLinking) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setWalletConnectDeepLink(wcLinking);\n        }\n        if (recentWallet) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setAppKitRecent(recentWallet);\n        }\n        if (address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_8__.EventsController.sendEvent({\n                type: 'track',\n                event: 'CONNECT_SUCCESS',\n                address,\n                properties: {\n                    method: wcLinking ? 'mobile' : 'qrcode',\n                    name: _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.state.data?.wallet?.name || 'Unknown',\n                    view: _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.state.view,\n                    walletRank: recentWallet?.order\n                }\n            });\n        }\n    },\n    setWcBasic(wcBasic) {\n        state.wcBasic = wcBasic;\n    },\n    setUri(uri) {\n        state.wcUri = uri;\n        state.wcPairingExpiry = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPairingExpiry();\n    },\n    setWcLinking(wcLinking) {\n        state.wcLinking = wcLinking;\n    },\n    setWcError(wcError) {\n        state.wcError = wcError;\n        state.buffering = false;\n    },\n    setRecentWallet(wallet) {\n        state.recentWallet = wallet;\n    },\n    setBuffering(buffering) {\n        state.buffering = buffering;\n    },\n    setStatus(status) {\n        state.status = status;\n    },\n    setIsSwitchingConnection(isSwitchingConnection) {\n        state.isSwitchingConnection = isSwitchingConnection;\n    },\n    async disconnect({ id, namespace, initialDisconnect } = {}) {\n        try {\n            await ConnectionController._getClient()?.disconnect({\n                id,\n                chainNamespace: namespace,\n                initialDisconnect\n            });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.AppKitError('Failed to disconnect', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    async disconnectConnector({ id, namespace }) {\n        try {\n            await ConnectionController._getClient()?.disconnectConnector({ id, namespace });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.AppKitError('Failed to disconnect connector', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    setConnections(connections, chainNamespace) {\n        const connectionsMap = new Map(state.connections);\n        connectionsMap.set(chainNamespace, connections);\n        state.connections = connectionsMap;\n    },\n    async handleAuthAccountSwitch({ address, namespace }) {\n        const accountData = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace);\n        const smartAccount = accountData?.user?.accounts?.find(c => c.type === 'smartAccount');\n        const accountType = smartAccount &&\n            smartAccount.address.toLowerCase() === address.toLowerCase() &&\n            _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.canSwitchToSmartAccount(namespace)\n            ? 'smartAccount'\n            : 'eoa';\n        await ConnectionController.setPreferredAccountType(accountType, namespace);\n    },\n    async handleActiveConnection({ connection, namespace, address }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        if (!isAuthConnector) {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                address,\n                chain: namespace\n            }, namespace);\n            return connectData?.address;\n        }\n        else if (address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return address;\n    },\n    async handleDisconnectedConnection({ connection, namespace, address, closeModalOnConnect }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const authName = connection.auth?.name?.toLowerCase();\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isWCConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        let newAddress = undefined;\n        if (isAuthConnector) {\n            if (authName && _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.isSocialProvider(authName)) {\n                const { address: socialAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectSocial({\n                    social: authName,\n                    closeModalOnConnect,\n                    onOpenFarcaster() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view: 'ConnectingFarcaster' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = socialAddress;\n            }\n            else {\n                const { address: emailAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectEmail({\n                    closeModalOnConnect,\n                    onOpen() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view: 'EmailLogin' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = emailAddress;\n            }\n        }\n        else if (isWCConnector) {\n            const { address: wcAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectWalletConnect({\n                walletConnect: true,\n                connector,\n                closeModalOnConnect,\n                onOpen(isMobile) {\n                    const view = isMobile ? 'AllWallets' : 'ConnectingWalletConnect';\n                    if (_ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.state.open) {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.push(view);\n                    }\n                    else {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view });\n                    }\n                },\n                onConnect() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                }\n            });\n            newAddress = wcAddress;\n        }\n        else {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                chain: namespace\n            }, namespace);\n            if (connectData) {\n                newAddress = connectData.address;\n            }\n        }\n        if (isAuthConnector && address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return newAddress;\n    },\n    async switchConnection({ connection, address, namespace, closeModalOnConnect, onChange }) {\n        let currentAddress = undefined;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace)?.caipAddress;\n        if (caipAddress) {\n            const { address: currentAddressParsed } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.ParseUtil.parseCaipAddress(caipAddress);\n            currentAddress = currentAddressParsed;\n        }\n        const status = _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_15__.ConnectionControllerUtil.getConnectionStatus(connection, namespace);\n        switch (status) {\n            case 'connected':\n            case 'active': {\n                const newAddress = await ConnectionController.handleActiveConnection({\n                    connection,\n                    namespace,\n                    address\n                });\n                if (currentAddress && newAddress) {\n                    const hasSwitchedAccount = newAddress.toLowerCase() !== currentAddress.toLowerCase();\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount,\n                        hasSwitchedWallet: status === 'active'\n                    });\n                }\n                break;\n            }\n            case 'disconnected': {\n                const newAddress = await ConnectionController.handleDisconnectedConnection({\n                    connection,\n                    namespace,\n                    address,\n                    closeModalOnConnect\n                });\n                if (newAddress) {\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount: true,\n                        hasSwitchedWallet: true\n                    });\n                }\n                break;\n            }\n            default:\n                throw new Error(`Invalid connection status: ${status}`);\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectionController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectionController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQzhEO0FBQ0E7QUFDeUI7QUFDYjtBQUNNO0FBQ0Y7QUFDbEI7QUFDTjtBQUN5QjtBQUN4QjtBQUNRO0FBQ047QUFDRjtBQUNFO0FBQ1k7QUFDckU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsbURBQUc7QUFDM0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMsOERBQVc7QUFDOUMsMERBQTBELGdFQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQjtBQUNoRCxLQUFLO0FBQ0wsaUNBQWlDLGlCQUFpQixJQUFJO0FBQ3RELHdDQUF3QyxvRUFBYyxrQkFBa0Isb0VBQWMsZUFBZSxvRUFBYztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0EsS0FB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QTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELE9BQU87QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsK0VBQWlCO0FBQ3JEIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCB7IHByb3h5LCByZWYsIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsLCBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IEFwcEtpdEVycm9yLCB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL1RyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBjb25uZWN0aW9uczogbmV3IE1hcCgpLFxuICAgIHJlY2VudENvbm5lY3Rpb25zOiBuZXcgTWFwKCksXG4gICAgaXNTd2l0Y2hpbmdDb25uZWN0aW9uOiBmYWxzZSxcbiAgICB3Y0Vycm9yOiBmYWxzZSxcbiAgICBidWZmZXJpbmc6IGZhbHNlLFxuICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCdcbn0pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGluaXQtZGVjbGFyYXRpb25zXG5sZXQgd2NDb25uZWN0aW9uUHJvbWlzZTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgX2dldENsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLl9jbGllbnQ7XG4gICAgfSxcbiAgICBzZXRDbGllbnQoY2xpZW50KSB7XG4gICAgICAgIHN0YXRlLl9jbGllbnQgPSByZWYoY2xpZW50KTtcbiAgICB9LFxuICAgIGluaXRpYWxpemUoYWRhcHRlcnMpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IGFkYXB0ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKChhKSA9PiBCb29sZWFuKGEubmFtZXNwYWNlKSlcbiAgICAgICAgICAgIC5tYXAoYSA9PiBhLm5hbWVzcGFjZSk7XG4gICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnN5bmNTdG9yYWdlQ29ubmVjdGlvbnMobmFtZXNwYWNlcyk7XG4gICAgfSxcbiAgICBzeW5jU3RvcmFnZUNvbm5lY3Rpb25zKG5hbWVzcGFjZXMpIHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZUNvbm5lY3Rpb25zID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGlvbnMoKTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlc1RvU3luYyA9IG5hbWVzcGFjZXMgPz8gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmtleXMoKSk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZXNwYWNlIG9mIG5hbWVzcGFjZXNUb1N5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb25uZWN0aW9uc0J5TmFtZXNwYWNlID0gc3RvcmFnZUNvbm5lY3Rpb25zW25hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICBjb25zdCByZWNlbnRDb25uZWN0aW9uc01hcCA9IG5ldyBNYXAoc3RhdGUucmVjZW50Q29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgcmVjZW50Q29ubmVjdGlvbnNNYXAuc2V0KG5hbWVzcGFjZSwgc3RvcmFnZUNvbm5lY3Rpb25zQnlOYW1lc3BhY2UpO1xuICAgICAgICAgICAgc3RhdGUucmVjZW50Q29ubmVjdGlvbnMgPSByZWNlbnRDb25uZWN0aW9uc01hcDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGlvbnMobmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBuYW1lc3BhY2UgPyAoc3RhdGUuY29ubmVjdGlvbnMuZ2V0KG5hbWVzcGFjZSkgPz8gW10pIDogW107XG4gICAgfSxcbiAgICBoYXNBbnlDb25uZWN0aW9uKGNvbm5lY3RvcklkKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdGlvbnM7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGNvbm5lY3Rpb25zLnZhbHVlcygpKVxuICAgICAgICAgICAgLmZsYXRNYXAoX2Nvbm5lY3Rpb25zID0+IF9jb25uZWN0aW9ucylcbiAgICAgICAgICAgIC5zb21lKCh7IGNvbm5lY3RvcklkOiBfY29ubmVjdG9ySWQgfSkgPT4gX2Nvbm5lY3RvcklkID09PSBjb25uZWN0b3JJZCk7XG4gICAgfSxcbiAgICBhc3luYyBjb25uZWN0V2FsbGV0Q29ubmVjdCh7IGNhY2hlID0gJ2F1dG8nIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBpc0luVGVsZWdyYW1PclNhZmFyaUlvcyA9IENvcmVIZWxwZXJVdGlsLmlzVGVsZWdyYW0oKSB8fCAoQ29yZUhlbHBlclV0aWwuaXNTYWZhcmkoKSAmJiBDb3JlSGVscGVyVXRpbC5pc0lvcygpKTtcbiAgICAgICAgaWYgKGNhY2hlID09PSAnYWx3YXlzJyB8fCAoY2FjaGUgPT09ICdhdXRvJyAmJiBpc0luVGVsZWdyYW1PclNhZmFyaUlvcykpIHtcbiAgICAgICAgICAgIGlmICh3Y0Nvbm5lY3Rpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd2NDb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB3Y0Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghQ29yZUhlbHBlclV0aWwuaXNQYWlyaW5nRXhwaXJlZChzdGF0ZT8ud2NQYWlyaW5nRXhwaXJ5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBzdGF0ZS53Y1VyaTtcbiAgICAgICAgICAgICAgICBzdGF0ZS53Y1VyaSA9IGxpbms7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2NDb25uZWN0aW9uUHJvbWlzZSA9IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKVxuICAgICAgICAgICAgICAgID8uY29ubmVjdFdhbGxldENvbm5lY3Q/LigpXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS5zdGF0dXMgPSAnY29ubmVjdGluZyc7XG4gICAgICAgICAgICBhd2FpdCB3Y0Nvbm5lY3Rpb25Qcm9taXNlO1xuICAgICAgICAgICAgd2NDb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLndjUGFpcmluZ0V4cGlyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLnN0YXR1cyA9ICdjb25uZWN0ZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5jb25uZWN0V2FsbGV0Q29ubmVjdD8uKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGNvbm5lY3RFeHRlcm5hbChvcHRpb25zLCBjaGFpbiwgc2V0Q2hhaW4gPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3REYXRhID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5jb25uZWN0RXh0ZXJuYWw/LihvcHRpb25zKTtcbiAgICAgICAgaWYgKHNldENoYWluKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWN0aXZlTmFtZXNwYWNlKGNoYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdERhdGE7XG4gICAgfSxcbiAgICBhc3luYyByZWNvbm5lY3RFeHRlcm5hbChvcHRpb25zKSB7XG4gICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8ucmVjb25uZWN0RXh0ZXJuYWw/LihvcHRpb25zKTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gb3B0aW9ucy5jaGFpbiB8fCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ySWQob3B0aW9ucy5pZCwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2V0UHJlZmVycmVkQWNjb3VudFR5cGUoYWNjb3VudFR5cGUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5zZXRMb2FkaW5nKHRydWUsIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgaWYgKCFhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdwcmVmZXJyZWRBY2NvdW50VHlwZScsIGFjY291bnRUeXBlLCBuYW1lc3BhY2UpO1xuICAgICAgICBhd2FpdCBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLnNldFByZWZlcnJlZEFjY291bnQoYWNjb3VudFR5cGUpO1xuICAgICAgICBTdG9yYWdlVXRpbC5zZXRQcmVmZXJyZWRBY2NvdW50VHlwZXMoT2JqZWN0LmVudHJpZXMoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucykucmVkdWNlKChhY2MsIFtrZXksIF9dKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBrZXk7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50VHlwZSA9IGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBhY2NbbmFtZXNwYWNlXSA9IGFjY291bnRUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pKTtcbiAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIucmVjb25uZWN0RXh0ZXJuYWwoYXV0aENvbm5lY3Rvcik7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5zZXRMb2FkaW5nKGZhbHNlLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdTRVRfUFJFRkVSUkVEX0FDQ09VTlRfVFlQRScsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgYWNjb3VudFR5cGUsXG4gICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgc2lnbk1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5zaWduTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9LFxuICAgIHBhcnNlVW5pdHModmFsdWUsIGRlY2ltYWxzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnBhcnNlVW5pdHModmFsdWUsIGRlY2ltYWxzKTtcbiAgICB9LFxuICAgIGZvcm1hdFVuaXRzKHZhbHVlLCBkZWNpbWFscykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5mb3JtYXRVbml0cyh2YWx1ZSwgZGVjaW1hbHMpO1xuICAgIH0sXG4gICAgdXBkYXRlQmFsYW5jZShuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8udXBkYXRlQmFsYW5jZShuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uc2VuZFRyYW5zYWN0aW9uKGFyZ3MpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0Q2FwYWJpbGl0aWVzKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5nZXRDYXBhYmlsaXRpZXMocGFyYW1zKTtcbiAgICB9LFxuICAgIGFzeW5jIGdyYW50UGVybWlzc2lvbnMocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmdyYW50UGVybWlzc2lvbnMocGFyYW1zKTtcbiAgICB9LFxuICAgIGFzeW5jIHdhbGxldEdldEFzc2V0cyhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8ud2FsbGV0R2V0QXNzZXRzKHBhcmFtcykgPz8ge307XG4gICAgfSxcbiAgICBhc3luYyBlc3RpbWF0ZUdhcyhhcmdzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmVzdGltYXRlR2FzKGFyZ3MpO1xuICAgIH0sXG4gICAgYXN5bmMgd3JpdGVDb250cmFjdChhcmdzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LndyaXRlQ29udHJhY3QoYXJncyk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRFbnNBZGRyZXNzKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmdldEVuc0FkZHJlc3ModmFsdWUpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0RW5zQXZhdGFyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmdldEVuc0F2YXRhcih2YWx1ZSk7XG4gICAgfSxcbiAgICBjaGVja0luc3RhbGxlZChpZHMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uY2hlY2tJbnN0YWxsZWQ/LihpZHMpIHx8IGZhbHNlO1xuICAgIH0sXG4gICAgcmVzZXRXY0Nvbm5lY3Rpb24oKSB7XG4gICAgICAgIHN0YXRlLndjVXJpID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y1BhaXJpbmdFeHBpcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLndjTGlua2luZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucmVjZW50V2FsbGV0ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5zdGF0dXMgPSAnZGlzY29ubmVjdGVkJztcbiAgICAgICAgVHJhbnNhY3Rpb25zQ29udHJvbGxlci5yZXNldFRyYW5zYWN0aW9ucygpO1xuICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVXYWxsZXRDb25uZWN0RGVlcExpbmsoKTtcbiAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlUmVjZW50V2FsbGV0KCk7XG4gICAgfSxcbiAgICByZXNldFVyaSgpIHtcbiAgICAgICAgc3RhdGUud2NVcmkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLndjUGFpcmluZ0V4cGlyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2NDb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGZpbmFsaXplV2NDb25uZWN0aW9uKGFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgeyB3Y0xpbmtpbmcsIHJlY2VudFdhbGxldCB9ID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGlmICh3Y0xpbmtpbmcpIHtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldFdhbGxldENvbm5lY3REZWVwTGluayh3Y0xpbmtpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWNlbnRXYWxsZXQpIHtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldEFwcEtpdFJlY2VudChyZWNlbnRXYWxsZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ0NPTk5FQ1RfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogd2NMaW5raW5nID8gJ21vYmlsZScgOiAncXJjb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhPy53YWxsZXQ/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICB2aWV3OiBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldFJhbms6IHJlY2VudFdhbGxldD8ub3JkZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0V2NCYXNpYyh3Y0Jhc2ljKSB7XG4gICAgICAgIHN0YXRlLndjQmFzaWMgPSB3Y0Jhc2ljO1xuICAgIH0sXG4gICAgc2V0VXJpKHVyaSkge1xuICAgICAgICBzdGF0ZS53Y1VyaSA9IHVyaTtcbiAgICAgICAgc3RhdGUud2NQYWlyaW5nRXhwaXJ5ID0gQ29yZUhlbHBlclV0aWwuZ2V0UGFpcmluZ0V4cGlyeSgpO1xuICAgIH0sXG4gICAgc2V0V2NMaW5raW5nKHdjTGlua2luZykge1xuICAgICAgICBzdGF0ZS53Y0xpbmtpbmcgPSB3Y0xpbmtpbmc7XG4gICAgfSxcbiAgICBzZXRXY0Vycm9yKHdjRXJyb3IpIHtcbiAgICAgICAgc3RhdGUud2NFcnJvciA9IHdjRXJyb3I7XG4gICAgICAgIHN0YXRlLmJ1ZmZlcmluZyA9IGZhbHNlO1xuICAgIH0sXG4gICAgc2V0UmVjZW50V2FsbGV0KHdhbGxldCkge1xuICAgICAgICBzdGF0ZS5yZWNlbnRXYWxsZXQgPSB3YWxsZXQ7XG4gICAgfSxcbiAgICBzZXRCdWZmZXJpbmcoYnVmZmVyaW5nKSB7XG4gICAgICAgIHN0YXRlLmJ1ZmZlcmluZyA9IGJ1ZmZlcmluZztcbiAgICB9LFxuICAgIHNldFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgc3RhdGUuc3RhdHVzID0gc3RhdHVzO1xuICAgIH0sXG4gICAgc2V0SXNTd2l0Y2hpbmdDb25uZWN0aW9uKGlzU3dpdGNoaW5nQ29ubmVjdGlvbikge1xuICAgICAgICBzdGF0ZS5pc1N3aXRjaGluZ0Nvbm5lY3Rpb24gPSBpc1N3aXRjaGluZ0Nvbm5lY3Rpb247XG4gICAgfSxcbiAgICBhc3luYyBkaXNjb25uZWN0KHsgaWQsIG5hbWVzcGFjZSwgaW5pdGlhbERpc2Nvbm5lY3QgfSA9IHt9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmRpc2Nvbm5lY3Qoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgaW5pdGlhbERpc2Nvbm5lY3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFwcEtpdEVycm9yKCdGYWlsZWQgdG8gZGlzY29ubmVjdCcsICdJTlRFUk5BTF9TREtfRVJST1InLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGRpc2Nvbm5lY3RDb25uZWN0b3IoeyBpZCwgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZGlzY29ubmVjdENvbm5lY3Rvcih7IGlkLCBuYW1lc3BhY2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXBwS2l0RXJyb3IoJ0ZhaWxlZCB0byBkaXNjb25uZWN0IGNvbm5lY3RvcicsICdJTlRFUk5BTF9TREtfRVJST1InLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldENvbm5lY3Rpb25zKGNvbm5lY3Rpb25zLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uc01hcCA9IG5ldyBNYXAoc3RhdGUuY29ubmVjdGlvbnMpO1xuICAgICAgICBjb25uZWN0aW9uc01hcC5zZXQoY2hhaW5OYW1lc3BhY2UsIGNvbm5lY3Rpb25zKTtcbiAgICAgICAgc3RhdGUuY29ubmVjdGlvbnMgPSBjb25uZWN0aW9uc01hcDtcbiAgICB9LFxuICAgIGFzeW5jIGhhbmRsZUF1dGhBY2NvdW50U3dpdGNoKHsgYWRkcmVzcywgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgY29uc3QgYWNjb3VudERhdGEgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3Qgc21hcnRBY2NvdW50ID0gYWNjb3VudERhdGE/LnVzZXI/LmFjY291bnRzPy5maW5kKGMgPT4gYy50eXBlID09PSAnc21hcnRBY2NvdW50Jyk7XG4gICAgICAgIGNvbnN0IGFjY291bnRUeXBlID0gc21hcnRBY2NvdW50ICYmXG4gICAgICAgICAgICBzbWFydEFjY291bnQuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNhblN3aXRjaFRvU21hcnRBY2NvdW50KG5hbWVzcGFjZSlcbiAgICAgICAgICAgID8gJ3NtYXJ0QWNjb3VudCdcbiAgICAgICAgICAgIDogJ2VvYSc7XG4gICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNldFByZWZlcnJlZEFjY291bnRUeXBlKGFjY291bnRUeXBlLCBuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlQWN0aXZlQ29ubmVjdGlvbih7IGNvbm5lY3Rpb24sIG5hbWVzcGFjZSwgYWRkcmVzcyB9KSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yQnlJZChjb25uZWN0aW9uLmNvbm5lY3RvcklkKTtcbiAgICAgICAgY29uc3QgaXNBdXRoQ29ubmVjdG9yID0gY29ubmVjdGlvbi5jb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgaWYgKCFjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29ubmVjdG9yIGZvdW5kIGZvciBjb25uZWN0aW9uOiAke2Nvbm5lY3Rpb24uY29ubmVjdG9ySWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0F1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3REYXRhID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuY29ubmVjdEV4dGVybmFsKHtcbiAgICAgICAgICAgICAgICBpZDogY29ubmVjdG9yLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbm5lY3Rvci50eXBlLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBjb25uZWN0b3IucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbjogbmFtZXNwYWNlXG4gICAgICAgICAgICB9LCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3REYXRhPy5hZGRyZXNzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmhhbmRsZUF1dGhBY2NvdW50U3dpdGNoKHsgYWRkcmVzcywgbmFtZXNwYWNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGRyZXNzO1xuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlRGlzY29ubmVjdGVkQ29ubmVjdGlvbih7IGNvbm5lY3Rpb24sIG5hbWVzcGFjZSwgYWRkcmVzcywgY2xvc2VNb2RhbE9uQ29ubmVjdCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yQnlJZChjb25uZWN0aW9uLmNvbm5lY3RvcklkKTtcbiAgICAgICAgY29uc3QgYXV0aE5hbWUgPSBjb25uZWN0aW9uLmF1dGg/Lm5hbWU/LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGlzQXV0aENvbm5lY3RvciA9IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgIGNvbnN0IGlzV0NDb25uZWN0b3IgPSBjb25uZWN0aW9uLmNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgaWYgKCFjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29ubmVjdG9yIGZvdW5kIGZvciBjb25uZWN0aW9uOiAke2Nvbm5lY3Rpb24uY29ubmVjdG9ySWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0FkZHJlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpc0F1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIGlmIChhdXRoTmFtZSAmJiBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5pc1NvY2lhbFByb3ZpZGVyKGF1dGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzczogc29jaWFsQWRkcmVzcyB9ID0gYXdhaXQgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY29ubmVjdFNvY2lhbCh7XG4gICAgICAgICAgICAgICAgICAgIHNvY2lhbDogYXV0aE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWxPbkNvbm5lY3QsXG4gICAgICAgICAgICAgICAgICAgIG9uT3BlbkZhcmNhc3RlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5vcGVuKHsgdmlldzogJ0Nvbm5lY3RpbmdGYXJjYXN0ZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbm5lY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1Byb2ZpbGVXYWxsZXRzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdBZGRyZXNzID0gc29jaWFsQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzczogZW1haWxBZGRyZXNzIH0gPSBhd2FpdCBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jb25uZWN0RW1haWwoe1xuICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsT25Db25uZWN0LFxuICAgICAgICAgICAgICAgICAgICBvbk9wZW4oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIub3Blbih7IHZpZXc6ICdFbWFpbExvZ2luJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdQcm9maWxlV2FsbGV0cycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmV3QWRkcmVzcyA9IGVtYWlsQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1dDQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFkZHJlc3M6IHdjQWRkcmVzcyB9ID0gYXdhaXQgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY29ubmVjdFdhbGxldENvbm5lY3Qoe1xuICAgICAgICAgICAgICAgIHdhbGxldENvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yLFxuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWxPbkNvbm5lY3QsXG4gICAgICAgICAgICAgICAgb25PcGVuKGlzTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBpc01vYmlsZSA/ICdBbGxXYWxsZXRzJyA6ICdDb25uZWN0aW5nV2FsbGV0Q29ubmVjdCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNb2RhbENvbnRyb2xsZXIuc3RhdGUub3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKHZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLm9wZW4oeyB2aWV3IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbm5lY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUHJvZmlsZVdhbGxldHMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0FkZHJlc3MgPSB3Y0FkZHJlc3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0RGF0YSA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmNvbm5lY3RFeHRlcm5hbCh7XG4gICAgICAgICAgICAgICAgaWQ6IGNvbm5lY3Rvci5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBjb25uZWN0b3IudHlwZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogY29ubmVjdG9yLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIGNoYWluOiBuYW1lc3BhY2VcbiAgICAgICAgICAgIH0sIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdERhdGEpIHtcbiAgICAgICAgICAgICAgICBuZXdBZGRyZXNzID0gY29ubmVjdERhdGEuYWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBdXRoQ29ubmVjdG9yICYmIGFkZHJlc3MpIHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmhhbmRsZUF1dGhBY2NvdW50U3dpdGNoKHsgYWRkcmVzcywgbmFtZXNwYWNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdBZGRyZXNzO1xuICAgIH0sXG4gICAgYXN5bmMgc3dpdGNoQ29ubmVjdGlvbih7IGNvbm5lY3Rpb24sIGFkZHJlc3MsIG5hbWVzcGFjZSwgY2xvc2VNb2RhbE9uQ29ubmVjdCwgb25DaGFuZ2UgfSkge1xuICAgICAgICBsZXQgY3VycmVudEFkZHJlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LmNhaXBBZGRyZXNzO1xuICAgICAgICBpZiAoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzczogY3VycmVudEFkZHJlc3NQYXJzZWQgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgICAgIGN1cnJlbnRBZGRyZXNzID0gY3VycmVudEFkZHJlc3NQYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsLmdldENvbm5lY3Rpb25TdGF0dXMoY29ubmVjdGlvbiwgbmFtZXNwYWNlKTtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICBjYXNlICdhY3RpdmUnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QWRkcmVzcyA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmhhbmRsZUFjdGl2ZUNvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEFkZHJlc3MgJiYgbmV3QWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNTd2l0Y2hlZEFjY291bnQgPSBuZXdBZGRyZXNzLnRvTG93ZXJDYXNlKCkgIT09IGN1cnJlbnRBZGRyZXNzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPy4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogbmV3QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1N3aXRjaGVkQWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1N3aXRjaGVkV2FsbGV0OiBzdGF0dXMgPT09ICdhY3RpdmUnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBZGRyZXNzID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuaGFuZGxlRGlzY29ubmVjdGVkQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbE9uQ29ubmVjdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChuZXdBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPy4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogbmV3QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1N3aXRjaGVkQWNjb3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1N3aXRjaGVkV2FsbGV0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbm5lY3Rpb24gc3RhdHVzOiAke3N0YXR1c31gKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25Db250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0aW9uQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorController: () => (/* binding */ ConnectorController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ThemeController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultActiveConnectors = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, undefined]));\nconst defaultFilterByNamespaceMap = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, true]));\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    allConnectors: [],\n    connectors: [],\n    activeConnector: undefined,\n    filterByNamespace: undefined,\n    activeConnectorIds: defaultActiveConnectors,\n    filterByNamespaceMap: defaultFilterByNamespaceMap\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    initialize(namespaces) {\n        namespaces.forEach(namespace => {\n            const connectorId = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getConnectedConnectorId(namespace);\n            if (connectorId) {\n                ConnectorController.setConnectorId(connectorId, namespace);\n            }\n        });\n    },\n    setActiveConnector(connector) {\n        if (connector) {\n            state.activeConnector = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector);\n        }\n    },\n    setConnectors(connectors) {\n        const newConnectors = connectors.filter(newConnector => !state.allConnectors.some(existingConnector => existingConnector.id === newConnector.id &&\n            ConnectorController.getConnectorName(existingConnector.name) ===\n                ConnectorController.getConnectorName(newConnector.name) &&\n            existingConnector.chain === newConnector.chain));\n        /**\n         * We are reassigning the state of the proxy to a new array of new objects, ConnectorController can cause issues. So it is better to use ref in ConnectorController case.\n         * Check more about proxy on https://valtio.dev/docs/api/basic/proxy#Gotchas\n         * Check more about ref on https://valtio.dev/docs/api/basic/ref\n         */\n        newConnectors.forEach(connector => {\n            if (connector.type !== 'MULTI_CHAIN') {\n                state.allConnectors.push((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector));\n            }\n        });\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const connectorsFilteredByNamespaces = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        state.connectors = ConnectorController.mergeMultiChainConnectors(connectorsFilteredByNamespaces);\n    },\n    filterByNamespaces(enabledNamespaces) {\n        Object.keys(state.filterByNamespaceMap).forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = false;\n        });\n        enabledNamespaces.forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = true;\n        });\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    filterByNamespace(namespace, enabled) {\n        state.filterByNamespaceMap[namespace] = enabled;\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    updateConnectorsForEnabledNamespaces() {\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const enabledConnectors = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        const areAllNamespacesEnabled = ConnectorController.areAllNamespacesEnabled();\n        state.connectors = ConnectorController.mergeMultiChainConnectors(enabledConnectors);\n        if (areAllNamespacesEnabled) {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.clearFilterByNamespaces();\n        }\n        else {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.filterByNamespaces(enabledNamespaces);\n        }\n    },\n    getEnabledNamespaces() {\n        return Object.entries(state.filterByNamespaceMap)\n            .filter(([_, enabled]) => enabled)\n            .map(([namespace]) => namespace);\n    },\n    getEnabledConnectors(enabledNamespaces) {\n        return state.allConnectors.filter(connector => enabledNamespaces.includes(connector.chain));\n    },\n    areAllNamespacesEnabled() {\n        return Object.values(state.filterByNamespaceMap).every(enabled => enabled);\n    },\n    mergeMultiChainConnectors(connectors) {\n        const connectorsByNameMap = ConnectorController.generateConnectorMapByName(connectors);\n        const mergedConnectors = [];\n        connectorsByNameMap.forEach(keyConnectors => {\n            const firstItem = keyConnectors[0];\n            const isAuthConnector = firstItem?.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH;\n            if (keyConnectors.length > 1 && firstItem) {\n                mergedConnectors.push({\n                    name: firstItem.name,\n                    imageUrl: firstItem.imageUrl,\n                    imageId: firstItem.imageId,\n                    connectors: [...keyConnectors],\n                    type: isAuthConnector ? 'AUTH' : 'MULTI_CHAIN',\n                    // These values are just placeholders, we don't use them in multi-chain connector select screen\n                    chain: 'eip155',\n                    id: firstItem?.id || ''\n                });\n            }\n            else if (firstItem) {\n                mergedConnectors.push(firstItem);\n            }\n        });\n        return mergedConnectors;\n    },\n    generateConnectorMapByName(connectors) {\n        const connectorsByNameMap = new Map();\n        connectors.forEach(connector => {\n            const { name } = connector;\n            const connectorName = ConnectorController.getConnectorName(name);\n            if (!connectorName) {\n                return;\n            }\n            const connectorsByName = connectorsByNameMap.get(connectorName) || [];\n            const haveSameConnector = connectorsByName.find(c => c.chain === connector.chain);\n            if (!haveSameConnector) {\n                connectorsByName.push(connector);\n            }\n            connectorsByNameMap.set(connectorName, connectorsByName);\n        });\n        return connectorsByNameMap;\n    },\n    getConnectorName(name) {\n        if (!name) {\n            return name;\n        }\n        const nameOverrideMap = {\n            'Trust Wallet': 'Trust'\n        };\n        return nameOverrideMap[name] || name;\n    },\n    getUniqueConnectorsByName(connectors) {\n        const uniqueConnectors = [];\n        connectors.forEach(c => {\n            if (!uniqueConnectors.find(uc => uc.chain === c.chain)) {\n                uniqueConnectors.push(c);\n            }\n        });\n        return uniqueConnectors;\n    },\n    addConnector(connector) {\n        if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            const authConnector = connector;\n            const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n            const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n            const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n            authConnector?.provider?.syncDappData?.({\n                metadata: optionsState.metadata,\n                sdkVersion: optionsState.sdkVersion,\n                projectId: optionsState.projectId,\n                sdkType: optionsState.sdkType\n            });\n            authConnector?.provider?.syncTheme({\n                themeMode,\n                themeVariables,\n                w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n            });\n            ConnectorController.setConnectors([connector]);\n        }\n        else {\n            ConnectorController.setConnectors([connector]);\n        }\n    },\n    getAuthConnector(chainNamespace) {\n        const activeNamespace = chainNamespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const authConnector = state.connectors.find(c => c.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH);\n        if (!authConnector) {\n            return undefined;\n        }\n        if (authConnector?.connectors?.length) {\n            const connector = authConnector.connectors.find(c => c.chain === activeNamespace);\n            return connector;\n        }\n        return authConnector;\n    },\n    getAnnouncedConnectorRdns() {\n        return state.connectors.filter(c => c.type === 'ANNOUNCED').map(c => c.info?.rdns);\n    },\n    getConnectorById(id) {\n        return state.allConnectors.find(c => c.id === id);\n    },\n    getConnector({ id, rdns, namespace }) {\n        const namespaceToUse = namespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const connectorsByNamespace = state.allConnectors.filter(c => c.chain === namespaceToUse);\n        return connectorsByNamespace.find(c => c.explorerId === id || c.info?.rdns === rdns);\n    },\n    syncIfAuthConnector(connector) {\n        if (connector.id !== 'AUTH') {\n            return;\n        }\n        const authConnector = connector;\n        const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n        const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n        const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n        authConnector?.provider?.syncDappData?.({\n            metadata: optionsState.metadata,\n            sdkVersion: optionsState.sdkVersion,\n            sdkType: optionsState.sdkType,\n            projectId: optionsState.projectId\n        });\n        authConnector.provider.syncTheme({\n            themeMode,\n            themeVariables,\n            w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n        });\n    },\n    /**\n     * Returns the connectors filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectorsByNamespace(namespace) {\n        const namespaceConnectors = state.allConnectors.filter(connector => connector.chain === namespace);\n        return ConnectorController.mergeMultiChainConnectors(namespaceConnectors);\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_11__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    },\n    selectWalletConnector(wallet) {\n        const redirectView = _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.state.data?.redirectView;\n        const connector = ConnectorController.getConnector({\n            id: wallet.id,\n            rdns: wallet.rdns\n        });\n        _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_13__.MobileWalletUtil.handleMobileDeeplinkRedirect(connector?.explorerId || wallet.id, _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain);\n        if (connector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.push('ConnectingExternal', { connector, wallet, redirectView });\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.push('ConnectingWalletConnect', { wallet, redirectView });\n        }\n    },\n    /**\n     * Returns the connectors. If a namespace is provided, the connectors are filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by. If not provided, all connectors are returned.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectors(namespace) {\n        if (namespace) {\n            return ConnectorController.getConnectorsByNamespace(namespace);\n        }\n        return ConnectorController.mergeMultiChainConnectors(state.allConnectors);\n    },\n    /**\n     * Sets the filter by namespace and updates the connectors.\n     * @param namespace - The namespace to filter the connectors by.\n     */\n    setFilterByNamespace(namespace) {\n        state.filterByNamespace = namespace;\n        state.connectors = ConnectorController.getConnectors(namespace);\n        _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.setFilterByNamespace(namespace);\n    },\n    setConnectorId(connectorId, namespace) {\n        if (connectorId) {\n            state.activeConnectorIds = {\n                ...state.activeConnectorIds,\n                [namespace]: connectorId\n            };\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.setConnectedConnectorId(namespace, connectorId);\n        }\n    },\n    removeConnectorId(namespace) {\n        state.activeConnectorIds = {\n            ...state.activeConnectorIds,\n            [namespace]: undefined\n        };\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.deleteConnectedConnectorId(namespace);\n    },\n    getConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        return state.activeConnectorIds[namespace];\n    },\n    isConnected(namespace) {\n        if (!namespace) {\n            return Object.values(state.activeConnectorIds).some(id => Boolean(id));\n        }\n        return Boolean(state.activeConnectorIds[namespace]);\n    },\n    resetConnectorIds() {\n        state.activeConnectorIds = { ...defaultActiveConnectors };\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectorController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_14__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectorController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDVjtBQUNtQztBQUMvQjtBQUNRO0FBQ2Q7QUFDTjtBQUNZO0FBQ2Y7QUFDSTtBQUNJO0FBQ0Y7QUFDRjtBQUN2RCxtREFBbUQsc0VBQW9CO0FBQ3ZFLHVEQUF1RCxzRUFBb0I7QUFDM0U7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLGdDQUFnQyw4REFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0MsbURBQUc7QUFDdkM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1EQUFHO0FBQzVDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBYTtBQUN6QjtBQUNBO0FBQ0EsWUFBWSw0REFBYTtBQUN6QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwrREFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QiwrREFBYTtBQUMxQztBQUNBLGlDQUFpQyx3REFBUSxDQUFDLG9FQUFpQjtBQUMzRCw4QkFBOEIsZ0VBQWU7QUFDN0MsbUNBQW1DLGdFQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBFQUFvQjtBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtEQUFrRCxnRUFBZTtBQUNqRSxrRUFBa0UsK0RBQWE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHFCQUFxQjtBQUN4Qyw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFRLENBQUMsb0VBQWlCO0FBQ3ZELDBCQUEwQixnRUFBZTtBQUN6QywrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQW9CO0FBQ25ELFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQyxnRUFBZTtBQUNyRDtBQUNBLFlBQVksdUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkUsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG1FQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxxRUFBZ0Isa0VBQWtFLGdFQUFlO0FBQ3pHO0FBQ0EsWUFBWSxtRUFBZ0IsOEJBQThCLGlDQUFpQztBQUMzRjtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0IsbUNBQW1DLHNCQUFzQjtBQUNyRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWE7QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQVc7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQVc7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsK0VBQWlCO0FBQ3BEIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHJlZiwgc25hcHNob3QsIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQVZBSUxBQkxFX05BTUVTUEFDRVMsIENvbnN0YW50c1V0aWwsIGdldFczbVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgTW9iaWxlV2FsbGV0VXRpbCB9IGZyb20gJy4uL3V0aWxzL01vYmlsZVdhbGxldC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBUaGVtZUNvbnRyb2xsZXIgfSBmcm9tICcuL1RoZW1lQ29udHJvbGxlci5qcyc7XG5jb25zdCBkZWZhdWx0QWN0aXZlQ29ubmVjdG9ycyA9IE9iamVjdC5mcm9tRW50cmllcyhBVkFJTEFCTEVfTkFNRVNQQUNFUy5tYXAobmFtZXNwYWNlID0+IFtuYW1lc3BhY2UsIHVuZGVmaW5lZF0pKTtcbmNvbnN0IGRlZmF1bHRGaWx0ZXJCeU5hbWVzcGFjZU1hcCA9IE9iamVjdC5mcm9tRW50cmllcyhBVkFJTEFCTEVfTkFNRVNQQUNFUy5tYXAobmFtZXNwYWNlID0+IFtuYW1lc3BhY2UsIHRydWVdKSk7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGFsbENvbm5lY3RvcnM6IFtdLFxuICAgIGNvbm5lY3RvcnM6IFtdLFxuICAgIGFjdGl2ZUNvbm5lY3RvcjogdW5kZWZpbmVkLFxuICAgIGZpbHRlckJ5TmFtZXNwYWNlOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlQ29ubmVjdG9ySWRzOiBkZWZhdWx0QWN0aXZlQ29ubmVjdG9ycyxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZU1hcDogZGVmYXVsdEZpbHRlckJ5TmFtZXNwYWNlTWFwXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZShuYW1lc3BhY2VzKSB7XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChuYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0ZWRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RvcklkKSB7XG4gICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JJZChjb25uZWN0b3JJZCwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRBY3RpdmVDb25uZWN0b3IoY29ubmVjdG9yKSB7XG4gICAgICAgIGlmIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNvbm5lY3RvciA9IHJlZihjb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDb25uZWN0b3JzKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgbmV3Q29ubmVjdG9ycyA9IGNvbm5lY3RvcnMuZmlsdGVyKG5ld0Nvbm5lY3RvciA9PiAhc3RhdGUuYWxsQ29ubmVjdG9ycy5zb21lKGV4aXN0aW5nQ29ubmVjdG9yID0+IGV4aXN0aW5nQ29ubmVjdG9yLmlkID09PSBuZXdDb25uZWN0b3IuaWQgJiZcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yTmFtZShleGlzdGluZ0Nvbm5lY3Rvci5uYW1lKSA9PT1cbiAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3Rvck5hbWUobmV3Q29ubmVjdG9yLm5hbWUpICYmXG4gICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rvci5jaGFpbiA9PT0gbmV3Q29ubmVjdG9yLmNoYWluKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBhcmUgcmVhc3NpZ25pbmcgdGhlIHN0YXRlIG9mIHRoZSBwcm94eSB0byBhIG5ldyBhcnJheSBvZiBuZXcgb2JqZWN0cywgQ29ubmVjdG9yQ29udHJvbGxlciBjYW4gY2F1c2UgaXNzdWVzLiBTbyBpdCBpcyBiZXR0ZXIgdG8gdXNlIHJlZiBpbiBDb25uZWN0b3JDb250cm9sbGVyIGNhc2UuXG4gICAgICAgICAqIENoZWNrIG1vcmUgYWJvdXQgcHJveHkgb24gaHR0cHM6Ly92YWx0aW8uZGV2L2RvY3MvYXBpL2Jhc2ljL3Byb3h5I0dvdGNoYXNcbiAgICAgICAgICogQ2hlY2sgbW9yZSBhYm91dCByZWYgb24gaHR0cHM6Ly92YWx0aW8uZGV2L2RvY3MvYXBpL2Jhc2ljL3JlZlxuICAgICAgICAgKi9cbiAgICAgICAgbmV3Q29ubmVjdG9ycy5mb3JFYWNoKGNvbm5lY3RvciA9PiB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yLnR5cGUgIT09ICdNVUxUSV9DSEFJTicpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hbGxDb25uZWN0b3JzLnB1c2gocmVmKGNvbm5lY3RvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZW5hYmxlZE5hbWVzcGFjZXMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnNGaWx0ZXJlZEJ5TmFtZXNwYWNlcyA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0RW5hYmxlZENvbm5lY3RvcnMoZW5hYmxlZE5hbWVzcGFjZXMpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGNvbm5lY3RvcnNGaWx0ZXJlZEJ5TmFtZXNwYWNlcyk7XG4gICAgfSxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZXMoZW5hYmxlZE5hbWVzcGFjZXMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVuYWJsZWROYW1lc3BhY2VzLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci51cGRhdGVDb25uZWN0b3JzRm9yRW5hYmxlZE5hbWVzcGFjZXMoKTtcbiAgICB9LFxuICAgIGZpbHRlckJ5TmFtZXNwYWNlKG5hbWVzcGFjZSwgZW5hYmxlZCkge1xuICAgICAgICBzdGF0ZS5maWx0ZXJCeU5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdID0gZW5hYmxlZDtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci51cGRhdGVDb25uZWN0b3JzRm9yRW5hYmxlZE5hbWVzcGFjZXMoKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbm5lY3RvcnNGb3JFbmFibGVkTmFtZXNwYWNlcygpIHtcbiAgICAgICAgY29uc3QgZW5hYmxlZE5hbWVzcGFjZXMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgICAgIGNvbnN0IGVuYWJsZWRDb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRFbmFibGVkQ29ubmVjdG9ycyhlbmFibGVkTmFtZXNwYWNlcyk7XG4gICAgICAgIGNvbnN0IGFyZUFsbE5hbWVzcGFjZXNFbmFibGVkID0gQ29ubmVjdG9yQ29udHJvbGxlci5hcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCgpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGVuYWJsZWRDb25uZWN0b3JzKTtcbiAgICAgICAgaWYgKGFyZUFsbE5hbWVzcGFjZXNFbmFibGVkKSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmNsZWFyRmlsdGVyQnlOYW1lc3BhY2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmZpbHRlckJ5TmFtZXNwYWNlcyhlbmFibGVkTmFtZXNwYWNlcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEVuYWJsZWROYW1lc3BhY2VzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApXG4gICAgICAgICAgICAuZmlsdGVyKChbXywgZW5hYmxlZF0pID0+IGVuYWJsZWQpXG4gICAgICAgICAgICAubWFwKChbbmFtZXNwYWNlXSkgPT4gbmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGdldEVuYWJsZWRDb25uZWN0b3JzKGVuYWJsZWROYW1lc3BhY2VzKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hbGxDb25uZWN0b3JzLmZpbHRlcihjb25uZWN0b3IgPT4gZW5hYmxlZE5hbWVzcGFjZXMuaW5jbHVkZXMoY29ubmVjdG9yLmNoYWluKSk7XG4gICAgfSxcbiAgICBhcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApLmV2ZXJ5KGVuYWJsZWQgPT4gZW5hYmxlZCk7XG4gICAgfSxcbiAgICBtZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yc0J5TmFtZU1hcCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2VuZXJhdGVDb25uZWN0b3JNYXBCeU5hbWUoY29ubmVjdG9ycyk7XG4gICAgICAgIGNvbnN0IG1lcmdlZENvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgY29ubmVjdG9yc0J5TmFtZU1hcC5mb3JFYWNoKGtleUNvbm5lY3RvcnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RJdGVtID0ga2V5Q29ubmVjdG9yc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXV0aENvbm5lY3RvciA9IGZpcnN0SXRlbT8uaWQgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgICAgICBpZiAoa2V5Q29ubmVjdG9ycy5sZW5ndGggPiAxICYmIGZpcnN0SXRlbSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZENvbm5lY3RvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpcnN0SXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogZmlyc3RJdGVtLmltYWdlVXJsLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZUlkOiBmaXJzdEl0ZW0uaW1hZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yczogWy4uLmtleUNvbm5lY3RvcnNdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpc0F1dGhDb25uZWN0b3IgPyAnQVVUSCcgOiAnTVVMVElfQ0hBSU4nLFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSB2YWx1ZXMgYXJlIGp1c3QgcGxhY2Vob2xkZXJzLCB3ZSBkb24ndCB1c2UgdGhlbSBpbiBtdWx0aS1jaGFpbiBjb25uZWN0b3Igc2VsZWN0IHNjcmVlblxuICAgICAgICAgICAgICAgICAgICBjaGFpbjogJ2VpcDE1NScsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBmaXJzdEl0ZW0/LmlkIHx8ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaXJzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRDb25uZWN0b3JzLnB1c2goZmlyc3RJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRDb25uZWN0b3JzO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVDb25uZWN0b3JNYXBCeU5hbWUoY29ubmVjdG9ycykge1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzQnlOYW1lTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25uZWN0b3JzLmZvckVhY2goY29ubmVjdG9yID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY29ubmVjdG9yO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yTmFtZSA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yTmFtZShuYW1lKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdG9yTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcnNCeU5hbWUgPSBjb25uZWN0b3JzQnlOYW1lTWFwLmdldChjb25uZWN0b3JOYW1lKSB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGhhdmVTYW1lQ29ubmVjdG9yID0gY29ubmVjdG9yc0J5TmFtZS5maW5kKGMgPT4gYy5jaGFpbiA9PT0gY29ubmVjdG9yLmNoYWluKTtcbiAgICAgICAgICAgIGlmICghaGF2ZVNhbWVDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JzQnlOYW1lLnB1c2goY29ubmVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3RvcnNCeU5hbWVNYXAuc2V0KGNvbm5lY3Rvck5hbWUsIGNvbm5lY3RvcnNCeU5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RvcnNCeU5hbWVNYXA7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JOYW1lKG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lT3ZlcnJpZGVNYXAgPSB7XG4gICAgICAgICAgICAnVHJ1c3QgV2FsbGV0JzogJ1RydXN0J1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmFtZU92ZXJyaWRlTWFwW25hbWVdIHx8IG5hbWU7XG4gICAgfSxcbiAgICBnZXRVbmlxdWVDb25uZWN0b3JzQnlOYW1lKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgdW5pcXVlQ29ubmVjdG9ycyA9IFtdO1xuICAgICAgICBjb25uZWN0b3JzLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZUNvbm5lY3RvcnMuZmluZCh1YyA9PiB1Yy5jaGFpbiA9PT0gYy5jaGFpbikpIHtcbiAgICAgICAgICAgICAgICB1bmlxdWVDb25uZWN0b3JzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5pcXVlQ29ubmVjdG9ycztcbiAgICB9LFxuICAgIGFkZENvbm5lY3Rvcihjb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rvci5pZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkge1xuICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNTdGF0ZSA9IHNuYXBzaG90KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lTW9kZSA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lTW9kZTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lVmFyaWFibGVzID0gVGhlbWVDb250cm9sbGVyLmdldFNuYXBzaG90KCkudGhlbWVWYXJpYWJsZXM7XG4gICAgICAgICAgICBhdXRoQ29ubmVjdG9yPy5wcm92aWRlcj8uc3luY0RhcHBEYXRhPy4oe1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBvcHRpb25zU3RhdGUubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc2RrVmVyc2lvbjogb3B0aW9uc1N0YXRlLnNka1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zU3RhdGUucHJvamVjdElkLFxuICAgICAgICAgICAgICAgIHNka1R5cGU6IG9wdGlvbnNTdGF0ZS5zZGtUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF1dGhDb25uZWN0b3I/LnByb3ZpZGVyPy5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgICAgIHRoZW1lTW9kZSxcbiAgICAgICAgICAgICAgICB0aGVtZVZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgICB3M21UaGVtZVZhcmlhYmxlczogZ2V0VzNtVGhlbWVWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMsIHRoZW1lTW9kZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JzKFtjb25uZWN0b3JdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ycyhbY29ubmVjdG9yXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEF1dGhDb25uZWN0b3IoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTmFtZXNwYWNlID0gY2hhaW5OYW1lc3BhY2UgfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gc3RhdGUuY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCk7XG4gICAgICAgIGlmICghYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcj8uY29ubmVjdG9ycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBhdXRoQ29ubmVjdG9yLmNvbm5lY3RvcnMuZmluZChjID0+IGMuY2hhaW4gPT09IGFjdGl2ZU5hbWVzcGFjZSk7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdXRoQ29ubmVjdG9yO1xuICAgIH0sXG4gICAgZ2V0QW5ub3VuY2VkQ29ubmVjdG9yUmRucygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmNvbm5lY3RvcnMuZmlsdGVyKGMgPT4gYy50eXBlID09PSAnQU5OT1VOQ0VEJykubWFwKGMgPT4gYy5pbmZvPy5yZG5zKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3RvckJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFsbENvbm5lY3RvcnMuZmluZChjID0+IGMuaWQgPT09IGlkKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3Rvcih7IGlkLCByZG5zLCBuYW1lc3BhY2UgfSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VUb1VzZSA9IG5hbWVzcGFjZSB8fCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnNCeU5hbWVzcGFjZSA9IHN0YXRlLmFsbENvbm5lY3RvcnMuZmlsdGVyKGMgPT4gYy5jaGFpbiA9PT0gbmFtZXNwYWNlVG9Vc2UpO1xuICAgICAgICByZXR1cm4gY29ubmVjdG9yc0J5TmFtZXNwYWNlLmZpbmQoYyA9PiBjLmV4cGxvcmVySWQgPT09IGlkIHx8IGMuaW5mbz8ucmRucyA9PT0gcmRucyk7XG4gICAgfSxcbiAgICBzeW5jSWZBdXRoQ29ubmVjdG9yKGNvbm5lY3Rvcikge1xuICAgICAgICBpZiAoY29ubmVjdG9yLmlkICE9PSAnQVVUSCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gY29ubmVjdG9yO1xuICAgICAgICBjb25zdCBvcHRpb25zU3RhdGUgPSBzbmFwc2hvdChPcHRpb25zQ29udHJvbGxlci5zdGF0ZSk7XG4gICAgICAgIGNvbnN0IHRoZW1lTW9kZSA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lTW9kZTtcbiAgICAgICAgY29uc3QgdGhlbWVWYXJpYWJsZXMgPSBUaGVtZUNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZVZhcmlhYmxlcztcbiAgICAgICAgYXV0aENvbm5lY3Rvcj8ucHJvdmlkZXI/LnN5bmNEYXBwRGF0YT8uKHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBvcHRpb25zU3RhdGUubWV0YWRhdGEsXG4gICAgICAgICAgICBzZGtWZXJzaW9uOiBvcHRpb25zU3RhdGUuc2RrVmVyc2lvbixcbiAgICAgICAgICAgIHNka1R5cGU6IG9wdGlvbnNTdGF0ZS5zZGtUeXBlLFxuICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zU3RhdGUucHJvamVjdElkXG4gICAgICAgIH0pO1xuICAgICAgICBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLnN5bmNUaGVtZSh7XG4gICAgICAgICAgICB0aGVtZU1vZGUsXG4gICAgICAgICAgICB0aGVtZVZhcmlhYmxlcyxcbiAgICAgICAgICAgIHczbVRoZW1lVmFyaWFibGVzOiBnZXRXM21UaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbm5lY3RvcnMgZmlsdGVyZWQgYnkgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS5cbiAgICAgKiBAcmV0dXJucyBDb25uZWN0b3JXaXRoUHJvdmlkZXJzW10uXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yc0J5TmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VDb25uZWN0b3JzID0gc3RhdGUuYWxsQ29ubmVjdG9ycy5maWx0ZXIoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5jaGFpbiA9PT0gbmFtZXNwYWNlKTtcbiAgICAgICAgcmV0dXJuIENvbm5lY3RvckNvbnRyb2xsZXIubWVyZ2VNdWx0aUNoYWluQ29ubmVjdG9ycyhuYW1lc3BhY2VDb25uZWN0b3JzKTtcbiAgICB9LFxuICAgIGNhblN3aXRjaFRvU21hcnRBY2NvdW50KG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBpc1NtYXJ0QWNjb3VudEVuYWJsZWQgPSBDaGFpbkNvbnRyb2xsZXIuY2hlY2tJZlNtYXJ0QWNjb3VudEVuYWJsZWQoKTtcbiAgICAgICAgcmV0dXJuIChpc1NtYXJ0QWNjb3VudEVuYWJsZWQgJiZcbiAgICAgICAgICAgIGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuRU9BKTtcbiAgICB9LFxuICAgIHNlbGVjdFdhbGxldENvbm5lY3Rvcih3YWxsZXQpIHtcbiAgICAgICAgY29uc3QgcmVkaXJlY3RWaWV3ID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhPy5yZWRpcmVjdFZpZXc7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yKHtcbiAgICAgICAgICAgIGlkOiB3YWxsZXQuaWQsXG4gICAgICAgICAgICByZG5zOiB3YWxsZXQucmRuc1xuICAgICAgICB9KTtcbiAgICAgICAgTW9iaWxlV2FsbGV0VXRpbC5oYW5kbGVNb2JpbGVEZWVwbGlua1JlZGlyZWN0KGNvbm5lY3Rvcj8uZXhwbG9yZXJJZCB8fCB3YWxsZXQuaWQsIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGlmIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdGluZ0V4dGVybmFsJywgeyBjb25uZWN0b3IsIHdhbGxldCwgcmVkaXJlY3RWaWV3IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0aW5nV2FsbGV0Q29ubmVjdCcsIHsgd2FsbGV0LCByZWRpcmVjdFZpZXcgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbm5lY3RvcnMuIElmIGEgbmFtZXNwYWNlIGlzIHByb3ZpZGVkLCB0aGUgY29ubmVjdG9ycyBhcmUgZmlsdGVyZWQgYnkgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS4gSWYgbm90IHByb3ZpZGVkLCBhbGwgY29ubmVjdG9ycyBhcmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybnMgQ29ubmVjdG9yV2l0aFByb3ZpZGVyc1tdLlxuICAgICAqL1xuICAgIGdldENvbm5lY3RvcnMobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnNCeU5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLm1lcmdlTXVsdGlDaGFpbkNvbm5lY3RvcnMoc3RhdGUuYWxsQ29ubmVjdG9ycyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWx0ZXIgYnkgbmFtZXNwYWNlIGFuZCB1cGRhdGVzIHRoZSBjb25uZWN0b3JzLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS5cbiAgICAgKi9cbiAgICBzZXRGaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgICAgIHN0YXRlLmNvbm5lY3RvcnMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnMobmFtZXNwYWNlKTtcbiAgICAgICAgQXBpQ29udHJvbGxlci5zZXRGaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdG9ySWQoY29ubmVjdG9ySWQsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNvbm5lY3RvcklkcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICAgICAgW25hbWVzcGFjZV06IGNvbm5lY3RvcklkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBjb25uZWN0b3JJZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNvbm5lY3RvcklkKG5hbWVzcGFjZSkge1xuICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICBbbmFtZXNwYWNlXTogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZUNvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1tuYW1lc3BhY2VdO1xuICAgIH0sXG4gICAgaXNDb25uZWN0ZWQobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMpLnNvbWUoaWQgPT4gQm9vbGVhbihpZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCb29sZWFuKHN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1tuYW1lc3BhY2VdKTtcbiAgICB9LFxuICAgIHJlc2V0Q29ubmVjdG9ySWRzKCkge1xuICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMgPSB7IC4uLmRlZmF1bHRBY3RpdmVDb25uZWN0b3JzIH07XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgQ29ubmVjdG9yQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdG9yQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsController: () => (/* binding */ EnsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/EnsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    suggestions: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async resolveName(name) {\n        try {\n            return await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n        }\n        catch (e) {\n            const error = e;\n            throw new Error(error?.reasons?.[0]?.description || 'Error resolving name');\n        }\n    },\n    async isNameRegistered(name) {\n        try {\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async getSuggestions(value) {\n        try {\n            state.loading = true;\n            state.suggestions = [];\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.getEnsNameSuggestions(value);\n            state.suggestions = response.suggestions || [];\n            return state.suggestions;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching name suggestions');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    async getNamesForAddress(address) {\n        try {\n            const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n            if (!network) {\n                return [];\n            }\n            const cachedEns = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getEnsFromCacheForAddress(address);\n            if (cachedEns) {\n                return cachedEns;\n            }\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.reverseLookupEnsName({ address });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: response,\n                timestamp: Date.now()\n            });\n            return response;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching names for address');\n            throw new Error(errorMessage);\n        }\n    },\n    async registerName(name) {\n        const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(network?.chainNamespace)?.address;\n        const emailConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!network) {\n            throw new Error('Network not found');\n        }\n        if (!address || !emailConnector) {\n            throw new Error('Address or auth connector not found');\n        }\n        state.loading = true;\n        try {\n            const message = JSON.stringify({\n                name,\n                attributes: {},\n                // Unix timestamp\n                timestamp: Math.floor(Date.now() / 1000)\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({\n                onCancel() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n                }\n            });\n            const signature = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.signMessage(message);\n            state.loading = false;\n            const networkId = network.id;\n            if (!networkId) {\n                throw new Error('Network not found');\n            }\n            const coinType = _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__.EnsUtil.convertEVMChainIdToCoinType(Number(networkId));\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.registerEnsName({\n                coinType,\n                address: address,\n                signature: signature,\n                message\n            });\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('profileName', name, network.chainNamespace);\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: [\n                    {\n                        name,\n                        registered_at: new Date().toISOString(),\n                        updated_at: undefined,\n                        addresses: {},\n                        attributes: []\n                    }\n                ],\n                timestamp: Date.now()\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountNameSuccess');\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, `Error registering name ${name}`);\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    validateName(name) {\n        return /^[a-zA-Z0-9-]{4,}$/u.test(name);\n    },\n    parseEnsApiError(error, defaultError) {\n        const ensError = error;\n        return ensError?.reasons?.[0]?.description || defaultError;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst EnsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__.withErrorBoundary)(controller);\n//# sourceMappingURL=EnsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0s7QUFDeEI7QUFDUTtBQUNRO0FBQ1k7QUFDSztBQUNoQjtBQUNVO0FBQ0Y7QUFDTjtBQUN6RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnRkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdGQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0ZBQXVCLHdCQUF3QixTQUFTO0FBQzNGLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QixnRUFBZTtBQUN2Qyx3QkFBd0IsZ0VBQWU7QUFDdkMsK0JBQStCLHdFQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0Esb0JBQW9CLGtFQUFnQjtBQUNwQztBQUNBLGFBQWE7QUFDYixvQ0FBb0MsMEVBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQU87QUFDcEMsa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLGdFQUFlO0FBQzNCLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSw2RkFBNkYsS0FBSztBQUNsRyxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCLEdBQUc7QUFDakMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQiw4RUFBaUI7QUFDOUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvRW5zQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQge30gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgRW5zVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Vuc1V0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgIGxvYWRpbmc6IGZhbHNlXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgYXN5bmMgcmVzb2x2ZU5hbWUobmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmxvb2t1cEVuc05hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcj8ucmVhc29ucz8uWzBdPy5kZXNjcmlwdGlvbiB8fCAnRXJyb3IgcmVzb2x2aW5nIG5hbWUnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgaXNOYW1lUmVnaXN0ZXJlZChuYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5sb29rdXBFbnNOYW1lKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXRTdWdnZXN0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZS5zdWdnZXN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRFbnNOYW1lU3VnZ2VzdGlvbnModmFsdWUpO1xuICAgICAgICAgICAgc3RhdGUuc3VnZ2VzdGlvbnMgPSByZXNwb25zZS5zdWdnZXN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zdWdnZXN0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gRW5zQ29udHJvbGxlci5wYXJzZUVuc0FwaUVycm9yKGUsICdFcnJvciBmZXRjaGluZyBuYW1lIHN1Z2dlc3Rpb25zJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0TmFtZXNGb3JBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWNoZWRFbnMgPSBTdG9yYWdlVXRpbC5nZXRFbnNGcm9tQ2FjaGVGb3JBZGRyZXNzKGFkZHJlc3MpO1xuICAgICAgICAgICAgaWYgKGNhY2hlZEVucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRFbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLnJldmVyc2VMb29rdXBFbnNOYW1lKHsgYWRkcmVzcyB9KTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZUVuc0NhY2hlKHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGVuczogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gRW5zQ29udHJvbGxlci5wYXJzZUVuc0FwaUVycm9yKGUsICdFcnJvciBmZXRjaGluZyBuYW1lcyBmb3IgYWRkcmVzcycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJlZ2lzdGVyTmFtZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmV0d29yaz8uY2hhaW5OYW1lc3BhY2UpPy5hZGRyZXNzO1xuICAgICAgICBjb25zdCBlbWFpbENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFkZHJlc3MgfHwgIWVtYWlsQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FkZHJlc3Mgb3IgYXV0aCBjb25uZWN0b3Igbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICAgICAgICAgICAgLy8gVW5peCB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe1xuICAgICAgICAgICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1JlZ2lzdGVyQWNjb3VudE5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNpZ25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbmV0d29ya0lkID0gbmV0d29yay5pZDtcbiAgICAgICAgICAgIGlmICghbmV0d29ya0lkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29pblR5cGUgPSBFbnNVdGlsLmNvbnZlcnRFVk1DaGFpbklkVG9Db2luVHlwZShOdW1iZXIobmV0d29ya0lkKSk7XG4gICAgICAgICAgICBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5yZWdpc3RlckVuc05hbWUoe1xuICAgICAgICAgICAgICAgIGNvaW5UeXBlLFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3Byb2ZpbGVOYW1lJywgbmFtZSwgbmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVFbnNDYWNoZSh7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBlbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3Nlczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdSZWdpc3RlckFjY291bnROYW1lU3VjY2VzcycpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBFbnNDb250cm9sbGVyLnBhcnNlRW5zQXBpRXJyb3IoZSwgYEVycm9yIHJlZ2lzdGVyaW5nIG5hbWUgJHtuYW1lfWApO1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdSZWdpc3RlckFjY291bnROYW1lJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWRhdGVOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIC9eW2EtekEtWjAtOS1dezQsfSQvdS50ZXN0KG5hbWUpO1xuICAgIH0sXG4gICAgcGFyc2VFbnNBcGlFcnJvcihlcnJvciwgZGVmYXVsdEVycm9yKSB7XG4gICAgICAgIGNvbnN0IGVuc0Vycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBlbnNFcnJvcj8ucmVhc29ucz8uWzBdPy5kZXNjcmlwdGlvbiB8fCBkZWZhdWx0RXJyb3I7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgRW5zQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW5zQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventsController: () => (/* binding */ EventsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getAnalyticsUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({ baseUrl, clientId: null });\nconst excluded = ['MODAL_CREATED'];\n// SendBeacon payload limit is 64KB, using 45KB for a safe margin, also 45KB is approx ~200 events which is plenty\nconst MAX_PENDING_EVENTS_KB = 45;\n// Flush events every 10 seconds\nconst FLUSH_EVENTS_INTERVAL_MS = 1000 * 10;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    timestamp: Date.now(),\n    lastFlush: Date.now(),\n    reportedErrors: {},\n    data: {\n        type: 'track',\n        event: 'MODAL_CREATED'\n    },\n    pendingEvents: [],\n    subscribedToVisibilityChange: false,\n    walletImpressions: []\n});\n// -- Controller ---------------------------------------- //\nconst EventsController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.subscribe)(state, () => callback(state));\n    },\n    getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType,\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    shouldFlushEvents() {\n        const isOverMaxSize = JSON.stringify(state.pendingEvents).length / 1024 > MAX_PENDING_EVENTS_KB;\n        const isExpired = state.lastFlush + FLUSH_EVENTS_INTERVAL_MS < Date.now();\n        return isOverMaxSize || isExpired;\n    },\n    _setPendingEvent(payload) {\n        try {\n            let address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n            if ('address' in payload.data && payload.data.address) {\n                address = payload.data.address;\n            }\n            if (excluded.includes(payload.data.event) || typeof window === 'undefined') {\n                return;\n            }\n            const caipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getActiveCaipNetwork()?.caipNetworkId;\n            this.state.pendingEvents.push({\n                eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                url: window.location.href,\n                domain: window.location.hostname,\n                timestamp: payload.timestamp,\n                props: {\n                    ...payload.data,\n                    address,\n                    properties: {\n                        ...('properties' in payload.data ? payload.data.properties : {}),\n                        caipNetworkId\n                    }\n                }\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            const shouldFlush = EventsController.shouldFlushEvents();\n            // If the pending events are too large, submit them as sendBeacon has a limit of 64KB\n            if (shouldFlush) {\n                EventsController._submitPendingEvents();\n            }\n        }\n        catch (err) {\n            console.warn('_setPendingEvent', err);\n        }\n    },\n    sendEvent(data) {\n        state.timestamp = Date.now();\n        state.data = data;\n        const MANDATORY_EVENTS = [\n            'INITIALIZE',\n            'CONNECT_SUCCESS',\n            'SOCIAL_LOGIN_SUCCESS'\n        ];\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.features?.analytics || MANDATORY_EVENTS.includes(data.event)) {\n            EventsController._setPendingEvent(state);\n        }\n        // Calling this function here to make sure document is ready and defined before subscribing to visibility change\n        this.subscribeToFlushTriggers();\n    },\n    /**\n     * Adds a wallet impression item to the aggregated list. These are flushed as a single\n     * WALLET_IMPRESSION_V2 batch in _submitPendingEvents.\n     */\n    sendWalletImpressionEvent(item) {\n        state.walletImpressions.push(item);\n    },\n    _transformPendingEventsForBatch(events) {\n        try {\n            return events.filter(evt => {\n                const eventName = evt.props.event;\n                return eventName !== 'WALLET_IMPRESSION_V2';\n            });\n        }\n        catch {\n            return events;\n        }\n    },\n    _submitPendingEvents() {\n        state.lastFlush = Date.now();\n        if (state.pendingEvents.length === 0 && state.walletImpressions.length === 0) {\n            return;\n        }\n        try {\n            const batch = EventsController._transformPendingEventsForBatch(state.pendingEvents);\n            if (state.walletImpressions.length) {\n                batch.push({\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: Date.now(),\n                    props: {\n                        type: 'track',\n                        event: 'WALLET_IMPRESSION_V2',\n                        items: [...state.walletImpressions]\n                    }\n                });\n            }\n            api.sendBeacon({\n                path: '/batch',\n                params: EventsController.getSdkProperties(),\n                body: batch\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            state.pendingEvents = [];\n            state.walletImpressions = [];\n        }\n        catch (err) {\n            state.reportedErrors['FORBIDDEN'] = true;\n        }\n    },\n    subscribeToFlushTriggers() {\n        if (state.subscribedToVisibilityChange) {\n            return;\n        }\n        if (typeof document === 'undefined') {\n            return;\n        }\n        state.subscribedToVisibilityChange = true;\n        // Submit pending events when the document is hidden\n        document?.addEventListener?.('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                EventsController._submitPendingEvents();\n            }\n        });\n        // Submit pending events when the document is frozen (triggered on mobile)\n        document?.addEventListener?.('freeze', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events when the window is hidden\n        window?.addEventListener?.('pagehide', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events every 10 seconds\n        setInterval(() => {\n            EventsController._submitPendingEvents();\n        }, FLUSH_EVENTS_INTERVAL_MS);\n    }\n};\n//# sourceMappingURL=EventsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5RDtBQUNHO0FBQ1Y7QUFDSztBQUNJO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQiwwREFBUyxHQUFHLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlDQUFpQyxFQUFFLG9FQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFlO0FBQ2pEO0FBQ0EseUJBQXlCLG9FQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvRXZlbnRzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgRmV0Y2hVdGlsIH0gZnJvbSAnLi4vdXRpbHMvRmV0Y2hVdGlsLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGJhc2VVcmwgPSBDb3JlSGVscGVyVXRpbC5nZXRBbmFseXRpY3NVcmwoKTtcbmNvbnN0IGFwaSA9IG5ldyBGZXRjaFV0aWwoeyBiYXNlVXJsLCBjbGllbnRJZDogbnVsbCB9KTtcbmNvbnN0IGV4Y2x1ZGVkID0gWydNT0RBTF9DUkVBVEVEJ107XG4vLyBTZW5kQmVhY29uIHBheWxvYWQgbGltaXQgaXMgNjRLQiwgdXNpbmcgNDVLQiBmb3IgYSBzYWZlIG1hcmdpbiwgYWxzbyA0NUtCIGlzIGFwcHJveCB+MjAwIGV2ZW50cyB3aGljaCBpcyBwbGVudHlcbmNvbnN0IE1BWF9QRU5ESU5HX0VWRU5UU19LQiA9IDQ1O1xuLy8gRmx1c2ggZXZlbnRzIGV2ZXJ5IDEwIHNlY29uZHNcbmNvbnN0IEZMVVNIX0VWRU5UU19JTlRFUlZBTF9NUyA9IDEwMDAgKiAxMDtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIGxhc3RGbHVzaDogRGF0ZS5ub3coKSxcbiAgICByZXBvcnRlZEVycm9yczoge30sXG4gICAgZGF0YToge1xuICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICBldmVudDogJ01PREFMX0NSRUFURUQnXG4gICAgfSxcbiAgICBwZW5kaW5nRXZlbnRzOiBbXSxcbiAgICBzdWJzY3JpYmVkVG9WaXNpYmlsaXR5Q2hhbmdlOiBmYWxzZSxcbiAgICB3YWxsZXRJbXByZXNzaW9uczogW11cbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgRXZlbnRzQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIGdldFNka1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdElkLCBzZGtUeXBlLCBzZGtWZXJzaW9uIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICAgIHN0OiBzZGtUeXBlLFxuICAgICAgICAgICAgc3Y6IHNka1ZlcnNpb24gfHwgJ2h0bWwtd2FnbWktNC4yLjInXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzaG91bGRGbHVzaEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgaXNPdmVyTWF4U2l6ZSA9IEpTT04uc3RyaW5naWZ5KHN0YXRlLnBlbmRpbmdFdmVudHMpLmxlbmd0aCAvIDEwMjQgPiBNQVhfUEVORElOR19FVkVOVFNfS0I7XG4gICAgICAgIGNvbnN0IGlzRXhwaXJlZCA9IHN0YXRlLmxhc3RGbHVzaCArIEZMVVNIX0VWRU5UU19JTlRFUlZBTF9NUyA8IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBpc092ZXJNYXhTaXplIHx8IGlzRXhwaXJlZDtcbiAgICB9LFxuICAgIF9zZXRQZW5kaW5nRXZlbnQocGF5bG9hZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKT8uYWRkcmVzcztcbiAgICAgICAgICAgIGlmICgnYWRkcmVzcycgaW4gcGF5bG9hZC5kYXRhICYmIHBheWxvYWQuZGF0YS5hZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyA9IHBheWxvYWQuZGF0YS5hZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkLmluY2x1ZGVzKHBheWxvYWQuZGF0YS5ldmVudCkgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkID0gQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBOZXR3b3JrKCk/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBlbmRpbmdFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnRJZDogQ29yZUhlbHBlclV0aWwuZ2V0VVVJRCgpLFxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgZG9tYWluOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBwYXlsb2FkLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLigncHJvcGVydGllcycgaW4gcGF5bG9hZC5kYXRhID8gcGF5bG9hZC5kYXRhLnByb3BlcnRpZXMgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWlwTmV0d29ya0lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLnJlcG9ydGVkRXJyb3JzWydGT1JCSURERU4nXSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRmx1c2ggPSBFdmVudHNDb250cm9sbGVyLnNob3VsZEZsdXNoRXZlbnRzKCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcGVuZGluZyBldmVudHMgYXJlIHRvbyBsYXJnZSwgc3VibWl0IHRoZW0gYXMgc2VuZEJlYWNvbiBoYXMgYSBsaW1pdCBvZiA2NEtCXG4gICAgICAgICAgICBpZiAoc2hvdWxkRmx1c2gpIHtcbiAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zdWJtaXRQZW5kaW5nRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdfc2V0UGVuZGluZ0V2ZW50JywgZXJyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VuZEV2ZW50KGRhdGEpIHtcbiAgICAgICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgc3RhdGUuZGF0YSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IE1BTkRBVE9SWV9FVkVOVFMgPSBbXG4gICAgICAgICAgICAnSU5JVElBTElaRScsXG4gICAgICAgICAgICAnQ09OTkVDVF9TVUNDRVNTJyxcbiAgICAgICAgICAgICdTT0NJQUxfTE9HSU5fU1VDQ0VTUydcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5hbmFseXRpY3MgfHwgTUFOREFUT1JZX0VWRU5UUy5pbmNsdWRlcyhkYXRhLmV2ZW50KSkge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc2V0UGVuZGluZ0V2ZW50KHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gaGVyZSB0byBtYWtlIHN1cmUgZG9jdW1lbnQgaXMgcmVhZHkgYW5kIGRlZmluZWQgYmVmb3JlIHN1YnNjcmliaW5nIHRvIHZpc2liaWxpdHkgY2hhbmdlXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9GbHVzaFRyaWdnZXJzKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgd2FsbGV0IGltcHJlc3Npb24gaXRlbSB0byB0aGUgYWdncmVnYXRlZCBsaXN0LiBUaGVzZSBhcmUgZmx1c2hlZCBhcyBhIHNpbmdsZVxuICAgICAqIFdBTExFVF9JTVBSRVNTSU9OX1YyIGJhdGNoIGluIF9zdWJtaXRQZW5kaW5nRXZlbnRzLlxuICAgICAqL1xuICAgIHNlbmRXYWxsZXRJbXByZXNzaW9uRXZlbnQoaXRlbSkge1xuICAgICAgICBzdGF0ZS53YWxsZXRJbXByZXNzaW9ucy5wdXNoKGl0ZW0pO1xuICAgIH0sXG4gICAgX3RyYW5zZm9ybVBlbmRpbmdFdmVudHNGb3JCYXRjaChldmVudHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBldmVudHMuZmlsdGVyKGV2dCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZ0LnByb3BzLmV2ZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudE5hbWUgIT09ICdXQUxMRVRfSU1QUkVTU0lPTl9WMic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfc3VibWl0UGVuZGluZ0V2ZW50cygpIHtcbiAgICAgICAgc3RhdGUubGFzdEZsdXNoID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHN0YXRlLnBlbmRpbmdFdmVudHMubGVuZ3RoID09PSAwICYmIHN0YXRlLndhbGxldEltcHJlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IEV2ZW50c0NvbnRyb2xsZXIuX3RyYW5zZm9ybVBlbmRpbmdFdmVudHNGb3JCYXRjaChzdGF0ZS5wZW5kaW5nRXZlbnRzKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS53YWxsZXRJbXByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBiYXRjaC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJZDogQ29yZUhlbHBlclV0aWwuZ2V0VVVJRCgpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgICAgICBkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnV0FMTEVUX0lNUFJFU1NJT05fVjInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFsuLi5zdGF0ZS53YWxsZXRJbXByZXNzaW9uc11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBpLnNlbmRCZWFjb24oe1xuICAgICAgICAgICAgICAgIHBhdGg6ICcvYmF0Y2gnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogRXZlbnRzQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCksXG4gICAgICAgICAgICAgICAgYm9keTogYmF0Y2hcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUucmVwb3J0ZWRFcnJvcnNbJ0ZPUkJJRERFTiddID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5wZW5kaW5nRXZlbnRzID0gW107XG4gICAgICAgICAgICBzdGF0ZS53YWxsZXRJbXByZXNzaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlcG9ydGVkRXJyb3JzWydGT1JCSURERU4nXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YnNjcmliZVRvRmx1c2hUcmlnZ2VycygpIHtcbiAgICAgICAgaWYgKHN0YXRlLnN1YnNjcmliZWRUb1Zpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnN1YnNjcmliZWRUb1Zpc2liaWxpdHlDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAvLyBTdWJtaXQgcGVuZGluZyBldmVudHMgd2hlbiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuXG4gICAgICAgIGRvY3VtZW50Py5hZGRFdmVudExpc3RlbmVyPy4oJ3Zpc2liaWxpdHljaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3N1Ym1pdFBlbmRpbmdFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1Ym1pdCBwZW5kaW5nIGV2ZW50cyB3aGVuIHRoZSBkb2N1bWVudCBpcyBmcm96ZW4gKHRyaWdnZXJlZCBvbiBtb2JpbGUpXG4gICAgICAgIGRvY3VtZW50Py5hZGRFdmVudExpc3RlbmVyPy4oJ2ZyZWV6ZScsICgpID0+IHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3N1Ym1pdFBlbmRpbmdFdmVudHMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1Ym1pdCBwZW5kaW5nIGV2ZW50cyB3aGVuIHRoZSB3aW5kb3cgaXMgaGlkZGVuXG4gICAgICAgIHdpbmRvdz8uYWRkRXZlbnRMaXN0ZW5lcj8uKCdwYWdlaGlkZScsICgpID0+IHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3N1Ym1pdFBlbmRpbmdFdmVudHMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN1Ym1pdCBwZW5kaW5nIGV2ZW50cyBldmVyeSAxMCBzZWNvbmRzXG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3N1Ym1pdFBlbmRpbmdFdmVudHMoKTtcbiAgICAgICAgfSwgRkxVU0hfRVZFTlRTX0lOVEVSVkFMX01TKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRzQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModalController: () => (/* binding */ ModalController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/NetworkUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PublicStateController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    loadingNamespaceMap: new Map(),\n    open: false,\n    shake: false,\n    namespace: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async open(options) {\n        const namespace = options?.namespace;\n        const currentNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        const isSwitchingNamespace = namespace && namespace !== currentNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(options?.namespace)?.caipAddress;\n        const hasNoAdapters = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.noAdapters;\n        if (_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.state.wcBasic) {\n            // No need to add an await here if we are use basic\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch({\n                fetchNetworkImages: false,\n                fetchConnectorImages: false,\n                fetchWalletRanks: false\n            });\n        }\n        else {\n            await _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch();\n        }\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setFilterByNamespace(options?.namespace);\n        ModalController.setLoading(true, namespace);\n        if (namespace && isSwitchingNamespace) {\n            const namespaceNetwork = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getNetworkData(namespace)?.caipNetwork ||\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getRequestedCaipNetworks(namespace)[0];\n            if (namespaceNetwork) {\n                if (hasNoAdapters) {\n                    await _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(namespaceNetwork);\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('ConnectingWalletConnectBasic');\n                }\n                else {\n                    _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__.NetworkUtil.onSwitchNetwork({ network: namespaceNetwork, ignoreSwitchConfirmation: true });\n                }\n            }\n        }\n        else if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.manualWCControl || (hasNoAdapters && !caipAddress)) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isMobile()) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('AllWallets');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('ConnectingWalletConnectBasic');\n            }\n        }\n        else if (options?.view) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset(options.view, options.data);\n        }\n        else if (caipAddress) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Account');\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        }\n        state.open = true;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: true });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n            type: 'track',\n            event: 'MODAL_OPEN',\n            properties: { connected: Boolean(caipAddress) }\n        });\n    },\n    close() {\n        const isEmbeddedEnabled = _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.enableEmbedded;\n        const isConnected = Boolean(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipAddress);\n        // Only send the event if the modal is open and is about to be closed\n        if (state.open) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n                type: 'track',\n                event: 'MODAL_CLOSE',\n                properties: { connected: isConnected }\n            });\n        }\n        state.open = false;\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        ModalController.clearLoading();\n        if (isEmbeddedEnabled) {\n            if (isConnected) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('Account');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('Connect');\n            }\n        }\n        else {\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: false });\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.resetUri();\n    },\n    setLoading(loading, namespace) {\n        if (namespace) {\n            state.loadingNamespaceMap.set(namespace, loading);\n        }\n        state.loading = loading;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading });\n    },\n    clearLoading() {\n        state.loadingNamespaceMap.clear();\n        state.loading = false;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading: false });\n    },\n    shake() {\n        if (state.shake) {\n            return;\n        }\n        state.shake = true;\n        setTimeout(() => {\n            state.shake = false;\n        }, 500);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ModalController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.withErrorBoundary)(controller);\n//# sourceMappingURL=ModalController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDSztBQUN4QjtBQUNzQjtBQUNOO0FBQ1k7QUFDZjtBQUNJO0FBQ1U7QUFDRjtBQUNOO0FBQ0U7QUFDUTtBQUNWO0FBQ3pEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDLGdFQUFlO0FBQ2hEO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDLDhCQUE4QixnRUFBZTtBQUM3QyxZQUFZLDBFQUFvQjtBQUNoQztBQUNBLFlBQVksNERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxrQkFBa0IsNERBQWE7QUFDL0I7QUFDQSxRQUFRLHdFQUFtQjtBQUMzQjtBQUNBO0FBQ0EscUNBQXFDLGdFQUFlO0FBQ3BELGdCQUFnQixnRUFBZTtBQUMvQjtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFlO0FBQ3pDLG9CQUFvQixrRUFBZ0I7QUFDcEM7QUFDQTtBQUNBLG9CQUFvQiw4REFBVyxtQkFBbUIsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBaUI7QUFDbEMsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxZQUFZO0FBQ2hELFFBQVEsbUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGtDQUFrQyxvRUFBaUI7QUFDbkQsb0NBQW9DLGdFQUFlO0FBQ25EO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QjtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxZQUFZLDZFQUFxQixPQUFPLGFBQWE7QUFDckQ7QUFDQSxRQUFRLDBFQUFvQjtBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQXFCLE9BQU8sU0FBUztBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxnQkFBZ0I7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QiwrRUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvTW9kYWxDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7fSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IE5ldHdvcmtVdGlsIH0gZnJvbSAnLi4vdXRpbHMvTmV0d29ya1V0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi9BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFB1YmxpY1N0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vUHVibGljU3RhdGVDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBsb2FkaW5nTmFtZXNwYWNlTWFwOiBuZXcgTWFwKCksXG4gICAgb3BlbjogZmFsc2UsXG4gICAgc2hha2U6IGZhbHNlLFxuICAgIG5hbWVzcGFjZTogdW5kZWZpbmVkXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgYXN5bmMgb3BlbihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IG9wdGlvbnM/Lm5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY3VycmVudE5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgaXNTd2l0Y2hpbmdOYW1lc3BhY2UgPSBuYW1lc3BhY2UgJiYgbmFtZXNwYWNlICE9PSBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShvcHRpb25zPy5uYW1lc3BhY2UpPy5jYWlwQWRkcmVzcztcbiAgICAgICAgY29uc3QgaGFzTm9BZGFwdGVycyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5ub0FkYXB0ZXJzO1xuICAgICAgICBpZiAoQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUud2NCYXNpYykge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBhZGQgYW4gYXdhaXQgaGVyZSBpZiB3ZSBhcmUgdXNlIGJhc2ljXG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLnByZWZldGNoKHtcbiAgICAgICAgICAgICAgICBmZXRjaE5ldHdvcmtJbWFnZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZldGNoQ29ubmVjdG9ySW1hZ2VzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmZXRjaFdhbGxldFJhbmtzOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLnByZWZldGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRGaWx0ZXJCeU5hbWVzcGFjZShvcHRpb25zPy5uYW1lc3BhY2UpO1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyh0cnVlLCBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAobmFtZXNwYWNlICYmIGlzU3dpdGNoaW5nTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLmdldE5ldHdvcmtEYXRhKG5hbWVzcGFjZSk/LmNhaXBOZXR3b3JrIHx8XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpWzBdO1xuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZU5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTm9BZGFwdGVycykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBDaGFpbkNvbnRyb2xsZXIuc3dpdGNoQWN0aXZlTmV0d29yayhuYW1lc3BhY2VOZXR3b3JrKTtcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0aW5nV2FsbGV0Q29ubmVjdEJhc2ljJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBOZXR3b3JrVXRpbC5vblN3aXRjaE5ldHdvcmsoeyBuZXR3b3JrOiBuYW1lc3BhY2VOZXR3b3JrLCBpZ25vcmVTd2l0Y2hDb25maXJtYXRpb246IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLm1hbnVhbFdDQ29udHJvbCB8fCAoaGFzTm9BZGFwdGVycyAmJiAhY2FpcEFkZHJlc3MpKSB7XG4gICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQoJ0FsbFdhbGxldHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQoJ0Nvbm5lY3RpbmdXYWxsZXRDb25uZWN0QmFzaWMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zPy52aWV3KSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KG9wdGlvbnMudmlldywgb3B0aW9ucy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQWNjb3VudCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQ29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnTU9EQUxfT1BFTicsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGNvbm5lY3RlZDogQm9vbGVhbihjYWlwQWRkcmVzcykgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgICBjb25zdCBpc0VtYmVkZGVkRW5hYmxlZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZUVtYmVkZGVkO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IEJvb2xlYW4oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzKTtcbiAgICAgICAgLy8gT25seSBzZW5kIHRoZSBldmVudCBpZiB0aGUgbW9kYWwgaXMgb3BlbiBhbmQgaXMgYWJvdXQgdG8gYmUgY2xvc2VkXG4gICAgICAgIGlmIChzdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ01PREFMX0NMT1NFJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGNvbm5lY3RlZDogaXNDb25uZWN0ZWQgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUub3BlbiA9IGZhbHNlO1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdDb25uZWN0Jyk7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5jbGVhckxvYWRpbmcoKTtcbiAgICAgICAgaWYgKGlzRW1iZWRkZWRFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ0FjY291bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnJlc2V0VXJpKCk7XG4gICAgfSxcbiAgICBzZXRMb2FkaW5nKGxvYWRpbmcsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nTmFtZXNwYWNlTWFwLnNldChuYW1lc3BhY2UsIGxvYWRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nO1xuICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHsgbG9hZGluZyB9KTtcbiAgICB9LFxuICAgIGNsZWFyTG9hZGluZygpIHtcbiAgICAgICAgc3RhdGUubG9hZGluZ05hbWVzcGFjZU1hcC5jbGVhcigpO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICB9LFxuICAgIHNoYWtlKCkge1xuICAgICAgICBpZiAoc3RhdGUuc2hha2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zaGFrZSA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuc2hha2UgPSBmYWxzZTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBNb2RhbENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGFsQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OnRampController: () => (/* binding */ OnRampController),\n/* harmony export */   USDC_CURRENCY_DEFAULT: () => (/* binding */ USDC_CURRENCY_DEFAULT),\n/* harmony export */   USD_CURRENCY_DEFAULT: () => (/* binding */ USD_CURRENCY_DEFAULT)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\nconst USDC_CURRENCY_DEFAULT = {\n    id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n    name: 'USD Coin',\n    symbol: 'USDC',\n    networks: [\n        {\n            name: 'ethereum-mainnet',\n            display_name: 'Ethereum',\n            chain_id: '1',\n            contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n        },\n        {\n            name: 'polygon-mainnet',\n            display_name: 'Polygon',\n            chain_id: '137',\n            contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n        }\n    ]\n};\nconst USD_CURRENCY_DEFAULT = {\n    id: 'USD',\n    payment_method_limits: [\n        {\n            id: 'card',\n            min: '10.00',\n            max: '7500.00'\n        },\n        {\n            id: 'ach_bank_account',\n            min: '10.00',\n            max: '25000.00'\n        }\n    ]\n};\nconst defaultState = {\n    providers: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS,\n    selectedProvider: null,\n    error: null,\n    purchaseCurrency: USDC_CURRENCY_DEFAULT,\n    paymentCurrency: USD_CURRENCY_DEFAULT,\n    purchaseCurrencies: [USDC_CURRENCY_DEFAULT],\n    paymentCurrencies: [],\n    quotesLoading: false\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)(defaultState);\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setSelectedProvider(provider) {\n        if (provider && provider.name === 'meld') {\n            const activeChain = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n            const currency = activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.CHAIN.SOLANA ? 'SOL' : 'USDC';\n            const address = activeChain\n                ? (_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.get(activeChain)?.accountState?.address ?? '')\n                : '';\n            const url = new URL(provider.url);\n            url.searchParams.append('publicKey', _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.MELD_PUBLIC_KEY);\n            url.searchParams.append('destinationCurrencyCode', currency);\n            url.searchParams.append('walletAddress', address);\n            url.searchParams.append('externalCustomerId', _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__.OptionsController.state.projectId);\n            state.selectedProvider = { ...provider, url: url.toString() };\n        }\n        else {\n            state.selectedProvider = provider;\n        }\n    },\n    setOnrampProviders(providers) {\n        if (Array.isArray(providers) && providers.every(item => typeof item === 'string')) {\n            const validOnramp = providers;\n            const newProviders = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS.filter(provider => validOnramp.includes(provider.name));\n            state.providers = newProviders;\n        }\n        else {\n            state.providers = [];\n        }\n    },\n    setPurchaseCurrency(currency) {\n        state.purchaseCurrency = currency;\n    },\n    setPaymentCurrency(currency) {\n        state.paymentCurrency = currency;\n    },\n    setPurchaseAmount(amount) {\n        OnRampController.state.purchaseAmount = amount;\n    },\n    setPaymentAmount(amount) {\n        OnRampController.state.paymentAmount = amount;\n    },\n    async getAvailableCurrencies() {\n        const options = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampOptions();\n        state.purchaseCurrencies = options.purchaseCurrencies;\n        state.paymentCurrencies = options.paymentCurrencies;\n        state.paymentCurrency = options.paymentCurrencies[0] || USD_CURRENCY_DEFAULT;\n        state.purchaseCurrency = options.purchaseCurrencies[0] || USDC_CURRENCY_DEFAULT;\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchCurrencyImages(options.paymentCurrencies.map(currency => currency.id));\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchTokenImages(options.purchaseCurrencies.map(currency => currency.symbol));\n    },\n    async getQuote() {\n        state.quotesLoading = true;\n        try {\n            const quote = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampQuote({\n                purchaseCurrency: state.purchaseCurrency,\n                paymentCurrency: state.paymentCurrency,\n                amount: state.paymentAmount?.toString() || '0',\n                network: state.purchaseCurrency?.symbol\n            });\n            state.quotesLoading = false;\n            state.purchaseAmount = Number(quote?.purchaseAmount.amount);\n            return quote;\n        }\n        catch (error) {\n            state.error = error.message;\n            state.quotesLoading = false;\n            return null;\n        }\n        finally {\n            state.quotesLoading = false;\n        }\n    },\n    resetState() {\n        state.selectedProvider = null;\n        state.error = null;\n        state.purchaseCurrency = USDC_CURRENCY_DEFAULT;\n        state.paymentCurrency = USD_CURRENCY_DEFAULT;\n        state.purchaseCurrencies = [USDC_CURRENCY_DEFAULT];\n        state.paymentCurrencies = [];\n        state.paymentAmount = undefined;\n        state.purchaseAmount = undefined;\n        state.quotesLoading = false;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst OnRampController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller);\n//# sourceMappingURL=OnRampController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PblJhbXBDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1Q7QUFDeUI7QUFDWjtBQUNmO0FBQ29CO0FBQ2hCO0FBQ0k7QUFDcEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFFQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFlO0FBQy9DLDZDQUE2QywrREFBYTtBQUMxRDtBQUNBLG1CQUFtQixnRUFBZTtBQUNsQztBQUNBO0FBQ0EsaURBQWlELG9FQUFlO0FBQ2hFO0FBQ0E7QUFDQSwwREFBMEQsb0VBQWlCO0FBQzNFLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUVBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhCQUE4QixnRkFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFhO0FBQzNCLGNBQWMsNERBQWE7QUFDM0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnRkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PblJhbXBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBNRUxEX1BVQkxJQ19LRVksIE9OUkFNUF9QUk9WSURFUlMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmV4cG9ydCBjb25zdCBVU0RDX0NVUlJFTkNZX0RFRkFVTFQgPSB7XG4gICAgaWQ6ICcyYjkyMzE1ZC1lYWI3LTViZWYtODRmYS0wODlhMTMxMzMzZjUnLFxuICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgc3ltYm9sOiAnVVNEQycsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2V0aGVyZXVtLW1haW5uZXQnLFxuICAgICAgICAgICAgZGlzcGxheV9uYW1lOiAnRXRoZXJldW0nLFxuICAgICAgICAgICAgY2hhaW5faWQ6ICcxJyxcbiAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uLW1haW5uZXQnLFxuICAgICAgICAgICAgZGlzcGxheV9uYW1lOiAnUG9seWdvbicsXG4gICAgICAgICAgICBjaGFpbl9pZDogJzEzNycsXG4gICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHgyNzkxQmNhMWYyZGU0NjYxRUQ4OEEzMEM5OUE3YTk0NDlBYTg0MTc0J1xuICAgICAgICB9XG4gICAgXVxufTtcbmV4cG9ydCBjb25zdCBVU0RfQ1VSUkVOQ1lfREVGQVVMVCA9IHtcbiAgICBpZDogJ1VTRCcsXG4gICAgcGF5bWVudF9tZXRob2RfbGltaXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY2FyZCcsXG4gICAgICAgICAgICBtaW46ICcxMC4wMCcsXG4gICAgICAgICAgICBtYXg6ICc3NTAwLjAwJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2FjaF9iYW5rX2FjY291bnQnLFxuICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgbWF4OiAnMjUwMDAuMDAnXG4gICAgICAgIH1cbiAgICBdXG59O1xuY29uc3QgZGVmYXVsdFN0YXRlID0ge1xuICAgIHByb3ZpZGVyczogT05SQU1QX1BST1ZJREVSUyxcbiAgICBzZWxlY3RlZFByb3ZpZGVyOiBudWxsLFxuICAgIGVycm9yOiBudWxsLFxuICAgIHB1cmNoYXNlQ3VycmVuY3k6IFVTRENfQ1VSUkVOQ1lfREVGQVVMVCxcbiAgICBwYXltZW50Q3VycmVuY3k6IFVTRF9DVVJSRU5DWV9ERUZBVUxULFxuICAgIHB1cmNoYXNlQ3VycmVuY2llczogW1VTRENfQ1VSUkVOQ1lfREVGQVVMVF0sXG4gICAgcGF5bWVudEN1cnJlbmNpZXM6IFtdLFxuICAgIHF1b3Rlc0xvYWRpbmc6IGZhbHNlXG59O1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KGRlZmF1bHRTdGF0ZSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNldFNlbGVjdGVkUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyICYmIHByb3ZpZGVyLm5hbWUgPT09ICdtZWxkJykge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IGFjdGl2ZUNoYWluID09PSBDb25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQSA/ICdTT0wnIDogJ1VTREMnO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGFjdGl2ZUNoYWluXG4gICAgICAgICAgICAgICAgPyAoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQoYWN0aXZlQ2hhaW4pPy5hY2NvdW50U3RhdGU/LmFkZHJlc3MgPz8gJycpXG4gICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocHJvdmlkZXIudXJsKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdwdWJsaWNLZXknLCBNRUxEX1BVQkxJQ19LRVkpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2Rlc3RpbmF0aW9uQ3VycmVuY3lDb2RlJywgY3VycmVuY3kpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3dhbGxldEFkZHJlc3MnLCBhZGRyZXNzKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdleHRlcm5hbEN1c3RvbWVySWQnLCBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWQpO1xuICAgICAgICAgICAgc3RhdGUuc2VsZWN0ZWRQcm92aWRlciA9IHsgLi4ucHJvdmlkZXIsIHVybDogdXJsLnRvU3RyaW5nKCkgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGVkUHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0T25yYW1wUHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm92aWRlcnMpICYmIHByb3ZpZGVycy5ldmVyeShpdGVtID0+IHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkT25yYW1wID0gcHJvdmlkZXJzO1xuICAgICAgICAgICAgY29uc3QgbmV3UHJvdmlkZXJzID0gT05SQU1QX1BST1ZJREVSUy5maWx0ZXIocHJvdmlkZXIgPT4gdmFsaWRPbnJhbXAuaW5jbHVkZXMocHJvdmlkZXIubmFtZSkpO1xuICAgICAgICAgICAgc3RhdGUucHJvdmlkZXJzID0gbmV3UHJvdmlkZXJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUucHJvdmlkZXJzID0gW107XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFB1cmNoYXNlQ3VycmVuY3koY3VycmVuY3kpIHtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VDdXJyZW5jeSA9IGN1cnJlbmN5O1xuICAgIH0sXG4gICAgc2V0UGF5bWVudEN1cnJlbmN5KGN1cnJlbmN5KSB7XG4gICAgICAgIHN0YXRlLnBheW1lbnRDdXJyZW5jeSA9IGN1cnJlbmN5O1xuICAgIH0sXG4gICAgc2V0UHVyY2hhc2VBbW91bnQoYW1vdW50KSB7XG4gICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucHVyY2hhc2VBbW91bnQgPSBhbW91bnQ7XG4gICAgfSxcbiAgICBzZXRQYXltZW50QW1vdW50KGFtb3VudCkge1xuICAgICAgICBPblJhbXBDb250cm9sbGVyLnN0YXRlLnBheW1lbnRBbW91bnQgPSBhbW91bnQ7XG4gICAgfSxcbiAgICBhc3luYyBnZXRBdmFpbGFibGVDdXJyZW5jaWVzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0T25yYW1wT3B0aW9ucygpO1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUN1cnJlbmNpZXMgPSBvcHRpb25zLnB1cmNoYXNlQ3VycmVuY2llcztcbiAgICAgICAgc3RhdGUucGF5bWVudEN1cnJlbmNpZXMgPSBvcHRpb25zLnBheW1lbnRDdXJyZW5jaWVzO1xuICAgICAgICBzdGF0ZS5wYXltZW50Q3VycmVuY3kgPSBvcHRpb25zLnBheW1lbnRDdXJyZW5jaWVzWzBdIHx8IFVTRF9DVVJSRU5DWV9ERUZBVUxUO1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUN1cnJlbmN5ID0gb3B0aW9ucy5wdXJjaGFzZUN1cnJlbmNpZXNbMF0gfHwgVVNEQ19DVVJSRU5DWV9ERUZBVUxUO1xuICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoQ3VycmVuY3lJbWFnZXMob3B0aW9ucy5wYXltZW50Q3VycmVuY2llcy5tYXAoY3VycmVuY3kgPT4gY3VycmVuY3kuaWQpKTtcbiAgICAgICAgYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFRva2VuSW1hZ2VzKG9wdGlvbnMucHVyY2hhc2VDdXJyZW5jaWVzLm1hcChjdXJyZW5jeSA9PiBjdXJyZW5jeS5zeW1ib2wpKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldFF1b3RlKCkge1xuICAgICAgICBzdGF0ZS5xdW90ZXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHF1b3RlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0T25yYW1wUXVvdGUoe1xuICAgICAgICAgICAgICAgIHB1cmNoYXNlQ3VycmVuY3k6IHN0YXRlLnB1cmNoYXNlQ3VycmVuY3ksXG4gICAgICAgICAgICAgICAgcGF5bWVudEN1cnJlbmN5OiBzdGF0ZS5wYXltZW50Q3VycmVuY3ksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBzdGF0ZS5wYXltZW50QW1vdW50Py50b1N0cmluZygpIHx8ICcwJyxcbiAgICAgICAgICAgICAgICBuZXR3b3JrOiBzdGF0ZS5wdXJjaGFzZUN1cnJlbmN5Py5zeW1ib2xcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUucXVvdGVzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUucHVyY2hhc2VBbW91bnQgPSBOdW1iZXIocXVvdGU/LnB1cmNoYXNlQW1vdW50LmFtb3VudCk7XG4gICAgICAgICAgICByZXR1cm4gcXVvdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzdGF0ZS5lcnJvciA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICBzdGF0ZS5xdW90ZXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLnF1b3Rlc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVzZXRTdGF0ZSgpIHtcbiAgICAgICAgc3RhdGUuc2VsZWN0ZWRQcm92aWRlciA9IG51bGw7XG4gICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VDdXJyZW5jeSA9IFVTRENfQ1VSUkVOQ1lfREVGQVVMVDtcbiAgICAgICAgc3RhdGUucGF5bWVudEN1cnJlbmN5ID0gVVNEX0NVUlJFTkNZX0RFRkFVTFQ7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQ3VycmVuY2llcyA9IFtVU0RDX0NVUlJFTkNZX0RFRkFVTFRdO1xuICAgICAgICBzdGF0ZS5wYXltZW50Q3VycmVuY2llcyA9IFtdO1xuICAgICAgICBzdGF0ZS5wYXltZW50QW1vdW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUFtb3VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucXVvdGVzTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IE9uUmFtcENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9uUmFtcENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsController: () => (/* binding */ OptionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/OptionsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\");\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    features: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES,\n    projectId: '',\n    sdkType: 'appkit',\n    sdkVersion: 'html-wagmi-undefined',\n    defaultAccountTypes: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,\n    enableNetworkSwitch: true,\n    experimental_preferUniversalLinks: false,\n    remoteFeatures: {},\n    enableMobileFullScreen: false,\n    coinbasePreference: 'all'\n});\n// -- Controller ---------------------------------------- //\nconst OptionsController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setOptions(options) {\n        Object.assign(state, options);\n    },\n    setRemoteFeatures(remoteFeatures) {\n        if (!remoteFeatures) {\n            return;\n        }\n        const newRemoteFeatures = { ...state.remoteFeatures, ...remoteFeatures };\n        state.remoteFeatures = newRemoteFeatures;\n        if (state.remoteFeatures?.socials) {\n            state.remoteFeatures.socials = _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__.OptionsUtil.filterSocialsByPlatform(state.remoteFeatures.socials);\n        }\n        if (state.features?.pay) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setFeatures(features) {\n        if (!features) {\n            return;\n        }\n        if (!state.features) {\n            state.features = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES;\n        }\n        const newFeatures = { ...state.features, ...features };\n        state.features = newFeatures;\n        if (state.features?.pay && state.remoteFeatures) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setProjectId(projectId) {\n        state.projectId = projectId;\n    },\n    setCustomRpcUrls(customRpcUrls) {\n        state.customRpcUrls = customRpcUrls;\n    },\n    setAllWallets(allWallets) {\n        state.allWallets = allWallets;\n    },\n    setIncludeWalletIds(includeWalletIds) {\n        state.includeWalletIds = includeWalletIds;\n    },\n    setExcludeWalletIds(excludeWalletIds) {\n        state.excludeWalletIds = excludeWalletIds;\n    },\n    setFeaturedWalletIds(featuredWalletIds) {\n        state.featuredWalletIds = featuredWalletIds;\n    },\n    setTokens(tokens) {\n        state.tokens = tokens;\n    },\n    setTermsConditionsUrl(termsConditionsUrl) {\n        state.termsConditionsUrl = termsConditionsUrl;\n    },\n    setPrivacyPolicyUrl(privacyPolicyUrl) {\n        state.privacyPolicyUrl = privacyPolicyUrl;\n    },\n    setCustomWallets(customWallets) {\n        state.customWallets = customWallets;\n    },\n    setIsSiweEnabled(isSiweEnabled) {\n        state.isSiweEnabled = isSiweEnabled;\n    },\n    setIsUniversalProvider(isUniversalProvider) {\n        state.isUniversalProvider = isUniversalProvider;\n    },\n    setSdkVersion(sdkVersion) {\n        state.sdkVersion = sdkVersion;\n    },\n    setMetadata(metadata) {\n        state.metadata = metadata;\n    },\n    setDisableAppend(disableAppend) {\n        state.disableAppend = disableAppend;\n    },\n    setEIP6963Enabled(enableEIP6963) {\n        state.enableEIP6963 = enableEIP6963;\n    },\n    setDebug(debug) {\n        state.debug = debug;\n    },\n    setEnableWalletGuide(enableWalletGuide) {\n        state.enableWalletGuide = enableWalletGuide;\n    },\n    setEnableAuthLogger(enableAuthLogger) {\n        state.enableAuthLogger = enableAuthLogger;\n    },\n    setEnableWallets(enableWallets) {\n        state.enableWallets = enableWallets;\n    },\n    setPreferUniversalLinks(preferUniversalLinks) {\n        state.experimental_preferUniversalLinks = preferUniversalLinks;\n    },\n    setSIWX(siwx) {\n        if (siwx) {\n            for (const [key, isVal] of Object.entries(_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.SIWX_DEFAULTS)) {\n                /*\n                 * Only writes when siwx[key] is null or undefined\n                 * (use ||= if you only want to check falsy, not recommended here)\n                 */\n                siwx[key] ??= isVal;\n            }\n        }\n        state.siwx = siwx;\n    },\n    setConnectMethodsOrder(connectMethodsOrder) {\n        state.features = {\n            ...state.features,\n            connectMethodsOrder\n        };\n    },\n    setWalletFeaturesOrder(walletFeaturesOrder) {\n        state.features = {\n            ...state.features,\n            walletFeaturesOrder\n        };\n    },\n    setSocialsOrder(socialsOrder) {\n        state.remoteFeatures = {\n            ...state.remoteFeatures,\n            socials: socialsOrder\n        };\n    },\n    setCollapseWallets(collapseWallets) {\n        state.features = {\n            ...state.features,\n            collapseWallets\n        };\n    },\n    setEnableEmbedded(enableEmbedded) {\n        state.enableEmbedded = enableEmbedded;\n    },\n    setAllowUnsupportedChain(allowUnsupportedChain) {\n        state.allowUnsupportedChain = allowUnsupportedChain;\n    },\n    setManualWCControl(manualWCControl) {\n        state.manualWCControl = manualWCControl;\n    },\n    setEnableNetworkSwitch(enableNetworkSwitch) {\n        state.enableNetworkSwitch = enableNetworkSwitch;\n    },\n    setEnableMobileFullScreen(enableMobileFullScreen) {\n        state.enableMobileFullScreen = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isMobile() && enableMobileFullScreen;\n    },\n    setEnableReconnect(enableReconnect) {\n        state.enableReconnect = enableReconnect;\n    },\n    setCoinbasePreference(coinbasePreference) {\n        state.coinbasePreference = coinbasePreference;\n    },\n    setDefaultAccountTypes(defaultAccountType = {}) {\n        Object.entries(defaultAccountType).forEach(([namespace, accountType]) => {\n            if (accountType) {\n                // @ts-expect-error - Keys are validated by the param type\n                state.defaultAccountTypes[namespace] = accountType;\n            }\n        });\n    },\n    setUniversalProviderConfigOverride(universalProviderConfigOverride) {\n        state.universalProviderConfigOverride = universalProviderConfigOverride;\n    },\n    getUniversalProviderConfigOverride() {\n        return state.universalProviderConfigOverride;\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n//# sourceMappingURL=OptionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDYTtBQUNKO0FBQ0U7QUFDTjtBQUN0RDtBQUNBLGNBQWMscURBQUs7QUFDbkIsY0FBYyxrRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0VBQWE7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0EsMkNBQTJDLDhEQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrRUFBYTtBQUMxQztBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzREFBc0Qsa0VBQWE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1Q0FBdUMsb0VBQWM7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHNuYXBzaG90IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgT3B0aW9uc1V0aWwgfSBmcm9tICcuLi91dGlscy9PcHRpb25zVXRpbC5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGZlYXR1cmVzOiBDb25zdGFudHNVdGlsLkRFRkFVTFRfRkVBVFVSRVMsXG4gICAgcHJvamVjdElkOiAnJyxcbiAgICBzZGtUeXBlOiAnYXBwa2l0JyxcbiAgICBzZGtWZXJzaW9uOiAnaHRtbC13YWdtaS11bmRlZmluZWQnLFxuICAgIGRlZmF1bHRBY2NvdW50VHlwZXM6IENvbnN0YW50c1V0aWwuREVGQVVMVF9BQ0NPVU5UX1RZUEVTLFxuICAgIGVuYWJsZU5ldHdvcmtTd2l0Y2g6IHRydWUsXG4gICAgZXhwZXJpbWVudGFsX3ByZWZlclVuaXZlcnNhbExpbmtzOiBmYWxzZSxcbiAgICByZW1vdGVGZWF0dXJlczoge30sXG4gICAgZW5hYmxlTW9iaWxlRnVsbFNjcmVlbjogZmFsc2UsXG4gICAgY29pbmJhc2VQcmVmZXJlbmNlOiAnYWxsJ1xufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBPcHRpb25zQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHNldFJlbW90ZUZlYXR1cmVzKHJlbW90ZUZlYXR1cmVzKSB7XG4gICAgICAgIGlmICghcmVtb3RlRmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdSZW1vdGVGZWF0dXJlcyA9IHsgLi4uc3RhdGUucmVtb3RlRmVhdHVyZXMsIC4uLnJlbW90ZUZlYXR1cmVzIH07XG4gICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzID0gbmV3UmVtb3RlRmVhdHVyZXM7XG4gICAgICAgIGlmIChzdGF0ZS5yZW1vdGVGZWF0dXJlcz8uc29jaWFscykge1xuICAgICAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMuc29jaWFscyA9IE9wdGlvbnNVdGlsLmZpbHRlclNvY2lhbHNCeVBsYXRmb3JtKHN0YXRlLnJlbW90ZUZlYXR1cmVzLnNvY2lhbHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mZWF0dXJlcz8ucGF5KSB7XG4gICAgICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcy5lbWFpbCA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMuc29jaWFscyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGZWF0dXJlcyhmZWF0dXJlcykge1xuICAgICAgICBpZiAoIWZlYXR1cmVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdGF0ZS5mZWF0dXJlcykge1xuICAgICAgICAgICAgc3RhdGUuZmVhdHVyZXMgPSBDb25zdGFudHNVdGlsLkRFRkFVTFRfRkVBVFVSRVM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3RmVhdHVyZXMgPSB7IC4uLnN0YXRlLmZlYXR1cmVzLCAuLi5mZWF0dXJlcyB9O1xuICAgICAgICBzdGF0ZS5mZWF0dXJlcyA9IG5ld0ZlYXR1cmVzO1xuICAgICAgICBpZiAoc3RhdGUuZmVhdHVyZXM/LnBheSAmJiBzdGF0ZS5yZW1vdGVGZWF0dXJlcykge1xuICAgICAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMuZW1haWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzLnNvY2lhbHMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0UHJvamVjdElkKHByb2plY3RJZCkge1xuICAgICAgICBzdGF0ZS5wcm9qZWN0SWQgPSBwcm9qZWN0SWQ7XG4gICAgfSxcbiAgICBzZXRDdXN0b21ScGNVcmxzKGN1c3RvbVJwY1VybHMpIHtcbiAgICAgICAgc3RhdGUuY3VzdG9tUnBjVXJscyA9IGN1c3RvbVJwY1VybHM7XG4gICAgfSxcbiAgICBzZXRBbGxXYWxsZXRzKGFsbFdhbGxldHMpIHtcbiAgICAgICAgc3RhdGUuYWxsV2FsbGV0cyA9IGFsbFdhbGxldHM7XG4gICAgfSxcbiAgICBzZXRJbmNsdWRlV2FsbGV0SWRzKGluY2x1ZGVXYWxsZXRJZHMpIHtcbiAgICAgICAgc3RhdGUuaW5jbHVkZVdhbGxldElkcyA9IGluY2x1ZGVXYWxsZXRJZHM7XG4gICAgfSxcbiAgICBzZXRFeGNsdWRlV2FsbGV0SWRzKGV4Y2x1ZGVXYWxsZXRJZHMpIHtcbiAgICAgICAgc3RhdGUuZXhjbHVkZVdhbGxldElkcyA9IGV4Y2x1ZGVXYWxsZXRJZHM7XG4gICAgfSxcbiAgICBzZXRGZWF0dXJlZFdhbGxldElkcyhmZWF0dXJlZFdhbGxldElkcykge1xuICAgICAgICBzdGF0ZS5mZWF0dXJlZFdhbGxldElkcyA9IGZlYXR1cmVkV2FsbGV0SWRzO1xuICAgIH0sXG4gICAgc2V0VG9rZW5zKHRva2Vucykge1xuICAgICAgICBzdGF0ZS50b2tlbnMgPSB0b2tlbnM7XG4gICAgfSxcbiAgICBzZXRUZXJtc0NvbmRpdGlvbnNVcmwodGVybXNDb25kaXRpb25zVXJsKSB7XG4gICAgICAgIHN0YXRlLnRlcm1zQ29uZGl0aW9uc1VybCA9IHRlcm1zQ29uZGl0aW9uc1VybDtcbiAgICB9LFxuICAgIHNldFByaXZhY3lQb2xpY3lVcmwocHJpdmFjeVBvbGljeVVybCkge1xuICAgICAgICBzdGF0ZS5wcml2YWN5UG9saWN5VXJsID0gcHJpdmFjeVBvbGljeVVybDtcbiAgICB9LFxuICAgIHNldEN1c3RvbVdhbGxldHMoY3VzdG9tV2FsbGV0cykge1xuICAgICAgICBzdGF0ZS5jdXN0b21XYWxsZXRzID0gY3VzdG9tV2FsbGV0cztcbiAgICB9LFxuICAgIHNldElzU2l3ZUVuYWJsZWQoaXNTaXdlRW5hYmxlZCkge1xuICAgICAgICBzdGF0ZS5pc1Npd2VFbmFibGVkID0gaXNTaXdlRW5hYmxlZDtcbiAgICB9LFxuICAgIHNldElzVW5pdmVyc2FsUHJvdmlkZXIoaXNVbml2ZXJzYWxQcm92aWRlcikge1xuICAgICAgICBzdGF0ZS5pc1VuaXZlcnNhbFByb3ZpZGVyID0gaXNVbml2ZXJzYWxQcm92aWRlcjtcbiAgICB9LFxuICAgIHNldFNka1ZlcnNpb24oc2RrVmVyc2lvbikge1xuICAgICAgICBzdGF0ZS5zZGtWZXJzaW9uID0gc2RrVmVyc2lvbjtcbiAgICB9LFxuICAgIHNldE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHN0YXRlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfSxcbiAgICBzZXREaXNhYmxlQXBwZW5kKGRpc2FibGVBcHBlbmQpIHtcbiAgICAgICAgc3RhdGUuZGlzYWJsZUFwcGVuZCA9IGRpc2FibGVBcHBlbmQ7XG4gICAgfSxcbiAgICBzZXRFSVA2OTYzRW5hYmxlZChlbmFibGVFSVA2OTYzKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZUVJUDY5NjMgPSBlbmFibGVFSVA2OTYzO1xuICAgIH0sXG4gICAgc2V0RGVidWcoZGVidWcpIHtcbiAgICAgICAgc3RhdGUuZGVidWcgPSBkZWJ1ZztcbiAgICB9LFxuICAgIHNldEVuYWJsZVdhbGxldEd1aWRlKGVuYWJsZVdhbGxldEd1aWRlKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZVdhbGxldEd1aWRlID0gZW5hYmxlV2FsbGV0R3VpZGU7XG4gICAgfSxcbiAgICBzZXRFbmFibGVBdXRoTG9nZ2VyKGVuYWJsZUF1dGhMb2dnZXIpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlQXV0aExvZ2dlciA9IGVuYWJsZUF1dGhMb2dnZXI7XG4gICAgfSxcbiAgICBzZXRFbmFibGVXYWxsZXRzKGVuYWJsZVdhbGxldHMpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlV2FsbGV0cyA9IGVuYWJsZVdhbGxldHM7XG4gICAgfSxcbiAgICBzZXRQcmVmZXJVbml2ZXJzYWxMaW5rcyhwcmVmZXJVbml2ZXJzYWxMaW5rcykge1xuICAgICAgICBzdGF0ZS5leHBlcmltZW50YWxfcHJlZmVyVW5pdmVyc2FsTGlua3MgPSBwcmVmZXJVbml2ZXJzYWxMaW5rcztcbiAgICB9LFxuICAgIHNldFNJV1goc2l3eCkge1xuICAgICAgICBpZiAoc2l3eCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBpc1ZhbF0gb2YgT2JqZWN0LmVudHJpZXMoQ29uc3RhbnRzVXRpbC5TSVdYX0RFRkFVTFRTKSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogT25seSB3cml0ZXMgd2hlbiBzaXd4W2tleV0gaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgKiAodXNlIHx8PSBpZiB5b3Ugb25seSB3YW50IHRvIGNoZWNrIOKAnGZhbHN54oCdLCBub3QgcmVjb21tZW5kZWQgaGVyZSlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzaXd4W2tleV0gPz89IGlzVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNpd3ggPSBzaXd4O1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdE1ldGhvZHNPcmRlcihjb25uZWN0TWV0aG9kc09yZGVyKSB7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVzID0ge1xuICAgICAgICAgICAgLi4uc3RhdGUuZmVhdHVyZXMsXG4gICAgICAgICAgICBjb25uZWN0TWV0aG9kc09yZGVyXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRXYWxsZXRGZWF0dXJlc09yZGVyKHdhbGxldEZlYXR1cmVzT3JkZXIpIHtcbiAgICAgICAgc3RhdGUuZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5mZWF0dXJlcyxcbiAgICAgICAgICAgIHdhbGxldEZlYXR1cmVzT3JkZXJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldFNvY2lhbHNPcmRlcihzb2NpYWxzT3JkZXIpIHtcbiAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5yZW1vdGVGZWF0dXJlcyxcbiAgICAgICAgICAgIHNvY2lhbHM6IHNvY2lhbHNPcmRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0Q29sbGFwc2VXYWxsZXRzKGNvbGxhcHNlV2FsbGV0cykge1xuICAgICAgICBzdGF0ZS5mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLmZlYXR1cmVzLFxuICAgICAgICAgICAgY29sbGFwc2VXYWxsZXRzXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRFbmFibGVFbWJlZGRlZChlbmFibGVFbWJlZGRlZCkge1xuICAgICAgICBzdGF0ZS5lbmFibGVFbWJlZGRlZCA9IGVuYWJsZUVtYmVkZGVkO1xuICAgIH0sXG4gICAgc2V0QWxsb3dVbnN1cHBvcnRlZENoYWluKGFsbG93VW5zdXBwb3J0ZWRDaGFpbikge1xuICAgICAgICBzdGF0ZS5hbGxvd1Vuc3VwcG9ydGVkQ2hhaW4gPSBhbGxvd1Vuc3VwcG9ydGVkQ2hhaW47XG4gICAgfSxcbiAgICBzZXRNYW51YWxXQ0NvbnRyb2wobWFudWFsV0NDb250cm9sKSB7XG4gICAgICAgIHN0YXRlLm1hbnVhbFdDQ29udHJvbCA9IG1hbnVhbFdDQ29udHJvbDtcbiAgICB9LFxuICAgIHNldEVuYWJsZU5ldHdvcmtTd2l0Y2goZW5hYmxlTmV0d29ya1N3aXRjaCkge1xuICAgICAgICBzdGF0ZS5lbmFibGVOZXR3b3JrU3dpdGNoID0gZW5hYmxlTmV0d29ya1N3aXRjaDtcbiAgICB9LFxuICAgIHNldEVuYWJsZU1vYmlsZUZ1bGxTY3JlZW4oZW5hYmxlTW9iaWxlRnVsbFNjcmVlbikge1xuICAgICAgICBzdGF0ZS5lbmFibGVNb2JpbGVGdWxsU2NyZWVuID0gQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSAmJiBlbmFibGVNb2JpbGVGdWxsU2NyZWVuO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlUmVjb25uZWN0KGVuYWJsZVJlY29ubmVjdCkge1xuICAgICAgICBzdGF0ZS5lbmFibGVSZWNvbm5lY3QgPSBlbmFibGVSZWNvbm5lY3Q7XG4gICAgfSxcbiAgICBzZXRDb2luYmFzZVByZWZlcmVuY2UoY29pbmJhc2VQcmVmZXJlbmNlKSB7XG4gICAgICAgIHN0YXRlLmNvaW5iYXNlUHJlZmVyZW5jZSA9IGNvaW5iYXNlUHJlZmVyZW5jZTtcbiAgICB9LFxuICAgIHNldERlZmF1bHRBY2NvdW50VHlwZXMoZGVmYXVsdEFjY291bnRUeXBlID0ge30pIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdEFjY291bnRUeXBlKS5mb3JFYWNoKChbbmFtZXNwYWNlLCBhY2NvdW50VHlwZV0pID0+IHtcbiAgICAgICAgICAgIGlmIChhY2NvdW50VHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBLZXlzIGFyZSB2YWxpZGF0ZWQgYnkgdGhlIHBhcmFtIHR5cGVcbiAgICAgICAgICAgICAgICBzdGF0ZS5kZWZhdWx0QWNjb3VudFR5cGVzW25hbWVzcGFjZV0gPSBhY2NvdW50VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRVbml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlKHVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUpIHtcbiAgICAgICAgc3RhdGUudW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSA9IHVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGU7XG4gICAgfSxcbiAgICBnZXRVbml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlKCkge1xuICAgICAgICByZXR1cm4gc3RhdGUudW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZTtcbiAgICB9LFxuICAgIGdldFNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gc25hcHNob3Qoc3RhdGUpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcHRpb25zQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProviderController: () => (/* binding */ ProviderController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\nconst CLEAN_PROVIDERS_STATE = {\n    eip155: undefined,\n    solana: undefined,\n    polkadot: undefined,\n    bip122: undefined,\n    cosmos: undefined,\n    sui: undefined,\n    stacks: undefined\n};\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    providers: { ...CLEAN_PROVIDERS_STATE },\n    providerIds: { ...CLEAN_PROVIDERS_STATE }\n});\nconst ProviderController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeProviders(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.providers, () => callback(state.providers));\n    },\n    setProvider(chainNamespace, provider) {\n        if (chainNamespace && provider) {\n            state.providers[chainNamespace] = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(provider);\n        }\n    },\n    getProvider(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providers[chainNamespace];\n    },\n    setProviderId(chainNamespace, providerId) {\n        if (providerId) {\n            state.providerIds[chainNamespace] = providerId;\n        }\n    },\n    getProviderId(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providerIds[chainNamespace];\n    },\n    reset() {\n        state.providers = { ...CLEAN_PROVIDERS_STATE };\n        state.providerIds = { ...CLEAN_PROVIDERS_STATE };\n    },\n    resetChain(chainNamespace) {\n        state.providers[chainNamespace] = undefined;\n        state.providerIds[chainNamespace] = undefined;\n    }\n};\n//# sourceMappingURL=ProviderController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Qcm92aWRlckNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ087QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixpQkFBaUIsMEJBQTBCO0FBQzNDLG1CQUFtQjtBQUNuQixDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQSxlQUFlLHlEQUFTO0FBQ3hCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGVBQWUseURBQVM7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMsbURBQUc7QUFDakQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCO0FBQzVCLDhCQUE4QjtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1Byb3ZpZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgcmVmLCBzdWJzY3JpYmUgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuY29uc3QgQ0xFQU5fUFJPVklERVJTX1NUQVRFID0ge1xuICAgIGVpcDE1NTogdW5kZWZpbmVkLFxuICAgIHNvbGFuYTogdW5kZWZpbmVkLFxuICAgIHBvbGthZG90OiB1bmRlZmluZWQsXG4gICAgYmlwMTIyOiB1bmRlZmluZWQsXG4gICAgY29zbW9zOiB1bmRlZmluZWQsXG4gICAgc3VpOiB1bmRlZmluZWQsXG4gICAgc3RhY2tzOiB1bmRlZmluZWRcbn07XG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBwcm92aWRlcnM6IHsgLi4uQ0xFQU5fUFJPVklERVJTX1NUQVRFIH0sXG4gICAgcHJvdmlkZXJJZHM6IHsgLi4uQ0xFQU5fUFJPVklERVJTX1NUQVRFIH1cbn0pO1xuZXhwb3J0IGNvbnN0IFByb3ZpZGVyQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlLCAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlUHJvdmlkZXJzKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUucHJvdmlkZXJzLCAoKSA9PiBjYWxsYmFjayhzdGF0ZS5wcm92aWRlcnMpKTtcbiAgICB9LFxuICAgIHNldFByb3ZpZGVyKGNoYWluTmFtZXNwYWNlLCBwcm92aWRlcikge1xuICAgICAgICBpZiAoY2hhaW5OYW1lc3BhY2UgJiYgcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHN0YXRlLnByb3ZpZGVyc1tjaGFpbk5hbWVzcGFjZV0gPSByZWYocHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRQcm92aWRlcihjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIWNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5wcm92aWRlcnNbY2hhaW5OYW1lc3BhY2VdO1xuICAgIH0sXG4gICAgc2V0UHJvdmlkZXJJZChjaGFpbk5hbWVzcGFjZSwgcHJvdmlkZXJJZCkge1xuICAgICAgICBpZiAocHJvdmlkZXJJZCkge1xuICAgICAgICAgICAgc3RhdGUucHJvdmlkZXJJZHNbY2hhaW5OYW1lc3BhY2VdID0gcHJvdmlkZXJJZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UHJvdmlkZXJJZChjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIWNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5wcm92aWRlcklkc1tjaGFpbk5hbWVzcGFjZV07XG4gICAgfSxcbiAgICByZXNldCgpIHtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJzID0geyAuLi5DTEVBTl9QUk9WSURFUlNfU1RBVEUgfTtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJJZHMgPSB7IC4uLkNMRUFOX1BST1ZJREVSU19TVEFURSB9O1xuICAgIH0sXG4gICAgcmVzZXRDaGFpbihjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBzdGF0ZS5wcm92aWRlcnNbY2hhaW5OYW1lc3BhY2VdID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5wcm92aWRlcklkc1tjaGFpbk5hbWVzcGFjZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3ZpZGVyQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicStateController: () => (/* binding */ PublicStateController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    open: false,\n    selectedNetworkId: undefined,\n    activeChain: undefined,\n    initialized: false\n});\n// -- Controller ---------------------------------------- //\nconst PublicStateController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeOpen(callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, 'open', callback);\n    },\n    set(newState) {\n        Object.assign(state, { ...state, ...newState });\n    }\n};\n//# sourceMappingURL=PublicStateController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEO0FBQ0w7QUFDcEQ7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQVk7QUFDM0IsS0FBSztBQUNMO0FBQ0EsK0JBQStCLHVCQUF1QjtBQUN0RDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvUHVibGljU3RhdGVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBzZWxlY3RlZE5ldHdvcmtJZDogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZUNoYWluOiB1bmRlZmluZWQsXG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IFB1YmxpY1N0YXRlQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZU9wZW4oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZUtleShzdGF0ZSwgJ29wZW4nLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzZXQobmV3U3RhdGUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgeyAuLi5zdGF0ZSwgLi4ubmV3U3RhdGUgfSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1YmxpY1N0YXRlQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterController: () => (/* binding */ RouterController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModalController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n// -- Constants --------------------------------------------- //\nconst RESTRICTED_VIEWS_BASED_ON_USAGE = [\n    'ConnectingExternal',\n    'ConnectingMultiChain',\n    'ConnectingSocial',\n    'ConnectingFarcaster'\n];\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    view: 'Connect',\n    history: ['Connect'],\n    transactionStack: []\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    pushTransactionStack(action) {\n        state.transactionStack.push(action);\n    },\n    popTransactionStack(status) {\n        const action = state.transactionStack.pop();\n        if (!action) {\n            return;\n        }\n        const { onSuccess, onError, onCancel } = action;\n        switch (status) {\n            case 'success':\n                onSuccess?.();\n                break;\n            case 'error':\n                onError?.();\n                RouterController.goBack();\n                break;\n            case 'cancel':\n                onCancel?.();\n                RouterController.goBack();\n                break;\n            default:\n        }\n    },\n    push(view, data) {\n        let finalView = view;\n        let finalData = data;\n        if (_ApiController_js__WEBPACK_IMPORTED_MODULE_2__.ApiController.state.plan.hasExceededUsageLimit &&\n            RESTRICTED_VIEWS_BASED_ON_USAGE.includes(view)) {\n            finalView = 'UsageExceeded';\n            finalData = undefined;\n        }\n        if (finalView !== state.view) {\n            state.view = finalView;\n            state.history.push(finalView);\n            state.data = finalData;\n        }\n    },\n    reset(view, data) {\n        state.view = view;\n        state.history = [view];\n        state.data = data;\n    },\n    replace(view, data) {\n        const lastView = state.history.at(-1);\n        const isSameView = lastView === view;\n        if (!isSameView) {\n            state.view = view;\n            state.history[state.history.length - 1] = view;\n            state.data = data;\n        }\n    },\n    goBack() {\n        const isConnected = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipAddress;\n        const isFarcasterView = RouterController.state.view === 'ConnectingFarcaster';\n        const shouldReload = !isConnected && isFarcasterView;\n        if (state.history.length > 1) {\n            state.history.pop();\n            const [last] = state.history.slice(-1);\n            if (last) {\n                const isConnectView = last === 'Connect';\n                if (isConnected && isConnectView) {\n                    state.view = 'Account';\n                }\n                else {\n                    state.view = last;\n                }\n            }\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n        if (state.data?.wallet) {\n            state.data.wallet = undefined;\n        }\n        if (state.data?.redirectView) {\n            state.data.redirectView = undefined;\n        }\n        // Reloading the iframe contentwindow and doing the view animation in the modal causes a small freeze in the transition. Doing these separately fixes that.\n        setTimeout(() => {\n            if (shouldReload) {\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('farcasterUrl', undefined, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n                const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n                authConnector?.provider?.reload();\n                const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n                authConnector?.provider?.syncDappData?.({\n                    metadata: optionsState.metadata,\n                    sdkVersion: optionsState.sdkVersion,\n                    projectId: optionsState.projectId,\n                    sdkType: optionsState.sdkType\n                });\n            }\n        }, 100);\n    },\n    goBackToIndex(historyIndex) {\n        if (state.history.length > 1) {\n            state.history = state.history.slice(0, historyIndex + 1);\n            const [last] = state.history.slice(-1);\n            if (last) {\n                state.view = last;\n            }\n        }\n    },\n    goBackOrCloseModal() {\n        if (RouterController.state.history.length > 1) {\n            RouterController.goBack();\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst RouterController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__.withErrorBoundary)(controller);\n//# sourceMappingURL=RouterController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNhO0FBQ0k7QUFDZjtBQUNJO0FBQ1E7QUFDUjtBQUNJO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBZSwyQ0FBMkMsZ0VBQWU7QUFDekYsc0NBQXNDLHdFQUFtQjtBQUN6RDtBQUNBLHFDQUFxQyx3REFBUSxDQUFDLG9FQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzbmFwc2hvdCB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgUkVTVFJJQ1RFRF9WSUVXU19CQVNFRF9PTl9VU0FHRSA9IFtcbiAgICAnQ29ubmVjdGluZ0V4dGVybmFsJyxcbiAgICAnQ29ubmVjdGluZ011bHRpQ2hhaW4nLFxuICAgICdDb25uZWN0aW5nU29jaWFsJyxcbiAgICAnQ29ubmVjdGluZ0ZhcmNhc3Rlcidcbl07XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHZpZXc6ICdDb25uZWN0JyxcbiAgICBoaXN0b3J5OiBbJ0Nvbm5lY3QnXSxcbiAgICB0cmFuc2FjdGlvblN0YWNrOiBbXVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBwdXNoVHJhbnNhY3Rpb25TdGFjayhhY3Rpb24pIHtcbiAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25TdGFjay5wdXNoKGFjdGlvbik7XG4gICAgfSxcbiAgICBwb3BUcmFuc2FjdGlvblN0YWNrKHN0YXR1cykge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBzdGF0ZS50cmFuc2FjdGlvblN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb25TdWNjZXNzLCBvbkVycm9yLCBvbkNhbmNlbCB9ID0gYWN0aW9uO1xuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzPy4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICBvbkVycm9yPy4oKTtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2FuY2VsJzpcbiAgICAgICAgICAgICAgICBvbkNhbmNlbD8uKCk7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHB1c2godmlldywgZGF0YSkge1xuICAgICAgICBsZXQgZmluYWxWaWV3ID0gdmlldztcbiAgICAgICAgbGV0IGZpbmFsRGF0YSA9IGRhdGE7XG4gICAgICAgIGlmIChBcGlDb250cm9sbGVyLnN0YXRlLnBsYW4uaGFzRXhjZWVkZWRVc2FnZUxpbWl0ICYmXG4gICAgICAgICAgICBSRVNUUklDVEVEX1ZJRVdTX0JBU0VEX09OX1VTQUdFLmluY2x1ZGVzKHZpZXcpKSB7XG4gICAgICAgICAgICBmaW5hbFZpZXcgPSAnVXNhZ2VFeGNlZWRlZCc7XG4gICAgICAgICAgICBmaW5hbERhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbmFsVmlldyAhPT0gc3RhdGUudmlldykge1xuICAgICAgICAgICAgc3RhdGUudmlldyA9IGZpbmFsVmlldztcbiAgICAgICAgICAgIHN0YXRlLmhpc3RvcnkucHVzaChmaW5hbFZpZXcpO1xuICAgICAgICAgICAgc3RhdGUuZGF0YSA9IGZpbmFsRGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVzZXQodmlldywgZGF0YSkge1xuICAgICAgICBzdGF0ZS52aWV3ID0gdmlldztcbiAgICAgICAgc3RhdGUuaGlzdG9yeSA9IFt2aWV3XTtcbiAgICAgICAgc3RhdGUuZGF0YSA9IGRhdGE7XG4gICAgfSxcbiAgICByZXBsYWNlKHZpZXcsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgbGFzdFZpZXcgPSBzdGF0ZS5oaXN0b3J5LmF0KC0xKTtcbiAgICAgICAgY29uc3QgaXNTYW1lVmlldyA9IGxhc3RWaWV3ID09PSB2aWV3O1xuICAgICAgICBpZiAoIWlzU2FtZVZpZXcpIHtcbiAgICAgICAgICAgIHN0YXRlLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgc3RhdGUuaGlzdG9yeVtzdGF0ZS5oaXN0b3J5Lmxlbmd0aCAtIDFdID0gdmlldztcbiAgICAgICAgICAgIHN0YXRlLmRhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnb0JhY2soKSB7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzO1xuICAgICAgICBjb25zdCBpc0ZhcmNhc3RlclZpZXcgPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdDb25uZWN0aW5nRmFyY2FzdGVyJztcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVsb2FkID0gIWlzQ29ubmVjdGVkICYmIGlzRmFyY2FzdGVyVmlldztcbiAgICAgICAgaWYgKHN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgc3RhdGUuaGlzdG9yeS5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IFtsYXN0XSA9IHN0YXRlLmhpc3Rvcnkuc2xpY2UoLTEpO1xuICAgICAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Nvbm5lY3RWaWV3ID0gbGFzdCA9PT0gJ0Nvbm5lY3QnO1xuICAgICAgICAgICAgICAgIGlmIChpc0Nvbm5lY3RlZCAmJiBpc0Nvbm5lY3RWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZpZXcgPSAnQWNjb3VudCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52aWV3ID0gbGFzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZGF0YT8ud2FsbGV0KSB7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhLndhbGxldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZGF0YT8ucmVkaXJlY3RWaWV3KSB7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhLnJlZGlyZWN0VmlldyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWRpbmcgdGhlIGlmcmFtZSBjb250ZW50d2luZG93IGFuZCBkb2luZyB0aGUgdmlldyBhbmltYXRpb24gaW4gdGhlIG1vZGFsIGNhdXNlcyBhIHNtYWxsIGZyZWV6ZSBpbiB0aGUgdHJhbnNpdGlvbi4gRG9pbmcgdGhlc2Ugc2VwYXJhdGVseSBmaXhlcyB0aGF0LlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWxvYWQpIHtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2ZhcmNhc3RlclVybCcsIHVuZGVmaW5lZCwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgICAgICAgICAgYXV0aENvbm5lY3Rvcj8ucHJvdmlkZXI/LnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNTdGF0ZSA9IHNuYXBzaG90KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlKTtcbiAgICAgICAgICAgICAgICBhdXRoQ29ubmVjdG9yPy5wcm92aWRlcj8uc3luY0RhcHBEYXRhPy4oe1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogb3B0aW9uc1N0YXRlLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICBzZGtWZXJzaW9uOiBvcHRpb25zU3RhdGUuc2RrVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zU3RhdGUucHJvamVjdElkLFxuICAgICAgICAgICAgICAgICAgICBzZGtUeXBlOiBvcHRpb25zU3RhdGUuc2RrVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgIH0sXG4gICAgZ29CYWNrVG9JbmRleChoaXN0b3J5SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgc3RhdGUuaGlzdG9yeSA9IHN0YXRlLmhpc3Rvcnkuc2xpY2UoMCwgaGlzdG9yeUluZGV4ICsgMSk7XG4gICAgICAgICAgICBjb25zdCBbbGFzdF0gPSBzdGF0ZS5oaXN0b3J5LnNsaWNlKC0xKTtcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmlldyA9IGxhc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdvQmFja09yQ2xvc2VNb2RhbCgpIHtcbiAgICAgICAgaWYgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuaGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBSb3V0ZXJDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3V0ZXJDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SendController: () => (/* binding */ SendController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/SwapApiUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SnackController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    tokenBalances: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    setToken(token) {\n        if (token) {\n            state.token = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(token);\n        }\n    },\n    setTokenAmount(sendTokenAmount) {\n        state.sendTokenAmount = sendTokenAmount;\n    },\n    setReceiverAddress(receiverAddress) {\n        state.receiverAddress = receiverAddress;\n    },\n    setReceiverProfileImageUrl(receiverProfileImageUrl) {\n        state.receiverProfileImageUrl = receiverProfileImageUrl;\n    },\n    setReceiverProfileName(receiverProfileName) {\n        state.receiverProfileName = receiverProfileName;\n    },\n    setNetworkBalanceInUsd(networkBalanceInUSD) {\n        state.networkBalanceInUSD = networkBalanceInUSD;\n    },\n    setLoading(loading) {\n        state.loading = loading;\n    },\n    getSdkEventProperties(error) {\n        return {\n            message: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(error),\n            isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain) ===\n                _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            token: state.token?.symbol || '',\n            amount: state.sendTokenAmount ?? 0,\n            network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n        };\n    },\n    async sendToken() {\n        try {\n            SendController.setLoading(true);\n            switch (_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace) {\n                case 'eip155':\n                    await SendController.sendEvmToken();\n                    return;\n                case 'solana':\n                    await SendController.sendSolanaToken();\n                    return;\n                default:\n                    throw new Error('Unsupported chain');\n            }\n        }\n        catch (err) {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ErrorUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n        finally {\n            SendController.setLoading(false);\n        }\n    },\n    async sendEvmToken() {\n        const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        if (!activeChainNamespace) {\n            throw new Error('SendController:sendEvmToken - activeChainNamespace is required');\n        }\n        const activeAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(activeChainNamespace);\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        if (!SendController.state.token) {\n            throw new Error('A token is required');\n        }\n        if (SendController.state.token?.address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.address,\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendERC20Token({\n                receiverAddress: SendController.state.receiverAddress,\n                tokenAddress: SendController.state.token.address,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n        else {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.symbol || '',\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendNativeToken({\n                receiverAddress: SendController.state.receiverAddress,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n    },\n    async fetchTokenBalance(onError) {\n        state.loading = true;\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData(namespace)?.caipAddress ??\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        if (state.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isAllowedRetry(state.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.ONE_SEC_MS)) {\n            state.loading = false;\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balances = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__.BalanceUtil.getMyTokensWithBalance();\n                state.tokenBalances = balances;\n                state.lastRetry = undefined;\n                return balances;\n            }\n        }\n        catch (error) {\n            state.lastRetry = Date.now();\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_10__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            state.loading = false;\n        }\n        return [];\n    },\n    fetchNetworkBalance() {\n        if (state.tokenBalances.length === 0) {\n            return;\n        }\n        const networkTokenBalances = _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.mapBalancesToSwapTokens(state.tokenBalances);\n        if (!networkTokenBalances) {\n            return;\n        }\n        const networkToken = networkTokenBalances.find(token => token.address === (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getActiveNetworkTokenAddress)());\n        if (!networkToken) {\n            return;\n        }\n        state.networkBalanceInUSD = networkToken\n            ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()\n            : '0';\n    },\n    async sendNativeToken(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({});\n        const to = params.receiverAddress;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        const value = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const data = '0x';\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM,\n            to,\n            address,\n            data,\n            value: value ?? BigInt(0)\n        });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                token: SendController.state.token?.symbol || '',\n                amount: params.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('eip155');\n        SendController.resetSend();\n        return { hash };\n    },\n    async sendERC20Token(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        const amount = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        if (address && params.sendTokenAmount && params.receiverAddress && params.tokenAddress) {\n            const tokenAddress = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(params.tokenAddress);\n            if (!tokenAddress) {\n                throw new Error('SendController:sendERC20Token - tokenAddress is required');\n            }\n            const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.writeContract({\n                fromAddress: address,\n                tokenAddress,\n                args: [params.receiverAddress, amount ?? BigInt(0)],\n                method: 'transfer',\n                abi: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ContractUtil.getERC20Abi(tokenAddress),\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM\n            });\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_SUCCESS',\n                properties: {\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token?.symbol || '',\n                    amount: params.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    hash: hash || ''\n                }\n            });\n            SendController.resetSend();\n            return { hash };\n        }\n        return { hash: undefined };\n    },\n    async sendSolanaToken() {\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        let tokenMint = undefined;\n        if (SendController.state.token &&\n            SendController.state.token.address !== _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isCaipAddress(SendController.state.token.address)) {\n                tokenMint = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(SendController.state.token.address);\n            }\n            else {\n                tokenMint = SendController.state.token.address;\n            }\n        }\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: 'solana',\n            tokenMint,\n            to: SendController.state.receiverAddress,\n            value: SendController.state.sendTokenAmount\n        });\n        if (hash) {\n            state.hash = hash;\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('solana');\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: false,\n                token: SendController.state.token?.symbol || '',\n                amount: SendController.state.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        SendController.resetSend();\n    },\n    resetSend() {\n        state.token = undefined;\n        state.sendTokenAmount = undefined;\n        state.receiverAddress = undefined;\n        state.receiverProfileImageUrl = undefined;\n        state.receiverProfileName = undefined;\n        state.loading = false;\n        state.tokenBalances = [];\n    }\n};\n// Export the controller wrapped with our error boundary\nconst SendController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__.withErrorBoundary)(controller);\n//# sourceMappingURL=SendController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TZW5kQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThEO0FBQ0E7QUFDK0Q7QUFDekU7QUFDYztBQUNaO0FBQ2tEO0FBQzlDO0FBQ0U7QUFDTjtBQUNZO0FBQ1g7QUFDVTtBQUNSO0FBQ0E7QUFDRjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQixtREFBRztBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EscUJBQXFCLG9FQUFjO0FBQ25DLDRCQUE0QixzRkFBdUIsQ0FBQyxnRUFBZTtBQUNuRSxnQkFBZ0IsNEVBQW9CO0FBQ3BDO0FBQ0E7QUFDQSxxQkFBcUIsZ0VBQWU7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVM7QUFDekIsMEJBQTBCLDBFQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsZ0VBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNGQUF1QjtBQUN6RDtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLCtFQUFpQjtBQUMvQyIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TZW5kQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgcmVmLCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgRXJyb3JVdGlsLCBOdW1iZXJVdGlsLCBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb250cmFjdFV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBXM21GcmFtZVJwY0NvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtd2FsbGV0L3V0aWxzJztcbmltcG9ydCB7IEJhbGFuY2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQmFsYW5jZVV0aWwuanMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlTmV0d29ya1Rva2VuQWRkcmVzcywgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3dhcEFwaVV0aWwgfSBmcm9tICcuLi91dGlscy9Td2FwQXBpVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB0b2tlbkJhbGFuY2VzOiBbXSxcbiAgICBsb2FkaW5nOiBmYWxzZVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNldFRva2VuKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gPSByZWYodG9rZW4pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRUb2tlbkFtb3VudChzZW5kVG9rZW5BbW91bnQpIHtcbiAgICAgICAgc3RhdGUuc2VuZFRva2VuQW1vdW50ID0gc2VuZFRva2VuQW1vdW50O1xuICAgIH0sXG4gICAgc2V0UmVjZWl2ZXJBZGRyZXNzKHJlY2VpdmVyQWRkcmVzcykge1xuICAgICAgICBzdGF0ZS5yZWNlaXZlckFkZHJlc3MgPSByZWNlaXZlckFkZHJlc3M7XG4gICAgfSxcbiAgICBzZXRSZWNlaXZlclByb2ZpbGVJbWFnZVVybChyZWNlaXZlclByb2ZpbGVJbWFnZVVybCkge1xuICAgICAgICBzdGF0ZS5yZWNlaXZlclByb2ZpbGVJbWFnZVVybCA9IHJlY2VpdmVyUHJvZmlsZUltYWdlVXJsO1xuICAgIH0sXG4gICAgc2V0UmVjZWl2ZXJQcm9maWxlTmFtZShyZWNlaXZlclByb2ZpbGVOYW1lKSB7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyUHJvZmlsZU5hbWUgPSByZWNlaXZlclByb2ZpbGVOYW1lO1xuICAgIH0sXG4gICAgc2V0TmV0d29ya0JhbGFuY2VJblVzZChuZXR3b3JrQmFsYW5jZUluVVNEKSB7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtCYWxhbmNlSW5VU0QgPSBuZXR3b3JrQmFsYW5jZUluVVNEO1xuICAgIH0sXG4gICAgc2V0TG9hZGluZyhsb2FkaW5nKSB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nO1xuICAgIH0sXG4gICAgZ2V0U2RrRXZlbnRQcm9wZXJ0aWVzKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBDb3JlSGVscGVyVXRpbC5wYXJzZUVycm9yKGVycm9yKSxcbiAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pID09PVxuICAgICAgICAgICAgICAgIFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgIHRva2VuOiBzdGF0ZS50b2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgYW1vdW50OiBzdGF0ZS5zZW5kVG9rZW5BbW91bnQgPz8gMCxcbiAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZFRva2VuKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2VuZENvbnRyb2xsZXIuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHN3aXRjaCAoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VpcDE1NSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFNlbmRDb250cm9sbGVyLnNlbmRFdm1Ub2tlbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSAnc29sYW5hJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgU2VuZENvbnRyb2xsZXIuc2VuZFNvbGFuYVRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGNoYWluJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKEVycm9yVXRpbC5pc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgU2VuZENvbnRyb2xsZXIuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNlbmRFdm1Ub2tlbigpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW5OYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghYWN0aXZlQ2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VuZENvbnRyb2xsZXI6c2VuZEV2bVRva2VuIC0gYWN0aXZlQ2hhaW5OYW1lc3BhY2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50VHlwZSA9IGdldFByZWZlcnJlZEFjY291bnRUeXBlKGFjdGl2ZUNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQgfHwgIVNlbmRDb250cm9sbGVyLnN0YXRlLnJlY2VpdmVyQWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBhbW91bnQgYW5kIHJlY2VpdmVyIGFkZHJlc3MgYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHRva2VuIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuPy5hZGRyZXNzKSB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NFTkRfSU5JVElBVEVEJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBhY3RpdmVBY2NvdW50VHlwZSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBoYXNoIH0gPSBhd2FpdCBTZW5kQ29udHJvbGxlci5zZW5kRVJDMjBUb2tlbih7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXJBZGRyZXNzOiBTZW5kQ29udHJvbGxlci5zdGF0ZS5yZWNlaXZlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdG9rZW5BZGRyZXNzOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHNlbmRUb2tlbkFtb3VudDogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5xdWFudGl0eS5kZWNpbWFsc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaGFzaCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmhhc2ggPSBoYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTRU5EX0lOSVRJQVRFRCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogYWN0aXZlQWNjb3VudFR5cGUgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBoYXNoIH0gPSBhd2FpdCBTZW5kQ29udHJvbGxlci5zZW5kTmF0aXZlVG9rZW4oe1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyQWRkcmVzczogU2VuZENvbnRyb2xsZXIuc3RhdGUucmVjZWl2ZXJBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHNlbmRUb2tlbkFtb3VudDogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5xdWFudGl0eS5kZWNpbWFsc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaGFzaCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmhhc2ggPSBoYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRva2VuQmFsYW5jZShvbkVycm9yKSB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIGNvbnN0IGNoYWluID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8uY2FpcEFkZHJlc3MgPz9cbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGNhaXBBZGRyZXNzID8gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKGNhaXBBZGRyZXNzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0YXRlLmxhc3RSZXRyeSAmJlxuICAgICAgICAgICAgIUNvcmVIZWxwZXJVdGlsLmlzQWxsb3dlZFJldHJ5KHN0YXRlLmxhc3RSZXRyeSwgMzAgKiBDb25zdGFudHNVdGlsLk9ORV9TRUNfTVMpKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzICYmIGNoYWluSWQgJiYgY2hhaW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlcyA9IGF3YWl0IEJhbGFuY2VVdGlsLmdldE15VG9rZW5zV2l0aEJhbGFuY2UoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS50b2tlbkJhbGFuY2VzID0gYmFsYW5jZXM7XG4gICAgICAgICAgICAgICAgc3RhdGUubGFzdFJldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWxhbmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RSZXRyeSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignVG9rZW4gQmFsYW5jZSBVbmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGZldGNoTmV0d29ya0JhbGFuY2UoKSB7XG4gICAgICAgIGlmIChzdGF0ZS50b2tlbkJhbGFuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ldHdvcmtUb2tlbkJhbGFuY2VzID0gU3dhcEFwaVV0aWwubWFwQmFsYW5jZXNUb1N3YXBUb2tlbnMoc3RhdGUudG9rZW5CYWxhbmNlcyk7XG4gICAgICAgIGlmICghbmV0d29ya1Rva2VuQmFsYW5jZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXR3b3JrVG9rZW4gPSBuZXR3b3JrVG9rZW5CYWxhbmNlcy5maW5kKHRva2VuID0+IHRva2VuLmFkZHJlc3MgPT09IGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MoKSk7XG4gICAgICAgIGlmICghbmV0d29ya1Rva2VuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubmV0d29ya0JhbGFuY2VJblVTRCA9IG5ldHdvcmtUb2tlblxuICAgICAgICAgICAgPyBOdW1iZXJVdGlsLm11bHRpcGx5KG5ldHdvcmtUb2tlbi5xdWFudGl0eS5udW1lcmljLCBuZXR3b3JrVG9rZW4ucHJpY2UpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogJzAnO1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZE5hdGl2ZVRva2VuKHBhcmFtcykge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHt9KTtcbiAgICAgICAgY29uc3QgdG8gPSBwYXJhbXMucmVjZWl2ZXJBZGRyZXNzO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIucGFyc2VVbml0cyhwYXJhbXMuc2VuZFRva2VuQW1vdW50LnRvU3RyaW5nKCksIE51bWJlcihwYXJhbXMuZGVjaW1hbHMpKTtcbiAgICAgICAgY29uc3QgZGF0YSA9ICcweCc7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSA/PyBCaWdJbnQoMClcbiAgICAgICAgfSk7XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NFTkRfU1VDQ0VTUycsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKCdlaXAxNTUnKSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgICAgIHRva2VuOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyYW1zLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgaGFzaDogaGFzaCB8fCAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy51cGRhdGVCYWxhbmNlKCdlaXAxNTUnKTtcbiAgICAgICAgU2VuZENvbnRyb2xsZXIucmVzZXRTZW5kKCk7XG4gICAgICAgIHJldHVybiB7IGhhc2ggfTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRFUkMyMFRva2VuKHBhcmFtcykge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHtcbiAgICAgICAgICAgIG9uU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ0FjY291bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IENvbm5lY3Rpb25Db250cm9sbGVyLnBhcnNlVW5pdHMocGFyYW1zLnNlbmRUb2tlbkFtb3VudC50b1N0cmluZygpLCBOdW1iZXIocGFyYW1zLmRlY2ltYWxzKSk7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKT8uYWRkcmVzcztcbiAgICAgICAgaWYgKGFkZHJlc3MgJiYgcGFyYW1zLnNlbmRUb2tlbkFtb3VudCAmJiBwYXJhbXMucmVjZWl2ZXJBZGRyZXNzICYmIHBhcmFtcy50b2tlbkFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQWRkcmVzcyA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhwYXJhbXMudG9rZW5BZGRyZXNzKTtcbiAgICAgICAgICAgIGlmICghdG9rZW5BZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZW5kQ29udHJvbGxlcjpzZW5kRVJDMjBUb2tlbiAtIHRva2VuQWRkcmVzcyBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLndyaXRlQ29udHJhY3Qoe1xuICAgICAgICAgICAgICAgIGZyb21BZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRva2VuQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBhcmdzOiBbcGFyYW1zLnJlY2VpdmVyQWRkcmVzcywgYW1vdW50ID8/IEJpZ0ludCgwKV0sXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAndHJhbnNmZXInLFxuICAgICAgICAgICAgICAgIGFiaTogQ29udHJhY3RVdGlsLmdldEVSQzIwQWJpKHRva2VuQWRkcmVzcyksXG4gICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU0VORF9TVUNDRVNTJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSgnZWlwMTU1JykgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogcGFyYW1zLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoIHx8ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBTZW5kQ29udHJvbGxlci5yZXNldFNlbmQoKTtcbiAgICAgICAgICAgIHJldHVybiB7IGhhc2ggfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBoYXNoOiB1bmRlZmluZWQgfTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRTb2xhbmFUb2tlbigpIHtcbiAgICAgICAgaWYgKCFTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQgfHwgIVNlbmRDb250cm9sbGVyLnN0YXRlLnJlY2VpdmVyQWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBhbW91bnQgYW5kIHJlY2VpdmVyIGFkZHJlc3MgYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoVHJhbnNhY3Rpb25TdGFjayh7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdBY2NvdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdG9rZW5NaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4gJiZcbiAgICAgICAgICAgIFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3MgIT09IENvbnN0YW50c1V0aWwuU09MQU5BX05BVElWRV9UT0tFTl9BRERSRVNTKSB7XG4gICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNDYWlwQWRkcmVzcyhTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgIHRva2VuTWludCA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRva2VuTWludCA9IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogJ3NvbGFuYScsXG4gICAgICAgICAgICB0b2tlbk1pbnQsXG4gICAgICAgICAgICB0bzogU2VuZENvbnRyb2xsZXIuc3RhdGUucmVjZWl2ZXJBZGRyZXNzLFxuICAgICAgICAgICAgdmFsdWU6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgIHN0YXRlLmhhc2ggPSBoYXNoO1xuICAgICAgICB9XG4gICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8udXBkYXRlQmFsYW5jZSgnc29sYW5hJyk7XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NFTkRfU1VDQ0VTUycsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRva2VuOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgIGFtb3VudDogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICBoYXNoOiBoYXNoIHx8ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBTZW5kQ29udHJvbGxlci5yZXNldFNlbmQoKTtcbiAgICB9LFxuICAgIHJlc2V0U2VuZCgpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnNlbmRUb2tlbkFtb3VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5yZWNlaXZlclByb2ZpbGVJbWFnZVVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJQcm9maWxlTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS50b2tlbkJhbGFuY2VzID0gW107XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgU2VuZENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlbmRDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SnackController: () => (/* binding */ SnackController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    message: '',\n    variant: 'success',\n    svg: undefined,\n    open: false,\n    autoClose: true\n});\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    showLoading(message, options = {}) {\n        this._showMessage({ message, variant: 'loading', ...options });\n    },\n    showSuccess(message) {\n        this._showMessage({ message, variant: 'success' });\n    },\n    showSvg(message, svg) {\n        this._showMessage({ message, svg });\n    },\n    showError(message) {\n        const errorMessage = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(message);\n        this._showMessage({ message: errorMessage, variant: 'error' });\n    },\n    hide() {\n        state.message = DEFAULT_STATE.message;\n        state.variant = DEFAULT_STATE.variant;\n        state.svg = DEFAULT_STATE.svg;\n        state.open = DEFAULT_STATE.open;\n        state.autoClose = DEFAULT_STATE.autoClose;\n    },\n    _showMessage({ message, svg, variant = 'success', autoClose = DEFAULT_STATE.autoClose }) {\n        if (state.open) {\n            state.open = false;\n            setTimeout(() => {\n                state.message = message;\n                state.variant = variant;\n                state.svg = svg;\n                state.open = true;\n                state.autoClose = autoClose;\n            }, 150);\n        }\n        else {\n            state.message = message;\n            state.variant = variant;\n            state.svg = svg;\n            state.open = true;\n            state.autoClose = autoClose;\n        }\n    }\n};\nconst SnackController = controller;\n//# sourceMappingURL=SnackController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TbmFja0NvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMLHFDQUFxQztBQUNyQyw0QkFBNEIseUNBQXlDO0FBQ3JFLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUMsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDLDRCQUE0Qix5Q0FBeUM7QUFDckUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsd0VBQXdFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1NuYWNrQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgREVGQVVMVF9TVEFURSA9IE9iamVjdC5mcmVlemUoe1xuICAgIG1lc3NhZ2U6ICcnLFxuICAgIHZhcmlhbnQ6ICdzdWNjZXNzJyxcbiAgICBzdmc6IHVuZGVmaW5lZCxcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBhdXRvQ2xvc2U6IHRydWVcbn0pO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICAuLi5ERUZBVUxUX1NUQVRFXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNob3dMb2FkaW5nKG1lc3NhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9zaG93TWVzc2FnZSh7IG1lc3NhZ2UsIHZhcmlhbnQ6ICdsb2FkaW5nJywgLi4ub3B0aW9ucyB9KTtcbiAgICB9LFxuICAgIHNob3dTdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2UoeyBtZXNzYWdlLCB2YXJpYW50OiAnc3VjY2VzcycgfSk7XG4gICAgfSxcbiAgICBzaG93U3ZnKG1lc3NhZ2UsIHN2Zykge1xuICAgICAgICB0aGlzLl9zaG93TWVzc2FnZSh7IG1lc3NhZ2UsIHN2ZyB9KTtcbiAgICB9LFxuICAgIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IENvcmVIZWxwZXJVdGlsLnBhcnNlRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX3Nob3dNZXNzYWdlKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCB2YXJpYW50OiAnZXJyb3InIH0pO1xuICAgIH0sXG4gICAgaGlkZSgpIHtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9IERFRkFVTFRfU1RBVEUubWVzc2FnZTtcbiAgICAgICAgc3RhdGUudmFyaWFudCA9IERFRkFVTFRfU1RBVEUudmFyaWFudDtcbiAgICAgICAgc3RhdGUuc3ZnID0gREVGQVVMVF9TVEFURS5zdmc7XG4gICAgICAgIHN0YXRlLm9wZW4gPSBERUZBVUxUX1NUQVRFLm9wZW47XG4gICAgICAgIHN0YXRlLmF1dG9DbG9zZSA9IERFRkFVTFRfU1RBVEUuYXV0b0Nsb3NlO1xuICAgIH0sXG4gICAgX3Nob3dNZXNzYWdlKHsgbWVzc2FnZSwgc3ZnLCB2YXJpYW50ID0gJ3N1Y2Nlc3MnLCBhdXRvQ2xvc2UgPSBERUZBVUxUX1NUQVRFLmF1dG9DbG9zZSB9KSB7XG4gICAgICAgIGlmIChzdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdmcgPSBzdmc7XG4gICAgICAgICAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXV0b0Nsb3NlID0gYXV0b0Nsb3NlO1xuICAgICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgc3RhdGUudmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgICAgICBzdGF0ZS5zdmcgPSBzdmc7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLmF1dG9DbG9zZSA9IGF1dG9DbG9zZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgU25hY2tDb250cm9sbGVyID0gY29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNuYWNrQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryController: () => (/* binding */ TelemetryController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    enabled: true,\n    events: []\n});\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__.FetchUtil({ baseUrl: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getAnalyticsUrl(), clientId: null });\n// Rate limiting constants\nconst MAX_ERRORS_PER_MINUTE = 5;\nconst ONE_MINUTE_MS = 60 * 1000;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst TelemetryController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    async sendError(error, category) {\n        if (!state.enabled) {\n            return;\n        }\n        // Check rate limiting using events array\n        const now = Date.now();\n        const recentErrors = state.events.filter(event => {\n            const eventTime = new Date(event.properties.timestamp || '').getTime();\n            return now - eventTime < ONE_MINUTE_MS;\n        });\n        if (recentErrors.length >= MAX_ERRORS_PER_MINUTE) {\n            // Exit silently\n            return;\n        }\n        const errorEvent = {\n            type: 'error',\n            event: category,\n            properties: {\n                errorType: error.name,\n                errorMessage: error.message,\n                stackTrace: error.stack,\n                timestamp: new Date().toISOString()\n            }\n        };\n        state.events.push(errorEvent);\n        try {\n            if (typeof window === 'undefined') {\n                return;\n            }\n            const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            await api.post({\n                path: '/e',\n                params: {\n                    projectId,\n                    st: sdkType,\n                    sv: sdkVersion || 'html-wagmi-4.2.2'\n                },\n                body: {\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: new Date().toISOString(),\n                    props: {\n                        type: 'error',\n                        event: category,\n                        errorType: error.name,\n                        errorMessage: error.message,\n                        stackTrace: error.stack\n                    }\n                }\n            });\n        }\n        catch {\n            // Do nothing\n        }\n    },\n    enable() {\n        state.enabled = true;\n    },\n    disable() {\n        state.enabled = false;\n    },\n    clearEvents() {\n        state.events = [];\n    }\n};\n//# sourceMappingURL=TelemetryController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UZWxlbWV0cnlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQ1Y7QUFDUztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsMERBQVMsR0FBRyxTQUFTLG9FQUFjLG9DQUFvQztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDLEVBQUUsb0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZCQUE2QixvRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1RlbGVtZXRyeUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBGZXRjaFV0aWwgfSBmcm9tICcuLi91dGlscy9GZXRjaFV0aWwuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgREVGQVVMVF9TVEFURSA9IE9iamVjdC5mcmVlemUoe1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgZXZlbnRzOiBbXVxufSk7XG5jb25zdCBhcGkgPSBuZXcgRmV0Y2hVdGlsKHsgYmFzZVVybDogQ29yZUhlbHBlclV0aWwuZ2V0QW5hbHl0aWNzVXJsKCksIGNsaWVudElkOiBudWxsIH0pO1xuLy8gUmF0ZSBsaW1pdGluZyBjb25zdGFudHNcbmNvbnN0IE1BWF9FUlJPUlNfUEVSX01JTlVURSA9IDU7XG5jb25zdCBPTkVfTUlOVVRFX01TID0gNjAgKiAxMDAwO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICAuLi5ERUZBVUxUX1NUQVRFXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IFRlbGVtZXRyeUNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBhc3luYyBzZW5kRXJyb3IoZXJyb3IsIGNhdGVnb3J5KSB7XG4gICAgICAgIGlmICghc3RhdGUuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHJhdGUgbGltaXRpbmcgdXNpbmcgZXZlbnRzIGFycmF5XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJlY2VudEVycm9ycyA9IHN0YXRlLmV2ZW50cy5maWx0ZXIoZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRUaW1lID0gbmV3IERhdGUoZXZlbnQucHJvcGVydGllcy50aW1lc3RhbXAgfHwgJycpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBldmVudFRpbWUgPCBPTkVfTUlOVVRFX01TO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlY2VudEVycm9ycy5sZW5ndGggPj0gTUFYX0VSUk9SU19QRVJfTUlOVVRFKSB7XG4gICAgICAgICAgICAvLyBFeGl0IHNpbGVudGx5XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyb3JFdmVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBldmVudDogY2F0ZWdvcnksXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgZXJyb3JUeXBlOiBlcnJvci5uYW1lLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzdGFja1RyYWNlOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzdGF0ZS5ldmVudHMucHVzaChlcnJvckV2ZW50KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdElkLCBzZGtUeXBlLCBzZGtWZXJzaW9uIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgICAgIGF3YWl0IGFwaS5wb3N0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnL2UnLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHN0OiBzZGtUeXBlLFxuICAgICAgICAgICAgICAgICAgICBzdjogc2RrVmVyc2lvbiB8fCAnaHRtbC13YWdtaS00LjIuMidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJZDogQ29yZUhlbHBlclV0aWwuZ2V0VVVJRCgpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgICAgICBkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JUeXBlOiBlcnJvci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tUcmFjZTogZXJyb3Iuc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBzdGF0ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9LFxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIGNsZWFyRXZlbnRzKCkge1xuICAgICAgICBzdGF0ZS5ldmVudHMgPSBbXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGVsZW1ldHJ5Q29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeController: () => (/* binding */ ThemeController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    themeMode: 'dark',\n    themeVariables: {},\n    w3mThemeVariables: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setThemeMode(themeMode) {\n        state.themeMode = themeMode;\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariables = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeMode,\n                    themeVariables,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(themeVariables, themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    setThemeVariables(themeVariables) {\n        state.themeVariables = { ...state.themeVariables, ...themeVariables };\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariablesSnapshot = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeVariables: themeVariablesSnapshot,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(state.themeVariables, state.themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ThemeController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__.withErrorBoundary)(controller);\n//# sourceMappingURL=ThemeController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UaGVtZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDUDtBQUNNO0FBQ0g7QUFDL0Q7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDBFQUFvQjtBQUMzRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwRUFBb0I7QUFDM0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsd0RBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDhFQUFpQjtBQUNoRCIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UaGVtZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHNuYXBzaG90LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgZ2V0VzNtVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB0aGVtZU1vZGU6ICdkYXJrJyxcbiAgICB0aGVtZVZhcmlhYmxlczoge30sXG4gICAgdzNtVGhlbWVWYXJpYWJsZXM6IHVuZGVmaW5lZFxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzZXRUaGVtZU1vZGUodGhlbWVNb2RlKSB7XG4gICAgICAgIHN0YXRlLnRoZW1lTW9kZSA9IHRoZW1lTW9kZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgICAgIGlmIChhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhlbWVWYXJpYWJsZXMgPSBjb250cm9sbGVyLmdldFNuYXBzaG90KCkudGhlbWVWYXJpYWJsZXM7XG4gICAgICAgICAgICAgICAgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lVmFyaWFibGVzLFxuICAgICAgICAgICAgICAgICAgICB3M21UaGVtZVZhcmlhYmxlczogZ2V0VzNtVGhlbWVWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMsIHRoZW1lTW9kZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc3luYyB0aGVtZSB0byBhdXRoIGNvbm5lY3RvcicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRUaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcykge1xuICAgICAgICBzdGF0ZS50aGVtZVZhcmlhYmxlcyA9IHsgLi4uc3RhdGUudGhlbWVWYXJpYWJsZXMsIC4uLnRoZW1lVmFyaWFibGVzIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lVmFyaWFibGVzU25hcHNob3QgPSBjb250cm9sbGVyLmdldFNuYXBzaG90KCkudGhlbWVWYXJpYWJsZXM7XG4gICAgICAgICAgICAgICAgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZVZhcmlhYmxlczogdGhlbWVWYXJpYWJsZXNTbmFwc2hvdCxcbiAgICAgICAgICAgICAgICAgICAgdzNtVGhlbWVWYXJpYWJsZXM6IGdldFczbVRoZW1lVmFyaWFibGVzKHN0YXRlLnRoZW1lVmFyaWFibGVzLCBzdGF0ZS50aGVtZU1vZGUpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHN5bmMgdGhlbWUgdG8gYXV0aCBjb25uZWN0b3InKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0U25hcHNob3QoKSB7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdChzdGF0ZSk7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgVGhlbWVDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaGVtZUNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionsController: () => (/* binding */ TransactionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    transactions: [],\n    transactionsByYear: {},\n    lastNetworkInView: undefined,\n    loading: false,\n    empty: false,\n    next: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setLastNetworkInView(lastNetworkInView) {\n        state.lastNetworkInView = lastNetworkInView;\n    },\n    async fetchTransactions(accountAddress) {\n        if (!accountAddress) {\n            throw new Error(\"Transactions can't be fetched without an accountAddress\");\n        }\n        state.loading = true;\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__.BlockchainApiController.fetchTransactions({\n                account: accountAddress,\n                cursor: state.next,\n                chainId: _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId\n            });\n            const nonSpamTransactions = TransactionsController.filterSpamTransactions(response.data);\n            const sameChainTransactions = TransactionsController.filterByConnectedChain(nonSpamTransactions);\n            const filteredTransactions = [...state.transactions, ...sameChainTransactions];\n            state.loading = false;\n            state.transactions = filteredTransactions;\n            state.transactionsByYear = TransactionsController.groupTransactionsByYearAndMonth(state.transactionsByYear, sameChainTransactions);\n            state.empty = filteredTransactions.length === 0;\n            state.next = response.next ? response.next : undefined;\n        }\n        catch (error) {\n            const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_3__.EventsController.sendEvent({\n                type: 'track',\n                event: 'ERROR_FETCH_TRANSACTIONS',\n                properties: {\n                    address: accountAddress,\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.projectId,\n                    cursor: state.next,\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(activeChainNamespace) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Failed to fetch transactions');\n            state.loading = false;\n            state.empty = true;\n            state.next = undefined;\n        }\n    },\n    groupTransactionsByYearAndMonth(transactionsMap = {}, transactions = []) {\n        const grouped = transactionsMap;\n        transactions.forEach(transaction => {\n            const year = new Date(transaction.metadata.minedAt).getFullYear();\n            const month = new Date(transaction.metadata.minedAt).getMonth();\n            const yearTransactions = grouped[year] ?? {};\n            const monthTransactions = yearTransactions[month] ?? [];\n            // If there's a transaction with the same id, remove the old one\n            const newMonthTransactions = monthTransactions.filter(tx => tx.id !== transaction.id);\n            grouped[year] = {\n                ...yearTransactions,\n                [month]: [...newMonthTransactions, transaction].sort((a, b) => new Date(b.metadata.minedAt).getTime() - new Date(a.metadata.minedAt).getTime())\n            };\n        });\n        return grouped;\n    },\n    filterSpamTransactions(transactions) {\n        return transactions.filter(transaction => {\n            const isAllSpam = transaction.transfers.every(transfer => transfer.nft_info?.flags.is_spam === true);\n            return !isAllSpam;\n        });\n    },\n    filterByConnectedChain(transactions) {\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const filteredTransactions = transactions.filter(transaction => transaction.metadata.chain === chainId);\n        return filteredTransactions;\n    },\n    clearCursor() {\n        state.next = undefined;\n    },\n    resetTransactions() {\n        state.transactions = [];\n        state.transactionsByYear = {};\n        state.lastNetworkInView = undefined;\n        state.loading = false;\n        state.empty = false;\n        state.next = undefined;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst TransactionsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller, 'API_ERROR');\n//# sourceMappingURL=TransactionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDUztBQUNRO0FBQ1I7QUFDSztBQUNoQjtBQUNFO0FBQ0U7QUFDSjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnRkFBdUI7QUFDMUQ7QUFDQTtBQUNBLHlCQUF5QixnRUFBZTtBQUN4QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0VBQWU7QUFDeEQsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWlCO0FBQ2hEO0FBQ0Esb0NBQW9DLHNGQUF1QjtBQUMzRCx3QkFBd0IsNEVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sK0JBQStCLDhFQUFpQjtBQUN2RCIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB0cmFuc2FjdGlvbnM6IFtdLFxuICAgIHRyYW5zYWN0aW9uc0J5WWVhcjoge30sXG4gICAgbGFzdE5ldHdvcmtJblZpZXc6IHVuZGVmaW5lZCxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBlbXB0eTogZmFsc2UsXG4gICAgbmV4dDogdW5kZWZpbmVkXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHNldExhc3ROZXR3b3JrSW5WaWV3KGxhc3ROZXR3b3JrSW5WaWV3KSB7XG4gICAgICAgIHN0YXRlLmxhc3ROZXR3b3JrSW5WaWV3ID0gbGFzdE5ldHdvcmtJblZpZXc7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRyYW5zYWN0aW9ucyhhY2NvdW50QWRkcmVzcykge1xuICAgICAgICBpZiAoIWFjY291bnRBZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbnMgY2FuJ3QgYmUgZmV0Y2hlZCB3aXRob3V0IGFuIGFjY291bnRBZGRyZXNzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFRyYW5zYWN0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBzdGF0ZS5uZXh0LFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBub25TcGFtVHJhbnNhY3Rpb25zID0gVHJhbnNhY3Rpb25zQ29udHJvbGxlci5maWx0ZXJTcGFtVHJhbnNhY3Rpb25zKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2FtZUNoYWluVHJhbnNhY3Rpb25zID0gVHJhbnNhY3Rpb25zQ29udHJvbGxlci5maWx0ZXJCeUNvbm5lY3RlZENoYWluKG5vblNwYW1UcmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSBbLi4uc3RhdGUudHJhbnNhY3Rpb25zLCAuLi5zYW1lQ2hhaW5UcmFuc2FjdGlvbnNdO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25zID0gZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbnNCeVllYXIgPSBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmdyb3VwVHJhbnNhY3Rpb25zQnlZZWFyQW5kTW9udGgoc3RhdGUudHJhbnNhY3Rpb25zQnlZZWFyLCBzYW1lQ2hhaW5UcmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgc3RhdGUuZW1wdHkgPSBmaWx0ZXJlZFRyYW5zYWN0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICBzdGF0ZS5uZXh0ID0gcmVzcG9uc2UubmV4dCA/IHJlc3BvbnNlLm5leHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDaGFpbk5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnRVJST1JfRkVUQ0hfVFJBTlNBQ1RJT05TJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZCxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBzdGF0ZS5uZXh0LFxuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoYWN0aXZlQ2hhaW5OYW1lc3BhY2UpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5UXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdHJhbnNhY3Rpb25zJyk7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZS5uZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBncm91cFRyYW5zYWN0aW9uc0J5WWVhckFuZE1vbnRoKHRyYW5zYWN0aW9uc01hcCA9IHt9LCB0cmFuc2FjdGlvbnMgPSBbXSkge1xuICAgICAgICBjb25zdCBncm91cGVkID0gdHJhbnNhY3Rpb25zTWFwO1xuICAgICAgICB0cmFuc2FjdGlvbnMuZm9yRWFjaCh0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gbmV3IERhdGUodHJhbnNhY3Rpb24ubWV0YWRhdGEubWluZWRBdCkuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gbmV3IERhdGUodHJhbnNhY3Rpb24ubWV0YWRhdGEubWluZWRBdCkuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIGNvbnN0IHllYXJUcmFuc2FjdGlvbnMgPSBncm91cGVkW3llYXJdID8/IHt9O1xuICAgICAgICAgICAgY29uc3QgbW9udGhUcmFuc2FjdGlvbnMgPSB5ZWFyVHJhbnNhY3Rpb25zW21vbnRoXSA/PyBbXTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSB0cmFuc2FjdGlvbiB3aXRoIHRoZSBzYW1lIGlkLCByZW1vdmUgdGhlIG9sZCBvbmVcbiAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoVHJhbnNhY3Rpb25zID0gbW9udGhUcmFuc2FjdGlvbnMuZmlsdGVyKHR4ID0+IHR4LmlkICE9PSB0cmFuc2FjdGlvbi5pZCk7XG4gICAgICAgICAgICBncm91cGVkW3llYXJdID0ge1xuICAgICAgICAgICAgICAgIC4uLnllYXJUcmFuc2FjdGlvbnMsXG4gICAgICAgICAgICAgICAgW21vbnRoXTogWy4uLm5ld01vbnRoVHJhbnNhY3Rpb25zLCB0cmFuc2FjdGlvbl0uc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5tZXRhZGF0YS5taW5lZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLm1ldGFkYXRhLm1pbmVkQXQpLmdldFRpbWUoKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcbiAgICB9LFxuICAgIGZpbHRlclNwYW1UcmFuc2FjdGlvbnModHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnMuZmlsdGVyKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQWxsU3BhbSA9IHRyYW5zYWN0aW9uLnRyYW5zZmVycy5ldmVyeSh0cmFuc2ZlciA9PiB0cmFuc2Zlci5uZnRfaW5mbz8uZmxhZ3MuaXNfc3BhbSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gIWlzQWxsU3BhbTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWx0ZXJCeUNvbm5lY3RlZENoYWluKHRyYW5zYWN0aW9ucykge1xuICAgICAgICBjb25zdCBjaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHJhbnNhY3Rpb24gPT4gdHJhbnNhY3Rpb24ubWV0YWRhdGEuY2hhaW4gPT09IGNoYWluSWQpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgfSxcbiAgICBjbGVhckN1cnNvcigpIHtcbiAgICAgICAgc3RhdGUubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHJlc2V0VHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbnMgPSBbXTtcbiAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25zQnlZZWFyID0ge307XG4gICAgICAgIHN0YXRlLmxhc3ROZXR3b3JrSW5WaWV3ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgVHJhbnNhY3Rpb25zQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIsICdBUElfRVJST1InKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetUtil: () => (/* binding */ AssetUtil)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/AssetController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n\n\n\nconst namespaceImageIds = {\n    // Ethereum\n    eip155: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',\n    // Solana\n    solana: 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n    // Polkadot\n    polkadot: '',\n    // Bitcoin\n    bip122: '0b4838db-0161-4ffe-022d-532bf03dba00',\n    // Cosmos\n    cosmos: '',\n    // Sui\n    sui: '',\n    // Stacks\n    stacks: ''\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    networkImagePromises: {}\n});\n// -- Util ---------------------------------------- //\nconst AssetUtil = {\n    async fetchWalletImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        await _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchWalletImage(imageId);\n        return this.getWalletImageById(imageId);\n    },\n    async fetchNetworkImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        const existingImage = this.getNetworkImageById(imageId);\n        // Check if the image already exists\n        if (existingImage) {\n            return existingImage;\n        }\n        // Check if the promise is already created\n        if (!state.networkImagePromises[imageId]) {\n            state.networkImagePromises[imageId] = _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchNetworkImage(imageId);\n        }\n        await state.networkImagePromises[imageId];\n        return this.getNetworkImageById(imageId);\n    },\n    getWalletImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[imageId];\n    },\n    getWalletImage(wallet) {\n        if (wallet?.image_url) {\n            return wallet?.image_url;\n        }\n        if (wallet?.image_id) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[wallet.image_id];\n        }\n        return undefined;\n    },\n    getNetworkImage(network) {\n        if (network?.assets?.imageUrl) {\n            return network?.assets?.imageUrl;\n        }\n        if (network?.assets?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[network.assets.imageId];\n        }\n        return undefined;\n    },\n    getNetworkImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[imageId];\n    },\n    getConnectorImage(connector) {\n        if (connector?.imageUrl) {\n            return connector.imageUrl;\n        }\n        if (connector?.info?.icon) {\n            return connector.info.icon;\n        }\n        if (connector?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.connectorImages[connector.imageId];\n        }\n        return undefined;\n    },\n    getChainImage(chain) {\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[namespaceImageIds[chain]];\n    },\n    getTokenImage(symbol) {\n        if (!symbol) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.tokenImages[symbol];\n    }\n};\n//# sourceMappingURL=AssetUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Bc3NldFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUN5QjtBQUNJO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0VBQWE7QUFDM0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3RUFBYTtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRFQUFlO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RUFBZTtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0RUFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RUFBZTtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSw0RUFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Bc3NldFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBBc3NldENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanMnO1xuY29uc3QgbmFtZXNwYWNlSW1hZ2VJZHMgPSB7XG4gICAgLy8gRXRoZXJldW1cbiAgICBlaXAxNTU6ICdiYTBiYTBjZC0xN2M2LTQ4MDYtYWQ5My1mOWQxNzRmMTc5MDAnLFxuICAgIC8vIFNvbGFuYVxuICAgIHNvbGFuYTogJ2ExYjU4ODk5LWY2NzEtNDI3Ni02YTVlLTU2Y2E1YmQ1OTcwMCcsXG4gICAgLy8gUG9sa2Fkb3RcbiAgICBwb2xrYWRvdDogJycsXG4gICAgLy8gQml0Y29pblxuICAgIGJpcDEyMjogJzBiNDgzOGRiLTAxNjEtNGZmZS0wMjJkLTUzMmJmMDNkYmEwMCcsXG4gICAgLy8gQ29zbW9zXG4gICAgY29zbW9zOiAnJyxcbiAgICAvLyBTdWlcbiAgICBzdWk6ICcnLFxuICAgIC8vIFN0YWNrc1xuICAgIHN0YWNrczogJydcbn07XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIG5ldHdvcmtJbWFnZVByb21pc2VzOiB7fVxufSk7XG4vLyAtLSBVdGlsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBBc3NldFV0aWwgPSB7XG4gICAgYXN5bmMgZmV0Y2hXYWxsZXRJbWFnZShpbWFnZUlkKSB7XG4gICAgICAgIGlmICghaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLl9mZXRjaFdhbGxldEltYWdlKGltYWdlSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRXYWxsZXRJbWFnZUJ5SWQoaW1hZ2VJZCk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaE5ldHdvcmtJbWFnZShpbWFnZUlkKSB7XG4gICAgICAgIGlmICghaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGlzdGluZ0ltYWdlID0gdGhpcy5nZXROZXR3b3JrSW1hZ2VCeUlkKGltYWdlSWQpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgaW1hZ2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKGV4aXN0aW5nSW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0ltYWdlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcm9taXNlIGlzIGFscmVhZHkgY3JlYXRlZFxuICAgICAgICBpZiAoIXN0YXRlLm5ldHdvcmtJbWFnZVByb21pc2VzW2ltYWdlSWRdKSB7XG4gICAgICAgICAgICBzdGF0ZS5uZXR3b3JrSW1hZ2VQcm9taXNlc1tpbWFnZUlkXSA9IEFwaUNvbnRyb2xsZXIuX2ZldGNoTmV0d29ya0ltYWdlKGltYWdlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHN0YXRlLm5ldHdvcmtJbWFnZVByb21pc2VzW2ltYWdlSWRdO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROZXR3b3JrSW1hZ2VCeUlkKGltYWdlSWQpO1xuICAgIH0sXG4gICAgZ2V0V2FsbGV0SW1hZ2VCeUlkKGltYWdlSWQpIHtcbiAgICAgICAgaWYgKCFpbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUud2FsbGV0SW1hZ2VzW2ltYWdlSWRdO1xuICAgIH0sXG4gICAgZ2V0V2FsbGV0SW1hZ2Uod2FsbGV0KSB7XG4gICAgICAgIGlmICh3YWxsZXQ/LmltYWdlX3VybCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhbGxldD8uaW1hZ2VfdXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YWxsZXQ/LmltYWdlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLndhbGxldEltYWdlc1t3YWxsZXQuaW1hZ2VfaWRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXROZXR3b3JrSW1hZ2UobmV0d29yaykge1xuICAgICAgICBpZiAobmV0d29yaz8uYXNzZXRzPy5pbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldHdvcms/LmFzc2V0cz8uaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ldHdvcms/LmFzc2V0cz8uaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS5uZXR3b3JrSW1hZ2VzW25ldHdvcmsuYXNzZXRzLmltYWdlSWRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXROZXR3b3JrSW1hZ2VCeUlkKGltYWdlSWQpIHtcbiAgICAgICAgaWYgKCFpbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUubmV0d29ya0ltYWdlc1tpbWFnZUlkXTtcbiAgICB9LFxuICAgIGdldENvbm5lY3RvckltYWdlKGNvbm5lY3Rvcikge1xuICAgICAgICBpZiAoY29ubmVjdG9yPy5pbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rvci5pbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdG9yPy5pbmZvPy5pY29uKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdG9yLmluZm8uaWNvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdG9yPy5pbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvckltYWdlc1tjb25uZWN0b3IuaW1hZ2VJZF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldENoYWluSW1hZ2UoY2hhaW4pIHtcbiAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS5uZXR3b3JrSW1hZ2VzW25hbWVzcGFjZUltYWdlSWRzW2NoYWluXV07XG4gICAgfSxcbiAgICBnZXRUb2tlbkltYWdlKHN5bWJvbCkge1xuICAgICAgICBpZiAoIXN5bWJvbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLnRva2VuSW1hZ2VzW3N5bWJvbF07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2V0VXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BalanceUtil: () => (/* binding */ BalanceUtil)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/constants/abis.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/utils/unit/formatUnits.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ERC7811Util.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ViemUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\");\n\n\n\n\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst BalanceUtil = {\n    /**\n     * Get the balances of the user's tokens. If user connected with Auth provider or and on the EIP155 network,\n     * it'll use the `wallet_getAssets` and `wallet_getCapabilities` calls to fetch the balance rather than Blockchain API\n     * @param forceUpdate - If true, the balances will be fetched from the server\n     * @returns The balances of the user's tokens\n     */\n    async getMyTokensWithBalance(forceUpdate) {\n        const address = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData()?.address;\n        const caipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n        const isAuthConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getConnectorId('eip155') === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!address || !caipNetwork) {\n            return [];\n        }\n        const caipAddress = `${caipNetwork.caipNetworkId}:${address}`;\n        const cachedBalance = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance.balances;\n        }\n        // Extract EIP-155 specific logic\n        if (caipNetwork.chainNamespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN.EVM && isAuthConnector) {\n            const eip155Balances = await this.getEIP155Balances(address, caipNetwork);\n            if (eip155Balances) {\n                return this.filterLowQualityTokens(eip155Balances);\n            }\n        }\n        // Fallback to 1Inch API\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__.BlockchainApiController.getBalance(address, caipNetwork.caipNetworkId, forceUpdate);\n        return this.filterLowQualityTokens(response.balances);\n    },\n    /**\n     * Get the balances of the user's tokens on the EIP155 network using native `wallet_getAssets` and `wallet_getCapabilities` calls\n     * @param address - The address of the user\n     * @param caipNetwork - The CAIP network\n     * @returns The balances of the user's tokens on the EIP155 network\n     */\n    async getEIP155Balances(address, caipNetwork) {\n        try {\n            const chainIdHex = _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId);\n            const walletCapabilities = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.getCapabilities(address));\n            if (!walletCapabilities?.[chainIdHex]?.['assetDiscovery']?.supported) {\n                return null;\n            }\n            const walletGetAssetsResponse = await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.walletGetAssets({\n                account: address,\n                chainFilter: [chainIdHex]\n            });\n            if (!_ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse)) {\n                return null;\n            }\n            const assets = walletGetAssetsResponse[chainIdHex] || [];\n            const filteredAssets = assets.map(asset => _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.createBalance(asset, caipNetwork.caipNetworkId));\n            _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.updateBalanceCache({\n                caipAddress: `${caipNetwork.caipNetworkId}:${address}`,\n                balance: { balances: filteredAssets },\n                timestamp: Date.now()\n            });\n            return filteredAssets;\n        }\n        catch (error) {\n            return null;\n        }\n    },\n    /**\n     * The 1Inch API includes many low-quality tokens in the balance response,\n     * which appear inconsistently. This filter prevents them from being displayed.\n     */\n    filterLowQualityTokens(balances) {\n        return balances.filter(balance => balance.quantity.decimals !== '0');\n    },\n    async fetchERC20Balance({ caipAddress, assetAddress, caipNetwork }) {\n        const publicClient = await _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__.ViemUtil.createViemPublicClient(caipNetwork);\n        const { address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const [{ result: name }, { result: symbol }, { result: balance }, { result: decimals }] = await publicClient.multicall({\n            contracts: [\n                {\n                    address: assetAddress,\n                    functionName: 'name',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'symbol',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'balanceOf',\n                    args: [address],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'decimals',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                }\n            ]\n        });\n        return {\n            name,\n            symbol,\n            decimals,\n            balance: balance && decimals ? (0,viem__WEBPACK_IMPORTED_MODULE_10__.formatUnits)(balance, decimals) : '0'\n        };\n    }\n};\n//# sourceMappingURL=BalanceUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9CYWxhbmNlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDbUI7QUFDb0I7QUFDaEI7QUFDVTtBQUNGO0FBQzVCO0FBQ0Q7QUFDTjtBQUN6QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEVBQWU7QUFDdkMsNEJBQTRCLDRFQUFlO0FBQzNDLGdDQUFnQyxvRkFBbUIsOEJBQThCLCtEQUFhO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEIsR0FBRyxRQUFRO0FBQ3BFLDhCQUE4Qix3REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywrREFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEZBQXVCO0FBQ3REO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseURBQVk7QUFDM0MsOENBQThDLHNGQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0ZBQW9CO0FBQ3RFO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsaUJBQWlCLHlEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx5REFBWTtBQUNuRSxZQUFZLHdEQUFXO0FBQ3ZCLGdDQUFnQywwQkFBMEIsR0FBRyxRQUFRO0FBQ3JFLDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLHdDQUF3QztBQUN0RSxtQ0FBbUMsa0RBQVE7QUFDM0MsZ0JBQWdCLFVBQVUsRUFBRSwyREFBUztBQUNyQyxpQkFBaUIsY0FBYyxJQUFJLGdCQUFnQixJQUFJLGlCQUFpQixJQUFJLGtCQUFrQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFRO0FBQ2pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQ0FBUTtBQUNqQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQVE7QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFRO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsa0RBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvQmFsYW5jZVV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJjMjBBYmksIGZvcm1hdFVuaXRzIH0gZnJvbSAndmllbSc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsLCBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEVSQzc4MTFVdGlscyB9IGZyb20gJy4vRVJDNzgxMVV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IFZpZW1VdGlsIH0gZnJvbSAnLi9WaWVtVXRpbC5qcyc7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBCYWxhbmNlVXRpbCA9IHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zLiBJZiB1c2VyIGNvbm5lY3RlZCB3aXRoIEF1dGggcHJvdmlkZXIgb3IgYW5kIG9uIHRoZSBFSVAxNTUgbmV0d29yayxcbiAgICAgKiBpdCdsbCB1c2UgdGhlIGB3YWxsZXRfZ2V0QXNzZXRzYCBhbmQgYHdhbGxldF9nZXRDYXBhYmlsaXRpZXNgIGNhbGxzIHRvIGZldGNoIHRoZSBiYWxhbmNlIHJhdGhlciB0aGFuIEJsb2NrY2hhaW4gQVBJXG4gICAgICogQHBhcmFtIGZvcmNlVXBkYXRlIC0gSWYgdHJ1ZSwgdGhlIGJhbGFuY2VzIHdpbGwgYmUgZmV0Y2hlZCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgKiBAcmV0dXJucyBUaGUgYmFsYW5jZXMgb2YgdGhlIHVzZXIncyB0b2tlbnNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRNeVRva2Vuc1dpdGhCYWxhbmNlKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKT8uYWRkcmVzcztcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgIGNvbnN0IGlzQXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQoJ2VpcDE1NScpID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICBpZiAoIWFkZHJlc3MgfHwgIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBgJHtjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkfToke2FkZHJlc3N9YDtcbiAgICAgICAgY29uc3QgY2FjaGVkQmFsYW5jZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgaWYgKGNhY2hlZEJhbGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRCYWxhbmNlLmJhbGFuY2VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3QgRUlQLTE1NSBzcGVjaWZpYyBsb2dpY1xuICAgICAgICBpZiAoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uRVZNICYmIGlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgZWlwMTU1QmFsYW5jZXMgPSBhd2FpdCB0aGlzLmdldEVJUDE1NUJhbGFuY2VzKGFkZHJlc3MsIGNhaXBOZXR3b3JrKTtcbiAgICAgICAgICAgIGlmIChlaXAxNTVCYWxhbmNlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckxvd1F1YWxpdHlUb2tlbnMoZWlwMTU1QmFsYW5jZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIDFJbmNoIEFQSVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldEJhbGFuY2UoYWRkcmVzcywgY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCwgZm9yY2VVcGRhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJMb3dRdWFsaXR5VG9rZW5zKHJlc3BvbnNlLmJhbGFuY2VzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFsYW5jZXMgb2YgdGhlIHVzZXIncyB0b2tlbnMgb24gdGhlIEVJUDE1NSBuZXR3b3JrIHVzaW5nIG5hdGl2ZSBgd2FsbGV0X2dldEFzc2V0c2AgYW5kIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCBjYWxsc1xuICAgICAqIEBwYXJhbSBhZGRyZXNzIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0gY2FpcE5ldHdvcmsgLSBUaGUgQ0FJUCBuZXR3b3JrXG4gICAgICogQHJldHVybnMgVGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zIG9uIHRoZSBFSVAxNTUgbmV0d29ya1xuICAgICAqL1xuICAgIGFzeW5jIGdldEVJUDE1NUJhbGFuY2VzKGFkZHJlc3MsIGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaGFpbklkSGV4ID0gRVJDNzgxMVV0aWxzLmdldENoYWluSWRIZXhGcm9tQ0FJUDJDaGFpbklkKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgY29uc3Qgd2FsbGV0Q2FwYWJpbGl0aWVzID0gKGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmdldENhcGFiaWxpdGllcyhhZGRyZXNzKSk7XG4gICAgICAgICAgICBpZiAoIXdhbGxldENhcGFiaWxpdGllcz8uW2NoYWluSWRIZXhdPy5bJ2Fzc2V0RGlzY292ZXJ5J10/LnN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgd2FsbGV0R2V0QXNzZXRzUmVzcG9uc2UgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci53YWxsZXRHZXRBc3NldHMoe1xuICAgICAgICAgICAgICAgIGFjY291bnQ6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY2hhaW5GaWx0ZXI6IFtjaGFpbklkSGV4XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIUVSQzc4MTFVdGlscy5pc1dhbGxldEdldEFzc2V0c1Jlc3BvbnNlKHdhbGxldEdldEFzc2V0c1Jlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXNzZXRzID0gd2FsbGV0R2V0QXNzZXRzUmVzcG9uc2VbY2hhaW5JZEhleF0gfHwgW107XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEFzc2V0cyA9IGFzc2V0cy5tYXAoYXNzZXQgPT4gRVJDNzgxMVV0aWxzLmNyZWF0ZUJhbGFuY2UoYXNzZXQsIGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZUJhbGFuY2VDYWNoZSh7XG4gICAgICAgICAgICAgICAgY2FpcEFkZHJlc3M6IGAke2NhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWR9OiR7YWRkcmVzc31gLFxuICAgICAgICAgICAgICAgIGJhbGFuY2U6IHsgYmFsYW5jZXM6IGZpbHRlcmVkQXNzZXRzIH0sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEFzc2V0cztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgMUluY2ggQVBJIGluY2x1ZGVzIG1hbnkgbG93LXF1YWxpdHkgdG9rZW5zIGluIHRoZSBiYWxhbmNlIHJlc3BvbnNlLFxuICAgICAqIHdoaWNoIGFwcGVhciBpbmNvbnNpc3RlbnRseS4gVGhpcyBmaWx0ZXIgcHJldmVudHMgdGhlbSBmcm9tIGJlaW5nIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICBmaWx0ZXJMb3dRdWFsaXR5VG9rZW5zKGJhbGFuY2VzKSB7XG4gICAgICAgIHJldHVybiBiYWxhbmNlcy5maWx0ZXIoYmFsYW5jZSA9PiBiYWxhbmNlLnF1YW50aXR5LmRlY2ltYWxzICE9PSAnMCcpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hFUkMyMEJhbGFuY2UoeyBjYWlwQWRkcmVzcywgYXNzZXRBZGRyZXNzLCBjYWlwTmV0d29yayB9KSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY0NsaWVudCA9IGF3YWl0IFZpZW1VdGlsLmNyZWF0ZVZpZW1QdWJsaWNDbGllbnQoY2FpcE5ldHdvcmspO1xuICAgICAgICBjb25zdCB7IGFkZHJlc3MgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgW3sgcmVzdWx0OiBuYW1lIH0sIHsgcmVzdWx0OiBzeW1ib2wgfSwgeyByZXN1bHQ6IGJhbGFuY2UgfSwgeyByZXN1bHQ6IGRlY2ltYWxzIH1dID0gYXdhaXQgcHVibGljQ2xpZW50Lm11bHRpY2FsbCh7XG4gICAgICAgICAgICBjb250cmFjdHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnc3ltYm9sJyxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFiaTogZXJjMjBBYmlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYXNzZXRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdiYWxhbmNlT2YnLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbYWRkcmVzc10sXG4gICAgICAgICAgICAgICAgICAgIGFiaTogZXJjMjBBYmlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYXNzZXRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdkZWNpbWFscycsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgICBkZWNpbWFscyxcbiAgICAgICAgICAgIGJhbGFuY2U6IGJhbGFuY2UgJiYgZGVjaW1hbHMgPyBmb3JtYXRVbml0cyhiYWxhbmNlLCBkZWNpbWFscykgOiAnMCdcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFsYW5jZVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveCaipNetwork: () => (/* binding */ getActiveCaipNetwork),\n/* harmony export */   getActiveNetworkTokenAddress: () => (/* binding */ getActiveNetworkTokenAddress),\n/* harmony export */   getChainsToDisconnect: () => (/* binding */ getChainsToDisconnect),\n/* harmony export */   getPreferredAccountType: () => (/* binding */ getPreferredAccountType)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\n/**\n * Returns the array of chains to disconnect from the connector with the given namespace.\n * If no namespace is provided, it returns all chains.\n * @param namespace - The namespace of the connector to disconnect from.\n * @returns An array of chains to disconnect.\n */\nfunction getChainsToDisconnect(namespace) {\n    const namespaces = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.keys());\n    let chains = [];\n    if (namespace) {\n        chains.push([namespace, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(namespace)]);\n        if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n        else if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n    }\n    else {\n        chains = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.entries());\n    }\n    return chains;\n}\n/**\n * Get the active network token address\n * @returns The active network token address\n */\nfunction getActiveNetworkTokenAddress() {\n    const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.chainNamespace || 'eip155';\n    const chainId = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.id || 1;\n    const address = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n    return `${namespace}:${chainId}:${address}`;\n}\n/**\n * Get the preferred account type for a given namespace\n * @param namespace - The namespace of the account\n * @returns The preferred account type\n */\nfunction getPreferredAccountType(namespace) {\n    const preferredAccountType = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(namespace)?.preferredAccountType;\n    return preferredAccountType;\n}\n/**\n * Get the active CAIP network for a given chain namespace, if no namespace is provided, it returns the active CAIP network\n * @param chainNamespace - The chain namespace to get the active CAIP network for\n * @returns The active CAIP network\n */\nfunction getActiveCaipNetwork(chainNamespace) {\n    if (chainNamespace) {\n        return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n    }\n    return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n}\n//# sourceMappingURL=ChainControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTRFO0FBQ1I7QUFDRztBQUNwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtDQUFrQyw0RUFBZTtBQUNqRDtBQUNBO0FBQ0EsZ0NBQWdDLDRFQUFlO0FBQy9DLFlBQVksZ0ZBQXVCLHNDQUFzQywrREFBbUI7QUFDNUY7QUFDQTtBQUNBLG9CQUFvQixnRkFBdUIsK0JBQStCLCtEQUFtQjtBQUM3RixxQ0FBcUMsNEVBQWU7QUFDcEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQkFBaUIsZ0ZBQXVCLHNDQUFzQywrREFBbUI7QUFDakc7QUFDQTtBQUNBLG9CQUFvQixnRkFBdUIsK0JBQStCLCtEQUFtQjtBQUM3RixxQ0FBcUMsNEVBQWU7QUFDcEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsNEVBQWU7QUFDckMsb0JBQW9CLDRFQUFlO0FBQ25DLG9CQUFvQiw0REFBYTtBQUNqQyxjQUFjLFVBQVUsR0FBRyxRQUFRLEdBQUcsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyw0RUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLDRFQUFlO0FBQzlCO0FBQ0EsV0FBVyw0RUFBZTtBQUMxQjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbi8qKlxuICogUmV0dXJucyB0aGUgYXJyYXkgb2YgY2hhaW5zIHRvIGRpc2Nvbm5lY3QgZnJvbSB0aGUgY29ubmVjdG9yIHdpdGggdGhlIGdpdmVuIG5hbWVzcGFjZS5cbiAqIElmIG5vIG5hbWVzcGFjZSBpcyBwcm92aWRlZCwgaXQgcmV0dXJucyBhbGwgY2hhaW5zLlxuICogQHBhcmFtIG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIGNvbm5lY3RvciB0byBkaXNjb25uZWN0IGZyb20uXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBjaGFpbnMgdG8gZGlzY29ubmVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoYWluc1RvRGlzY29ubmVjdChuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBuYW1lc3BhY2VzID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmtleXMoKSk7XG4gICAgbGV0IGNoYWlucyA9IFtdO1xuICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgY2hhaW5zLnB1c2goW25hbWVzcGFjZSwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKV0pO1xuICAgICAgICBpZiAoQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChuYW1lc3BhY2UsIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUKSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobnMgIT09IG5hbWVzcGFjZSAmJlxuICAgICAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jaGVja05hbWVzcGFjZUNvbm5lY3RvcklkKG5zLCBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5zLnB1c2goW25zLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChucyldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jaGVja05hbWVzcGFjZUNvbm5lY3RvcklkKG5hbWVzcGFjZSwgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5zICE9PSBuYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChucywgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5zLnB1c2goW25zLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChucyldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hhaW5zID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmVudHJpZXMoKSk7XG4gICAgfVxuICAgIHJldHVybiBjaGFpbnM7XG59XG4vKipcbiAqIEdldCB0aGUgYWN0aXZlIG5ldHdvcmsgdG9rZW4gYWRkcmVzc1xuICogQHJldHVybnMgVGhlIGFjdGl2ZSBuZXR3b3JrIHRva2VuIGFkZHJlc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MoKSB7XG4gICAgY29uc3QgbmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSB8fCAnZWlwMTU1JztcbiAgICBjb25zdCBjaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5pZCB8fCAxO1xuICAgIGNvbnN0IGFkZHJlc3MgPSBDb25zdGFudHNVdGlsLk5BVElWRV9UT0tFTl9BRERSRVNTW25hbWVzcGFjZV07XG4gICAgcmV0dXJuIGAke25hbWVzcGFjZX06JHtjaGFpbklkfToke2FkZHJlc3N9YDtcbn1cbi8qKlxuICogR2V0IHRoZSBwcmVmZXJyZWQgYWNjb3VudCB0eXBlIGZvciBhIGdpdmVuIG5hbWVzcGFjZVxuICogQHBhcmFtIG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIGFjY291bnRcbiAqIEByZXR1cm5zIFRoZSBwcmVmZXJyZWQgYWNjb3VudCB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBwcmVmZXJyZWRBY2NvdW50VHlwZSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpPy5wcmVmZXJyZWRBY2NvdW50VHlwZTtcbiAgICByZXR1cm4gcHJlZmVycmVkQWNjb3VudFR5cGU7XG59XG4vKipcbiAqIEdldCB0aGUgYWN0aXZlIENBSVAgbmV0d29yayBmb3IgYSBnaXZlbiBjaGFpbiBuYW1lc3BhY2UsIGlmIG5vIG5hbWVzcGFjZSBpcyBwcm92aWRlZCwgaXQgcmV0dXJucyB0aGUgYWN0aXZlIENBSVAgbmV0d29ya1xuICogQHBhcmFtIGNoYWluTmFtZXNwYWNlIC0gVGhlIGNoYWluIG5hbWVzcGFjZSB0byBnZXQgdGhlIGFjdGl2ZSBDQUlQIG5ldHdvcmsgZm9yXG4gKiBAcmV0dXJucyBUaGUgYWN0aXZlIENBSVAgbmV0d29ya1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICBpZiAoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KGNoYWluTmFtZXNwYWNlKT8ubmV0d29ya1N0YXRlPy5jYWlwTmV0d29yaztcbiAgICB9XG4gICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYWluQ29udHJvbGxlclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionControllerUtil: () => (/* binding */ ConnectionControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n// -- Utils ------------------------------------------ //\nconst ConnectionControllerUtil = {\n    getConnectionStatus(connection, namespace) {\n        const connectedConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const isConnectorConnected = Boolean(connectedConnectorId) && connection.connectorId === connectedConnectorId;\n        if (isConnectorConnected) {\n            return 'connected';\n        }\n        const isConnectionConnected = connections.some(c => c.connectorId.toLowerCase() === connection.connectorId.toLowerCase());\n        if (isConnectionConnected) {\n            return 'active';\n        }\n        return 'disconnected';\n    },\n    excludeConnectorAddressFromConnections({ connections, connectorId, addresses }) {\n        return connections.map(connection => {\n            const isConnectorMatch = connectorId\n                ? connection.connectorId.toLowerCase() === connectorId.toLowerCase()\n                : false;\n            if (isConnectorMatch && addresses) {\n                const filteredAccounts = connection.accounts.filter(account => {\n                    const isAddressIncluded = addresses.some(address => address.toLowerCase() === account.address.toLowerCase());\n                    return !isAddressIncluded;\n                });\n                return { ...connection, accounts: filteredAccounts };\n            }\n            return connection;\n        });\n    },\n    excludeExistingConnections(connectorIds, newConnections) {\n        const existingConnectorIds = new Set(connectorIds);\n        return newConnections.filter(c => !existingConnectorIds.has(c.connectorId));\n    },\n    getConnectionsByConnectorId(connections, connectorId) {\n        return connections.filter(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n    },\n    getConnectionsData(namespace) {\n        const isMultiWalletEnabled = Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.multiWallet);\n        const activeConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const recentConnections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.state.recentConnections.get(namespace) ?? [];\n        const recentConnectionsWithCurrentActiveConnectors = recentConnections.filter(connection => _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorById(connection.connectorId));\n        const dedupedRecentConnections = ConnectionControllerUtil.excludeExistingConnections([...connections.map(c => c.connectorId), ...(activeConnectorId ? [activeConnectorId] : [])], recentConnectionsWithCurrentActiveConnectors);\n        if (!isMultiWalletEnabled) {\n            return {\n                connections: connections.filter(c => c.connectorId.toLowerCase() === activeConnectorId?.toLowerCase()),\n                recentConnections: []\n            };\n        }\n        return {\n            connections,\n            recentConnections: dedupedRecentConnections\n        };\n    }\n};\n//# sourceMappingURL=ConnectionControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUN3QztBQUNGO0FBQ0o7QUFDeEU7QUFDTztBQUNQO0FBQ0EscUNBQXFDLG9GQUFtQjtBQUN4RCw0QkFBNEIsc0ZBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMscUNBQXFDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLGdGQUFpQjtBQUM5RCxrQ0FBa0Msb0ZBQW1CO0FBQ3JELDRCQUE0QixzRkFBb0I7QUFDaEQsa0NBQWtDLHNGQUFvQjtBQUN0RCxvR0FBb0csb0ZBQW1CO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7fSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gVXRpbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsID0ge1xuICAgIGdldENvbm5lY3Rpb25TdGF0dXMoY29ubmVjdGlvbiwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZENvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDb25uZWN0aW9ucyhuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RvckNvbm5lY3RlZCA9IEJvb2xlYW4oY29ubmVjdGVkQ29ubmVjdG9ySWQpICYmIGNvbm5lY3Rpb24uY29ubmVjdG9ySWQgPT09IGNvbm5lY3RlZENvbm5lY3RvcklkO1xuICAgICAgICBpZiAoaXNDb25uZWN0b3JDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnY29ubmVjdGVkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0Nvbm5lY3Rpb25Db25uZWN0ZWQgPSBjb25uZWN0aW9ucy5zb21lKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoaXNDb25uZWN0aW9uQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2FjdGl2ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdkaXNjb25uZWN0ZWQnO1xuICAgIH0sXG4gICAgZXhjbHVkZUNvbm5lY3RvckFkZHJlc3NGcm9tQ29ubmVjdGlvbnMoeyBjb25uZWN0aW9ucywgY29ubmVjdG9ySWQsIGFkZHJlc3NlcyB9KSB7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9ucy5tYXAoY29ubmVjdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0Nvbm5lY3Rvck1hdGNoID0gY29ubmVjdG9ySWRcbiAgICAgICAgICAgICAgICA/IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNDb25uZWN0b3JNYXRjaCAmJiBhZGRyZXNzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEFjY291bnRzID0gY29ubmVjdGlvbi5hY2NvdW50cy5maWx0ZXIoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWRkcmVzc0luY2x1ZGVkID0gYWRkcmVzc2VzLnNvbWUoYWRkcmVzcyA9PiBhZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGFjY291bnQuYWRkcmVzcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0FkZHJlc3NJbmNsdWRlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5jb25uZWN0aW9uLCBhY2NvdW50czogZmlsdGVyZWRBY2NvdW50cyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZXhjbHVkZUV4aXN0aW5nQ29ubmVjdGlvbnMoY29ubmVjdG9ySWRzLCBuZXdDb25uZWN0aW9ucykge1xuICAgICAgICBjb25zdCBleGlzdGluZ0Nvbm5lY3RvcklkcyA9IG5ldyBTZXQoY29ubmVjdG9ySWRzKTtcbiAgICAgICAgcmV0dXJuIG5ld0Nvbm5lY3Rpb25zLmZpbHRlcihjID0+ICFleGlzdGluZ0Nvbm5lY3Rvcklkcy5oYXMoYy5jb25uZWN0b3JJZCkpO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGlvbnNCeUNvbm5lY3RvcklkKGNvbm5lY3Rpb25zLCBjb25uZWN0b3JJZCkge1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbnMuZmlsdGVyKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zRGF0YShuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgaXNNdWx0aVdhbGxldEVuYWJsZWQgPSBCb29sZWFuKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5tdWx0aVdhbGxldCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDb25uZWN0aW9ucyhuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCByZWNlbnRDb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLnJlY2VudENvbm5lY3Rpb25zLmdldChuYW1lc3BhY2UpID8/IFtdO1xuICAgICAgICBjb25zdCByZWNlbnRDb25uZWN0aW9uc1dpdGhDdXJyZW50QWN0aXZlQ29ubmVjdG9ycyA9IHJlY2VudENvbm5lY3Rpb25zLmZpbHRlcihjb25uZWN0aW9uID0+IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yQnlJZChjb25uZWN0aW9uLmNvbm5lY3RvcklkKSk7XG4gICAgICAgIGNvbnN0IGRlZHVwZWRSZWNlbnRDb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5leGNsdWRlRXhpc3RpbmdDb25uZWN0aW9ucyhbLi4uY29ubmVjdGlvbnMubWFwKGMgPT4gYy5jb25uZWN0b3JJZCksIC4uLihhY3RpdmVDb25uZWN0b3JJZCA/IFthY3RpdmVDb25uZWN0b3JJZF0gOiBbXSldLCByZWNlbnRDb25uZWN0aW9uc1dpdGhDdXJyZW50QWN0aXZlQ29ubmVjdG9ycyk7XG4gICAgICAgIGlmICghaXNNdWx0aVdhbGxldEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnM6IGNvbm5lY3Rpb25zLmZpbHRlcihjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gYWN0aXZlQ29ubmVjdG9ySWQ/LnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgICAgICAgIHJlY2VudENvbm5lY3Rpb25zOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29ubmVjdGlvbnMsXG4gICAgICAgICAgICByZWNlbnRDb25uZWN0aW9uczogZGVkdXBlZFJlY2VudENvbm5lY3Rpb25zXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorControllerUtil: () => (/* binding */ ConnectorControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* eslint-disable max-depth */\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ------------------------------------------ //\nconst UPDATE_EMAIL_INTERVAL_MS = 1_000;\nconst ConnectorControllerUtil = {\n    checkNamespaceConnectorId(namespace, connectorId) {\n        return _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorId(namespace) === connectorId;\n    },\n    isSocialProvider(socialProvider) {\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(socialProvider);\n    },\n    connectWalletConnect({ walletConnect, connector, closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            if (walletConnect) {\n                _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.setActiveConnector(connector);\n            }\n            onOpen?.(_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isMobile() && walletConnect);\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    connectExternal(connector) {\n        return new Promise((resolve, reject) => {\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n            _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal(connector, connector.chain).catch(() => {\n                unsubscribeChainController();\n                reject(new Error('Connection rejected'));\n            });\n        });\n    },\n    connectSocial({ social: socialProvider, namespace, closeModalOnConnect = true, onOpenFarcaster, onConnect }) {\n        let socialWindow = undefined;\n        let isConnectingSocial = false;\n        let popupWindow = null;\n        const namespaceToUse = namespace || _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n            if (val) {\n                if (closeModalOnConnect) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                }\n                unsubscribeChainController();\n            }\n        });\n        return new Promise((resolve, reject) => {\n            async function handleSocialConnection(event) {\n                if (event.data?.resultUri) {\n                    if (event.origin === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN) {\n                        window.removeEventListener('message', handleSocialConnection, false);\n                        try {\n                            const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector(namespaceToUse);\n                            if (authConnector && !isConnectingSocial) {\n                                if (socialWindow) {\n                                    socialWindow.close();\n                                }\n                                isConnectingSocial = true;\n                                const uri = event.data.resultUri;\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_REQUEST_USER_DATA',\n                                    properties: { provider: socialProvider }\n                                });\n                                _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.setConnectedSocialProvider(socialProvider);\n                                await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal({\n                                    id: authConnector.id,\n                                    type: authConnector.type,\n                                    socialUri: uri\n                                }, authConnector.chain);\n                                const caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress;\n                                if (!caipAddress) {\n                                    reject(new Error('Failed to connect'));\n                                    return;\n                                }\n                                resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(caipAddress));\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_SUCCESS',\n                                    properties: { provider: socialProvider }\n                                });\n                            }\n                        }\n                        catch (err) {\n                            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                type: 'track',\n                                event: 'SOCIAL_LOGIN_ERROR',\n                                properties: { provider: socialProvider, message: _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(err) }\n                            });\n                            reject(new Error('Failed to connect'));\n                        }\n                    }\n                    else {\n                        _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                            type: 'track',\n                            event: 'SOCIAL_LOGIN_ERROR',\n                            properties: { provider: socialProvider, message: 'Untrusted Origin' }\n                        });\n                    }\n                }\n            }\n            async function connectSocial() {\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SOCIAL_LOGIN_STARTED',\n                    properties: { provider: socialProvider }\n                });\n                if (socialProvider === 'farcaster') {\n                    onOpenFarcaster?.();\n                    const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                        if (!val && socialProvider === 'farcaster') {\n                            reject(new Error('Popup closed'));\n                            onConnect?.();\n                            unsubscribeModalController();\n                        }\n                    });\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    if (authConnector) {\n                        const _accountData = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(namespaceToUse);\n                        if (!_accountData?.farcasterUrl) {\n                            try {\n                                const { url } = await authConnector.provider.getFarcasterUri();\n                                _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('farcasterUrl', url, namespaceToUse);\n                            }\n                            catch {\n                                reject(new Error('Failed to connect to farcaster'));\n                            }\n                        }\n                    }\n                }\n                else {\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    popupWindow = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.returnOpenHref(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`, 'popupWindow', 'width=600,height=800,scrollbars=yes');\n                    try {\n                        if (authConnector) {\n                            const { uri } = await authConnector.provider.getSocialRedirectUri({\n                                provider: socialProvider\n                            });\n                            if (popupWindow && uri) {\n                                popupWindow.location.href = uri;\n                                socialWindow = popupWindow;\n                                const interval = setInterval(() => {\n                                    if (socialWindow?.closed && !isConnectingSocial) {\n                                        reject(new Error('Popup closed'));\n                                        clearInterval(interval);\n                                    }\n                                }, 1000);\n                                window.addEventListener('message', handleSocialConnection, false);\n                            }\n                            else {\n                                popupWindow?.close();\n                                reject(new Error('Failed to initiate social connection'));\n                            }\n                        }\n                    }\n                    catch {\n                        reject(new Error('Failed to initiate social connection'));\n                        popupWindow?.close();\n                    }\n                }\n            }\n            connectSocial();\n        });\n    },\n    connectEmail({ closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            onOpen?.();\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    async updateEmail() {\n        const connectorId = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.getConnectedConnectorId(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n        const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            throw new Error('No auth connector found');\n        }\n        if (connectorId !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            throw new Error('Not connected to email or social');\n        }\n        const initialEmail = authConnector.provider.getEmail() ?? '';\n        await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n            view: 'UpdateEmailWallet',\n            data: {\n                email: initialEmail,\n                redirectView: undefined\n            }\n        });\n        return new Promise((resolve, reject) => {\n            const interval = setInterval(() => {\n                const newEmail = authConnector.provider.getEmail() ?? '';\n                if (newEmail !== initialEmail) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    resolve({ email: newEmail });\n                }\n            }, UPDATE_EMAIL_INTERVAL_MS);\n            const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                if (!val) {\n                    if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== 'Connect') {\n                        _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.push('Connect');\n                    }\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    reject(new Error('Modal closed'));\n                }\n            });\n        });\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    }\n};\n//# sourceMappingURL=ConnectorControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0b3JDb250cm9sbGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2lEO0FBQzJCO0FBQ1Y7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0U7QUFDSDtBQUNoQjtBQUNFO0FBQ047QUFDL0M7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLG9GQUFtQjtBQUNsQyxLQUFLO0FBQ0w7QUFDQSxlQUFlLDREQUFhO0FBQzVCLEtBQUs7QUFDTCwyQkFBMkIsK0dBQStHO0FBQzFJO0FBQ0E7QUFDQSxnQkFBZ0Isb0ZBQW1CO0FBQ25DO0FBQ0EscUJBQXFCLDhEQUFjO0FBQ25DO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQyw0RUFBZTtBQUM5RDtBQUNBLG9CQUFvQiw0RUFBZTtBQUNuQztBQUNBLDRCQUE0QiwyREFBUztBQUNyQztBQUNBLGFBQWE7QUFDYixZQUFZLHNGQUFvQjtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsb0JBQW9CLDJGQUEyRjtBQUMvRztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsNEVBQWU7QUFDM0QsMkNBQTJDLDRFQUFlO0FBQzFEO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrREFBbUI7QUFDNUQ7QUFDQTtBQUNBLGtEQUFrRCxvRkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhFQUFnQjtBQUNoRDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELGlDQUFpQztBQUNqQyxnQ0FBZ0MseURBQVc7QUFDM0Msc0NBQXNDLHNGQUFvQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsb0RBQW9ELDRFQUFlO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUFTO0FBQ2pELGdDQUFnQyw4RUFBZ0I7QUFDaEQ7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1QztBQUNBO0FBQ0EsOENBQThDLG1DQUFtQyw4REFBYztBQUMvRiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsdURBQXVELDRFQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsMENBQTBDLG9GQUFtQjtBQUM3RDtBQUNBLDZDQUE2Qyw0RUFBZTtBQUM1RDtBQUNBO0FBQ0Esd0NBQXdDLE1BQU07QUFDOUMsZ0NBQWdDLDRFQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0ZBQW1CO0FBQzdELGtDQUFrQyw4REFBYyxtQkFBbUIsK0RBQW1CLHdCQUF3QjtBQUM5RztBQUNBO0FBQ0Esb0NBQW9DLE1BQU07QUFDMUM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLG1CQUFtQixxRkFBcUY7QUFDeEc7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIseURBQVcseUJBQXlCLDRFQUFlO0FBQy9FLDhCQUE4QixvRkFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxjQUFjLDRFQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0M7QUFDQSxhQUFhO0FBQ2IsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0Esd0JBQXdCLDhFQUFnQjtBQUN4Qyx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHNDQUFzQyw0RUFBZTtBQUNyRDtBQUNBLFlBQVksaUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkU7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0Nvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG1heC1kZXB0aCAqL1xuaW1wb3J0IHsgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4vQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4vQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuL1N0b3JhZ2VVdGlsLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IFVQREFURV9FTUFJTF9JTlRFUlZBTF9NUyA9IDFfMDAwO1xuZXhwb3J0IGNvbnN0IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsID0ge1xuICAgIGNoZWNrTmFtZXNwYWNlQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBjb25uZWN0b3JJZCkge1xuICAgICAgICByZXR1cm4gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpID09PSBjb25uZWN0b3JJZDtcbiAgICB9LFxuICAgIGlzU29jaWFsUHJvdmlkZXIoc29jaWFsUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMuc29jaWFscy5pbmNsdWRlcyhzb2NpYWxQcm92aWRlcik7XG4gICAgfSxcbiAgICBjb25uZWN0V2FsbGV0Q29ubmVjdCh7IHdhbGxldENvbm5lY3QsIGNvbm5lY3RvciwgY2xvc2VNb2RhbE9uQ29ubmVjdCA9IHRydWUsIHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSA9ICdDb25uZWN0Jywgb25PcGVuLCBvbkNvbm5lY3QgfSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdhbGxldENvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldEFjdGl2ZUNvbm5lY3Rvcihjb25uZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25PcGVuPy4oQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSAmJiB3YWxsZXRDb25uZWN0KTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlciA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyAhPT0gcmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTW9kYWwgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlciA9IENoYWluQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2FjdGl2ZUNhaXBBZGRyZXNzJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ29ubmVjdD8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZU1vZGFsT25Db25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNvbm5lY3RFeHRlcm5hbChjb25uZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyID0gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3ModmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5jb25uZWN0RXh0ZXJuYWwoY29ubmVjdG9yLCBjb25uZWN0b3IuY2hhaW4pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gcmVqZWN0ZWQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjb25uZWN0U29jaWFsKHsgc29jaWFsOiBzb2NpYWxQcm92aWRlciwgbmFtZXNwYWNlLCBjbG9zZU1vZGFsT25Db25uZWN0ID0gdHJ1ZSwgb25PcGVuRmFyY2FzdGVyLCBvbkNvbm5lY3QgfSkge1xuICAgICAgICBsZXQgc29jaWFsV2luZG93ID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgaXNDb25uZWN0aW5nU29jaWFsID0gZmFsc2U7XG4gICAgICAgIGxldCBwb3B1cFdpbmRvdyA9IG51bGw7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZVRvVXNlID0gbmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIgPSBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwQWRkcmVzcycsIHZhbCA9PiB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlTW9kYWxPbkNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU29jaWFsQ29ubmVjdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhPy5yZXN1bHRVcmkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5TRUNVUkVfU0lURV9TREtfT1JJR0lOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZVNvY2lhbENvbm5lY3Rpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcihuYW1lc3BhY2VUb1VzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IgJiYgIWlzQ29ubmVjdGluZ1NvY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29jaWFsV2luZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NpYWxXaW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RpbmdTb2NpYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmkgPSBldmVudC5kYXRhLnJlc3VsdFVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU09DSUFMX0xPR0lOX1JFUVVFU1RfVVNFUl9EQVRBJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldENvbm5lY3RlZFNvY2lhbFByb3ZpZGVyKHNvY2lhbFByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuY29ubmVjdEV4dGVybmFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhdXRoQ29ubmVjdG9yLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYXV0aENvbm5lY3Rvci50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaWFsVXJpOiB1cmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYXV0aENvbm5lY3Rvci5jaGFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NPQ0lBTF9MT0dJTl9TVUNDRVNTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fRVJST1InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlciwgbWVzc2FnZTogQ29yZUhlbHBlclV0aWwucGFyc2VFcnJvcihlcnIpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU09DSUFMX0xPR0lOX0VSUk9SJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlciwgbWVzc2FnZTogJ1VudHJ1c3RlZCBPcmlnaW4nIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFNvY2lhbCgpIHtcbiAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU09DSUFMX0xPR0lOX1NUQVJURUQnLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlciB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNvY2lhbFByb3ZpZGVyID09PSAnZmFyY2FzdGVyJykge1xuICAgICAgICAgICAgICAgICAgICBvbk9wZW5GYXJjYXN0ZXI/LigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlciA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgc29jaWFsUHJvdmlkZXIgPT09ICdmYXJjYXN0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUG9wdXAgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29ubmVjdD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9hY2NvdW50RGF0YSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2VUb1VzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hY2NvdW50RGF0YT8uZmFyY2FzdGVyVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IGF1dGhDb25uZWN0b3IucHJvdmlkZXIuZ2V0RmFyY2FzdGVyVXJpKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnZmFyY2FzdGVyVXJsJywgdXJsLCBuYW1lc3BhY2VUb1VzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gZmFyY2FzdGVyJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdyA9IENvcmVIZWxwZXJVdGlsLnJldHVybk9wZW5IcmVmKGAke0NvbW1vbkNvbnN0YW50c1V0aWwuU0VDVVJFX1NJVEVfU0RLX09SSUdJTn0vbG9hZGluZ2AsICdwb3B1cFdpbmRvdycsICd3aWR0aD02MDAsaGVpZ2h0PTgwMCxzY3JvbGxiYXJzPXllcycpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVyaSB9ID0gYXdhaXQgYXV0aENvbm5lY3Rvci5wcm92aWRlci5nZXRTb2NpYWxSZWRpcmVjdFVyaSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3B1cFdpbmRvdyAmJiB1cmkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cubG9jYXRpb24uaHJlZiA9IHVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaWFsV2luZG93ID0gcG9wdXBXaW5kb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvY2lhbFdpbmRvdz8uY2xvc2VkICYmICFpc0Nvbm5lY3RpbmdTb2NpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdQb3B1cCBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZVNvY2lhbENvbm5lY3Rpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwV2luZG93Py5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gaW5pdGlhdGUgc29jaWFsIGNvbm5lY3Rpb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWF0ZSBzb2NpYWwgY29ubmVjdGlvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwV2luZG93Py5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdFNvY2lhbCgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNvbm5lY3RFbWFpbCh7IGNsb3NlTW9kYWxPbkNvbm5lY3QgPSB0cnVlLCByZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UgPSAnQ29ubmVjdCcsIG9uT3Blbiwgb25Db25uZWN0IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIG9uT3Blbj8uKCk7XG4gICAgICAgICAgICBpZiAocmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIgPSBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgIT09IHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZShyZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01vZGFsIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIgPSBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwQWRkcmVzcycsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbm5lY3Q/LigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VNb2RhbE9uQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyh2YWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyB1cGRhdGVFbWFpbCgpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0ZWRDb25uZWN0b3JJZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGlmICghYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhdXRoIGNvbm5lY3RvciBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0b3JJZCAhPT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgY29ubmVjdGVkIHRvIGVtYWlsIG9yIHNvY2lhbCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluaXRpYWxFbWFpbCA9IGF1dGhDb25uZWN0b3IucHJvdmlkZXIuZ2V0RW1haWwoKSA/PyAnJztcbiAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgdmlldzogJ1VwZGF0ZUVtYWlsV2FsbGV0JyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlbWFpbDogaW5pdGlhbEVtYWlsLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VmlldzogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RW1haWwgPSBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLmdldEVtYWlsKCkgPz8gJyc7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0VtYWlsICE9PSBpbml0aWFsRW1haWwpIHtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZW1haWw6IG5ld0VtYWlsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFVQREFURV9FTUFJTF9JTlRFUlZBTF9NUyk7XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlciA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgIT09ICdDb25uZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01vZGFsIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjYW5Td2l0Y2hUb1NtYXJ0QWNjb3VudChuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgaXNTbWFydEFjY291bnRFbmFibGVkID0gQ2hhaW5Db250cm9sbGVyLmNoZWNrSWZTbWFydEFjY291bnRFbmFibGVkKCk7XG4gICAgICAgIHJldHVybiAoaXNTbWFydEFjY291bnRFbmFibGVkICYmXG4gICAgICAgICAgICBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLkVPQSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil),\n/* harmony export */   MELD_PUBLIC_KEY: () => (/* binding */ MELD_PUBLIC_KEY),\n/* harmony export */   ONRAMP_PROVIDERS: () => (/* binding */ ONRAMP_PROVIDERS)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\n\n\nconst SECURE_SITE = \n// eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n(typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']\n    : undefined) || 'https://secure.walletconnect.org';\nconst ONRAMP_PROVIDERS = [\n    {\n        label: 'Meld.io',\n        name: 'meld',\n        feeRange: '1-2%',\n        url: 'https://meldcrypto.com',\n        supportedChains: ['eip155', 'solana']\n    }\n];\nconst MELD_PUBLIC_KEY = 'WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU';\nconst ConstantsUtil = {\n    FOUR_MINUTES_MS: 240_000,\n    TEN_SEC_MS: 10_000,\n    FIVE_SEC_MS: 5_000,\n    THREE_SEC_MS: 3_000,\n    ONE_SEC_MS: 1_000,\n    SECURE_SITE,\n    SECURE_SITE_DASHBOARD: `${SECURE_SITE}/dashboard`,\n    SECURE_SITE_FAVICON: `${SECURE_SITE}/images/favicon.png`,\n    SOLANA_NATIVE_TOKEN_ADDRESS: 'So11111111111111111111111111111111111111111',\n    RESTRICTED_TIMEZONES: [\n        'ASIA/SHANGHAI',\n        'ASIA/URUMQI',\n        'ASIA/CHONGQING',\n        'ASIA/HARBIN',\n        'ASIA/KASHGAR',\n        'ASIA/MACAU',\n        'ASIA/HONG_KONG',\n        'ASIA/MACAO',\n        'ASIA/BEIJING',\n        'ASIA/HARBIN'\n    ],\n    SWAP_SUGGESTED_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP'\n    ],\n    SWAP_POPULAR_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP',\n        'METAL',\n        'DAI',\n        'CHAMP',\n        'WOLF',\n        'SALE',\n        'BAL',\n        'BUSD',\n        'MUST',\n        'BTCpx',\n        'ROUTE',\n        'HEX',\n        'WELT',\n        'amDAI',\n        'VSQ',\n        'VISION',\n        'AURUM',\n        'pSP',\n        'SNX',\n        'VC',\n        'LINK',\n        'CHP',\n        'amUSDT',\n        'SPHERE',\n        'FOX',\n        'GIDDY',\n        'GFC',\n        'OMEN',\n        'OX_OLD',\n        'DE',\n        'WNT'\n    ],\n    SUGGESTED_TOKENS_BY_CHAIN: {\n        // Arbitrum One\n        'eip155:42161': ['USD0']\n    },\n    BALANCE_SUPPORTED_CHAINS: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    SEND_PARAMS_SUPPORTED_CHAINS: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    SWAP_SUPPORTED_NETWORKS: [\n        // Ethereum'\n        'eip155:1',\n        // Arbitrum One'\n        'eip155:42161',\n        // Optimism'\n        'eip155:10',\n        // ZKSync Era'\n        'eip155:324',\n        // Base'\n        'eip155:8453',\n        // BNB Smart Chain'\n        'eip155:56',\n        // Polygon'\n        'eip155:137',\n        // Gnosis'\n        'eip155:100',\n        // Avalanche'\n        'eip155:43114',\n        // Fantom'\n        'eip155:250',\n        // Klaytn'\n        'eip155:8217',\n        // Aurora\n        'eip155:1313161554'\n    ],\n    NAMES_SUPPORTED_CHAIN_NAMESPACES: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    ONRAMP_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    ACTIVITY_ENABLED_CHAIN_NAMESPACES: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    NATIVE_TOKEN_ADDRESS: {\n        eip155: '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\n        solana: 'So11111111111111111111111111111111111111111',\n        polkadot: '0x',\n        bip122: '0x',\n        cosmos: '0x',\n        sui: '0x',\n        stacks: '0x'\n    },\n    CONVERT_SLIPPAGE_TOLERANCE: 1,\n    CONNECT_LABELS: {\n        MOBILE: 'Open and continue in the wallet app',\n        WEB: 'Open and continue in the wallet app'\n    },\n    SEND_SUPPORTED_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    DEFAULT_REMOTE_FEATURES: {\n        swaps: ['1inch'],\n        onramp: ['meld'],\n        email: true,\n        socials: [\n            'google',\n            'x',\n            'discord',\n            'farcaster',\n            'github',\n            'apple',\n            'facebook'\n        ],\n        activity: true,\n        reownBranding: true,\n        multiWallet: false,\n        emailCapture: false,\n        payWithExchange: false,\n        payments: false,\n        reownAuthentication: false\n    },\n    DEFAULT_REMOTE_FEATURES_DISABLED: {\n        email: false,\n        socials: false,\n        swaps: false,\n        onramp: false,\n        activity: false,\n        reownBranding: false,\n        emailCapture: false,\n        reownAuthentication: false\n    },\n    DEFAULT_FEATURES: {\n        receive: true,\n        send: true,\n        emailShowWallets: true,\n        connectorTypeOrder: [\n            'walletConnect',\n            'recent',\n            'injected',\n            'featured',\n            'custom',\n            'external',\n            'recommended'\n        ],\n        analytics: true,\n        allWallets: true,\n        legalCheckbox: false,\n        smartSessions: false,\n        collapseWallets: false,\n        walletFeaturesOrder: ['onramp', 'swaps', 'receive', 'send'],\n        connectMethodsOrder: undefined,\n        pay: false,\n        reownAuthentication: false\n    },\n    DEFAULT_SOCIALS: [\n        'google',\n        'x',\n        'farcaster',\n        'discord',\n        'apple',\n        'github',\n        'facebook'\n    ],\n    DEFAULT_ACCOUNT_TYPES: {\n        bip122: 'payment',\n        eip155: 'smartAccount',\n        polkadot: 'eoa',\n        solana: 'eoa'\n    },\n    ADAPTER_TYPES: {\n        UNIVERSAL: 'universal',\n        SOLANA: 'solana',\n        WAGMI: 'wagmi',\n        ETHERS: 'ethers',\n        ETHERS5: 'ethers5',\n        BITCOIN: 'bitcoin'\n    },\n    SIWX_DEFAULTS: {\n        signOutOnDisconnect: true\n    }\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRFO0FBQ3RDO0FBQ3RDO0FBQ0E7QUFDQSxRQUFRLE9BQU8sMkJBQTJCLE9BQU87QUFDakQsTUFBTSxPQUFPO0FBQ2I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUMsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0EsbUNBQW1DLCtEQUFtQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLCtEQUFtQjtBQUMxRDtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0E7QUFDQSxRQUFRLCtEQUFtQjtBQUMzQixRQUFRLCtEQUFtQjtBQUMzQjtBQUNBLHdDQUF3QywrREFBbUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0NvbnN0YW50c1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmNvbnN0IFNFQ1VSRV9TSVRFID0gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5lbnYgIT09ICd1bmRlZmluZWQnXG4gICAgPyBwcm9jZXNzLmVudlsnTkVYVF9QVUJMSUNfU0VDVVJFX1NJVEVfT1JJR0lOJ11cbiAgICA6IHVuZGVmaW5lZCkgfHwgJ2h0dHBzOi8vc2VjdXJlLndhbGxldGNvbm5lY3Qub3JnJztcbmV4cG9ydCBjb25zdCBPTlJBTVBfUFJPVklERVJTID0gW1xuICAgIHtcbiAgICAgICAgbGFiZWw6ICdNZWxkLmlvJyxcbiAgICAgICAgbmFtZTogJ21lbGQnLFxuICAgICAgICBmZWVSYW5nZTogJzEtMiUnLFxuICAgICAgICB1cmw6ICdodHRwczovL21lbGRjcnlwdG8uY29tJyxcbiAgICAgICAgc3VwcG9ydGVkQ2hhaW5zOiBbJ2VpcDE1NScsICdzb2xhbmEnXVxuICAgIH1cbl07XG5leHBvcnQgY29uc3QgTUVMRF9QVUJMSUNfS0VZID0gJ1dYRVRNdUZVUW1xcXliSHVSa1NneHY6MjVCOExKSFNmcEc2TFZqUjJ5dFU1Q3doN1o0U2NoMm9jb1UnO1xuZXhwb3J0IGNvbnN0IENvbnN0YW50c1V0aWwgPSB7XG4gICAgRk9VUl9NSU5VVEVTX01TOiAyNDBfMDAwLFxuICAgIFRFTl9TRUNfTVM6IDEwXzAwMCxcbiAgICBGSVZFX1NFQ19NUzogNV8wMDAsXG4gICAgVEhSRUVfU0VDX01TOiAzXzAwMCxcbiAgICBPTkVfU0VDX01TOiAxXzAwMCxcbiAgICBTRUNVUkVfU0lURSxcbiAgICBTRUNVUkVfU0lURV9EQVNIQk9BUkQ6IGAke1NFQ1VSRV9TSVRFfS9kYXNoYm9hcmRgLFxuICAgIFNFQ1VSRV9TSVRFX0ZBVklDT046IGAke1NFQ1VSRV9TSVRFfS9pbWFnZXMvZmF2aWNvbi5wbmdgLFxuICAgIFNPTEFOQV9OQVRJVkVfVE9LRU5fQUREUkVTUzogJ1NvMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEnLFxuICAgIFJFU1RSSUNURURfVElNRVpPTkVTOiBbXG4gICAgICAgICdBU0lBL1NIQU5HSEFJJyxcbiAgICAgICAgJ0FTSUEvVVJVTVFJJyxcbiAgICAgICAgJ0FTSUEvQ0hPTkdRSU5HJyxcbiAgICAgICAgJ0FTSUEvSEFSQklOJyxcbiAgICAgICAgJ0FTSUEvS0FTSEdBUicsXG4gICAgICAgICdBU0lBL01BQ0FVJyxcbiAgICAgICAgJ0FTSUEvSE9OR19LT05HJyxcbiAgICAgICAgJ0FTSUEvTUFDQU8nLFxuICAgICAgICAnQVNJQS9CRUlKSU5HJyxcbiAgICAgICAgJ0FTSUEvSEFSQklOJ1xuICAgIF0sXG4gICAgU1dBUF9TVUdHRVNURURfVE9LRU5TOiBbXG4gICAgICAgICdFVEgnLFxuICAgICAgICAnVU5JJyxcbiAgICAgICAgJzFJTkNIJyxcbiAgICAgICAgJ0FBVkUnLFxuICAgICAgICAnU09MJyxcbiAgICAgICAgJ0FEQScsXG4gICAgICAgICdBVkFYJyxcbiAgICAgICAgJ0RPVCcsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ05JVFJPJyxcbiAgICAgICAgJ0dBSUEnLFxuICAgICAgICAnTUlMSycsXG4gICAgICAgICdUUlgnLFxuICAgICAgICAnTkVBUicsXG4gICAgICAgICdHTk8nLFxuICAgICAgICAnV0JUQycsXG4gICAgICAgICdEQUknLFxuICAgICAgICAnV0VUSCcsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnQVJCJyxcbiAgICAgICAgJ0JBTCcsXG4gICAgICAgICdCSUNPJyxcbiAgICAgICAgJ0NSVicsXG4gICAgICAgICdFTlMnLFxuICAgICAgICAnTUFUSUMnLFxuICAgICAgICAnT1AnXG4gICAgXSxcbiAgICBTV0FQX1BPUFVMQVJfVE9LRU5TOiBbXG4gICAgICAgICdFVEgnLFxuICAgICAgICAnVU5JJyxcbiAgICAgICAgJzFJTkNIJyxcbiAgICAgICAgJ0FBVkUnLFxuICAgICAgICAnU09MJyxcbiAgICAgICAgJ0FEQScsXG4gICAgICAgICdBVkFYJyxcbiAgICAgICAgJ0RPVCcsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ05JVFJPJyxcbiAgICAgICAgJ0dBSUEnLFxuICAgICAgICAnTUlMSycsXG4gICAgICAgICdUUlgnLFxuICAgICAgICAnTkVBUicsXG4gICAgICAgICdHTk8nLFxuICAgICAgICAnV0JUQycsXG4gICAgICAgICdEQUknLFxuICAgICAgICAnV0VUSCcsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnQVJCJyxcbiAgICAgICAgJ0JBTCcsXG4gICAgICAgICdCSUNPJyxcbiAgICAgICAgJ0NSVicsXG4gICAgICAgICdFTlMnLFxuICAgICAgICAnTUFUSUMnLFxuICAgICAgICAnT1AnLFxuICAgICAgICAnTUVUQUwnLFxuICAgICAgICAnREFJJyxcbiAgICAgICAgJ0NIQU1QJyxcbiAgICAgICAgJ1dPTEYnLFxuICAgICAgICAnU0FMRScsXG4gICAgICAgICdCQUwnLFxuICAgICAgICAnQlVTRCcsXG4gICAgICAgICdNVVNUJyxcbiAgICAgICAgJ0JUQ3B4JyxcbiAgICAgICAgJ1JPVVRFJyxcbiAgICAgICAgJ0hFWCcsXG4gICAgICAgICdXRUxUJyxcbiAgICAgICAgJ2FtREFJJyxcbiAgICAgICAgJ1ZTUScsXG4gICAgICAgICdWSVNJT04nLFxuICAgICAgICAnQVVSVU0nLFxuICAgICAgICAncFNQJyxcbiAgICAgICAgJ1NOWCcsXG4gICAgICAgICdWQycsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ0NIUCcsXG4gICAgICAgICdhbVVTRFQnLFxuICAgICAgICAnU1BIRVJFJyxcbiAgICAgICAgJ0ZPWCcsXG4gICAgICAgICdHSUREWScsXG4gICAgICAgICdHRkMnLFxuICAgICAgICAnT01FTicsXG4gICAgICAgICdPWF9PTEQnLFxuICAgICAgICAnREUnLFxuICAgICAgICAnV05UJ1xuICAgIF0sXG4gICAgU1VHR0VTVEVEX1RPS0VOU19CWV9DSEFJTjoge1xuICAgICAgICAvLyBBcmJpdHJ1bSBPbmVcbiAgICAgICAgJ2VpcDE1NTo0MjE2MSc6IFsnVVNE4oKuMCddXG4gICAgfSxcbiAgICBCQUxBTkNFX1NVUFBPUlRFRF9DSEFJTlM6IFtcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0sXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BXG4gICAgXSxcbiAgICBTRU5EX1BBUkFNU19TVVBQT1JURURfQ0hBSU5TOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIFNXQVBfU1VQUE9SVEVEX05FVFdPUktTOiBbXG4gICAgICAgIC8vIEV0aGVyZXVtJ1xuICAgICAgICAnZWlwMTU1OjEnLFxuICAgICAgICAvLyBBcmJpdHJ1bSBPbmUnXG4gICAgICAgICdlaXAxNTU6NDIxNjEnLFxuICAgICAgICAvLyBPcHRpbWlzbSdcbiAgICAgICAgJ2VpcDE1NToxMCcsXG4gICAgICAgIC8vIFpLU3luYyBFcmEnXG4gICAgICAgICdlaXAxNTU6MzI0JyxcbiAgICAgICAgLy8gQmFzZSdcbiAgICAgICAgJ2VpcDE1NTo4NDUzJyxcbiAgICAgICAgLy8gQk5CIFNtYXJ0IENoYWluJ1xuICAgICAgICAnZWlwMTU1OjU2JyxcbiAgICAgICAgLy8gUG9seWdvbidcbiAgICAgICAgJ2VpcDE1NToxMzcnLFxuICAgICAgICAvLyBHbm9zaXMnXG4gICAgICAgICdlaXAxNTU6MTAwJyxcbiAgICAgICAgLy8gQXZhbGFuY2hlJ1xuICAgICAgICAnZWlwMTU1OjQzMTE0JyxcbiAgICAgICAgLy8gRmFudG9tJ1xuICAgICAgICAnZWlwMTU1OjI1MCcsXG4gICAgICAgIC8vIEtsYXl0bidcbiAgICAgICAgJ2VpcDE1NTo4MjE3JyxcbiAgICAgICAgLy8gQXVyb3JhXG4gICAgICAgICdlaXAxNTU6MTMxMzE2MTU1NCdcbiAgICBdLFxuICAgIE5BTUVTX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIE9OUkFNUF9TVVBQT1JURURfQ0hBSU5fTkFNRVNQQUNFUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIFBBWV9XSVRIX0VYQ0hBTkdFX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNLFxuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQVxuICAgIF0sXG4gICAgQUNUSVZJVFlfRU5BQkxFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIE5BVElWRV9UT0tFTl9BRERSRVNTOiB7XG4gICAgICAgIGVpcDE1NTogJzB4ZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZScsXG4gICAgICAgIHNvbGFuYTogJ1NvMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEnLFxuICAgICAgICBwb2xrYWRvdDogJzB4JyxcbiAgICAgICAgYmlwMTIyOiAnMHgnLFxuICAgICAgICBjb3Ntb3M6ICcweCcsXG4gICAgICAgIHN1aTogJzB4JyxcbiAgICAgICAgc3RhY2tzOiAnMHgnXG4gICAgfSxcbiAgICBDT05WRVJUX1NMSVBQQUdFX1RPTEVSQU5DRTogMSxcbiAgICBDT05ORUNUX0xBQkVMUzoge1xuICAgICAgICBNT0JJTEU6ICdPcGVuIGFuZCBjb250aW51ZSBpbiB0aGUgd2FsbGV0IGFwcCcsXG4gICAgICAgIFdFQjogJ09wZW4gYW5kIGNvbnRpbnVlIGluIHRoZSB3YWxsZXQgYXBwJ1xuICAgIH0sXG4gICAgU0VORF9TVVBQT1JURURfTkFNRVNQQUNFUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIERFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTOiB7XG4gICAgICAgIHN3YXBzOiBbJzFpbmNoJ10sXG4gICAgICAgIG9ucmFtcDogWydtZWxkJ10sXG4gICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICBzb2NpYWxzOiBbXG4gICAgICAgICAgICAnZ29vZ2xlJyxcbiAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgICAgICdmYXJjYXN0ZXInLFxuICAgICAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICAgICAnYXBwbGUnLFxuICAgICAgICAgICAgJ2ZhY2Vib29rJ1xuICAgICAgICBdLFxuICAgICAgICBhY3Rpdml0eTogdHJ1ZSxcbiAgICAgICAgcmVvd25CcmFuZGluZzogdHJ1ZSxcbiAgICAgICAgbXVsdGlXYWxsZXQ6IGZhbHNlLFxuICAgICAgICBlbWFpbENhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXlXaXRoRXhjaGFuZ2U6IGZhbHNlLFxuICAgICAgICBwYXltZW50czogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX1JFTU9URV9GRUFUVVJFU19ESVNBQkxFRDoge1xuICAgICAgICBlbWFpbDogZmFsc2UsXG4gICAgICAgIHNvY2lhbHM6IGZhbHNlLFxuICAgICAgICBzd2FwczogZmFsc2UsXG4gICAgICAgIG9ucmFtcDogZmFsc2UsXG4gICAgICAgIGFjdGl2aXR5OiBmYWxzZSxcbiAgICAgICAgcmVvd25CcmFuZGluZzogZmFsc2UsXG4gICAgICAgIGVtYWlsQ2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX0ZFQVRVUkVTOiB7XG4gICAgICAgIHJlY2VpdmU6IHRydWUsXG4gICAgICAgIHNlbmQ6IHRydWUsXG4gICAgICAgIGVtYWlsU2hvd1dhbGxldHM6IHRydWUsXG4gICAgICAgIGNvbm5lY3RvclR5cGVPcmRlcjogW1xuICAgICAgICAgICAgJ3dhbGxldENvbm5lY3QnLFxuICAgICAgICAgICAgJ3JlY2VudCcsXG4gICAgICAgICAgICAnaW5qZWN0ZWQnLFxuICAgICAgICAgICAgJ2ZlYXR1cmVkJyxcbiAgICAgICAgICAgICdjdXN0b20nLFxuICAgICAgICAgICAgJ2V4dGVybmFsJyxcbiAgICAgICAgICAgICdyZWNvbW1lbmRlZCdcbiAgICAgICAgXSxcbiAgICAgICAgYW5hbHl0aWNzOiB0cnVlLFxuICAgICAgICBhbGxXYWxsZXRzOiB0cnVlLFxuICAgICAgICBsZWdhbENoZWNrYm94OiBmYWxzZSxcbiAgICAgICAgc21hcnRTZXNzaW9uczogZmFsc2UsXG4gICAgICAgIGNvbGxhcHNlV2FsbGV0czogZmFsc2UsXG4gICAgICAgIHdhbGxldEZlYXR1cmVzT3JkZXI6IFsnb25yYW1wJywgJ3N3YXBzJywgJ3JlY2VpdmUnLCAnc2VuZCddLFxuICAgICAgICBjb25uZWN0TWV0aG9kc09yZGVyOiB1bmRlZmluZWQsXG4gICAgICAgIHBheTogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX1NPQ0lBTFM6IFtcbiAgICAgICAgJ2dvb2dsZScsXG4gICAgICAgICd4JyxcbiAgICAgICAgJ2ZhcmNhc3RlcicsXG4gICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgJ2FwcGxlJyxcbiAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICdmYWNlYm9vaydcbiAgICBdLFxuICAgIERFRkFVTFRfQUNDT1VOVF9UWVBFUzoge1xuICAgICAgICBiaXAxMjI6ICdwYXltZW50JyxcbiAgICAgICAgZWlwMTU1OiAnc21hcnRBY2NvdW50JyxcbiAgICAgICAgcG9sa2Fkb3Q6ICdlb2EnLFxuICAgICAgICBzb2xhbmE6ICdlb2EnXG4gICAgfSxcbiAgICBBREFQVEVSX1RZUEVTOiB7XG4gICAgICAgIFVOSVZFUlNBTDogJ3VuaXZlcnNhbCcsXG4gICAgICAgIFNPTEFOQTogJ3NvbGFuYScsXG4gICAgICAgIFdBR01JOiAnd2FnbWknLFxuICAgICAgICBFVEhFUlM6ICdldGhlcnMnLFxuICAgICAgICBFVEhFUlM1OiAnZXRoZXJzNScsXG4gICAgICAgIEJJVENPSU46ICdiaXRjb2luJ1xuICAgIH0sXG4gICAgU0lXWF9ERUZBVUxUUzoge1xuICAgICAgICBzaWduT3V0T25EaXNjb25uZWN0OiB0cnVlXG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CoreHelperUtil: () => (/* binding */ CoreHelperUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StorageUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n\n\n\nconst CoreHelperUtil = {\n    isMobile() {\n        if (this.isClient()) {\n            return Boolean((window?.matchMedia &&\n                typeof window.matchMedia === 'function' &&\n                window.matchMedia('(pointer:coarse)')?.matches) ||\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent));\n        }\n        return false;\n    },\n    checkCaipNetwork(network, networkName = '') {\n        return network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase());\n    },\n    isAndroid() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return CoreHelperUtil.isMobile() && ua.includes('android');\n    },\n    isIos() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('iphone') || ua.includes('ipad');\n    },\n    isSafari() {\n        if (!this.isClient()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('safari');\n    },\n    isClient() {\n        return typeof window !== 'undefined';\n    },\n    isPairingExpired(expiry) {\n        return expiry ? expiry - Date.now() <= _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.TEN_SEC_MS : true;\n    },\n    isAllowedRetry(lastRetry, differenceMs = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ONE_SEC_MS) {\n        return Date.now() - lastRetry >= differenceMs;\n    },\n    copyToClopboard(text) {\n        navigator.clipboard.writeText(text);\n    },\n    isIframe() {\n        try {\n            return window?.self !== window?.top;\n        }\n        catch (e) {\n            return false;\n        }\n    },\n    isSafeApp() {\n        if (CoreHelperUtil.isClient() && window.self !== window.top) {\n            try {\n                const ancestor = window?.location?.ancestorOrigins?.[0];\n                const safeAppUrl = 'https://app.safe.global';\n                if (ancestor) {\n                    const ancestorUrl = new URL(ancestor);\n                    const safeUrl = new URL(safeAppUrl);\n                    return ancestorUrl.hostname === safeUrl.hostname;\n                }\n            }\n            catch {\n                return false;\n            }\n        }\n        return false;\n    },\n    getPairingExpiry() {\n        return Date.now() + _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.FOUR_MINUTES_MS;\n    },\n    getNetworkId(caipAddress) {\n        return caipAddress?.split(':')[1];\n    },\n    getPlainAddress(caipAddress) {\n        return caipAddress?.split(':')[2];\n    },\n    async wait(milliseconds) {\n        return new Promise(resolve => {\n            setTimeout(resolve, milliseconds);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debounce(func, timeout = 500) {\n        let timer = undefined;\n        return (...args) => {\n            function next() {\n                func(...args);\n            }\n            if (timer) {\n                clearTimeout(timer);\n            }\n            timer = setTimeout(next, timeout);\n        };\n    },\n    isHttpUrl(url) {\n        return url.startsWith('http://') || url.startsWith('https://');\n    },\n    formatNativeUrl(appUrl, wcUri, universalLink = null) {\n        if (CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatUniversalUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        let safeUniversalLink = universalLink;\n        if (!safeAppUrl.includes('://')) {\n            safeAppUrl = appUrl.replaceAll('/', '').replaceAll(':', '');\n            safeAppUrl = `${safeAppUrl}://`;\n        }\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        if (safeUniversalLink && !safeUniversalLink?.endsWith('/')) {\n            safeUniversalLink = `${safeUniversalLink}/`;\n        }\n        // Android deeplinks in tg context require the uri to be encoded twice\n        if (this.isTelegram() && this.isAndroid()) {\n            // eslint-disable-next-line no-param-reassign\n            wcUri = encodeURIComponent(wcUri);\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            redirectUniversalLink: safeUniversalLink\n                ? `${safeUniversalLink}wc?uri=${encodedWcUrl}`\n                : undefined,\n            href: safeAppUrl\n        };\n    },\n    formatUniversalUrl(appUrl, wcUri) {\n        if (!CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatNativeUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            href: safeAppUrl\n        };\n    },\n    getOpenTargetForPlatform(target) {\n        if (target === 'popupWindow') {\n            return target;\n        }\n        // Only '_blank' deeplinks work in Telegram context\n        if (this.isTelegram()) {\n            // But for social login, we need to load the page in the same context\n            if (_StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getTelegramSocialProvider()) {\n                return '_top';\n            }\n            return '_blank';\n        }\n        return target;\n    },\n    openHref(href, target, features) {\n        window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    returnOpenHref(href, target, features) {\n        return window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    isTelegram() {\n        return (typeof window !== 'undefined' &&\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (Boolean(window.TelegramWebviewProxy) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.Telegram) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.TelegramWebviewProxyProto)));\n    },\n    isPWA() {\n        if (typeof window === 'undefined') {\n            return false;\n        }\n        const isStandaloneDisplayMode = window?.matchMedia && typeof window.matchMedia === 'function'\n            ? window.matchMedia('(display-mode: standalone)')?.matches\n            : false;\n        const isIOSStandalone = window?.navigator?.standalone;\n        return Boolean(isStandaloneDisplayMode || isIOSStandalone);\n    },\n    async preloadImage(src) {\n        const imagePromise = new Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = resolve;\n            image.onerror = reject;\n            image.crossOrigin = 'anonymous';\n            image.src = src;\n        });\n        return Promise.race([imagePromise, CoreHelperUtil.wait(2000)]);\n    },\n    parseBalance(balance, symbol) {\n        let formattedBalance = '0.000';\n        if (typeof balance === 'string') {\n            const number = Number(balance);\n            if (!isNaN(number)) {\n                const formattedValue = (Math.floor(number * 1000) / 1000).toFixed(3);\n                if (formattedValue) {\n                    formattedBalance = formattedValue;\n                }\n            }\n        }\n        const [valueString, decimalsString] = formattedBalance.split('.');\n        const value = valueString || '0';\n        const decimals = decimalsString || '000';\n        const formattedText = `${value}.${decimals}${symbol ? ` ${symbol}` : ''}`;\n        return {\n            formattedText,\n            value,\n            decimals,\n            symbol\n        };\n    },\n    getApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.W3M_API_URL;\n    },\n    getBlockchainApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.BLOCKCHAIN_API_RPC_URL;\n    },\n    getAnalyticsUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.PULSE_API_URL;\n    },\n    getUUID() {\n        if (crypto?.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/gu, c => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parseError(error) {\n        if (typeof error === 'string') {\n            return error;\n        }\n        else if (typeof error?.issues?.[0]?.message === 'string') {\n            return error.issues[0].message;\n        }\n        else if (error instanceof Error) {\n            return error.message;\n        }\n        return 'Unknown error';\n    },\n    sortRequestedNetworks(approvedIds, requestedNetworks = []) {\n        const approvedIndexMap = {};\n        if (requestedNetworks && approvedIds) {\n            approvedIds.forEach((id, index) => {\n                approvedIndexMap[id] = index;\n            });\n            requestedNetworks.sort((a, b) => {\n                const indexA = approvedIndexMap[a.id];\n                const indexB = approvedIndexMap[b.id];\n                if (indexA !== undefined && indexB !== undefined) {\n                    return indexA - indexB;\n                }\n                else if (indexA !== undefined) {\n                    return -1;\n                }\n                else if (indexB !== undefined) {\n                    return 1;\n                }\n                return 0;\n            });\n        }\n        return requestedNetworks;\n    },\n    calculateBalance(array) {\n        let sum = 0;\n        for (const item of array) {\n            sum += item.value ?? 0;\n        }\n        return sum;\n    },\n    formatTokenBalance(number) {\n        const roundedNumber = number.toFixed(2);\n        const [dollars, pennies] = roundedNumber.split('.');\n        return { dollars, pennies };\n    },\n    isAddress(address, chain = 'eip155') {\n        switch (chain) {\n            case 'eip155':\n                if (!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)) {\n                    return false;\n                }\n                else if (/^(?:0x)?[0-9a-f]{40}$/iu.test(address) ||\n                    /^(?:0x)?[0-9A-F]{40}$/iu.test(address)) {\n                    return true;\n                }\n                return false;\n            case 'solana':\n                return /[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);\n            default:\n                return false;\n        }\n    },\n    uniqueBy(arr, key) {\n        const set = new Set();\n        return arr.filter(item => {\n            const keyValue = item[key];\n            if (set.has(keyValue)) {\n                return false;\n            }\n            set.add(keyValue);\n            return true;\n        });\n    },\n    generateSdkVersion(adapters, platform, version) {\n        const hasNoAdapters = adapters.length === 0;\n        const adapterNames = (hasNoAdapters\n            ? _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL\n            : adapters.map(adapter => adapter.adapterType).join(','));\n        return `${platform}-${adapterNames}-${version}`;\n    },\n    // eslint-disable-next-line max-params\n    createAccount(namespace, address, type, publicKey, path) {\n        return {\n            namespace,\n            address,\n            type,\n            publicKey,\n            path\n        };\n    },\n    isCaipAddress(address) {\n        if (typeof address !== 'string') {\n            return false;\n        }\n        const sections = address.split(':');\n        const namespace = sections[0];\n        return (sections.filter(Boolean).length === 3 &&\n            namespace in _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN_NAME_MAP);\n    },\n    getAccount(account) {\n        if (!account) {\n            return {\n                address: undefined,\n                chainId: undefined\n            };\n        }\n        if (typeof account === 'string') {\n            return {\n                address: account,\n                chainId: undefined\n            };\n        }\n        return {\n            address: account.address,\n            chainId: account.chainId\n        };\n    },\n    isMac() {\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('macintosh') && !ua.includes('safari');\n    },\n    formatTelegramSocialLoginUrl(url) {\n        const valueToInject = `--${encodeURIComponent(window?.location.href)}`;\n        const paramToInject = 'state=';\n        const parsedUrl = new URL(url);\n        if (parsedUrl.host === 'auth.magic.link') {\n            const providerParam = 'provider_authorization_url=';\n            const providerUrl = url.substring(url.indexOf(providerParam) + providerParam.length);\n            const resultUrl = this.injectIntoUrl(decodeURIComponent(providerUrl), paramToInject, valueToInject);\n            return url.replace(providerUrl, encodeURIComponent(resultUrl));\n        }\n        return this.injectIntoUrl(url, paramToInject, valueToInject);\n    },\n    injectIntoUrl(url, key, appendString) {\n        // Find the position of \"key\" e.g. \"state=\" in the URL\n        const keyIndex = url.indexOf(key);\n        if (keyIndex === -1) {\n            throw new Error(`${key} parameter not found in the URL: ${url}`);\n        }\n        // Find the position of the next \"&\" after \"key\"\n        const keyEndIndex = url.indexOf('&', keyIndex);\n        const keyLength = key.length;\n        // If there is no \"&\" after key, it means \"key\" is the last parameter\n        // eslint-disable-next-line no-negated-condition\n        const keyParamEnd = keyEndIndex !== -1 ? keyEndIndex : url.length;\n        // Extract the part of the URL before the key value\n        const beforeKeyValue = url.substring(0, keyIndex + keyLength);\n        // Extract the current key value\n        const currentKeyValue = url.substring(keyIndex + keyLength, keyParamEnd);\n        // Extract the part of the URL after the key value\n        const afterKeyValue = url.substring(keyEndIndex);\n        // Append the new string to the key value\n        const newKeyValue = currentKeyValue + appendString;\n        // Reconstruct the URL with the appended key value\n        const newUrl = beforeKeyValue + newKeyValue + afterKeyValue;\n        return newUrl;\n    }\n};\n//# sourceMappingURL=CoreHelperUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db3JlSGVscGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0o7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtDQUErQyw0REFBYTtBQUM1RCxLQUFLO0FBQ0wsNkNBQTZDLDREQUFhO0FBQzFEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsNERBQWE7QUFDekMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLFdBQVc7QUFDdkM7QUFDQTtBQUNBLG1DQUFt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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db3JlSGVscGVyVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuL1N0b3JhZ2VVdGlsLmpzJztcbmV4cG9ydCBjb25zdCBDb3JlSGVscGVyVXRpbCA9IHtcbiAgICBpc01vYmlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDbGllbnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4oKHdpbmRvdz8ubWF0Y2hNZWRpYSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocG9pbnRlcjpjb2Fyc2UpJyk/Lm1hdGNoZXMpIHx8XG4gICAgICAgICAgICAgICAgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fE9wZXJhIE1pbmkvdS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBjaGVja0NhaXBOZXR3b3JrKG5ldHdvcmssIG5ldHdvcmtOYW1lID0gJycpIHtcbiAgICAgICAgcmV0dXJuIG5ldHdvcms/LmNhaXBOZXR3b3JrSWQudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyhuZXR3b3JrTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9LFxuICAgIGlzQW5kcm9pZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1YSA9IHdpbmRvdz8ubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSAmJiB1YS5pbmNsdWRlcygnYW5kcm9pZCcpO1xuICAgIH0sXG4gICAgaXNJb3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHVhLmluY2x1ZGVzKCdpcGhvbmUnKSB8fCB1YS5pbmNsdWRlcygnaXBhZCcpO1xuICAgIH0sXG4gICAgaXNTYWZhcmkoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0NsaWVudCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHVhLmluY2x1ZGVzKCdzYWZhcmknKTtcbiAgICB9LFxuICAgIGlzQ2xpZW50KCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfSxcbiAgICBpc1BhaXJpbmdFeHBpcmVkKGV4cGlyeSkge1xuICAgICAgICByZXR1cm4gZXhwaXJ5ID8gZXhwaXJ5IC0gRGF0ZS5ub3coKSA8PSBDb25zdGFudHNVdGlsLlRFTl9TRUNfTVMgOiB0cnVlO1xuICAgIH0sXG4gICAgaXNBbGxvd2VkUmV0cnkobGFzdFJldHJ5LCBkaWZmZXJlbmNlTXMgPSBDb25zdGFudHNVdGlsLk9ORV9TRUNfTVMpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsYXN0UmV0cnkgPj0gZGlmZmVyZW5jZU1zO1xuICAgIH0sXG4gICAgY29weVRvQ2xvcGJvYXJkKHRleHQpIHtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgfSxcbiAgICBpc0lmcmFtZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3c/LnNlbGYgIT09IHdpbmRvdz8udG9wO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGlzU2FmZUFwcCgpIHtcbiAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzQ2xpZW50KCkgJiYgd2luZG93LnNlbGYgIT09IHdpbmRvdy50b3ApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jZXN0b3IgPSB3aW5kb3c/LmxvY2F0aW9uPy5hbmNlc3Rvck9yaWdpbnM/LlswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzYWZlQXBwVXJsID0gJ2h0dHBzOi8vYXBwLnNhZmUuZ2xvYmFsJztcbiAgICAgICAgICAgICAgICBpZiAoYW5jZXN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5jZXN0b3JVcmwgPSBuZXcgVVJMKGFuY2VzdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FmZVVybCA9IG5ldyBVUkwoc2FmZUFwcFVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmNlc3RvclVybC5ob3N0bmFtZSA9PT0gc2FmZVVybC5ob3N0bmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGdldFBhaXJpbmdFeHBpcnkoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpICsgQ29uc3RhbnRzVXRpbC5GT1VSX01JTlVURVNfTVM7XG4gICAgfSxcbiAgICBnZXROZXR3b3JrSWQoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIGNhaXBBZGRyZXNzPy5zcGxpdCgnOicpWzFdO1xuICAgIH0sXG4gICAgZ2V0UGxhaW5BZGRyZXNzKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBjYWlwQWRkcmVzcz8uc3BsaXQoJzonKVsyXTtcbiAgICB9LFxuICAgIGFzeW5jIHdhaXQobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGRlYm91bmNlKGZ1bmMsIHRpbWVvdXQgPSA1MDApIHtcbiAgICAgICAgbGV0IHRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQobmV4dCwgdGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBpc0h0dHBVcmwodXJsKSB7XG4gICAgICAgIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IHVybC5zdGFydHNXaXRoKCdodHRwczovLycpO1xuICAgIH0sXG4gICAgZm9ybWF0TmF0aXZlVXJsKGFwcFVybCwgd2NVcmksIHVuaXZlcnNhbExpbmsgPSBudWxsKSB7XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0h0dHBVcmwoYXBwVXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0VW5pdmVyc2FsVXJsKGFwcFVybCwgd2NVcmkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzYWZlQXBwVXJsID0gYXBwVXJsO1xuICAgICAgICBsZXQgc2FmZVVuaXZlcnNhbExpbmsgPSB1bml2ZXJzYWxMaW5rO1xuICAgICAgICBpZiAoIXNhZmVBcHBVcmwuaW5jbHVkZXMoJzovLycpKSB7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYXBwVXJsLnJlcGxhY2VBbGwoJy8nLCAnJykucmVwbGFjZUFsbCgnOicsICcnKTtcbiAgICAgICAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfTovL2A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzYWZlQXBwVXJsLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfS9gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYWZlVW5pdmVyc2FsTGluayAmJiAhc2FmZVVuaXZlcnNhbExpbms/LmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHNhZmVVbml2ZXJzYWxMaW5rID0gYCR7c2FmZVVuaXZlcnNhbExpbmt9L2A7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5kcm9pZCBkZWVwbGlua3MgaW4gdGcgY29udGV4dCByZXF1aXJlIHRoZSB1cmkgdG8gYmUgZW5jb2RlZCB0d2ljZVxuICAgICAgICBpZiAodGhpcy5pc1RlbGVncmFtKCkgJiYgdGhpcy5pc0FuZHJvaWQoKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICB3Y1VyaSA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlZFdjVXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHdjVXJpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZGlyZWN0OiBgJHtzYWZlQXBwVXJsfXdjP3VyaT0ke2VuY29kZWRXY1VybH1gLFxuICAgICAgICAgICAgcmVkaXJlY3RVbml2ZXJzYWxMaW5rOiBzYWZlVW5pdmVyc2FsTGlua1xuICAgICAgICAgICAgICAgID8gYCR7c2FmZVVuaXZlcnNhbExpbmt9d2M/dXJpPSR7ZW5jb2RlZFdjVXJsfWBcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhyZWY6IHNhZmVBcHBVcmxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGZvcm1hdFVuaXZlcnNhbFVybChhcHBVcmwsIHdjVXJpKSB7XG4gICAgICAgIGlmICghQ29yZUhlbHBlclV0aWwuaXNIdHRwVXJsKGFwcFVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdE5hdGl2ZVVybChhcHBVcmwsIHdjVXJpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2FmZUFwcFVybCA9IGFwcFVybDtcbiAgICAgICAgaWYgKCFzYWZlQXBwVXJsLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfS9gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRXY1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWRpcmVjdDogYCR7c2FmZUFwcFVybH13Yz91cmk9JHtlbmNvZGVkV2NVcmx9YCxcbiAgICAgICAgICAgIGhyZWY6IHNhZmVBcHBVcmxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldE9wZW5UYXJnZXRGb3JQbGF0Zm9ybSh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gJ3BvcHVwV2luZG93Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5ICdfYmxhbmsnIGRlZXBsaW5rcyB3b3JrIGluIFRlbGVncmFtIGNvbnRleHRcbiAgICAgICAgaWYgKHRoaXMuaXNUZWxlZ3JhbSgpKSB7XG4gICAgICAgICAgICAvLyBCdXQgZm9yIHNvY2lhbCBsb2dpbiwgd2UgbmVlZCB0byBsb2FkIHRoZSBwYWdlIGluIHRoZSBzYW1lIGNvbnRleHRcbiAgICAgICAgICAgIGlmIChTdG9yYWdlVXRpbC5nZXRUZWxlZ3JhbVNvY2lhbFByb3ZpZGVyKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ190b3AnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdfYmxhbmsnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcbiAgICBvcGVuSHJlZihocmVmLCB0YXJnZXQsIGZlYXR1cmVzKSB7XG4gICAgICAgIHdpbmRvdz8ub3BlbihocmVmLCB0aGlzLmdldE9wZW5UYXJnZXRGb3JQbGF0Zm9ybSh0YXJnZXQpLCBmZWF0dXJlcyB8fCAnbm9yZWZlcnJlciBub29wZW5lcicpO1xuICAgIH0sXG4gICAgcmV0dXJuT3BlbkhyZWYoaHJlZiwgdGFyZ2V0LCBmZWF0dXJlcykge1xuICAgICAgICByZXR1cm4gd2luZG93Py5vcGVuKGhyZWYsIHRoaXMuZ2V0T3BlblRhcmdldEZvclBsYXRmb3JtKHRhcmdldCksIGZlYXR1cmVzIHx8ICdub3JlZmVycmVyIG5vb3BlbmVyJyk7XG4gICAgfSxcbiAgICBpc1RlbGVncmFtKCkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgKEJvb2xlYW4od2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5KSB8fFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgQm9vbGVhbih3aW5kb3cuVGVsZWdyYW0pIHx8XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eVByb3RvKSkpO1xuICAgIH0sXG4gICAgaXNQV0EoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU3RhbmRhbG9uZURpc3BsYXlNb2RlID0gd2luZG93Py5tYXRjaE1lZGlhICYmIHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogc3RhbmRhbG9uZSknKT8ubWF0Y2hlc1xuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgaXNJT1NTdGFuZGFsb25lID0gd2luZG93Py5uYXZpZ2F0b3I/LnN0YW5kYWxvbmU7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGlzU3RhbmRhbG9uZURpc3BsYXlNb2RlIHx8IGlzSU9TU3RhbmRhbG9uZSk7XG4gICAgfSxcbiAgICBhc3luYyBwcmVsb2FkSW1hZ2Uoc3JjKSB7XG4gICAgICAgIGNvbnN0IGltYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtpbWFnZVByb21pc2UsIENvcmVIZWxwZXJVdGlsLndhaXQoMjAwMCldKTtcbiAgICB9LFxuICAgIHBhcnNlQmFsYW5jZShiYWxhbmNlLCBzeW1ib2wpIHtcbiAgICAgICAgbGV0IGZvcm1hdHRlZEJhbGFuY2UgPSAnMC4wMDAnO1xuICAgICAgICBpZiAodHlwZW9mIGJhbGFuY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIoYmFsYW5jZSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bWJlcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRWYWx1ZSA9IChNYXRoLmZsb29yKG51bWJlciAqIDEwMDApIC8gMTAwMCkudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkQmFsYW5jZSA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbdmFsdWVTdHJpbmcsIGRlY2ltYWxzU3RyaW5nXSA9IGZvcm1hdHRlZEJhbGFuY2Uuc3BsaXQoJy4nKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZVN0cmluZyB8fCAnMCc7XG4gICAgICAgIGNvbnN0IGRlY2ltYWxzID0gZGVjaW1hbHNTdHJpbmcgfHwgJzAwMCc7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFRleHQgPSBgJHt2YWx1ZX0uJHtkZWNpbWFsc30ke3N5bWJvbCA/IGAgJHtzeW1ib2x9YCA6ICcnfWA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRUZXh0LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkZWNpbWFscyxcbiAgICAgICAgICAgIHN5bWJvbFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0QXBpVXJsKCkge1xuICAgICAgICByZXR1cm4gQ29tbW9uQ29uc3RhbnRzLlczTV9BUElfVVJMO1xuICAgIH0sXG4gICAgZ2V0QmxvY2tjaGFpbkFwaVVybCgpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50cy5CTE9DS0NIQUlOX0FQSV9SUENfVVJMO1xuICAgIH0sXG4gICAgZ2V0QW5hbHl0aWNzVXJsKCkge1xuICAgICAgICByZXR1cm4gQ29tbW9uQ29uc3RhbnRzLlBVTFNFX0FQSV9VUkw7XG4gICAgfSxcbiAgICBnZXRVVUlEKCkge1xuICAgICAgICBpZiAoY3J5cHRvPy5yYW5kb21VVUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9ndSwgYyA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICAgICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBwYXJzZUVycm9yKGVycm9yKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGVycm9yPy5pc3N1ZXM/LlswXT8ubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci5pc3N1ZXNbMF0ubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ1Vua25vd24gZXJyb3InO1xuICAgIH0sXG4gICAgc29ydFJlcXVlc3RlZE5ldHdvcmtzKGFwcHJvdmVkSWRzLCByZXF1ZXN0ZWROZXR3b3JrcyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkSW5kZXhNYXAgPSB7fTtcbiAgICAgICAgaWYgKHJlcXVlc3RlZE5ldHdvcmtzICYmIGFwcHJvdmVkSWRzKSB7XG4gICAgICAgICAgICBhcHByb3ZlZElkcy5mb3JFYWNoKChpZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZEluZGV4TWFwW2lkXSA9IGluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXF1ZXN0ZWROZXR3b3Jrcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhBID0gYXBwcm92ZWRJbmRleE1hcFthLmlkXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleEIgPSBhcHByb3ZlZEluZGV4TWFwW2IuaWRdO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleEEgIT09IHVuZGVmaW5lZCAmJiBpbmRleEIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhBIC0gaW5kZXhCO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleEEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4QiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0ZWROZXR3b3JrcztcbiAgICB9LFxuICAgIGNhbGN1bGF0ZUJhbGFuY2UoYXJyYXkpIHtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSkge1xuICAgICAgICAgICAgc3VtICs9IGl0ZW0udmFsdWUgPz8gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtO1xuICAgIH0sXG4gICAgZm9ybWF0VG9rZW5CYWxhbmNlKG51bWJlcikge1xuICAgICAgICBjb25zdCByb3VuZGVkTnVtYmVyID0gbnVtYmVyLnRvRml4ZWQoMik7XG4gICAgICAgIGNvbnN0IFtkb2xsYXJzLCBwZW5uaWVzXSA9IHJvdW5kZWROdW1iZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgcmV0dXJuIHsgZG9sbGFycywgcGVubmllcyB9O1xuICAgIH0sXG4gICAgaXNBZGRyZXNzKGFkZHJlc3MsIGNoYWluID0gJ2VpcDE1NScpIHtcbiAgICAgICAgc3dpdGNoIChjaGFpbikge1xuICAgICAgICAgICAgY2FzZSAnZWlwMTU1JzpcbiAgICAgICAgICAgICAgICBpZiAoIS9eKD86MHgpP1swLTlhLWZdezQwfSQvaXUudGVzdChhZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eKD86MHgpP1swLTlhLWZdezQwfSQvaXUudGVzdChhZGRyZXNzKSB8fFxuICAgICAgICAgICAgICAgICAgICAvXig/OjB4KT9bMC05QS1GXXs0MH0kL2l1LnRlc3QoYWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgJ3NvbGFuYSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9bMS05QS1ISi1OUC1aYS1rbS16XXszMiw0NH0kL2l1LnRlc3QoYWRkcmVzcyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdW5pcXVlQnkoYXJyLCBrZXkpIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gaXRlbVtrZXldO1xuICAgICAgICAgICAgaWYgKHNldC5oYXMoa2V5VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0LmFkZChrZXlWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5lcmF0ZVNka1ZlcnNpb24oYWRhcHRlcnMsIHBsYXRmb3JtLCB2ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IGhhc05vQWRhcHRlcnMgPSBhZGFwdGVycy5sZW5ndGggPT09IDA7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXJOYW1lcyA9IChoYXNOb0FkYXB0ZXJzXG4gICAgICAgICAgICA/IENvbnN0YW50c1V0aWwuQURBUFRFUl9UWVBFUy5VTklWRVJTQUxcbiAgICAgICAgICAgIDogYWRhcHRlcnMubWFwKGFkYXB0ZXIgPT4gYWRhcHRlci5hZGFwdGVyVHlwZSkuam9pbignLCcpKTtcbiAgICAgICAgcmV0dXJuIGAke3BsYXRmb3JtfS0ke2FkYXB0ZXJOYW1lc30tJHt2ZXJzaW9ufWA7XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICAgIGNyZWF0ZUFjY291bnQobmFtZXNwYWNlLCBhZGRyZXNzLCB0eXBlLCBwdWJsaWNLZXksIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcHVibGljS2V5LFxuICAgICAgICAgICAgcGF0aFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgaXNDYWlwQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWRkcmVzcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IGFkZHJlc3Muc3BsaXQoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gc2VjdGlvbnNbMF07XG4gICAgICAgIHJldHVybiAoc2VjdGlvbnMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gMyAmJlxuICAgICAgICAgICAgbmFtZXNwYWNlIGluIENvbW1vbkNvbnN0YW50cy5DSEFJTl9OQU1FX01BUCk7XG4gICAgfSxcbiAgICBnZXRBY2NvdW50KGFjY291bnQpIHtcbiAgICAgICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhY2NvdW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50LFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudC5hZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogYWNjb3VudC5jaGFpbklkXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBpc01hYygpIHtcbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHVhLmluY2x1ZGVzKCdtYWNpbnRvc2gnKSAmJiAhdWEuaW5jbHVkZXMoJ3NhZmFyaScpO1xuICAgIH0sXG4gICAgZm9ybWF0VGVsZWdyYW1Tb2NpYWxMb2dpblVybCh1cmwpIHtcbiAgICAgICAgY29uc3QgdmFsdWVUb0luamVjdCA9IGAtLSR7ZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdz8ubG9jYXRpb24uaHJlZil9YDtcbiAgICAgICAgY29uc3QgcGFyYW1Ub0luamVjdCA9ICdzdGF0ZT0nO1xuICAgICAgICBjb25zdCBwYXJzZWRVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIGlmIChwYXJzZWRVcmwuaG9zdCA9PT0gJ2F1dGgubWFnaWMubGluaycpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyUGFyYW0gPSAncHJvdmlkZXJfYXV0aG9yaXphdGlvbl91cmw9JztcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyVXJsID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZihwcm92aWRlclBhcmFtKSArIHByb3ZpZGVyUGFyYW0ubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFVybCA9IHRoaXMuaW5qZWN0SW50b1VybChkZWNvZGVVUklDb21wb25lbnQocHJvdmlkZXJVcmwpLCBwYXJhbVRvSW5qZWN0LCB2YWx1ZVRvSW5qZWN0KTtcbiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZShwcm92aWRlclVybCwgZW5jb2RlVVJJQ29tcG9uZW50KHJlc3VsdFVybCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluamVjdEludG9VcmwodXJsLCBwYXJhbVRvSW5qZWN0LCB2YWx1ZVRvSW5qZWN0KTtcbiAgICB9LFxuICAgIGluamVjdEludG9VcmwodXJsLCBrZXksIGFwcGVuZFN0cmluZykge1xuICAgICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiBcImtleVwiIGUuZy4gXCJzdGF0ZT1cIiBpbiB0aGUgVVJMXG4gICAgICAgIGNvbnN0IGtleUluZGV4ID0gdXJsLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgaWYgKGtleUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2tleX0gcGFyYW1ldGVyIG5vdCBmb3VuZCBpbiB0aGUgVVJMOiAke3VybH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgbmV4dCBcIiZcIiBhZnRlciBcImtleVwiXG4gICAgICAgIGNvbnN0IGtleUVuZEluZGV4ID0gdXJsLmluZGV4T2YoJyYnLCBrZXlJbmRleCk7XG4gICAgICAgIGNvbnN0IGtleUxlbmd0aCA9IGtleS5sZW5ndGg7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIFwiJlwiIGFmdGVyIGtleSwgaXQgbWVhbnMgXCJrZXlcIiBpcyB0aGUgbGFzdCBwYXJhbWV0ZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lZ2F0ZWQtY29uZGl0aW9uXG4gICAgICAgIGNvbnN0IGtleVBhcmFtRW5kID0ga2V5RW5kSW5kZXggIT09IC0xID8ga2V5RW5kSW5kZXggOiB1cmwubGVuZ3RoO1xuICAgICAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0IG9mIHRoZSBVUkwgYmVmb3JlIHRoZSBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgYmVmb3JlS2V5VmFsdWUgPSB1cmwuc3Vic3RyaW5nKDAsIGtleUluZGV4ICsga2V5TGVuZ3RoKTtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgY3VycmVudCBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgY3VycmVudEtleVZhbHVlID0gdXJsLnN1YnN0cmluZyhrZXlJbmRleCArIGtleUxlbmd0aCwga2V5UGFyYW1FbmQpO1xuICAgICAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0IG9mIHRoZSBVUkwgYWZ0ZXIgdGhlIGtleSB2YWx1ZVxuICAgICAgICBjb25zdCBhZnRlcktleVZhbHVlID0gdXJsLnN1YnN0cmluZyhrZXlFbmRJbmRleCk7XG4gICAgICAgIC8vIEFwcGVuZCB0aGUgbmV3IHN0cmluZyB0byB0aGUga2V5IHZhbHVlXG4gICAgICAgIGNvbnN0IG5ld0tleVZhbHVlID0gY3VycmVudEtleVZhbHVlICsgYXBwZW5kU3RyaW5nO1xuICAgICAgICAvLyBSZWNvbnN0cnVjdCB0aGUgVVJMIHdpdGggdGhlIGFwcGVuZGVkIGtleSB2YWx1ZVxuICAgICAgICBjb25zdCBuZXdVcmwgPSBiZWZvcmVLZXlWYWx1ZSArIG5ld0tleVZhbHVlICsgYWZ0ZXJLZXlWYWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ld1VybDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZUhlbHBlclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERC7811Utils: () => (/* binding */ ERC7811Utils)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/utils/unit/formatUnits.js\");\n\nconst ERC7811Utils = {\n    /**\n     * Creates a Balance object from an ERC7811 Asset object\n     * @param asset - Asset object to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns Balance object\n     */\n    createBalance(asset, chainId) {\n        const metadata = {\n            name: (asset.metadata['name'] || ''),\n            symbol: (asset.metadata['symbol'] || ''),\n            decimals: (asset.metadata['decimals'] || 0),\n            value: (asset.metadata['value'] || 0),\n            price: (asset.metadata['price'] || 0),\n            iconUrl: (asset.metadata['iconUrl'] || '')\n        };\n        return {\n            name: metadata.name,\n            symbol: metadata.symbol,\n            chainId,\n            address: asset.address === 'native'\n                ? undefined\n                : this.convertAddressToCAIP10Address(asset.address, chainId),\n            value: metadata.value,\n            price: metadata.price,\n            quantity: {\n                decimals: metadata.decimals.toString(),\n                numeric: this.convertHexToBalance({\n                    hex: asset.balance,\n                    decimals: metadata.decimals\n                })\n            },\n            iconUrl: metadata.iconUrl\n        };\n    },\n    /**\n     * Converts a hex string to a Balance object\n     * @param hex - Hex string to convert\n     * @param decimals - Number of decimals to use\n     * @returns Balance object\n     */\n    convertHexToBalance({ hex, decimals }) {\n        return (0,viem__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(BigInt(hex), decimals);\n    },\n    /**\n     * Converts an address to a CAIP-10 address\n     * @param address - Address to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns CAIP-10 address\n     */\n    convertAddressToCAIP10Address(address, chainId) {\n        return `${chainId}:${address}`;\n    },\n    /**\n     *  Creates a CAIP-2 Chain ID from a chain ID and namespace\n     * @param chainId  - Chain ID in hex format\n     * @param namespace  - Chain namespace\n     * @returns\n     */\n    createCAIP2ChainId(chainId, namespace) {\n        return `${namespace}:${parseInt(chainId, 16)}`;\n    },\n    /**\n     * Gets the chain ID in hex format from a CAIP-2 Chain ID\n     * @param caip2ChainId - CAIP-2 Chain ID\n     * @returns Chain ID in hex format\n     */\n    getChainIdHexFromCAIP2ChainId(caip2ChainId) {\n        const parts = caip2ChainId.split(':');\n        if (parts.length < 2 || !parts[1]) {\n            return '0x0';\n        }\n        const chainPart = parts[1];\n        const parsed = parseInt(chainPart, 10);\n        return isNaN(parsed) ? '0x0' : `0x${parsed.toString(16)}`;\n    },\n    /**\n     * Checks if a response is a valid WalletGetAssetsResponse\n     * @param response - The response to check\n     * @returns True if the response is a valid WalletGetAssetsResponse, false otherwise\n     */\n    isWalletGetAssetsResponse(response) {\n        // Check if response is an object and has the expected structure\n        if (typeof response !== 'object' || response === null) {\n            return false;\n        }\n        // Check if all values are arrays and conform to the expected asset structure\n        return Object.values(response).every(value => Array.isArray(value) && value.every(asset => this.isValidAsset(asset)));\n    },\n    /**\n     * Checks if an asset object is valid.\n     * @param asset - The asset object to check.\n     * @returns True if the asset is valid, false otherwise.\n     */\n    isValidAsset(asset) {\n        return (typeof asset === 'object' &&\n            asset !== null &&\n            typeof asset.address === 'string' &&\n            typeof asset.balance === 'string' &&\n            (asset.type === 'ERC20' || asset.type === 'NATIVE') &&\n            typeof asset.metadata === 'object' &&\n            asset.metadata !== null &&\n            typeof asset.metadata['name'] === 'string' &&\n            typeof asset.metadata['symbol'] === 'string' &&\n            typeof asset.metadata['decimals'] === 'number' &&\n            typeof asset.metadata['price'] === 'number' &&\n            typeof asset.metadata['iconUrl'] === 'string');\n    }\n};\n//# sourceMappingURL=ERC7811Util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FUkM3ODExVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQztBQUM1QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7QUFDekMsZUFBZSxpREFBVztBQUMxQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxHQUFHLFFBQVE7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsR0FBRyxzQkFBc0I7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvRVJDNzgxMVV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0VW5pdHMgfSBmcm9tICd2aWVtJztcbmV4cG9ydCBjb25zdCBFUkM3ODExVXRpbHMgPSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEJhbGFuY2Ugb2JqZWN0IGZyb20gYW4gRVJDNzgxMSBBc3NldCBvYmplY3RcbiAgICAgKiBAcGFyYW0gYXNzZXQgLSBBc3NldCBvYmplY3QgdG8gY29udmVydFxuICAgICAqIEBwYXJhbSBjaGFpbklkIC0gQ2hhaW4gSUQgaW4gQ0FJUC0yIGZvcm1hdFxuICAgICAqIEByZXR1cm5zIEJhbGFuY2Ugb2JqZWN0XG4gICAgICovXG4gICAgY3JlYXRlQmFsYW5jZShhc3NldCwgY2hhaW5JZCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6IChhc3NldC5tZXRhZGF0YVsnbmFtZSddIHx8ICcnKSxcbiAgICAgICAgICAgIHN5bWJvbDogKGFzc2V0Lm1ldGFkYXRhWydzeW1ib2wnXSB8fCAnJyksXG4gICAgICAgICAgICBkZWNpbWFsczogKGFzc2V0Lm1ldGFkYXRhWydkZWNpbWFscyddIHx8IDApLFxuICAgICAgICAgICAgdmFsdWU6IChhc3NldC5tZXRhZGF0YVsndmFsdWUnXSB8fCAwKSxcbiAgICAgICAgICAgIHByaWNlOiAoYXNzZXQubWV0YWRhdGFbJ3ByaWNlJ10gfHwgMCksXG4gICAgICAgICAgICBpY29uVXJsOiAoYXNzZXQubWV0YWRhdGFbJ2ljb25VcmwnXSB8fCAnJylcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICBzeW1ib2w6IG1ldGFkYXRhLnN5bWJvbCxcbiAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICBhZGRyZXNzOiBhc3NldC5hZGRyZXNzID09PSAnbmF0aXZlJ1xuICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgOiB0aGlzLmNvbnZlcnRBZGRyZXNzVG9DQUlQMTBBZGRyZXNzKGFzc2V0LmFkZHJlc3MsIGNoYWluSWQpLFxuICAgICAgICAgICAgdmFsdWU6IG1ldGFkYXRhLnZhbHVlLFxuICAgICAgICAgICAgcHJpY2U6IG1ldGFkYXRhLnByaWNlLFxuICAgICAgICAgICAgcXVhbnRpdHk6IHtcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogbWV0YWRhdGEuZGVjaW1hbHMudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBudW1lcmljOiB0aGlzLmNvbnZlcnRIZXhUb0JhbGFuY2Uoe1xuICAgICAgICAgICAgICAgICAgICBoZXg6IGFzc2V0LmJhbGFuY2UsXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBtZXRhZGF0YS5kZWNpbWFsc1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWNvblVybDogbWV0YWRhdGEuaWNvblVybFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBoZXggc3RyaW5nIHRvIGEgQmFsYW5jZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gaGV4IC0gSGV4IHN0cmluZyB0byBjb252ZXJ0XG4gICAgICogQHBhcmFtIGRlY2ltYWxzIC0gTnVtYmVyIG9mIGRlY2ltYWxzIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIEJhbGFuY2Ugb2JqZWN0XG4gICAgICovXG4gICAgY29udmVydEhleFRvQmFsYW5jZSh7IGhleCwgZGVjaW1hbHMgfSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0VW5pdHMoQmlnSW50KGhleCksIGRlY2ltYWxzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIGFkZHJlc3MgdG8gYSBDQUlQLTEwIGFkZHJlc3NcbiAgICAgKiBAcGFyYW0gYWRkcmVzcyAtIEFkZHJlc3MgdG8gY29udmVydFxuICAgICAqIEBwYXJhbSBjaGFpbklkIC0gQ2hhaW4gSUQgaW4gQ0FJUC0yIGZvcm1hdFxuICAgICAqIEByZXR1cm5zIENBSVAtMTAgYWRkcmVzc1xuICAgICAqL1xuICAgIGNvbnZlcnRBZGRyZXNzVG9DQUlQMTBBZGRyZXNzKGFkZHJlc3MsIGNoYWluSWQpIHtcbiAgICAgICAgcmV0dXJuIGAke2NoYWluSWR9OiR7YWRkcmVzc31gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogIENyZWF0ZXMgYSBDQUlQLTIgQ2hhaW4gSUQgZnJvbSBhIGNoYWluIElEIGFuZCBuYW1lc3BhY2VcbiAgICAgKiBAcGFyYW0gY2hhaW5JZCAgLSBDaGFpbiBJRCBpbiBoZXggZm9ybWF0XG4gICAgICogQHBhcmFtIG5hbWVzcGFjZSAgLSBDaGFpbiBuYW1lc3BhY2VcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGNyZWF0ZUNBSVAyQ2hhaW5JZChjaGFpbklkLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIGAke25hbWVzcGFjZX06JHtwYXJzZUludChjaGFpbklkLCAxNil9YDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNoYWluIElEIGluIGhleCBmb3JtYXQgZnJvbSBhIENBSVAtMiBDaGFpbiBJRFxuICAgICAqIEBwYXJhbSBjYWlwMkNoYWluSWQgLSBDQUlQLTIgQ2hhaW4gSURcbiAgICAgKiBAcmV0dXJucyBDaGFpbiBJRCBpbiBoZXggZm9ybWF0XG4gICAgICovXG4gICAgZ2V0Q2hhaW5JZEhleEZyb21DQUlQMkNoYWluSWQoY2FpcDJDaGFpbklkKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gY2FpcDJDaGFpbklkLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyIHx8ICFwYXJ0c1sxXSkge1xuICAgICAgICAgICAgcmV0dXJuICcweDAnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluUGFydCA9IHBhcnRzWzFdO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludChjaGFpblBhcnQsIDEwKTtcbiAgICAgICAgcmV0dXJuIGlzTmFOKHBhcnNlZCkgPyAnMHgwJyA6IGAweCR7cGFyc2VkLnRvU3RyaW5nKDE2KX1gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcmVzcG9uc2UgaXMgYSB2YWxpZCBXYWxsZXRHZXRBc3NldHNSZXNwb25zZVxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHJlc3BvbnNlIGlzIGEgdmFsaWQgV2FsbGV0R2V0QXNzZXRzUmVzcG9uc2UsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzV2FsbGV0R2V0QXNzZXRzUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgaXMgYW4gb2JqZWN0IGFuZCBoYXMgdGhlIGV4cGVjdGVkIHN0cnVjdHVyZVxuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlICE9PSAnb2JqZWN0JyB8fCByZXNwb25zZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIGFsbCB2YWx1ZXMgYXJlIGFycmF5cyBhbmQgY29uZm9ybSB0byB0aGUgZXhwZWN0ZWQgYXNzZXQgc3RydWN0dXJlXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3BvbnNlKS5ldmVyeSh2YWx1ZSA9PiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeShhc3NldCA9PiB0aGlzLmlzVmFsaWRBc3NldChhc3NldCkpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhbiBhc3NldCBvYmplY3QgaXMgdmFsaWQuXG4gICAgICogQHBhcmFtIGFzc2V0IC0gVGhlIGFzc2V0IG9iamVjdCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBhc3NldCBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzVmFsaWRBc3NldChhc3NldCkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBhc3NldCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGFzc2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQuYWRkcmVzcyA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5iYWxhbmNlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgKGFzc2V0LnR5cGUgPT09ICdFUkMyMCcgfHwgYXNzZXQudHlwZSA9PT0gJ05BVElWRScpICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhc3NldC5tZXRhZGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhWyduYW1lJ10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGFbJ3N5bWJvbCddID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhWydkZWNpbWFscyddID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhWydwcmljZSddID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhWydpY29uVXJsJ10gPT09ICdzdHJpbmcnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RVJDNzgxMVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsUtil: () => (/* binding */ EnsUtil)\n/* harmony export */ });\nconst SLIP44_MSB = 0x80000000;\nconst EnsUtil = {\n    convertEVMChainIdToCoinType(chainId) {\n        if (chainId >= SLIP44_MSB) {\n            throw new Error('Invalid chainId');\n        }\n        return (SLIP44_MSB | chainId) >>> 0;\n    }\n};\n//# sourceMappingURL=EnsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FbnNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FbnNVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNMSVA0NF9NU0IgPSAweDgwMDAwMDAwO1xuZXhwb3J0IGNvbnN0IEVuc1V0aWwgPSB7XG4gICAgY29udmVydEVWTUNoYWluSWRUb0NvaW5UeXBlKGNoYWluSWQpIHtcbiAgICAgICAgaWYgKGNoYWluSWQgPj0gU0xJUDQ0X01TQikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNoYWluSWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFNMSVA0NF9NU0IgfCBjaGFpbklkKSA+Pj4gMDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW5zVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assets: () => (/* binding */ assets),\n/* harmony export */   baseSepoliaUSDC: () => (/* binding */ baseSepoliaUSDC),\n/* harmony export */   baseUSDC: () => (/* binding */ baseUSDC),\n/* harmony export */   formatCaip19Asset: () => (/* binding */ formatCaip19Asset),\n/* harmony export */   getApiUrl: () => (/* binding */ getApiUrl),\n/* harmony export */   getBuyStatus: () => (/* binding */ getBuyStatus),\n/* harmony export */   getExchanges: () => (/* binding */ getExchanges),\n/* harmony export */   getPayUrl: () => (/* binding */ getPayUrl),\n/* harmony export */   getPaymentAssetsForNetwork: () => (/* binding */ getPaymentAssetsForNetwork)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\nconst CHAIN_ASSET_INFO_MAP = {\n    eip155: {\n        native: { assetNamespace: 'slip44', assetReference: '60' },\n        defaultTokenNamespace: 'erc20'\n    },\n    solana: {\n        native: { assetNamespace: 'slip44', assetReference: '501' },\n        defaultTokenNamespace: 'token'\n    }\n};\nclass JsonRpcError extends Error {\n}\nfunction getApiUrl() {\n    const { sdkType, sdkVersion, projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const url = new URL('https://rpc.walletconnect.org/v1/json-rpc');\n    url.searchParams.set('projectId', projectId);\n    url.searchParams.set('st', sdkType);\n    url.searchParams.set('sv', sdkVersion);\n    url.searchParams.set('source', 'fund-wallet');\n    return url.toString();\n}\nasync function sendRequest(method, params) {\n    const url = getApiUrl();\n    const { projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const requestBody = {\n        jsonrpc: '2.0',\n        id: 1,\n        method,\n        params: {\n            ...(params || {}),\n            projectId\n        }\n    };\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: { 'Content-Type': 'application/json' }\n    });\n    const json = await response.json();\n    if (json.error) {\n        throw new JsonRpcError(json.error.message);\n    }\n    return json;\n}\nasync function getExchanges(params) {\n    const response = await sendRequest('reown_getExchanges', params);\n    return response.result;\n}\nasync function getPayUrl(params) {\n    const response = await sendRequest('reown_getExchangePayUrl', params);\n    return response.result;\n}\nasync function getBuyStatus(params) {\n    const response = await sendRequest('reown_getExchangeBuyStatus', params);\n    return response.result;\n}\nfunction formatCaip19Asset(caipNetworkId, asset) {\n    const { chainNamespace, chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipNetworkId(caipNetworkId);\n    const chainInfo = CHAIN_ASSET_INFO_MAP[chainNamespace];\n    if (!chainInfo) {\n        throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${chainNamespace}`);\n    }\n    let assetNamespace = chainInfo.native.assetNamespace;\n    let assetReference = chainInfo.native.assetReference;\n    if (asset !== 'native') {\n        assetNamespace = chainInfo.defaultTokenNamespace;\n        assetReference = asset;\n    }\n    const networkPart = `${chainNamespace}:${chainId}`;\n    return `${networkPart}/${assetNamespace}:${assetReference}`;\n}\n// -- Assets ------------------------------------------------------------------ //\nconst ethereumETH = {\n    network: 'eip155:1',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseETH = {\n    network: 'eip155:8453',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseUSDC = {\n    network: 'eip155:8453',\n    asset: '0x833589fcd6edb6e08f4c7c32d4f71b54bda02913',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaUSDC = {\n    network: 'eip155:84532',\n    asset: '0x036CbD53842c5426634e7929541eC2318f3dCF7e',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaETH = {\n    network: 'eip155:84532',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst ethereumUSDC = {\n    network: 'eip155:1',\n    asset: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst arbitrumUSDC = {\n    network: 'eip155:42161',\n    asset: '0xaf88d065e77c8cC2239327C5EDb3A432268e5831',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst polygonUSDC = {\n    network: 'eip155:137',\n    asset: '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst solanaUSDC = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst ethereumUSDT = {\n    network: 'eip155:1',\n    asset: '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst optimismUSDT = {\n    network: 'eip155:10',\n    asset: '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst arbitrumUSDT = {\n    network: 'eip155:42161',\n    asset: '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst polygonUSDT = {\n    network: 'eip155:137',\n    asset: '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaUSDT = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaSOL = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'native',\n    metadata: {\n        name: 'Solana',\n        symbol: 'SOL',\n        decimals: 9\n    }\n};\nconst assets = {\n    ethereumETH,\n    baseETH,\n    baseUSDC,\n    baseSepoliaETH,\n    ethereumUSDC,\n    arbitrumUSDC,\n    polygonUSDC,\n    solanaUSDC,\n    ethereumUSDT,\n    optimismUSDT,\n    arbitrumUSDT,\n    polygonUSDT,\n    solanaUSDT,\n    solanaSOL\n};\nfunction getPaymentAssetsForNetwork(network) {\n    return Object.values(assets).filter(asset => asset.network === network);\n}\n//# sourceMappingURL=ExchangeUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FeGNoYW5nZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDdUI7QUFDeEU7QUFDQTtBQUNBLGtCQUFrQixnREFBZ0Q7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBa0IsaURBQWlEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksaUNBQWlDLEVBQUUsZ0ZBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWSxFQUFFLGdGQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDBCQUEwQixFQUFFLDJEQUFTO0FBQ2pEO0FBQ0E7QUFDQSwrRUFBK0UsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlLEdBQUcsUUFBUTtBQUNyRCxjQUFjLFlBQVksR0FBRyxlQUFlLEdBQUcsZUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FeGNoYW5nZVV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5jb25zdCBDSEFJTl9BU1NFVF9JTkZPX01BUCA9IHtcbiAgICBlaXAxNTU6IHtcbiAgICAgICAgbmF0aXZlOiB7IGFzc2V0TmFtZXNwYWNlOiAnc2xpcDQ0JywgYXNzZXRSZWZlcmVuY2U6ICc2MCcgfSxcbiAgICAgICAgZGVmYXVsdFRva2VuTmFtZXNwYWNlOiAnZXJjMjAnXG4gICAgfSxcbiAgICBzb2xhbmE6IHtcbiAgICAgICAgbmF0aXZlOiB7IGFzc2V0TmFtZXNwYWNlOiAnc2xpcDQ0JywgYXNzZXRSZWZlcmVuY2U6ICc1MDEnIH0sXG4gICAgICAgIGRlZmF1bHRUb2tlbk5hbWVzcGFjZTogJ3Rva2VuJ1xuICAgIH1cbn07XG5jbGFzcyBKc29uUnBjRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBpVXJsKCkge1xuICAgIGNvbnN0IHsgc2RrVHlwZSwgc2RrVmVyc2lvbiwgcHJvamVjdElkIH0gPSBPcHRpb25zQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpO1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoJ2h0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxL2pzb24tcnBjJyk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N0Jywgc2RrVHlwZSk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N2Jywgc2RrVmVyc2lvbik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3NvdXJjZScsICdmdW5kLXdhbGxldCcpO1xuICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgY29uc3QgdXJsID0gZ2V0QXBpVXJsKCk7XG4gICAgY29uc3QgeyBwcm9qZWN0SWQgfSA9IE9wdGlvbnNDb250cm9sbGVyLmdldFNuYXBzaG90KCk7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICBpZDogMSxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXMgfHwge30pLFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgfSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAoanNvbi5lcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblJwY0Vycm9yKGpzb24uZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEV4Y2hhbmdlcyhwYXJhbXMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KCdyZW93bl9nZXRFeGNoYW5nZXMnLCBwYXJhbXMpO1xuICAgIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGF5VXJsKHBhcmFtcykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QoJ3Jlb3duX2dldEV4Y2hhbmdlUGF5VXJsJywgcGFyYW1zKTtcbiAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJ1eVN0YXR1cyhwYXJhbXMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KCdyZW93bl9nZXRFeGNoYW5nZUJ1eVN0YXR1cycsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRDYWlwMTlBc3NldChjYWlwTmV0d29ya0lkLCBhc3NldCkge1xuICAgIGNvbnN0IHsgY2hhaW5OYW1lc3BhY2UsIGNoYWluSWQgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcmtJZCk7XG4gICAgY29uc3QgY2hhaW5JbmZvID0gQ0hBSU5fQVNTRVRfSU5GT19NQVBbY2hhaW5OYW1lc3BhY2VdO1xuICAgIGlmICghY2hhaW5JbmZvKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2hhaW4gbmFtZXNwYWNlIGZvciBDQUlQLTE5IGZvcm1hdHRpbmc6ICR7Y2hhaW5OYW1lc3BhY2V9YCk7XG4gICAgfVxuICAgIGxldCBhc3NldE5hbWVzcGFjZSA9IGNoYWluSW5mby5uYXRpdmUuYXNzZXROYW1lc3BhY2U7XG4gICAgbGV0IGFzc2V0UmVmZXJlbmNlID0gY2hhaW5JbmZvLm5hdGl2ZS5hc3NldFJlZmVyZW5jZTtcbiAgICBpZiAoYXNzZXQgIT09ICduYXRpdmUnKSB7XG4gICAgICAgIGFzc2V0TmFtZXNwYWNlID0gY2hhaW5JbmZvLmRlZmF1bHRUb2tlbk5hbWVzcGFjZTtcbiAgICAgICAgYXNzZXRSZWZlcmVuY2UgPSBhc3NldDtcbiAgICB9XG4gICAgY29uc3QgbmV0d29ya1BhcnQgPSBgJHtjaGFpbk5hbWVzcGFjZX06JHtjaGFpbklkfWA7XG4gICAgcmV0dXJuIGAke25ldHdvcmtQYXJ0fS8ke2Fzc2V0TmFtZXNwYWNlfToke2Fzc2V0UmVmZXJlbmNlfWA7XG59XG4vLyAtLSBBc3NldHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBldGhlcmV1bUVUSCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEnLFxuICAgIGFzc2V0OiAnbmF0aXZlJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnRXRoZXJldW0nLFxuICAgICAgICBzeW1ib2w6ICdFVEgnLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICB9XG59O1xuY29uc3QgYmFzZUVUSCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1Ojg0NTMnLFxuICAgIGFzc2V0OiAnbmF0aXZlJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnRXRoZXJldW0nLFxuICAgICAgICBzeW1ib2w6ICdFVEgnLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJhc2VVU0RDID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6ODQ1MycsXG4gICAgYXNzZXQ6ICcweDgzMzU4OWZjZDZlZGI2ZTA4ZjRjN2MzMmQ0ZjcxYjU0YmRhMDI5MTMnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgYmFzZVNlcG9saWFVU0RDID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6ODQ1MzInLFxuICAgIGFzc2V0OiAnMHgwMzZDYkQ1Mzg0MmM1NDI2NjM0ZTc5Mjk1NDFlQzIzMThmM2RDRjdlJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgYmFzZVNlcG9saWFFVEggPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo4NDUzMicsXG4gICAgYXNzZXQ6ICduYXRpdmUnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgIH1cbn07XG5jb25zdCBldGhlcmV1bVVTREMgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxJyxcbiAgICBhc3NldDogJzB4QTBiODY5OTFjNjIxOGIzNmMxZDE5RDRhMmU5RWIwY0UzNjA2ZUI0OCcsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IGFyYml0cnVtVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjQyMTYxJyxcbiAgICBhc3NldDogJzB4YWY4OGQwNjVlNzdjOGNDMjIzOTMyN0M1RURiM0E0MzIyNjhlNTgzMScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IHBvbHlnb25VU0RDID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MTM3JyxcbiAgICBhc3NldDogJzB4Mjc5MWJjYTFmMmRlNDY2MWVkODhhMzBjOTlhN2E5NDQ5YWE4NDE3NCcsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IHNvbGFuYVVTREMgPSB7XG4gICAgbmV0d29yazogJ3NvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcCcsXG4gICAgYXNzZXQ6ICdFUGpGV2RkNUF1ZnFTU3FlTTJxTjF4enliYXBDOEc0d0VHR2tad3lURHQxdicsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IGV0aGVyZXVtVVNEVCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEnLFxuICAgIGFzc2V0OiAnMHhkQUMxN0Y5NThEMmVlNTIzYTIyMDYyMDY5OTQ1OTdDMTNEODMxZWM3JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVGV0aGVyIFVTRCcsXG4gICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBvcHRpbWlzbVVTRFQgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxMCcsXG4gICAgYXNzZXQ6ICcweDk0YjAwOGFBMDA1NzljMTMwN0IwRUYyYzQ5OWFEOThhOGNlNThlNTgnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdUZXRoZXIgVVNEJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IGFyYml0cnVtVVNEVCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjQyMTYxJyxcbiAgICBhc3NldDogJzB4RmQwODZiQzdDRDVDNDgxRENDOUM4NWViRTQ3OEExQzBiNjlGQ2JiOScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1RldGhlciBVU0QnLFxuICAgICAgICBzeW1ib2w6ICdVU0RUJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgcG9seWdvblVTRFQgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxMzcnLFxuICAgIGFzc2V0OiAnMHhjMjEzMmQwNWQzMWM5MTRhODdjNjYxMWMxMDc0OGFlYjA0YjU4ZThmJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVGV0aGVyIFVTRCcsXG4gICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBzb2xhbmFVU0RUID0ge1xuICAgIG5ldHdvcms6ICdzb2xhbmE6NWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnLFxuICAgIGFzc2V0OiAnRXM5dk1GcnphQ0VSbUpmckY0SDJGWUQ0S0NvTmtZMTFNY0NlOEJlbndOWUInLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdUZXRoZXIgVVNEJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IHNvbGFuYVNPTCA9IHtcbiAgICBuZXR3b3JrOiAnc29sYW5hOjVleWt0NFVzRnY4UDhOSmRUUkVwWTF2enFLcVpLdmRwJyxcbiAgICBhc3NldDogJ25hdGl2ZScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1NvbGFuYScsXG4gICAgICAgIHN5bWJvbDogJ1NPTCcsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBhc3NldHMgPSB7XG4gICAgZXRoZXJldW1FVEgsXG4gICAgYmFzZUVUSCxcbiAgICBiYXNlVVNEQyxcbiAgICBiYXNlU2Vwb2xpYUVUSCxcbiAgICBldGhlcmV1bVVTREMsXG4gICAgYXJiaXRydW1VU0RDLFxuICAgIHBvbHlnb25VU0RDLFxuICAgIHNvbGFuYVVTREMsXG4gICAgZXRoZXJldW1VU0RULFxuICAgIG9wdGltaXNtVVNEVCxcbiAgICBhcmJpdHJ1bVVTRFQsXG4gICAgcG9seWdvblVTRFQsXG4gICAgc29sYW5hVVNEVCxcbiAgICBzb2xhbmFTT0xcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF5bWVudEFzc2V0c0Zvck5ldHdvcmsobmV0d29yaykge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGFzc2V0cykuZmlsdGVyKGFzc2V0ID0+IGFzc2V0Lm5ldHdvcmsgPT09IG5ldHdvcmspO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXhjaGFuZ2VVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchUtil: () => (/* binding */ FetchUtil)\n/* harmony export */ });\nasync function fetchData(...args) {\n    const response = await fetch(...args);\n    if (!response.ok) {\n        // Create error object and reject if not a 2xx response code\n        const err = new Error(`HTTP status code: ${response.status}`, {\n            cause: response\n        });\n        throw err;\n    }\n    return response;\n}\n// -- Utility --------------------------------------------------------------------\nclass FetchUtil {\n    constructor({ baseUrl, clientId }) {\n        this.baseUrl = baseUrl;\n        this.clientId = clientId;\n    }\n    async get({ headers, signal, cache, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal, cache });\n        return response.json();\n    }\n    async getBlob({ headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal });\n        return response.blob();\n    }\n    async post({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'POST',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async put({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'PUT',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async delete({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'DELETE',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    createUrl({ path, params }) {\n        const url = new URL(path, this.baseUrl);\n        if (params) {\n            Object.entries(params).forEach(([key, value]) => {\n                if (value) {\n                    url.searchParams.append(key, value);\n                }\n            });\n        }\n        if (this.clientId) {\n            url.searchParams.append('clientId', this.clientId);\n        }\n        return url;\n    }\n    sendBeacon({ body, ...args }) {\n        const url = this.createUrl(args);\n        return navigator.sendBeacon(url.toString(), body ? JSON.stringify(body) : undefined);\n    }\n}\n//# sourceMappingURL=FetchUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9GZXRjaFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdCQUFnQjtBQUNuRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQ0FBaUM7QUFDakQ7QUFDQSxnREFBZ0QsdUNBQXVDO0FBQ3ZGO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0EsZ0RBQWdELGdDQUFnQztBQUNoRjtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdCQUFnQixnQ0FBZ0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQkFBbUIsZ0NBQWdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvRmV0Y2hVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFzeW5jIGZ1bmN0aW9uIGZldGNoRGF0YSguLi5hcmdzKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCguLi5hcmdzKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIC8vIENyZWF0ZSBlcnJvciBvYmplY3QgYW5kIHJlamVjdCBpZiBub3QgYSAyeHggcmVzcG9uc2UgY29kZVxuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEhUVFAgc3RhdHVzIGNvZGU6ICR7cmVzcG9uc2Uuc3RhdHVzfWAsIHtcbiAgICAgICAgICAgIGNhdXNlOiByZXNwb25zZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG4vLyAtLSBVdGlsaXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgRmV0Y2hVdGlsIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGNsaWVudElkIH0pIHtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgIH1cbiAgICBhc3luYyBnZXQoeyBoZWFkZXJzLCBzaWduYWwsIGNhY2hlLCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hEYXRhKHVybCwgeyBtZXRob2Q6ICdHRVQnLCBoZWFkZXJzLCBzaWduYWwsIGNhY2hlIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyBnZXRCbG9iKHsgaGVhZGVycywgc2lnbmFsLCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hEYXRhKHVybCwgeyBtZXRob2Q6ICdHRVQnLCBoZWFkZXJzLCBzaWduYWwgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgfVxuICAgIGFzeW5jIHBvc3QoeyBib2R5LCBoZWFkZXJzLCBzaWduYWwsIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaERhdGEodXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIHB1dCh7IGJvZHksIGhlYWRlcnMsIHNpZ25hbCwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRGF0YSh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2lnbmFsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyBkZWxldGUoeyBib2R5LCBoZWFkZXJzLCBzaWduYWwsIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaERhdGEodXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hbFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgY3JlYXRlVXJsKHsgcGF0aCwgcGFyYW1zIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChwYXRoLCB0aGlzLmJhc2VVcmwpO1xuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jbGllbnRJZCkge1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2NsaWVudElkJywgdGhpcy5jbGllbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgc2VuZEJlYWNvbih7IGJvZHksIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZW5kQmVhY29uKHVybC50b1N0cmluZygpLCBib2R5ID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZldGNoVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CUSTOM_DEEPLINK_WALLETS: () => (/* binding */ CUSTOM_DEEPLINK_WALLETS),\n/* harmony export */   MobileWalletUtil: () => (/* binding */ MobileWalletUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n\n\n/*\n * Exclude wallets that do not support relay connections but have custom deeplink mechanisms\n * Excludes:\n * - Phantom\n * - Coinbase\n */\nconst CUSTOM_DEEPLINK_WALLETS = {\n    PHANTOM: {\n        id: 'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393',\n        url: 'https://phantom.app'\n    },\n    SOLFLARE: {\n        id: '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',\n        url: 'https://solflare.com'\n    },\n    COINBASE: {\n        id: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n        url: 'https://go.cb-w.com'\n    },\n    /*\n     * Got details from their npm package:\n     * https://www.npmjs.com/package/@binance/w3w-utils?activeTab=code\n     * https://developers.binance.com/docs/binance-w3w/evm-compatible-provider#getdeeplink\n     */\n    BINANCE: {\n        id: '2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25',\n        appId: 'yFK5FCqYprrXDiVFbhyRx7',\n        deeplink: 'bnc://app.binance.com/mp/app',\n        url: 'https://app.binance.com/en/download'\n    }\n};\nconst MobileWalletUtil = {\n    /**\n     * Handles mobile wallet redirection for wallets that have Universal Links and doesn't support WalletConnect Deep Links.\n     *\n     * @param {string} id - The id of the wallet.\n     * @param {ChainNamespace} namespace - The namespace of the chain.\n     */\n    handleMobileDeeplinkRedirect(id, namespace) {\n        /**\n         * Universal Links requires explicit user interaction to open the wallet app.\n         * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.\n         * But this breaks the UL functionality for some wallets like Phantom.\n         */\n        const href = window.location.href;\n        const encodedHref = encodeURIComponent(href);\n        if (id === CUSTOM_DEEPLINK_WALLETS.PHANTOM.id && !('phantom' in window)) {\n            const protocol = href.startsWith('https') ? 'https' : 'http';\n            const host = href.split('/')[2];\n            const encodedRef = encodeURIComponent(`${protocol}://${host}`);\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.PHANTOM.url}/ul/browse/${encodedHref}?ref=${encodedRef}`;\n        }\n        if (id === CUSTOM_DEEPLINK_WALLETS.SOLFLARE.id && !('solflare' in window)) {\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.SOLFLARE.url}/ul/v1/browse/${encodedHref}?ref=${encodedHref}`;\n        }\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.COINBASE.id && !('coinbaseSolana' in window)) {\n                window.location.href = `${CUSTOM_DEEPLINK_WALLETS.COINBASE.url}/dapp?cb_url=${encodedHref}`;\n            }\n        }\n        /*\n         * Binance Web3 Wallet doesn't support WalletConnect for Bitcoin.\n         * For now we use their deeplink to open the in-app browser instead.\n         */\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.BITCOIN) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.BINANCE.id && !('binancew3w' in window)) {\n                const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n                const startPagePath = window.btoa('/pages/browser/index');\n                const startPageQuery = window.btoa(`url=${encodedHref}&defaultChainId=${activeCaipNetwork?.id ?? 1}`);\n                const deeplink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.deeplink);\n                deeplink.searchParams.set('appId', CUSTOM_DEEPLINK_WALLETS.BINANCE.appId);\n                deeplink.searchParams.set('startPagePath', startPagePath);\n                deeplink.searchParams.set('startPageQuery', startPageQuery);\n                const universalLink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.url);\n                universalLink.searchParams.set('_dp', window.btoa(deeplink.toString()));\n                window.location.href = universalLink.toString();\n            }\n        }\n    }\n};\n//# sourceMappingURL=MobileWallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2JpbGVXYWxsZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDtBQUNlO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVMsS0FBSyxLQUFLO0FBQ3hFLHNDQUFzQyxvQ0FBb0MsYUFBYSxZQUFZLE9BQU8sV0FBVztBQUNySDtBQUNBO0FBQ0Esc0NBQXNDLHFDQUFxQyxnQkFBZ0IsWUFBWSxPQUFPLFlBQVk7QUFDMUg7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMscUNBQXFDLGVBQWUsWUFBWTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMsNEVBQWU7QUFDekQ7QUFDQSwwREFBMEQsWUFBWSxrQkFBa0IsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2JpbGVXYWxsZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG4vKlxuICogRXhjbHVkZSB3YWxsZXRzIHRoYXQgZG8gbm90IHN1cHBvcnQgcmVsYXkgY29ubmVjdGlvbnMgYnV0IGhhdmUgY3VzdG9tIGRlZXBsaW5rIG1lY2hhbmlzbXNcbiAqIEV4Y2x1ZGVzOlxuICogLSBQaGFudG9tXG4gKiAtIENvaW5iYXNlXG4gKi9cbmV4cG9ydCBjb25zdCBDVVNUT01fREVFUExJTktfV0FMTEVUUyA9IHtcbiAgICBQSEFOVE9NOiB7XG4gICAgICAgIGlkOiAnYTc5N2FhMzVjMGZhZGJmYzFhNTNlN2Y2NzUxNjJlZDUyMjY5NjhiNDRhMTllZTNkMjQzODVjNjRkMWQzYzM5MycsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vcGhhbnRvbS5hcHAnXG4gICAgfSxcbiAgICBTT0xGTEFSRToge1xuICAgICAgICBpZDogJzFjYTBiZGQ0NzQ3NTc4NzA1YjE5MzlhZjAyM2QxMjA2NzdjNjRmZTZjYTc2YWRkODFmZGEzNmUzNTA2MDVlNzknLFxuICAgICAgICB1cmw6ICdodHRwczovL3NvbGZsYXJlLmNvbSdcbiAgICB9LFxuICAgIENPSU5CQVNFOiB7XG4gICAgICAgIGlkOiAnZmQyMGRjNDI2ZmIzNzU2NmQ4MDMyMDViMTliYmMxZDQwOTZiMjQ4YWMwNDU0OGUzY2ZiNmIzYTM4YmQwMzNhYScsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vZ28uY2Itdy5jb20nXG4gICAgfSxcbiAgICAvKlxuICAgICAqIEdvdCBkZXRhaWxzIGZyb20gdGhlaXIgbnBtIHBhY2thZ2U6XG4gICAgICogaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQGJpbmFuY2UvdzN3LXV0aWxzP2FjdGl2ZVRhYj1jb2RlXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmJpbmFuY2UuY29tL2RvY3MvYmluYW5jZS13M3cvZXZtLWNvbXBhdGlibGUtcHJvdmlkZXIjZ2V0ZGVlcGxpbmtcbiAgICAgKi9cbiAgICBCSU5BTkNFOiB7XG4gICAgICAgIGlkOiAnMmZhZmVhMzViYjQ3MWQyMjg4OWNjYjQ5YzA4ZDk5ZGQwYTE4YTM3OTgyNjAyYzMzZjY5NmE1NzIzOTM0YmEyNScsXG4gICAgICAgIGFwcElkOiAneUZLNUZDcVlwcnJYRGlWRmJoeVJ4NycsXG4gICAgICAgIGRlZXBsaW5rOiAnYm5jOi8vYXBwLmJpbmFuY2UuY29tL21wL2FwcCcsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vYXBwLmJpbmFuY2UuY29tL2VuL2Rvd25sb2FkJ1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgTW9iaWxlV2FsbGV0VXRpbCA9IHtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIG1vYmlsZSB3YWxsZXQgcmVkaXJlY3Rpb24gZm9yIHdhbGxldHMgdGhhdCBoYXZlIFVuaXZlcnNhbCBMaW5rcyBhbmQgZG9lc24ndCBzdXBwb3J0IFdhbGxldENvbm5lY3QgRGVlcCBMaW5rcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgd2FsbGV0LlxuICAgICAqIEBwYXJhbSB7Q2hhaW5OYW1lc3BhY2V9IG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIGNoYWluLlxuICAgICAqL1xuICAgIGhhbmRsZU1vYmlsZURlZXBsaW5rUmVkaXJlY3QoaWQsIG5hbWVzcGFjZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pdmVyc2FsIExpbmtzIHJlcXVpcmVzIGV4cGxpY2l0IHVzZXIgaW50ZXJhY3Rpb24gdG8gb3BlbiB0aGUgd2FsbGV0IGFwcC5cbiAgICAgICAgICogUHJldmlvdXNseSB3ZSd2ZSBiZWVuIGNhbGxpbmcgdGhpcyB3aXRoIHRoZSBsaWZlLWN5Y2xlIG1ldGhvZHMgaW4gdGhlIFNvbGFuYSBjbGllbnRzIGJ5IGxpc3RlbmluZyB0aGUgU0VMRUNUX1dBTExFVCBldmVudCBvZiBFdmVudENvbnRyb2xsZXIuXG4gICAgICAgICAqIEJ1dCB0aGlzIGJyZWFrcyB0aGUgVUwgZnVuY3Rpb25hbGl0eSBmb3Igc29tZSB3YWxsZXRzIGxpa2UgUGhhbnRvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgY29uc3QgZW5jb2RlZEhyZWYgPSBlbmNvZGVVUklDb21wb25lbnQoaHJlZik7XG4gICAgICAgIGlmIChpZCA9PT0gQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuUEhBTlRPTS5pZCAmJiAhKCdwaGFudG9tJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm90b2NvbCA9IGhyZWYuc3RhcnRzV2l0aCgnaHR0cHMnKSA/ICdodHRwcycgOiAnaHR0cCc7XG4gICAgICAgICAgICBjb25zdCBob3N0ID0gaHJlZi5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZFJlZiA9IGVuY29kZVVSSUNvbXBvbmVudChgJHtwcm90b2NvbH06Ly8ke2hvc3R9YCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke0NVU1RPTV9ERUVQTElOS19XQUxMRVRTLlBIQU5UT00udXJsfS91bC9icm93c2UvJHtlbmNvZGVkSHJlZn0/cmVmPSR7ZW5jb2RlZFJlZn1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCA9PT0gQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuU09MRkxBUkUuaWQgJiYgISgnc29sZmxhcmUnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYCR7Q1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuU09MRkxBUkUudXJsfS91bC92MS9icm93c2UvJHtlbmNvZGVkSHJlZn0/cmVmPSR7ZW5jb2RlZEhyZWZ9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXNwYWNlID09PSBDb25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQSkge1xuICAgICAgICAgICAgaWYgKGlkID09PSBDVVNUT01fREVFUExJTktfV0FMTEVUUy5DT0lOQkFTRS5pZCAmJiAhKCdjb2luYmFzZVNvbGFuYScgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYCR7Q1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQ09JTkJBU0UudXJsfS9kYXBwP2NiX3VybD0ke2VuY29kZWRIcmVmfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogQmluYW5jZSBXZWIzIFdhbGxldCBkb2Vzbid0IHN1cHBvcnQgV2FsbGV0Q29ubmVjdCBmb3IgQml0Y29pbi5cbiAgICAgICAgICogRm9yIG5vdyB3ZSB1c2UgdGhlaXIgZGVlcGxpbmsgdG8gb3BlbiB0aGUgaW4tYXBwIGJyb3dzZXIgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uQklUQ09JTikge1xuICAgICAgICAgICAgaWYgKGlkID09PSBDVVNUT01fREVFUExJTktfV0FMTEVUUy5CSU5BTkNFLmlkICYmICEoJ2JpbmFuY2V3M3cnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVDYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFBhZ2VQYXRoID0gd2luZG93LmJ0b2EoJy9wYWdlcy9icm93c2VyL2luZGV4Jyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQYWdlUXVlcnkgPSB3aW5kb3cuYnRvYShgdXJsPSR7ZW5jb2RlZEhyZWZ9JmRlZmF1bHRDaGFpbklkPSR7YWN0aXZlQ2FpcE5ldHdvcms/LmlkID8/IDF9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVlcGxpbmsgPSBuZXcgVVJMKENVU1RPTV9ERUVQTElOS19XQUxMRVRTLkJJTkFOQ0UuZGVlcGxpbmspO1xuICAgICAgICAgICAgICAgIGRlZXBsaW5rLnNlYXJjaFBhcmFtcy5zZXQoJ2FwcElkJywgQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQklOQU5DRS5hcHBJZCk7XG4gICAgICAgICAgICAgICAgZGVlcGxpbmsuc2VhcmNoUGFyYW1zLnNldCgnc3RhcnRQYWdlUGF0aCcsIHN0YXJ0UGFnZVBhdGgpO1xuICAgICAgICAgICAgICAgIGRlZXBsaW5rLnNlYXJjaFBhcmFtcy5zZXQoJ3N0YXJ0UGFnZVF1ZXJ5Jywgc3RhcnRQYWdlUXVlcnkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXZlcnNhbExpbmsgPSBuZXcgVVJMKENVU1RPTV9ERUVQTElOS19XQUxMRVRTLkJJTkFOQ0UudXJsKTtcbiAgICAgICAgICAgICAgICB1bml2ZXJzYWxMaW5rLnNlYXJjaFBhcmFtcy5zZXQoJ19kcCcsIHdpbmRvdy5idG9hKGRlZXBsaW5rLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVuaXZlcnNhbExpbmsudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2JpbGVXYWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkUtil: () => (/* binding */ NetworkUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\nconst NetworkUtil = {\n    /**\n     * Function to handle the network switch.\n     * This function has variety of conditions to handle the network switch depending on the connectors or namespace's connection states.\n     * @param args.network - The network to switch to.\n     * @param args.shouldConfirmSwitch - Whether to confirm the switch. If true, the user will be asked to confirm the switch if necessary.\n     * @returns void\n     */\n    onSwitchNetwork({ network, ignoreSwitchConfirmation = false }) {\n        const currentNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n        const currentNamespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeChain;\n        const routerData = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.state.data;\n        const isSameNetwork = network.id === currentNetwork?.id;\n        if (isSameNetwork) {\n            return;\n        }\n        const isCurrentNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(currentNamespace)?.address);\n        const isNextNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(network.chainNamespace)?.address);\n        const isDifferentNamespace = network.chainNamespace !== currentNamespace;\n        const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectorController.getConnectorId(currentNamespace);\n        /**\n         * If the network is supported by the auth connector, we don't need to show switch active chain view.\n         * But there are some cases like switching from Ethereum to Bitcoin where Bitcoin is not supported by the auth connector and users should connect with another connector.\n         */\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isSupportedForAuthConnector = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(c => c === network.chainNamespace);\n        /**\n         * 1. If the ignoreSwitchConfirmation is set to true, we should switch to the network,\n         * 2. If user connected with auth connector and the next network is supported by the auth connector,\n         * we should switch to the network without confirmation screen.\n         */\n        if (ignoreSwitchConfirmation || (isConnectedWithAuth && isSupportedForAuthConnector)) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n        else if (\n        /**\n         * If user switching to a different namespace and next namespace is not connected, we need to show switch active chain view for confirmation first.\n         */\n        isCurrentNamespaceConnected &&\n            isDifferentNamespace &&\n            !isNextNamespaceConnected) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchActiveChain', {\n                switchToChain: network.chainNamespace,\n                navigateTo: 'Connect',\n                navigateWithReplace: true,\n                network\n            });\n        }\n        else {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n    }\n};\n//# sourceMappingURL=NetworkUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9OZXR3b3JrVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNlO0FBQ1E7QUFDTjtBQUMvRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJDQUEyQztBQUNqRSwrQkFBK0IsNEVBQWU7QUFDOUMsaUNBQWlDLDRFQUFlO0FBQ2hELDJCQUEyQiw4RUFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNEVBQWU7QUFDbkUsaURBQWlELDRFQUFlO0FBQ2hFO0FBQ0EsNEJBQTRCLG9GQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwrREFBYTtBQUNqRSw0Q0FBNEMsK0RBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0IseUJBQXlCLHdCQUF3QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksOEVBQWdCLHlCQUF5Qix3QkFBd0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvTmV0d29ya1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUm91dGVyQ29udHJvbGxlci5qcyc7XG5leHBvcnQgY29uc3QgTmV0d29ya1V0aWwgPSB7XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBuZXR3b3JrIHN3aXRjaC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGhhcyB2YXJpZXR5IG9mIGNvbmRpdGlvbnMgdG8gaGFuZGxlIHRoZSBuZXR3b3JrIHN3aXRjaCBkZXBlbmRpbmcgb24gdGhlIGNvbm5lY3RvcnMgb3IgbmFtZXNwYWNlJ3MgY29ubmVjdGlvbiBzdGF0ZXMuXG4gICAgICogQHBhcmFtIGFyZ3MubmV0d29yayAtIFRoZSBuZXR3b3JrIHRvIHN3aXRjaCB0by5cbiAgICAgKiBAcGFyYW0gYXJncy5zaG91bGRDb25maXJtU3dpdGNoIC0gV2hldGhlciB0byBjb25maXJtIHRoZSBzd2l0Y2guIElmIHRydWUsIHRoZSB1c2VyIHdpbGwgYmUgYXNrZWQgdG8gY29uZmlybSB0aGUgc3dpdGNoIGlmIG5lY2Vzc2FyeS5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25Td2l0Y2hOZXR3b3JrKHsgbmV0d29yaywgaWdub3JlU3dpdGNoQ29uZmlybWF0aW9uID0gZmFsc2UgfSkge1xuICAgICAgICBjb25zdCBjdXJyZW50TmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgY29uc3QgY3VycmVudE5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3Qgcm91dGVyRGF0YSA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuZGF0YTtcbiAgICAgICAgY29uc3QgaXNTYW1lTmV0d29yayA9IG5ldHdvcmsuaWQgPT09IGN1cnJlbnROZXR3b3JrPy5pZDtcbiAgICAgICAgaWYgKGlzU2FtZU5ldHdvcmspIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0N1cnJlbnROYW1lc3BhY2VDb25uZWN0ZWQgPSBCb29sZWFuKENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShjdXJyZW50TmFtZXNwYWNlKT8uYWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGlzTmV4dE5hbWVzcGFjZUNvbm5lY3RlZCA9IEJvb2xlYW4oQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpPy5hZGRyZXNzKTtcbiAgICAgICAgY29uc3QgaXNEaWZmZXJlbnROYW1lc3BhY2UgPSBuZXR3b3JrLmNoYWluTmFtZXNwYWNlICE9PSBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQoY3VycmVudE5hbWVzcGFjZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgbmV0d29yayBpcyBzdXBwb3J0ZWQgYnkgdGhlIGF1dGggY29ubmVjdG9yLCB3ZSBkb24ndCBuZWVkIHRvIHNob3cgc3dpdGNoIGFjdGl2ZSBjaGFpbiB2aWV3LlxuICAgICAgICAgKiBCdXQgdGhlcmUgYXJlIHNvbWUgY2FzZXMgbGlrZSBzd2l0Y2hpbmcgZnJvbSBFdGhlcmV1bSB0byBCaXRjb2luIHdoZXJlIEJpdGNvaW4gaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYXV0aCBjb25uZWN0b3IgYW5kIHVzZXJzIHNob3VsZCBjb25uZWN0IHdpdGggYW5vdGhlciBjb25uZWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZFdpdGhBdXRoID0gY29ubmVjdG9ySWQgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkRm9yQXV0aENvbm5lY3RvciA9IENvbnN0YW50c1V0aWwuQVVUSF9DT05ORUNUT1JfU1VQUE9SVEVEX0NIQUlOUy5maW5kKGMgPT4gYyA9PT0gbmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAxLiBJZiB0aGUgaWdub3JlU3dpdGNoQ29uZmlybWF0aW9uIGlzIHNldCB0byB0cnVlLCB3ZSBzaG91bGQgc3dpdGNoIHRvIHRoZSBuZXR3b3JrLFxuICAgICAgICAgKiAyLiBJZiB1c2VyIGNvbm5lY3RlZCB3aXRoIGF1dGggY29ubmVjdG9yIGFuZCB0aGUgbmV4dCBuZXR3b3JrIGlzIHN1cHBvcnRlZCBieSB0aGUgYXV0aCBjb25uZWN0b3IsXG4gICAgICAgICAqIHdlIHNob3VsZCBzd2l0Y2ggdG8gdGhlIG5ldHdvcmsgd2l0aG91dCBjb25maXJtYXRpb24gc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGlnbm9yZVN3aXRjaENvbmZpcm1hdGlvbiB8fCAoaXNDb25uZWN0ZWRXaXRoQXV0aCAmJiBpc1N1cHBvcnRlZEZvckF1dGhDb25uZWN0b3IpKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ1N3aXRjaE5ldHdvcmsnLCB7IC4uLnJvdXRlckRhdGEsIG5ldHdvcmsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB1c2VyIHN3aXRjaGluZyB0byBhIGRpZmZlcmVudCBuYW1lc3BhY2UgYW5kIG5leHQgbmFtZXNwYWNlIGlzIG5vdCBjb25uZWN0ZWQsIHdlIG5lZWQgdG8gc2hvdyBzd2l0Y2ggYWN0aXZlIGNoYWluIHZpZXcgZm9yIGNvbmZpcm1hdGlvbiBmaXJzdC5cbiAgICAgICAgICovXG4gICAgICAgIGlzQ3VycmVudE5hbWVzcGFjZUNvbm5lY3RlZCAmJlxuICAgICAgICAgICAgaXNEaWZmZXJlbnROYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICFpc05leHROYW1lc3BhY2VDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnU3dpdGNoQWN0aXZlQ2hhaW4nLCB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9DaGFpbjogbmV0d29yay5jaGFpbk5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvOiAnQ29ubmVjdCcsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVXaXRoUmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuZXR3b3JrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnU3dpdGNoTmV0d29yaycsIHsgLi4ucm91dGVyRGF0YSwgbmV0d29yayB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OZXR3b3JrVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsUtil: () => (/* binding */ OptionsUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\nconst OptionsUtil = {\n    getFeatureValue(key, features) {\n        const optionValue = features?.[key];\n        if (optionValue === undefined) {\n            return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_FEATURES[key];\n        }\n        return optionValue;\n    },\n    filterSocialsByPlatform(socials) {\n        if (!socials || !socials.length) {\n            return socials;\n        }\n        let filteredSocials = socials;\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isTelegram()) {\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isIos()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'google');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMac()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'x');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isAndroid()) {\n                filteredSocials = filteredSocials.filter(s => !['facebook', 'x'].includes(s));\n            }\n        }\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMobile()) {\n            filteredSocials = filteredSocials.filter(s => s !== 'facebook');\n        }\n        return filteredSocials;\n    },\n    isSocialsEnabled() {\n        return ((Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials) &&\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials.length > 0) ||\n            (Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials) &&\n                _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials.length > 0));\n    },\n    isEmailEnabled() {\n        return Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.email || _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.email);\n    }\n};\n//# sourceMappingURL=OptionsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9PcHRpb25zVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0U7QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQWE7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBYztBQUMxQixnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBLGdCQUFnQiw4REFBYztBQUM5QjtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0JBQStCLGdGQUFpQjtBQUNoRCxZQUFZLGdGQUFpQjtBQUM3QiwyQkFBMkIsZ0ZBQWlCO0FBQzVDLGdCQUFnQixnRkFBaUI7QUFDakMsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLGdGQUFpQiwwQkFBMEIsZ0ZBQWlCO0FBQ25GO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9PcHRpb25zVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuL0NvcmVIZWxwZXJVdGlsLmpzJztcbmV4cG9ydCBjb25zdCBPcHRpb25zVXRpbCA9IHtcbiAgICBnZXRGZWF0dXJlVmFsdWUoa2V5LCBmZWF0dXJlcykge1xuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGZlYXR1cmVzPy5ba2V5XTtcbiAgICAgICAgaWYgKG9wdGlvblZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNVdGlsLkRFRkFVTFRfRkVBVFVSRVNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9uVmFsdWU7XG4gICAgfSxcbiAgICBmaWx0ZXJTb2NpYWxzQnlQbGF0Zm9ybShzb2NpYWxzKSB7XG4gICAgICAgIGlmICghc29jaWFscyB8fCAhc29jaWFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzb2NpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmaWx0ZXJlZFNvY2lhbHMgPSBzb2NpYWxzO1xuICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNUZWxlZ3JhbSgpKSB7XG4gICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNJb3MoKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkU29jaWFscyA9IGZpbHRlcmVkU29jaWFscy5maWx0ZXIocyA9PiBzICE9PSAnZ29vZ2xlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNNYWMoKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkU29jaWFscyA9IGZpbHRlcmVkU29jaWFscy5maWx0ZXIocyA9PiBzICE9PSAneCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTb2NpYWxzID0gZmlsdGVyZWRTb2NpYWxzLmZpbHRlcihzID0+ICFbJ2ZhY2Vib29rJywgJ3gnXS5pbmNsdWRlcyhzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkU29jaWFscyA9IGZpbHRlcmVkU29jaWFscy5maWx0ZXIocyA9PiBzICE9PSAnZmFjZWJvb2snKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyZWRTb2NpYWxzO1xuICAgIH0sXG4gICAgaXNTb2NpYWxzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICgoQXJyYXkuaXNBcnJheShPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uc29jaWFscykgJiZcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5zb2NpYWxzLmxlbmd0aCA+IDApIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5yZW1vdGVGZWF0dXJlcz8uc29jaWFscykgJiZcbiAgICAgICAgICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5yZW1vdGVGZWF0dXJlcz8uc29jaWFscy5sZW5ndGggPiAwKSk7XG4gICAgfSxcbiAgICBpc0VtYWlsRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LmVtYWlsIHx8IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5lbWFpbCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wdGlvbnNVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SIWXUtil: () => (/* binding */ SIWXUtil)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/SnackController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * SIWXUtil holds the methods to interact with the SIWX plugin and must be called internally on AppKit.\n */\nlet addEmbeddedWalletSessionPromise = null;\nconst SIWXUtil = {\n    getSIWX() {\n        return _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n    },\n    async initializeIfEnabled(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!(siwx && caipAddress)) {\n            return;\n        }\n        const [namespace, chainId, address] = caipAddress.split(':');\n        if (!_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.checkIfSupportedNetwork(namespace, `${namespace}:${chainId}`)) {\n            return;\n        }\n        try {\n            if (_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n                const user = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(namespace)?.user;\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'DataCapture',\n                    data: {\n                        email: user?.email ?? undefined\n                    }\n                });\n                return;\n            }\n            if (addEmbeddedWalletSessionPromise) {\n                await addEmbeddedWalletSessionPromise;\n            }\n            const sessions = await siwx.getSessions(`${namespace}:${chainId}`, address);\n            if (sessions.length) {\n                return;\n            }\n            await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                view: 'SIWXSignMessage'\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:initializeIfEnabled', error);\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController._getClient()?.disconnect().catch(console.error);\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('A problem occurred while trying initialize authentication');\n        }\n    },\n    async isAuthenticated(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!siwx) {\n            return true;\n        }\n        // If there is no active caip address, there is nothing to authenticate\n        if (!caipAddress) {\n            return true;\n        }\n        const { chainNamespace, chainId, address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const caipNetworkId = `${chainNamespace}:${chainId}`;\n        const sessions = await SIWXUtil.getSessions({\n            address,\n            caipNetworkId\n        });\n        return sessions.length > 0;\n    },\n    async requestSignMessage() {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        const address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress());\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        const client = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController._getClient();\n        if (!siwx) {\n            throw new Error('SIWX is not enabled');\n        }\n        if (!address) {\n            throw new Error('No ActiveCaipAddress found');\n        }\n        if (!network) {\n            throw new Error('No ActiveCaipNetwork or client found');\n        }\n        if (!client) {\n            throw new Error('No ConnectionController client found');\n        }\n        try {\n            const siwxMessage = await siwx.createMessage({\n                chainId: network.caipNetworkId,\n                accountAddress: address\n            });\n            const message = siwxMessage.toString();\n            const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__.ConnectorController.getConnectorId(network.chainNamespace);\n            if (connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n                _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({});\n            }\n            const signature = await client.signMessage(message);\n            await siwx.addSession({\n                data: siwxMessage,\n                message,\n                signature\n            });\n            _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_SUCCESS',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            if (!_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.state.open || _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction') {\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'SIWXSignMessage'\n                });\n            }\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Error signing message');\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            console.error('SWIXUtil:requestSignMessage', error);\n        }\n    },\n    async cancelSignMessage() {\n        try {\n            const siwx = this.getSIWX();\n            const isRequired = siwx?.getRequired?.();\n            if (isRequired) {\n                const lastNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getLastConnectedSIWECaipNetwork();\n                if (lastNetwork) {\n                    const sessions = await siwx?.getSessions(lastNetwork?.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n                    if (sessions && sessions.length > 0) {\n                        await _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(lastNetwork);\n                    }\n                    else {\n                        await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                    }\n                }\n                else {\n                    await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                }\n            }\n            else {\n                _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            }\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                event: 'CLICK_CANCEL_SIWX',\n                type: 'track',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:cancelSignMessage', error);\n        }\n    },\n    async getAllSessions() {\n        const siwx = this.getSIWX();\n        const allRequestedCaipNetworks = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAllRequestedCaipNetworks();\n        const sessions = [];\n        await Promise.all(allRequestedCaipNetworks.map(async (caipNetwork) => {\n            const session = await siwx?.getSessions(caipNetwork.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n            if (session) {\n                sessions.push(...session);\n            }\n        }));\n        return sessions;\n    },\n    async getSessions(args) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        let address = args?.address;\n        if (!address) {\n            const activeCaipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress();\n            address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(activeCaipAddress);\n        }\n        let network = args?.caipNetworkId;\n        if (!network) {\n            const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipNetwork();\n            network = activeCaipNetwork?.caipNetworkId;\n        }\n        if (!(siwx && address && network)) {\n            return [];\n        }\n        return siwx.getSessions(network, address);\n    },\n    async isSIWXCloseDisabled() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            const isApproveSignScreen = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction';\n            const isSiwxSignMessage = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'SIWXSignMessage';\n            if (isApproveSignScreen || isSiwxSignMessage) {\n                return siwx.getRequired?.() && (await this.getSessions()).length === 0;\n            }\n        }\n        return false;\n    },\n    async authConnectorAuthenticate({ authConnector, chainId, socialUri, preferredAccountType, chainNamespace }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        if (!siwx ||\n            !chainNamespace.includes(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CHAIN.EVM) ||\n            // Request to input email and sign message when email capture is enabled\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n            const result = await authConnector.connect({\n                chainId,\n                socialUri,\n                preferredAccountType\n            });\n            return {\n                address: result.address,\n                chainId: result.chainId,\n                accounts: result.accounts\n            };\n        }\n        const caipNetwork = `${chainNamespace}:${chainId}`;\n        const siwxMessage = await siwx.createMessage({\n            chainId: caipNetwork,\n            accountAddress: '<<AccountAddress>>'\n        });\n        // Extract only the serializable data properties for postMessage, toString() is not possible to include in the postMessage\n        const siwxMessageData = {\n            accountAddress: siwxMessage.accountAddress,\n            chainId: siwxMessage.chainId,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            version: siwxMessage.version,\n            nonce: siwxMessage.nonce,\n            notBefore: siwxMessage.notBefore,\n            statement: siwxMessage.statement,\n            resources: siwxMessage.resources,\n            requestId: siwxMessage.requestId,\n            issuedAt: siwxMessage.issuedAt,\n            expirationTime: siwxMessage.expirationTime,\n            serializedMessage: siwxMessage.toString()\n        };\n        const result = await authConnector.connect({\n            chainId,\n            socialUri,\n            siwxMessage: siwxMessageData,\n            preferredAccountType\n        });\n        siwxMessageData.accountAddress = result.address;\n        siwxMessageData.serializedMessage = result.message || '';\n        if (result.signature && result.message) {\n            const promise = SIWXUtil.addEmbeddedWalletSession(siwxMessageData, result.message, result.signature);\n            await promise;\n        }\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n        return {\n            address: result.address,\n            chainId: result.chainId,\n            accounts: result.accounts\n        };\n    },\n    async addEmbeddedWalletSession(siwxMessageData, message, signature) {\n        if (addEmbeddedWalletSessionPromise) {\n            return addEmbeddedWalletSessionPromise;\n        }\n        const siwx = SIWXUtil.getSIWX();\n        if (!siwx) {\n            return Promise.resolve();\n        }\n        addEmbeddedWalletSessionPromise = siwx\n            .addSession({\n            data: siwxMessageData,\n            message,\n            signature\n        })\n            .finally(() => {\n            addEmbeddedWalletSessionPromise = null;\n        });\n        return addEmbeddedWalletSessionPromise;\n    },\n    async universalProviderAuthenticate({ universalProvider, chains, methods }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        const namespaces = new Set(chains.map(chain => chain.split(':')[0]));\n        if (!siwx || namespaces.size !== 1 || !namespaces.has('eip155')) {\n            return false;\n        }\n        // Ignores chainId and account address to get other message data\n        const siwxMessage = await siwx.createMessage({\n            chainId: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)()?.caipNetworkId || '',\n            accountAddress: ''\n        });\n        const result = await universalProvider.authenticate({\n            nonce: siwxMessage.nonce,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            exp: siwxMessage.expirationTime,\n            iat: siwxMessage.issuedAt,\n            nbf: siwxMessage.notBefore,\n            requestId: siwxMessage.requestId,\n            version: siwxMessage.version,\n            resources: siwxMessage.resources,\n            statement: siwxMessage.statement,\n            chainId: siwxMessage.chainId,\n            methods,\n            // The first chainId is what is used for universal provider to build the message\n            chains: [siwxMessage.chainId, ...chains.filter(chain => chain !== siwxMessage.chainId)]\n        });\n        _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showLoading('Authenticating...', { autoClose: false });\n        const walletInfo = {\n            ...result.session.peer.metadata,\n            name: result.session.peer.metadata.name,\n            icon: result.session.peer.metadata.icons?.[0],\n            type: 'WALLET_CONNECT'\n        };\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('connectedWalletInfo', walletInfo, Array.from(namespaces)[0]);\n        if (result?.auths?.length) {\n            const sessions = result.auths.map(cacao => {\n                const message = universalProvider.client.formatAuthMessage({\n                    request: cacao.p,\n                    iss: cacao.p.iss\n                });\n                return {\n                    data: {\n                        ...cacao.p,\n                        accountAddress: cacao.p.iss.split(':').slice(-1).join(''),\n                        chainId: cacao.p.iss.split(':').slice(2, 4).join(':'),\n                        uri: cacao.p.aud,\n                        version: cacao.p.version || siwxMessage.version,\n                        expirationTime: cacao.p.exp,\n                        issuedAt: cacao.p.iat,\n                        notBefore: cacao.p.nbf\n                    },\n                    message,\n                    signature: cacao.s.s,\n                    cacao\n                };\n            });\n            try {\n                await siwx.setSessions(sessions);\n                if (network) {\n                    _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n                }\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_SUCCESS',\n                    properties: SIWXUtil.getSIWXEventProperties()\n                });\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.error('SIWX:universalProviderAuth - failed to set sessions', error);\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_ERROR',\n                    properties: SIWXUtil.getSIWXEventProperties(error)\n                });\n                // eslint-disable-next-line no-console\n                await universalProvider.disconnect().catch(console.error);\n                throw error;\n            }\n            finally {\n                _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.hide();\n            }\n        }\n        return true;\n    },\n    getSIWXEventProperties(error) {\n        const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('SIWXUtil:getSIWXEventProperties - namespace is required');\n        }\n        return {\n            network: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n            isSmartAccount: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            message: error ? _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.parseError(error) : undefined\n        };\n    },\n    async clearSessions() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            await siwx.setSessions([]);\n        }\n    }\n};\n//# sourceMappingURL=SIWXUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TSVdYVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0U7QUFDcUI7QUFDckI7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0k7QUFDRjtBQUNGO0FBQ3FCO0FBQ3BDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsZ0ZBQWlCO0FBQ2hDLEtBQUs7QUFDTCw0Q0FBNEMsNEVBQWU7QUFDM0QscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEVBQWUsdUNBQXVDLFVBQVUsR0FBRyxRQUFRO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRkFBaUI7QUFDakMsNkJBQTZCLDRFQUFlO0FBQzVDLHNCQUFzQiw0RUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVUsR0FBRyxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBZTtBQUNqQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtCQUFrQixzRkFBb0I7QUFDdEMsWUFBWSw4RUFBZ0I7QUFDNUIsWUFBWSw0RUFBZTtBQUMzQjtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsNEVBQWU7QUFDdkQscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQ0FBbUMsRUFBRSwyREFBUztBQUM5RCxpQ0FBaUMsZUFBZSxHQUFHLFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0Es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QUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw0RUFBZSxvQ0FBb0Msa0JBQWtCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNEVBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQSxnQkFBZ0IsOEVBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4RUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNEVBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLDRFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRFQUFlO0FBQ3BDLDRCQUE0QixpRkFBdUIsZ0JBQWdCLDZFQUFvQjtBQUN2Riw2QkFBNkIsOERBQWM7QUFDM0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TSVdYVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdmVyc2FsUHJvdmlkZXIgZnJvbSAnQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9TbmFja0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlQ2FpcE5ldHdvcmssIGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi9Db3JlSGVscGVyVXRpbC5qcyc7XG4vKipcbiAqIFNJV1hVdGlsIGhvbGRzIHRoZSBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlIFNJV1ggcGx1Z2luIGFuZCBtdXN0IGJlIGNhbGxlZCBpbnRlcm5hbGx5IG9uIEFwcEtpdC5cbiAqL1xubGV0IGFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvblByb21pc2UgPSBudWxsO1xuZXhwb3J0IGNvbnN0IFNJV1hVdGlsID0ge1xuICAgIGdldFNJV1goKSB7XG4gICAgICAgIHJldHVybiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgIH0sXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUlmRW5hYmxlZChjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICBpZiAoIShzaXd4ICYmIGNhaXBBZGRyZXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtuYW1lc3BhY2UsIGNoYWluSWQsIGFkZHJlc3NdID0gY2FpcEFkZHJlc3Muc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKCFDaGFpbkNvbnRyb2xsZXIuY2hlY2tJZlN1cHBvcnRlZE5ldHdvcmsobmFtZXNwYWNlLCBgJHtuYW1lc3BhY2V9OiR7Y2hhaW5JZH1gKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucmVtb3RlRmVhdHVyZXM/LmVtYWlsQ2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8udXNlcjtcbiAgICAgICAgICAgICAgICBhd2FpdCBNb2RhbENvbnRyb2xsZXIub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIHZpZXc6ICdEYXRhQ2FwdHVyZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyPy5lbWFpbCA/PyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgc2l3eC5nZXRTZXNzaW9ucyhgJHtuYW1lc3BhY2V9OiR7Y2hhaW5JZH1gLCBhZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBNb2RhbENvbnRyb2xsZXIub3Blbih7XG4gICAgICAgICAgICAgICAgdmlldzogJ1NJV1hTaWduTWVzc2FnZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NJV1hVdGlsOmluaXRpYWxpemVJZkVuYWJsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NJV1hfQVVUSF9FUlJPUicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5nZXRTSVdYRXZlbnRQcm9wZXJ0aWVzKGVycm9yKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5kaXNjb25uZWN0KCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdDb25uZWN0Jyk7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdBIHByb2JsZW0gb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIGluaXRpYWxpemUgYXV0aGVudGljYXRpb24nKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgaXNBdXRoZW50aWNhdGVkKGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBBZGRyZXNzKCkpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnNpd3g7XG4gICAgICAgIGlmICghc2l3eCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gYWN0aXZlIGNhaXAgYWRkcmVzcywgdGhlcmUgaXMgbm90aGluZyB0byBhdXRoZW50aWNhdGVcbiAgICAgICAgaWYgKCFjYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZCwgYWRkcmVzcyB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7Y2hhaW5JZH1gO1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IFNJV1hVdGlsLmdldFNlc3Npb25zKHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBjYWlwTmV0d29ya0lkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbnMubGVuZ3RoID4gMDtcbiAgICB9LFxuICAgIGFzeW5jIHJlcXVlc3RTaWduTWVzc2FnZSgpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnNpd3g7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBBZGRyZXNzKCkpO1xuICAgICAgICBjb25zdCBuZXR3b3JrID0gZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKTtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpO1xuICAgICAgICBpZiAoIXNpd3gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU0lXWCBpcyBub3QgZW5hYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBBY3RpdmVDYWlwQWRkcmVzcyBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV0d29yaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBBY3RpdmVDYWlwTmV0d29yayBvciBjbGllbnQgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBDb25uZWN0aW9uQ29udHJvbGxlciBjbGllbnQgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2l3eE1lc3NhZ2UgPSBhd2FpdCBzaXd4LmNyZWF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGNoYWluSWQ6IG5ldHdvcmsuY2FpcE5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICBhY2NvdW50QWRkcmVzczogYWRkcmVzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gc2l3eE1lc3NhZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgY2xpZW50LnNpZ25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgYXdhaXQgc2l3eC5hZGRTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBzaXd4TWVzc2FnZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0TGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yayhuZXR3b3JrKTtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5nZXRTSVdYRXZlbnRQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCFNb2RhbENvbnRyb2xsZXIuc3RhdGUub3BlbiB8fCBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdBcHByb3ZlVHJhbnNhY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICB2aWV3OiAnU0lXWFNpZ25NZXNzYWdlJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignRXJyb3Igc2lnbmluZyBtZXNzYWdlJyk7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NJV1hfQVVUSF9FUlJPUicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5nZXRTSVdYRXZlbnRQcm9wZXJ0aWVzKGVycm9yKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU1dJWFV0aWw6cmVxdWVzdFNpZ25NZXNzYWdlJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBjYW5jZWxTaWduTWVzc2FnZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVxdWlyZWQgPSBzaXd4Py5nZXRSZXF1aXJlZD8uKCk7XG4gICAgICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLmdldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsoKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdE5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBzaXd4Py5nZXRTZXNzaW9ucyhsYXN0TmV0d29yaz8uY2FpcE5ldHdvcmtJZCwgQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9ucyAmJiBzZXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBDaGFpbkNvbnRyb2xsZXIuc3dpdGNoQWN0aXZlTmV0d29yayhsYXN0TmV0d29yayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiAnQ0xJQ0tfQ0FOQ0VMX1NJV1gnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5nZXRTSVdYRXZlbnRQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NJV1hVdGlsOmNhbmNlbFNpZ25NZXNzYWdlJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXRBbGxTZXNzaW9ucygpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IHRoaXMuZ2V0U0lXWCgpO1xuICAgICAgICBjb25zdCBhbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCk7XG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gW107XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGFsbFJlcXVlc3RlZENhaXBOZXR3b3Jrcy5tYXAoYXN5bmMgKGNhaXBOZXR3b3JrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc2l3eD8uZ2V0U2Vzc2lvbnMoY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCwgQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKSB8fCAnJyk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHNlc3Npb25zLnB1c2goLi4uc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0U2Vzc2lvbnMoYXJncykge1xuICAgICAgICBjb25zdCBzaXd4ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICAgICAgbGV0IGFkZHJlc3MgPSBhcmdzPy5hZGRyZXNzO1xuICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBBZGRyZXNzKCk7XG4gICAgICAgICAgICBhZGRyZXNzID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKGFjdGl2ZUNhaXBBZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV0d29yayA9IGFyZ3M/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIGlmICghbmV0d29yaykge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKTtcbiAgICAgICAgICAgIG5ldHdvcmsgPSBhY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShzaXd4ICYmIGFkZHJlc3MgJiYgbmV0d29yaykpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l3eC5nZXRTZXNzaW9ucyhuZXR3b3JrLCBhZGRyZXNzKTtcbiAgICB9LFxuICAgIGFzeW5jIGlzU0lXWENsb3NlRGlzYWJsZWQoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgaWYgKHNpd3gpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQXBwcm92ZVNpZ25TY3JlZW4gPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdBcHByb3ZlVHJhbnNhY3Rpb24nO1xuICAgICAgICAgICAgY29uc3QgaXNTaXd4U2lnbk1lc3NhZ2UgPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdTSVdYU2lnbk1lc3NhZ2UnO1xuICAgICAgICAgICAgaWYgKGlzQXBwcm92ZVNpZ25TY3JlZW4gfHwgaXNTaXd4U2lnbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l3eC5nZXRSZXF1aXJlZD8uKCkgJiYgKGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbnMoKSkubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGFzeW5jIGF1dGhDb25uZWN0b3JBdXRoZW50aWNhdGUoeyBhdXRoQ29ubmVjdG9yLCBjaGFpbklkLCBzb2NpYWxVcmksIHByZWZlcnJlZEFjY291bnRUeXBlLCBjaGFpbk5hbWVzcGFjZSB9KSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBTSVdYVXRpbC5nZXRTSVdYKCk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSBnZXRBY3RpdmVDYWlwTmV0d29yaygpO1xuICAgICAgICBpZiAoIXNpd3ggfHxcbiAgICAgICAgICAgICFjaGFpbk5hbWVzcGFjZS5pbmNsdWRlcyhDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSkgfHxcbiAgICAgICAgICAgIC8vIFJlcXVlc3QgdG8gaW5wdXQgZW1haWwgYW5kIHNpZ24gbWVzc2FnZSB3aGVuIGVtYWlsIGNhcHR1cmUgaXMgZW5hYmxlZFxuICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucmVtb3RlRmVhdHVyZXM/LmVtYWlsQ2FwdHVyZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aENvbm5lY3Rvci5jb25uZWN0KHtcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIHNvY2lhbFVyaSxcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHJlc3VsdC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IHJlc3VsdC5jaGFpbklkLFxuICAgICAgICAgICAgICAgIGFjY291bnRzOiByZXN1bHQuYWNjb3VudHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBgJHtjaGFpbk5hbWVzcGFjZX06JHtjaGFpbklkfWA7XG4gICAgICAgIGNvbnN0IHNpd3hNZXNzYWdlID0gYXdhaXQgc2l3eC5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IGNhaXBOZXR3b3JrLFxuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6ICc8PEFjY291bnRBZGRyZXNzPj4nXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFeHRyYWN0IG9ubHkgdGhlIHNlcmlhbGl6YWJsZSBkYXRhIHByb3BlcnRpZXMgZm9yIHBvc3RNZXNzYWdlLCB0b1N0cmluZygpIGlzIG5vdCBwb3NzaWJsZSB0byBpbmNsdWRlIGluIHRoZSBwb3N0TWVzc2FnZVxuICAgICAgICBjb25zdCBzaXd4TWVzc2FnZURhdGEgPSB7XG4gICAgICAgICAgICBhY2NvdW50QWRkcmVzczogc2l3eE1lc3NhZ2UuYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgICBjaGFpbklkOiBzaXd4TWVzc2FnZS5jaGFpbklkLFxuICAgICAgICAgICAgZG9tYWluOiBzaXd4TWVzc2FnZS5kb21haW4sXG4gICAgICAgICAgICB1cmk6IHNpd3hNZXNzYWdlLnVyaSxcbiAgICAgICAgICAgIHZlcnNpb246IHNpd3hNZXNzYWdlLnZlcnNpb24sXG4gICAgICAgICAgICBub25jZTogc2l3eE1lc3NhZ2Uubm9uY2UsXG4gICAgICAgICAgICBub3RCZWZvcmU6IHNpd3hNZXNzYWdlLm5vdEJlZm9yZSxcbiAgICAgICAgICAgIHN0YXRlbWVudDogc2l3eE1lc3NhZ2Uuc3RhdGVtZW50LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBzaXd4TWVzc2FnZS5yZXNvdXJjZXMsXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHNpd3hNZXNzYWdlLnJlcXVlc3RJZCxcbiAgICAgICAgICAgIGlzc3VlZEF0OiBzaXd4TWVzc2FnZS5pc3N1ZWRBdCxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lOiBzaXd4TWVzc2FnZS5leHBpcmF0aW9uVGltZSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRNZXNzYWdlOiBzaXd4TWVzc2FnZS50b1N0cmluZygpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhDb25uZWN0b3IuY29ubmVjdCh7XG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgc29jaWFsVXJpLFxuICAgICAgICAgICAgc2l3eE1lc3NhZ2U6IHNpd3hNZXNzYWdlRGF0YSxcbiAgICAgICAgICAgIHByZWZlcnJlZEFjY291bnRUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICBzaXd4TWVzc2FnZURhdGEuYWNjb3VudEFkZHJlc3MgPSByZXN1bHQuYWRkcmVzcztcbiAgICAgICAgc2l3eE1lc3NhZ2VEYXRhLnNlcmlhbGl6ZWRNZXNzYWdlID0gcmVzdWx0Lm1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGlmIChyZXN1bHQuc2lnbmF0dXJlICYmIHJlc3VsdC5tZXNzYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gU0lXWFV0aWwuYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uKHNpd3hNZXNzYWdlRGF0YSwgcmVzdWx0Lm1lc3NhZ2UsIHJlc3VsdC5zaWduYXR1cmUpO1xuICAgICAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0TGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yayhuZXR3b3JrKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IHJlc3VsdC5hZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogcmVzdWx0LmNoYWluSWQsXG4gICAgICAgICAgICBhY2NvdW50czogcmVzdWx0LmFjY291bnRzXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhc3luYyBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb24oc2l3eE1lc3NhZ2VEYXRhLCBtZXNzYWdlLCBzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKGFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvblByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpd3ggPSBTSVdYVXRpbC5nZXRTSVdYKCk7XG4gICAgICAgIGlmICghc2l3eCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvblByb21pc2UgPSBzaXd4XG4gICAgICAgICAgICAuYWRkU2Vzc2lvbih7XG4gICAgICAgICAgICBkYXRhOiBzaXd4TWVzc2FnZURhdGEsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgc2lnbmF0dXJlXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlO1xuICAgIH0sXG4gICAgYXN5bmMgdW5pdmVyc2FsUHJvdmlkZXJBdXRoZW50aWNhdGUoeyB1bml2ZXJzYWxQcm92aWRlciwgY2hhaW5zLCBtZXRob2RzIH0pIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IFNJV1hVdGlsLmdldFNJV1goKTtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IGdldEFjdGl2ZUNhaXBOZXR3b3JrKCk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBuZXcgU2V0KGNoYWlucy5tYXAoY2hhaW4gPT4gY2hhaW4uc3BsaXQoJzonKVswXSkpO1xuICAgICAgICBpZiAoIXNpd3ggfHwgbmFtZXNwYWNlcy5zaXplICE9PSAxIHx8ICFuYW1lc3BhY2VzLmhhcygnZWlwMTU1JykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZ25vcmVzIGNoYWluSWQgYW5kIGFjY291bnQgYWRkcmVzcyB0byBnZXQgb3RoZXIgbWVzc2FnZSBkYXRhXG4gICAgICAgIGNvbnN0IHNpd3hNZXNzYWdlID0gYXdhaXQgc2l3eC5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IGdldEFjdGl2ZUNhaXBOZXR3b3JrKCk/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICBhY2NvdW50QWRkcmVzczogJydcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVuaXZlcnNhbFByb3ZpZGVyLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICBub25jZTogc2l3eE1lc3NhZ2Uubm9uY2UsXG4gICAgICAgICAgICBkb21haW46IHNpd3hNZXNzYWdlLmRvbWFpbixcbiAgICAgICAgICAgIHVyaTogc2l3eE1lc3NhZ2UudXJpLFxuICAgICAgICAgICAgZXhwOiBzaXd4TWVzc2FnZS5leHBpcmF0aW9uVGltZSxcbiAgICAgICAgICAgIGlhdDogc2l3eE1lc3NhZ2UuaXNzdWVkQXQsXG4gICAgICAgICAgICBuYmY6IHNpd3hNZXNzYWdlLm5vdEJlZm9yZSxcbiAgICAgICAgICAgIHJlcXVlc3RJZDogc2l3eE1lc3NhZ2UucmVxdWVzdElkLFxuICAgICAgICAgICAgdmVyc2lvbjogc2l3eE1lc3NhZ2UudmVyc2lvbixcbiAgICAgICAgICAgIHJlc291cmNlczogc2l3eE1lc3NhZ2UucmVzb3VyY2VzLFxuICAgICAgICAgICAgc3RhdGVtZW50OiBzaXd4TWVzc2FnZS5zdGF0ZW1lbnQsXG4gICAgICAgICAgICBjaGFpbklkOiBzaXd4TWVzc2FnZS5jaGFpbklkLFxuICAgICAgICAgICAgbWV0aG9kcyxcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBjaGFpbklkIGlzIHdoYXQgaXMgdXNlZCBmb3IgdW5pdmVyc2FsIHByb3ZpZGVyIHRvIGJ1aWxkIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICBjaGFpbnM6IFtzaXd4TWVzc2FnZS5jaGFpbklkLCAuLi5jaGFpbnMuZmlsdGVyKGNoYWluID0+IGNoYWluICE9PSBzaXd4TWVzc2FnZS5jaGFpbklkKV1cbiAgICAgICAgfSk7XG4gICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93TG9hZGluZygnQXV0aGVudGljYXRpbmcuLi4nLCB7IGF1dG9DbG9zZTogZmFsc2UgfSk7XG4gICAgICAgIGNvbnN0IHdhbGxldEluZm8gPSB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuc2Vzc2lvbi5wZWVyLm1ldGFkYXRhLFxuICAgICAgICAgICAgbmFtZTogcmVzdWx0LnNlc3Npb24ucGVlci5tZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgaWNvbjogcmVzdWx0LnNlc3Npb24ucGVlci5tZXRhZGF0YS5pY29ucz8uWzBdLFxuICAgICAgICAgICAgdHlwZTogJ1dBTExFVF9DT05ORUNUJ1xuICAgICAgICB9O1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2Nvbm5lY3RlZFdhbGxldEluZm8nLCB3YWxsZXRJbmZvLCBBcnJheS5mcm9tKG5hbWVzcGFjZXMpWzBdKTtcbiAgICAgICAgaWYgKHJlc3VsdD8uYXV0aHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSByZXN1bHQuYXV0aHMubWFwKGNhY2FvID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdW5pdmVyc2FsUHJvdmlkZXIuY2xpZW50LmZvcm1hdEF1dGhNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogY2FjYW8ucCxcbiAgICAgICAgICAgICAgICAgICAgaXNzOiBjYWNhby5wLmlzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNhY2FvLnAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50QWRkcmVzczogY2FjYW8ucC5pc3Muc3BsaXQoJzonKS5zbGljZSgtMSkuam9pbignJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiBjYWNhby5wLmlzcy5zcGxpdCgnOicpLnNsaWNlKDIsIDQpLmpvaW4oJzonKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogY2FjYW8ucC5hdWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBjYWNhby5wLnZlcnNpb24gfHwgc2l3eE1lc3NhZ2UudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lOiBjYWNhby5wLmV4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlZEF0OiBjYWNhby5wLmlhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdEJlZm9yZTogY2FjYW8ucC5uYmZcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBjYWNhby5zLnMsXG4gICAgICAgICAgICAgICAgICAgIGNhY2FvXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzaXd4LnNldFNlc3Npb25zKHNlc3Npb25zKTtcbiAgICAgICAgICAgICAgICBpZiAobmV0d29yaykge1xuICAgICAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0TGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yayhuZXR3b3JrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NJV1hfQVVUSF9TVUNDRVNTJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogU0lXWFV0aWwuZ2V0U0lXWEV2ZW50UHJvcGVydGllcygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NJV1g6dW5pdmVyc2FsUHJvdmlkZXJBdXRoIC0gZmFpbGVkIHRvIHNldCBzZXNzaW9ucycsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU0lXWF9BVVRIX0VSUk9SJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogU0lXWFV0aWwuZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGF3YWl0IHVuaXZlcnNhbFByb3ZpZGVyLmRpc2Nvbm5lY3QoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBnZXRTSVdYRXZlbnRQcm9wZXJ0aWVzKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU0lXWFV0aWw6Z2V0U0lXWEV2ZW50UHJvcGVydGllcyAtIG5hbWVzcGFjZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUobmFtZXNwYWNlKSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgPyBDb3JlSGVscGVyVXRpbC5wYXJzZUVycm9yKGVycm9yKSA6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgY2xlYXJTZXNzaW9ucygpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IHRoaXMuZ2V0U0lXWCgpO1xuICAgICAgICBpZiAoc2l3eCkge1xuICAgICAgICAgICAgYXdhaXQgc2l3eC5zZXRTZXNzaW9ucyhbXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U0lXWFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StorageUtil: () => (/* binding */ StorageUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* eslint-disable no-console */\n\n// -- Utility -----------------------------------------------------------------\nconst StorageUtil = {\n    // Cache expiry in milliseconds\n    cacheExpiry: {\n        portfolio: 30000,\n        nativeBalance: 30000,\n        ens: 300000,\n        identity: 300000,\n        transactionsHistory: 15000,\n        tokenPrice: 15000,\n        // 7 Days\n        latestAppKitVersion: 604_800_000\n    },\n    isCacheExpired(timestamp, cacheExpiry) {\n        return Date.now() - timestamp > cacheExpiry;\n    },\n    getActiveNetworkProps() {\n        const namespace = StorageUtil.getActiveNamespace();\n        const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n        const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n        // eslint-disable-next-line no-nested-ternary\n        const chainId = stringChainId\n            ? isNaN(Number(stringChainId))\n                ? stringChainId\n                : Number(stringChainId)\n            : undefined;\n        return {\n            namespace,\n            caipNetworkId,\n            chainId\n        };\n    },\n    setWalletConnectDeepLink({ name, href }) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n        }\n        catch {\n            console.info('Unable to set WalletConnect deep link');\n        }\n    },\n    getWalletConnectDeepLink() {\n        try {\n            const deepLink = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n            if (deepLink) {\n                return JSON.parse(deepLink);\n            }\n        }\n        catch {\n            console.info('Unable to get WalletConnect deep link');\n        }\n        return undefined;\n    },\n    deleteWalletConnectDeepLink() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n        }\n        catch {\n            console.info('Unable to delete WalletConnect deep link');\n        }\n    },\n    setActiveNamespace(namespace) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n        }\n        catch {\n            console.info('Unable to set active namespace');\n        }\n    },\n    setActiveCaipNetworkId(caipNetworkId) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n            StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n        }\n        catch {\n            console.info('Unable to set active caip network id');\n        }\n    },\n    getActiveCaipNetworkId() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to get active caip network id');\n            return undefined;\n        }\n    },\n    deleteActiveCaipNetworkId() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to delete active caip network id');\n        }\n    },\n    deleteConnectedConnectorId(namespace) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(key);\n        }\n        catch {\n            console.info('Unable to delete connected connector id');\n        }\n    },\n    setAppKitRecent(wallet) {\n        try {\n            const recentWallets = StorageUtil.getRecentWallets();\n            const exists = recentWallets.find(w => w.id === wallet.id);\n            if (!exists) {\n                recentWallets.unshift(wallet);\n                if (recentWallets.length > 2) {\n                    recentWallets.pop();\n                }\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET, JSON.stringify(wallet));\n            }\n        }\n        catch {\n            console.info('Unable to set AppKit recent');\n        }\n    },\n    getRecentWallets() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS);\n            return recent ? JSON.parse(recent) : [];\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return [];\n    },\n    getRecentWallet() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n            return recent ? JSON.parse(recent) : null;\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return null;\n    },\n    deleteRecentWallet() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n        }\n        catch {\n            console.info('Unable to delete AppKit recent');\n        }\n    },\n    setConnectedConnectorId(namespace, connectorId) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(key, connectorId);\n        }\n        catch {\n            console.info('Unable to set Connected Connector Id');\n        }\n    },\n    getActiveNamespace() {\n        try {\n            const activeNamespace = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n            return activeNamespace;\n        }\n        catch {\n            console.info('Unable to get active namespace');\n        }\n        return undefined;\n    },\n    getConnectedConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(key);\n        }\n        catch (e) {\n            console.info('Unable to get connected connector id in namespace', namespace);\n        }\n        return undefined;\n    },\n    setConnectedSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n        }\n        catch {\n            console.info('Unable to set connected social provider');\n        }\n    },\n    getConnectedSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to get connected social provider');\n        }\n        return undefined;\n    },\n    deleteConnectedSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to delete connected social provider');\n        }\n    },\n    getConnectedSocialUsername() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n        }\n        catch {\n            console.info('Unable to get connected social username');\n        }\n        return undefined;\n    },\n    getStoredActiveCaipNetworkId() {\n        const storedCaipNetworkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        const networkId = storedCaipNetworkId?.split(':')?.[1];\n        return networkId;\n    },\n    setConnectionStatus(status) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS, status);\n        }\n        catch {\n            console.info('Unable to set connection status');\n        }\n    },\n    getConnectionStatus() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS);\n        }\n        catch {\n            return undefined;\n        }\n    },\n    getConnectedNamespaces() {\n        try {\n            const namespaces = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n            if (!namespaces?.length) {\n                return [];\n            }\n            return namespaces.split(',');\n        }\n        catch {\n            return [];\n        }\n    },\n    setConnectedNamespaces(namespaces) {\n        try {\n            const uniqueNamespaces = Array.from(new Set(namespaces));\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n        }\n        catch {\n            console.info('Unable to set namespaces in storage');\n        }\n    },\n    addConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            if (!namespaces.includes(namespace)) {\n                namespaces.push(namespace);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to add connected namespace');\n        }\n    },\n    removeConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            const index = namespaces.indexOf(namespace);\n            if (index > -1) {\n                namespaces.splice(index, 1);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to remove connected namespace');\n        }\n    },\n    getTelegramSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to get telegram social provider');\n            return null;\n        }\n    },\n    setTelegramSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n        }\n        catch {\n            console.info('Unable to set telegram social provider');\n        }\n    },\n    removeTelegramSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to remove telegram social provider');\n        }\n    },\n    getBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            const balanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (balanceCache &&\n                !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n                return balanceCache.balance;\n            }\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getNativeBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromNativeBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getNativeBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            const nativeBalanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (nativeBalanceCache &&\n                !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n                return nativeBalanceCache;\n            }\n            console.info('Discarding cache for address', caipAddress);\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateNativeBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getEnsCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get ens name cache');\n        }\n        return cache;\n    },\n    getEnsFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            const ensCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n                return ensCache.ens;\n            }\n            StorageUtil.removeEnsFromCache(address);\n        }\n        catch {\n            console.info('Unable to get ens name from cache', address);\n        }\n        return undefined;\n    },\n    updateEnsCache(params) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            cache[params.address] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update ens name cache', params);\n        }\n    },\n    removeEnsFromCache(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove ens name from cache', address);\n        }\n    },\n    getIdentityCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get identity cache');\n        }\n        return cache;\n    },\n    getIdentityFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            const identityCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (identityCache &&\n                !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n                return identityCache.identity;\n            }\n            StorageUtil.removeIdentityFromCache(address);\n        }\n        catch {\n            console.info('Unable to get identity from cache', address);\n        }\n        return undefined;\n    },\n    updateIdentityCache(params) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            cache[params.address] = {\n                identity: params.identity,\n                timestamp: params.timestamp\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update identity cache', params);\n        }\n    },\n    removeIdentityFromCache(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove identity from cache', address);\n        }\n    },\n    clearAddressCache() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n        }\n        catch {\n            console.info('Unable to clear address cache');\n        }\n    },\n    setPreferredAccountTypes(accountTypes) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));\n        }\n        catch {\n            console.info('Unable to set preferred account types', accountTypes);\n        }\n    },\n    getPreferredAccountTypes() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get preferred account types');\n        }\n        return {};\n    },\n    setConnections(connections, chainNamespace) {\n        try {\n            const existingConnections = StorageUtil.getConnections();\n            const existing = existingConnections[chainNamespace] ?? [];\n            const connectorConnectionMap = new Map();\n            for (const conn of existing) {\n                connectorConnectionMap.set(conn.connectorId, { ...conn });\n            }\n            for (const conn of connections) {\n                const existingConn = connectorConnectionMap.get(conn.connectorId);\n                const isAuth = conn.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH;\n                if (existingConn && !isAuth) {\n                    const existingAddrs = new Set(existingConn.accounts.map(a => a.address.toLowerCase()));\n                    const newAccounts = conn.accounts.filter(a => !existingAddrs.has(a.address.toLowerCase()));\n                    existingConn.accounts.push(...newAccounts);\n                }\n                else {\n                    connectorConnectionMap.set(conn.connectorId, { ...conn });\n                }\n            }\n            const dedupedConnections = {\n                ...existingConnections,\n                [chainNamespace]: Array.from(connectorConnectionMap.values())\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(dedupedConnections));\n        }\n        catch (error) {\n            console.error('Unable to sync connections to storage', error);\n        }\n    },\n    getConnections() {\n        try {\n            const connectionsStorage = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS);\n            if (!connectionsStorage) {\n                return {};\n            }\n            return JSON.parse(connectionsStorage);\n        }\n        catch (error) {\n            console.error('Unable to get connections from storage', error);\n            return {};\n        }\n    },\n    deleteAddressFromConnection({ connectorId, address, namespace }) {\n        try {\n            const connections = StorageUtil.getConnections();\n            const namespaceConnections = connections[namespace] ?? [];\n            const connectionMap = new Map(namespaceConnections.map(conn => [conn.connectorId, conn]));\n            const connector = connectionMap.get(connectorId);\n            if (connector) {\n                const updatedAccounts = connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase());\n                if (updatedAccounts.length === 0) {\n                    connectionMap.delete(connectorId);\n                }\n                else {\n                    connectionMap.set(connectorId, {\n                        ...connector,\n                        accounts: connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase())\n                    });\n                }\n            }\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify({\n                ...connections,\n                [namespace]: Array.from(connectionMap.values())\n            }));\n        }\n        catch {\n            console.error(`Unable to remove address \"${address}\" from connector \"${connectorId}\" in namespace \"${namespace}\"`);\n        }\n    },\n    getDisconnectedConnectorIds() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get disconnected connector ids');\n        }\n        return {};\n    },\n    addDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace.push(connectorId);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to set disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    removeDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            let disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace = disconnectedConnectorIdsByNamespace.filter(id => id.toLowerCase() !== connectorId.toLowerCase());\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to remove disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    isConnectorDisconnected(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            return disconnectedConnectorIdsByNamespace.some(id => id.toLowerCase() === connectorId.toLowerCase());\n        }\n        catch {\n            console.info(`Unable to get disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n        return false;\n    },\n    getTransactionsCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return {};\n    },\n    getTransactionsCacheForAddress({ address, chainId = '' }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const transactionsCache = cache[address]?.[chainId];\n            // We want to discard cache if it's older than the cache expiry\n            if (transactionsCache &&\n                !this.isCacheExpired(transactionsCache.timestamp, this.cacheExpiry.transactionsHistory)) {\n                return transactionsCache.transactions;\n            }\n            StorageUtil.removeTransactionsCache({ address, chainId });\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return undefined;\n    },\n    updateTransactionsCache({ address, chainId = '', timestamp, transactions }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            cache[address] = {\n                ...cache[address],\n                [chainId]: {\n                    timestamp,\n                    transactions\n                }\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update transactions cache', {\n                address,\n                chainId,\n                timestamp,\n                transactions\n            });\n        }\n    },\n    removeTransactionsCache({ address, chainId }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const addressCache = cache?.[address] || {};\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { [chainId]: _removed, ...updatedChainData } = addressCache;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify({\n                ...cache,\n                [address]: updatedChainData\n            }));\n        }\n        catch {\n            console.info('Unable to remove transactions cache', { address, chainId });\n        }\n    },\n    getTokenPriceCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get token price cache');\n        }\n        return {};\n    },\n    getTokenPriceCacheForAddresses(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            const tokenPriceCache = cache[addresses.join(',')];\n            if (tokenPriceCache &&\n                !this.isCacheExpired(tokenPriceCache.timestamp, this.cacheExpiry.tokenPrice)) {\n                return tokenPriceCache.tokenPrice;\n            }\n            StorageUtil.removeTokenPriceCache(addresses);\n        }\n        catch {\n            console.info('Unable to get token price cache for addresses', addresses);\n        }\n        return undefined;\n    },\n    updateTokenPriceCache(params) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            cache[params.addresses.join(',')] = {\n                timestamp: params.timestamp,\n                tokenPrice: params.tokenPrice\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update token price cache', params);\n        }\n    },\n    removeTokenPriceCache(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify({ ...cache, [addresses.join(',')]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove token price cache', addresses);\n        }\n    },\n    /* ----- AppKit Latest Version ------------------------- */\n    getLatestAppKitVersion() {\n        try {\n            const result = this.getLatestAppKitVersionCache();\n            const version = result?.version;\n            if (version && !this.isCacheExpired(result.timestamp, this.cacheExpiry.latestAppKitVersion)) {\n                return version;\n            }\n            return undefined;\n        }\n        catch {\n            console.info('Unable to get latest AppKit version');\n        }\n        return undefined;\n    },\n    getLatestAppKitVersionCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get latest AppKit version cache');\n        }\n        return {};\n    },\n    updateLatestAppKitVersion(params) {\n        try {\n            const cache = StorageUtil.getLatestAppKitVersionCache();\n            cache.timestamp = params.timestamp;\n            cache.version = params.version;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update latest AppKit version on local storage', params);\n        }\n    }\n};\n//# sourceMappingURL=StorageUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TdG9yYWdlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUMySTtBQUMzSTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLFlBQVk7QUFDM0M7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQixtQ0FBbUMsWUFBWTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiwyRUFBcUI7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QUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1N0b3JhZ2VVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgU2FmZUxvY2FsU3RvcmFnZSwgU2FmZUxvY2FsU3RvcmFnZUtleXMsIGdldFNhZmVDb25uZWN0b3JJZEtleSB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbi8vIC0tIFV0aWxpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBTdG9yYWdlVXRpbCA9IHtcbiAgICAvLyBDYWNoZSBleHBpcnkgaW4gbWlsbGlzZWNvbmRzXG4gICAgY2FjaGVFeHBpcnk6IHtcbiAgICAgICAgcG9ydGZvbGlvOiAzMDAwMCxcbiAgICAgICAgbmF0aXZlQmFsYW5jZTogMzAwMDAsXG4gICAgICAgIGVuczogMzAwMDAwLFxuICAgICAgICBpZGVudGl0eTogMzAwMDAwLFxuICAgICAgICB0cmFuc2FjdGlvbnNIaXN0b3J5OiAxNTAwMCxcbiAgICAgICAgdG9rZW5QcmljZTogMTUwMDAsXG4gICAgICAgIC8vIDcgRGF5c1xuICAgICAgICBsYXRlc3RBcHBLaXRWZXJzaW9uOiA2MDRfODAwXzAwMFxuICAgIH0sXG4gICAgaXNDYWNoZUV4cGlyZWQodGltZXN0YW1wLCBjYWNoZUV4cGlyeSkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCA+IGNhY2hlRXhwaXJ5O1xuICAgIH0sXG4gICAgZ2V0QWN0aXZlTmV0d29ya1Byb3BzKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBTdG9yYWdlVXRpbC5nZXRBY3RpdmVOYW1lc3BhY2UoKTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZCA9IFN0b3JhZ2VVdGlsLmdldEFjdGl2ZUNhaXBOZXR3b3JrSWQoKTtcbiAgICAgICAgY29uc3Qgc3RyaW5nQ2hhaW5JZCA9IGNhaXBOZXR3b3JrSWQgPyBjYWlwTmV0d29ya0lkLnNwbGl0KCc6JylbMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICBjb25zdCBjaGFpbklkID0gc3RyaW5nQ2hhaW5JZFxuICAgICAgICAgICAgPyBpc05hTihOdW1iZXIoc3RyaW5nQ2hhaW5JZCkpXG4gICAgICAgICAgICAgICAgPyBzdHJpbmdDaGFpbklkXG4gICAgICAgICAgICAgICAgOiBOdW1iZXIoc3RyaW5nQ2hhaW5JZClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgY2FpcE5ldHdvcmtJZCxcbiAgICAgICAgICAgIGNoYWluSWRcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldFdhbGxldENvbm5lY3REZWVwTGluayh7IG5hbWUsIGhyZWYgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRFRVBMSU5LX0NIT0lDRSwgSlNPTi5zdHJpbmdpZnkoeyBocmVmLCBuYW1lIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgV2FsbGV0Q29ubmVjdCBkZWVwIGxpbmsnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0V2FsbGV0Q29ubmVjdERlZXBMaW5rKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGVlcExpbmsgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuREVFUExJTktfQ0hPSUNFKTtcbiAgICAgICAgICAgIGlmIChkZWVwTGluaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlZXBMaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgV2FsbGV0Q29ubmVjdCBkZWVwIGxpbmsnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZGVsZXRlV2FsbGV0Q29ubmVjdERlZXBMaW5rKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRFRVBMSU5LX0NIT0lDRSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZGVsZXRlIFdhbGxldENvbm5lY3QgZGVlcCBsaW5rJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEFjdGl2ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5BQ1RJVkVfTkFNRVNQQUNFLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBhY3RpdmUgbmFtZXNwYWNlJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEFjdGl2ZUNhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcmtJZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQsIGNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0QWN0aXZlTmFtZXNwYWNlKGNhaXBOZXR3b3JrSWQuc3BsaXQoJzonKVswXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IGFjdGl2ZSBjYWlwIG5ldHdvcmsgaWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QWN0aXZlQ2FpcE5ldHdvcmtJZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQUNUSVZFX0NBSVBfTkVUV09SS19JRCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGFjdGl2ZSBjYWlwIG5ldHdvcmsgaWQnKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZUFjdGl2ZUNhaXBOZXR3b3JrSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQUNUSVZFX0NBSVBfTkVUV09SS19JRCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZGVsZXRlIGFjdGl2ZSBjYWlwIG5ldHdvcmsgaWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlQ29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRTYWZlQ29ubmVjdG9ySWRLZXkobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBjb25uZWN0ZWQgY29ubmVjdG9yIGlkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEFwcEtpdFJlY2VudCh3YWxsZXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudFdhbGxldHMgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSByZWNlbnRXYWxsZXRzLmZpbmQodyA9PiB3LmlkID09PSB3YWxsZXQuaWQpO1xuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZWNlbnRXYWxsZXRzLnVuc2hpZnQod2FsbGV0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVjZW50V2FsbGV0cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VudFdhbGxldHMucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5SRUNFTlRfV0FMTEVUUywgSlNPTi5zdHJpbmdpZnkocmVjZW50V2FsbGV0cykpO1xuICAgICAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5SRUNFTlRfV0FMTEVULCBKU09OLnN0cmluZ2lmeSh3YWxsZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgQXBwS2l0IHJlY2VudCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRSZWNlbnRXYWxsZXRzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVjZW50ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlJFQ0VOVF9XQUxMRVRTKTtcbiAgICAgICAgICAgIHJldHVybiByZWNlbnQgPyBKU09OLnBhcnNlKHJlY2VudCkgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgQXBwS2l0IHJlY2VudCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGdldFJlY2VudFdhbGxldCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5SRUNFTlRfV0FMTEVUKTtcbiAgICAgICAgICAgIHJldHVybiByZWNlbnQgPyBKU09OLnBhcnNlKHJlY2VudCkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBBcHBLaXQgcmVjZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBkZWxldGVSZWNlbnRXYWxsZXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZGVsZXRlIEFwcEtpdCByZWNlbnQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBjb25uZWN0b3JJZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0U2FmZUNvbm5lY3RvcklkS2V5KG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBjb25uZWN0b3JJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IENvbm5lY3RlZCBDb25uZWN0b3IgSWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QWN0aXZlTmFtZXNwYWNlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlTmFtZXNwYWNlID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9OQU1FU1BBQ0UpO1xuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZU5hbWVzcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgYWN0aXZlIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0ZWRDb25uZWN0b3JJZChuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFNhZmVDb25uZWN0b3JJZEtleShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgY29ubmVjdGVkIGNvbm5lY3RvciBpZCBpbiBuYW1lc3BhY2UnLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBzZXRDb25uZWN0ZWRTb2NpYWxQcm92aWRlcihzb2NpYWxQcm92aWRlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUwsIHNvY2lhbFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgY29ubmVjdGVkIHNvY2lhbCBwcm92aWRlcicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb25uZWN0ZWRTb2NpYWxQcm92aWRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVEVEX1NPQ0lBTCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGNvbm5lY3RlZCBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZGVsZXRlQ29ubmVjdGVkU29jaWFsUHJvdmlkZXIoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVEVEX1NPQ0lBTCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZGVsZXRlIGNvbm5lY3RlZCBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkU29jaWFsVXNlcm5hbWUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUxfVVNFUk5BTUUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBjb25uZWN0ZWQgc29jaWFsIHVzZXJuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldFN0b3JlZEFjdGl2ZUNhaXBOZXR3b3JrSWQoKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZENhaXBOZXR3b3JrSWQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQUNUSVZFX0NBSVBfTkVUV09SS19JRCk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtJZCA9IHN0b3JlZENhaXBOZXR3b3JrSWQ/LnNwbGl0KCc6Jyk/LlsxXTtcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtJZDtcbiAgICB9LFxuICAgIHNldENvbm5lY3Rpb25TdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVElPTl9TVEFUVVMsIHN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IGNvbm5lY3Rpb24gc3RhdHVzJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25TdGF0dXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05fU1RBVFVTKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb25uZWN0ZWROYW1lc3BhY2VzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfTkFNRVNQQUNFUyk7XG4gICAgICAgICAgICBpZiAoIW5hbWVzcGFjZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2VzLnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDb25uZWN0ZWROYW1lc3BhY2VzKG5hbWVzcGFjZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZU5hbWVzcGFjZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobmFtZXNwYWNlcykpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9OQU1FU1BBQ0VTLCB1bmlxdWVOYW1lc3BhY2VzLmpvaW4oJywnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IG5hbWVzcGFjZXMgaW4gc3RvcmFnZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhZGRDb25uZWN0ZWROYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkTmFtZXNwYWNlcygpO1xuICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2VzLmluY2x1ZGVzKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VzLnB1c2gobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRDb25uZWN0ZWROYW1lc3BhY2VzKG5hbWVzcGFjZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGFkZCBjb25uZWN0ZWQgbmFtZXNwYWNlJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNvbm5lY3RlZE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0ZWROYW1lc3BhY2VzKCk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IG5hbWVzcGFjZXMuaW5kZXhPZihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgY29ubmVjdGVkIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRUZWxlZ3JhbVNvY2lhbFByb3ZpZGVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5URUxFR1JBTV9TT0NJQUxfUFJPVklERVIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCB0ZWxlZ3JhbSBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRUZWxlZ3JhbVNvY2lhbFByb3ZpZGVyKHNvY2lhbFByb3ZpZGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVEVMRUdSQU1fU09DSUFMX1BST1ZJREVSLCBzb2NpYWxQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IHRlbGVncmFtIHNvY2lhbCBwcm92aWRlcicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVUZWxlZ3JhbVNvY2lhbFByb3ZpZGVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRFTEVHUkFNX1NPQ0lBTF9QUk9WSURFUik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIHRlbGVncmFtIHNvY2lhbCBwcm92aWRlcicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRCYWxhbmNlQ2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBPUlRGT0xJT19DQUNIRSk7XG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBiYWxhbmNlIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH0sXG4gICAgcmVtb3ZlQWRkcmVzc0Zyb21CYWxhbmNlQ2FjaGUoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0QmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUE9SVEZPTElPX0NBQ0hFLCBKU09OLnN0cmluZ2lmeSh7IC4uLmNhY2hlLCBbY2FpcEFkZHJlc3NdOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSBhZGRyZXNzIGZyb20gYmFsYW5jZSBjYWNoZScsIGNhaXBBZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QmFsYW5jZUNhY2hlRm9yQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0QmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCBiYWxhbmNlQ2FjaGUgPSBjYWNoZVtjYWlwQWRkcmVzc107XG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgY2FjaGUgaWYgaXQncyBvbGRlciB0aGFuIHRoZSBjYWNoZSBleHBpcnlcbiAgICAgICAgICAgIGlmIChiYWxhbmNlQ2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZChiYWxhbmNlQ2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LnBvcnRmb2xpbykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFsYW5jZUNhY2hlLmJhbGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVBZGRyZXNzRnJvbUJhbGFuY2VDYWNoZShjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGJhbGFuY2UgY2FjaGUgZm9yIGFkZHJlc3MnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZUJhbGFuY2VDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0QmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZVtwYXJhbXMuY2FpcEFkZHJlc3NdID0gcGFyYW1zO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBPUlRGT0xJT19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgYmFsYW5jZSBjYWNoZScsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldE5hdGl2ZUJhbGFuY2VDYWNoZSgpIHtcbiAgICAgICAgbGV0IGNhY2hlID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuTkFUSVZFX0JBTEFOQ0VfQ0FDSEUpO1xuICAgICAgICAgICAgY2FjaGUgPSByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgYmFsYW5jZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIHJlbW92ZUFkZHJlc3NGcm9tTmF0aXZlQmFsYW5jZUNhY2hlKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeSh7IC4uLmNhY2hlLCBbY2FpcEFkZHJlc3NdOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSBhZGRyZXNzIGZyb20gYmFsYW5jZSBjYWNoZScsIGNhaXBBZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0TmF0aXZlQmFsYW5jZUNhY2hlRm9yQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0TmF0aXZlQmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVCYWxhbmNlQ2FjaGUgPSBjYWNoZVtjYWlwQWRkcmVzc107XG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgY2FjaGUgaWYgaXQncyBvbGRlciB0aGFuIHRoZSBjYWNoZSBleHBpcnlcbiAgICAgICAgICAgIGlmIChuYXRpdmVCYWxhbmNlQ2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZChuYXRpdmVCYWxhbmNlQ2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5Lm5hdGl2ZUJhbGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUJhbGFuY2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnRGlzY2FyZGluZyBjYWNoZSBmb3IgYWRkcmVzcycsIGNhaXBBZGRyZXNzKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZUFkZHJlc3NGcm9tQmFsYW5jZUNhY2hlKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgYmFsYW5jZSBjYWNoZSBmb3IgYWRkcmVzcycsIGNhaXBBZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdXBkYXRlTmF0aXZlQmFsYW5jZUNhY2hlKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXROYXRpdmVCYWxhbmNlQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5jYWlwQWRkcmVzc10gPSBwYXJhbXM7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuTkFUSVZFX0JBTEFOQ0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGJhbGFuY2UgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRFbnNDYWNoZSgpIHtcbiAgICAgICAgbGV0IGNhY2hlID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuRU5TX0NBQ0hFKTtcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGVucyBuYW1lIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH0sXG4gICAgZ2V0RW5zRnJvbUNhY2hlRm9yQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEVuc0NhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCBlbnNDYWNoZSA9IGNhY2hlW2FkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAoZW5zQ2FjaGUgJiYgIXRoaXMuaXNDYWNoZUV4cGlyZWQoZW5zQ2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LmVucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5zQ2FjaGUuZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlRW5zRnJvbUNhY2hlKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBlbnMgbmFtZSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZUVuc0NhY2hlKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRFbnNDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbcGFyYW1zLmFkZHJlc3NdID0gcGFyYW1zO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkVOU19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgZW5zIG5hbWUgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVFbnNGcm9tQ2FjaGUoYWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRFbnNDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkVOU19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2FkZHJlc3NdOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSBlbnMgbmFtZSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldElkZW50aXR5Q2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLklERU5USVRZX0NBQ0hFKTtcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGlkZW50aXR5IGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH0sXG4gICAgZ2V0SWRlbnRpdHlGcm9tQ2FjaGVGb3JBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0SWRlbnRpdHlDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpdHlDYWNoZSA9IGNhY2hlW2FkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAoaWRlbnRpdHlDYWNoZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzQ2FjaGVFeHBpcmVkKGlkZW50aXR5Q2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LmlkZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZGVudGl0eUNhY2hlLmlkZW50aXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlSWRlbnRpdHlGcm9tQ2FjaGUoYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGlkZW50aXR5IGZyb20gY2FjaGUnLCBhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdXBkYXRlSWRlbnRpdHlDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0SWRlbnRpdHlDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbcGFyYW1zLmFkZHJlc3NdID0ge1xuICAgICAgICAgICAgICAgIGlkZW50aXR5OiBwYXJhbXMuaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBwYXJhbXMudGltZXN0YW1wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLklERU5USVRZX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSBpZGVudGl0eSBjYWNoZScsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUlkZW50aXR5RnJvbUNhY2hlKGFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0SWRlbnRpdHlDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLklERU5USVRZX0NBQ0hFLCBKU09OLnN0cmluZ2lmeSh7IC4uLmNhY2hlLCBbYWRkcmVzc106IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIGlkZW50aXR5IGZyb20gY2FjaGUnLCBhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJBZGRyZXNzQ2FjaGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUE9SVEZPTElPX0NBQ0hFKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5OQVRJVkVfQkFMQU5DRV9DQUNIRSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuRU5TX0NBQ0hFKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuSElTVE9SWV9UUkFOU0FDVElPTlNfQ0FDSEUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGNsZWFyIGFkZHJlc3MgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0UHJlZmVycmVkQWNjb3VudFR5cGVzKGFjY291bnRUeXBlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBSRUZFUlJFRF9BQ0NPVU5UX1RZUEVTLCBKU09OLnN0cmluZ2lmeShhY2NvdW50VHlwZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgcHJlZmVycmVkIGFjY291bnQgdHlwZXMnLCBhY2NvdW50VHlwZXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUFJFRkVSUkVEX0FDQ09VTlRfVFlQRVMpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBwcmVmZXJyZWQgYWNjb3VudCB0eXBlcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHNldENvbm5lY3Rpb25zKGNvbm5lY3Rpb25zLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb25uZWN0aW9ucyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25zKCk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IGV4aXN0aW5nQ29ubmVjdGlvbnNbY2hhaW5OYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yQ29ubmVjdGlvbk1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29ubiBvZiBleGlzdGluZykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvckNvbm5lY3Rpb25NYXAuc2V0KGNvbm4uY29ubmVjdG9ySWQsIHsgLi4uY29ubiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgY29ubiBvZiBjb25uZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29ubiA9IGNvbm5lY3RvckNvbm5lY3Rpb25NYXAuZ2V0KGNvbm4uY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQXV0aCA9IGNvbm4uY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ29ubiAmJiAhaXNBdXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQWRkcnMgPSBuZXcgU2V0KGV4aXN0aW5nQ29ubi5hY2NvdW50cy5tYXAoYSA9PiBhLmFkZHJlc3MudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50cyA9IGNvbm4uYWNjb3VudHMuZmlsdGVyKGEgPT4gIWV4aXN0aW5nQWRkcnMuaGFzKGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubi5hY2NvdW50cy5wdXNoKC4uLm5ld0FjY291bnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckNvbm5lY3Rpb25NYXAuc2V0KGNvbm4uY29ubmVjdG9ySWQsIHsgLi4uY29ubiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWR1cGVkQ29ubmVjdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdDb25uZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBbY2hhaW5OYW1lc3BhY2VdOiBBcnJheS5mcm9tKGNvbm5lY3RvckNvbm5lY3Rpb25NYXAudmFsdWVzKCkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05TLCBKU09OLnN0cmluZ2lmeShkZWR1cGVkQ29ubmVjdGlvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBzeW5jIGNvbm5lY3Rpb25zIHRvIHN0b3JhZ2UnLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbnNTdG9yYWdlID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05TKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbnNTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29ubmVjdGlvbnNTdG9yYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBnZXQgY29ubmVjdGlvbnMgZnJvbSBzdG9yYWdlJywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVBZGRyZXNzRnJvbUNvbm5lY3Rpb24oeyBjb25uZWN0b3JJZCwgYWRkcmVzcywgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGlvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZUNvbm5lY3Rpb25zID0gY29ubmVjdGlvbnNbbmFtZXNwYWNlXSA/PyBbXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25NYXAgPSBuZXcgTWFwKG5hbWVzcGFjZUNvbm5lY3Rpb25zLm1hcChjb25uID0+IFtjb25uLmNvbm5lY3RvcklkLCBjb25uXSkpO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gY29ubmVjdGlvbk1hcC5nZXQoY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50cyA9IGNvbm5lY3Rvci5hY2NvdW50cy5maWx0ZXIoYWNjID0+IGFjYy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgIT09IGFkZHJlc3MudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRBY2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hcC5kZWxldGUoY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hcC5zZXQoY29ubmVjdG9ySWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbm5lY3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRzOiBjb25uZWN0b3IuYWNjb3VudHMuZmlsdGVyKGFjYyA9PiBhY2MuYWRkcmVzcy50b0xvd2VyQ2FzZSgpICE9PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNUSU9OUywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIC4uLmNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgICAgIFtuYW1lc3BhY2VdOiBBcnJheS5mcm9tKGNvbm5lY3Rpb25NYXAudmFsdWVzKCkpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIHJlbW92ZSBhZGRyZXNzIFwiJHthZGRyZXNzfVwiIGZyb20gY29ubmVjdG9yIFwiJHtjb25uZWN0b3JJZH1cIiBpbiBuYW1lc3BhY2UgXCIke25hbWVzcGFjZX1cImApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuRElTQ09OTkVDVEVEX0NPTk5FQ1RPUl9JRFMpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBkaXNjb25uZWN0ZWQgY29ubmVjdG9yIGlkcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGFkZERpc2Nvbm5lY3RlZENvbm5lY3RvcklkKGNvbm5lY3RvcklkLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcyA9IFN0b3JhZ2VVdGlsLmdldERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcygpO1xuICAgICAgICAgICAgY29uc3QgZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UgPSBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzW2NoYWluTmFtZXNwYWNlXSA/PyBbXTtcbiAgICAgICAgICAgIGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlLnB1c2goY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRJU0NPTk5FQ1RFRF9DT05ORUNUT1JfSURTLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgLi4uY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcyxcbiAgICAgICAgICAgICAgICBbY2hhaW5OYW1lc3BhY2VdOiBBcnJheS5mcm9tKG5ldyBTZXQoZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UpKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBzZXQgZGlzY29ubmVjdGVkIGNvbm5lY3RvciBpZCBcIiR7Y29ubmVjdG9ySWR9XCIgZm9yIG5hbWVzcGFjZSBcIiR7Y2hhaW5OYW1lc3BhY2V9XCJgKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlRGlzY29ubmVjdGVkQ29ubmVjdG9ySWQoY29ubmVjdG9ySWQsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzID0gU3RvcmFnZVV0aWwuZ2V0RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzKCk7XG4gICAgICAgICAgICBsZXQgZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UgPSBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzW2NoYWluTmFtZXNwYWNlXSA/PyBbXTtcbiAgICAgICAgICAgIGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlID0gZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UuZmlsdGVyKGlkID0+IGlkLnRvTG93ZXJDYXNlKCkgIT09IGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRJU0NPTk5FQ1RFRF9DT05ORUNUT1JfSURTLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgLi4uY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcyxcbiAgICAgICAgICAgICAgICBbY2hhaW5OYW1lc3BhY2VdOiBBcnJheS5mcm9tKG5ldyBTZXQoZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UpKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byByZW1vdmUgZGlzY29ubmVjdGVkIGNvbm5lY3RvciBpZCBcIiR7Y29ubmVjdG9ySWR9XCIgZm9yIG5hbWVzcGFjZSBcIiR7Y2hhaW5OYW1lc3BhY2V9XCJgKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXNDb25uZWN0b3JEaXNjb25uZWN0ZWQoY29ubmVjdG9ySWQsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzID0gU3RvcmFnZVV0aWwuZ2V0RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzKCk7XG4gICAgICAgICAgICBjb25zdCBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSA9IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNbY2hhaW5OYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgcmV0dXJuIGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlLnNvbWUoaWQgPT4gaWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKGBVbmFibGUgdG8gZ2V0IGRpc2Nvbm5lY3RlZCBjb25uZWN0b3IgaWQgXCIke2Nvbm5lY3RvcklkfVwiIGZvciBuYW1lc3BhY2UgXCIke2NoYWluTmFtZXNwYWNlfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZ2V0VHJhbnNhY3Rpb25zQ2FjaGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuSElTVE9SWV9UUkFOU0FDVElPTlNfQ0FDSEUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCB0cmFuc2FjdGlvbnMgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBnZXRUcmFuc2FjdGlvbnNDYWNoZUZvckFkZHJlc3MoeyBhZGRyZXNzLCBjaGFpbklkID0gJycgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUcmFuc2FjdGlvbnNDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zQ2FjaGUgPSBjYWNoZVthZGRyZXNzXT8uW2NoYWluSWRdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAodHJhbnNhY3Rpb25zQ2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZCh0cmFuc2FjdGlvbnNDYWNoZS50aW1lc3RhbXAsIHRoaXMuY2FjaGVFeHBpcnkudHJhbnNhY3Rpb25zSGlzdG9yeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zQ2FjaGUudHJhbnNhY3Rpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlVHJhbnNhY3Rpb25zQ2FjaGUoeyBhZGRyZXNzLCBjaGFpbklkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCB0cmFuc2FjdGlvbnMgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdXBkYXRlVHJhbnNhY3Rpb25zQ2FjaGUoeyBhZGRyZXNzLCBjaGFpbklkID0gJycsIHRpbWVzdGFtcCwgdHJhbnNhY3Rpb25zIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VHJhbnNhY3Rpb25zQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW2FkZHJlc3NdID0ge1xuICAgICAgICAgICAgICAgIC4uLmNhY2hlW2FkZHJlc3NdLFxuICAgICAgICAgICAgICAgIFtjaGFpbklkXToge1xuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuSElTVE9SWV9UUkFOU0FDVElPTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIHRyYW5zYWN0aW9ucyBjYWNoZScsIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZVRyYW5zYWN0aW9uc0NhY2hlKHsgYWRkcmVzcywgY2hhaW5JZCB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRyYW5zYWN0aW9uc0NhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzQ2FjaGUgPSBjYWNoZT8uW2FkZHJlc3NdIHx8IHt9O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgY29uc3QgeyBbY2hhaW5JZF06IF9yZW1vdmVkLCAuLi51cGRhdGVkQ2hhaW5EYXRhIH0gPSBhZGRyZXNzQ2FjaGU7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuSElTVE9SWV9UUkFOU0FDVElPTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAuLi5jYWNoZSxcbiAgICAgICAgICAgICAgICBbYWRkcmVzc106IHVwZGF0ZWRDaGFpbkRhdGFcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgdHJhbnNhY3Rpb25zIGNhY2hlJywgeyBhZGRyZXNzLCBjaGFpbklkIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRUb2tlblByaWNlQ2FjaGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVE9LRU5fUFJJQ0VfQ0FDSEUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCB0b2tlbiBwcmljZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldFRva2VuUHJpY2VDYWNoZUZvckFkZHJlc3NlcyhhZGRyZXNzZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VG9rZW5QcmljZUNhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCB0b2tlblByaWNlQ2FjaGUgPSBjYWNoZVthZGRyZXNzZXMuam9pbignLCcpXTtcbiAgICAgICAgICAgIGlmICh0b2tlblByaWNlQ2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZCh0b2tlblByaWNlQ2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LnRva2VuUHJpY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuUHJpY2VDYWNoZS50b2tlblByaWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlVG9rZW5QcmljZUNhY2hlKGFkZHJlc3Nlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IHRva2VuIHByaWNlIGNhY2hlIGZvciBhZGRyZXNzZXMnLCBhZGRyZXNzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVUb2tlblByaWNlQ2FjaGUocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRva2VuUHJpY2VDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbcGFyYW1zLmFkZHJlc3Nlcy5qb2luKCcsJyldID0ge1xuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcGFyYW1zLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB0b2tlblByaWNlOiBwYXJhbXMudG9rZW5QcmljZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5UT0tFTl9QUklDRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgdG9rZW4gcHJpY2UgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVUb2tlblByaWNlQ2FjaGUoYWRkcmVzc2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRva2VuUHJpY2VDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRPS0VOX1BSSUNFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeSh7IC4uLmNhY2hlLCBbYWRkcmVzc2VzLmpvaW4oJywnKV06IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIHRva2VuIHByaWNlIGNhY2hlJywgYWRkcmVzc2VzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyogLS0tLS0gQXBwS2l0IExhdGVzdCBWZXJzaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgICBnZXRMYXRlc3RBcHBLaXRWZXJzaW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5nZXRMYXRlc3RBcHBLaXRWZXJzaW9uQ2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSByZXN1bHQ/LnZlcnNpb247XG4gICAgICAgICAgICBpZiAodmVyc2lvbiAmJiAhdGhpcy5pc0NhY2hlRXhwaXJlZChyZXN1bHQudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LmxhdGVzdEFwcEtpdFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBsYXRlc3QgQXBwS2l0IHZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0TGF0ZXN0QXBwS2l0VmVyc2lvbkNhY2hlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkxBVEVTVF9BUFBLSVRfVkVSU0lPTik7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGxhdGVzdCBBcHBLaXQgdmVyc2lvbiBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHVwZGF0ZUxhdGVzdEFwcEtpdFZlcnNpb24ocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldExhdGVzdEFwcEtpdFZlcnNpb25DYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGUudGltZXN0YW1wID0gcGFyYW1zLnRpbWVzdGFtcDtcbiAgICAgICAgICAgIGNhY2hlLnZlcnNpb24gPSBwYXJhbXMudmVyc2lvbjtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5MQVRFU1RfQVBQS0lUX1ZFUlNJT04sIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGxhdGVzdCBBcHBLaXQgdmVyc2lvbiBvbiBsb2NhbCBzdG9yYWdlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yYWdlVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwapApiUtil: () => (/* binding */ SwapApiUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BalanceUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst SwapApiUtil = {\n    async getTokenList(caipNetworkId) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapTokens({\n            chainId: caipNetworkId\n        });\n        const tokens = response?.tokens?.map(token => ({\n            ...token,\n            eip2612: false,\n            quantity: {\n                decimals: '0',\n                numeric: '0'\n            },\n            price: 0,\n            value: 0\n        })) || [];\n        return tokens;\n    },\n    async fetchGasPrice() {\n        const caipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n        if (!caipNetwork) {\n            return null;\n        }\n        try {\n            switch (caipNetwork.chainNamespace) {\n                case 'solana':\n                    // eslint-disable-next-line no-case-declarations\n                    const lamportsPerSignature = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController?.estimateGas({ chainNamespace: 'solana' }))?.toString();\n                    return {\n                        standard: lamportsPerSignature,\n                        fast: lamportsPerSignature,\n                        instant: lamportsPerSignature\n                    };\n                case 'eip155':\n                default:\n                    return await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchGasPrice({\n                        chainId: caipNetwork.caipNetworkId\n                    });\n            }\n        }\n        catch {\n            return null;\n        }\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress, sourceTokenAmount, sourceTokenDecimals }) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapAllowance({\n            tokenAddress,\n            userAddress\n        });\n        if (response?.allowance && sourceTokenAmount && sourceTokenDecimals) {\n            const parsedValue = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController.parseUnits(sourceTokenAmount, sourceTokenDecimals) || 0;\n            const hasAllowance = BigInt(response.allowance) >= parsedValue;\n            return hasAllowance;\n        }\n        return false;\n    },\n    async getMyTokensWithBalance(forceUpdate) {\n        const balances = await _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__.BalanceUtil.getMyTokensWithBalance(forceUpdate);\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.setAccountProp('tokenBalance', balances, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeChain);\n        return this.mapBalancesToSwapTokens(balances);\n    },\n    /**\n     * Maps the balances from Blockchain API to SwapTokenWithBalance array\n     * @param balances\n     * @returns SwapTokenWithBalance[]\n     */\n    mapBalancesToSwapTokens(balances) {\n        return (balances?.map(token => ({\n            ...token,\n            address: token?.address ? token.address : (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__.getActiveNetworkTokenAddress)(),\n            decimals: parseInt(token.quantity.decimals, 10),\n            logoUri: token.iconUrl,\n            eip2612: false\n        })) || []);\n    },\n    async handleSwapError(error) {\n        try {\n            const cause = error?.cause;\n            if (!cause?.json) {\n                return undefined;\n            }\n            const response = await cause.json();\n            const reason = response?.reasons?.[0]?.description;\n            if (reason?.includes('insufficient liquidity')) {\n                return 'Insufficient liquidity';\n            }\n            return undefined;\n        }\n        catch {\n            return undefined;\n        }\n    }\n};\n//# sourceMappingURL=SwapApiUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQXBpVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0Y7QUFDaEI7QUFDVTtBQUMvQjtBQUN5QjtBQUN4RTtBQUNPO0FBQ1A7QUFDQSwrQkFBK0IsNEZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHNGQUFvQixnQkFBZ0IsMEJBQTBCO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDRGQUF1QjtBQUN4RDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtCQUErQixtRUFBbUU7QUFDbEcsK0JBQStCLDRGQUF1QjtBQUN0RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLHNGQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtCQUErQix3REFBVztBQUMxQyxRQUFRLDRFQUFlLDBDQUEwQyw0RUFBZTtBQUNoRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFGQUE0QjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1N3YXBBcGlVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQmFsYW5jZVV0aWwgfSBmcm9tICcuL0JhbGFuY2VVdGlsLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgU3dhcEFwaVV0aWwgPSB7XG4gICAgYXN5bmMgZ2V0VG9rZW5MaXN0KGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFN3YXBUb2tlbnMoe1xuICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmtJZFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gcmVzcG9uc2U/LnRva2Vucz8ubWFwKHRva2VuID0+ICh7XG4gICAgICAgICAgICAuLi50b2tlbixcbiAgICAgICAgICAgIGVpcDI2MTI6IGZhbHNlLFxuICAgICAgICAgICAgcXVhbnRpdHk6IHtcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogJzAnLFxuICAgICAgICAgICAgICAgIG51bWVyaWM6ICcwJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByaWNlOiAwLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hHYXNQcmljZSgpIHtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgIGlmICghY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc29sYW5hJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbXBvcnRzUGVyU2lnbmF0dXJlID0gKGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyPy5lc3RpbWF0ZUdhcyh7IGNoYWluTmFtZXNwYWNlOiAnc29sYW5hJyB9KSk/LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZDogbGFtcG9ydHNQZXJTaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXN0OiBsYW1wb3J0c1BlclNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnQ6IGxhbXBvcnRzUGVyU2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSAnZWlwMTU1JzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hHYXNQcmljZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFN3YXBBbGxvd2FuY2UoeyB0b2tlbkFkZHJlc3MsIHVzZXJBZGRyZXNzLCBzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW5EZWNpbWFscyB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hTd2FwQWxsb3dhbmNlKHtcbiAgICAgICAgICAgIHRva2VuQWRkcmVzcyxcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2U/LmFsbG93YW5jZSAmJiBzb3VyY2VUb2tlbkFtb3VudCAmJiBzb3VyY2VUb2tlbkRlY2ltYWxzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IENvbm5lY3Rpb25Db250cm9sbGVyLnBhcnNlVW5pdHMoc291cmNlVG9rZW5BbW91bnQsIHNvdXJjZVRva2VuRGVjaW1hbHMpIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBoYXNBbGxvd2FuY2UgPSBCaWdJbnQocmVzcG9uc2UuYWxsb3dhbmNlKSA+PSBwYXJzZWRWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBoYXNBbGxvd2FuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZShmb3JjZVVwZGF0ZSkge1xuICAgICAgICBjb25zdCBiYWxhbmNlcyA9IGF3YWl0IEJhbGFuY2VVdGlsLmdldE15VG9rZW5zV2l0aEJhbGFuY2UoZm9yY2VVcGRhdGUpO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3Rva2VuQmFsYW5jZScsIGJhbGFuY2VzLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBCYWxhbmNlc1RvU3dhcFRva2VucyhiYWxhbmNlcyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBiYWxhbmNlcyBmcm9tIEJsb2NrY2hhaW4gQVBJIHRvIFN3YXBUb2tlbldpdGhCYWxhbmNlIGFycmF5XG4gICAgICogQHBhcmFtIGJhbGFuY2VzXG4gICAgICogQHJldHVybnMgU3dhcFRva2VuV2l0aEJhbGFuY2VbXVxuICAgICAqL1xuICAgIG1hcEJhbGFuY2VzVG9Td2FwVG9rZW5zKGJhbGFuY2VzKSB7XG4gICAgICAgIHJldHVybiAoYmFsYW5jZXM/Lm1hcCh0b2tlbiA9PiAoe1xuICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICBhZGRyZXNzOiB0b2tlbj8uYWRkcmVzcyA/IHRva2VuLmFkZHJlc3MgOiBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzKCksXG4gICAgICAgICAgICBkZWNpbWFsczogcGFyc2VJbnQodG9rZW4ucXVhbnRpdHkuZGVjaW1hbHMsIDEwKSxcbiAgICAgICAgICAgIGxvZ29Vcmk6IHRva2VuLmljb25VcmwsXG4gICAgICAgICAgICBlaXAyNjEyOiBmYWxzZVxuICAgICAgICB9KSkgfHwgW10pO1xuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlU3dhcEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYXVzZSA9IGVycm9yPy5jYXVzZTtcbiAgICAgICAgICAgIGlmICghY2F1c2U/Lmpzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYXVzZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSByZXNwb25zZT8ucmVhc29ucz8uWzBdPy5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIGlmIChyZWFzb24/LmluY2x1ZGVzKCdpbnN1ZmZpY2llbnQgbGlxdWlkaXR5JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0luc3VmZmljaWVudCBsaXF1aWRpdHknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN3YXBBcGlVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViemUtil: () => (/* binding */ ViemUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n// -- Constants ----------------------------------------------------------------\nlet cachedViemUtils = undefined;\n// -- Helpers ------------------------------------------------------------------\nasync function loadViemUtils() {\n    if (!cachedViemUtils) {\n        const { createPublicClient, http, defineChain } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_viem__esm_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/index.js\"));\n        cachedViemUtils = {\n            createPublicClient,\n            http,\n            defineChain\n        };\n    }\n    return cachedViemUtils;\n}\n// -- Utils --------------------------------------------------------------------\nconst ViemUtil = {\n    getBlockchainApiRpcUrl(caipNetworkId, projectId) {\n        const url = new URL('https://rpc.walletconnect.org/v1/');\n        url.searchParams.set('chainId', caipNetworkId);\n        url.searchParams.set('projectId', projectId);\n        return url.toString();\n    },\n    async getViemChain(caipNetwork) {\n        const { defineChain } = await loadViemUtils();\n        const { chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ParseUtil.parseCaipNetworkId(caipNetwork.caipNetworkId);\n        return defineChain({ ...caipNetwork, id: Number(chainId) });\n    },\n    async createViemPublicClient(caipNetwork) {\n        const { createPublicClient, http } = await loadViemUtils();\n        const projectId = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.projectId;\n        const viemChain = await ViemUtil.getViemChain(caipNetwork);\n        if (!viemChain) {\n            throw new Error(`Chain ${caipNetwork.caipNetworkId} not found in viem/chains`);\n        }\n        return createPublicClient({\n            chain: viemChain,\n            transport: http(ViemUtil.getBlockchainApiRpcUrl(caipNetwork.caipNetworkId, projectId))\n        });\n    }\n};\n//# sourceMappingURL=ViemUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9WaWVtVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0I7QUFDMkI7QUFDdUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBd0MsUUFBUSxvTkFBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QixnQkFBZ0IsVUFBVSxFQUFFLDJEQUFTO0FBQ3JDLDZCQUE2QixxQ0FBcUM7QUFDbEUsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQywwQkFBMEIsZ0ZBQWlCO0FBQzNDO0FBQ0E7QUFDQSxxQ0FBcUMsMkJBQTJCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9WaWVtVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge30gZnJvbSAndmllbSc7XG5pbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5sZXQgY2FjaGVkVmllbVV0aWxzID0gdW5kZWZpbmVkO1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRWaWVtVXRpbHMoKSB7XG4gICAgaWYgKCFjYWNoZWRWaWVtVXRpbHMpIHtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVQdWJsaWNDbGllbnQsIGh0dHAsIGRlZmluZUNoYWluIH0gPSBhd2FpdCBpbXBvcnQoJ3ZpZW0nKTtcbiAgICAgICAgY2FjaGVkVmllbVV0aWxzID0ge1xuICAgICAgICAgICAgY3JlYXRlUHVibGljQ2xpZW50LFxuICAgICAgICAgICAgaHR0cCxcbiAgICAgICAgICAgIGRlZmluZUNoYWluXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRWaWVtVXRpbHM7XG59XG4vLyAtLSBVdGlscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFZpZW1VdGlsID0ge1xuICAgIGdldEJsb2NrY2hhaW5BcGlScGNVcmwoY2FpcE5ldHdvcmtJZCwgcHJvamVjdElkKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoJ2h0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxLycpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2hhaW5JZCcsIGNhaXBOZXR3b3JrSWQpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJvamVjdElkJywgcHJvamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0VmllbUNoYWluKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmaW5lQ2hhaW4gfSA9IGF3YWl0IGxvYWRWaWVtVXRpbHMoKTtcbiAgICAgICAgY29uc3QgeyBjaGFpbklkIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICByZXR1cm4gZGVmaW5lQ2hhaW4oeyAuLi5jYWlwTmV0d29yaywgaWQ6IE51bWJlcihjaGFpbklkKSB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGNyZWF0ZVZpZW1QdWJsaWNDbGllbnQoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVQdWJsaWNDbGllbnQsIGh0dHAgfSA9IGF3YWl0IGxvYWRWaWVtVXRpbHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkO1xuICAgICAgICBjb25zdCB2aWVtQ2hhaW4gPSBhd2FpdCBWaWVtVXRpbC5nZXRWaWVtQ2hhaW4oY2FpcE5ldHdvcmspO1xuICAgICAgICBpZiAoIXZpZW1DaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFpbiAke2NhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWR9IG5vdCBmb3VuZCBpbiB2aWVtL2NoYWluc2ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVQdWJsaWNDbGllbnQoe1xuICAgICAgICAgICAgY2hhaW46IHZpZW1DaGFpbixcbiAgICAgICAgICAgIHRyYW5zcG9ydDogaHR0cChWaWVtVXRpbC5nZXRCbG9ja2NoYWluQXBpUnBjVXJsKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsIHByb2plY3RJZCkpXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWVtVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_METHODS: () => (/* binding */ DEFAULT_METHODS),\n/* harmony export */   WcHelpersUtil: () => (/* binding */ WcHelpersUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/EnsController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\");\n\n\nconst DEFAULT_METHODS = {\n    solana: [\n        'solana_signMessage',\n        'solana_signTransaction',\n        'solana_requestAccounts',\n        'solana_getAccounts',\n        'solana_signAllTransactions',\n        'solana_signAndSendTransaction'\n    ],\n    eip155: [\n        'eth_accounts',\n        'eth_requestAccounts',\n        'eth_sendRawTransaction',\n        'eth_sign',\n        'eth_signTransaction',\n        'eth_signTypedData',\n        'eth_signTypedData_v3',\n        'eth_signTypedData_v4',\n        'eth_sendTransaction',\n        'personal_sign',\n        'wallet_switchEthereumChain',\n        'wallet_addEthereumChain',\n        'wallet_getPermissions',\n        'wallet_requestPermissions',\n        'wallet_registerOnboarding',\n        'wallet_watchAsset',\n        'wallet_scanQRCode',\n        // EIP-5792\n        'wallet_getCallsStatus',\n        'wallet_showCallsStatus',\n        'wallet_sendCalls',\n        'wallet_getCapabilities',\n        // EIP-7715\n        'wallet_grantPermissions',\n        'wallet_revokePermissions',\n        //EIP-7811\n        'wallet_getAssets'\n    ],\n    bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']\n};\nconst WcHelpersUtil = {\n    RPC_ERROR_CODE: {\n        USER_REJECTED: 5000,\n        USER_REJECTED_METHODS: 5002\n    },\n    getMethodsByChainNamespace(chainNamespace) {\n        return DEFAULT_METHODS[chainNamespace] || [];\n    },\n    createDefaultNamespace(chainNamespace) {\n        return {\n            methods: this.getMethodsByChainNamespace(chainNamespace),\n            events: ['accountsChanged', 'chainChanged'],\n            chains: [],\n            rpcMap: {}\n        };\n    },\n    applyNamespaceOverrides(baseNamespaces, overrides) {\n        if (!overrides) {\n            return { ...baseNamespaces };\n        }\n        const result = { ...baseNamespaces };\n        const namespacesToOverride = new Set();\n        if (overrides.methods) {\n            Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.chains) {\n            Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.events) {\n            Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.rpcMap) {\n            Object.keys(overrides.rpcMap).forEach(chainId => {\n                const [ns] = chainId.split(':');\n                if (ns) {\n                    namespacesToOverride.add(ns);\n                }\n            });\n        }\n        namespacesToOverride.forEach(ns => {\n            if (!result[ns]) {\n                result[ns] = this.createDefaultNamespace(ns);\n            }\n        });\n        if (overrides.methods) {\n            Object.entries(overrides.methods).forEach(([ns, methods]) => {\n                if (result[ns]) {\n                    result[ns].methods = methods;\n                }\n            });\n        }\n        if (overrides.chains) {\n            Object.entries(overrides.chains).forEach(([ns, chains]) => {\n                if (result[ns]) {\n                    result[ns].chains = chains;\n                }\n            });\n        }\n        if (overrides.events) {\n            Object.entries(overrides.events).forEach(([ns, events]) => {\n                if (result[ns]) {\n                    result[ns].events = events;\n                }\n            });\n        }\n        if (overrides.rpcMap) {\n            const processedNamespaces = new Set();\n            Object.entries(overrides.rpcMap).forEach(([chainId, rpcUrl]) => {\n                const [ns, id] = chainId.split(':');\n                if (!ns || !id || !result[ns]) {\n                    return;\n                }\n                if (!result[ns].rpcMap) {\n                    result[ns].rpcMap = {};\n                }\n                if (!processedNamespaces.has(ns)) {\n                    result[ns].rpcMap = {};\n                    processedNamespaces.add(ns);\n                }\n                result[ns].rpcMap[id] = rpcUrl;\n            });\n        }\n        return result;\n    },\n    createNamespaces(caipNetworks, configOverride) {\n        const defaultNamespaces = caipNetworks.reduce((acc, chain) => {\n            const { id, chainNamespace, rpcUrls } = chain;\n            const rpcUrl = rpcUrls.default.http[0];\n            if (!acc[chainNamespace]) {\n                acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);\n            }\n            const caipNetworkId = `${chainNamespace}:${id}`;\n            // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n            const namespace = acc[chainNamespace];\n            namespace.chains.push(caipNetworkId);\n            // Workaround for wallets that only support deprecated Solana network ID\n            switch (caipNetworkId) {\n                case 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp':\n                    namespace.chains.push('solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ');\n                    break;\n                case 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1':\n                    namespace.chains.push('solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K');\n                    break;\n                default:\n            }\n            if (namespace?.rpcMap && rpcUrl) {\n                namespace.rpcMap[id] = rpcUrl;\n            }\n            return acc;\n        }, {});\n        return this.applyNamespaceOverrides(defaultNamespaces, configOverride);\n    },\n    resolveReownName: async (name) => {\n        const wcNameAddress = await _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__.EnsController.resolveName(name);\n        const networkNameAddresses = Object.values(wcNameAddress?.addresses) || [];\n        return networkNameAddresses[0]?.address || false;\n    },\n    getChainsFromNamespaces(namespaces = {}) {\n        return Object.values(namespaces).flatMap(namespace => {\n            const chains = (namespace.chains || []);\n            const accountsChains = namespace.accounts.map(account => {\n                const [chainNamespace, chainId] = account.split(':');\n                return `${chainNamespace}:${chainId}`;\n            });\n            return Array.from(new Set([...chains, ...accountsChains]));\n        });\n    },\n    isSessionEventData(data) {\n        return (typeof data === 'object' &&\n            data !== null &&\n            'id' in data &&\n            'topic' in data &&\n            'params' in data &&\n            typeof data.params === 'object' &&\n            data.params !== null &&\n            'chainId' in data.params &&\n            'event' in data.params &&\n            typeof data.params.event === 'object' &&\n            data.params.event !== null);\n    },\n    isUserRejectedRequestError(error) {\n        try {\n            if (typeof error === 'object' && error !== null) {\n                const objErr = error;\n                const hasCode = typeof objErr['code'] === 'number';\n                const hasUserRejectedMethods = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n                const hasUserRejected = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED;\n                return hasUserRejectedMethods || hasUserRejected;\n            }\n            return false;\n        }\n        catch {\n            return false;\n        }\n    },\n    isOriginAllowed(currentOrigin, allowedPatterns, defaultAllowedOrigins) {\n        for (const pattern of [...allowedPatterns, ...defaultAllowedOrigins]) {\n            if (pattern.includes('*')) {\n                // Convert wildcard pattern to regex, escape special chars, replace *, match whole string\n                const escapedPattern = pattern.replace(/[.*+?^${}()|[\\]\\\\]/gu, '\\\\$&');\n                const regexString = `^${escapedPattern.replace(/\\\\\\*/gu, '.*')}$`;\n                const regex = new RegExp(regexString, 'u');\n                if (regex.test(currentOrigin)) {\n                    return true;\n                }\n            }\n            else {\n                /**\n                 * There are some cases where pattern is getting just the origin, where using new URL(pattern).origin will throw an error\n                 * thus we a try catch to handle this case\n                 */\n                try {\n                    if (new URL(pattern).origin === currentOrigin) {\n                        return true;\n                    }\n                }\n                catch (e) {\n                    if (pattern === currentOrigin) {\n                        return true;\n                    }\n                }\n            }\n        }\n        // No match found\n        return false;\n    },\n    listenWcProvider({ universalProvider, namespace, onConnect, onDisconnect, onAccountsChanged, onChainChanged, onDisplayUri }) {\n        if (onConnect) {\n            universalProvider.on('connect', () => {\n                const accounts = WcHelpersUtil.getWalletConnectAccounts(universalProvider, namespace);\n                onConnect(accounts);\n            });\n        }\n        if (onDisconnect) {\n            universalProvider.on('disconnect', () => {\n                onDisconnect();\n            });\n        }\n        if (onAccountsChanged) {\n            /*\n             * In multichain scenario - every adapter will listen to accountsChanged event\n             * so make sure to call `onAccountsChanged` only on the namespace that actually has accounts changed\n             */\n            universalProvider.on('accountsChanged', (accounts) => {\n                try {\n                    const allAccounts = universalProvider.session?.namespaces?.[namespace]?.accounts || [];\n                    const defaultChain = universalProvider.rpcProviders?.[namespace]?.getDefaultChain();\n                    const parsedAccounts = accounts\n                        .map(account => {\n                        const caipAccount = allAccounts.find(acc => acc.includes(`${namespace}:${defaultChain}:${account}`));\n                        if (!caipAccount) {\n                            return undefined;\n                        }\n                        const { chainId, chainNamespace } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipAddress(caipAccount);\n                        return {\n                            address: account,\n                            chainId,\n                            chainNamespace\n                        };\n                    })\n                        .filter(account => account !== undefined);\n                    // Emit accountsChanged event only if there are accounts\n                    if (parsedAccounts.length > 0) {\n                        onAccountsChanged(parsedAccounts);\n                    }\n                }\n                catch (error) {\n                    console.warn('Failed to parse accounts for namespace on accountsChanged event', namespace, accounts, error);\n                }\n            });\n        }\n        if (onChainChanged) {\n            universalProvider.on('chainChanged', (chainId) => {\n                onChainChanged(chainId);\n            });\n        }\n        if (onDisplayUri) {\n            universalProvider.on('display_uri', (uri) => {\n                onDisplayUri(uri);\n            });\n        }\n    },\n    getWalletConnectAccounts(universalProvider, namespace) {\n        const accountsAdded = new Set();\n        const accounts = universalProvider?.session?.namespaces?.[namespace]?.accounts\n            ?.map(account => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipAddress(account))\n            .filter(({ address }) => {\n            if (accountsAdded.has(address.toLowerCase())) {\n                return false;\n            }\n            accountsAdded.add(address.toLowerCase());\n            return true;\n        });\n        if (accounts && accounts.length > 0) {\n            return accounts;\n        }\n        return [];\n    }\n};\n//# sourceMappingURL=WalletConnectUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEO0FBQ2U7QUFDekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLDhCQUE4QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlLEdBQUcsR0FBRztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0Msd0VBQWE7QUFDakQ7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZSxHQUFHLFFBQVE7QUFDcEQsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRSx3Q0FBd0MsdUNBQXVDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsd0dBQXdHO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixVQUFVLEdBQUcsYUFBYSxHQUFHLFFBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBCQUEwQixFQUFFLDJEQUFTO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBUztBQUN0Qyx1QkFBdUIsU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1dhbGxldENvbm5lY3RVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEVuc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX01FVEhPRFMgPSB7XG4gICAgc29sYW5hOiBbXG4gICAgICAgICdzb2xhbmFfc2lnbk1lc3NhZ2UnLFxuICAgICAgICAnc29sYW5hX3NpZ25UcmFuc2FjdGlvbicsXG4gICAgICAgICdzb2xhbmFfcmVxdWVzdEFjY291bnRzJyxcbiAgICAgICAgJ3NvbGFuYV9nZXRBY2NvdW50cycsXG4gICAgICAgICdzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9ucycsXG4gICAgICAgICdzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbidcbiAgICBdLFxuICAgIGVpcDE1NTogW1xuICAgICAgICAnZXRoX2FjY291bnRzJyxcbiAgICAgICAgJ2V0aF9yZXF1ZXN0QWNjb3VudHMnLFxuICAgICAgICAnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsXG4gICAgICAgICdldGhfc2lnbicsXG4gICAgICAgICdldGhfc2lnblRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhX3YzJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhX3Y0JyxcbiAgICAgICAgJ2V0aF9zZW5kVHJhbnNhY3Rpb24nLFxuICAgICAgICAncGVyc29uYWxfc2lnbicsXG4gICAgICAgICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgICAgICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXG4gICAgICAgICd3YWxsZXRfZ2V0UGVybWlzc2lvbnMnLFxuICAgICAgICAnd2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9ucycsXG4gICAgICAgICd3YWxsZXRfcmVnaXN0ZXJPbmJvYXJkaW5nJyxcbiAgICAgICAgJ3dhbGxldF93YXRjaEFzc2V0JyxcbiAgICAgICAgJ3dhbGxldF9zY2FuUVJDb2RlJyxcbiAgICAgICAgLy8gRUlQLTU3OTJcbiAgICAgICAgJ3dhbGxldF9nZXRDYWxsc1N0YXR1cycsXG4gICAgICAgICd3YWxsZXRfc2hvd0NhbGxzU3RhdHVzJyxcbiAgICAgICAgJ3dhbGxldF9zZW5kQ2FsbHMnLFxuICAgICAgICAnd2FsbGV0X2dldENhcGFiaWxpdGllcycsXG4gICAgICAgIC8vIEVJUC03NzE1XG4gICAgICAgICd3YWxsZXRfZ3JhbnRQZXJtaXNzaW9ucycsXG4gICAgICAgICd3YWxsZXRfcmV2b2tlUGVybWlzc2lvbnMnLFxuICAgICAgICAvL0VJUC03ODExXG4gICAgICAgICd3YWxsZXRfZ2V0QXNzZXRzJ1xuICAgIF0sXG4gICAgYmlwMTIyOiBbJ3NlbmRUcmFuc2ZlcicsICdzaWduTWVzc2FnZScsICdzaWduUHNidCcsICdnZXRBY2NvdW50QWRkcmVzc2VzJ11cbn07XG5leHBvcnQgY29uc3QgV2NIZWxwZXJzVXRpbCA9IHtcbiAgICBSUENfRVJST1JfQ09ERToge1xuICAgICAgICBVU0VSX1JFSkVDVEVEOiA1MDAwLFxuICAgICAgICBVU0VSX1JFSkVDVEVEX01FVEhPRFM6IDUwMDJcbiAgICB9LFxuICAgIGdldE1ldGhvZHNCeUNoYWluTmFtZXNwYWNlKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBERUZBVUxUX01FVEhPRFNbY2hhaW5OYW1lc3BhY2VdIHx8IFtdO1xuICAgIH0sXG4gICAgY3JlYXRlRGVmYXVsdE5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kczogdGhpcy5nZXRNZXRob2RzQnlDaGFpbk5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSksXG4gICAgICAgICAgICBldmVudHM6IFsnYWNjb3VudHNDaGFuZ2VkJywgJ2NoYWluQ2hhbmdlZCddLFxuICAgICAgICAgICAgY2hhaW5zOiBbXSxcbiAgICAgICAgICAgIHJwY01hcDoge31cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFwcGx5TmFtZXNwYWNlT3ZlcnJpZGVzKGJhc2VOYW1lc3BhY2VzLCBvdmVycmlkZXMpIHtcbiAgICAgICAgaWYgKCFvdmVycmlkZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmJhc2VOYW1lc3BhY2VzIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi5iYXNlTmFtZXNwYWNlcyB9O1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzVG9PdmVycmlkZSA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlcy5tZXRob2RzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvdmVycmlkZXMubWV0aG9kcykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmNoYWlucykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLmNoYWlucykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmV2ZW50cykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLmV2ZW50cykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLnJwY01hcCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLnJwY01hcCkuZm9yRWFjaChjaGFpbklkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbnNdID0gY2hhaW5JZC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIGlmIChucykge1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVzcGFjZXNUb092ZXJyaWRlLmZvckVhY2gobnMgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W25zXSA9IHRoaXMuY3JlYXRlRGVmYXVsdE5hbWVzcGFjZShucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3ZlcnJpZGVzLm1ldGhvZHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5tZXRob2RzKS5mb3JFYWNoKChbbnMsIG1ldGhvZHNdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5tZXRob2RzID0gbWV0aG9kcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmNoYWlucykge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3ZlcnJpZGVzLmNoYWlucykuZm9yRWFjaCgoW25zLCBjaGFpbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5jaGFpbnMgPSBjaGFpbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5ldmVudHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5ldmVudHMpLmZvckVhY2goKFtucywgZXZlbnRzXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10uZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVycmlkZXMucnBjTWFwKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWROYW1lc3BhY2VzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3ZlcnJpZGVzLnJwY01hcCkuZm9yRWFjaCgoW2NoYWluSWQsIHJwY1VybF0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbnMsIGlkXSA9IGNoYWluSWQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5zIHx8ICFpZCB8fCAhcmVzdWx0W25zXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0W25zXS5ycGNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5ycGNNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzZWROYW1lc3BhY2VzLmhhcyhucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5ycGNNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkTmFtZXNwYWNlcy5hZGQobnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbbnNdLnJwY01hcFtpZF0gPSBycGNVcmw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgY3JlYXRlTmFtZXNwYWNlcyhjYWlwTmV0d29ya3MsIGNvbmZpZ092ZXJyaWRlKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHROYW1lc3BhY2VzID0gY2FpcE5ldHdvcmtzLnJlZHVjZSgoYWNjLCBjaGFpbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpZCwgY2hhaW5OYW1lc3BhY2UsIHJwY1VybHMgfSA9IGNoYWluO1xuICAgICAgICAgICAgY29uc3QgcnBjVXJsID0gcnBjVXJscy5kZWZhdWx0Lmh0dHBbMF07XG4gICAgICAgICAgICBpZiAoIWFjY1tjaGFpbk5hbWVzcGFjZV0pIHtcbiAgICAgICAgICAgICAgICBhY2NbY2hhaW5OYW1lc3BhY2VdID0gdGhpcy5jcmVhdGVEZWZhdWx0TmFtZXNwYWNlKGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWQgPSBgJHtjaGFpbk5hbWVzcGFjZX06JHtpZH1gO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9ub24tbnVsbGFibGUtdHlwZS1hc3NlcnRpb24tc3R5bGVcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGFjY1tjaGFpbk5hbWVzcGFjZV07XG4gICAgICAgICAgICBuYW1lc3BhY2UuY2hhaW5zLnB1c2goY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciB3YWxsZXRzIHRoYXQgb25seSBzdXBwb3J0IGRlcHJlY2F0ZWQgU29sYW5hIG5ldHdvcmsgSURcbiAgICAgICAgICAgIHN3aXRjaCAoY2FpcE5ldHdvcmtJZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcCc6XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZS5jaGFpbnMucHVzaCgnc29sYW5hOjRzR2pNVzFzVW5IelN4R3NwdWhwcUxEeDZ3aXlqTnRaJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYTpFdFdUUkFCWmFZcTZpTWZlWUtvdVJ1MTY2VlUyeHFhMSc6XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZS5jaGFpbnMucHVzaCgnc29sYW5hOjhFOXJ2Q0tMRlFpYTJZMzVIWGpqcFd6ajh3ZVZvNDRLJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlPy5ycGNNYXAgJiYgcnBjVXJsKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlLnJwY01hcFtpZF0gPSBycGNVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5TmFtZXNwYWNlT3ZlcnJpZGVzKGRlZmF1bHROYW1lc3BhY2VzLCBjb25maWdPdmVycmlkZSk7XG4gICAgfSxcbiAgICByZXNvbHZlUmVvd25OYW1lOiBhc3luYyAobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB3Y05hbWVBZGRyZXNzID0gYXdhaXQgRW5zQ29udHJvbGxlci5yZXNvbHZlTmFtZShuYW1lKTtcbiAgICAgICAgY29uc3QgbmV0d29ya05hbWVBZGRyZXNzZXMgPSBPYmplY3QudmFsdWVzKHdjTmFtZUFkZHJlc3M/LmFkZHJlc3NlcykgfHwgW107XG4gICAgICAgIHJldHVybiBuZXR3b3JrTmFtZUFkZHJlc3Nlc1swXT8uYWRkcmVzcyB8fCBmYWxzZTtcbiAgICB9LFxuICAgIGdldENoYWluc0Zyb21OYW1lc3BhY2VzKG5hbWVzcGFjZXMgPSB7fSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhuYW1lc3BhY2VzKS5mbGF0TWFwKG5hbWVzcGFjZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGFpbnMgPSAobmFtZXNwYWNlLmNoYWlucyB8fCBbXSk7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50c0NoYWlucyA9IG5hbWVzcGFjZS5hY2NvdW50cy5tYXAoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2NoYWluTmFtZXNwYWNlLCBjaGFpbklkXSA9IGFjY291bnQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7Y2hhaW5JZH1gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5jaGFpbnMsIC4uLmFjY291bnRzQ2hhaW5zXSkpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGlzU2Vzc2lvbkV2ZW50RGF0YShkYXRhKSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBkYXRhICE9PSBudWxsICYmXG4gICAgICAgICAgICAnaWQnIGluIGRhdGEgJiZcbiAgICAgICAgICAgICd0b3BpYycgaW4gZGF0YSAmJlxuICAgICAgICAgICAgJ3BhcmFtcycgaW4gZGF0YSAmJlxuICAgICAgICAgICAgdHlwZW9mIGRhdGEucGFyYW1zID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YS5wYXJhbXMgIT09IG51bGwgJiZcbiAgICAgICAgICAgICdjaGFpbklkJyBpbiBkYXRhLnBhcmFtcyAmJlxuICAgICAgICAgICAgJ2V2ZW50JyBpbiBkYXRhLnBhcmFtcyAmJlxuICAgICAgICAgICAgdHlwZW9mIGRhdGEucGFyYW1zLmV2ZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YS5wYXJhbXMuZXZlbnQgIT09IG51bGwpO1xuICAgIH0sXG4gICAgaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqRXJyID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQ29kZSA9IHR5cGVvZiBvYmpFcnJbJ2NvZGUnXSA9PT0gJ251bWJlcic7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzVXNlclJlamVjdGVkTWV0aG9kcyA9IGhhc0NvZGUgJiYgb2JqRXJyWydjb2RlJ10gPT09IFdjSGVscGVyc1V0aWwuUlBDX0VSUk9SX0NPREUuVVNFUl9SRUpFQ1RFRF9NRVRIT0RTO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1VzZXJSZWplY3RlZCA9IGhhc0NvZGUgJiYgb2JqRXJyWydjb2RlJ10gPT09IFdjSGVscGVyc1V0aWwuUlBDX0VSUk9SX0NPREUuVVNFUl9SRUpFQ1RFRDtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzVXNlclJlamVjdGVkTWV0aG9kcyB8fCBoYXNVc2VyUmVqZWN0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc09yaWdpbkFsbG93ZWQoY3VycmVudE9yaWdpbiwgYWxsb3dlZFBhdHRlcm5zLCBkZWZhdWx0QWxsb3dlZE9yaWdpbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIFsuLi5hbGxvd2VkUGF0dGVybnMsIC4uLmRlZmF1bHRBbGxvd2VkT3JpZ2luc10pIHtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuLmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHdpbGRjYXJkIHBhdHRlcm4gdG8gcmVnZXgsIGVzY2FwZSBzcGVjaWFsIGNoYXJzLCByZXBsYWNlICosIG1hdGNoIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGVzY2FwZWRQYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZ3UsICdcXFxcJCYnKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleFN0cmluZyA9IGBeJHtlc2NhcGVkUGF0dGVybi5yZXBsYWNlKC9cXFxcXFwqL2d1LCAnLionKX0kYDtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhTdHJpbmcsICd1Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QoY3VycmVudE9yaWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlcmUgYXJlIHNvbWUgY2FzZXMgd2hlcmUgcGF0dGVybiBpcyBnZXR0aW5nIGp1c3QgdGhlIG9yaWdpbiwgd2hlcmUgdXNpbmcgbmV3IFVSTChwYXR0ZXJuKS5vcmlnaW4gd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgICAqIHRodXMgd2UgYSB0cnkgY2F0Y2ggdG8gaGFuZGxlIHRoaXMgY2FzZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgVVJMKHBhdHRlcm4pLm9yaWdpbiA9PT0gY3VycmVudE9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gPT09IGN1cnJlbnRPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vIG1hdGNoIGZvdW5kXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGxpc3RlbldjUHJvdmlkZXIoeyB1bml2ZXJzYWxQcm92aWRlciwgbmFtZXNwYWNlLCBvbkNvbm5lY3QsIG9uRGlzY29ubmVjdCwgb25BY2NvdW50c0NoYW5nZWQsIG9uQ2hhaW5DaGFuZ2VkLCBvbkRpc3BsYXlVcmkgfSkge1xuICAgICAgICBpZiAob25Db25uZWN0KSB7XG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlci5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IFdjSGVscGVyc1V0aWwuZ2V0V2FsbGV0Q29ubmVjdEFjY291bnRzKHVuaXZlcnNhbFByb3ZpZGVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIG9uQ29ubmVjdChhY2NvdW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EaXNjb25uZWN0KSB7XG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlci5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBvbkRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkFjY291bnRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIEluIG11bHRpY2hhaW4gc2NlbmFyaW8gLSBldmVyeSBhZGFwdGVyIHdpbGwgbGlzdGVuIHRvIGFjY291bnRzQ2hhbmdlZCBldmVudFxuICAgICAgICAgICAgICogc28gbWFrZSBzdXJlIHRvIGNhbGwgYG9uQWNjb3VudHNDaGFuZ2VkYCBvbmx5IG9uIHRoZSBuYW1lc3BhY2UgdGhhdCBhY3R1YWxseSBoYXMgYWNjb3VudHMgY2hhbmdlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlci5vbignYWNjb3VudHNDaGFuZ2VkJywgKGFjY291bnRzKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQWNjb3VudHMgPSB1bml2ZXJzYWxQcm92aWRlci5zZXNzaW9uPy5uYW1lc3BhY2VzPy5bbmFtZXNwYWNlXT8uYWNjb3VudHMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRDaGFpbiA9IHVuaXZlcnNhbFByb3ZpZGVyLnJwY1Byb3ZpZGVycz8uW25hbWVzcGFjZV0/LmdldERlZmF1bHRDaGFpbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBY2NvdW50cyA9IGFjY291bnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FpcEFjY291bnQgPSBhbGxBY2NvdW50cy5maW5kKGFjYyA9PiBhY2MuaW5jbHVkZXMoYCR7bmFtZXNwYWNlfToke2RlZmF1bHRDaGFpbn06JHthY2NvdW50fWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FpcEFjY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjaGFpbklkLCBjaGFpbk5hbWVzcGFjZSB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoY2FpcEFjY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGFjY291bnQgPT4gYWNjb3VudCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1pdCBhY2NvdW50c0NoYW5nZWQgZXZlbnQgb25seSBpZiB0aGVyZSBhcmUgYWNjb3VudHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZEFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQWNjb3VudHNDaGFuZ2VkKHBhcnNlZEFjY291bnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgYWNjb3VudHMgZm9yIG5hbWVzcGFjZSBvbiBhY2NvdW50c0NoYW5nZWQgZXZlbnQnLCBuYW1lc3BhY2UsIGFjY291bnRzLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ2hhaW5DaGFuZ2VkKSB7XG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlci5vbignY2hhaW5DaGFuZ2VkJywgKGNoYWluSWQpID0+IHtcbiAgICAgICAgICAgICAgICBvbkNoYWluQ2hhbmdlZChjaGFpbklkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRpc3BsYXlVcmkpIHtcbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyLm9uKCdkaXNwbGF5X3VyaScsICh1cmkpID0+IHtcbiAgICAgICAgICAgICAgICBvbkRpc3BsYXlVcmkodXJpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRXYWxsZXRDb25uZWN0QWNjb3VudHModW5pdmVyc2FsUHJvdmlkZXIsIG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBhY2NvdW50c0FkZGVkID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBhY2NvdW50cyA9IHVuaXZlcnNhbFByb3ZpZGVyPy5zZXNzaW9uPy5uYW1lc3BhY2VzPy5bbmFtZXNwYWNlXT8uYWNjb3VudHNcbiAgICAgICAgICAgID8ubWFwKGFjY291bnQgPT4gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoYWNjb3VudCkpXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGFkZHJlc3MgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjY291bnRzQWRkZWQuaGFzKGFkZHJlc3MudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2NvdW50c0FkZGVkLmFkZChhZGRyZXNzLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWNjb3VudHMgJiYgYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2FsbGV0Q29ubmVjdFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKitError: () => (/* binding */ AppKitError),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/TelemetryController.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\");\n\nclass AppKitError extends Error {\n    constructor(message, category, originalError) {\n        super(message);\n        this.originalName = 'AppKitError';\n        this.name = 'AppKitError';\n        this.category = category;\n        this.originalError = originalError;\n        if (originalError && originalError instanceof Error) {\n            this.originalName = originalError.name;\n        }\n        // Ensure `this instanceof AppKitError` is true, important for custom errors.\n        Object.setPrototypeOf(this, AppKitError.prototype);\n        let isStackConstructedFromOriginal = false;\n        if (originalError instanceof Error &&\n            typeof originalError.stack === 'string' &&\n            originalError.stack) {\n            const originalErrorStack = originalError.stack;\n            /**\n             * Most error stacks start with \"ErrorName: ErrorMessage\\n...frames...\"\n             * We want to take the \"...frames...\" part.\n             */\n            const firstNewlineIndex = originalErrorStack.indexOf('\\n');\n            if (firstNewlineIndex > -1) {\n                const originalFrames = originalErrorStack.substring(firstNewlineIndex + 1);\n                this.stack = `${this.name}: ${this.message}\\n${originalFrames}`;\n                isStackConstructedFromOriginal = true;\n            }\n        }\n        if (!isStackConstructedFromOriginal) {\n            /**\n             * If stack was not (or could not be) constructed from originalError,\n             * generate a standard stack trace for this AppKitError instance.\n             * This will point to where `new AppKitError()` was called.\n             */\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, AppKitError);\n            }\n            else if (!this.stack) {\n                /**\n                 * Fallback for environments without Error.captureStackTrace.\n                 * `super(message)` might have set a stack.\n                 * If `this.stack` is still undefined/empty, provide a minimal one.\n                 * Node.js and modern browsers typically set `this.stack` from `super(message)`.\n                 */\n                this.stack = `${this.name}: ${this.message}`;\n            }\n        }\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction errorHandler(err, defaultCategory) {\n    let errMessage = '';\n    try {\n        if (err instanceof Error) {\n            errMessage = err.message;\n        }\n        else if (typeof err === 'string') {\n            errMessage = err;\n        }\n        else if (typeof err === 'object' && err !== null) {\n            if (Object.keys(err).length === 0) {\n                errMessage = 'Unknown error';\n            }\n            else {\n                errMessage = err?.message || JSON.stringify(err);\n            }\n        }\n        else {\n            errMessage = String(err);\n        }\n    }\n    catch (_error) {\n        errMessage = 'Unknown error';\n        // eslint-disable-next-line no-console\n        console.error('Error parsing error message', _error);\n    }\n    const error = err instanceof AppKitError ? err : new AppKitError(errMessage, defaultCategory, err);\n    _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__.TelemetryController.sendError(error, error.category);\n    throw error;\n}\nfunction withErrorBoundary(controller, defaultCategory = 'INTERNAL_SDK_ERROR') {\n    const newController = {};\n    Object.keys(controller).forEach(key => {\n        const original = controller[key];\n        if (typeof original === 'function') {\n            let wrapped = original;\n            if (original.constructor.name === 'AsyncFunction') {\n                wrapped = async (...args) => {\n                    try {\n                        return await original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            else {\n                wrapped = (...args) => {\n                    try {\n                        return original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            newController[key] = wrapped;\n        }\n        else {\n            newController[key] = original;\n        }\n    });\n    return newController;\n}\n//# sourceMappingURL=withErrorBoundary.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEU7QUFDckU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsSUFBSSxhQUFhLElBQUksZUFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVLElBQUksYUFBYTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvRkFBbUI7QUFDdkI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZWxlbWV0cnlDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvVGVsZW1ldHJ5Q29udHJvbGxlci5qcyc7XG5leHBvcnQgY2xhc3MgQXBwS2l0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgY2F0ZWdvcnksIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxOYW1lID0gJ0FwcEtpdEVycm9yJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FwcEtpdEVycm9yJztcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgICAgICBpZiAob3JpZ2luYWxFcnJvciAmJiBvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxOYW1lID0gb3JpZ2luYWxFcnJvci5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSBgdGhpcyBpbnN0YW5jZW9mIEFwcEtpdEVycm9yYCBpcyB0cnVlLCBpbXBvcnRhbnQgZm9yIGN1c3RvbSBlcnJvcnMuXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBcHBLaXRFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICBsZXQgaXNTdGFja0NvbnN0cnVjdGVkRnJvbU9yaWdpbmFsID0gZmFsc2U7XG4gICAgICAgIGlmIChvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgICAgIHR5cGVvZiBvcmlnaW5hbEVycm9yLnN0YWNrID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5zdGFjaykge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvclN0YWNrID0gb3JpZ2luYWxFcnJvci5zdGFjaztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTW9zdCBlcnJvciBzdGFja3Mgc3RhcnQgd2l0aCBcIkVycm9yTmFtZTogRXJyb3JNZXNzYWdlXFxuLi4uZnJhbWVzLi4uXCJcbiAgICAgICAgICAgICAqIFdlIHdhbnQgdG8gdGFrZSB0aGUgXCIuLi5mcmFtZXMuLi5cIiBwYXJ0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5ld2xpbmVJbmRleCA9IG9yaWdpbmFsRXJyb3JTdGFjay5pbmRleE9mKCdcXG4nKTtcbiAgICAgICAgICAgIGlmIChmaXJzdE5ld2xpbmVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGcmFtZXMgPSBvcmlnaW5hbEVycm9yU3RhY2suc3Vic3RyaW5nKGZpcnN0TmV3bGluZUluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjayA9IGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfVxcbiR7b3JpZ2luYWxGcmFtZXN9YDtcbiAgICAgICAgICAgICAgICBpc1N0YWNrQ29uc3RydWN0ZWRGcm9tT3JpZ2luYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNTdGFja0NvbnN0cnVjdGVkRnJvbU9yaWdpbmFsKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHN0YWNrIHdhcyBub3QgKG9yIGNvdWxkIG5vdCBiZSkgY29uc3RydWN0ZWQgZnJvbSBvcmlnaW5hbEVycm9yLFxuICAgICAgICAgICAgICogZ2VuZXJhdGUgYSBzdGFuZGFyZCBzdGFjayB0cmFjZSBmb3IgdGhpcyBBcHBLaXRFcnJvciBpbnN0YW5jZS5cbiAgICAgICAgICAgICAqIFRoaXMgd2lsbCBwb2ludCB0byB3aGVyZSBgbmV3IEFwcEtpdEVycm9yKClgIHdhcyBjYWxsZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEFwcEtpdEVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRmFsbGJhY2sgZm9yIGVudmlyb25tZW50cyB3aXRob3V0IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlLlxuICAgICAgICAgICAgICAgICAqIGBzdXBlcihtZXNzYWdlKWAgbWlnaHQgaGF2ZSBzZXQgYSBzdGFjay5cbiAgICAgICAgICAgICAgICAgKiBJZiBgdGhpcy5zdGFja2AgaXMgc3RpbGwgdW5kZWZpbmVkL2VtcHR5LCBwcm92aWRlIGEgbWluaW1hbCBvbmUuXG4gICAgICAgICAgICAgICAgICogTm9kZS5qcyBhbmQgbW9kZXJuIGJyb3dzZXJzIHR5cGljYWxseSBzZXQgYHRoaXMuc3RhY2tgIGZyb20gYHN1cGVyKG1lc3NhZ2UpYC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrID0gYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBlcnJvckhhbmRsZXIoZXJyLCBkZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICBsZXQgZXJyTWVzc2FnZSA9ICcnO1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgZXJyTWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBlcnIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlcnJNZXNzYWdlID0gZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmIGVyciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGVycikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZXJyTWVzc2FnZSA9ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVyck1lc3NhZ2UgPSBlcnI/Lm1lc3NhZ2UgfHwgSlNPTi5zdHJpbmdpZnkoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVyck1lc3NhZ2UgPSBTdHJpbmcoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgIGVyck1lc3NhZ2UgPSAnVW5rbm93biBlcnJvcic7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgZXJyb3IgbWVzc2FnZScsIF9lcnJvcik7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yID0gZXJyIGluc3RhbmNlb2YgQXBwS2l0RXJyb3IgPyBlcnIgOiBuZXcgQXBwS2l0RXJyb3IoZXJyTWVzc2FnZSwgZGVmYXVsdENhdGVnb3J5LCBlcnIpO1xuICAgIFRlbGVtZXRyeUNvbnRyb2xsZXIuc2VuZEVycm9yKGVycm9yLCBlcnJvci5jYXRlZ29yeSk7XG4gICAgdGhyb3cgZXJyb3I7XG59XG5leHBvcnQgZnVuY3Rpb24gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlciwgZGVmYXVsdENhdGVnb3J5ID0gJ0lOVEVSTkFMX1NES19FUlJPUicpIHtcbiAgICBjb25zdCBuZXdDb250cm9sbGVyID0ge307XG4gICAgT2JqZWN0LmtleXMoY29udHJvbGxlcikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGNvbnRyb2xsZXJba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbGV0IHdyYXBwZWQgPSBvcmlnaW5hbDtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQXN5bmNGdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBvcmlnaW5hbCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGVyciwgZGVmYXVsdENhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGVyciwgZGVmYXVsdENhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdDb250cm9sbGVyW2tleV0gPSB3cmFwcGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3Q29udHJvbGxlcltrZXldID0gb3JpZ2luYWw7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3Q29udHJvbGxlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpdGhFcnJvckJvdW5kYXJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/core/dist/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/core/dist/index.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ ge),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ Ue),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ W),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Fe),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ Me),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ ta),\n/* harmony export */   Crypto: () => (/* binding */ wi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Zt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Qt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ si),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ ei),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ar),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ or),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ sr),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ X),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ nr),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ rr),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ Gt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ tr),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ q),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Wt),\n/* harmony export */   EchoClient: () => (/* binding */ Vi),\n/* harmony export */   EventClient: () => (/* binding */ Gi),\n/* harmony export */   Expirer: () => (/* binding */ Mi),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Vt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ V),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ qt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ Fi),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ _i),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Ot),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Rt),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ ye),\n/* harmony export */   MessageTracker: () => (/* binding */ Ii),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Kt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ er),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ ae),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ oe),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Bt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Qs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ xt),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ At),\n/* harmony export */   Pairing: () => (/* binding */ Ui),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ zt),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ke),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ M),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ kt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ Pe),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ Js),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Xs),\n/* harmony export */   Relayer: () => (/* binding */ Ai),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ jt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ft),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Zs),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ j),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Mt),\n/* harmony export */   Store: () => (/* binding */ ji),\n/* harmony export */   Subscriber: () => (/* binding */ Si),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ ee),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Xt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Ht),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ be),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Jt),\n/* harmony export */   Verify: () => (/* binding */ Ki),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ Ut),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Be),\n/* harmony export */   \"default\": () => (/* binding */ Oe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(app-pages-browser)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(app-pages-browser)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/types/dist/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(app-pages-browser)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(app-pages-browser)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(app-pages-browser)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\nconst Ue=\"wc\",Fe=2,ge=\"core\",W=`${Ue}@2:${ge}:`,Et={name:ge,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",Me=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Ot=\"messages\",Rt=\"0.3\",At=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,xt=\"publisher\",Nt=\"irn\",$t=\"error\",Ke=\"wss://relay.walletconnect.org\",zt=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},Lt=\"_subscription\",M={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},kt=.1,Js={database:\":memory:\"},Pe=\"2.22.4\",Xs=1e4,ee={link_mode:\"link_mode\",relay:\"relay\"},ye={inbound:\"inbound\",outbound:\"outbound\"},jt=\"0.3\",Ut=\"WALLETCONNECT_CLIENT_ID\",Be=\"WALLETCONNECT_LINK_MODE_APPS\",j={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Zs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ft=\"subscription\",Mt=\"0.3\",Qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Kt=\"pairing\",Bt=\"0.3\",er=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,oe={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},ae={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},V={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Vt=\"history\",qt=\"0.3\",Gt=\"expirer\",q={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Wt=\"0.3\",tr=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Ht=\"verify-api\",ir=\"https://verify.walletconnect.com\",Yt=\"https://verify.walletconnect.org\",be=Yt,Jt=`${be}/v3`,Xt=[ir,Yt],Zt=\"echo\",Qt=\"https://echo.walletconnect.com\",sr=\"event-client\",Y={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},X={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},rr={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\",session_request_response_started:\"session_request_response_started\",session_request_response_validation_success:\"session_request_response_validation_success\",session_request_response_publish_started:\"session_request_response_publish_started\"},nr={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\",session_request_response_validation_failure:\"session_request_response_validation_failure\",session_request_response_publish_failure:\"session_request_response_publish_failure\"},or={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ar={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},ei=.1,ti=\"event-client\",ii=86400,si=\"https://pulse.walletconnect.org/batch\";function cr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function g(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var m=0,D=0,w=0,E=u.length;w!==E&&u[w]===0;)w++,m++;for(var L=(E-w)*l+1>>>0,I=new Uint8Array(L);w!==E;){for(var k=u[w],T=0,S=L-1;(k!==0||T<D)&&S!==-1;S--,T++)k+=256*I[S]>>>0,I[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error(\"Non-zero carry\");D=T,w++}for(var O=L-D;O!==L&&I[O]===0;)O++;for(var te=c.repeat(m);O<L;++O)te+=r.charAt(I[O]);return te}function y(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var m=0;if(u[m]!==\" \"){for(var D=0,w=0;u[m]===c;)D++,m++;for(var E=(u.length-m)*h+1>>>0,L=new Uint8Array(E);u[m];){var I=t[u.charCodeAt(m)];if(I===255)return;for(var k=0,T=E-1;(I!==0||k<w)&&T!==-1;T--,k++)I+=a*L[T]>>>0,L[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error(\"Non-zero carry\");w=k,m++}if(u[m]!==\" \"){for(var S=E-w;S!==E&&L[S]===0;)S++;for(var O=new Uint8Array(D+(E-S)),te=D;S!==E;)O[te++]=L[S++];return O}}}function _(u){var m=y(u);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:_}}var hr=cr,lr=hr;const ri=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},ur=r=>new TextEncoder().encode(r),dr=r=>new TextDecoder().decode(r);class pr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class gr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ni(this,e)}}class yr{constructor(e){this.decoders=e}or(e){return ni(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ni=(r,e)=>new yr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class br{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new pr(e,t,i),this.decoder=new gr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Se=({name:r,prefix:e,encode:t,decode:i})=>new br(r,e,t,i),me=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=lr(t,e);return Se({prefix:r,name:e,encode:i,decode:n=>ri(s(n))})},mr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const g=s[r[l]];if(g===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|g,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},fr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},x=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Se({prefix:e,name:r,encode(s){return fr(s,i,t)},decode(s){return mr(s,i,t,r)}}),Dr=Se({prefix:\"\\0\",name:\"identity\",encode:r=>dr(r),decode:r=>ur(r)});var vr=Object.freeze({__proto__:null,identity:Dr});const _r=x({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var wr=Object.freeze({__proto__:null,base2:_r});const Er=x({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=x({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Sr=x({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=x({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Ar=x({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),xr=x({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Nr=x({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),$r=x({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),zr=x({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Lr=x({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),kr=x({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),jr=x({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Mr=me({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Vr=me({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=x({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Wr=x({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Hr=x({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Yr=x({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const oi=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Xr=oi.reduce((r,e,t)=>(r[t]=e,r),[]),Zr=oi.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Qr(r){return r.reduce((e,t)=>(e+=Xr[t],e),\"\")}function en(r){const e=[];for(const t of r){const i=Zr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const tn=Se({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Qr,decode:en});var sn=Object.freeze({__proto__:null,base256emoji:tn}),rn=ci,ai=128,nn=127,on=~nn,an=Math.pow(2,31);function ci(r,e,t){e=e||[],t=t||0;for(var i=t;r>=an;)e[t++]=r&255|ai,r/=128;for(;r&on;)e[t++]=r&255|ai,r>>>=7;return e[t]=r|0,ci.bytes=t-i+1,e}var cn=Ve,hn=128,hi=127;function Ve(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Ve.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&hi)<<s:(o&hi)*Math.pow(2,s),s+=7}while(o>=hn);return Ve.bytes=n-i,t}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),pn=Math.pow(2,28),gn=Math.pow(2,35),yn=Math.pow(2,42),bn=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(r){return r<ln?1:r<un?2:r<dn?3:r<pn?4:r<gn?5:r<yn?6:r<bn?7:r<mn?8:r<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},li=vn;const ui=(r,e,t=0)=>(li.encode(r,e,t),e),di=r=>li.encodingLength(r),qe=(r,e)=>{const t=e.byteLength,i=di(r),s=i+di(t),n=new Uint8Array(s+t);return ui(r,n,0),ui(t,n,i),n.set(e,s),new _n(r,t,e,n)};class _n{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const pi=({name:r,code:e,encode:t})=>new wn(r,e,t);class wn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qe(this.code,t):t.then(i=>qe(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),En=pi({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),In=pi({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const yi=0,Cn=\"identity\",bi=ri,Pn=r=>qe(yi,bi(r)),Sn={code:yi,name:Cn,encode:bi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const mi={...vr,...wr,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function fi(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?fi(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Di(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const vi=Di(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ge=Di(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),An={utf8:vi,\"utf-8\":vi,hex:mi.base16,latin1:Ge,ascii:Ge,binary:Ge,...mi};function xn(r,e=\"utf8\"){const t=An[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?fi(globalThis.Buffer.from(r,\"utf-8\")):t.decoder.decode(`${t.prefix}${r}`)}var Nn=Object.defineProperty,$n=(r,e,t)=>e in r?Nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e,t)=>$n(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i{constructor(e,t){this.core=e,this.logger=t,J(this,\"keychain\",new Map),J(this,\"name\",Pt),J(this,\"version\",St),J(this,\"initialized\",!1),J(this,\"storagePrefix\",W),J(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),J(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),J(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),J(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),J(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var zn=Object.defineProperty,Ln=(r,e,t)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>Ln(r,typeof e!=\"symbol\"?e+\"\":e,t);class wi{constructor(e,t,i){this.core=e,this.logger=t,R(this,\"name\",Tt),R(this,\"keychain\"),R(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),R(this,\"initialized\",!1),R(this,\"clientId\"),R(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),R(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),R(this,\"getClientId\",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey);return this.clientId=o,o}),R(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),R(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),R(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),R(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),R(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),R(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),R(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const y=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(y,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:g}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:g,encoding:o?.encoding})}),R(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),R(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),R(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new _i(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(Me)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(Me,e)}return xn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?kn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))Fn.call(e,t)&&We(r,t,e[t]);if(Ei)for(var t of Ei(e))Mn.call(e,t)&&We(r,t,e[t]);return r},Bn=(r,e)=>jn(r,Un(e)),K=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ii extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,K(this,\"messages\",new Map),K(this,\"messagesWithoutClientAck\",new Map),K(this,\"name\",Ot),K(this,\"version\",Rt),K(this,\"initialized\",!1),K(this,\"storagePrefix\",W),K(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),K(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===ye.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Bn(Kn({},c),{[o]:s}))}return await this.persist(),o}),K(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),K(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),K(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),K(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),K(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(r,e,t)=>e in r?Vn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ce=(r,e)=>{for(var t in e||(e={}))Wn.call(e,t)&&He(r,t,e[t]);if(Ti)for(var t of Ti(e))Hn.call(e,t)&&He(r,t,e[t]);return r},Ci=(r,e)=>qn(r,Gn(e)),G=(r,e,t)=>He(r,typeof e!=\"symbol\"?e+\"\":e,t);class Yn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,G(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),G(this,\"name\",xt),G(this,\"queue\",new Map),G(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),G(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),G(this,\"needsTransportRestart\",!1),G(this,\"publish\",async(i,s,n)=>{var o,a,c,h,l;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const g=n?.ttl||At,y=n?.prompt||!1,_=n?.tag||0,u=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),D={id:u,method:n?.publishMethod||m.publish,params:ce({topic:i,message:s,ttl:g,prompt:y,tag:_,attestation:n?.attestation},n?.tvf)},w=`Failed to publish payload, please try again. id:${u} tag:${_}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=D.params)==null?void 0:o.prompt)&&((a=D.params)==null||delete a.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((c=D.params)==null?void 0:c.tag)&&((h=D.params)==null||delete h.tag);const E=new Promise(async L=>{const I=({id:T})=>{var S;((S=D.id)==null?void 0:S.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(C.publish,I),L())};this.relayer.events.on(C.publish,I);const k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((T,S)=>{this.rpcPublish(D,n).then(T).catch(O=>{this.logger.warn(O,O?.message),S(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${_}`);try{await k,this.events.removeListener(C.publish,I)}catch(T){this.queue.set(u,{request:D,opts:n,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:u,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(E,this.publishTimeout,w)}catch(E){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(E),(l=n?.internal)!=null&&l.throwOnFailedPublish)throw E}finally{this.queue.delete(u)}}),G(this,\"publishCustom\",async i=>{var s,n,o,a,c;this.logger.debug(\"Publishing custom payload\"),this.logger.trace({type:\"method\",method:\"publishCustom\",params:i});const{payload:h,opts:l={}}=i,{attestation:g,tvf:y,publishMethod:_,prompt:u,tag:m,ttl:D=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES}=l,w=l.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),L=_||E.publish,I={id:w,method:L,params:ce(Ci(ce({},h),{ttl:D,prompt:u,tag:m,attestation:g}),y)},k=`Failed to publish custom payload, please try again. id:${w} tag:${m}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=I.params)==null?void 0:s.prompt)&&((n=I.params)==null||delete n.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=I.params)==null?void 0:o.tag)&&((a=I.params)==null||delete a.tag);const T=new Promise(async S=>{const O=({id:Z})=>{var we;((we=I.id)==null?void 0:we.toString())===Z.toString()&&(this.removeRequestFromQueue(Z),this.relayer.events.removeListener(C.publish,O),S())};this.relayer.events.on(C.publish,O);const te=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((Z,we)=>{this.rpcPublish(I,l).then(Z).catch(Ee=>{this.logger.warn(Ee,Ee?.message),we(Ee)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${L} id:${w} tag:${m}`);try{await te,this.events.removeListener(C.publish,O)}catch(Z){this.queue.set(w,{request:I,opts:l,attempt:1}),this.logger.warn(Z,Z?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:w,payload:h,opts:l}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(T,this.publishTimeout,k)}catch(T){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(T),(c=l?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(w)}}),G(this,\"on\",(i,s)=>{this.events.on(i,s)}),G(this,\"once\",(i,s)=>{this.events.once(i,s)}),G(this,\"off\",(i,s)=>{this.events.off(i,s)}),G(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e,t){this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(C.publish,ce(ce({},e),t)),this.logger.debug(\"Successfully Published Payload\"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var i;const s=e.attempt+1;this.queue.set(t,Ci(ce({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jn=Object.defineProperty,Xn=(r,e,t)=>e in r?Jn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,he=(r,e,t)=>Xn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Zn{constructor(){he(this,\"map\",new Map),he(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),he(this,\"get\",e=>this.map.get(e)||[]),he(this,\"exists\",(e,t)=>this.get(e).includes(t)),he(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),he(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Pi=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e)=>{for(var t in e||(e={}))io.call(e,t)&&Ye(r,t,e[t]);if(Pi)for(var t of Pi(e))so.call(e,t)&&Ye(r,t,e[t]);return r},Je=(r,e)=>eo(r,to(e)),f=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Si extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Zn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ft),f(this,\"version\",Mt),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",W),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{var n;this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),a={topic:i,relay:o,transportType:s?.transportType};(n=s?.internal)!=null&&n.skipSubscribe||this.pending.set(i,a);const c=await this.rpcSubscribe(i,o,s);return typeof c==\"string\"&&(this.onSubscribe(c,a),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),c}catch(o){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(o),o}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(j.created,async i=>{const s=j.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on(j.deleted,async i=>{const s=j.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s,n;const o=await this.getSubscriptionId(e);if((s=i?.internal)!=null&&s.skipSubscribe)return o;(!i||i?.transportType===ee.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const a={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:a});const c=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{if(i?.transportType===ee.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(g=>this.logger.warn(g))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),o;const h=new Promise(async g=>{const y=_=>{_.topic===e&&(this.events.removeListener(j.created,y),g(_.id))};this.events.on(j.created,y);try{const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((u,m)=>{this.relayer.request(a).catch(D=>{this.logger.warn(D,D?.message),m(D)}).then(u)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(j.created,y),g(_)}catch{}}),l=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(h){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),c)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,Je(fe({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,fe({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,fe({},t)),this.topicMap.set(t.topic,e),this.events.emit(j.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(j.deleted,Je(fe({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(j.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(j.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size&&!e.every(t=>{var i;return t.topic===((i=this.subscriptions.get(t.id))==null?void 0:i.topic)})){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>Je(fe({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var ro=Object.defineProperty,Oi=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?ro(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ri=(r,e)=>{for(var t in e||(e={}))no.call(e,t)&&Xe(r,t,e[t]);if(Oi)for(var t of Oi(e))oo.call(e,t)&&Xe(r,t,e[t]);return r},p=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ai extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){var t;super(e),p(this,\"protocol\",\"wc\"),p(this,\"version\",2),p(this,\"core\"),p(this,\"logger\"),p(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),p(this,\"provider\"),p(this,\"messages\"),p(this,\"subscriber\"),p(this,\"publisher\"),p(this,\"name\",zt),p(this,\"transportExplicitlyClosed\",!1),p(this,\"initialized\",!1),p(this,\"connectionAttemptInProgress\",!1),p(this,\"relayUrl\"),p(this,\"projectId\"),p(this,\"packageName\"),p(this,\"bundleId\"),p(this,\"hasExperiencedNetworkDisruption\",!1),p(this,\"pingTimeout\"),p(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),p(this,\"reconnectTimeout\"),p(this,\"connectPromise\"),p(this,\"reconnectInProgress\",!1),p(this,\"requestsInFlight\",[]),p(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),p(this,\"request\",async i=>{var s,n;this.logger.debug(\"Publishing Request Payload\");const o=i.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:i.method,topic:(s=i.params)==null?void 0:s.topic},\"relayer.request - publishing...\");const a=`${o}:${((n=i.params)==null?void 0:n.tag)||\"\"}`;this.requestsInFlight.push(a);const c=await this.provider.request(i);return this.requestsInFlight=this.requestsInFlight.filter(h=>h!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),p(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var i,s,n,o;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(o=(n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null?void 0:n.terminate)==null||o.call(n)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),p(this,\"onPayloadHandler\",i=>{this.onProviderPayload(i),this.resetPingTimeout()}),p(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),p(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),p(this,\"onProviderErrorHandler\",i=>{this.logger.fatal(`Fatal socket error: ${i.message}`),this.events.emit(C.error,i),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),p(this,\"registerProviderListeners\",()=>{this.provider.on(M.payload,this.onPayloadHandler),this.provider.on(M.connect,this.onConnectHandler),this.provider.on(M.disconnect,this.onDisconnectHandler),this.provider.on(M.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createLogger)({logger:(t=e.logger)!=null?t:$t,name:this.name}),this.messages=new Ii(this.logger,e.core),this.subscriber=new Si(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:ee.relay},ye.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off(j.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(j.created,h)}),new Promise(async(l,g)=>{a=await this.subscriber.subscribe(e,Ri({internal:{throwOnFailedPublish:o}},t)).catch(y=>{o&&g(y)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,ye.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to connect\"))};this.provider.once(M.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(M.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(M.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(M.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(Lt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:ee.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Ri({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ye.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(M.payload,this.onPayloadHandler),this.provider.off(M.connect,this.onConnectHandler),this.provider.off(M.disconnect,this.onDisconnectHandler),this.provider.off(M.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAppVisible)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(kt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function xi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ni(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const co=\"[object RegExp]\",ho=\"[object String]\",lo=\"[object Number]\",uo=\"[object Boolean]\",$i=\"[object Arguments]\",po=\"[object Symbol]\",go=\"[object Date]\",yo=\"[object Map]\",bo=\"[object Set]\",mo=\"[object Array]\",fo=\"[object Function]\",Do=\"[object ArrayBuffer]\",Ze=\"[object Object]\",vo=\"[object Error]\",_o=\"[object DataView]\",wo=\"[object Uint8Array]\",Eo=\"[object Uint8ClampedArray]\",Io=\"[object Uint16Array]\",To=\"[object Uint32Array]\",Co=\"[object BigUint64Array]\",Po=\"[object Int8Array]\",So=\"[object Int16Array]\",Oo=\"[object Int32Array]\",Ro=\"[object BigInt64Array]\",Ao=\"[object Float32Array]\",xo=\"[object Float64Array]\";function No(){}function zi(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function $o(r,e,t){return De(r,e,void 0,void 0,void 0,void 0,t)}function De(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ve(r,e,n,o)}return ve(r,e,n,o)}function ve(r,e,t,i){if(Object.is(r,e))return!0;let s=Ni(r),n=Ni(e);if(s===$i&&(s=Ze),n===$i&&(n=Ze),s!==n)return!1;switch(s){case ho:return r.toString()===e.toString();case lo:{const c=r.valueOf(),h=e.valueOf();return ao(c,h)}case uo:case go:case po:return Object.is(r.valueOf(),e.valueOf());case co:return r.source===e.source&&r.flags===e.flags;case fo:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case yo:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!De(h,e.get(c),c,r,e,t,i))return!1;return!0}case bo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const g=c[l],y=h.findIndex(_=>De(g,_,void 0,r,e,t,i));if(y===-1)return!1;h.splice(y,1)}return!0}case mo:case wo:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!De(r[c],e[c],c,r,e,t,i))return!1;return!0}case Do:return r.byteLength!==e.byteLength?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case _o:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case vo:return r.name===e.name&&r.message===e.message;case Ze:{if(!(ve(r.constructor,e.constructor,t,i)||zi(r)&&zi(e)))return!1;const h=[...Object.keys(r),...xi(r)],l=[...Object.keys(e),...xi(e)];if(h.length!==l.length)return!1;for(let g=0;g<h.length;g++){const y=h[g],_=r[y];if(!Object.hasOwn(e,y))return!1;const u=e[y];if(!De(_,u,y,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function zo(r,e){return $o(r,e,No)}var Lo=Object.defineProperty,Li=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ki=(r,e)=>{for(var t in e||(e={}))ko.call(e,t)&&Qe(r,t,e[t]);if(Li)for(var t of Li(e))jo.call(e,t)&&Qe(r,t,e[t]);return r},U=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=W,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,U(this,\"map\",new Map),U(this,\"version\",jt),U(this,\"cached\",[]),U(this,\"initialized\",!1),U(this,\"getKey\"),U(this,\"storagePrefix\",W),U(this,\"recentlyDeleted\",[]),U(this,\"recentlyDeletedLimit\",200),U(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),U(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),U(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),U(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>zo(a[c],o[c]))):this.values)),U(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=ki(ki({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),U(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Uo=Object.defineProperty,Fo=(r,e,t)=>e in r?Uo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e,t)=>Fo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui{constructor(e,t){this.core=e,this.logger=t,d(this,\"name\",Kt),d(this,\"version\",Bt),d(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__),d(this,\"pairings\"),d(this,\"initialized\",!1),d(this,\"storagePrefix\",W),d(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),d(this,\"registeredMethods\",[]),d(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),d(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),d(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:Nt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(ae.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType,internal:i?.internal}),{topic:n,uri:h}}),d(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[Y.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(Y.pairing_uri_validation_success),s.addTrace(Y.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(Y.existing_pairing),l.active)throw s.setError(X.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(Y.pairing_not_expired)}const g=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),y={topic:n,relay:a,expiry:g,active:!1,methods:h};this.core.expirer.set(n,g),await this.pairings.set(n,y),s.addTrace(Y.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(ae.create,y),s.addTrace(Y.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(Y.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(X.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(X.subscribe_pairing_topic_failure),_}return s.addTrace(Y.subscribe_pairing_topic_success),y}),d(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),d(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),d(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),d(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),d(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),d(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),d(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),d(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=oe[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),d(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c]?oe[c].res:oe.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),d(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),d(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),d(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),d(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(ae.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),d(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(ae.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),d(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),d(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(X.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),d(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new ji(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==ee.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(q.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ae.expire,{topic:t}))})}}var Mo=Object.defineProperty,Ko=(r,e,t)=>e in r?Mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e,t)=>Ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,N(this,\"records\",new Map),N(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),N(this,\"name\",Vt),N(this,\"version\",qt),N(this,\"cached\",[]),N(this,\"initialized\",!1),N(this,\"storagePrefix\",W),N(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(V.created,o)}),N(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(V.updated,s))}),N(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),N(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(V.deleted,n)}}),this.persist()}),N(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),N(this,\"on\",(i,s)=>{this.events.on(i,s)}),N(this,\"once\",(i,s)=>{this.events.once(i,s)}),N(this,\"off\",(i,s)=>{this.events.off(i,s)}),N(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(V.created,e=>{const t=V.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.updated,e=>{const t=V.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.deleted,e=>{const t=V.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(V.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Bo=Object.defineProperty,Vo=(r,e,t)=>e in r?Bo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,z=(r,e,t)=>Vo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,z(this,\"expirations\",new Map),z(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),z(this,\"name\",Gt),z(this,\"version\",Wt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"storagePrefix\",W),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),z(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(q.created,{target:n,expiration:o})}),z(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),z(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(q.deleted,{target:s,expiration:n})}}),z(this,\"on\",(i,s)=>{this.events.on(i,s)}),z(this,\"once\",(i,s)=>{this.events.once(i,s)}),z(this,\"off\",(i,s)=>{this.events.off(i,s)}),z(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(q.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(q.created,e=>{const t=q.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.expired,e=>{const t=q.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.deleted,e=>{const t=q.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var qo=Object.defineProperty,Go=(r,e,t)=>e in r?qo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>Go(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,P(this,\"name\",Ht),P(this,\"abortController\"),P(this,\"isDevEnv\"),P(this,\"verifyUrlV3\",Jt),P(this,\"storagePrefix\",W),P(this,\"version\",Fe),P(this,\"publicKey\"),P(this,\"fetchPromise\"),P(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),P(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),g=await new Promise((y,_)=>{const u=()=>{window.removeEventListener(\"message\",D),h.body.removeChild(m),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const m=h.createElement(\"iframe\");m.src=c,m.style.display=\"none\",m.addEventListener(\"error\",u,{signal:this.abortController.signal});const D=w=>{if(w.data&&typeof w.data==\"string\")try{const E=JSON.parse(w.data);if(E.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(E.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(m),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",D),y(E.attestation===null?\"\":E.attestation)}}catch(E){this.logger.warn(E)}};h.body.appendChild(m),window.addEventListener(\"message\",D,{signal:this.abortController.signal})});return this.logger.debug(g,\"jwt attestation\"),g}catch(h){this.logger.warn(h)}return\"\"}),P(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),P(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),P(this,\"getVerifyUrl\",s=>{let n=s||be;return Xt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${be}`),n=be),n}),P(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),P(this,\"persistPublicKey\",async s=>{this.logger.debug(s,\"persisting public key to local storage\"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),P(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),P(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),P(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Wo=Object.defineProperty,Ho=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bi=(r,e,t)=>Ho(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Bi(this,\"context\",Zt),Bi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${Qt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Yo=Object.defineProperty,qi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et=(r,e,t)=>e in r?Yo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_e=(r,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&et(r,t,e[t]);if(qi)for(var t of qi(e))Xo.call(e,t)&&et(r,t,e[t]);return r},A=(r,e,t)=>et(r,typeof e!=\"symbol\"?e+\"\":e,t);class Gi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,A(this,\"context\",ti),A(this,\"storagePrefix\",W),A(this,\"storageVersion\",ei),A(this,\"events\",new Map),A(this,\"shouldPersist\",!1),A(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),A(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",g=Date.now(),y=_e({eventId:h,timestamp:g,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),A(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return _e(_e({},a),this.setMethods(a.eventId))}),A(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),A(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>ii&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),A(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),A(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),A(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),A(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),A(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,_e(_e({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),A(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),A(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${si}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),A(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Zo=Object.defineProperty,Wi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt=(r,e,t)=>e in r?Zo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hi=(r,e)=>{for(var t in e||(e={}))Qo.call(e,t)&&tt(r,t,e[t]);if(Wi)for(var t of Wi(e))ea.call(e,t)&&tt(r,t,e[t]);return r},v=(r,e,t)=>tt(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",Ue),v(this,\"version\",Fe),v(this,\"name\",ge),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ee.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:ge}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new wi(this,this.logger,e?.keychain),this.history=new Fi(this,this.logger),this.expirer=new Mi(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Hi(Hi({},It),e?.storageOptions)),this.relayer=new Ai({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ui(this,this.logger),this.verify=new Ki(this,this.logger,this.storage),this.echoClient=new Vi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Gi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Oe(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(Ut,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const ta=Oe;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNDdFLGtDQUFrQyxHQUFHLEtBQUssR0FBRyxPQUFPLHVCQUF1QixLQUFLLG9CQUFvQix5Q0FBeUMsd0RBQUUsa0RBQWtELDBEQUFFLHVGQUF1RixrUUFBa1EsdUJBQXVCLDBFQUEwRSxXQUFXLG9CQUFvQix3QkFBd0Isb0NBQW9DLEtBQUssc0NBQXNDLDRFQUE0RSxnTUFBZ00sSUFBSSw0REFBRSwrQkFBK0IsNkRBQUUsOEJBQThCLDREQUFFLEtBQUssa0JBQWtCLEtBQUssSUFBSSx3REFBRSxtQkFBbUIsTUFBTSxJQUFJLHdEQUFFLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLCtEQUFFLG9CQUFvQixNQUFNLElBQUksK0RBQUUscUJBQXFCLHNCQUFzQixLQUFLLElBQUksd0RBQUUsaUJBQWlCLE1BQU0sSUFBSSx3REFBRSxtQkFBbUIsS0FBSyw0RkFBNEYsSUFBSSxrR0FBa0csdUNBQXVDLGtHQUFrRyxhQUFhLHdEQUFFLHlHQUF5RyxHQUFHLG1GQUFtRix3aEJBQXdoQixJQUFJLG9ZQUFvWSxLQUFLLGcxQkFBZzFCLEtBQUssZ25CQUFnbkIsS0FBSyxzdkJBQXN2QixLQUFLLHNxQkFBc3FCLDZFQUE2RSxpQkFBaUIsMERBQTBELGtDQUFrQyxXQUFXLGFBQWEsWUFBWSxXQUFXLEtBQUssb0NBQW9DLHFEQUFxRCxPQUFPLHFGQUFxRixjQUFjLHdOQUF3Tix5QkFBeUIsK0JBQStCLGdCQUFnQixTQUFTLDRDQUE0QyxNQUFNLEVBQUUseUJBQXlCLHFCQUFxQiwrQ0FBK0Ms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QUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0s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QUFHLEVBQUUsRUFBRSxHQUFHLHFDQUFxQyxFQUFFLDRCQUE0QixxRUFBRSxvQkFBb0IsMEVBQUMseUVBQXlFLDZDQUE2QyxpQkFBaUIsaUJBQWlCLCtGQUErRixvS0FBb0ssa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLDhDQUE4QyxpQkFBaUIsd0RBQUUsQ0FBQyxlQUFlLE1BQU0sK0pBQStKLGdEQUFFLDhmQUE4ZixrQ0FBa0MsSUFBSSxpQkFBaUIsU0FBUyxxRUFBcUUsbUNBQW1DLGdCQUFnQixFQUFFLEVBQUUsbURBQW1ELFNBQVMsZ2NBQWdjLFNBQVMsNkNBQTZDLHNIQUFzSCxzQkFBc0IsS0FBSyxRQUFRLDhFQUFFLEVBQUUsc0VBQXNFLEdBQUcsaUNBQWlDLENBQUMsNkVBQUUsRUFBRSx3RUFBd0UsRUFBRSxzSUFBc0ksUUFBUSxpSUFBaUkseUNBQXlDLEdBQUcsY0FBYywwRUFBQyxpQ0FBaUMsK0RBQUUsNEtBQTRLLHNFQUFFLFNBQVMsOENBQThDLDZFQUE2RSxzUUFBc1EscUJBQXFCLGtCQUFrQixxQkFBcUIscUNBQXFDLHVDQUF1QyxjQUFjLE9BQU8sdUVBQUMsY0FBYyxjQUFjLDBDQUEwQyxvQkFBb0IsTUFBTSw2REFBNkQseUNBQXlDLEVBQUUsaUNBQWlDLHVJQUF1SSxtQkFBbUIsaUNBQWlDLElBQUksK1JBQStSLFNBQVMsaUVBQWlFLFdBQVcsbUNBQW1DLG9CQUFvQixJQUFJLHNDQUFzQyw4QkFBOEIsRUFBRSxPQUFPLEVBQUUsUUFBUSx3TUFBd00sZUFBZSx1QkFBdUIsU0FBUywwREFBMEQsUUFBUSxpQkFBaUIsTUFBTSxJQUFJLHNDQUFzQyw4QkFBOEIsb0RBQW9ELEVBQUUsZ0JBQWdCLFNBQVMsMkRBQTJELHVCQUF1QixJQUFJLGNBQWMsT0FBTyxNQUFNLE9BQU8sa0NBQWtDLE1BQU0sV0FBVyxZQUFpN0Q7QUFDNzA2RiIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFlpLHtFdmVudEVtaXR0ZXIgYXMgaWV9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e0hFQVJUQkVBVF9FVkVOVFMgYXMgc2UsSGVhcnRCZWF0IGFzIEppfWZyb21cIkB3YWxsZXRjb25uZWN0L2hlYXJ0YmVhdFwiO2ltcG9ydCBYaSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9rZXl2YWx1ZXN0b3JhZ2VcIjtpbXBvcnR7Z2VuZXJhdGVDaGlsZExvZ2dlciBhcyBGLGdldExvZ2dlckNvbnRleHQgYXMgQixnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBaaSxnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyIGFzIFFpfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJTWVzc2FnZVRyYWNrZXIgYXMgZXMsSVB1Ymxpc2hlciBhcyB0cyxJU3Vic2NyaWJlciBhcyBpcyxJUmVsYXllciBhcyBzcyxJU3RvcmUgYXMgcnMsSUpzb25ScGNIaXN0b3J5IGFzIG5zLElFeHBpcmVyIGFzIG9zLElWZXJpZnkgYXMgYXMsSUVjaG9DbGllbnQgYXMgY3MsSUV2ZW50Q2xpZW50IGFzIGhzLElDb3JlIGFzIGxzfWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e09ORV9EQVkgYXMgcmUsU0lYX0hPVVJTIGFzIHVzLFRISVJUWV9EQVlTIGFzIFJlLEZJVkVfU0VDT05EUyBhcyBBZSxUSElSVFlfU0VDT05EUyBhcyB4ZSx0b01pbGlzZWNvbmRzIGFzICQsT05FX01JTlVURSBhcyBpdCxPTkVfU0VDT05EIGFzIFEsRklWRV9NSU5VVEVTIGFzIGxlLGZyb21NaWxpc2Vjb25kcyBhcyBzdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGRzLHNhZmVKc29uUGFyc2UgYXMgcnR9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0KmFzIEllIGZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIG50fWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7bWFwVG9PYmogYXMgTmUsb2JqVG9NYXAgYXMgJGUsZ2V0SW50ZXJuYWxFcnJvciBhcyBiLGdlbmVyYXRlUmFuZG9tQnl0ZXMzMiBhcyB6ZSxnZW5lcmF0ZUtleVBhaXIgYXMgcHMsZGVyaXZlU3ltS2V5IGFzIGdzLGhhc2hLZXkgYXMgeXMsdmFsaWRhdGVFbmNvZGluZyBhcyBicyxpc1R5cGVUd29FbnZlbG9wZSBhcyBvdCxlbmNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgbXMsaXNUeXBlT25lRW52ZWxvcGUgYXMgYXQsZW5jcnlwdCBhcyBmcyx2YWxpZGF0ZURlY29kaW5nIGFzIERzLGRlY29kZVR5cGVUd29FbnZlbG9wZSBhcyB2cyxkZWNyeXB0IGFzIF9zLGRlc2VyaWFsaXplIGFzIGN0LGRlY29kZVR5cGVCeXRlIGFzIHdzLEJBU0U2NCBhcyBodCxCQVNFMTYgYXMgRXMsaGFzaE1lc3NhZ2UgYXMgVGUsZ2V0UmVsYXlQcm90b2NvbEFwaSBhcyBuZSxnZXRSZWxheVByb3RvY29sTmFtZSBhcyBDZSxpc1VuZGVmaW5lZCBhcyB1ZSxjcmVhdGVFeHBpcmluZ1Byb21pc2UgYXMgSCxnZXRTZGtFcnJvciBhcyBkZSxzbGVlcCBhcyBJcyxjcmVhdGVMb2dnZXIgYXMgVHMsaXNBbmRyb2lkIGFzIENzLGdldEFwcElkIGFzIGx0LGlzSW9zIGFzIFBzLGlzT25saW5lIGFzIHV0LGNhbGNFeHBpcnkgYXMgcGUsaXNOb2RlIGFzIGR0LGZvcm1hdFJlbGF5UnBjVXJsIGFzIFNzLHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSBhcyBPcyxpc0FwcFZpc2libGUgYXMgUnMsaXNQcm9wb3NhbFN0cnVjdCBhcyBBcyxpc1Nlc3Npb25TdHJ1Y3QgYXMgeHMscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIE5zLFRZUEVfMSBhcyAkcyxmb3JtYXRVcmkgYXMgcHQscGFyc2VVcmkgYXMgZ3QsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgenMsZW5naW5lRXZlbnQgYXMgTGUsaXNFeHBpcmVkIGFzIHl0LGlzVmFsaWRQYXJhbXMgYXMga2UsaXNWYWxpZFVybCBhcyBMcyxpc1ZhbGlkU3RyaW5nIGFzIGtzLGZvcm1hdFRvcGljVGFyZ2V0IGFzIGpzLGZvcm1hdElkVGFyZ2V0IGFzIFVzLGlzVGVzdFJ1biBhcyBidCxpc0Jyb3dzZXIgYXMgRnMsdmVyaWZ5UDI1Nkp3dCBhcyBNcyx1dWlkdjQgYXMgbXQsZm9ybWF0VUEgYXMgS3MsZ2V0QXBwTWV0YWRhdGEgYXMgQnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7dG9TdHJpbmcgYXMgVnN9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIHFzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Z2V0QmlnSW50UnBjSWQgYXMgamUsaXNKc29uUnBjUmVxdWVzdCBhcyBmdCxpc0pzb25ScGNSZXNwb25zZSBhcyBEdCxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHZ0LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIF90LGZvcm1hdEpzb25ScGNFcnJvciBhcyBHcyxpc0pzb25ScGNSZXN1bHQgYXMgV3MsaXNKc29uUnBjRXJyb3IgYXMgd3R9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydCBIcyBmcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb25cIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgWXN9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtjb25zdCBVZT1cIndjXCIsRmU9MixnZT1cImNvcmVcIixXPWAke1VlfUAyOiR7Z2V9OmAsRXQ9e25hbWU6Z2UsbG9nZ2VyOlwiZXJyb3JcIn0sSXQ9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sVHQ9XCJjcnlwdG9cIixNZT1cImNsaWVudF9lZDI1NTE5X3NlZWRcIixDdD1yZSxQdD1cImtleWNoYWluXCIsU3Q9XCIwLjNcIixPdD1cIm1lc3NhZ2VzXCIsUnQ9XCIwLjNcIixBdD11cyx4dD1cInB1Ymxpc2hlclwiLE50PVwiaXJuXCIsJHQ9XCJlcnJvclwiLEtlPVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIix6dD1cInJlbGF5ZXJcIixDPXttZXNzYWdlOlwicmVsYXllcl9tZXNzYWdlXCIsbWVzc2FnZV9hY2s6XCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsY29ubmVjdDpcInJlbGF5ZXJfY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJyZWxheWVyX2Rpc2Nvbm5lY3RcIixlcnJvcjpcInJlbGF5ZXJfZXJyb3JcIixjb25uZWN0aW9uX3N0YWxsZWQ6XCJyZWxheWVyX2Nvbm5lY3Rpb25fc3RhbGxlZFwiLHRyYW5zcG9ydF9jbG9zZWQ6XCJyZWxheWVyX3RyYW5zcG9ydF9jbG9zZWRcIixwdWJsaXNoOlwicmVsYXllcl9wdWJsaXNoXCJ9LEx0PVwiX3N1YnNjcmlwdGlvblwiLE09e3BheWxvYWQ6XCJwYXlsb2FkXCIsY29ubmVjdDpcImNvbm5lY3RcIixkaXNjb25uZWN0OlwiZGlzY29ubmVjdFwiLGVycm9yOlwiZXJyb3JcIn0sa3Q9LjEsSnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sUGU9XCIyLjIyLjRcIixYcz0xZTQsZWU9e2xpbmtfbW9kZTpcImxpbmtfbW9kZVwiLHJlbGF5OlwicmVsYXlcIn0seWU9e2luYm91bmQ6XCJpbmJvdW5kXCIsb3V0Ym91bmQ6XCJvdXRib3VuZFwifSxqdD1cIjAuM1wiLFV0PVwiV0FMTEVUQ09OTkVDVF9DTElFTlRfSURcIixCZT1cIldBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFNcIixqPXtjcmVhdGVkOlwic3Vic2NyaXB0aW9uX2NyZWF0ZWRcIixkZWxldGVkOlwic3Vic2NyaXB0aW9uX2RlbGV0ZWRcIixleHBpcmVkOlwic3Vic2NyaXB0aW9uX2V4cGlyZWRcIixkaXNhYmxlZDpcInN1YnNjcmlwdGlvbl9kaXNhYmxlZFwiLHN5bmM6XCJzdWJzY3JpcHRpb25fc3luY1wiLHJlc3Vic2NyaWJlZDpcInN1YnNjcmlwdGlvbl9yZXN1YnNjcmliZWRcIn0sWnM9UmUsRnQ9XCJzdWJzY3JpcHRpb25cIixNdD1cIjAuM1wiLFFzPUFlKjFlMyxLdD1cInBhaXJpbmdcIixCdD1cIjAuM1wiLGVyPVJlLG9lPXt3Y19wYWlyaW5nRGVsZXRlOntyZXE6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjFlM30scmVzOnt0dGw6cmUscHJvbXB0OiExLHRhZzoxMDAxfX0sd2NfcGFpcmluZ1Bpbmc6e3JlcTp7dHRsOnhlLHByb21wdDohMSx0YWc6MTAwMn0scmVzOnt0dGw6eGUscHJvbXB0OiExLHRhZzoxMDAzfX0sdW5yZWdpc3RlcmVkX21ldGhvZDp7cmVxOnt0dGw6cmUscHJvbXB0OiExLHRhZzowfSxyZXM6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjB9fX0sYWU9e2NyZWF0ZTpcInBhaXJpbmdfY3JlYXRlXCIsZXhwaXJlOlwicGFpcmluZ19leHBpcmVcIixkZWxldGU6XCJwYWlyaW5nX2RlbGV0ZVwiLHBpbmc6XCJwYWlyaW5nX3BpbmdcIn0sVj17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxWdD1cImhpc3RvcnlcIixxdD1cIjAuM1wiLEd0PVwiZXhwaXJlclwiLHE9e2NyZWF0ZWQ6XCJleHBpcmVyX2NyZWF0ZWRcIixkZWxldGVkOlwiZXhwaXJlcl9kZWxldGVkXCIsZXhwaXJlZDpcImV4cGlyZXJfZXhwaXJlZFwiLHN5bmM6XCJleHBpcmVyX3N5bmNcIn0sV3Q9XCIwLjNcIix0cj1yZSxIdD1cInZlcmlmeS1hcGlcIixpcj1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3QuY29tXCIsWXQ9XCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0Lm9yZ1wiLGJlPVl0LEp0PWAke2JlfS92M2AsWHQ9W2lyLFl0XSxadD1cImVjaG9cIixRdD1cImh0dHBzOi8vZWNoby53YWxsZXRjb25uZWN0LmNvbVwiLHNyPVwiZXZlbnQtY2xpZW50XCIsWT17cGFpcmluZ19zdGFydGVkOlwicGFpcmluZ19zdGFydGVkXCIscGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzOlwicGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzXCIscGFpcmluZ191cmlfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZFwiLHN0b3JlX25ld19wYWlyaW5nOlwic3RvcmVfbmV3X3BhaXJpbmdcIixzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljOlwic3Vic2NyaWJpbmdfcGFpcmluZ190b3BpY1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzXCIsZXhpc3RpbmdfcGFpcmluZzpcImV4aXN0aW5nX3BhaXJpbmdcIixwYWlyaW5nX25vdF9leHBpcmVkOlwicGFpcmluZ19ub3RfZXhwaXJlZFwiLGVtaXRfaW5hY3RpdmVfcGFpcmluZzpcImVtaXRfaW5hY3RpdmVfcGFpcmluZ1wiLGVtaXRfc2Vzc2lvbl9wcm9wb3NhbDpcImVtaXRfc2Vzc2lvbl9wcm9wb3NhbFwiLHN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ190b19wYWlyaW5nX3RvcGljXCJ9LFg9e25vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG1hbGZvcm1lZF9wYWlyaW5nX3VyaTpcIm1hbGZvcm1lZF9wYWlyaW5nX3VyaVwiLGFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzOlwiYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHNcIixzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZVwiLHBhaXJpbmdfZXhwaXJlZDpcInBhaXJpbmdfZXhwaXJlZFwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIscHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kOlwicHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kXCJ9LHJyPXtzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDpcInNlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIscHJvcG9zYWxfbm90X2V4cGlyZWQ6XCJwcm9wb3NhbF9ub3RfZXhwaXJlZFwiLHNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzXCIsY3JlYXRlX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIixzdG9yZV9zZXNzaW9uOlwic3RvcmVfc2Vzc2lvblwiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGU6XCJwdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlXCIsc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzXCIsc2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3N0YXJ0ZWQ6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2Vfc3RhcnRlZFwiLHNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV92YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9zdWNjZXNzXCIsc2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3B1Ymxpc2hfc3RhcnRlZDpcInNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX3N0YXJ0ZWRcIn0sbnI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmVcIixwcm9wb3NhbF9ub3RfZm91bmQ6XCJwcm9wb3NhbF9ub3RfZm91bmRcIixzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3ZhbGlkYXRpb25fZmFpbHVyZVwiLHNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX2ZhaWx1cmU6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfcHVibGlzaF9mYWlsdXJlXCJ9LG9yPXthdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnQ6XCJjaGFpbnNfY2FpcDJfY29tcGxpYW50XCIsY2hhaW5zX2V2bV9jb21wbGlhbnQ6XCJjaGFpbnNfZXZtX2NvbXBsaWFudFwiLGNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsY2FjYW9zX3ZlcmlmaWVkOlwiY2FjYW9zX3ZlcmlmaWVkXCIsc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uOlwic3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uXCIsc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOlwic3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIscHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIn0sYXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdDpcIm1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdFwiLHNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZDpcInNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZVwiLGNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmU6XCJjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlXCIsaW52YWxpZF9jYWNhbzpcImludmFsaWRfY2FjYW9cIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kXCJ9LGVpPS4xLHRpPVwiZXZlbnQtY2xpZW50XCIsaWk9ODY0MDAsc2k9XCJodHRwczovL3B1bHNlLndhbGxldGNvbm5lY3Qub3JnL2JhdGNoXCI7ZnVuY3Rpb24gY3IocixlKXtpZihyLmxlbmd0aD49MjU1KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMjU2KSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT0yNTU7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXIuY2hhckF0KHMpLG89bi5jaGFyQ29kZUF0KDApO2lmKHRbb10hPT0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihuK1wiIGlzIGFtYmlndW91c1wiKTt0W29dPXN9dmFyIGE9ci5sZW5ndGgsYz1yLmNoYXJBdCgwKSxoPU1hdGgubG9nKGEpL01hdGgubG9nKDI1NiksbD1NYXRoLmxvZygyNTYpL01hdGgubG9nKGEpO2Z1bmN0aW9uIGcodSl7aWYodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fChBcnJheUJ1ZmZlci5pc1ZpZXcodSk/dT1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcix1LmJ5dGVPZmZzZXQsdS5ieXRlTGVuZ3RoKTpBcnJheS5pc0FycmF5KHUpJiYodT1VaW50OEFycmF5LmZyb20odSkpKSwhKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgVWludDhBcnJheVwiKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIG09MCxEPTAsdz0wLEU9dS5sZW5ndGg7dyE9PUUmJnVbd109PT0wOyl3KyssbSsrO2Zvcih2YXIgTD0oRS13KSpsKzE+Pj4wLEk9bmV3IFVpbnQ4QXJyYXkoTCk7dyE9PUU7KXtmb3IodmFyIGs9dVt3XSxUPTAsUz1MLTE7KGshPT0wfHxUPEQpJiZTIT09LTE7Uy0tLFQrKylrKz0yNTYqSVtTXT4+PjAsSVtTXT1rJWE+Pj4wLGs9ay9hPj4+MDtpZihrIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtEPVQsdysrfWZvcih2YXIgTz1MLUQ7TyE9PUwmJklbT109PT0wOylPKys7Zm9yKHZhciB0ZT1jLnJlcGVhdChtKTtPPEw7KytPKXRlKz1yLmNoYXJBdChJW09dKTtyZXR1cm4gdGV9ZnVuY3Rpb24geSh1KXtpZih0eXBlb2YgdSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dmFyIG09MDtpZih1W21dIT09XCIgXCIpe2Zvcih2YXIgRD0wLHc9MDt1W21dPT09YzspRCsrLG0rKztmb3IodmFyIEU9KHUubGVuZ3RoLW0pKmgrMT4+PjAsTD1uZXcgVWludDhBcnJheShFKTt1W21dOyl7dmFyIEk9dFt1LmNoYXJDb2RlQXQobSldO2lmKEk9PT0yNTUpcmV0dXJuO2Zvcih2YXIgaz0wLFQ9RS0xOyhJIT09MHx8azx3KSYmVCE9PS0xO1QtLSxrKyspSSs9YSpMW1RdPj4+MCxMW1RdPUklMjU2Pj4+MCxJPUkvMjU2Pj4+MDtpZihJIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTt3PWssbSsrfWlmKHVbbV0hPT1cIiBcIil7Zm9yKHZhciBTPUUtdztTIT09RSYmTFtTXT09PTA7KVMrKztmb3IodmFyIE89bmV3IFVpbnQ4QXJyYXkoRCsoRS1TKSksdGU9RDtTIT09RTspT1t0ZSsrXT1MW1MrK107cmV0dXJuIE99fX1mdW5jdGlvbiBfKHUpe3ZhciBtPXkodSk7aWYobSlyZXR1cm4gbTt0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApfXJldHVybntlbmNvZGU6ZyxkZWNvZGVVbnNhZmU6eSxkZWNvZGU6X319dmFyIGhyPWNyLGxyPWhyO2NvbnN0IHJpPXI9PntpZihyIGluc3RhbmNlb2YgVWludDhBcnJheSYmci5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCIpcmV0dXJuIHI7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheShyKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcocikpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX0sdXI9cj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpLGRyPXI9Pm5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyKTtjbGFzcyBwcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aX1lbmNvZGUoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDt0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y2xhc3MgZ3J7Y29uc3RydWN0b3IoZSx0LGkpe2lmKHRoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdC5jb2RlUG9pbnRBdCgwKT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByZWZpeCBjaGFyYWN0ZXJcIik7dGhpcy5wcmVmaXhDb2RlUG9pbnQ9dC5jb2RlUG9pbnRBdCgwKSx0aGlzLmJhc2VEZWNvZGU9aX1kZWNvZGUoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKGUuY29kZVBvaW50QXQoMCkhPT10aGlzLnByZWZpeENvZGVQb2ludCl0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7cmV0dXJuIHRoaXMuYmFzZURlY29kZShlLnNsaWNlKHRoaXMucHJlZml4Lmxlbmd0aCkpfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW4gb25seSBtdWx0aWJhc2UgZGVjb2RlIHN0cmluZ3NcIil9b3IoZSl7cmV0dXJuIG5pKHRoaXMsZSl9fWNsYXNzIHlye2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVjb2RlcnM9ZX1vcihlKXtyZXR1cm4gbmkodGhpcyxlKX1kZWNvZGUoZSl7Y29uc3QgdD1lWzBdLGk9dGhpcy5kZWNvZGVyc1t0XTtpZihpKXJldHVybiBpLmRlY29kZShlKTt0aHJvdyBSYW5nZUVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sIG9ubHkgaW5wdXRzIHByZWZpeGVkIHdpdGggJHtPYmplY3Qua2V5cyh0aGlzLmRlY29kZXJzKX0gYXJlIHN1cHBvcnRlZGApfX1jb25zdCBuaT0ocixlKT0+bmV3IHlyKHsuLi5yLmRlY29kZXJzfHx7W3IucHJlZml4XTpyfSwuLi5lLmRlY29kZXJzfHx7W2UucHJlZml4XTplfX0pO2NsYXNzIGJye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdGhpcy5iYXNlRW5jb2RlPWksdGhpcy5iYXNlRGVjb2RlPXMsdGhpcy5lbmNvZGVyPW5ldyBwcihlLHQsaSksdGhpcy5kZWNvZGVyPW5ldyBncihlLHQscyl9ZW5jb2RlKGUpe3JldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVyLmRlY29kZShlKX19Y29uc3QgU2U9KHtuYW1lOnIscHJlZml4OmUsZW5jb2RlOnQsZGVjb2RlOml9KT0+bmV3IGJyKHIsZSx0LGkpLG1lPSh7cHJlZml4OnIsbmFtZTplLGFscGhhYmV0OnR9KT0+e2NvbnN0e2VuY29kZTppLGRlY29kZTpzfT1scih0LGUpO3JldHVybiBTZSh7cHJlZml4OnIsbmFtZTplLGVuY29kZTppLGRlY29kZTpuPT5yaShzKG4pKX0pfSxtcj0ocixlLHQsaSk9Pntjb25zdCBzPXt9O2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKXNbZVtsXV09bDtsZXQgbj1yLmxlbmd0aDtmb3IoO3Jbbi0xXT09PVwiPVwiOyktLW47Y29uc3Qgbz1uZXcgVWludDhBcnJheShuKnQvOHwwKTtsZXQgYT0wLGM9MCxoPTA7Zm9yKGxldCBsPTA7bDxuOysrbCl7Y29uc3QgZz1zW3JbbF1dO2lmKGc9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtpfSBjaGFyYWN0ZXJgKTtjPWM8PHR8ZyxhKz10LGE+PTgmJihhLT04LG9baCsrXT0yNTUmYz4+YSl9aWYoYT49dHx8MjU1JmM8PDgtYSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBkYXRhXCIpO3JldHVybiBvfSxmcj0ocixlLHQpPT57Y29uc3QgaT1lW2UubGVuZ3RoLTFdPT09XCI9XCIscz0oMTw8dCktMTtsZXQgbj1cIlwiLG89MCxhPTA7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDsrK2MpZm9yKGE9YTw8OHxyW2NdLG8rPTg7bz50OylvLT10LG4rPWVbcyZhPj5vXTtpZihvJiYobis9ZVtzJmE8PHQtb10pLGkpZm9yKDtuLmxlbmd0aCp0Jjc7KW4rPVwiPVwiO3JldHVybiBufSx4PSh7bmFtZTpyLHByZWZpeDplLGJpdHNQZXJDaGFyOnQsYWxwaGFiZXQ6aX0pPT5TZSh7cHJlZml4OmUsbmFtZTpyLGVuY29kZShzKXtyZXR1cm4gZnIocyxpLHQpfSxkZWNvZGUocyl7cmV0dXJuIG1yKHMsaSx0LHIpfX0pLERyPVNlKHtwcmVmaXg6XCJcXDBcIixuYW1lOlwiaWRlbnRpdHlcIixlbmNvZGU6cj0+ZHIociksZGVjb2RlOnI9PnVyKHIpfSk7dmFyIHZyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OkRyfSk7Y29uc3QgX3I9eCh7cHJlZml4OlwiMFwiLG5hbWU6XCJiYXNlMlwiLGFscGhhYmV0OlwiMDFcIixiaXRzUGVyQ2hhcjoxfSk7dmFyIHdyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyOl9yfSk7Y29uc3QgRXI9eCh7cHJlZml4OlwiN1wiLG5hbWU6XCJiYXNlOFwiLGFscGhhYmV0OlwiMDEyMzQ1NjdcIixiaXRzUGVyQ2hhcjozfSk7dmFyIElyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U4OkVyfSk7Y29uc3QgVHI9bWUoe3ByZWZpeDpcIjlcIixuYW1lOlwiYmFzZTEwXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5XCJ9KTt2YXIgQ3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTEwOlRyfSk7Y29uc3QgUHI9eCh7cHJlZml4OlwiZlwiLG5hbWU6XCJiYXNlMTZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZcIixiaXRzUGVyQ2hhcjo0fSksU3I9eCh7cHJlZml4OlwiRlwiLG5hbWU6XCJiYXNlMTZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRlwiLGJpdHNQZXJDaGFyOjR9KTt2YXIgT3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTE2OlByLGJhc2UxNnVwcGVyOlNyfSk7Y29uc3QgUnI9eCh7cHJlZml4OlwiYlwiLG5hbWU6XCJiYXNlMzJcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLEFyPXgoe3ByZWZpeDpcIkJcIixuYW1lOlwiYmFzZTMydXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLHhyPXgoe3ByZWZpeDpcImNcIixuYW1lOlwiYmFzZTMycGFkXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksTnI9eCh7cHJlZml4OlwiQ1wiLG5hbWU6XCJiYXNlMzJwYWR1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLCRyPXgoe3ByZWZpeDpcInZcIixuYW1lOlwiYmFzZTMyaGV4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dlwiLGJpdHNQZXJDaGFyOjV9KSx6cj14KHtwcmVmaXg6XCJWXCIsbmFtZTpcImJhc2UzMmhleHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLGJpdHNQZXJDaGFyOjV9KSxMcj14KHtwcmVmaXg6XCJ0XCIsbmFtZTpcImJhc2UzMmhleHBhZFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXY9XCIsYml0c1BlckNoYXI6NX0pLGtyPXgoe3ByZWZpeDpcIlRcIixuYW1lOlwiYmFzZTMyaGV4cGFkdXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWPVwiLGJpdHNQZXJDaGFyOjV9KSxqcj14KHtwcmVmaXg6XCJoXCIsbmFtZTpcImJhc2UzMnpcIixhbHBoYWJldDpcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsYml0c1BlckNoYXI6NX0pO3ZhciBVcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzI6UnIsYmFzZTMydXBwZXI6QXIsYmFzZTMycGFkOnhyLGJhc2UzMnBhZHVwcGVyOk5yLGJhc2UzMmhleDokcixiYXNlMzJoZXh1cHBlcjp6cixiYXNlMzJoZXhwYWQ6THIsYmFzZTMyaGV4cGFkdXBwZXI6a3IsYmFzZTMyejpqcn0pO2NvbnN0IEZyPW1lKHtwcmVmaXg6XCJrXCIsbmFtZTpcImJhc2UzNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJ9KSxNcj1tZSh7cHJlZml4OlwiS1wiLG5hbWU6XCJiYXNlMzZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJ9KTt2YXIgS3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTM2OkZyLGJhc2UzNnVwcGVyOk1yfSk7Y29uc3QgQnI9bWUoe25hbWU6XCJiYXNlNThidGNcIixwcmVmaXg6XCJ6XCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCJ9KSxWcj1tZSh7bmFtZTpcImJhc2U1OGZsaWNrclwiLHByZWZpeDpcIlpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIn0pO3ZhciBxcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNThidGM6QnIsYmFzZTU4ZmxpY2tyOlZyfSk7Y29uc3QgR3I9eCh7cHJlZml4OlwibVwiLG5hbWU6XCJiYXNlNjRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiaXRzUGVyQ2hhcjo2fSksV3I9eCh7cHJlZml4OlwiTVwiLG5hbWU6XCJiYXNlNjRwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYml0c1BlckNoYXI6Nn0pLEhyPXgoe3ByZWZpeDpcInVcIixuYW1lOlwiYmFzZTY0dXJsXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsYml0c1BlckNoYXI6Nn0pLFlyPXgoe3ByZWZpeDpcIlVcIixuYW1lOlwiYmFzZTY0dXJscGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLGJpdHNQZXJDaGFyOjZ9KTt2YXIgSnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTY0OkdyLGJhc2U2NHBhZDpXcixiYXNlNjR1cmw6SHIsYmFzZTY0dXJscGFkOllyfSk7Y29uc3Qgb2k9QXJyYXkuZnJvbShcIlxcdXsxRjY4MH1cXHV7MUZBOTB9XFx1MjYwNFxcdXsxRjZGMH1cXHV7MUYzMEN9XFx1ezFGMzExfVxcdXsxRjMxMn1cXHV7MUYzMTN9XFx1ezFGMzE0fVxcdXsxRjMxNX1cXHV7MUYzMTZ9XFx1ezFGMzE3fVxcdXsxRjMxOH1cXHV7MUYzMER9XFx1ezFGMzBGfVxcdXsxRjMwRX1cXHV7MUY0MDl9XFx1MjYwMFxcdXsxRjRCQn1cXHV7MUY1QTV9XFx1ezFGNEJFfVxcdXsxRjRCRn1cXHV7MUY2MDJ9XFx1Mjc2NFxcdXsxRjYwRH1cXHV7MUY5MjN9XFx1ezFGNjBBfVxcdXsxRjY0Rn1cXHV7MUY0OTV9XFx1ezFGNjJEfVxcdXsxRjYxOH1cXHV7MUY0NER9XFx1ezFGNjA1fVxcdXsxRjQ0Rn1cXHV7MUY2MDF9XFx1ezFGNTI1fVxcdXsxRjk3MH1cXHV7MUY0OTR9XFx1ezFGNDk2fVxcdXsxRjQ5OX1cXHV7MUY2MjJ9XFx1ezFGOTE0fVxcdXsxRjYwNn1cXHV7MUY2NDR9XFx1ezFGNEFBfVxcdXsxRjYwOX1cXHUyNjNBXFx1ezFGNDRDfVxcdXsxRjkxN31cXHV7MUY0OUN9XFx1ezFGNjE0fVxcdXsxRjYwRX1cXHV7MUY2MDd9XFx1ezFGMzM5fVxcdXsxRjkyNn1cXHV7MUYzODl9XFx1ezFGNDlFfVxcdTI3MENcXHUyNzI4XFx1ezFGOTM3fVxcdXsxRjYzMX1cXHV7MUY2MEN9XFx1ezFGMzM4fVxcdXsxRjY0Q31cXHV7MUY2MEJ9XFx1ezFGNDk3fVxcdXsxRjQ5QX1cXHV7MUY2MEZ9XFx1ezFGNDlCfVxcdXsxRjY0Mn1cXHV7MUY0OTN9XFx1ezFGOTI5fVxcdXsxRjYwNH1cXHV7MUY2MDB9XFx1ezFGNUE0fVxcdXsxRjYwM31cXHV7MUY0QUZ9XFx1ezFGNjQ4fVxcdXsxRjQ0N31cXHV7MUYzQjZ9XFx1ezFGNjEyfVxcdXsxRjkyRH1cXHUyNzYzXFx1ezFGNjFDfVxcdXsxRjQ4Qn1cXHV7MUY0NDB9XFx1ezFGNjJBfVxcdXsxRjYxMX1cXHV7MUY0QTV9XFx1ezFGNjRCfVxcdXsxRjYxRX1cXHV7MUY2Mjl9XFx1ezFGNjIxfVxcdXsxRjkyQX1cXHV7MUY0NEF9XFx1ezFGOTczfVxcdXsxRjYyNX1cXHV7MUY5MjR9XFx1ezFGNDQ5fVxcdXsxRjQ4M31cXHV7MUY2MzN9XFx1MjcwQlxcdXsxRjYxQX1cXHV7MUY2MUR9XFx1ezFGNjM0fVxcdXsxRjMxRn1cXHV7MUY2MkN9XFx1ezFGNjQzfVxcdXsxRjM0MH1cXHV7MUYzMzd9XFx1ezFGNjNCfVxcdXsxRjYxM31cXHUyQjUwXFx1MjcwNVxcdXsxRjk3QX1cXHV7MUYzMDh9XFx1ezFGNjA4fVxcdXsxRjkxOH1cXHV7MUY0QTZ9XFx1MjcxNFxcdXsxRjYyM31cXHV7MUYzQzN9XFx1ezFGNDkwfVxcdTI2MzlcXHV7MUYzOEF9XFx1ezFGNDk4fVxcdXsxRjYyMH1cXHUyNjFEXFx1ezFGNjE1fVxcdXsxRjMzQX1cXHV7MUYzODJ9XFx1ezFGMzNCfVxcdXsxRjYxMH1cXHV7MUY1OTV9XFx1ezFGNDlEfVxcdXsxRjY0QX1cXHV7MUY2Mzl9XFx1ezFGNUUzfVxcdXsxRjRBQn1cXHV7MUY0ODB9XFx1ezFGNDUxfVxcdXsxRjNCNX1cXHV7MUY5MUV9XFx1ezFGNjFCfVxcdXsxRjUzNH1cXHV7MUY2MjR9XFx1ezFGMzNDfVxcdXsxRjYyQn1cXHUyNkJEXFx1ezFGOTE5fVxcdTI2MTVcXHV7MUYzQzZ9XFx1ezFGOTJCfVxcdXsxRjQ0OH1cXHV7MUY2MkV9XFx1ezFGNjQ2fVxcdXsxRjM3Qn1cXHV7MUYzNDN9XFx1ezFGNDM2fVxcdXsxRjQ4MX1cXHV7MUY2MzJ9XFx1ezFGMzNGfVxcdXsxRjlFMX1cXHV7MUYzODF9XFx1MjZBMVxcdXsxRjMxRX1cXHV7MUYzODh9XFx1Mjc0Q1xcdTI3MEFcXHV7MUY0NEJ9XFx1ezFGNjMwfVxcdXsxRjkyOH1cXHV7MUY2MzZ9XFx1ezFGOTFEfVxcdXsxRjZCNn1cXHV7MUY0QjB9XFx1ezFGMzUzfVxcdXsxRjRBMn1cXHV7MUY5MUZ9XFx1ezFGNjQxfVxcdXsxRjZBOH1cXHV7MUY0QTh9XFx1ezFGOTJDfVxcdTI3MDhcXHV7MUYzODB9XFx1ezFGMzdBfVxcdXsxRjkxM31cXHV7MUY2MTl9XFx1ezFGNDlGfVxcdXsxRjMzMX1cXHV7MUY2MTZ9XFx1ezFGNDc2fVxcdXsxRjk3NH1cXHUyNUI2XFx1MjdBMVxcdTI3NTNcXHV7MUY0OEV9XFx1ezFGNEI4fVxcdTJCMDdcXHV7MUY2Mjh9XFx1ezFGMzFBfVxcdXsxRjk4Qn1cXHV7MUY2Mzd9XFx1ezFGNTdBfVxcdTI2QTBcXHV7MUY2NDV9XFx1ezFGNjFGfVxcdXsxRjYzNX1cXHV7MUY0NEV9XFx1ezFGOTMyfVxcdXsxRjkyMH1cXHV7MUY5Mjd9XFx1ezFGNENDfVxcdXsxRjUzNX1cXHV7MUY0ODV9XFx1ezFGOUQwfVxcdXsxRjQzRX1cXHV7MUYzNTJ9XFx1ezFGNjE3fVxcdXsxRjkxMX1cXHV7MUYzMEF9XFx1ezFGOTJGfVxcdXsxRjQzN31cXHUyNjBFXFx1ezFGNEE3fVxcdXsxRjYyRn1cXHV7MUY0ODZ9XFx1ezFGNDQ2fVxcdXsxRjNBNH1cXHV7MUY2NDd9XFx1ezFGMzUxfVxcdTI3NDRcXHV7MUYzMzR9XFx1ezFGNEEzfVxcdXsxRjQzOH1cXHV7MUY0OEN9XFx1ezFGNENEfVxcdXsxRjk0MH1cXHV7MUY5MjJ9XFx1ezFGNDQ1fVxcdXsxRjRBMX1cXHV7MUY0QTl9XFx1ezFGNDUwfVxcdXsxRjRGOH1cXHV7MUY0N0J9XFx1ezFGOTEwfVxcdXsxRjkyRX1cXHV7MUYzQkN9XFx1ezFGOTc1fVxcdXsxRjZBOX1cXHV7MUYzNEV9XFx1ezFGMzRBfVxcdXsxRjQ3Q31cXHV7MUY0OER9XFx1ezFGNEUzfVxcdXsxRjk0Mn1cIiksWHI9b2kucmVkdWNlKChyLGUsdCk9PihyW3RdPWUsciksW10pLFpyPW9pLnJlZHVjZSgocixlLHQpPT4ocltlLmNvZGVQb2ludEF0KDApXT10LHIpLFtdKTtmdW5jdGlvbiBRcihyKXtyZXR1cm4gci5yZWR1Y2UoKGUsdCk9PihlKz1Yclt0XSxlKSxcIlwiKX1mdW5jdGlvbiBlbihyKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IGk9WnJbdC5jb2RlUG9pbnRBdCgwKV07aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYE5vbi1iYXNlMjU2ZW1vamkgY2hhcmFjdGVyOiAke3R9YCk7ZS5wdXNoKGkpfXJldHVybiBuZXcgVWludDhBcnJheShlKX1jb25zdCB0bj1TZSh7cHJlZml4OlwiXFx1ezFGNjgwfVwiLG5hbWU6XCJiYXNlMjU2ZW1vamlcIixlbmNvZGU6UXIsZGVjb2RlOmVufSk7dmFyIHNuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyNTZlbW9qaTp0bn0pLHJuPWNpLGFpPTEyOCxubj0xMjcsb249fm5uLGFuPU1hdGgucG93KDIsMzEpO2Z1bmN0aW9uIGNpKHIsZSx0KXtlPWV8fFtdLHQ9dHx8MDtmb3IodmFyIGk9dDtyPj1hbjspZVt0KytdPXImMjU1fGFpLHIvPTEyODtmb3IoO3Imb247KWVbdCsrXT1yJjI1NXxhaSxyPj4+PTc7cmV0dXJuIGVbdF09cnwwLGNpLmJ5dGVzPXQtaSsxLGV9dmFyIGNuPVZlLGhuPTEyOCxoaT0xMjc7ZnVuY3Rpb24gVmUocixpKXt2YXIgdD0wLGk9aXx8MCxzPTAsbj1pLG8sYT1yLmxlbmd0aDtkb3tpZihuPj1hKXRocm93IFZlLmJ5dGVzPTAsbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTtvPXJbbisrXSx0Kz1zPDI4PyhvJmhpKTw8czoobyZoaSkqTWF0aC5wb3coMixzKSxzKz03fXdoaWxlKG8+PWhuKTtyZXR1cm4gVmUuYnl0ZXM9bi1pLHR9dmFyIGxuPU1hdGgucG93KDIsNyksdW49TWF0aC5wb3coMiwxNCksZG49TWF0aC5wb3coMiwyMSkscG49TWF0aC5wb3coMiwyOCksZ249TWF0aC5wb3coMiwzNSkseW49TWF0aC5wb3coMiw0MiksYm49TWF0aC5wb3coMiw0OSksbW49TWF0aC5wb3coMiw1NiksZm49TWF0aC5wb3coMiw2MyksRG49ZnVuY3Rpb24ocil7cmV0dXJuIHI8bG4/MTpyPHVuPzI6cjxkbj8zOnI8cG4/NDpyPGduPzU6cjx5bj82OnI8Ym4/NzpyPG1uPzg6cjxmbj85OjEwfSx2bj17ZW5jb2RlOnJuLGRlY29kZTpjbixlbmNvZGluZ0xlbmd0aDpEbn0sbGk9dm47Y29uc3QgdWk9KHIsZSx0PTApPT4obGkuZW5jb2RlKHIsZSx0KSxlKSxkaT1yPT5saS5lbmNvZGluZ0xlbmd0aChyKSxxZT0ocixlKT0+e2NvbnN0IHQ9ZS5ieXRlTGVuZ3RoLGk9ZGkocikscz1pK2RpKHQpLG49bmV3IFVpbnQ4QXJyYXkocyt0KTtyZXR1cm4gdWkocixuLDApLHVpKHQsbixpKSxuLnNldChlLHMpLG5ldyBfbihyLHQsZSxuKX07Y2xhc3MgX257Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5jb2RlPWUsdGhpcy5zaXplPXQsdGhpcy5kaWdlc3Q9aSx0aGlzLmJ5dGVzPXN9fWNvbnN0IHBpPSh7bmFtZTpyLGNvZGU6ZSxlbmNvZGU6dH0pPT5uZXcgd24ocixlLHQpO2NsYXNzIHdue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9dCx0aGlzLmVuY29kZT1pfWRpZ2VzdChlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSl7Y29uc3QgdD10aGlzLmVuY29kZShlKTtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cWUodGhpcy5jb2RlLHQpOnQudGhlbihpPT5xZSh0aGlzLmNvZGUsaSkpfWVsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNvbnN0IGdpPXI9PmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHIsZSkpLEVuPXBpKHtuYW1lOlwic2hhMi0yNTZcIixjb2RlOjE4LGVuY29kZTpnaShcIlNIQS0yNTZcIil9KSxJbj1waSh7bmFtZTpcInNoYTItNTEyXCIsY29kZToxOSxlbmNvZGU6Z2koXCJTSEEtNTEyXCIpfSk7dmFyIFRuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoYTI1NjpFbixzaGE1MTI6SW59KTtjb25zdCB5aT0wLENuPVwiaWRlbnRpdHlcIixiaT1yaSxQbj1yPT5xZSh5aSxiaShyKSksU249e2NvZGU6eWksbmFtZTpDbixlbmNvZGU6YmksZGlnZXN0OlBufTt2YXIgT249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6U259KTtuZXcgVGV4dEVuY29kZXIsbmV3IFRleHREZWNvZGVyO2NvbnN0IG1pPXsuLi52ciwuLi53ciwuLi5JciwuLi5DciwuLi5PciwuLi5VciwuLi5LciwuLi5xciwuLi5KciwuLi5zbn07KHsuLi5UbiwuLi5Pbn0pO2Z1bmN0aW9uIGZpKHIpe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbD9uZXcgVWludDhBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTpyfWZ1bmN0aW9uIFJuKHI9MCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSE9bnVsbD9maShnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShyKSk6bmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gRGkocixlLHQsaSl7cmV0dXJue25hbWU6cixwcmVmaXg6ZSxlbmNvZGVyOntuYW1lOnIscHJlZml4OmUsZW5jb2RlOnR9LGRlY29kZXI6e2RlY29kZTppfX19Y29uc3Qgdmk9RGkoXCJ1dGY4XCIsXCJ1XCIscj0+XCJ1XCIrbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUocikscj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIuc3Vic3RyaW5nKDEpKSksR2U9RGkoXCJhc2NpaVwiLFwiYVwiLHI9PntsZXQgZT1cImFcIjtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0pO3JldHVybiBlfSxyPT57cj1yLnN1YnN0cmluZygxKTtjb25zdCBlPVJuKHIubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllW3RdPXIuY2hhckNvZGVBdCh0KTtyZXR1cm4gZX0pLEFuPXt1dGY4OnZpLFwidXRmLThcIjp2aSxoZXg6bWkuYmFzZTE2LGxhdGluMTpHZSxhc2NpaTpHZSxiaW5hcnk6R2UsLi4ubWl9O2Z1bmN0aW9uIHhuKHIsZT1cInV0ZjhcIil7Y29uc3QgdD1BbltlXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP2ZpKGdsb2JhbFRoaXMuQnVmZmVyLmZyb20ocixcInV0Zi04XCIpKTp0LmRlY29kZXIuZGVjb2RlKGAke3QucHJlZml4fSR7cn1gKX12YXIgTm49T2JqZWN0LmRlZmluZVByb3BlcnR5LCRuPShyLGUsdCk9PmUgaW4gcj9ObihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSj0ocixlLHQpPT4kbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIF9pe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxKKHRoaXMsXCJrZXljaGFpblwiLG5ldyBNYXApLEoodGhpcyxcIm5hbWVcIixQdCksSih0aGlzLFwidmVyc2lvblwiLFN0KSxKKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxKKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksSih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldEtleUNoYWluKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLmtleWNoYWluPWkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9fSksSih0aGlzLFwiaGFzXCIsaT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uaGFzKGkpKSksSih0aGlzLFwic2V0XCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uc2V0KGkscyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxKKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmtleWNoYWluLmdldChpKTtpZih0eXBlb2Ygcz5cInVcIil7Y29uc3R7bWVzc2FnZTpufT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1yZXR1cm4gc30pLEoodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1hc3luYyBzZXRLZXlDaGFpbihlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxOZShlKSl9YXN5bmMgZ2V0S2V5Q2hhaW4oKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEtleUNoYWluKHRoaXMua2V5Y2hhaW4pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgem49T2JqZWN0LmRlZmluZVByb3BlcnR5LExuPShyLGUsdCk9PmUgaW4gcj96bihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUj0ocixlLHQpPT5MbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIHdpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFIodGhpcyxcIm5hbWVcIixUdCksUih0aGlzLFwia2V5Y2hhaW5cIiksUih0aGlzLFwicmFuZG9tU2Vzc2lvbklkZW50aWZpZXJcIix6ZSgpKSxSKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxSKHRoaXMsXCJjbGllbnRJZFwiKSxSKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmtleWNoYWluLmluaXQoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFIodGhpcyxcImhhc0tleXNcIixzPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMocykpKSxSKHRoaXMsXCJnZXRDbGllbnRJZFwiLGFzeW5jKCk9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmNsaWVudElkKXJldHVybiB0aGlzLmNsaWVudElkO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbj1JZS5nZW5lcmF0ZUtleVBhaXIocyksbz1JZS5lbmNvZGVJc3Mobi5wdWJsaWNLZXkpO3JldHVybiB0aGlzLmNsaWVudElkPW8sb30pLFIodGhpcyxcImdlbmVyYXRlS2V5UGFpclwiLCgpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1wcygpO3JldHVybiB0aGlzLnNldFByaXZhdGVLZXkocy5wdWJsaWNLZXkscy5wcml2YXRlS2V5KX0pLFIodGhpcyxcInNpZ25KV1RcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj1hd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSxvPUllLmdlbmVyYXRlS2V5UGFpcihuKSxhPXRoaXMucmFuZG9tU2Vzc2lvbklkZW50aWZpZXIsYz1DdDtyZXR1cm4gYXdhaXQgSWUuc2lnbkpXVChhLHMsYyxvKX0pLFIodGhpcyxcImdlbmVyYXRlU2hhcmVkS2V5XCIsKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9dGhpcy5nZXRQcml2YXRlS2V5KHMpLGM9Z3MoYSxuKTtyZXR1cm4gdGhpcy5zZXRTeW1LZXkoYyxvKX0pLFIodGhpcyxcInNldFN5bUtleVwiLGFzeW5jKHMsbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPW58fHlzKHMpO3JldHVybiBhd2FpdCB0aGlzLmtleWNoYWluLnNldChvLHMpLG99KSxSKHRoaXMsXCJkZWxldGVLZXlQYWlyXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUih0aGlzLFwiZGVsZXRlU3ltS2V5XCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUih0aGlzLFwiZW5jb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1icyhvKSxjPWRzKG4pO2lmKG90KGEpKXJldHVybiBtcyhjLG8/LmVuY29kaW5nKTtpZihhdChhKSl7Y29uc3QgeT1hLnNlbmRlclB1YmxpY0tleSxfPWEucmVjZWl2ZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KHksXyl9Y29uc3QgaD10aGlzLmdldFN5bUtleShzKSx7dHlwZTpsLHNlbmRlclB1YmxpY0tleTpnfT1hO3JldHVybiBmcyh7dHlwZTpsLHN5bUtleTpoLG1lc3NhZ2U6YyxzZW5kZXJQdWJsaWNLZXk6ZyxlbmNvZGluZzpvPy5lbmNvZGluZ30pfSksUih0aGlzLFwiZGVjb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1EcyhuLG8pO2lmKG90KGEpKXtjb25zdCBjPXZzKG4sbz8uZW5jb2RpbmcpO3JldHVybiBydChjKX1pZihhdChhKSl7Y29uc3QgYz1hLnJlY2VpdmVyUHVibGljS2V5LGg9YS5zZW5kZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KGMsaCl9dHJ5e2NvbnN0IGM9dGhpcy5nZXRTeW1LZXkocyksaD1fcyh7c3ltS2V5OmMsZW5jb2RlZDpuLGVuY29kaW5nOm8/LmVuY29kaW5nfSk7cmV0dXJuIHJ0KGgpfWNhdGNoKGMpe3RoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gZGVjb2RlIG1lc3NhZ2UgZnJvbSB0b3BpYzogJyR7c30nLCBjbGllbnRJZDogJyR7YXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpfSdgKSx0aGlzLmxvZ2dlci5lcnJvcihjKX19KSxSKHRoaXMsXCJnZXRQYXlsb2FkVHlwZVwiLChzLG49aHQpPT57Y29uc3Qgbz1jdCh7ZW5jb2RlZDpzLGVuY29kaW5nOm59KTtyZXR1cm4gd3Moby50eXBlKX0pLFIodGhpcyxcImdldFBheWxvYWRTZW5kZXJQdWJsaWNLZXlcIiwocyxuPWh0KT0+e2NvbnN0IG89Y3Qoe2VuY29kZWQ6cyxlbmNvZGluZzpufSk7cmV0dXJuIG8uc2VuZGVyUHVibGljS2V5P1ZzKG8uc2VuZGVyUHVibGljS2V5LEVzKTp2b2lkIDB9KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1GKHQsdGhpcy5uYW1lKSx0aGlzLmtleWNoYWluPWl8fG5ldyBfaSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWFzeW5jIHNldFByaXZhdGVLZXkoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoZSx0KSxlfWdldFByaXZhdGVLZXkoZSl7cmV0dXJuIHRoaXMua2V5Y2hhaW4uZ2V0KGUpfWFzeW5jIGdldENsaWVudFNlZWQoKXtsZXQgZT1cIlwiO3RyeXtlPXRoaXMua2V5Y2hhaW4uZ2V0KE1lKX1jYXRjaHtlPXplKCksYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoTWUsZSl9cmV0dXJuIHhuKGUsXCJiYXNlMTZcIil9Z2V0U3ltS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09YihcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIGtuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxVbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxFaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEZuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTW49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxXZT0ocixlLHQpPT5lIGluIHI/a24ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEtuPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlGbi5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtpZihFaSlmb3IodmFyIHQgb2YgRWkoZSkpTW4uY2FsbChlLHQpJiZXZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEJuPShyLGUpPT5qbihyLFVuKGUpKSxLPShyLGUsdCk9PldlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgSWkgZXh0ZW5kcyBlc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5sb2dnZXI9ZSx0aGlzLmNvcmU9dCxLKHRoaXMsXCJtZXNzYWdlc1wiLG5ldyBNYXApLEsodGhpcyxcIm1lc3NhZ2VzV2l0aG91dENsaWVudEFja1wiLG5ldyBNYXApLEsodGhpcyxcIm5hbWVcIixPdCksSyh0aGlzLFwidmVyc2lvblwiLFJ0KSxLKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxLKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksSyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlcygpO3R5cGVvZiBpPFwidVwiJiYodGhpcy5tZXNzYWdlcz1pKTtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpO3R5cGVvZiBzPFwidVwiJiYodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2s9cyksdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzaXplOnRoaXMubWVzc2FnZXMuc2l6ZX0pfWNhdGNoKGkpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihpKX1maW5hbGx5e3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fX0pLEsodGhpcyxcInNldFwiLGFzeW5jKGkscyxuKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG89VGUocyk7bGV0IGE9dGhpcy5tZXNzYWdlcy5nZXQoaSk7aWYodHlwZW9mIGE+XCJ1XCImJihhPXt9KSx0eXBlb2YgYVtvXTxcInVcIilyZXR1cm4gbztpZihhW29dPXMsdGhpcy5tZXNzYWdlcy5zZXQoaSxhKSxuPT09eWUuaW5ib3VuZCl7Y29uc3QgYz10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSl8fHt9O3RoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChpLEJuKEtuKHt9LGMpLHtbb106c30pKX1yZXR1cm4gYXdhaXQgdGhpcy5wZXJzaXN0KCksb30pLEsodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgcz10aGlzLm1lc3NhZ2VzLmdldChpKTtyZXR1cm4gdHlwZW9mIHM+XCJ1XCImJihzPXt9KSxzfSksSyh0aGlzLFwiZ2V0V2l0aG91dEFja1wiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXt9O2Zvcihjb25zdCBuIG9mIGkpe2NvbnN0IG89dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KG4pfHx7fTtzW25dPU9iamVjdC52YWx1ZXMobyl9cmV0dXJuIHN9KSxLKHRoaXMsXCJoYXNcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5nZXQoaSksbz1UZShzKTtyZXR1cm4gdHlwZW9mIG5bb108XCJ1XCJ9KSxLKHRoaXMsXCJhY2tcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSk7aWYodHlwZW9mIG4+XCJ1XCIpcmV0dXJuO2NvbnN0IG89VGUocyk7ZGVsZXRlIG5bb10sT2JqZWN0LmtleXMobikubGVuZ3RoPT09MD90aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5kZWxldGUoaSk6dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suc2V0KGksbiksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxLKHRoaXMsXCJkZWxcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tZXNzYWdlcy5kZWxldGUoaSksdGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKGkpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5sb2dnZXI9RihlLHRoaXMubmFtZSksdGhpcy5jb3JlPXR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBzdG9yYWdlS2V5V2l0aG91dENsaWVudEFjaygpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWUrXCJfd2l0aG91dENsaWVudEFja1wifWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxOZShlKSl9YXN5bmMgc2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjayhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2ssTmUoZSkpfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlcygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj8kZShlKTp2b2lkIDB9YXN5bmMgZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrKTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlcyh0aGlzLm1lc3NhZ2VzKSxhd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2sodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2spfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVm49T2JqZWN0LmRlZmluZVByb3BlcnR5LHFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEduPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFRpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsV249T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxIbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEhlPShyLGUsdCk9PmUgaW4gcj9WbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsY2U9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVduLmNhbGwoZSx0KSYmSGUocix0LGVbdF0pO2lmKFRpKWZvcih2YXIgdCBvZiBUaShlKSlIbi5jYWxsKGUsdCkmJkhlKHIsdCxlW3RdKTtyZXR1cm4gcn0sQ2k9KHIsZSk9PnFuKHIsR24oZSkpLEc9KHIsZSx0KT0+SGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBZbiBleHRlbmRzIHRze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj10LEcodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksRyh0aGlzLFwibmFtZVwiLHh0KSxHKHRoaXMsXCJxdWV1ZVwiLG5ldyBNYXApLEcodGhpcyxcInB1Ymxpc2hUaW1lb3V0XCIsJChpdCkpLEcodGhpcyxcImluaXRpYWxQdWJsaXNoVGltZW91dFwiLCQoUSoxNSkpLEcodGhpcyxcIm5lZWRzVHJhbnNwb3J0UmVzdGFydFwiLCExKSxHKHRoaXMsXCJwdWJsaXNoXCIsYXN5bmMoaSxzLG4pPT57dmFyIG8sYSxjLGgsbDt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e3RvcGljOmksbWVzc2FnZTpzLG9wdHM6bn19KTtjb25zdCBnPW4/LnR0bHx8QXQseT1uPy5wcm9tcHR8fCExLF89bj8udGFnfHwwLHU9bj8uaWR8fGplKCkudG9TdHJpbmcoKSxtPW5lKENlKCkucHJvdG9jb2wpLEQ9e2lkOnUsbWV0aG9kOm4/LnB1Ymxpc2hNZXRob2R8fG0ucHVibGlzaCxwYXJhbXM6Y2Uoe3RvcGljOmksbWVzc2FnZTpzLHR0bDpnLHByb21wdDp5LHRhZzpfLGF0dGVzdGF0aW9uOm4/LmF0dGVzdGF0aW9ufSxuPy50dmYpfSx3PWBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke3V9IHRhZzoke199YDt0cnl7dWUoKG89RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpvLnByb21wdCkmJigoYT1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBhLnByb21wdCksdWUoKGM9RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpjLnRhZykmJigoaD1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBoLnRhZyk7Y29uc3QgRT1uZXcgUHJvbWlzZShhc3luYyBMPT57Y29uc3QgST0oe2lkOlR9KT0+e3ZhciBTOygoUz1ELmlkKT09bnVsbD92b2lkIDA6Uy50b1N0cmluZygpKT09PVQudG9TdHJpbmcoKSYmKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShUKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxJKSxMKCkpfTt0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEMucHVibGlzaCxJKTtjb25zdCBrPUgobmV3IFByb21pc2UoKFQsUyk9Pnt0aGlzLnJwY1B1Ymxpc2goRCxuKS50aGVuKFQpLmNhdGNoKE89Pnt0aGlzLmxvZ2dlci53YXJuKE8sTz8ubWVzc2FnZSksUyhPKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBpZDoke3V9IHRhZzoke199YCk7dHJ5e2F3YWl0IGssdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLEkpfWNhdGNoKFQpe3RoaXMucXVldWUuc2V0KHUse3JlcXVlc3Q6RCxvcHRzOm4sYXR0ZW1wdDoxfSksdGhpcy5sb2dnZXIud2FybihULFQ/Lm1lc3NhZ2UpfX0pO3RoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7aWQ6dSx0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSksYXdhaXQgSChFLHRoaXMucHVibGlzaFRpbWVvdXQsdyl9Y2F0Y2goRSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKEUpLChsPW4/LmludGVybmFsKSE9bnVsbCYmbC50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyBFfWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUodSl9fSksRyh0aGlzLFwicHVibGlzaEN1c3RvbVwiLGFzeW5jIGk9Pnt2YXIgcyxuLG8sYSxjO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBjdXN0b20gcGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hDdXN0b21cIixwYXJhbXM6aX0pO2NvbnN0e3BheWxvYWQ6aCxvcHRzOmw9e319PWkse2F0dGVzdGF0aW9uOmcsdHZmOnkscHVibGlzaE1ldGhvZDpfLHByb21wdDp1LHRhZzptLHR0bDpEPWxlfT1sLHc9bC5pZHx8amUoKS50b1N0cmluZygpLEU9bmUoQ2UoKS5wcm90b2NvbCksTD1ffHxFLnB1Ymxpc2gsST17aWQ6dyxtZXRob2Q6TCxwYXJhbXM6Y2UoQ2koY2Uoe30saCkse3R0bDpELHByb21wdDp1LHRhZzptLGF0dGVzdGF0aW9uOmd9KSx5KX0saz1gRmFpbGVkIHRvIHB1Ymxpc2ggY3VzdG9tIHBheWxvYWQsIHBsZWFzZSB0cnkgYWdhaW4uIGlkOiR7d30gdGFnOiR7bX1gO3RyeXt1ZSgocz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOnMucHJvbXB0KSYmKChuPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIG4ucHJvbXB0KSx1ZSgobz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOm8udGFnKSYmKChhPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIGEudGFnKTtjb25zdCBUPW5ldyBQcm9taXNlKGFzeW5jIFM9Pntjb25zdCBPPSh7aWQ6Wn0pPT57dmFyIHdlOygod2U9SS5pZCk9PW51bGw/dm9pZCAwOndlLnRvU3RyaW5nKCkpPT09Wi50b1N0cmluZygpJiYodGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKFopLHRoaXMucmVsYXllci5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLE8pLFMoKSl9O3RoaXMucmVsYXllci5ldmVudHMub24oQy5wdWJsaXNoLE8pO2NvbnN0IHRlPUgobmV3IFByb21pc2UoKFosd2UpPT57dGhpcy5ycGNQdWJsaXNoKEksbCkudGhlbihaKS5jYXRjaChFZT0+e3RoaXMubG9nZ2VyLndhcm4oRWUsRWU/Lm1lc3NhZ2UpLHdlKEVlKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIGN1c3RvbSBwYXlsb2FkIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBtZXRob2Q6JHtMfSBpZDoke3d9IHRhZzoke219YCk7dHJ5e2F3YWl0IHRlLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxPKX1jYXRjaChaKXt0aGlzLnF1ZXVlLnNldCh3LHtyZXF1ZXN0Okksb3B0czpsLGF0dGVtcHQ6MX0pLHRoaXMubG9nZ2VyLndhcm4oWixaPy5tZXNzYWdlKX19KTt0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e2lkOncscGF5bG9hZDpoLG9wdHM6bH19KSxhd2FpdCBIKFQsdGhpcy5wdWJsaXNoVGltZW91dCxrKX1jYXRjaChUKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBQdWJsaXNoIFBheWxvYWRcIiksdGhpcy5sb2dnZXIuZXJyb3IoVCksKGM9bD8uaW50ZXJuYWwpIT1udWxsJiZjLnRocm93T25GYWlsZWRQdWJsaXNoKXRocm93IFR9ZmluYWxseXt0aGlzLnF1ZXVlLmRlbGV0ZSh3KX19KSxHKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLEcodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLEcodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxHKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWFzeW5jIHJwY1B1Ymxpc2goZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXNzYWdlXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0OmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucmVsYXllci5yZXF1ZXN0KGUpO3JldHVybiB0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5wdWJsaXNoLGNlKGNlKHt9LGUpLHQpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBQdWJsaXNoZWQgUGF5bG9hZFwiKSxpfXJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZSl7dGhpcy5xdWV1ZS5kZWxldGUoZSl9Y2hlY2tRdWV1ZSgpe3RoaXMucXVldWUuZm9yRWFjaChhc3luYyhlLHQpPT57dmFyIGk7Y29uc3Qgcz1lLmF0dGVtcHQrMTt0aGlzLnF1ZXVlLnNldCh0LENpKGNlKHt9LGUpLHthdHRlbXB0OnN9KSksdGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGluZzogJHtlLnJlcXVlc3QuaWR9LCB0YWc6ICR7KGk9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmkudGFnfSwgYXR0ZW1wdDogJHtzfWApLGF3YWl0IHRoaXMucnBjUHVibGlzaChlLnJlcXVlc3QsZS5vcHRzKSx0aGlzLmxvZ2dlci53YXJuKHt9LGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoZWQ6ICR7ZS5yZXF1ZXN0LmlkfWApfSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e2lmKHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0KXt0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydD0hMSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpO3JldHVybn10aGlzLmNoZWNrUXVldWUoKX0pLHRoaXMucmVsYXllci5vbihDLm1lc3NhZ2VfYWNrLGU9Pnt0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZS5pZC50b1N0cmluZygpKX0pfX12YXIgSm49T2JqZWN0LmRlZmluZVByb3BlcnR5LFhuPShyLGUsdCk9PmUgaW4gcj9KbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsaGU9KHIsZSx0KT0+WG4ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBabntjb25zdHJ1Y3Rvcigpe2hlKHRoaXMsXCJtYXBcIixuZXcgTWFwKSxoZSh0aGlzLFwic2V0XCIsKGUsdCk9Pntjb25zdCBpPXRoaXMuZ2V0KGUpO3RoaXMuZXhpc3RzKGUsdCl8fHRoaXMubWFwLnNldChlLFsuLi5pLHRdKX0pLGhlKHRoaXMsXCJnZXRcIixlPT50aGlzLm1hcC5nZXQoZSl8fFtdKSxoZSh0aGlzLFwiZXhpc3RzXCIsKGUsdCk9PnRoaXMuZ2V0KGUpLmluY2x1ZGVzKHQpKSxoZSh0aGlzLFwiZGVsZXRlXCIsKGUsdCk9PntpZih0eXBlb2YgdD5cInVcIil7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn1pZighdGhpcy5tYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPXRoaXMuZ2V0KGUpO2lmKCF0aGlzLmV4aXN0cyhlLHQpKXJldHVybjtjb25zdCBzPWkuZmlsdGVyKG49Pm4hPT10KTtpZighcy5sZW5ndGgpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59dGhpcy5tYXAuc2V0KGUscyl9KSxoZSh0aGlzLFwiY2xlYXJcIiwoKT0+e3RoaXMubWFwLmNsZWFyKCl9KX1nZXQgdG9waWNzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX19dmFyIFFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxlbz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx0bz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxQaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGlvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksc289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxZZT0ocixlLHQpPT5lIGluIHI/UW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGZlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlpby5jYWxsKGUsdCkmJlllKHIsdCxlW3RdKTtpZihQaSlmb3IodmFyIHQgb2YgUGkoZSkpc28uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEplPShyLGUpPT5lbyhyLHRvKGUpKSxmPShyLGUsdCk9PlllKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgU2kgZXh0ZW5kcyBpc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxmKHRoaXMsXCJzdWJzY3JpcHRpb25zXCIsbmV3IE1hcCksZih0aGlzLFwidG9waWNNYXBcIixuZXcgWm4pLGYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksZih0aGlzLFwibmFtZVwiLEZ0KSxmKHRoaXMsXCJ2ZXJzaW9uXCIsTXQpLGYodGhpcyxcInBlbmRpbmdcIixuZXcgTWFwKSxmKHRoaXMsXCJjYWNoZWRcIixbXSksZih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksZih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLGYodGhpcyxcInN1YnNjcmliZVRpbWVvdXRcIiwkKGl0KSksZih0aGlzLFwiaW5pdGlhbFN1YnNjcmliZVRpbWVvdXRcIiwkKFEqMTUpKSxmKHRoaXMsXCJjbGllbnRJZFwiKSxmKHRoaXMsXCJiYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0XCIsNTAwKSxmKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IHRoaXMucmVzdG9yZSgpKSx0aGlzLmluaXRpYWxpemVkPSEwfSksZih0aGlzLFwic3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3ZhciBuO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pO3RyeXtjb25zdCBvPUNlKHMpLGE9e3RvcGljOmkscmVsYXk6byx0cmFuc3BvcnRUeXBlOnM/LnRyYW5zcG9ydFR5cGV9OyhuPXM/LmludGVybmFsKSE9bnVsbCYmbi5za2lwU3Vic2NyaWJlfHx0aGlzLnBlbmRpbmcuc2V0KGksYSk7Y29uc3QgYz1hd2FpdCB0aGlzLnJwY1N1YnNjcmliZShpLG8scyk7cmV0dXJuIHR5cGVvZiBjPT1cInN0cmluZ1wiJiYodGhpcy5vblN1YnNjcmliZShjLGEpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pKSxjfWNhdGNoKG8pe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihvKSxvfX0pLGYodGhpcyxcInVuc3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHR5cGVvZiBzPy5pZDxcInVcIj9hd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlJZChpLHMuaWQscyk6YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5VG9waWMoaSxzKX0pLGYodGhpcyxcImlzU3Vic2NyaWJlZFwiLGk9Pm5ldyBQcm9taXNlKHM9PntzKHRoaXMudG9waWNNYXAudG9waWNzLmluY2x1ZGVzKGkpKX0pKSxmKHRoaXMsXCJpc0tub3duVG9waWNcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKXx8dGhpcy5wZW5kaW5nLmhhcyhpKXx8dGhpcy5jYWNoZWQuc29tZShuPT5uLnRvcGljPT09aSkpfSkpLGYodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksZih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksZih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksZih0aGlzLFwic3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkNvbm5lY3QoKX0pLGYodGhpcyxcInN0b3BcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKX0pLGYodGhpcyxcInJlc3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5yZXN0b3JlKCksYXdhaXQgdGhpcy5vblJlc3RhcnQoKX0pLGYodGhpcyxcImNoZWNrUGVuZGluZ1wiLGFzeW5jKCk9PntpZih0aGlzLnBlbmRpbmcuc2l6ZT09PTAmJighdGhpcy5pbml0aWFsaXplZHx8IXRoaXMucmVsYXllci5jb25uZWN0ZWQpKXJldHVybjtjb25zdCBpPVtdO3RoaXMucGVuZGluZy5mb3JFYWNoKHM9PntpLnB1c2gocyl9KSxhd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKGkpfSksZih0aGlzLFwicmVnaXN0ZXJFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKHNlLnB1bHNlLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNoZWNrUGVuZGluZygpfSksdGhpcy5ldmVudHMub24oai5jcmVhdGVkLGFzeW5jIGk9Pntjb25zdCBzPWouY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihqLmRlbGV0ZWQsYXN5bmMgaT0+e2NvbnN0IHM9ai5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7c31gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6cyxkYXRhOml9KSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pfSksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5jbGllbnRJZD1cIlwifWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5yZWxheWVyLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNpemV9Z2V0IGlkcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMudmFsdWVzKCkpfWdldCB0b3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3N9Z2V0IGhhc0FueVRvcGljcygpe3JldHVybiB0aGlzLnRvcGljTWFwLnRvcGljcy5sZW5ndGg+MHx8dGhpcy5wZW5kaW5nLnNpemU+MHx8dGhpcy5jYWNoZWQubGVuZ3RoPjB8fHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplPjB9aGFzU3Vic2NyaXB0aW9uKGUsdCl7bGV0IGk9ITE7dHJ5e2k9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSkudG9waWM9PT10fWNhdGNoe31yZXR1cm4gaX1yZXNldCgpe3RoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9b25EaXNhYmxlKCl7dGhpcy52YWx1ZXMubGVuZ3RoPjAmJih0aGlzLmNhY2hlZD10aGlzLnZhbHVlcyksdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCksdGhpcy50b3BpY01hcC5jbGVhcigpfWFzeW5jIHVuc3Vic2NyaWJlQnlUb3BpYyhlLHQpe2NvbnN0IGk9dGhpcy50b3BpY01hcC5nZXQoZSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoYXN5bmMgcz0+YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoZSxzLHQpKSl9YXN5bmMgdW5zdWJzY3JpYmVCeUlkKGUsdCxpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVuc3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KTt0cnl7Y29uc3Qgcz1DZShpKTthd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOnQscmVsYXk6c30pLGF3YWl0IHRoaXMucnBjVW5zdWJzY3JpYmUoZSx0LHMpO2NvbnN0IG49ZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiLGAke3RoaXMubmFtZX0sICR7ZX1gKTthd2FpdCB0aGlzLm9uVW5zdWJzY3JpYmUoZSx0LG4pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFVuc3Vic2NyaWJlZCBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVuc3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzplLGlkOnQsb3B0czppfX0pfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFVuc3Vic2NyaWJlIFRvcGljXCIpLHRoaXMubG9nZ2VyLmVycm9yKHMpLHN9fWFzeW5jIHJwY1N1YnNjcmliZShlLHQsaSl7dmFyIHMsbjtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQoZSk7aWYoKHM9aT8uaW50ZXJuYWwpIT1udWxsJiZzLnNraXBTdWJzY3JpYmUpcmV0dXJuIG87KCFpfHxpPy50cmFuc3BvcnRUeXBlPT09ZWUucmVsYXkpJiZhd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOmUscmVsYXk6dH0pO2NvbnN0IGE9e21ldGhvZDpuZSh0LnByb3RvY29sKS5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDphfSk7Y29uc3QgYz0obj1pPy5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOm4udGhyb3dPbkZhaWxlZFB1Ymxpc2g7dHJ5e2lmKGk/LnRyYW5zcG9ydFR5cGU9PT1lZS5saW5rX21vZGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9PnsodGhpcy5yZWxheWVyLmNvbm5lY3RlZHx8dGhpcy5yZWxheWVyLmNvbm5lY3RpbmcpJiZ0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChnPT50aGlzLmxvZ2dlci53YXJuKGcpKX0sJChRKSksbztjb25zdCBoPW5ldyBQcm9taXNlKGFzeW5jIGc9Pntjb25zdCB5PV89PntfLnRvcGljPT09ZSYmKHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGouY3JlYXRlZCx5KSxnKF8uaWQpKX07dGhpcy5ldmVudHMub24oai5jcmVhdGVkLHkpO3RyeXtjb25zdCBfPWF3YWl0IEgobmV3IFByb21pc2UoKHUsbSk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChEPT57dGhpcy5sb2dnZXIud2FybihELEQ/Lm1lc3NhZ2UpLG0oRCl9KS50aGVuKHUpfSksdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihqLmNyZWF0ZWQseSksZyhfKX1jYXRjaHt9fSksbD1hd2FpdCBIKGgsdGhpcy5zdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO2lmKCFsJiZjKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtyZXR1cm4gbD9vOm51bGx9Y2F0Y2goaCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBTdWJzY3JpYmUgUGF5bG9hZCBzdGFsbGVkXCIpLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCksYyl0aHJvdyBofXJldHVybiBudWxsfWFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LGk9e21ldGhvZDpuZSh0LnByb3RvY29sKS5iYXRjaFN1YnNjcmliZSxwYXJhbXM6e3RvcGljczplLm1hcChzPT5zLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO3RyeXthd2FpdCBhd2FpdCBIKG5ldyBQcm9taXNlKHM9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChuPT50aGlzLmxvZ2dlci53YXJuKG4pKS50aGVuKHMpfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hTdWJzY3JpYmUgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9fWFzeW5jIHJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6bmUodC5wcm90b2NvbCkuYmF0Y2hGZXRjaE1lc3NhZ2VzLHBhcmFtczp7dG9waWNzOmUubWFwKG49Pm4udG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSk7bGV0IHM7dHJ5e3M9YXdhaXQgYXdhaXQgSChuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKGE9Pnt0aGlzLmxvZ2dlci53YXJuKGEpLG8oYSl9KS50aGVuKG4pfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hGZXRjaE1lc3NhZ2VzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfXJldHVybiBzfXJwY1Vuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBzPXttZXRob2Q6bmUoaS5wcm90b2NvbCkudW5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplLGlkOnR9fTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpzfSksdGhpcy5yZWxheWVyLnJlcXVlc3Qocyl9b25TdWJzY3JpYmUoZSx0KXt0aGlzLnNldFN1YnNjcmlwdGlvbihlLEplKGZlKHt9LHQpLHtpZDplfSkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9b25CYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmZS5mb3JFYWNoKHQ9Pnt0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLGZlKHt9LHQpKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfSl9YXN5bmMgb25VbnN1YnNjcmliZShlLHQsaSl7dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpLHRoaXMuaGFzU3Vic2NyaXB0aW9uKHQsZSkmJnRoaXMuZGVsZXRlU3Vic2NyaXB0aW9uKHQsaSksYXdhaXQgdGhpcy5yZWxheWVyLm1lc3NhZ2VzLmRlbChlKX1hc3luYyBzZXRSZWxheWVyU3Vic2NyaXB0aW9ucyhlKXthd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfXNldFN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRTdWJzY3JpcHRpb25cIixpZDplLHN1YnNjcmlwdGlvbjp0fSksdGhpcy5hZGRTdWJzY3JpcHRpb24oZSx0KX1hZGRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KGUsZmUoe30sdCkpLHRoaXMudG9waWNNYXAuc2V0KHQudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdChqLmNyZWF0ZWQsdCl9Z2V0U3Vic2NyaXB0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRTdWJzY3JpcHRpb25cIixpZDplfSk7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfXJldHVybiB0fWRlbGV0ZVN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsaWQ6ZSxyZWFzb246dH0pO2NvbnN0IGk9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSk7dGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKSx0aGlzLnRvcGljTWFwLmRlbGV0ZShpLnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoai5kZWxldGVkLEplKGZlKHt9LGkpLHtyZWFzb246dH0pKX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChqLnN5bmMpfWFzeW5jIG9uUmVzdGFydCgpe2lmKHRoaXMuY2FjaGVkLmxlbmd0aCl7Y29uc3QgZT1bLi4udGhpcy5jYWNoZWRdLHQ9TWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aC90aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9ZS5zcGxpY2UoMCx0aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2F3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUocyl9fXRoaXMuZXZlbnRzLmVtaXQoai5yZXN1YnNjcmliZWQpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5zdWJzY3JpcHRpb25zLnNpemUmJiFlLmV2ZXJ5KHQ9Pnt2YXIgaTtyZXR1cm4gdC50b3BpYz09PSgoaT10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KHQuaWQpKT09bnVsbD92b2lkIDA6aS50b3BpYyl9KSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSx0aGlzLmxvZ2dlci5lcnJvcihgJHt0aGlzLm5hbWV9OiAke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX1gKSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHN1YnNjcmlwdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWFzeW5jIGJhdGNoU3Vic2NyaWJlKGUpe2UubGVuZ3RoJiYoYXdhaXQgdGhpcy5ycGNCYXRjaFN1YnNjcmliZShlKSx0aGlzLm9uQmF0Y2hTdWJzY3JpYmUoYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoYXN5bmMgdD0+SmUoZmUoe30sdCkse2lkOmF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQodC50b3BpYyl9KSkpKSl9YXN5bmMgYmF0Y2hGZXRjaE1lc3NhZ2VzKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47dGhpcy5sb2dnZXIudHJhY2UoYEZldGNoaW5nIGJhdGNoIG1lc3NhZ2VzIGZvciAke2UubGVuZ3RofSBzdWJzY3JpcHRpb25zYCk7Y29uc3QgdD1hd2FpdCB0aGlzLnJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKTt0JiZ0Lm1lc3NhZ2VzJiYoYXdhaXQgSXMoJChRKSksYXdhaXQgdGhpcy5yZWxheWVyLmhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyh0Lm1lc3NhZ2VzKSl9YXN5bmMgb25Db25uZWN0KCl7YXdhaXQgdGhpcy5yZXN0YXJ0KCksdGhpcy5yZXNldCgpfW9uRGlzY29ubmVjdCgpe3RoaXMub25EaXNhYmxlKCl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgcmVzdGFydFRvQ29tcGxldGUoZSl7IXRoaXMucmVsYXllci5jb25uZWN0ZWQmJiF0aGlzLnJlbGF5ZXIuY29ubmVjdGluZyYmKHRoaXMuY2FjaGVkLnB1c2goZSksYXdhaXQgdGhpcy5yZWxheWVyLnRyYW5zcG9ydE9wZW4oKSl9YXN5bmMgZ2V0Q2xpZW50SWQoKXtyZXR1cm4gdGhpcy5jbGllbnRJZHx8KHRoaXMuY2xpZW50SWQ9YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCkpLHRoaXMuY2xpZW50SWR9YXN5bmMgZ2V0U3Vic2NyaXB0aW9uSWQoZSl7cmV0dXJuIFRlKGUrYXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpKX19dmFyIHJvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxPaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLG5vPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksb289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYZT0ocixlLHQpPT5lIGluIHI/cm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFJpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSluby5jYWxsKGUsdCkmJlhlKHIsdCxlW3RdKTtpZihPaSlmb3IodmFyIHQgb2YgT2koZSkpb28uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHA9KHIsZSx0KT0+WGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBBaSBleHRlbmRzIHNze2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGUpLHAodGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxwKHRoaXMsXCJ2ZXJzaW9uXCIsMikscCh0aGlzLFwiY29yZVwiKSxwKHRoaXMsXCJsb2dnZXJcIikscCh0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSxwKHRoaXMsXCJwcm92aWRlclwiKSxwKHRoaXMsXCJtZXNzYWdlc1wiKSxwKHRoaXMsXCJzdWJzY3JpYmVyXCIpLHAodGhpcyxcInB1Ymxpc2hlclwiKSxwKHRoaXMsXCJuYW1lXCIsenQpLHAodGhpcyxcInRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWRcIiwhMSkscCh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkscCh0aGlzLFwiY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzXCIsITEpLHAodGhpcyxcInJlbGF5VXJsXCIpLHAodGhpcyxcInByb2plY3RJZFwiKSxwKHRoaXMsXCJwYWNrYWdlTmFtZVwiKSxwKHRoaXMsXCJidW5kbGVJZFwiKSxwKHRoaXMsXCJoYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uXCIsITEpLHAodGhpcyxcInBpbmdUaW1lb3V0XCIpLHAodGhpcyxcImhlYXJ0QmVhdFRpbWVvdXRcIiwkKHhlK0FlKSkscCh0aGlzLFwicmVjb25uZWN0VGltZW91dFwiKSxwKHRoaXMsXCJjb25uZWN0UHJvbWlzZVwiKSxwKHRoaXMsXCJyZWNvbm5lY3RJblByb2dyZXNzXCIsITEpLHAodGhpcyxcInJlcXVlc3RzSW5GbGlnaHRcIixbXSkscCh0aGlzLFwiY29ubmVjdFRpbWVvdXRcIiwkKFEqMTUpKSxwKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgaT0+e3ZhciBzLG47dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFJlcXVlc3QgUGF5bG9hZFwiKTtjb25zdCBvPWkuaWR8fGplKCkudG9TdHJpbmcoKTthd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO3RyeXt0aGlzLmxvZ2dlci50cmFjZSh7aWQ6byxtZXRob2Q6aS5tZXRob2QsdG9waWM6KHM9aS5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnRvcGljfSxcInJlbGF5ZXIucmVxdWVzdCAtIHB1Ymxpc2hpbmcuLi5cIik7Y29uc3QgYT1gJHtvfTokeygobj1pLnBhcmFtcyk9PW51bGw/dm9pZCAwOm4udGFnKXx8XCJcIn1gO3RoaXMucmVxdWVzdHNJbkZsaWdodC5wdXNoKGEpO2NvbnN0IGM9YXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KGkpO3JldHVybiB0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9dGhpcy5yZXF1ZXN0c0luRmxpZ2h0LmZpbHRlcihoPT5oIT09YSksY31jYXRjaChhKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFB1Ymxpc2ggUmVxdWVzdDogJHtvfWApLGF9fSkscCh0aGlzLFwicmVzZXRQaW5nVGltZW91dFwiLCgpPT57ZHQoKSYmKGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KSx0aGlzLnBpbmdUaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt2YXIgaSxzLG4sbzt0cnl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJwaW5nVGltZW91dDogQ29ubmVjdGlvbiBzdGFsbGVkLCB0ZXJtaW5hdGluZy4uLlwiKSwobz0obj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsP3ZvaWQgMDpuLnRlcm1pbmF0ZSk9PW51bGx8fG8uY2FsbChuKX1jYXRjaChhKXt0aGlzLmxvZ2dlci53YXJuKGEsYT8ubWVzc2FnZSl9fSx0aGlzLmhlYXJ0QmVhdFRpbWVvdXQpKX0pLHAodGhpcyxcIm9uUGF5bG9hZEhhbmRsZXJcIixpPT57dGhpcy5vblByb3ZpZGVyUGF5bG9hZChpKSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pLHAodGhpcyxcIm9uQ29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGNvbm5lY3RlZCBcXHV7MUY2REN9XCIpLHRoaXMuc3RhcnRQaW5nVGltZW91dCgpLHRoaXMuZXZlbnRzLmVtaXQoQy5jb25uZWN0KX0pLHAodGhpcyxcIm9uRGlzY29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGRpc2Nvbm5lY3RlZCBcXHV7MUY2RDF9XCIpLHRoaXMucmVxdWVzdHNJbkZsaWdodD1bXSx0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9KSxwKHRoaXMsXCJvblByb3ZpZGVyRXJyb3JIYW5kbGVyXCIsaT0+e3RoaXMubG9nZ2VyLmZhdGFsKGBGYXRhbCBzb2NrZXQgZXJyb3I6ICR7aS5tZXNzYWdlfWApLHRoaXMuZXZlbnRzLmVtaXQoQy5lcnJvcixpKSx0aGlzLmxvZ2dlci5mYXRhbChcIkZhdGFsIHNvY2tldCBlcnJvciByZWNlaXZlZCwgY2xvc2luZyB0cmFuc3BvcnRcIiksdGhpcy50cmFuc3BvcnRDbG9zZSgpfSkscCh0aGlzLFwicmVnaXN0ZXJQcm92aWRlckxpc3RlbmVyc1wiLCgpPT57dGhpcy5wcm92aWRlci5vbihNLnBheWxvYWQsdGhpcy5vblBheWxvYWRIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTS5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vbihNLmVycm9yLHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlcil9KSx0aGlzLmNvcmU9ZS5jb3JlLHRoaXMubG9nZ2VyPVRzKHtsb2dnZXI6KHQ9ZS5sb2dnZXIpIT1udWxsP3Q6JHQsbmFtZTp0aGlzLm5hbWV9KSx0aGlzLm1lc3NhZ2VzPW5ldyBJaSh0aGlzLmxvZ2dlcixlLmNvcmUpLHRoaXMuc3Vic2NyaWJlcj1uZXcgU2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wdWJsaXNoZXI9bmV3IFluKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucHJvamVjdElkPWU/LnByb2plY3RJZCx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxLZSxDcygpP3RoaXMucGFja2FnZU5hbWU9bHQoKTpQcygpJiYodGhpcy5idW5kbGVJZD1sdCgpKSx0aGlzLnByb3ZpZGVyPXt9fWFzeW5jIGluaXQoKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLm1lc3NhZ2VzLmluaXQoKSx0aGlzLnN1YnNjcmliZXIuaW5pdCgpXSksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci53YXJuKGUsZT8ubWVzc2FnZSkpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBjb25uZWN0ZWQoKXt2YXIgZSx0LGk7cmV0dXJuKChpPSh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDp0LnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT0xfHwhMX1nZXQgY29ubmVjdGluZygpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTB8fHRoaXMuY29ubmVjdFByb21pc2UhPT12b2lkIDB8fCExfWFzeW5jIHB1Ymxpc2goZSx0LGkpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZSx0LGkpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KHt0b3BpYzplLG1lc3NhZ2U6dCxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6ZWUucmVsYXl9LHllLm91dGJvdW5kKX1hc3luYyBwdWJsaXNoQ3VzdG9tKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hDdXN0b20oZSl9YXN5bmMgc3Vic2NyaWJlKGUsdCl7dmFyIGkscyxuO3RoaXMuaXNJbml0aWFsaXplZCgpLCghKHQhPW51bGwmJnQudHJhbnNwb3J0VHlwZSl8fHQ/LnRyYW5zcG9ydFR5cGU9PT1cInJlbGF5XCIpJiZhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO2NvbnN0IG89dHlwZW9mKChpPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6aS50aHJvd09uRmFpbGVkUHVibGlzaCk+XCJ1XCI/ITA6KHM9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpzLnRocm93T25GYWlsZWRQdWJsaXNoO2xldCBhPSgobj10aGlzLnN1YnNjcmliZXIudG9waWNNYXAuZ2V0KGUpKT09bnVsbD92b2lkIDA6blswXSl8fFwiXCIsYztjb25zdCBoPWw9PntsLnRvcGljPT09ZSYmKHRoaXMuc3Vic2NyaWJlci5vZmYoai5jcmVhdGVkLGgpLGMoKSl9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UobD0+e2M9bCx0aGlzLnN1YnNjcmliZXIub24oai5jcmVhdGVkLGgpfSksbmV3IFByb21pc2UoYXN5bmMobCxnKT0+e2E9YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLFJpKHtpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6b319LHQpKS5jYXRjaCh5PT57byYmZyh5KX0pfHxhLGwoKX0pXSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci51bnN1YnNjcmliZShlLHQpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCl7dGhpcy5wcm92aWRlci5kaXNjb25uZWN0JiYodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9ufHx0aGlzLmNvbm5lY3RlZCk/YXdhaXQgSCh0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKSwyZTMsXCJwcm92aWRlci5kaXNjb25uZWN0KClcIikuY2F0Y2goKCk9PnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSk6dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydENsb3NlKCl7dGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydE9wZW4oZSl7aWYoIXRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3Mpe3RoaXMubG9nZ2VyLmluZm8oXCJTdGFydGluZyBXUyBjb25uZWN0aW9uIHNraXBwZWQgYmVjYXVzZSB0aGUgY2xpZW50IGhhcyBubyB0b3BpY3MgdG8gd29yayB3aXRoLlwiKTtyZXR1cm59aWYodGhpcy5jb25uZWN0UHJvbWlzZT8odGhpcy5sb2dnZXIuZGVidWcoe30sXCJXYWl0aW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgdG8gcmVzb2x2ZS4uLlwiKSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiRXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHJlc29sdmVkXCIpKToodGhpcy5jb25uZWN0UHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyh0LGkpPT57YXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2goaSkuZmluYWxseSgoKT0+e3RoaXMuY29ubmVjdFByb21pc2U9dm9pZCAwfSl9KSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlKSwhdGhpcy5jb25uZWN0ZWQpdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBlc3RhYmxpc2ggc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHJlbGF5IHNlcnZlcjogJHt0aGlzLnJlbGF5VXJsfWApfWFzeW5jIHJlc3RhcnRUcmFuc3BvcnQoZSl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwhdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MmJih0aGlzLnJlbGF5VXJsPWV8fHRoaXMucmVsYXlVcmwsYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpKX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7aWYoIWF3YWl0IHV0KCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBkZXRlY3RlZC4gUGxlYXNlIHJlc3RhcnQgeW91ciBuZXR3b3JrIGFuZCB0cnkgYWdhaW4uXCIpfWFzeW5jIGhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyhlKXtpZihlPy5sZW5ndGg9PT0wKXt0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtyZXR1cm59Y29uc3QgdD1lLnNvcnQoKGkscyk9PmkucHVibGlzaGVkQXQtcy5wdWJsaXNoZWRBdCk7dGhpcy5sb2dnZXIuZGVidWcoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHNvcnRlZGApO2Zvcihjb25zdCBpIG9mIHQpdHJ5e2F3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoaSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBiYXRjaCBtZXNzYWdlIGV2ZW50OiBcIitzPy5tZXNzYWdlKX10aGlzLmxvZ2dlci50cmFjZShgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgcHJvY2Vzc2VkYCl9YXN5bmMgb25MaW5rTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aX09ZTtpZighdC5zZXNzaW9uRXhpc3RzKXtjb25zdCBzPXBlKGxlKSxuPXt0b3BpYzppLGV4cGlyeTpzLHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxhY3RpdmU6ITF9O2F3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChpLG4pfXRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCl9YXN5bmMgY29ubmVjdChlKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxlJiZlIT09dGhpcy5yZWxheVVybCYmKHRoaXMucmVsYXlVcmw9ZSxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITAsdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExO2xldCB0PTE7Zm9yKDt0PDY7KXt0cnl7aWYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkKWJyZWFrO3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0aW5nIHRvICR7dGhpcy5yZWxheVVybH0sIGF0dGVtcHQ6ICR7dH0uLi5gKSxhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMoaSxzKT0+e2NvbnN0IG49KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIGNvbm5lY3RcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTS5kaXNjb25uZWN0LG4pLGF3YWl0IEgobmV3IFByb21pc2UoKG8sYSk9Pnt0aGlzLnByb3ZpZGVyLmNvbm5lY3QoKS50aGVuKG8pLmNhdGNoKGEpfSksdGhpcy5jb25uZWN0VGltZW91dCxgU29ja2V0IHN0YWxsZWQgd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byAke3RoaXMucmVsYXlVcmx9YCkuY2F0Y2gobz0+e3Mobyl9KS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LG4pLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpfSksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMobyxhKT0+e2NvbnN0IGM9KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShNLmRpc2Nvbm5lY3QsYyksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChhKS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LGMpfSl9KSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITEsaSgpfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKTtjb25zdCBzPWk7dGhpcy5sb2dnZXIud2Fybih7fSxzLm1lc3NhZ2UpLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMH1maW5hbGx5e3RoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExfWlmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGVkIHRvICR7dGhpcy5yZWxheVVybH0gc3VjY2Vzc2Z1bGx5IG9uIGF0dGVtcHQ6ICR7dH1gKTticmVha31hd2FpdCBuZXcgUHJvbWlzZShpPT5zZXRUaW1lb3V0KGksJCh0KjEpKSksdCsrfX1zdGFydFBpbmdUaW1lb3V0KCl7dmFyIGUsdCxpLHMsbjtpZihkdCgpKXRyeXsodD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKSE9bnVsbCYmdC5zb2NrZXQmJigobj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsfHxuLm9uKFwicGluZ1wiLCgpPT57dGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX1hc3luYyBjcmVhdGVQcm92aWRlcigpe3RoaXMucHJvdmlkZXIuY29ubmVjdGlvbiYmdGhpcy51bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2lnbkpXVCh0aGlzLnJlbGF5VXJsKTt0aGlzLnByb3ZpZGVyPW5ldyBxcyhuZXcgSHMoU3Moe3Nka1ZlcnNpb246UGUscHJvdG9jb2w6dGhpcy5wcm90b2NvbCx2ZXJzaW9uOnRoaXMudmVyc2lvbixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZCxhdXRoOmUsdXNlT25DbG9zZUV2ZW50OiEwLGJ1bmRsZUlkOnRoaXMuYnVuZGxlSWQscGFja2FnZU5hbWU6dGhpcy5wYWNrYWdlTmFtZX0pKSksdGhpcy5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl9YXN5bmMgcmVjb3JkTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aSxtZXNzYWdlOnN9PWU7YXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQoaSxzLHQpfWFzeW5jIHNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aX09ZTtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwhMDtpZighYXdhaXQgdGhpcy5zdWJzY3JpYmVyLmlzS25vd25Ub3BpYyh0KSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgbWVzc2FnZSBmb3IgdW5rbm93biB0b3BpYyAke3R9YCksITA7Y29uc3Qgcz10aGlzLm1lc3NhZ2VzLmhhcyh0LGkpO3JldHVybiBzJiZ0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBkdXBsaWNhdGUgbWVzc2FnZTogJHtpfWApLHN9YXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJJbmNvbWluZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcImluY29taW5nXCIscGF5bG9hZDplfSksZnQoZSkpe2lmKCFlLm1ldGhvZC5lbmRzV2l0aChMdCkpcmV0dXJuO2NvbnN0IHQ9ZS5wYXJhbXMse3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sYXR0ZXN0YXRpb246b309dC5kYXRhLGE9e3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sdHJhbnNwb3J0VHlwZTplZS5yZWxheSxhdHRlc3RhdGlvbjpvfTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtaXR0aW5nIFJlbGF5ZXIgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZShSaSh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dC5pZH0sYSkpLHRoaXMuZXZlbnRzLmVtaXQodC5pZCxhKSxhd2FpdCB0aGlzLmFja25vd2xlZGdlUGF5bG9hZChlKSxhd2FpdCB0aGlzLm9uTWVzc2FnZUV2ZW50KGEpfWVsc2UgRHQoZSkmJnRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlX2FjayxlKX1hc3luYyBvbk1lc3NhZ2VFdmVudChlKXthd2FpdCB0aGlzLnNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXx8KGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCksdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSkpfWFzeW5jIGFja25vd2xlZGdlUGF5bG9hZChlKXtjb25zdCB0PXZ0KGUuaWQsITApO2F3YWl0IHRoaXMucHJvdmlkZXIuY29ubmVjdGlvbi5zZW5kKHQpfXVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpe3RoaXMucHJvdmlkZXIub2ZmKE0ucGF5bG9hZCx0aGlzLm9uUGF5bG9hZEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZXJyb3IsdGhpcy5vblByb3ZpZGVyRXJyb3JIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCl9YXN5bmMgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2xldCBlPWF3YWl0IHV0KCk7T3MoYXN5bmMgdD0+e2UhPT10JiYoZT10LHQ/YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goaT0+dGhpcy5sb2dnZXIuZXJyb3IoaSxpPy5tZXNzYWdlKSk6KHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMCxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITEpKX0pLHRoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e2lmKCF0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQmJiF0aGlzLmNvbm5lY3RlZCYmUnMoKSl0cnl7YXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIud2Fybih0LHQ/Lm1lc3NhZ2UpfX0pfWFzeW5jIG9uUHJvdmlkZXJEaXNjb25uZWN0KCl7Y2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLHRoaXMuZXZlbnRzLmVtaXQoQy5kaXNjb25uZWN0KSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMSwhdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzJiYodGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSEwLGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCksdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyYmKHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZHx8KHRoaXMucmVjb25uZWN0VGltZW91dD1zZXRUaW1lb3V0KGFzeW5jKCk9Pnthd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci5lcnJvcihlLGU/Lm1lc3NhZ2UpKSx0aGlzLnJlY29ubmVjdFRpbWVvdXQ9dm9pZCAwLHRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcz0hMX0sJChrdCkpKSkpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHRvRXN0YWJsaXNoQ29ubmVjdGlvbigpe2lmKGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLCF0aGlzLmNvbm5lY3RlZCl7aWYodGhpcy5jb25uZWN0UHJvbWlzZSl7YXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZTtyZXR1cm59YXdhaXQgdGhpcy5jb25uZWN0KCl9fX1mdW5jdGlvbiBhbyhyLGUpe3JldHVybiByPT09ZXx8TnVtYmVyLmlzTmFOKHIpJiZOdW1iZXIuaXNOYU4oZSl9ZnVuY3Rpb24geGkocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocikuZmlsdGVyKGU9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLGUpKX1mdW5jdGlvbiBOaShyKXtyZXR1cm4gcj09bnVsbD9yPT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpfWNvbnN0IGNvPVwiW29iamVjdCBSZWdFeHBdXCIsaG89XCJbb2JqZWN0IFN0cmluZ11cIixsbz1cIltvYmplY3QgTnVtYmVyXVwiLHVvPVwiW29iamVjdCBCb29sZWFuXVwiLCRpPVwiW29iamVjdCBBcmd1bWVudHNdXCIscG89XCJbb2JqZWN0IFN5bWJvbF1cIixnbz1cIltvYmplY3QgRGF0ZV1cIix5bz1cIltvYmplY3QgTWFwXVwiLGJvPVwiW29iamVjdCBTZXRdXCIsbW89XCJbb2JqZWN0IEFycmF5XVwiLGZvPVwiW29iamVjdCBGdW5jdGlvbl1cIixEbz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsWmU9XCJbb2JqZWN0IE9iamVjdF1cIix2bz1cIltvYmplY3QgRXJyb3JdXCIsX289XCJbb2JqZWN0IERhdGFWaWV3XVwiLHdvPVwiW29iamVjdCBVaW50OEFycmF5XVwiLEVvPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixJbz1cIltvYmplY3QgVWludDE2QXJyYXldXCIsVG89XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLENvPVwiW29iamVjdCBCaWdVaW50NjRBcnJheV1cIixQbz1cIltvYmplY3QgSW50OEFycmF5XVwiLFNvPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLE9vPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFJvPVwiW29iamVjdCBCaWdJbnQ2NEFycmF5XVwiLEFvPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIseG89XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiBObygpe31mdW5jdGlvbiB6aShyKXtpZighcnx8dHlwZW9mIHIhPVwib2JqZWN0XCIpcmV0dXJuITE7Y29uc3QgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7cmV0dXJuIGU9PT1udWxsfHxlPT09T2JqZWN0LnByb3RvdHlwZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bnVsbD9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocik9PT1cIltvYmplY3QgT2JqZWN0XVwiOiExfWZ1bmN0aW9uICRvKHIsZSx0KXtyZXR1cm4gRGUocixlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0KX1mdW5jdGlvbiBEZShyLGUsdCxpLHMsbixvKXtjb25zdCBhPW8ocixlLHQsaSxzLG4pO2lmKGEhPT12b2lkIDApcmV0dXJuIGE7aWYodHlwZW9mIHI9PXR5cGVvZiBlKXN3aXRjaCh0eXBlb2Ygcil7Y2FzZVwiYmlnaW50XCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwiYm9vbGVhblwiOmNhc2VcInN5bWJvbFwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiByPT09ZTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcj09PWV8fE9iamVjdC5pcyhyLGUpO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm9iamVjdFwiOnJldHVybiB2ZShyLGUsbixvKX1yZXR1cm4gdmUocixlLG4sbyl9ZnVuY3Rpb24gdmUocixlLHQsaSl7aWYoT2JqZWN0LmlzKHIsZSkpcmV0dXJuITA7bGV0IHM9Tmkociksbj1OaShlKTtpZihzPT09JGkmJihzPVplKSxuPT09JGkmJihuPVplKSxzIT09bilyZXR1cm4hMTtzd2l0Y2gocyl7Y2FzZSBobzpyZXR1cm4gci50b1N0cmluZygpPT09ZS50b1N0cmluZygpO2Nhc2UgbG86e2NvbnN0IGM9ci52YWx1ZU9mKCksaD1lLnZhbHVlT2YoKTtyZXR1cm4gYW8oYyxoKX1jYXNlIHVvOmNhc2UgZ286Y2FzZSBwbzpyZXR1cm4gT2JqZWN0LmlzKHIudmFsdWVPZigpLGUudmFsdWVPZigpKTtjYXNlIGNvOnJldHVybiByLnNvdXJjZT09PWUuc291cmNlJiZyLmZsYWdzPT09ZS5mbGFncztjYXNlIGZvOnJldHVybiByPT09ZX10PXQ/P25ldyBNYXA7Y29uc3Qgbz10LmdldChyKSxhPXQuZ2V0KGUpO2lmKG8hPW51bGwmJmEhPW51bGwpcmV0dXJuIG89PT1lO3Quc2V0KHIsZSksdC5zZXQoZSxyKTt0cnl7c3dpdGNoKHMpe2Nhc2UgeW86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtmb3IoY29uc3RbYyxoXW9mIHIuZW50cmllcygpKWlmKCFlLmhhcyhjKXx8IURlKGgsZS5nZXQoYyksYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIGJvOntpZihyLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Y29uc3QgYz1BcnJheS5mcm9tKHIudmFsdWVzKCkpLGg9QXJyYXkuZnJvbShlLnZhbHVlcygpKTtmb3IobGV0IGw9MDtsPGMubGVuZ3RoO2wrKyl7Y29uc3QgZz1jW2xdLHk9aC5maW5kSW5kZXgoXz0+RGUoZyxfLHZvaWQgMCxyLGUsdCxpKSk7aWYoeT09PS0xKXJldHVybiExO2guc3BsaWNlKHksMSl9cmV0dXJuITB9Y2FzZSBtbzpjYXNlIHdvOmNhc2UgRW86Y2FzZSBJbzpjYXNlIFRvOmNhc2UgQ286Y2FzZSBQbzpjYXNlIFNvOmNhc2UgT286Y2FzZSBSbzpjYXNlIEFvOmNhc2UgeG86e2lmKHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihyKSE9PUJ1ZmZlci5pc0J1ZmZlcihlKXx8ci5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGM9MDtjPHIubGVuZ3RoO2MrKylpZighRGUocltjXSxlW2NdLGMscixlLHQsaSkpcmV0dXJuITE7cmV0dXJuITB9Y2FzZSBEbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RoPyExOnZlKG5ldyBVaW50OEFycmF5KHIpLG5ldyBVaW50OEFycmF5KGUpLHQsaSk7Y2FzZSBfbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RofHxyLmJ5dGVPZmZzZXQhPT1lLmJ5dGVPZmZzZXQ/ITE6dmUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIHZvOnJldHVybiByLm5hbWU9PT1lLm5hbWUmJnIubWVzc2FnZT09PWUubWVzc2FnZTtjYXNlIFplOntpZighKHZlKHIuY29uc3RydWN0b3IsZS5jb25zdHJ1Y3Rvcix0LGkpfHx6aShyKSYmemkoZSkpKXJldHVybiExO2NvbnN0IGg9Wy4uLk9iamVjdC5rZXlzKHIpLC4uLnhpKHIpXSxsPVsuLi5PYmplY3Qua2V5cyhlKSwuLi54aShlKV07aWYoaC5sZW5ndGghPT1sLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGc9MDtnPGgubGVuZ3RoO2crKyl7Y29uc3QgeT1oW2ddLF89clt5XTtpZighT2JqZWN0Lmhhc093bihlLHkpKXJldHVybiExO2NvbnN0IHU9ZVt5XTtpZighRGUoXyx1LHkscixlLHQsaSkpcmV0dXJuITF9cmV0dXJuITB9ZGVmYXVsdDpyZXR1cm4hMX19ZmluYWxseXt0LmRlbGV0ZShyKSx0LmRlbGV0ZShlKX19ZnVuY3Rpb24gem8ocixlKXtyZXR1cm4gJG8ocixlLE5vKX12YXIgTG89T2JqZWN0LmRlZmluZVByb3BlcnR5LExpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsa289T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxqbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFFlPShyLGUsdCk9PmUgaW4gcj9MbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsa2k9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKWtvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO2lmKExpKWZvcih2YXIgdCBvZiBMaShlKSlqby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtyZXR1cm4gcn0sVT0ocixlLHQpPT5RZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIGppIGV4dGVuZHMgcnN7Y29uc3RydWN0b3IoZSx0LGkscz1XLG49dm9pZCAwKXtzdXBlcihlLHQsaSxzKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMubmFtZT1pLFUodGhpcyxcIm1hcFwiLG5ldyBNYXApLFUodGhpcyxcInZlcnNpb25cIixqdCksVSh0aGlzLFwiY2FjaGVkXCIsW10pLFUodGhpcyxcImluaXRpYWxpemVkXCIsITEpLFUodGhpcyxcImdldEtleVwiKSxVKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksVSh0aGlzLFwicmVjZW50bHlEZWxldGVkXCIsW10pLFUodGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSxVKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2gobz0+e3RoaXMuZ2V0S2V5JiZvIT09bnVsbCYmIXVlKG8pP3RoaXMubWFwLnNldCh0aGlzLmdldEtleShvKSxvKTpBcyhvKT90aGlzLm1hcC5zZXQoby5pZCxvKTp4cyhvKSYmdGhpcy5tYXAuc2V0KG8udG9waWMsbyl9KSx0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFUodGhpcyxcInNldFwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1hcC5oYXMobyk/YXdhaXQgdGhpcy51cGRhdGUobyxhKToodGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsa2V5Om8sdmFsdWU6YX0pLHRoaXMubWFwLnNldChvLGEpLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLFUodGhpcyxcImdldFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIixrZXk6b30pLHRoaXMuZ2V0RGF0YShvKSkpLFUodGhpcyxcImdldEFsbFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSxvP3RoaXMudmFsdWVzLmZpbHRlcihhPT5PYmplY3Qua2V5cyhvKS5ldmVyeShjPT56byhhW2NdLG9bY10pKSk6dGhpcy52YWx1ZXMpKSxVKHRoaXMsXCJ1cGRhdGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLGtleTpvLHVwZGF0ZTphfSk7Y29uc3QgYz1raShraSh7fSx0aGlzLmdldERhdGEobykpLGEpO3RoaXMubWFwLnNldChvLGMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksVSh0aGlzLFwiZGVsZXRlXCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixrZXk6byxyZWFzb246YX0pLHRoaXMubWFwLmRlbGV0ZShvKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8pLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpLHRoaXMuc3RvcmFnZVByZWZpeD1zLHRoaXMuZ2V0S2V5PW59Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5tYXAuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLnZhbHVlcygpKX1hZGRUb1JlY2VudGx5RGVsZXRlZChlKXt0aGlzLnJlY2VudGx5RGVsZXRlZC5wdXNoKGUpLHRoaXMucmVjZW50bHlEZWxldGVkLmxlbmd0aD49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCYmdGhpcy5yZWNlbnRseURlbGV0ZWQuc3BsaWNlKDAsdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yKX1hc3luYyBzZXREYXRhU3RvcmUoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RGF0YVN0b3JlKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXREYXRhKGUpe2NvbnN0IHQ9dGhpcy5tYXAuZ2V0KGUpO2lmKCF0KXtpZih0aGlzLnJlY2VudGx5RGVsZXRlZC5pbmNsdWRlcyhlKSl7Y29uc3R7bWVzc2FnZTpzfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMpLG5ldyBFcnJvcihzKX1jb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaSksbmV3IEVycm9yKGkpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldERhdGFTdG9yZSh0aGlzLnZhbHVlcyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RGF0YVN0b3JlKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5tYXAuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIix2YWx1ZTp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEZvPShyLGUsdCk9PmUgaW4gcj9VbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsZD0ocixlLHQpPT5GbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFVpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxkKHRoaXMsXCJuYW1lXCIsS3QpLGQodGhpcyxcInZlcnNpb25cIixCdCksZCh0aGlzLFwiZXZlbnRzXCIsbmV3IFlpKSxkKHRoaXMsXCJwYWlyaW5nc1wiKSxkKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxkKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksZCh0aGlzLFwiaWdub3JlZFBheWxvYWRUeXBlc1wiLFskc10pLGQodGhpcyxcInJlZ2lzdGVyZWRNZXRob2RzXCIsW10pLGQodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMucGFpcmluZ3MuaW5pdCgpLGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIikpfSksZCh0aGlzLFwicmVnaXN0ZXJcIiwoe21ldGhvZHM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWdpc3RlcmVkTWV0aG9kcz1bLi4ubmV3IFNldChbLi4udGhpcy5yZWdpc3RlcmVkTWV0aG9kcywuLi5pXSldfSksZCh0aGlzLFwiY3JlYXRlXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9emUoKSxuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KHMpLG89cGUobGUpLGE9e3Byb3RvY29sOk50fSxjPXt0b3BpYzpuLGV4cGlyeTpvLHJlbGF5OmEsYWN0aXZlOiExLG1ldGhvZHM6aT8ubWV0aG9kc30saD1wdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6bixzeW1LZXk6cyxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6aT8ubWV0aG9kc30pO3JldHVybiB0aGlzLmV2ZW50cy5lbWl0KGFlLmNyZWF0ZSxjKSx0aGlzLmNvcmUuZXhwaXJlci5zZXQobixvKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGMpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHt0cmFuc3BvcnRUeXBlOmk/LnRyYW5zcG9ydFR5cGUsaW50ZXJuYWw6aT8uaW50ZXJuYWx9KSx7dG9waWM6bix1cmk6aH19KSxkKHRoaXMsXCJwYWlyXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dGhpcy5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzppPy51cmksdHJhY2U6W1kucGFpcmluZ19zdGFydGVkXX19KTt0aGlzLmlzVmFsaWRQYWlyKGkscyk7Y29uc3R7dG9waWM6bixzeW1LZXk6byxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpjLG1ldGhvZHM6aH09Z3QoaS51cmkpO3MucHJvcHMucHJvcGVydGllcy50b3BpYz1uLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3MpLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV9ub3RfZXhwaXJlZCk7bGV0IGw7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXtpZihsPXRoaXMucGFpcmluZ3MuZ2V0KG4pLHMuYWRkVHJhY2UoWS5leGlzdGluZ19wYWlyaW5nKSxsLmFjdGl2ZSl0aHJvdyBzLnNldEVycm9yKFguYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHMpLG5ldyBFcnJvcihgUGFpcmluZyBhbHJlYWR5IGV4aXN0czogJHtufS4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLmApO3MuYWRkVHJhY2UoWS5wYWlyaW5nX25vdF9leHBpcmVkKX1jb25zdCBnPWN8fHBlKGxlKSx5PXt0b3BpYzpuLHJlbGF5OmEsZXhwaXJ5OmcsYWN0aXZlOiExLG1ldGhvZHM6aH07dGhpcy5jb3JlLmV4cGlyZXIuc2V0KG4sZyksYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQobix5KSxzLmFkZFRyYWNlKFkuc3RvcmVfbmV3X3BhaXJpbmcpLGkuYWN0aXZhdGVQYWlyaW5nJiZhd2FpdCB0aGlzLmFjdGl2YXRlKHt0b3BpYzpufSksdGhpcy5ldmVudHMuZW1pdChhZS5jcmVhdGUseSkscy5hZGRUcmFjZShZLmVtaXRfaW5hY3RpdmVfcGFpcmluZyksdGhpcy5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMobil8fGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KG8sbikscy5hZGRUcmFjZShZLnN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWMpO3RyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2h7cy5zZXRFcnJvcihYLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pfXRyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUobix7cmVsYXk6YX0pfWNhdGNoKF8pe3Rocm93IHMuc2V0RXJyb3IoWC5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlKSxffXJldHVybiBzLmFkZFRyYWNlKFkuc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzcykseX0pLGQodGhpcyxcImFjdGl2YXRlXCIsYXN5bmMoe3RvcGljOml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9cGUobGUpO3RoaXMuY29yZS5leHBpcmVyLnNldChpLHMpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2FjdGl2ZTohMCxleHBpcnk6c30pfSksZCh0aGlzLFwicGluZ1wiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRQaW5nKGkpLHRoaXMubG9nZ2VyLndhcm4oXCJwaW5nKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpO2NvbnN0e3RvcGljOnN9PWk7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpKXtjb25zdCBuPWF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdQaW5nXCIse30pLHtkb25lOm8scmVzb2x2ZTphLHJlamVjdDpjfT16cygpO3RoaXMuZXZlbnRzLm9uY2UoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSwoe2Vycm9yOmh9KT0+e2g/YyhoKTphKCl9KSxhd2FpdCBvKCl9fSksZCh0aGlzLFwidXBkYXRlRXhwaXJ5XCIsYXN5bmMoe3RvcGljOmksZXhwaXJ5OnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2V4cGlyeTpzfSl9KSxkKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiLGFzeW5jKHt0b3BpYzppLG1ldGFkYXRhOnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse3BlZXJNZXRhZGF0YTpzfSl9KSxkKHRoaXMsXCJnZXRQYWlyaW5nc1wiLCgpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5wYWlyaW5ncy52YWx1ZXMpKSxkKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoaSk7Y29uc3R7dG9waWM6c309aTt0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykmJihhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHMsXCJ3Y19wYWlyaW5nRGVsZXRlXCIsZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHMpKX0pLGQodGhpcyxcImZvcm1hdFVyaUZyb21QYWlyaW5nXCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3RvcGljOnMscmVsYXk6bixleHBpcnk6byxtZXRob2RzOmF9PWksYz10aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmdldChzKTtyZXR1cm4gcHQoe3Byb3RvY29sOnRoaXMuY29yZS5wcm90b2NvbCx2ZXJzaW9uOnRoaXMuY29yZS52ZXJzaW9uLHRvcGljOnMsc3ltS2V5OmMscmVsYXk6bixleHBpcnlUaW1lc3RhbXA6byxtZXRob2RzOmF9KX0pLGQodGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1fdChzLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUoaSxvKSxjPW9lW3NdLnJlcTtyZXR1cm4gdGhpcy5jb3JlLmhpc3Rvcnkuc2V0KGksbyksdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChpLGEsYyksby5pZH0pLGQodGhpcyxcInNlbmRSZXN1bHRcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPXZ0KGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPW9lW2NdLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSksZCh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1HcyhpLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUocyxvKSxjPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQocyxpKSkucmVxdWVzdC5tZXRob2QsaD1vZVtjXT9vZVtjXS5yZXM6b2UudW5yZWdpc3RlcmVkX21ldGhvZC5yZXM7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGEsaCksYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKX0pLGQodGhpcyxcImRlbGV0ZVBhaXJpbmdcIixhc3luYyhpLHMpPT57YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoaSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFpcmluZ3MuZGVsZXRlKGksZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkoaSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNvcmUuZXhwaXJlci5kZWwoaSldKX0pLGQodGhpcyxcImNsZWFudXBcIixhc3luYygpPT57Y29uc3QgaT10aGlzLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihzPT55dChzLmV4cGlyeSkpO2F3YWl0IFByb21pc2UuYWxsKGkubWFwKHM9PnRoaXMuZGVsZXRlUGFpcmluZyhzLnRvcGljKSkpfSksZCh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIGk9Pntjb25zdHt0b3BpYzpzLHBheWxvYWQ6bn09aTtzd2l0Y2gobi5tZXRob2Qpe2Nhc2VcIndjX3BhaXJpbmdQaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nUGluZ1JlcXVlc3QocyxuKTtjYXNlXCJ3Y19wYWlyaW5nRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nRGVsZXRlUmVxdWVzdChzLG4pO2RlZmF1bHQ6cmV0dXJuIGF3YWl0IHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdChzLG4pfX0pLGQodGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pLG89KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLG4uaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2gobyl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gdGhpcy5vblBhaXJpbmdQaW5nUmVzcG9uc2UocyxuKTtkZWZhdWx0OnJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlKG8pfX0pLGQodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOml9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQobixpLCEwKSx0aGlzLmV2ZW50cy5lbWl0KGFlLnBpbmcse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxkKHRoaXMsXCJvblBhaXJpbmdQaW5nUmVzcG9uc2VcIiwoaSxzKT0+e2NvbnN0e2lkOm59PXM7c2V0VGltZW91dCgoKT0+e1dzKHMpP3RoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7fSk6d3QocykmJnRoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7ZXJyb3I6cy5lcnJvcn0pfSw1MDApfSksZCh0aGlzLFwib25QYWlyaW5nRGVsZXRlUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpufT1zO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzppfSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpLHRoaXMuZXZlbnRzLmVtaXQoYWUuZGVsZXRlLHtpZDpuLHRvcGljOml9KX1jYXRjaChvKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksbyksdGhpcy5sb2dnZXIuZXJyb3Iobyl9fSksZCh0aGlzLFwib25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpuLG1ldGhvZDpvfT1zO3RyeXtpZih0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKG8pKXJldHVybjtjb25zdCBhPWRlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsbyk7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfWNhdGNoKGEpe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxhKSx0aGlzLmxvZ2dlci5lcnJvcihhKX19KSxkKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXNwb25zZVwiLGk9Pnt0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKGkpfHx0aGlzLmxvZ2dlci5lcnJvcihkZShcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLGkpKX0pLGQodGhpcyxcImlzVmFsaWRQYWlyXCIsKGkscyk9Pnt2YXIgbjtpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCFMcyhpLnVyaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgdXJpOiAke2kudXJpfWApO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1jb25zdCBvPWd0KGk/LnVyaSk7aWYoISgobj1vPy5yZWxheSkhPW51bGwmJm4ucHJvdG9jb2wpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjcmVsYXktcHJvdG9jb2xcIik7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCEobyE9bnVsbCYmby5zeW1LZXkpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjc3ltS2V5XCIpO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZihvIT1udWxsJiZvLmV4cGlyeVRpbWVzdGFtcCYmJChvPy5leHBpcnlUaW1lc3RhbXApPERhdGUubm93KCkpe3Muc2V0RXJyb3IoWC5wYWlyaW5nX2V4cGlyZWQpO2NvbnN0e21lc3NhZ2U6YX09YihcIkVYUElSRURcIixcInBhaXIoKSBVUkkgaGFzIGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIG5ldyBjb25uZWN0aW9uIFVSSS5cIik7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGQodGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgaT0+e2lmKCFrZShpKSl7Y29uc3R7bWVzc2FnZTpufT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxkKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIGk9PntpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6bn09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOnN9PWk7YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKHMpfSksZCh0aGlzLFwiaXNWYWxpZFBhaXJpbmdUb3BpY1wiLGFzeW5jIGk9PntpZigha3MoaSwhMSkpe2NvbnN0e21lc3NhZ2U6c309YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX1pZighdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGkpKXtjb25zdHttZXNzYWdlOnN9PWIoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKHl0KHRoaXMucGFpcmluZ3MuZ2V0KGkpLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhpKTtjb25zdHttZXNzYWdlOnN9PWIoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5wYWlyaW5ncz1uZXcgamkodGhpcy5jb3JlLHRoaXMubG9nZ2VyLHRoaXMubmFtZSx0aGlzLnN0b3JhZ2VQcmVmaXgpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY29yZS5yZWxheWVyLm9uKEMubWVzc2FnZSxhc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXNzYWdlOmksdHJhbnNwb3J0VHlwZTpzfT1lO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmcyE9PWVlLmxpbmtfbW9kZSYmIXRoaXMuaWdub3JlZFBheWxvYWRUeXBlcy5pbmNsdWRlcyh0aGlzLmNvcmUuY3J5cHRvLmdldFBheWxvYWRUeXBlKGkpKSl0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmRlY29kZSh0LGkpO2Z0KG4pPyh0aGlzLmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpufSkpOkR0KG4pJiYoYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bn0pLHRoaXMuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LG4uaWQpKSxhd2FpdCB0aGlzLmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxpKX1jYXRjaChuKXt0aGlzLmxvZ2dlci5lcnJvcihuKX19KX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNvcmUuZXhwaXJlci5vbihxLmV4cGlyZWQsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnR9PU5zKGUudGFyZ2V0KTt0JiZ0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcodCwhMCksdGhpcy5ldmVudHMuZW1pdChhZS5leHBpcmUse3RvcGljOnR9KSl9KX19dmFyIE1vPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLbz0ocixlLHQpPT5lIGluIHI/TW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LE49KHIsZSx0KT0+S28ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBGaSBleHRlbmRzIG5ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LE4odGhpcyxcInJlY29yZHNcIixuZXcgTWFwKSxOKHRoaXMsXCJldmVudHNcIixuZXcgaWUpLE4odGhpcyxcIm5hbWVcIixWdCksTih0aGlzLFwidmVyc2lvblwiLHF0KSxOKHRoaXMsXCJjYWNoZWRcIixbXSksTih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksTih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLE4odGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLnJlY29yZHMuc2V0KGkuaWQsaSkpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksTih0aGlzLFwic2V0XCIsKGkscyxuKT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBKU09OLVJQQyByZXF1ZXN0IGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsdG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDpufSksdGhpcy5yZWNvcmRzLmhhcyhzLmlkKSlyZXR1cm47Y29uc3Qgbz17aWQ6cy5pZCx0b3BpYzppLHJlcXVlc3Q6e21ldGhvZDpzLm1ldGhvZCxwYXJhbXM6cy5wYXJhbXN8fG51bGx9LGNoYWluSWQ6bixleHBpcnk6cGUoUmUpfTt0aGlzLnJlY29yZHMuc2V0KG8uaWQsbyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLmNyZWF0ZWQsbyl9KSxOKHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVXBkYXRpbmcgSlNPTi1SUEMgcmVzcG9uc2UgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1cGRhdGVcIixyZXNwb25zZTppfSksIXRoaXMucmVjb3Jkcy5oYXMoaS5pZCkpcmV0dXJuO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWNvcmQoaS5pZCk7dHlwZW9mIHMucmVzcG9uc2U+XCJ1XCImJihzLnJlc3BvbnNlPXd0KGkpP3tlcnJvcjppLmVycm9yfTp7cmVzdWx0OmkucmVzdWx0fSx0aGlzLnJlY29yZHMuc2V0KHMuaWQscyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLnVwZGF0ZWQscykpfSksTih0aGlzLFwiZ2V0XCIsYXN5bmMoaSxzKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIix0b3BpYzppLGlkOnN9KSxhd2FpdCB0aGlzLmdldFJlY29yZChzKSkpLE4odGhpcyxcImRlbGV0ZVwiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixpZDpzfSksdGhpcy52YWx1ZXMuZm9yRWFjaChuPT57aWYobi50b3BpYz09PWkpe2lmKHR5cGVvZiBzPFwidVwiJiZuLmlkIT09cylyZXR1cm47dGhpcy5yZWNvcmRzLmRlbGV0ZShuLmlkKSx0aGlzLmV2ZW50cy5lbWl0KFYuZGVsZXRlZCxuKX19KSx0aGlzLnBlcnNpc3QoKX0pLE4odGhpcyxcImV4aXN0c1wiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlY29yZHMuaGFzKHMpPyhhd2FpdCB0aGlzLmdldFJlY29yZChzKSkudG9waWM9PT1pOiExKSksTih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxOKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxOKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksTih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLmxvZ2dlcj1GKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5yZWNvcmRzLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLnZhbHVlcygpKX1nZXQgcGVuZGluZygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMudmFsdWVzLmZvckVhY2godD0+e2lmKHR5cGVvZiB0LnJlc3BvbnNlPFwidVwiKXJldHVybjtjb25zdCBpPXt0b3BpYzp0LnRvcGljLHJlcXVlc3Q6X3QodC5yZXF1ZXN0Lm1ldGhvZCx0LnJlcXVlc3QucGFyYW1zLHQuaWQpLGNoYWluSWQ6dC5jaGFpbklkfTtyZXR1cm4gZS5wdXNoKGkpfSksZX1hc3luYyBzZXRKc29uUnBjUmVjb3JkcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRKc29uUnBjUmVjb3Jkcygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9Z2V0UmVjb3JkKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5yZWNvcmRzLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRKc29uUnBjUmVjb3Jkcyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChWLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEpzb25ScGNSZWNvcmRzKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5yZWNvcmRzLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09YihcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixyZWNvcmRzOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMub24oVi5jcmVhdGVkLGU9Pntjb25zdCB0PVYuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKFYudXBkYXRlZCxlPT57Y29uc3QgdD1WLnVwZGF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihWLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9Vi5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e3RoaXMuY2xlYW51cCgpfSl9Y2xlYW51cCgpe3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgZT0hMTt0aGlzLnJlY29yZHMuZm9yRWFjaCh0PT57JCh0LmV4cGlyeXx8MCktRGF0ZS5ub3coKTw9MCYmKHRoaXMubG9nZ2VyLmluZm8oYERlbGV0aW5nIGV4cGlyZWQgaGlzdG9yeSBsb2c6ICR7dC5pZH1gKSx0aGlzLnJlY29yZHMuZGVsZXRlKHQuaWQpLHRoaXMuZXZlbnRzLmVtaXQoVi5kZWxldGVkLHQsITEpLGU9ITApfSksZSYmdGhpcy5wZXJzaXN0KCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBCbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVm89KHIsZSx0KT0+ZSBpbiByP0JvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx6PShyLGUsdCk9PlZvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgTWkgZXh0ZW5kcyBvc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx6KHRoaXMsXCJleHBpcmF0aW9uc1wiLG5ldyBNYXApLHoodGhpcyxcImV2ZW50c1wiLG5ldyBpZSkseih0aGlzLFwibmFtZVwiLEd0KSx6KHRoaXMsXCJ2ZXJzaW9uXCIsV3QpLHoodGhpcyxcImNhY2hlZFwiLFtdKSx6KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx6KHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVykseih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKGk9PnRoaXMuZXhwaXJhdGlvbnMuc2V0KGkudGFyZ2V0LGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLHoodGhpcyxcImhhc1wiLGk9Pnt0cnl7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdHlwZW9mIHRoaXMuZ2V0RXhwaXJhdGlvbihzKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19KSx6KHRoaXMsXCJzZXRcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5mb3JtYXRUYXJnZXQoaSksbz17dGFyZ2V0Om4sZXhwaXJ5OnN9O3RoaXMuZXhwaXJhdGlvbnMuc2V0KG4sbyksdGhpcy5jaGVja0V4cGlyeShuLG8pLHRoaXMuZXZlbnRzLmVtaXQocS5jcmVhdGVkLHt0YXJnZXQ6bixleHBpcmF0aW9uOm99KX0pLHoodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpO3JldHVybiB0aGlzLmdldEV4cGlyYXRpb24ocyl9KSx6KHRoaXMsXCJkZWxcIixpPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5oYXMoaSkpe2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSksbj10aGlzLmdldEV4cGlyYXRpb24ocyk7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUocyksdGhpcy5ldmVudHMuZW1pdChxLmRlbGV0ZWQse3RhcmdldDpzLGV4cGlyYXRpb246bn0pfX0pLHoodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSkseih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSkseih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLHoodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5leHBpcmF0aW9ucy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLnZhbHVlcygpKX1mb3JtYXRUYXJnZXQoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpcmV0dXJuIGpzKGUpO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXJldHVybiBVcyhlKTtjb25zdHttZXNzYWdlOnR9PWIoXCJVTktOT1dOX1RZUEVcIixgVGFyZ2V0IHR5cGU6ICR7dHlwZW9mIGV9YCk7dGhyb3cgbmV3IEVycm9yKHQpfWFzeW5jIHNldEV4cGlyYXRpb25zKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEV4cGlyYXRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRFeHBpcmF0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChxLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEV4cGlyYXRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5leHBpcmF0aW9ucy5zaXplKXtjb25zdHttZXNzYWdlOnR9PWIoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLGV4cGlyYXRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19Z2V0RXhwaXJhdGlvbihlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIud2FybihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9Y2hlY2tFeHBpcnkoZSx0KXtjb25zdHtleHBpcnk6aX09dDskKGkpLURhdGUubm93KCk8PTAmJnRoaXMuZXhwaXJlKGUsdCl9ZXhwaXJlKGUsdCl7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUoZSksdGhpcy5ldmVudHMuZW1pdChxLmV4cGlyZWQse3RhcmdldDplLGV4cGlyYXRpb246dH0pfWNoZWNrRXhwaXJhdGlvbnMoKXt0aGlzLmNvcmUucmVsYXllci5jb25uZWN0ZWQmJnRoaXMuZXhwaXJhdGlvbnMuZm9yRWFjaCgoZSx0KT0+dGhpcy5jaGVja0V4cGlyeSh0LGUpKX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+dGhpcy5jaGVja0V4cGlyYXRpb25zKCkpLHRoaXMuZXZlbnRzLm9uKHEuY3JlYXRlZCxlPT57Y29uc3QgdD1xLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24ocS5leHBpcmVkLGU9Pntjb25zdCB0PXEuZXhwaXJlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihxLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9cS5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgcW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEdvPShyLGUsdCk9PmUgaW4gcj9xbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUD0ocixlLHQpPT5HbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEtpIGV4dGVuZHMgYXN7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMuc3RvcmU9aSxQKHRoaXMsXCJuYW1lXCIsSHQpLFAodGhpcyxcImFib3J0Q29udHJvbGxlclwiKSxQKHRoaXMsXCJpc0RldkVudlwiKSxQKHRoaXMsXCJ2ZXJpZnlVcmxWM1wiLEp0KSxQKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksUCh0aGlzLFwidmVyc2lvblwiLEZlKSxQKHRoaXMsXCJwdWJsaWNLZXlcIiksUCh0aGlzLFwiZmV0Y2hQcm9taXNlXCIpLFAodGhpcyxcImluaXRcIixhc3luYygpPT57dmFyIHM7dGhpcy5pc0RldkVudnx8KHRoaXMucHVibGljS2V5PWF3YWl0IHRoaXMuc3RvcmUuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleSYmJCgocz10aGlzLnB1YmxpY0tleSk9PW51bGw/dm9pZCAwOnMuZXhwaXJlc0F0KTxEYXRlLm5vdygpJiYodGhpcy5sb2dnZXIuZGVidWcoXCJ2ZXJpZnkgdjIgcHVibGljIGtleSBleHBpcmVkXCIpLGF3YWl0IHRoaXMucmVtb3ZlUHVibGljS2V5KCkpKX0pLFAodGhpcyxcInJlZ2lzdGVyXCIsYXN5bmMgcz0+e2lmKCFGcygpfHx0aGlzLmlzRGV2RW52KXJldHVybjtjb25zdCBuPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4se2lkOm8sZGVjcnlwdGVkSWQ6YX09cyxjPWAke3RoaXMudmVyaWZ5VXJsVjN9L2F0dGVzdGF0aW9uP3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9Jm9yaWdpbj0ke259JmlkPSR7b30mZGVjcnlwdGVkSWQ9JHthfWA7dHJ5e2NvbnN0IGg9WXMoKSxsPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFEqNSksZz1hd2FpdCBuZXcgUHJvbWlzZSgoeSxfKT0+e2NvbnN0IHU9KCk9Pnt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixEKSxoLmJvZHkucmVtb3ZlQ2hpbGQobSksXyhcImF0dGVzdGF0aW9uIGFib3J0ZWRcIil9O3RoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIix1KTtjb25zdCBtPWguY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTttLnNyYz1jLG0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixtLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHUse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtjb25zdCBEPXc9PntpZih3LmRhdGEmJnR5cGVvZiB3LmRhdGE9PVwic3RyaW5nXCIpdHJ5e2NvbnN0IEU9SlNPTi5wYXJzZSh3LmRhdGEpO2lmKEUudHlwZT09PVwidmVyaWZ5X2F0dGVzdGF0aW9uXCIpe2lmKG50KEUuYXR0ZXN0YXRpb24pLnBheWxvYWQuaWQhPT1vKXJldHVybjtjbGVhckludGVydmFsKGwpLGguYm9keS5yZW1vdmVDaGlsZChtKSx0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsRCkseShFLmF0dGVzdGF0aW9uPT09bnVsbD9cIlwiOkUuYXR0ZXN0YXRpb24pfX1jYXRjaChFKXt0aGlzLmxvZ2dlci53YXJuKEUpfX07aC5ib2R5LmFwcGVuZENoaWxkKG0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLEQse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KX0pO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhnLFwiand0IGF0dGVzdGF0aW9uXCIpLGd9Y2F0Y2goaCl7dGhpcy5sb2dnZXIud2FybihoKX1yZXR1cm5cIlwifSksUCh0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIHM9PntpZih0aGlzLmlzRGV2RW52KXJldHVyblwiXCI7Y29uc3R7YXR0ZXN0YXRpb25JZDpuLGhhc2g6byxlbmNyeXB0ZWRJZDphfT1zO2lmKG49PT1cIlwiKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlc29sdmU6IGF0dGVzdGF0aW9uSWQgaXMgZW1wdHksIHNraXBwaW5nXCIpO3JldHVybn1pZihuKXtpZihudChuKS5wYXlsb2FkLmlkIT09YSlyZXR1cm47Y29uc3QgaD1hd2FpdCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbihuKTtpZihoKXtpZighaC5pc1ZlcmlmaWVkKXt0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uOiBvcmlnaW4gdXJsIG5vdCB2ZXJpZmllZFwiKTtyZXR1cm59cmV0dXJuIGh9fWlmKCFvKXJldHVybjtjb25zdCBjPXRoaXMuZ2V0VmVyaWZ5VXJsKHM/LnZlcmlmeVVybCk7cmV0dXJuIHRoaXMuZmV0Y2hBdHRlc3RhdGlvbihvLGMpfSksUCh0aGlzLFwiZmV0Y2hBdHRlc3RhdGlvblwiLGFzeW5jKHMsbik9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhgcmVzb2x2aW5nIGF0dGVzdGF0aW9uOiAke3N9IGZyb20gdXJsOiAke259YCk7Y29uc3Qgbz10aGlzLnN0YXJ0QWJvcnRUaW1lcihRKjUpLGE9YXdhaXQgZmV0Y2goYCR7bn0vYXR0ZXN0YXRpb24vJHtzfT92MlN1cHBvcnRlZD10cnVlYCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQobyksYS5zdGF0dXM9PT0yMDA/YXdhaXQgYS5qc29uKCk6dm9pZCAwfSksUCh0aGlzLFwiZ2V0VmVyaWZ5VXJsXCIscz0+e2xldCBuPXN8fGJlO3JldHVybiBYdC5pbmNsdWRlcyhuKXx8KHRoaXMubG9nZ2VyLmluZm8oYHZlcmlmeSB1cmw6ICR7bn0sIG5vdCBpbmNsdWRlZCBpbiB0cnVzdGVkIGxpc3QsIGFzc2lnbmluZyBkZWZhdWx0OiAke2JlfWApLG49YmUpLG59KSxQKHRoaXMsXCJmZXRjaFB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0cnl7dGhpcy5sb2dnZXIuZGVidWcoYGZldGNoaW5nIHB1YmxpYyBrZXkgZnJvbTogJHt0aGlzLnZlcmlmeVVybFYzfWApO2NvbnN0IHM9dGhpcy5zdGFydEFib3J0VGltZXIoQWUpLG49YXdhaXQgZmV0Y2goYCR7dGhpcy52ZXJpZnlVcmxWM30vcHVibGljLWtleWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KHMpLGF3YWl0IG4uanNvbigpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksUCh0aGlzLFwicGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jIHM9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhzLFwicGVyc2lzdGluZyBwdWJsaWMga2V5IHRvIGxvY2FsIHN0b3JhZ2VcIiksYXdhaXQgdGhpcy5zdG9yZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXkscyksdGhpcy5wdWJsaWNLZXk9c30pLFAodGhpcyxcInJlbW92ZVB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW92aW5nIHZlcmlmeSB2MiBwdWJsaWMga2V5IGZyb20gc3RvcmFnZVwiKSxhd2FpdCB0aGlzLnN0b3JlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXk9dm9pZCAwfSksUCh0aGlzLFwiaXNWYWxpZEp3dEF0dGVzdGF0aW9uXCIsYXN5bmMgcz0+e2NvbnN0IG49YXdhaXQgdGhpcy5nZXRQdWJsaWNLZXkoKTt0cnl7aWYobilyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbil9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpO3RyeXtpZihvKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24ocyxvKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX19KSxQKHRoaXMsXCJnZXRQdWJsaWNLZXlcIixhc3luYygpPT50aGlzLnB1YmxpY0tleT90aGlzLnB1YmxpY0tleTphd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpKSxQKHRoaXMsXCJmZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXlcIixhc3luYygpPT57aWYodGhpcy5mZXRjaFByb21pc2UpcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlLHRoaXMucHVibGljS2V5O3RoaXMuZmV0Y2hQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jIG49Pntjb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hQdWJsaWNLZXkoKTtvJiYoYXdhaXQgdGhpcy5wZXJzaXN0UHVibGljS2V5KG8pLG4obykpfSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmZldGNoUHJvbWlzZTtyZXR1cm4gdGhpcy5mZXRjaFByb21pc2U9dm9pZCAwLHN9KSxQKHRoaXMsXCJ2YWxpZGF0ZUF0dGVzdGF0aW9uXCIsKHMsbik9Pntjb25zdCBvPU1zKHMsbi5wdWJsaWNLZXkpLGE9e2hhc0V4cGlyZWQ6JChvLmV4cCk8RGF0ZS5ub3coKSxwYXlsb2FkOm99O2lmKGEuaGFzRXhwaXJlZCl0aHJvdyB0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uIGV4cGlyZWRcIiksbmV3IEVycm9yKFwiSldUIGF0dGVzdGF0aW9uIGV4cGlyZWRcIik7cmV0dXJue29yaWdpbjphLnBheWxvYWQub3JpZ2luLGlzU2NhbTphLnBheWxvYWQuaXNTY2FtLGlzVmVyaWZpZWQ6YS5wYXlsb2FkLmlzVmVyaWZpZWR9fSksdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLmlzRGV2RW52PWJ0KCksdGhpcy5pbml0KCl9Z2V0IHN0b3JlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL3ZlcmlmeTpwdWJsaWM6a2V5XCJ9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9c3RhcnRBYm9ydFRpbWVyKGUpe3JldHVybiB0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHNldFRpbWVvdXQoKCk9PnRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCksJChlKSl9fXZhciBXbz1PYmplY3QuZGVmaW5lUHJvcGVydHksSG89KHIsZSx0KT0+ZSBpbiByP1dvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxCaT0ocixlLHQpPT5IbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFZpIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucHJvamVjdElkPWUsdGhpcy5sb2dnZXI9dCxCaSh0aGlzLFwiY29udGV4dFwiLFp0KSxCaSh0aGlzLFwicmVnaXN0ZXJEZXZpY2VUb2tlblwiLGFzeW5jIGk9Pntjb25zdHtjbGllbnRJZDpzLHRva2VuOm4sbm90aWZpY2F0aW9uVHlwZTpvLGVuYWJsZUVuY3J5cHRlZDphPSExfT1pLGM9YCR7UXR9LyR7dGhpcy5wcm9qZWN0SWR9L2NsaWVudHNgO2F3YWl0IGZldGNoKGMse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtjbGllbnRfaWQ6cyx0eXBlOm8sdG9rZW46bixhbHdheXNfcmF3OmF9KX0pfSksdGhpcy5sb2dnZXI9Rih0LHRoaXMuY29udGV4dCl9fXZhciBZbz1PYmplY3QuZGVmaW5lUHJvcGVydHkscWk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxKbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFhvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZXQ9KHIsZSx0KT0+ZSBpbiByP1lvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxfZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpSm8uY2FsbChlLHQpJiZldChyLHQsZVt0XSk7aWYocWkpZm9yKHZhciB0IG9mIHFpKGUpKVhvLmNhbGwoZSx0KSYmZXQocix0LGVbdF0pO3JldHVybiByfSxBPShyLGUsdCk9PmV0KHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgR2kgZXh0ZW5kcyBoc3tjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0LGkpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsQSh0aGlzLFwiY29udGV4dFwiLHRpKSxBKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksQSh0aGlzLFwic3RvcmFnZVZlcnNpb25cIixlaSksQSh0aGlzLFwiZXZlbnRzXCIsbmV3IE1hcCksQSh0aGlzLFwic2hvdWxkUGVyc2lzdFwiLCExKSxBKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCFidCgpKXRyeXtjb25zdCBzPXtldmVudElkOm10KCksdGltZXN0YW1wOkRhdGUubm93KCksZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCkscHJvcHM6e2V2ZW50OlwiSU5JVFwiLHR5cGU6XCJcIixwcm9wZXJ0aWVzOntjbGllbnRfaWQ6YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLHVzZXJfYWdlbnQ6S3ModGhpcy5jb3JlLnJlbGF5ZXIucHJvdG9jb2wsdGhpcy5jb3JlLnJlbGF5ZXIudmVyc2lvbixQZSl9fX07YXdhaXQgdGhpcy5zZW5kRXZlbnQoW3NdKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEEodGhpcyxcImNyZWF0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50Om49XCJFUlJPUlwiLHR5cGU6bz1cIlwiLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319PXMsaD1tdCgpLGw9dGhpcy5jb3JlLnByb2plY3RJZHx8XCJcIixnPURhdGUubm93KCkseT1fZSh7ZXZlbnRJZDpoLHRpbWVzdGFtcDpnLHByb3BzOntldmVudDpuLHR5cGU6byxwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fSxidW5kbGVJZDpsLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpfSx0aGlzLnNldE1ldGhvZHMoaCkpO3JldHVybiB0aGlzLnRlbGVtZXRyeUVuYWJsZWQmJih0aGlzLmV2ZW50cy5zZXQoaCx5KSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApLHl9KSxBKHRoaXMsXCJnZXRFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm4sdG9waWM6b309cztpZihuKXJldHVybiB0aGlzLmV2ZW50cy5nZXQobik7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKS5maW5kKGM9PmMucHJvcHMucHJvcGVydGllcy50b3BpYz09PW8pO2lmKGEpcmV0dXJuIF9lKF9lKHt9LGEpLHRoaXMuc2V0TWV0aG9kcyhhLmV2ZW50SWQpKX0pLEEodGhpcyxcImRlbGV0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50SWQ6bn09czt0aGlzLmV2ZW50cy5kZWxldGUobiksdGhpcy5zaG91bGRQZXJzaXN0PSEwfSksQSh0aGlzLFwic2V0RXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e3RoaXMuc2hvdWxkUGVyc2lzdCYmYXdhaXQgdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZm9yRWFjaChzPT57c3QoRGF0ZS5ub3coKSktc3Qocy50aW1lc3RhbXApPmlpJiYodGhpcy5ldmVudHMuZGVsZXRlKHMuZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pfSl9KSxBKHRoaXMsXCJzZXRNZXRob2RzXCIscz0+KHthZGRUcmFjZTpuPT50aGlzLmFkZFRyYWNlKHMsbiksc2V0RXJyb3I6bj0+dGhpcy5zZXRFcnJvcihzLG4pfSkpLEEodGhpcyxcImFkZFRyYWNlXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy5wcm9wZXJ0aWVzLnRyYWNlLnB1c2gobiksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLEEodGhpcyxcInNldEVycm9yXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy50eXBlPW4sby50aW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmV2ZW50cy5zZXQocyxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksQSh0aGlzLFwicGVyc2lzdFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxBcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKSksdGhpcy5zaG91bGRQZXJzaXN0PSExfSksQSh0aGlzLFwicmVzdG9yZVwiLGFzeW5jKCk9Pnt0cnl7Y29uc3Qgcz1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl8fFtdO2lmKCFzLmxlbmd0aClyZXR1cm47cy5mb3JFYWNoKG49Pnt0aGlzLmV2ZW50cy5zZXQobi5ldmVudElkLF9lKF9lKHt9LG4pLHRoaXMuc2V0TWV0aG9kcyhuLmV2ZW50SWQpKSl9KX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEEodGhpcyxcInN1Ym1pdFwiLGFzeW5jKCk9PntpZighdGhpcy50ZWxlbWV0cnlFbmFibGVkfHx0aGlzLmV2ZW50cy5zaXplPT09MClyZXR1cm47Y29uc3Qgcz1bXTtmb3IoY29uc3RbbixvXW9mIHRoaXMuZXZlbnRzKW8ucHJvcHMudHlwZSYmcy5wdXNoKG8pO2lmKHMubGVuZ3RoIT09MCl0cnl7aWYoKGF3YWl0IHRoaXMuc2VuZEV2ZW50KHMpKS5vaylmb3IoY29uc3QgbiBvZiBzKXRoaXMuZXZlbnRzLmRlbGV0ZShuLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4pfX0pLEEodGhpcyxcInNlbmRFdmVudFwiLGFzeW5jIHM9Pntjb25zdCBuPXRoaXMuZ2V0QXBwRG9tYWluKCk/XCJcIjpcIiZzcD1kZXNrdG9wXCI7cmV0dXJuIGF3YWl0IGZldGNoKGAke3NpfT9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZzdD1ldmVudHNfc2RrJnN2PWpzLSR7UGV9JHtufWAse21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHMpfSl9KSxBKHRoaXMsXCJnZXRBcHBEb21haW5cIiwoKT0+QnMoKS51cmwpLHRoaXMubG9nZ2VyPUYodCx0aGlzLmNvbnRleHQpLHRoaXMudGVsZW1ldHJ5RW5hYmxlZD1pLGk/dGhpcy5yZXN0b3JlKCkudGhlbihhc3luYygpPT57YXdhaXQgdGhpcy5zdWJtaXQoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCl9KTp0aGlzLnBlcnNpc3QoKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy5zdG9yYWdlVmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5jb250ZXh0fX12YXIgWm89T2JqZWN0LmRlZmluZVByb3BlcnR5LFdpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsUW89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxlYT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHR0PShyLGUsdCk9PmUgaW4gcj9abyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSGk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVFvLmNhbGwoZSx0KSYmdHQocix0LGVbdF0pO2lmKFdpKWZvcih2YXIgdCBvZiBXaShlKSllYS5jYWxsKGUsdCkmJnR0KHIsdCxlW3RdKTtyZXR1cm4gcn0sdj0ocixlLHQpPT50dChyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE9lIGV4dGVuZHMgbHN7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZSksdih0aGlzLFwicHJvdG9jb2xcIixVZSksdih0aGlzLFwidmVyc2lvblwiLEZlKSx2KHRoaXMsXCJuYW1lXCIsZ2UpLHYodGhpcyxcInJlbGF5VXJsXCIpLHYodGhpcyxcInByb2plY3RJZFwiKSx2KHRoaXMsXCJjdXN0b21TdG9yYWdlUHJlZml4XCIpLHYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksdih0aGlzLFwibG9nZ2VyXCIpLHYodGhpcyxcImhlYXJ0YmVhdFwiKSx2KHRoaXMsXCJyZWxheWVyXCIpLHYodGhpcyxcImNyeXB0b1wiKSx2KHRoaXMsXCJzdG9yYWdlXCIpLHYodGhpcyxcImhpc3RvcnlcIiksdih0aGlzLFwiZXhwaXJlclwiKSx2KHRoaXMsXCJwYWlyaW5nXCIpLHYodGhpcyxcInZlcmlmeVwiKSx2KHRoaXMsXCJlY2hvQ2xpZW50XCIpLHYodGhpcyxcImxpbmtNb2RlU3VwcG9ydGVkQXBwc1wiKSx2KHRoaXMsXCJldmVudENsaWVudFwiKSx2KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx2KHRoaXMsXCJsb2dDaHVua0NvbnRyb2xsZXJcIiksdih0aGlzLFwib25cIiwoYSxjKT0+dGhpcy5ldmVudHMub24oYSxjKSksdih0aGlzLFwib25jZVwiLChhLGMpPT50aGlzLmV2ZW50cy5vbmNlKGEsYykpLHYodGhpcyxcIm9mZlwiLChhLGMpPT50aGlzLmV2ZW50cy5vZmYoYSxjKSksdih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoYSxjKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoYSxjKSksdih0aGlzLFwiZGlzcGF0Y2hFbnZlbG9wZVwiLCh7dG9waWM6YSxtZXNzYWdlOmMsc2Vzc2lvbkV4aXN0czpofSk9PntpZighYXx8IWMpcmV0dXJuO2NvbnN0IGw9e3RvcGljOmEsbWVzc2FnZTpjLHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTplZS5saW5rX21vZGV9O3RoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQobCx7c2Vzc2lvbkV4aXN0czpofSl9KTtjb25zdCBpPXRoaXMuZ2V0R2xvYmFsQ29yZShlPy5jdXN0b21TdG9yYWdlUHJlZml4KTtpZihpKXRyeXtyZXR1cm4gdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWkuY3VzdG9tU3RvcmFnZVByZWZpeCx0aGlzLmxvZ2dlcj1pLmxvZ2dlcix0aGlzLmhlYXJ0YmVhdD1pLmhlYXJ0YmVhdCx0aGlzLmNyeXB0bz1pLmNyeXB0byx0aGlzLmhpc3Rvcnk9aS5oaXN0b3J5LHRoaXMuZXhwaXJlcj1pLmV4cGlyZXIsdGhpcy5zdG9yYWdlPWkuc3RvcmFnZSx0aGlzLnJlbGF5ZXI9aS5yZWxheWVyLHRoaXMucGFpcmluZz1pLnBhaXJpbmcsdGhpcy52ZXJpZnk9aS52ZXJpZnksdGhpcy5lY2hvQ2xpZW50PWkuZWNob0NsaWVudCx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1pLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyx0aGlzLmV2ZW50Q2xpZW50PWkuZXZlbnRDbGllbnQsdGhpcy5pbml0aWFsaXplZD1pLmluaXRpYWxpemVkLHRoaXMubG9nQ2h1bmtDb250cm9sbGVyPWkubG9nQ2h1bmtDb250cm9sbGVyLGl9Y2F0Y2goYSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNvcHkgZ2xvYmFsIGNvcmVcIixhKX10aGlzLnByb2plY3RJZD1lPy5wcm9qZWN0SWQsdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8S2UsdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWUhPW51bGwmJmUuY3VzdG9tU3RvcmFnZVByZWZpeD9gOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWA6XCJcIjtjb25zdCBzPVppKHtsZXZlbDp0eXBlb2YgZT8ubG9nZ2VyPT1cInN0cmluZ1wiJiZlLmxvZ2dlcj9lLmxvZ2dlcjpFdC5sb2dnZXIsbmFtZTpnZX0pLHtsb2dnZXI6bixjaHVua0xvZ2dlckNvbnRyb2xsZXI6b309UWkoe29wdHM6cyxtYXhTaXplSW5CeXRlczplPy5tYXhMb2dCbG9iU2l6ZUluQnl0ZXMsbG9nZ2VyT3ZlcnJpZGU6ZT8ubG9nZ2VyfSk7dGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9bywodD10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJnQuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKHdpbmRvdy5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyPWFzeW5jKCk9Pnt2YXIgYSxjOyhhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmYS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYoKGM9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsfHxjLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KSl9KSx0aGlzLmxvZ2dlcj1GKG4sdGhpcy5uYW1lKSx0aGlzLmhlYXJ0YmVhdD1uZXcgSmksdGhpcy5jcnlwdG89bmV3IHdpKHRoaXMsdGhpcy5sb2dnZXIsZT8ua2V5Y2hhaW4pLHRoaXMuaGlzdG9yeT1uZXcgRmkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5leHBpcmVyPW5ldyBNaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnN0b3JhZ2U9ZSE9bnVsbCYmZS5zdG9yYWdlP2Uuc3RvcmFnZTpuZXcgWGkoSGkoSGkoe30sSXQpLGU/LnN0b3JhZ2VPcHRpb25zKSksdGhpcy5yZWxheWVyPW5ldyBBaSh7Y29yZTp0aGlzLGxvZ2dlcjp0aGlzLmxvZ2dlcixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZH0pLHRoaXMucGFpcmluZz1uZXcgVWkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy52ZXJpZnk9bmV3IEtpKHRoaXMsdGhpcy5sb2dnZXIsdGhpcy5zdG9yYWdlKSx0aGlzLmVjaG9DbGllbnQ9bmV3IFZpKHRoaXMucHJvamVjdElkfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1bXSx0aGlzLmV2ZW50Q2xpZW50PW5ldyBHaSh0aGlzLHRoaXMubG9nZ2VyLGU/LnRlbGVtZXRyeUVuYWJsZWQpLHRoaXMuc2V0R2xvYmFsQ29yZSh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBPZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBpPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKFV0LGkpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKEJlLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShCZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGUsYENvcmUgSW5pdGlhbGl6YXRpb24gRmFpbHVyZSBhdCBlcG9jaCAke0RhdGUubm93KCl9YCksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX1nZXRHbG9iYWxDb3JlKGU9XCJcIil7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgdD1gX3dhbGxldENvbm5lY3RDb3JlXyR7ZX1gLGk9YCR7dH1fY291bnRgO3JldHVybiBnbG9iYWxUaGlzW2ldPShnbG9iYWxUaGlzW2ldfHwwKSsxLGdsb2JhbFRoaXNbaV0+MSYmY29uc29sZS53YXJuKGBXYWxsZXRDb25uZWN0IENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEluaXQoKSB3YXMgY2FsbGVkICR7Z2xvYmFsVGhpc1tpXX0gdGltZXMuYCksZ2xvYmFsVGhpc1t0XX1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIix0KTtyZXR1cm59fXNldEdsb2JhbENvcmUoZSl7dmFyIHQ7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgaT1gX3dhbGxldENvbm5lY3RDb3JlXyR7KCh0PWUub3B0cyk9PW51bGw/dm9pZCAwOnQuY3VzdG9tU3RvcmFnZVByZWZpeCl8fFwiXCJ9YDtnbG9iYWxUaGlzW2ldPWV9Y2F0Y2goaSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNldCBnbG9iYWwgV2FsbGV0Q29ubmVjdCBjb3JlXCIsaSl9fWlzR2xvYmFsQ29yZURpc2FibGVkKCl7dHJ5e3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuRElTQUJMRV9HTE9CQUxfQ09SRT09PVwidHJ1ZVwifWNhdGNoe3JldHVybiEwfX19Y29uc3QgdGE9T2U7ZXhwb3J0e2dlIGFzIENPUkVfQ09OVEVYVCxFdCBhcyBDT1JFX0RFRkFVTFQsVWUgYXMgQ09SRV9QUk9UT0NPTCxJdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxXIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsRmUgYXMgQ09SRV9WRVJTSU9OLE1lIGFzIENSWVBUT19DTElFTlRfU0VFRCxUdCBhcyBDUllQVE9fQ09OVEVYVCxDdCBhcyBDUllQVE9fSldUX1RUTCx0YSBhcyBDb3JlLHdpIGFzIENyeXB0byxadCBhcyBFQ0hPX0NPTlRFWFQsUXQgYXMgRUNIT19VUkwsc2kgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLGlpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsdGkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCxlaSBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLGFyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLG9yIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLHNyIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFggYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLG5yIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyxyciBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMsR3QgYXMgRVhQSVJFUl9DT05URVhULHRyIGFzIEVYUElSRVJfREVGQVVMVF9UVEwscSBhcyBFWFBJUkVSX0VWRU5UUyxXdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixWaSBhcyBFY2hvQ2xpZW50LEdpIGFzIEV2ZW50Q2xpZW50LE1pIGFzIEV4cGlyZXIsVnQgYXMgSElTVE9SWV9DT05URVhULFYgYXMgSElTVE9SWV9FVkVOVFMscXQgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04sRmkgYXMgSnNvblJwY0hpc3RvcnksUHQgYXMgS0VZQ0hBSU5fQ09OVEVYVCxTdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sX2kgYXMgS2V5Q2hhaW4sT3QgYXMgTUVTU0FHRVNfQ09OVEVYVCxSdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04seWUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sSWkgYXMgTWVzc2FnZVRyYWNrZXIsS3QgYXMgUEFJUklOR19DT05URVhULGVyIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwsYWUgYXMgUEFJUklOR19FVkVOVFMsb2UgYXMgUEFJUklOR19SUENfT1BUUyxCdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixRcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQseHQgYXMgUFVCTElTSEVSX0NPTlRFWFQsQXQgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLFVpIGFzIFBhaXJpbmcsenQgYXMgUkVMQVlFUl9DT05URVhULCR0IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIsTnQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLEtlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxNIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLGt0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsUGUgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixKcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyxMdCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLFhzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRixBaSBhcyBSZWxheWVyLGp0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixGdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsWnMgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCxqIGFzIFNVQlNDUklCRVJfRVZFTlRTLE10IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLGppIGFzIFN0b3JlLFNpIGFzIFN1YnNjcmliZXIsZWUgYXMgVFJBTlNQT1JUX1RZUEVTLFh0IGFzIFRSVVNURURfVkVSSUZZX1VSTFMsSHQgYXMgVkVSSUZZX0NPTlRFWFQsYmUgYXMgVkVSSUZZX1NFUlZFUixKdCBhcyBWRVJJRllfU0VSVkVSX1YzLEtpIGFzIFZlcmlmeSxVdCBhcyBXQUxMRVRDT05ORUNUX0NMSUVOVF9JRCxCZSBhcyBXQUxMRVRDT05ORUNUX0xJTktfTU9ERV9BUFBTLE9lIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/core/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/sign-client/dist/index.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/sign-client/dist/index.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ ft),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ St),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ _t),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ pe),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ le),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ps),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ gt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ $),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ P),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Is),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ vs),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Ts),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ mt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ qs),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ Me),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ W),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ Ss),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ Ve),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ Rs),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ ke),\n/* harmony export */   SessionStore: () => (/* binding */ Fs),\n/* harmony export */   SignClient: () => (/* binding */ Qs),\n/* harmony export */   TVF_METHODS: () => (/* binding */ yt),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Le),\n/* harmony export */   \"default\": () => (/* binding */ fe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/core/dist/index.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/types/dist/index.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst Ve=\"wc\",ke=2,De=\"client\",we=`${Ve}@${ke}:${De}:`,me={name:De,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},Ss={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},Rs={database:\":memory:\"},Le=\"WALLETCONNECT_DEEPLINK_CHOICE\",vs={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Is=\"history\",Ts=\"0.3\",dt=\"proposal\",qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_DAYS,Me=\"Proposal expired\",ut=\"session\",W=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS,gt=\"engine\",P={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS},$={idle:\"IDLE\",active:\"ACTIVE\"},yt={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"},sui_signAndExecuteTransaction:{key:\"digest\"},sui_signTransaction:{key:\"\"},hedera_signAndExecuteTransaction:{key:\"transactionId\"},hedera_executeTransaction:{key:\"transactionId\"},near_signTransaction:{key:\"\"},near_signTransactions:{key:\"\"},tron_signTransaction:{key:\"txID\"},xrpl_signTransaction:{key:\"\"},xrpl_signTransactionFor:{key:\"\"},algo_signTxn:{key:\"\"},sendTransfer:{key:\"txid\"},stacks_stxTransfer:{key:\"txId\"},polkadot_signTransaction:{key:\"\"},cosmos_signDirect:{key:\"\"}},wt=\"request\",mt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],_t=\"wc\",Ps=1.5,ft=\"auth\",Et=\"authKeys\",St=\"pairingTopics\",Rt=\"requests\",le=`${_t}@${1.5}:${ft}:`,pe=`${le}:PUB_KEY`;var Ns=Object.defineProperty,Os=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,As=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,$e=(E,o,t)=>o in E?Ns(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,R=(E,o)=>{for(var t in o||(o={}))As.call(o,t)&&$e(E,t,o[t]);if(vt)for(var t of vt(o))xs.call(o,t)&&$e(E,t,o[t]);return E},O=(E,o)=>Os(E,bs(o)),c=(E,o,t)=>$e(E,typeof o!=\"symbol\"?o+\"\":o,t);class Cs extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(o){super(o),c(this,\"name\",gt),c(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:$.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:$.idle,queue:[]}),c(this,\"emittedSessionRequests\",new _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.LimitedSet({limit:500})),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(P)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const e=O(R({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e),e.optionalNamespaces=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeRequiredAndOptionalNamespaces)(e.requiredNamespaces,e.optionalNamespaces),e.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:n,scopedProperties:a,relays:l}=e;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:K}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,h=K}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),y=P.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(y),m=O(R(R({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},n&&{sessionProperties:n}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",m.id),{reject:_,resolve:b,done:V}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(y,Me),I=({id:T})=>{T===m.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(m.id),this.events.emit(S,{error:{message:Me,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(S,({error:T,session:K})=>{this.client.events.off(\"proposal_expire\",I),T?_(T):K&&b(K)}),await this.sendProposeSession({proposal:m,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:m.id}}}),await this.setProposal(m.id,m),{uri:h,approval:V}}),c(this,\"pair\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(e){throw this.client.logger.error(\"pair() failed\"),e}}),c(this,\"approve\",async t=>{var e,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(e=t?.id)==null?void 0:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),N}const{id:n,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t,d=this.client.proposal.get(n);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:y,proposer:w,requiredNamespaces:m,optionalNamespaces:S}=d;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:y});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:y,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),V=w.publicKey,I=await this.client.core.crypto.generateSharedKey(b,V),T=R(R(R({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),K=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:K,internal:{skipSubscribe:!0}})}catch(N){throw _.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),N}_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const Ee=O(R({},T),{topic:I,requiredNamespaces:m,optionalNamespaces:S,pairingTopic:y,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,Ee),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{await this.sendApproveSession({sessionTopic:I,proposal:d,pairingProposalResponse:{relay:{protocol:a??\"irn\"},responderPublicKey:b},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:n}}}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:w.metadata}),await this.deleteProposal(n),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:e,reason:s}=t;let i;try{i=this.client.proposal.get(e).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),r}i&&await this.sendError({id:e,topic:i,error:s,rpcOpts:P.wc_sessionPropose.reject}),await this.deleteProposal(e)}),c(this,\"update\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:e,namespaces:s}=t,{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(e).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?n(h):r()}),await this.client.session.update(e,{namespaces:s}),await this.sendRequest({topic:e,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(e,{namespaces:p}),n(h)}),{acknowledged:i}}),c(this,\"extend\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:e}=t,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?n(a):r()}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),this.sendRequest({topic:e,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{n(a)}),{acknowledged:i}}),c(this,\"request\",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(m){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),m}const{chainId:e,request:s,topic:i,expiry:r=P.wc_sessionRequest.req.ttl}=t,n=this.client.session.get(i);n?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:m,result:S})=>{m?u(m):h(S)});const d=\"wc_sessionRequest\",y=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);if(y)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e},expiry:r,throwOnFailedPublish:!0,appLink:y}).catch(m=>u(m)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),await p();const w={request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:w,expiry:r,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,w)}).catch(S=>u(S)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),m()}),new Promise(async m=>{var S;if(!((S=n.sessionConfig)!=null&&S.disableDeepLink)){const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Le);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:_})}m()}),p()]).then(m=>m[2])}),c(this,\"respond\",async t=>{var e,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:t?.topic||((s=(e=t?.response)==null?void 0:e.id)==null?void 0:s.toString()),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_started]}});try{await this.isValidRespond(t)}catch(h){throw i.addTrace(h?.message),i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_request_response_validation_failure),h}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_validation_success);const{topic:r,response:n}=t,{id:a}=n,l=this.client.session.get(r);l.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const p=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_publish_started),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(n)?await this.sendResult({id:a,topic:r,result:n.result,throwOnFailedPublish:!0,appLink:p}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(n)&&await this.sendError({id:a,topic:r,error:n.error,appLink:p}),this.cleanupAfterResponse(t)}catch(h){throw i.addTrace(h?.message),i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_request_response_publish_failure),h}}),c(this,\"ping\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:e}=t;if(this.client.session.keys.includes(e)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:n,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):n()}),await Promise.all([this.sendRequest({topic:e,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(e)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:e}))}),c(this,\"emit\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:e,event:s,chainId:i}=t,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:e,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:n})}),c(this,\"disconnect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(e))await this.client.core.pairing.disconnect({topic:e});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${e}`);throw new Error(s)}}),c(this,\"find\",t=>(this.isInitialized(),this.client.session.getAll().filter(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(e,t)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(t,e)=>{var s;this.isInitialized(),this.isValidAuthenticate(t);const i=e&&this.client.core.linkModeSupportedApps.includes(e)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:n,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:y,methods:w=[],expiry:m}=t,S=[...t.resources||[]],{topic:_,uri:b}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:b}});const V=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(V);if(await Promise.all([this.client.auth.authKeys.set(pe,{responseTopic:I,publicKey:V}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:_})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${_}`),w.length>0){const{namespace:A}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n[0]);let k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(A,\"request\",w);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S)&&(k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(k,S.pop())),S.push(k)}const T=m&&m>P.wc_sessionAuthenticate.req.ttl?m:P.wc_sessionAuthenticate.req.ttl,K={authPayload:{type:u??\"caip122\",chains:n,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:y,resources:S},requester:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},Ee={eip155:{chains:n,methods:[...new Set([\"personal_sign\",...w])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:Ee,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Tt,resolve:Ue,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),ie=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),he=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",N.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",ie),de=async({error:A,session:k})=>{this.events.off(Re,ve),A?Se(A):k&&Ue({session:k})},ve=async A=>{var k,Ge,je;if(await this.deletePendingAuthRequest(ie,{message:\"fulfilled\",code:0}),A.error){const ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return A.error.code===ne.code?void 0:(this.events.off(he,de),Se(A.error.message))}await this.deleteProposal(N.id),this.events.off(he,de);const{cacaos:Fe,responder:H}=A.result,Te=[],Qe=[];for(const ne of Fe){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:ne,projectId:this.client.core.projectId})||(this.client.logger.error(ne,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=ne,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),He=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],qt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),Pt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),He.push(...Pt)}for(const Ne of He)Qe.push(`${Ne}:${qt}`)}const re=await this.client.core.crypto.generateSharedKey(V,H.publicKey);let ue;Te.length>0&&(ue={topic:re,acknowledged:!0,self:{publicKey:V,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(Qe)]),transportType:r},await this.client.core.relayer.subscribe(re,{transportType:r}),await this.client.session.set(re,ue),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:H.metadata}),ue=this.client.session.get(re)),(k=this.client.metadata.redirect)!=null&&k.linkMode&&(Ge=H.metadata.redirect)!=null&&Ge.linkMode&&(je=H.metadata.redirect)!=null&&je.universal&&e&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(re,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),Ue({auths:Fe,session:ue})};this.events.once(he,de),this.events.once(Re,ve);let Ie;try{if(i){const A=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",K,ie);this.client.core.history.set(_,A);const k=await this.client.core.crypto.encode(\"\",A,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(e,_,k)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:K,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:ie}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:P.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(A){throw this.events.off(he,de),this.events.off(Re,ve),A}return await this.setProposal(N.id,N),await this.setAuthRequest(ie,{request:O(R({},K),{verifyContext:{}}),pairingTopic:_,transportType:r}),{uri:Ie??b,response:Tt}}),c(this,\"approveSessionAuthenticate\",async t=>{const{id:e,auths:s}=t,i=this.client.core.eventClient.createEvent({properties:{topic:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),m}const r=this.getPendingAuthRequest(e);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${e}`);const n=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const m of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:m,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:e,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:S}=m,_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S.resources),b=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(S.iss)],V=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(S.iss);if(_){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(_),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(_);u.push(...I),b.push(...T)}for(const I of b)d.push(`${I}:${V}`)}const y=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let w;if(u?.length>0){w={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:n},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:n})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),m}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(y,w),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:e,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,n)})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(e,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:w}}),c(this,\"rejectSessionAuthenticate\",async t=>{this.isInitialized();const{id:e,reason:s}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:n};await this.sendError({id:e,topic:a,error:s,encodeOpts:l,rpcOpts:P.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(e,{message:\"rejected\",code:0}),await this.deleteProposal(e)}),c(this,\"formatAuthMessage\",t=>{this.isInitialized();const{request:e,iss:s}=t;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(e,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),c(this,\"cleanupDuplicatePairings\",async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,n;return((r=i.peerMetadata)==null?void 0:r.url)&&((n=i.peerMetadata)==null?void 0:n.url)===t.peer.metadata.url&&i.topic&&i.topic!==e.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(e){this.client.logger.error(e)}}),c(this,\"deleteSession\",async t=>{var e;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:n=0}=t,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Le).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((e=this.sessionRequestQueue.queue[0])==null?void 0:e.topic)&&(this.sessionRequestQueue.state=$.idle),r&&this.client.events.emit(\"session_delete\",{id:n,topic:s})}),c(this,\"deleteProposal\",async(t,e)=>{if(e)try{const s=this.client.proposal.get(t),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==t),s&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit(\"session_request_expire\",{id:t}))}),c(this,\"deletePendingAuthRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)])}),c(this,\"setExpiry\",async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))}),c(this,\"setProposal\",async(t,e)=>{this.client.core.expirer.set(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)}),c(this,\"setAuthRequest\",async(t,e)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=e;this.client.core.expirer.set(t,s.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:t,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async t=>{const{id:e,topic:s,params:i,verifyContext:r}=t,n=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,n),await this.client.pendingRequest.set(e,{id:e,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async t=>{const{topic:e,method:s,params:i,expiry:r,relayRpcId:n,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h,publishOpts:u={}}=t,d=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let y;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;y=await this.client.core.crypto.encode(e,d,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),_}let m;if(mt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(d)),b=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(y);m=await this.client.core.verify.register({id:b,decryptedId:_})}const S=R(R({},P[s].req),u);if(S.attestation=m,r&&(S.ttl=r),n&&(S.id=n),this.client.core.history.set(e,d),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,e,y);await global.Linking.openURL(_,this.client.name)}else S.tvf=O(R({},h),{correlationId:d.id}),l?(S.internal=O(R({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,y,S)):this.client.core.relayer.publish(e,y,S).catch(_=>this.client.logger.error(_));return d.id}),c(this,\"sendProposeSession\",async t=>{const{proposal:e,publishOpts:s}=t,i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",e,e.id);this.client.core.history.set(e.pairingTopic,i);const r=await this.client.core.crypto.encode(e.pairingTopic,i,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(r),l=await this.client.core.verify.register({id:a,decryptedId:n});await this.client.core.relayer.publishCustom({payload:{pairingTopic:e.pairingTopic,sessionProposal:r},opts:O(R({},s),{publishMethod:\"wc_proposeSession\",attestation:l})})}),c(this,\"sendApproveSession\",async t=>{const{sessionTopic:e,pairingProposalResponse:s,proposal:i,sessionSettleRequest:r,publishOpts:n}=t,a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,a,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionSettle\",r,n?.id),h=await this.client.core.crypto.encode(e,p,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});this.client.core.history.set(e,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:e,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:h},opts:O(R({},n),{publishMethod:\"wc_approveSession\"})})}),c(this,\"sendResult\",async t=>{const{id:e,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const y=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},n||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),y}let u,d;try{u=await this.client.core.history.get(s,e);const y=u.request;try{d=this.getTVFParams(e,y.params,i)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${e}) failed`),y}if(h){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(y,this.client.name)}else{const y=u.request.method,w=P[y].res;w.tvf=O(R({},d),{correlationId:e}),r?(w.internal=O(R({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,w)):this.client.core.relayer.publish(s,p,w).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async t=>{const{id:e,topic:s,error:i,encodeOpts:r,rpcOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,e)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${e}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,y=n||P[d].res;this.client.core.relayer.publish(s,p,y)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const t=[],e=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&e.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession({topic:s})),...e.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),c(this,\"onRelayEventRequest\",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=$.idle}),c(this,\"processRequest\",async t=>{const{topic:e,payload:s,attestation:i,transportType:r,encryptedId:n}=t,a=s.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:e,payload:s,attestation:i,encryptedId:n});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(e,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(e,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(e,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(e,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(e,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(e,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async t=>{const{topic:e,payload:s,transportType:i}=t,r=(await this.client.core.history.get(e,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(e,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(e,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(e,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(e,s);case\"wc_sessionPing\":return this.onSessionPingResponse(e,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(e,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(e,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",t=>{const{topic:e}=t,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",t=>{const{topic:e,requestMethod:s}=t,i=this.expectedPairingMethodMap.get(e);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async t=>{const{topic:e,payload:s,attestation:i,encryptedId:r}=t,{params:n,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:e});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(R({},s.params));const p=n.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),h=R({id:a,pairingTopic:e,expiryTimestamp:p,attestation:i,encryptedId:r},n);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:e,error:l,rpcOpts:P.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(t,e,s)=>{const{id:i}=e;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)){const{result:r}=e;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const n=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const a=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:t,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:t})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)){await this.deleteProposal(i);const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:e.error})}}),c(this,\"onSessionSettleRequest\",async(t,e)=>{const{id:s,params:i}=e;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e.params,d=[...this.pendingSessions.values()].find(m=>m.sessionTopic===t);if(!d)return this.client.logger.error(`Pending session not found for topic ${t}`);const y=this.client.proposal.get(d.proposalId),w=O(R(R(R({topic:t,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:n.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit(\"session_connect\",{session:w}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:w}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:e.id,topic:t,result:!0})}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(t,e)=>{const{id:s}=e;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&(await this.client.session.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:e.error}))}),c(this,\"onSessionUpdateRequest\",async(t,e)=>{const{params:s,id:i}=e;try{const r=`${t}_session_update`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(R({topic:t},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:t,result:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:t,params:s})}catch(r){await this.sendError({id:i,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(t,e)=>e.toString().slice(0,-3)<t.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:e.error})}),c(this,\"onSessionExtendRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:e.error})}),c(this,\"onSessionPingRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:e.error})},500)}),c(this,\"onSessionDeleteRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:t,id:s}))})}),this.sendResult({id:s,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async t=>{var e,s,i;const{topic:r,payload:n,attestation:a,encryptedId:l,transportType:p}=t,{id:h,params:u}=n;try{await this.isValidRequest(R({topic:r},u));const d=this.client.session.get(r),y=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),w={id:h,topic:r,params:u,verifyContext:y};await this.setPendingSessionRequest(w),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=d.peer.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionEventRequest\",async(t,e)=>{const{id:s,params:i}=e;try{const r=`${t}_session_event_${i.event.name}`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(R({topic:t},i)),this.client.events.emit(\"session_event\",{id:s,topic:t,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(t,e)=>{const{id:s}=e;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:t,payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionAuthenticateRequest\",async t=>{var e;const{topic:s,payload:i,attestation:r,encryptedId:n,transportType:a}=t;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:n,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=l.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:P.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",t=>{this.sessionRequestQueue.queue.push(t)}),c(this,\"cleanupAfterResponse\",t=>{this.deletePendingSessionRequest(t.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:t,error:e})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===t&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:e})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info(\"session request queue is already active.\");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info(\"session request queue is empty.\");return}try{this.emitSessionRequest(t)}catch(e){this.client.logger.error(e)}}),c(this,\"emitSessionRequest\",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \\`session_request\\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=$.active,this.emittedSessionRequests.add(t.id),this.client.events.emit(\"session_request\",t)}),c(this,\"onPairingCreated\",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find(s=>s.pairingTopic===t.topic);e&&this.onSessionProposeRequest({topic:t.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",O(R({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties,scopedProperties:e.scopedProperties}),e.id),attestation:e.attestation,encryptedId:e.encryptedId})}),c(this,\"isValidConnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:e,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:n,relays:a}=t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(e)||await this.isValidPairingTopic(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(s&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,\"requiredNamespaces\")}if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)&&this.validateSessionProps(r,\"sessionProperties\"),n&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(n).every(p=>l.includes(p.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(n)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(t,e)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(t,\"connect()\",e);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${t}`).message);const{id:e,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:n}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const a=this.client.proposal.get(e),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)&&this.validateSessionProps(r,\"sessionProperties\"),n&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(n).every(u=>h.has(u.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(n)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${t}`);throw new Error(i)}const{id:e,reason:s}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:e,controller:s,namespaces:i,expiry:r}=t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(n)throw new Error(n.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${t}`);throw new Error(a)}const{topic:e,namespaces:s}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const i=this.client.session.get(e),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(n)throw new Error(n.message)}),c(this,\"isValidExtend\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${t}`);throw new Error(s)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)}),c(this,\"isValidRequest\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${t}`);throw new Error(a)}const{topic:e,request:s,chainId:i,expiry:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:n}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(n,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async t=>{var e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${t}`);throw new Error(n)}const{topic:s,response:i}=t;try{await this.isValidSessionTopic(s)}catch(n){throw(e=t?.response)!=null&&e.id&&this.cleanupAfterResponse(t),n}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(n)}const r=this.client.pendingRequest.get(i.id);if(r.topic!==s){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${r.topic}, received topic: ${s}`);throw new Error(n)}}),c(this,\"isValidPing\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidEmit\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${t}`);throw new Error(n)}const{topic:e,event:s,chainId:i}=t;await this.isValidSessionTopic(e);const{namespaces:r}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}}),c(this,\"isValidDisconnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidAuthenticate\",t=>{const{chains:e,uri:s,domain:i,nonce:r}=t;if(!Array.isArray(e)||e.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e[0]);if(n!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async t=>{const{attestationId:e,hash:s,encryptedId:i,metadata:r,transportType:n}=t,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,n);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:e,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(t,e)=>{Object.values(t).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${e} must contain an existing value for each key. Received: ${s} for key ${Object.keys(t)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",t=>{const e=this.client.auth.requests.get(t);return typeof e==\"object\"?e:void 0}),c(this,\"addToRecentlyDeleted\",(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${e}: ${t}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(t,e)=>{var s,i,r,n,a,l,p,h,u;return!t||e!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((n=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:n.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=t?.redirect)==null?void 0:p.universal)!==void 0&&((h=t?.redirect)==null?void 0:h.universal)!==\"\"&&((u=t?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(t,e)=>{var s;return this.isLinkModeEnabled(t,e)?(s=t?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:t})=>{if(!t||!t.includes(\"wc_ev\")||!t.includes(\"topic\"))return;const e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(e);i&&this.client.session.update(e,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:e,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const e=global==null?void 0:global.Linking;if(typeof e<\"u\"){e.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await e.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"getTVFParams\",(t,e,s)=>{var i,r,n;if(!((i=e.request)!=null&&i.method))return{};const a={correlationId:t,rpcMethods:[e.request.method],chainId:e.chainId};try{const l=this.extractTxHashesFromResult(e.request,s);a.txHashes=l,a.contractAddresses=this.isValidContractData(e.request.params)?[(n=(r=e.request.params)==null?void 0:r[0])==null?void 0:n.to]:[]}catch(l){this.client.logger.warn(l,\"Error getting TVF params\")}return a}),c(this,\"isValidContractData\",t=>{var e;if(!t)return!1;try{const s=t?.data||((e=t?.[0])==null?void 0:e.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(t,e)=>{var s;try{if(!e)return[];const i=t.method,r=yt[i];if(i===\"sui_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSuiDigest)(e.transactionBytes)];if(i===\"near_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(e)];if(i===\"near_signTransactions\")return e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(a));if(i===\"xrpl_signTransactionFor\"||i===\"xrpl_signTransaction\")return[(s=e.tx_json)==null?void 0:s.hash];if(i===\"polkadot_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildSignedExtrinsicHash)({transaction:t.params.transactionPayload,signature:e.signature})];if(i===\"algo_signTxn\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)?e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(a)):[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(e)];if(i===\"cosmos_signDirect\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSignDirectHash)(e)];if(i===\"wallet_sendCalls\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getWalletSendCallsHashes)(e);if(typeof e==\"string\")return[e];const n=e[r.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n))return i===\"solana_signAllTransactions\"?n.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(a)):n;if(typeof n==\"string\")return[n]}catch(i){this.client.logger.warn(i,\"Error extracting tx hashes from result\")}return[]})}async processPendingMessageEvents(){try{const o=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(o);for(const[e,s]of Object.entries(t))for(const i of s)try{await this.onProviderMessageEvent({topic:e,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${i}`)}}catch(o){this.client.logger.warn(o,\"processPendingMessageEvents failed\")}}isInitialized(){if(!this.initialized){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(o)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,o=>{this.onProviderMessageEvent(o)})}async onRelayMessage(o){const{topic:t,message:e,attestation:s,transportType:i}=o,{publicKey:r}=this.client.auth.authKeys.keys.includes(pe)?this.client.auth.authKeys.get(pe):{responseTopic:void 0,publicKey:void 0};try{const n=await this.client.core.crypto.decode(t,e,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(e)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n,transportType:i}),this.client.core.history.delete(t,n.id)):await this.onRelayEventUnknownPayload({topic:t,payload:n,transportType:i}),await this.client.core.relayer.messages.ack(t,e)}catch(n){this.client.logger.error(n)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async o=>{const{topic:t,id:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(o.target);if(e&&this.client.pendingRequest.keys.includes(e))return await this.deletePendingSessionRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(e&&this.client.auth.requests.keys.includes(e))return await this.deletePendingAuthRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:t})):e&&(await this.deleteProposal(e,!0),this.client.events.emit(\"proposal_expire\",{id:e}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,o=>this.onPairingCreated(o)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,o=>{this.addToRecentlyDeleted(o.topic,\"pairing\")})}isValidPairingTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${o}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(o).expiry)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${o}`);throw new Error(t)}}async isValidSessionTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${o}`);throw new Error(t)}if(this.checkRecentlyDeleted(o),!this.client.session.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(o).expiry)){await this.deleteSession({topic:o});const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${o}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${o}`);throw await this.deleteSession({topic:o}),new Error(t)}}async isValidSessionOrPairingTopic(o){if(this.checkRecentlyDeleted(o),this.client.session.keys.includes(o))await this.isValidSessionTopic(o);else if(this.client.core.pairing.pairings.keys.includes(o))this.isValidPairingTopic(o);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${o}`);throw new Error(t)}else{const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${o}`);throw new Error(t)}}async isValidProposalId(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${o}`);throw new Error(t)}if(!this.client.proposal.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(o).expiryTimestamp)){await this.deleteProposal(o);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${o}`);throw new Error(t)}}}class Vs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,dt,we),this.core=o,this.logger=t}}class It extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,ut,we),this.core=o,this.logger=t}}class ks extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,wt,we,e=>e.id),this.core=o,this.logger=t}}class Ds extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Et,le,()=>pe),this.core=o,this.logger=t}}class Ls extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,St,le),this.core=o,this.logger=t}}class Ms extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Rt,le,e=>e.id),this.core=o,this.logger=t}}var $s=Object.defineProperty,Ks=(E,o,t)=>o in E?$s(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,Ke=(E,o,t)=>Ks(E,typeof o!=\"symbol\"?o+\"\":o,t);class Us{constructor(o,t){this.core=o,this.logger=t,Ke(this,\"authKeys\"),Ke(this,\"pairingTopics\"),Ke(this,\"requests\"),this.authKeys=new Ds(this.core,this.logger),this.pairingTopics=new Ls(this.core,this.logger),this.requests=new Ms(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Gs=Object.defineProperty,js=(E,o,t)=>o in E?Gs(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,f=(E,o,t)=>js(E,typeof o!=\"symbol\"?o+\"\":o,t);class fe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(o){super(o),f(this,\"protocol\",Ve),f(this,\"version\",ke),f(this,\"name\",me.name),f(this,\"metadata\"),f(this,\"core\"),f(this,\"logger\"),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"engine\"),f(this,\"session\"),f(this,\"proposal\"),f(this,\"pendingRequest\"),f(this,\"auth\"),f(this,\"signConfig\"),f(this,\"on\",(e,s)=>this.events.on(e,s)),f(this,\"once\",(e,s)=>this.events.once(e,s)),f(this,\"off\",(e,s)=>this.events.off(e,s)),f(this,\"removeListener\",(e,s)=>this.events.removeListener(e,s)),f(this,\"removeAllListeners\",e=>this.events.removeAllListeners(e)),f(this,\"connect\",async e=>{try{return await this.engine.connect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"pair\",async e=>{try{return await this.engine.pair(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approve\",async e=>{try{return await this.engine.approve(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"reject\",async e=>{try{return await this.engine.reject(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"update\",async e=>{try{return await this.engine.update(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"extend\",async e=>{try{return await this.engine.extend(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"request\",async e=>{try{return await this.engine.request(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"respond\",async e=>{try{return await this.engine.respond(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"ping\",async e=>{try{return await this.engine.ping(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"emit\",async e=>{try{return await this.engine.emit(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"disconnect\",async e=>{try{return await this.engine.disconnect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"find\",e=>{try{return this.engine.find(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),f(this,\"authenticate\",async(e,s)=>{try{return await this.engine.authenticate(e,s)}catch(i){throw this.logger.error(i.message),i}}),f(this,\"formatAuthMessage\",e=>{try{return this.engine.formatAuthMessage(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approveSessionAuthenticate\",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"rejectSessionAuthenticate\",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),this.name=o?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(o?.metadata),this.signConfig=o?.signConfig;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createLogger)({logger:o?.logger||me.logger,name:this.name});this.logger=t,this.core=o?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(o),this.session=new It(this.core,this.logger),this.proposal=new Vs(this.core,this.logger),this.pendingRequest=new ks(this.core,this.logger),this.engine=new Cs(this),this.auth=new Us(this.core,this.logger)}static async init(o){const t=new fe(o);return await t.initialize(),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_1__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\")}catch(o){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(o.message),o}}}const Fs=It,Qs=fe;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXU1RSxxQ0FBcUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sOEVBQThFLEtBQUssNGNBQTRjLEtBQUssb0JBQW9CLHdDQUF3QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsb0JBQW9CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixrQkFBa0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQix5QkFBeUIsS0FBSyxJQUFJLHlEQUFFLG9CQUFvQixNQUFNLElBQUkseURBQUUsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHNCQUFzQixLQUFLLElBQUksNkRBQUMsS0FBSywyREFBRSxDQUFDLElBQUksNEJBQTRCLEtBQUsscUJBQXFCLE9BQU8seUJBQXlCLE9BQU8sbUJBQW1CLE9BQU8seUJBQXlCLGdCQUFnQiw2QkFBNkIsbUJBQW1CLGdDQUFnQyxnQkFBZ0IsZ0NBQWdDLGFBQWEsc0JBQXNCLE9BQU8sbUNBQW1DLG9CQUFvQiw0QkFBNEIsb0JBQW9CLHVCQUF1QixPQUFPLHdCQUF3QixPQUFPLHVCQUF1QixXQUFXLHVCQUF1QixPQUFPLDBCQUEwQixPQUFPLGVBQWUsT0FBTyxlQUFlLFdBQVcscUJBQXFCLFdBQVcsMkJBQTJCLE9BQU8sb0JBQW9CLFFBQVEsbUxBQW1MLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxTQUFTLEdBQUcsVUFBVSxtT0FBbU8sa0RBQWtELG1CQUFtQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLG1FQUFtRSxpQkFBaUIseURBQUUsQ0FBQyxlQUFlLCtDQUErQyxtQ0FBRSxrREFBa0Qsc0JBQXNCLGdDQUFnQyxzQkFBc0Isc0NBQXNDLDREQUFFLEVBQUUsVUFBVSw4QkFBOEIsMkRBQUUsOE1BQThNLHlNQUF5TSx1QkFBdUIsMkNBQTJDLDJJQUEySSxDQUFDLGtFQUFFLDJCQUEyQiw2QkFBNkIsNERBQTRELGNBQWMsS0FBSywyQ0FBMkMsNkNBQTZDLEVBQUUsa0RBQWtELHdGQUFFLG9FQUFvRSxNQUFNLHlHQUF5RyxHQUFHLGVBQWUsSUFBSSxNQUFNLGlEQUFpRCwwSUFBMEksU0FBUywyREFBMkQsRUFBRSxhQUFhLFdBQVcsTUFBTSxjQUFjLHdDQUF3QyxVQUFVLGtCQUFrQixFQUFFLFFBQVEsT0FBTyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywrQ0FBK0MsRUFBRSxHQUFHLG1CQUFtQix1RkFBdUYsNkRBQUMsR0FBRyxnRUFBQyxhQUFhLHNEQUFzRCxTQUFTLHlFQUFFLENBQUMsWUFBWSwwQ0FBMEMsa0NBQWtDLEtBQUssb0JBQW9CLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyx1RUFBQyxHQUFHLElBQUksaUVBQUMsMEJBQTBCLDBCQUEwQixDQUFDLDBFQUFFLFdBQVcsS0FBSyxJQUFJLDZHQUE2RyxPQUFPLG1CQUFtQixJQUFJLHVFQUF1RSxrQkFBa0IsSUFBSSwyREFBMkQsaUNBQWlDLHdCQUF3QixVQUFVLHdCQUF3QixNQUFNLHFCQUFxQixrQ0FBa0Msa0JBQWtCLDBCQUEwQiw0REFBNEQsSUFBSSw4Q0FBOEMsU0FBUyxtREFBbUQsNkJBQTZCLFVBQVUsa0RBQWtELFlBQVksaURBQWlELDRFQUFDLDJCQUEyQixFQUFFLElBQUksNERBQTRELFNBQVMsaUJBQWlCLDRFQUFDLDJCQUEyQixJQUFJLG9DQUFvQyxTQUFTLDREQUE0RCxNQUFNLHNCQUFzQiw0RUFBQyx1QkFBdUIsSUFBSSw2QkFBNkIsU0FBUyxrRkFBa0YsNEVBQUMsaURBQWlELE1BQU0seUZBQXlGLGlDQUFpQywwQ0FBMEMsa0JBQWtCLEVBQUUsTUFBTSxvRUFBb0UsR0FBRyxnRUFBZ0UsUUFBUSxFQUFFLG1FQUFtRSxLQUFLLDRFQUFDLHFDQUFxQyxlQUFlLDRFQUFDLHlCQUF5Qiw0RUFBQyx5Q0FBeUMsR0FBRyxzSUFBc0ksT0FBTyxrQkFBa0IsMEJBQTBCLDBDQUEwQyxRQUFRLGdFQUFDLElBQUksS0FBSyxvQkFBb0IsTUFBTSxtQkFBbUIsTUFBTSxnQkFBZ0IsSUFBSSxnRUFBQyxPQUFPLFdBQVcsNEVBQUMsNEJBQTRCLElBQUksNENBQTRDLDBCQUEwQixrQkFBa0IsRUFBRSxTQUFTLGlCQUFpQiw0RUFBQyxvQ0FBb0MsV0FBVyw0RUFBQyxrQ0FBa0MsZUFBZSxLQUFLLHlHQUF5RywwQ0FBMEMsNEJBQTRCLGdFQUFDLE9BQU8sRUFBRSwrQ0FBK0MsNEVBQUMsZ0JBQWdCLElBQUksK0JBQStCLG1EQUFtRCxPQUFPLGtCQUFrQixzQkFBc0IscUNBQXFDLFVBQVUsd0JBQXdCLE1BQU0sa0JBQWtCLGFBQWEsNEVBQUMsa0NBQWtDLFNBQVMsK0RBQStELGlFQUFDLHVFQUF1RSxpREFBaUQsa0JBQWtCLGlEQUFpRCw0QkFBNEIsd0VBQXdFLFFBQVEseUJBQXlCLGdFQUFDLE1BQU0sc0VBQXNFLDRCQUE0Qiw0REFBNEQsSUFBSSw0QkFBNEIsU0FBUyx1RUFBdUUsTUFBTSxjQUFjLEdBQUcsTUFBTSxJQUFJLDJDQUEyQyxTQUFTLDJEQUEyRCxFQUFFLGFBQWEseUJBQXlCLHdEQUF3RCwrQkFBK0IsNEJBQTRCLDREQUE0RCxJQUFJLDRCQUE0QixTQUFTLHVFQUF1RSxNQUFNLHFCQUFxQixJQUFJLDBCQUEwQixDQUFDLDBFQUFFLEtBQUssdUVBQUMsS0FBSyw0RUFBRSxzREFBc0Qsd0JBQXdCLGlFQUFDLHVCQUF1QixRQUFRLElBQUksV0FBVyxzQ0FBc0MsYUFBYSwwQkFBMEIsMENBQTBDLGFBQWEsb0RBQW9ELFlBQVksMERBQTBELGFBQWEsT0FBTyxHQUFHLGdCQUFnQiw0QkFBNEIsNERBQTRELElBQUksNEJBQTRCLFNBQVMsdUVBQXVFLE1BQU0sUUFBUSxLQUFLLHVFQUFDLElBQUksMEJBQTBCLENBQUMsMEVBQUUsR0FBRyx3QkFBd0IsaUVBQUMsdUJBQXVCLFFBQVEsSUFBSSxXQUFXLHlCQUF5QixnRUFBQyx1QkFBdUIsMkNBQTJDLHVDQUF1QyxZQUFZLEtBQUssR0FBRyxnQkFBZ0IsNkJBQTZCLHFCQUFxQixJQUFJLDZCQUE2QixTQUFTLHlFQUF5RSxNQUFNLGlFQUFpRSxnQ0FBZ0MsbUJBQW1CLGdFQUFDLCtDQUErQyxRQUFRLHVFQUFDLEtBQUssNEVBQUUsZUFBZSwwQkFBMEIsQ0FBQywwRUFBRSx5Q0FBeUMsaUJBQWlCLGlFQUFDLHdCQUF3QixpQkFBaUIsSUFBSSxZQUFZLEVBQUUsd0ZBQXdGLG9DQUFvQyxvREFBb0QsY0FBYyxLQUFLLGdCQUFnQixnRUFBQyxJQUFJLFlBQVksNENBQTRDLGlFQUFpRSxpQ0FBaUMsWUFBWSxTQUFTLGNBQWMsS0FBSyxnQkFBZ0IsZ0VBQUMsSUFBSSxhQUFhLGdEQUFnRCx3QkFBd0IsaUhBQWlILGlFQUFpRSxpQ0FBaUMsTUFBTSx3QkFBd0IsTUFBTSxvREFBb0QsY0FBYyxpRUFBRSw4QkFBOEIsTUFBTSw0RUFBRSxFQUFFLDBCQUEwQixFQUFFLElBQUksc0JBQXNCLDZCQUE2QixRQUFRLHFCQUFxQixrREFBa0QsWUFBWSx5RkFBeUYsNEVBQUMsb0NBQW9DLEVBQUUsSUFBSSw2QkFBNkIsU0FBUyx3Q0FBd0MsNEVBQUMsZ0RBQWdELFdBQVcsNEVBQUMsOENBQThDLE1BQU0sbUJBQW1CLElBQUksS0FBSyxnQ0FBZ0Msa0JBQWtCLGdFQUFDLCtDQUErQyxrRUFBa0UsSUFBSSxXQUFXLDRFQUFDLDJDQUEyQyw2RUFBQywyQkFBMkIsK0RBQStELEVBQUUsNEVBQUMsMkJBQTJCLHFDQUFxQywrQkFBK0IsU0FBUyx3Q0FBd0MsNEVBQUMsOENBQThDLDBCQUEwQiw0REFBNEQsSUFBSSwwQkFBMEIsU0FBUyxtRUFBbUUsTUFBTSxRQUFRLEdBQUcseUNBQXlDLFFBQVEsdUVBQUMsS0FBSyw0RUFBRSxlQUFlLDBCQUEwQixDQUFDLDBFQUFFLEdBQUcsaUJBQWlCLGlFQUFDLHFCQUFxQixRQUFRLElBQUksV0FBVyx1Q0FBdUMseUNBQXlDLG9EQUFvRCxRQUFRLCtNQUErTSxRQUFRLEdBQUcsMEJBQTBCLHNGQUFzRixNQUFNLDBCQUEwQixLQUFLLDRFQUFFLGdCQUFnQix1RUFBQyxHQUFHLHdCQUF3Qix5Q0FBeUMsa0JBQWtCLG9EQUFvRCxFQUFFLGdDQUFnQyw0RkFBNEYsTUFBTSxRQUFRLEdBQUcsZ0VBQWdFLHlDQUF5QyxpRUFBQyw4Q0FBOEMsNEJBQTRCLHFCQUFxQixFQUFFLHNHQUFzRyxRQUFRLEVBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywyREFBMkQsRUFBRSxHQUFHLG9CQUFvQixnRkFBZ0YseUVBQUUsd0hBQXdILE1BQU0saURBQWlELCtIQUErSCxnRUFBQyxXQUFXLGdFQUFDLE9BQU8sSUFBSSxnRUFBQywrQ0FBK0MsTUFBTSx3RkFBd0YsMkJBQTJCLGNBQWMsd0NBQXdDLG1EQUFtRCxFQUFFLHlCQUF5Qix5Q0FBeUMsZUFBZSxFQUFFLDBEQUEwRCw2REFBRSxJQUFJLHdEQUF3RCw0QkFBNEIsd0NBQXdDLHVCQUF1QixnREFBZ0QsZ0JBQWdCLG1FQUFtRSxFQUFFLGVBQWUsTUFBTSxZQUFZLENBQUMsa0VBQUUsT0FBTyxNQUFNLHdFQUFFLGdCQUFnQiwyRUFBRSxRQUFRLHdFQUFFLHVCQUF1QixvRkFBb0YsYUFBYSwrSEFBK0gsWUFBWSwwQ0FBMEMsaUJBQWlCLGdFQUFDLElBQUksS0FBSyxRQUFRLGlHQUFpRyxJQUFJLHFCQUFxQixnQ0FBZ0MsZUFBZSwyQkFBMkIsMENBQTBDLGlCQUFpQixnRUFBQyxpQ0FBaUMsdUVBQUMsR0FBRyxFQUFFLDZCQUE2QixDQUFDLDBFQUFFLHlCQUF5Qix1RUFBQyxNQUFNLGlFQUFDLDRCQUE0QixpRUFBQyxpQ0FBaUMsa0JBQWtCLElBQUksc0NBQXNDLFVBQVUsRUFBRSxjQUFjLFlBQVksMkNBQTJDLDJCQUEyQixXQUFXLFNBQVMsaUVBQUMsbURBQW1ELGtGQUFrRix1REFBdUQsTUFBTSxzQkFBc0Isc0JBQXNCLG9CQUFvQixNQUFNLHlFQUFFLEVBQUUsOENBQThDLG9FQUFvRSxpRUFBQyxnRUFBZ0UsTUFBTSxLQUFLLE9BQU8sMkVBQUUsbUJBQW1CLDZFQUFFLGFBQWEsbUVBQUUsU0FBUyxPQUFPLFNBQVMseUVBQUUsUUFBUSx3RUFBRSxLQUFLLDhCQUE4Qiw4QkFBOEIsR0FBRyxHQUFHLEdBQUcsR0FBRyx3RUFBd0UsT0FBTyxrQkFBa0IsK0JBQStCLDBDQUEwQyxzQ0FBc0MsZ0VBQUMseUJBQXlCLHNCQUFzQixRQUFRLGVBQWUsMkJBQTJCLDZFQUFFLG9EQUFvRCw4Q0FBOEMsZ0JBQWdCLHlGQUF5Riw0QkFBNEIsNlJBQTZSLGNBQWMsZ0VBQUMsV0FBVyxPQUFPLG9CQUFvQixHQUFHLGdEQUFnRCxPQUFPLElBQUksTUFBTSxRQUFRLGtGQUFFLGdDQUFnQyxrQ0FBa0MsbURBQW1ELEtBQUssd0RBQUUsVUFBVSwyREFBRSxDQUFDLEVBQUUsR0FBRyxvRUFBRSxRQUFRLDBDQUEwQyx3R0FBd0csb0JBQW9CLHdIQUF3SCxJQUFJLFNBQVMsc0RBQXNELG9FQUFvRSxjQUFjLEtBQUssaUJBQWlCLGlDQUFpQyxHQUFHLHVCQUF1QixnREFBZ0QsTUFBTSxhQUFhLCtDQUErQyxZQUFZLDBCQUEwQixpRkFBQyx5Q0FBeUMsRUFBRSxJQUFJLHFCQUFxQixTQUFTLGlCQUFpQixpRkFBRSwyQkFBMkIsc0NBQXNDLHVCQUF1QixpRkFBRSwyR0FBMkcsRUFBRSxHQUFHLHlCQUF5QixnRUFBQyxPQUFPLElBQUksZ0VBQUMsK0NBQStDLGtGQUFrRiw2REFBRSxPQUFPLEtBQUssd0RBQUUsdUNBQXVDLFdBQVcsa0JBQWtCLFVBQVUseUVBQUUsRUFBRSw2Q0FBNkMsR0FBRyxXQUFXLGlGQUFFLGdCQUFnQixRQUFRLGlFQUFDLDhEQUE4RCw0QkFBNEIsa0NBQWtDLHVCQUF1QixXQUFXLGlGQUFDLGtCQUFrQixNQUFNLElBQUksS0FBSywyRUFBRSxpQkFBaUIsNkVBQUUsV0FBVyxtRUFBRSxRQUFRLE1BQU0sUUFBUSx5RUFBRSxNQUFNLHdFQUFFLElBQUksMEJBQTBCLDJCQUEyQixFQUFFLEdBQUcsRUFBRSxHQUFHLDZEQUE2RCxXQUFXLGlGQUFDLHFDQUFxQyxNQUFNLGdCQUFnQixHQUFHLDhCQUE4QiwwQ0FBMEMsT0FBTywwQ0FBMEMscUJBQXFCLGdFQUFDLDBDQUEwQyxzQkFBc0IsUUFBUSxlQUFlLHdDQUF3Qyw2RUFBRSxrREFBa0QsWUFBWSxpRkFBQywwQ0FBMEMsSUFBSSw0Q0FBNEMsZ0JBQWdCLEVBQUUsU0FBUyxpQkFBaUIsaUZBQUUsa0RBQWtELFdBQVcsaUZBQUMsOEZBQThGLGlGQUFDLDZFQUE2RSxtREFBbUQsRUFBRSxXQUFXLGlGQUFDLDJDQUEyQyxJQUFJLHVCQUF1QixxQkFBcUIsb0JBQW9CLDJDQUEyQywrRkFBK0YsRUFBRSxTQUFTLGlCQUFpQixpRkFBRSxrREFBa0QsaURBQWlELDJCQUEyQiwyQ0FBMkMscUJBQXFCLDRDQUE0QyxrQkFBa0IsR0FBRyxXQUFXLCtDQUErQyxxQkFBcUIsTUFBTSxjQUFjLG1DQUFtQyxxRUFBcUUsRUFBRSxHQUFHLGtCQUFrQixnRUFBQywrQ0FBK0Msa0ZBQWtGLDZEQUFFLE9BQU8sS0FBSyx3REFBRSx3Q0FBd0Msc0JBQXNCLGlKQUFpSiw0Q0FBNEMsMEJBQTBCLCtCQUErQixpQ0FBaUMscUJBQXFCLE1BQU0sZ0JBQWdCLEdBQUcsT0FBTyxtRUFBRSxNQUFNLHlDQUF5QyxxQkFBcUIsMENBQTBDLGdDQUFnQyxLQUFLLHVDQUF1QyxnQ0FBZ0MsU0FBUyw2QkFBNkIsS0FBSyw4Q0FBOEMsc0JBQXNCLHNIQUFzSCxRQUFRLHlJQUF5SSxFQUFFLHVCQUF1Qix1Q0FBdUMsVUFBVSx1RkFBdUYsY0FBYyxvRUFBb0UsU0FBUyw2QkFBNkIsbUNBQW1DLE1BQU0sTUFBTSxxREFBcUQsSUFBSSxPQUFPLDRCQUE0QixpRkFBaUYsaUVBQUMsOFpBQThaLG1EQUFtRCxpRUFBQyx1QkFBdUIseUpBQXlKLGFBQWEsRUFBRSx1Q0FBdUMsU0FBUyw2RUFBNkUscUJBQXFCLEVBQUUsWUFBWSw0RUFBQyxtQkFBbUIsT0FBTyxpREFBaUQsaUVBQUMscUhBQXFILHlEQUF5RCxxVUFBcVUsS0FBSyxHQUFHLHNEQUFzRCwrR0FBK0csa0NBQWtDLDZHQUE2RyxTQUFTLEdBQUcsb0NBQW9DLCtCQUErQixnRUFBQyxtRUFBbUUsdUNBQXVDLE1BQU0seUNBQXlDLGdFQUFDLE9BQU8sR0FBRyx5RkFBeUYsb0pBQW9KLEVBQUUsOENBQThDLE1BQU0sc0NBQXNDLGdDQUFnQyxnRUFBQyw4QkFBOEIsMEVBQTBFLHNDQUFzQyxFQUFFLGlDQUFpQyxNQUFNLHNIQUFzSCxLQUFLLGtGQUFFLFFBQVEsTUFBTSxZQUFZLElBQUksVUFBVSwyREFBRSxDQUFDLHdEQUFDLENBQUMsNENBQTRDLFdBQVcsRUFBRSxTQUFTLHVHQUF1RyxHQUFHLFdBQVcsTUFBTSxtQkFBbUIsUUFBUSxpRUFBQyxzQkFBc0IsaUVBQUMsSUFBSSwwQ0FBMEMsbUJBQW1CLEVBQUUsY0FBYyxjQUFjLGlGQUFpRixRQUFRLG9FQUFFLFFBQVEsaURBQWlELGlCQUFpQixLQUFLLG1CQUFtQixzQkFBc0IsY0FBYyx3QkFBd0IsK0hBQStILFlBQVksd0NBQXdDLE1BQU0seUJBQXlCLEtBQUssa0ZBQUUsNkJBQTZCLCtDQUErQywrREFBK0QsU0FBUyx3REFBQyxDQUFDLElBQUksaUVBQUMsc0JBQXNCLGlFQUFDLDhDQUE4QyxtQkFBbUIsRUFBRSw4Q0FBOEMsU0FBUyw4Q0FBOEMsWUFBWSxLQUFLLGdEQUFnRCxFQUFFLEVBQUUsd0NBQXdDLE1BQU0seUZBQXlGLEtBQUssaUZBQUUsa0VBQWtFLFNBQVMsd0RBQUMsQ0FBQyxJQUFJLGtGQUFFLHlFQUF5RSxTQUFTLHdEQUFDLENBQUMsRUFBRSxnRkFBZ0YsU0FBUyxnR0FBZ0csWUFBWSxLQUFLLGtDQUFrQyxFQUFFLEVBQUUsZ0NBQWdDLE1BQU0sb0VBQW9FLEtBQUssaUZBQUUsTUFBTSxNQUFNLDBEQUEwRCxJQUFJLFVBQVUsMkRBQUUsQ0FBQyx3REFBQyxDQUFDLGlEQUFpRCxNQUFNLEdBQUcsV0FBVyxHQUFHLFNBQVMsc0dBQXNHLEdBQUcsV0FBVyxRQUFRLElBQUksMENBQTBDLGtCQUFrQixJQUFJLGtDQUFrQyxTQUFTLGtFQUFrRSxXQUFXLElBQUksU0FBUyw4REFBOEQsRUFBRSxJQUFJLEVBQUUsYUFBYSxNQUFNLFFBQVEsb0VBQUUsUUFBUSxpREFBaUQsS0FBSyxvQ0FBb0MsWUFBWSxLQUFLLGdCQUFnQixzQkFBc0IsY0FBYyx3QkFBd0IsK0hBQStILDBDQUEwQywrQkFBK0IsTUFBTSxzREFBc0QsS0FBSyxnRkFBRSxNQUFNLE1BQU0sMERBQTBELElBQUksVUFBVSwyREFBRSxDQUFDLHdEQUFDLENBQUMsaURBQWlELE1BQU0sR0FBRyxXQUFXLEdBQUcsU0FBUyxxR0FBcUcsR0FBRyxXQUFXLE1BQU0sSUFBSSwwQ0FBMEMsU0FBUyw2REFBNkQsRUFBRSxJQUFJLEVBQUUsYUFBYSxNQUFNLFFBQVEsb0VBQUUsUUFBUSxpREFBaUQsS0FBSyx1Q0FBdUMsd0NBQXdDLDBDQUEwQyw2QkFBNkIsZ0JBQWdCLHlDQUF5QyxTQUFTLCtEQUFFLDRGQUE0Riw0Q0FBNEMsK0RBQUUsa0NBQWtDLHFEQUFxRCxRQUFRLHlDQUF5Qyw0Q0FBNEMsK0dBQStHLHlDQUF5QyxrRUFBa0UsMENBQTBDLHVDQUF1QyxxRUFBcUUsT0FBTywyREFBMkQsZ0NBQWdDLFdBQVcsaUNBQWlDLEVBQUUsaUNBQWlDLHdDQUF3QyxTQUFTLDZCQUE2QixTQUFTLDRCQUE0QiwrQkFBK0Isb0NBQW9DLE1BQU0sOERBQThELGNBQWMscUNBQXFDLHdCQUF3QixZQUFZLG1FQUFtRSw4Q0FBOEMsRUFBRSxxRUFBcUUscUVBQXFFLHFFQUFxRSxpRUFBaUUscUVBQXFFLDREQUE0RCw4REFBOEQsRUFBRSxtRUFBbUUsNkVBQTZFLDhEQUE4RCxFQUFFLHFFQUFxRSxFQUFFLElBQUksMENBQTBDLE1BQU0sa0NBQWtDLGlFQUFpRSxVQUFVLG9FQUFvRSxnRUFBZ0UsZ0VBQWdFLGdFQUFnRSw0REFBNEQsa0VBQWtFLDRFQUE0RSxzRUFBc0UsRUFBRSxJQUFJLDBDQUEwQyxNQUFNLFFBQVEsSUFBSSxVQUFVLENBQUMsc0VBQUMsa0RBQWtELEdBQUcsMkRBQTJELG1CQUFtQiwwQ0FBMEMsTUFBTSx3QkFBd0IsMENBQTBDLGdJQUFnSSw2Q0FBNkMsTUFBTSw4Q0FBOEMsSUFBSSxjQUFjLEdBQUcsSUFBSSwrQ0FBK0MsUUFBUSxFQUFFLDhIQUE4SCw0RUFBRSx1REFBdUQsWUFBWSwyQkFBMkIsZ0VBQUMsbUNBQW1DLGtFQUFrRSxJQUFJLDRCQUE0QixxQ0FBcUMscUJBQXFCLGlFQUFDLCtEQUErRCxFQUFFLFlBQVksNEVBQUUsb0VBQW9FLDhCQUE4QixFQUFFLFNBQVMsc0JBQXNCLDREQUE0RCwrQkFBK0IsbURBQW1ELE1BQU0sS0FBSyxHQUFHLEdBQUcsNkVBQUMsS0FBSyxNQUFNLFNBQVMsR0FBRywwQkFBMEIseURBQXlELEVBQUUsb0NBQW9DLDBCQUEwQiwyREFBMkQsRUFBRSw2QkFBNkIsMEJBQTBCLGdFQUFnRSxFQUFFLDZCQUE2QiwwQkFBMEIsZ0VBQWdFLEVBQUUsNkRBQTZELDRCQUE0Qix1REFBdUQsRUFBRSxvREFBb0QsZ0JBQWdCLEVBQUUsMEJBQTBCLGlFQUFpRSwyQ0FBMkMsUUFBUSxFQUFFLFFBQVEsNEVBQUMsS0FBSyw2QkFBNkIsUUFBUSxpRUFBQyxzQkFBc0IsZ0VBQWdFLEdBQUcsNkJBQTZCLG9CQUFvQixjQUFjLEdBQUcsK0NBQStDLE1BQU0sY0FBYyxHQUFHLElBQUksb0NBQW9DLE1BQU0sa0dBQWtHLDJFQUEyRSw2RUFBNkUsRUFBRSxHQUFHLDBEQUEwRCwrTEFBK0wsb0RBQW9ELE9BQU8sMkNBQTJDLEtBQUssb0JBQW9CLE1BQU0sbUJBQW1CLE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxnRUFBQyxPQUFPLEVBQUUsK0hBQStILDhDQUE4Qyw2Q0FBNkMsVUFBVSxtQkFBbUIsaUVBQUMsa0NBQWtDLFVBQVUseUlBQXlJLDBCQUEwQixFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0IsZ0RBQWdELE1BQU0sS0FBSyxHQUFHLDZFQUFDLHlDQUF5QyxnQkFBZ0IsbUJBQW1CLGlFQUFDLHdCQUF3QixHQUFHLDRFQUFDLHlDQUF5QyxpRUFBQyx3Q0FBd0MsaUVBQUMsdUJBQXVCLGNBQWMsR0FBRywrQ0FBK0MsTUFBTSxjQUFjLEdBQUcsSUFBSSxXQUFXLEVBQUUsbUJBQW1CLDZEQUFFLFFBQVEsb0NBQW9DLDREQUE0RCxFQUFFLG1CQUFtQixtQkFBbUIsaUVBQUMsMkJBQTJCLEVBQUUsT0FBTyxzQkFBc0IsUUFBUSxLQUFLLElBQUksNkRBQUUsOENBQThDLHdCQUF3Qix5QkFBeUIsdUJBQXVCLEVBQUUsU0FBUyxNQUFNLDZEQUFFLGFBQWEsMENBQTBDLHNCQUFzQixFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0IsaUlBQWlJLE1BQU0sS0FBSyxLQUFLLGlFQUFDLHFCQUFxQixnRUFBZ0UsR0FBRyx3QkFBd0IsNkVBQUMscUJBQXFCLGlFQUFDLHVCQUF1QixFQUFFLDRFQUFDLHNCQUFzQixpRUFBQyxzQkFBc0IsY0FBYyxFQUFFLCtDQUErQyxNQUFNLEtBQUssR0FBRyxJQUFJLG9CQUFvQixRQUFRLHlCQUF5QixnRUFBQyw0QkFBNEIsdUJBQXVCLDRDQUE0QyxhQUFhLEVBQUUsU0FBUyxzQkFBc0IscUJBQXFCLCtCQUErQiwyQ0FBMkMsTUFBTSxLQUFLLEtBQUssaUVBQUMscUJBQXFCLGdFQUFnRSxHQUFHLHdCQUF3Qiw2RUFBQyxxQkFBcUIsaUVBQUMsdUJBQXVCLEVBQUUsNEVBQUMsc0JBQXNCLGlFQUFDLHNCQUFzQixjQUFjLEVBQUUsNkNBQTZDLE1BQU0sS0FBSyxHQUFHLElBQUksa0JBQWtCLFFBQVEseUJBQXlCLCtDQUErQywwQ0FBMEMsYUFBYSxFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0IseUNBQXlDLE1BQU0sS0FBSyxLQUFLLGlFQUFDLG1CQUFtQixnQkFBZ0IsZ0VBQWdFLEdBQUcsNkJBQTZCLDZFQUFDLHFCQUFxQixpRUFBQyxxQkFBcUIsRUFBRSw0RUFBQyxzQkFBc0IsaUVBQUMsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLCtDQUErQyxNQUFNLEtBQUssR0FBRyxJQUFJLHdCQUF3Qix3QkFBd0IscUNBQXFDLDhCQUE4QiwrREFBRSxtQkFBbUIsNEJBQTRCLGFBQWEsR0FBRyxFQUFFLG1CQUFtQix1QkFBdUIsMkNBQTJDLGNBQWMsaUVBQUMsc0JBQXNCLDBDQUEwQyxTQUFTLDZCQUE2QixzQ0FBc0MsVUFBVSxNQUFNLDhEQUE4RCxJQUFJLGNBQWMsR0FBRyxJQUFJLDZCQUE2QixRQUFRLEtBQUssa0VBQWtFLHFCQUFxQixpRUFBQyxnQkFBZ0Isa0ZBQUUsbUZBQW1GLEtBQUssdUNBQXVDLDJDQUEyQyxnRUFBQyxtVUFBbVUsU0FBUyxzQkFBc0IscUJBQXFCLCtCQUErQiw0Q0FBNEMsTUFBTSxLQUFLLEtBQUssaUVBQUMsc0JBQXNCLGdFQUFnRSxHQUFHLHdCQUF3Qiw2RUFBQyxxQkFBcUIsaUVBQUMsdUJBQXVCLGdCQUFnQixFQUFFLDRFQUFDLHNCQUFzQixpRUFBQyx1QkFBdUIsY0FBYyxFQUFFLDhDQUE4QyxNQUFNLGNBQWMsR0FBRyxJQUFJLFdBQVcsRUFBRSxpQkFBaUIsYUFBYSxJQUFJLDZEQUFFLFFBQVEsb0NBQW9DLDREQUE0RCxFQUFFLEdBQUcsT0FBTyxvQkFBb0IsUUFBUSw4Q0FBOEMsc0JBQXNCLEVBQUUsNkRBQUUsVUFBVSxTQUFTLHNCQUFzQixxQkFBcUIsK0JBQStCLGlEQUFpRCxNQUFNLEtBQUssR0FBRywwQkFBMEIsdUVBQXVFLEVBQUUsNkVBQUMscUJBQXFCLGlFQUFDLHVCQUF1QixnQkFBZ0IsRUFBRSw0RUFBQyxzQkFBc0IsaUVBQUMsdUJBQXVCLGNBQWMsRUFBRSxrREFBa0QsTUFBTSxNQUFNLDhEQUE4RCxHQUFHLElBQUksTUFBTSw0Q0FBNEMseUNBQXlDLHFCQUFxQixpRUFBQyxzRUFBc0UsS0FBSyxvRkFBb0YsZ0NBQWdDLHlDQUF5QyxNQUFNLGdFQUFDLGdMQUFnTCxnREFBZ0QsRUFBRSxTQUFTLDRCQUE0QixvSkFBb0osS0FBSyx3REFBRSx3Q0FBd0Msc0JBQXNCLDJGQUEyRixHQUFHLHNEQUFzRCx1Q0FBdUMsb0NBQW9DLGdEQUFnRCwyQkFBMkIsa0JBQWtCLHdFQUF3RSxDQUFDLGtFQUFFLDBCQUEwQixnREFBZ0QsZ0JBQWdCLElBQUkseUNBQXlDLHlGQUF5Rix1QkFBdUIsaUVBQUMsc0JBQXNCLGdFQUFnRSxHQUFHLHdCQUF3QixpQkFBaUIsaUVBQUMsa0NBQWtDLFFBQVEsRUFBRSxFQUFFLDJDQUEyQyw4Q0FBOEMsb0VBQW9FLE9BQU8sMENBQTBDLE9BQU8sMkRBQTJELE9BQU8sSUFBSSwyQkFBMkIsU0FBUyw2QkFBNkIsa0NBQWtDLDBDQUEwQyx5QkFBeUIsUUFBUSwyRUFBMkUsS0FBSyxHQUFHLE9BQU8sMkhBQTJILGdDQUFnQyxtRkFBbUYsd0VBQXdFLGlDQUFpQyxzQkFBc0Isa0ZBQUUsMkJBQTJCLEtBQUssOExBQThMLDREQUE0RCxFQUFFLG9DQUFvQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLGtCQUFrQixHQUFHLG1CQUFtQixNQUFNLHlHQUF5RyxHQUFHLEdBQUcsaUVBQUMsd0NBQXdDLG1FQUFFLFFBQVEsTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsT0FBTyxpRUFBQyxLQUFLLG1FQUFFLFNBQVMsaUdBQWlHLHlKQUF5SixPQUFPLGlFQUFDLEtBQUssbUVBQUUsNkRBQTZELGlFQUFDLDBEQUEwRCxpRUFBQyxLQUFLLGdEQUFnRCx5QkFBeUIsMEJBQTBCLEdBQUcsMEpBQTBKLGtCQUFrQixrQ0FBa0Msa0JBQWtCLElBQUksc0NBQXNDLFFBQVEsK0VBQUUsa0JBQWtCLGdDQUFnQyxvQ0FBb0MsSUFBSSxtRUFBQyxvQkFBb0Isc0VBQUMsMkNBQTJDLEVBQUUsWUFBWSxNQUFNLHlFQUF5RSxHQUFHLDZEQUE2RCxzQ0FBc0MsdUVBQUUsZ0JBQWdCLGdDQUFnQyxRQUFRLDRFQUFFLHFDQUFxQyxnQ0FBZ0MsSUFBSSxtRUFBQyxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLGtEQUFrRCxFQUFFLEdBQUcsbUJBQW1CLE9BQU8saUVBQUMsMERBQTBELGlFQUFDLEtBQUssZ0RBQWdELGdDQUFnQyw0SUFBNEksa0JBQWtCLHlCQUF5Qix5QkFBeUIsSUFBSSxtQ0FBbUMsSUFBSSxtRUFBQyxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDBDQUEwQyxFQUFFLEdBQUcsbUJBQW1CLE1BQU0sY0FBYyxHQUFHLGlFQUFpRSx3RUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDBDQUEwQyxrQkFBa0IsR0FBRyxvQkFBb0IsMkNBQTJDLElBQUksbUVBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywwREFBMEQsRUFBRSxHQUFHLG1CQUFtQixNQUFNLDJDQUEyQyxHQUFHLElBQUksa0VBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyxvRkFBb0YsbUJBQW1CLFFBQVEsdUVBQUUsK0JBQStCLGdDQUFnQyxRQUFRLHVFQUFFLCtCQUErQixnQ0FBZ0MsR0FBRywrREFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHVDQUF1QyxvQkFBb0IsbUNBQW1DLElBQUksbUVBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywwQ0FBMEMsRUFBRSxHQUFHLG1CQUFtQixNQUFNLHFCQUFxQixHQUFHLCtEQUErRCxxQ0FBcUMsdUVBQUUsZUFBZSxnQ0FBZ0MsUUFBUSw0RUFBRSxvQ0FBb0MsZ0NBQWdDLG1DQUFtQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMENBQTBDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxRQUFRLEdBQUcsK0RBQStELG9DQUFvQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxxQ0FBcUMsR0FBRywrREFBK0QsTUFBTSxhQUFhLDRCQUE0QixJQUFJLDhFQUFFLE9BQU8sTUFBTSxVQUFVLENBQUMsc0VBQUMsNENBQTRDLEVBQUUsR0FBRyxtQkFBbUIsSUFBSSxvRUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLG1DQUFtQyxrQkFBa0IsR0FBRyxtQkFBbUIsSUFBSSw4RUFBRSxnQkFBZ0IsTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLFNBQVMsR0FBRyxtQkFBbUIsT0FBTywwRUFBRSxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDJDQUEyQyxFQUFFLGlEQUFpRCxRQUFRLE1BQU0sT0FBTyxHQUFHLG9CQUFvQixvQ0FBb0MsTUFBTSxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLGtDQUFrQyxTQUFTLGlFQUFpRSxJQUFJLHFFQUFFLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsNkNBQTZDLGtCQUFrQixHQUFHLG1CQUFtQiw2Q0FBNkMsZ0JBQWdCLE1BQU0sVUFBVSxDQUFDLHNFQUFDLCtEQUErRCxLQUFLLG9CQUFvQixRQUFRLG9CQUFvQixFQUFFLEdBQUcsb0JBQW9CLGlDQUFpQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsd0NBQXdDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxRQUFRLEdBQUcsMkNBQTJDLGlDQUFpQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsd0NBQXdDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSwwQkFBMEIsR0FBRyxrQ0FBa0MsTUFBTSxhQUFhLDRCQUE0QixJQUFJLDhFQUFFLE9BQU8sTUFBTSxVQUFVLENBQUMsc0VBQUMseUNBQXlDLEVBQUUsR0FBRyxtQkFBbUIsSUFBSSxrRUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHVDQUF1QyxrQkFBa0IsR0FBRyxtQkFBbUIsSUFBSSw0RUFBRSxjQUFjLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHVDQUF1QyxrQkFBa0IsR0FBRyxvQkFBb0IsdUNBQXVDLElBQUksbUVBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyw4Q0FBOEMsRUFBRSxHQUFHLG1CQUFtQixNQUFNLFFBQVEsR0FBRywyQ0FBMkMsbUNBQW1DLE1BQU0sZ0NBQWdDLEdBQUcsdUdBQXVHLElBQUksbUVBQUMsb0RBQW9ELElBQUksbUVBQUMsdURBQXVELElBQUksbUVBQUMsc0RBQXNELHdCQUF3QixrRUFBRSwrSEFBK0gsTUFBTSxZQUFZLENBQUMsa0VBQUUsT0FBTywrSUFBK0ksc0NBQXNDLE1BQU0sZ0VBQWdFLE1BQU0sVUFBVSx1QkFBdUIsOERBQUUseUNBQXlDLElBQUksT0FBTyxnRUFBQyxZQUFZLHNDQUFzQyw4RkFBOEYsK0NBQStDLDJEQUEyRCxFQUFFLG9JQUFvSSxTQUFTLDJCQUEyQixtREFBbUQsa0JBQWtCLEtBQUssd0NBQXdDLGlDQUFpQyxZQUFZLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHlCQUF5QixHQUFHLHlEQUF5RCxHQUFHLFVBQVUsa0JBQWtCLEdBQUcsb0JBQW9CLEVBQUUscUNBQXFDLHlDQUF5QyxtQ0FBbUMsd0NBQXdDLDZGQUE2RixRQUFRLG9DQUFvQywrQ0FBK0MsZ0JBQWdCLG9DQUFvQyxvQ0FBb0MsdUNBQXVDLE1BQU0sTUFBTSxVQUFVLENBQUMsc0VBQUMsdURBQXVELEVBQUUsSUFBSSxFQUFFLEdBQUcsb0JBQW9CLHFDQUFxQyxzQkFBc0IsY0FBYyxnRUFBQywraEJBQStoQix1Q0FBdUMsTUFBTSxtRkFBbUYsbUNBQW1DLE1BQU0sSUFBSSx5REFBeUQsUUFBUSwyRUFBRSxxQ0FBcUMsMkVBQUUsd0RBQXdELGlDQUFpQyxjQUFjLGdFQUFDLFdBQVcscUNBQXFDLGtDQUFrQyxFQUFFLCtDQUErQyxNQUFNLEdBQUcsK0RBQUUsSUFBSSxtRUFBRSx5REFBeUQsMkNBQTJDLGlCQUFpQixzRUFBc0UsZ0NBQWdDLG1CQUFtQiw0QkFBNEIsTUFBTSxFQUFFLE9BQU8sa0NBQWtDLFVBQVUsNkNBQTZDLFNBQVMsaUVBQWlFLElBQUksb0RBQW9ELDhJQUE4SSxTQUFTLHNEQUFzRCxTQUFTLG1DQUFtQyxNQUFNLGVBQWUsSUFBSSxrREFBa0QsZ0NBQWdDLG1CQUFtQixpREFBaUQsT0FBTyxTQUFTLDZDQUE2QyxNQUFNLElBQUksZUFBZSx5QkFBeUIsb0NBQW9DLGtFQUFFLHNCQUFzQixxQ0FBcUMsK0ZBQUUsS0FBSywrQ0FBK0MsK0ZBQUUsS0FBSyx1R0FBdUcseUNBQXlDLDhFQUFFLEVBQUUsOERBQThELEdBQUcsNkJBQTZCLGtFQUFFLGFBQWEsOEVBQUUsTUFBTSw4RUFBRSxLQUFLLGtDQUFrQyx1RUFBRSxLQUFLLGlDQUFpQyw4RUFBRSxJQUFJLGdDQUFnQyxpQkFBaUIsR0FBRyxrRUFBRSxxREFBcUQsZ0ZBQUUsT0FBTyxnQ0FBZ0MsU0FBUyxvRUFBb0UsU0FBUyxFQUFFLG9DQUFvQyxJQUFJLHNGQUFzRix3REFBd0QsbUNBQW1DLHlDQUF5QyxFQUFFLE1BQU0sNkVBQTZFLEVBQUUsYUFBYSxFQUFFLElBQUksU0FBUyxpRUFBaUUsZ0JBQWdCLHNCQUFzQixNQUFNLFVBQVUsQ0FBQyxzRUFBQyw4QkFBOEIsb0JBQW9CLGtDQUFrQywyREFBMkQsd0JBQXdCLDRCQUE0QiwrREFBRSxhQUFhLCtCQUErQixFQUFFLHdCQUF3QixNQUFNLGdEQUFnRCxJQUFJLFlBQVksZ0ZBQWdGLHVDQUF1QyxJQUFJLGtEQUFrRCxpQ0FBaUMsZ0VBQUMsV0FBVywyREFBRSxDQUFDLHdEQUFDLENBQUMsRUFBRSw4RUFBRSx1RUFBdUUsNERBQTRELGlFQUFDLElBQUksR0FBRywrRUFBRSxnRkFBZ0Ysa0NBQWtDLGtGQUFrRixrQ0FBa0MsbURBQW1ELFNBQVMsNkJBQTZCLHdCQUF3Qiw0QkFBNEIsK0RBQUUsbUJBQW1CLE1BQU0sYUFBYSxDQUFDLHdFQUFFLFdBQVcsa0dBQWtHLHNFQUFDLGdCQUFnQiw4RkFBOEYsc0VBQUMsZ0JBQWdCLG1FQUFtRSw2QkFBNkIsNENBQTRDLFFBQVEsa0ZBQWtGLEtBQUssR0FBRyxFQUFFLHdCQUF3QixtQ0FBbUMsK0RBQUUsd0VBQXdFLCtEQUFFLFlBQVksNkNBQTZDLEVBQUUsdUJBQXVCLElBQUksbUVBQUMsUUFBUSxNQUFNLFVBQVUsQ0FBQyxzRUFBQywyREFBMkQsRUFBRSxHQUFHLG1CQUFtQix3REFBd0QsTUFBTSxVQUFVLENBQUMsc0VBQUMsbURBQW1ELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBRSxtREFBbUQsTUFBTSxVQUFVLENBQUMsc0VBQUMsNkJBQTZCLEVBQUUsR0FBRyxvQkFBb0IsNkJBQTZCLElBQUksbUVBQUMsUUFBUSxNQUFNLFVBQVUsQ0FBQyxzRUFBQywyREFBMkQsRUFBRSxHQUFHLG1CQUFtQix1RUFBdUUsTUFBTSxVQUFVLENBQUMsc0VBQUMsbURBQW1ELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBRSxxQ0FBcUMsMEJBQTBCLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQyxzRUFBQyw2QkFBNkIsRUFBRSxHQUFHLG1CQUFtQiw2Q0FBNkMsTUFBTSxVQUFVLENBQUMsc0VBQUMsbUVBQW1FLEVBQUUsR0FBRyxnQ0FBZ0MsUUFBUSxnQkFBZ0Isc0NBQXNDLHVHQUF1Ryx1RkFBdUYsUUFBUSxtRUFBQyxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDhEQUE4RCxFQUFFLEdBQUcsbUJBQW1CLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsc0VBQXNFLEVBQUUsR0FBRyxvQkFBb0IsMkJBQTJCLElBQUksK0RBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyx5REFBeUQsRUFBRSxHQUFHLG1CQUFtQiwyQ0FBMkMsTUFBTSxVQUFVLENBQUMsc0VBQUMsaURBQWlELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBRSwrQ0FBK0MsNkJBQTZCLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDJCQUEyQixFQUFFLEdBQUcscUJBQXFCLGlCQUFpQixzREFBQyxDQUFDLGlCQUFpQiw0Q0FBNEMsaUJBQWlCLHNEQUFDLENBQUMsaUJBQWlCLDRDQUE0QyxpQkFBaUIsc0RBQUMsQ0FBQyxpQkFBaUIsb0RBQW9ELGlCQUFpQixzREFBQyxDQUFDLGlCQUFpQixtREFBbUQsaUJBQWlCLHNEQUFDLENBQUMsaUJBQWlCLDRDQUE0QyxpQkFBaUIsc0RBQUMsQ0FBQyxpQkFBaUIsb0RBQW9ELHdEQUF3RCxrREFBa0QsdURBQXVELFNBQVMsaUJBQWlCLG9PQUFvTyxhQUFhLHVGQUF1Rix3REFBd0Qsa0RBQWtELHNEQUFzRCxpQkFBaUIsNkRBQUUsQ0FBQyxlQUFlLGtKQUFrSixnREFBRSxnWkFBZ1osSUFBSSxvQ0FBb0MsU0FBUyxzQ0FBc0MsMEJBQTBCLElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLDZCQUE2QixJQUFJLG9DQUFvQyxTQUFTLHNDQUFzQyw0QkFBNEIsSUFBSSxtQ0FBbUMsU0FBUyxzQ0FBc0MsNEJBQTRCLElBQUksbUNBQW1DLFNBQVMsc0NBQXNDLDRCQUE0QixJQUFJLG1DQUFtQyxTQUFTLHNDQUFzQyw2QkFBNkIsSUFBSSxvQ0FBb0MsU0FBUyxzQ0FBc0MsNkJBQTZCLElBQUksb0NBQW9DLFNBQVMsc0NBQXNDLDBCQUEwQixJQUFJLGlDQUFpQyxTQUFTLHNDQUFzQywwQkFBMEIsSUFBSSxpQ0FBaUMsU0FBUyxzQ0FBc0MsZ0NBQWdDLElBQUksdUNBQXVDLFNBQVMsc0NBQXNDLG9CQUFvQixJQUFJLDJCQUEyQixTQUFTLHNDQUFzQywwQ0FBMEMsSUFBSSwrQ0FBK0MsU0FBUyxzQ0FBc0MscUNBQXFDLElBQUksMkNBQTJDLFNBQVMsc0NBQXNDLGlDQUFpQyxJQUFJLHdDQUF3QyxTQUFTLHNDQUFzQyxnREFBZ0QsSUFBSSx1REFBdUQsU0FBUyxzQ0FBc0MsK0NBQStDLElBQUksc0RBQXNELFNBQVMsc0NBQXNDLDJDQUEyQyx5RUFBRSw0Q0FBNEMsUUFBUSxrRUFBRSxFQUFFLDJDQUEyQyxFQUFFLHFDQUFxQyxxREFBRSw4TUFBOE0scUJBQXFCLGtCQUFrQiw4QkFBOEIsY0FBYyxPQUFPLHVFQUFFLGNBQWMsY0FBYyxrQ0FBa0MsbUJBQW1CLGlDQUFpQyxJQUFJLG9OQUFvTixTQUFTLDZGQUE2RixrQkFBaTJCO0FBQ3J6akUiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTnQse0V2ZW50RW1pdHRlciBhcyBPdH1mcm9tXCJldmVudHNcIjtpbXBvcnR7UkVMQVlFUl9FVkVOVFMgYXMgemUsVFJBTlNQT1JUX1RZUEVTIGFzIHEsRVhQSVJFUl9FVkVOVFMgYXMgYnQsUEFJUklOR19FVkVOVFMgYXMgWWUsUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MIGFzIEF0LEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyBhcyBELEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyBhcyB6LEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTIGFzIFksRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMgYXMgb2UsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTIGFzIHh0LEVWRU5UX0NMSUVOVF9QQUlSSU5HX1RSQUNFUyBhcyBDdCxWRVJJRllfU0VSVkVSIGFzIFZ0LFN0b3JlIGFzIFosQ29yZSBhcyBrdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9jb3JlXCI7aW1wb3J0e0lFbmdpbmUgYXMgRHQsSVNpZ25DbGllbnQgYXMgTHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdHlwZXNcIjtpbXBvcnR7TGltaXRlZFNldCBhcyBNdCxnZXRJbnRlcm5hbEVycm9yIGFzIGcsQkFTRTY0VVJMIGFzIGFlLEJBU0U2NCBhcyBKLGhhc2hNZXNzYWdlIGFzIFUscGFyc2VFeHBpcmVyVGFyZ2V0IGFzICR0LGlzVmFsaWRTdHJpbmcgYXMgWCxpc0V4cGlyZWQgYXMgZWUsaXNWYWxpZElkIGFzIEt0LG1lcmdlUmVxdWlyZWRBbmRPcHRpb25hbE5hbWVzcGFjZXMgYXMgVXQsY2FsY0V4cGlyeSBhcyB4LGVuZ2luZUV2ZW50IGFzIHYsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgdGUsZ2V0U2RrRXJyb3IgYXMgTCxnZXREZWVwTGluayBhcyBHdCxoYW5kbGVEZWVwbGlua1JlZGlyZWN0IGFzIGp0LGlzU2Vzc2lvbkNvbXBhdGlibGUgYXMgRnQsaGFzaEtleSBhcyBPZSxwYXJzZUNoYWluSWQgYXMgYmUsY3JlYXRlRW5jb2RlZFJlY2FwIGFzIFF0LGdldFJlY2FwRnJvbVJlc291cmNlcyBhcyBBZSxtZXJnZUVuY29kZWRSZWNhcHMgYXMgSHQsVFlQRV8yIGFzIHp0LGdldExpbmtNb2RlVVJMIGFzIGdlLHZhbGlkYXRlU2lnbmVkQ2FjYW8gYXMgSmUsZ2V0TmFtZXNwYWNlZERpZENoYWluSWQgYXMgWGUsZ2V0RGlkQWRkcmVzcyBhcyBCZSxnZXRNZXRob2RzRnJvbVJlY2FwIGFzIFdlLGdldENoYWluc0Zyb21SZWNhcCBhcyBaZSxidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCBhcyBldCxmb3JtYXRNZXNzYWdlIGFzIFl0LE1lbW9yeVN0b3JlIGFzIGNlLGlzVmFsaWRQYXJhbXMgYXMgTSxpc1VuZGVmaW5lZCBhcyBCLGlzVmFsaWRSZWxheXMgYXMgSnQsaXNWYWxpZE9iamVjdCBhcyB0dCxpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzIGFzIFh0LGlzVmFsaWROYW1lc3BhY2VzIGFzIHhlLGlzQ29uZm9ybWluZ05hbWVzcGFjZXMgYXMgc3QsaXNWYWxpZEVycm9yUmVhc29uIGFzIEJ0LGlzVmFsaWRSZWxheSBhcyBXdCxpc1ZhbGlkQ29udHJvbGxlciBhcyBadCxpc1ZhbGlkTmFtZXNwYWNlc0NoYWluSWQgYXMgaXQsaXNWYWxpZFJlcXVlc3QgYXMgZXMsaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0IGFzIHRzLGlzVmFsaWRSZXF1ZXN0RXhwaXJ5IGFzIHNzLGlzVmFsaWRSZXNwb25zZSBhcyBpcyxpc1ZhbGlkRXZlbnQgYXMgcnMsaXNWYWxpZE5hbWVzcGFjZXNFdmVudCBhcyBucyxnZXRTZWFyY2hQYXJhbUZyb21VUkwgYXMgcnQsaXNUZXN0UnVuIGFzIG9zLGlzUmVhY3ROYXRpdmUgYXMgYXMsZ2V0U3VpRGlnZXN0IGFzIGNzLGdldE5lYXJUcmFuc2FjdGlvbklkRnJvbVNpZ25lZFRyYW5zYWN0aW9uIGFzIG50LGJ1aWxkU2lnbmVkRXh0cmluc2ljSGFzaCBhcyBscyxpc1ZhbGlkQXJyYXkgYXMgb3QsZ2V0QWxnb3JhbmRUcmFuc2FjdGlvbklkIGFzIGF0LGdldFNpZ25EaXJlY3RIYXNoIGFzIHBzLGdldFdhbGxldFNlbmRDYWxsc0hhc2hlcyBhcyBocyxleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCBhcyBkcyxUWVBFXzEgYXMgQ2UscG9wdWxhdGVBcHBNZXRhZGF0YSBhcyB1cyxjcmVhdGVMb2dnZXIgYXMgZ3N9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7Z2V0TG9nZ2VyQ29udGV4dCBhcyB5c31mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7VEhJUlRZX0RBWVMgYXMgd3MsU0VWRU5fREFZUyBhcyBjdCxGSVZFX01JTlVURVMgYXMgQyxPTkVfREFZIGFzIEcsT05FX0hPVVIgYXMgbHQsT05FX1NFQ09ORCBhcyBtcyx0b01pbGlzZWNvbmRzIGFzIHB0fWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7aXNKc29uUnBjUmVxdWVzdCBhcyBfcyxpc0pzb25ScGNSZXNwb25zZSBhcyBmcyxwYXlsb2FkSWQgYXMgaixnZXRCaWdJbnRScGNJZCBhcyB5ZSxpc0pzb25ScGNSZXN1bHQgYXMgRixpc0pzb25ScGNFcnJvciBhcyBRLGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHNlLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgaHQsZm9ybWF0SnNvblJwY0Vycm9yIGFzIEVzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjb25zdCBWZT1cIndjXCIsa2U9MixEZT1cImNsaWVudFwiLHdlPWAke1ZlfUAke2tlfToke0RlfTpgLG1lPXtuYW1lOkRlLGxvZ2dlcjpcImVycm9yXCIsY29udHJvbGxlcjohMSxyZWxheVVybDpcIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCJ9LFNzPXtzZXNzaW9uX3Byb3Bvc2FsOlwic2Vzc2lvbl9wcm9wb3NhbFwiLHNlc3Npb25fdXBkYXRlOlwic2Vzc2lvbl91cGRhdGVcIixzZXNzaW9uX2V4dGVuZDpcInNlc3Npb25fZXh0ZW5kXCIsc2Vzc2lvbl9waW5nOlwic2Vzc2lvbl9waW5nXCIsc2Vzc2lvbl9kZWxldGU6XCJzZXNzaW9uX2RlbGV0ZVwiLHNlc3Npb25fZXhwaXJlOlwic2Vzc2lvbl9leHBpcmVcIixzZXNzaW9uX3JlcXVlc3Q6XCJzZXNzaW9uX3JlcXVlc3RcIixzZXNzaW9uX3JlcXVlc3Rfc2VudDpcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsc2Vzc2lvbl9ldmVudDpcInNlc3Npb25fZXZlbnRcIixwcm9wb3NhbF9leHBpcmU6XCJwcm9wb3NhbF9leHBpcmVcIixzZXNzaW9uX2F1dGhlbnRpY2F0ZTpcInNlc3Npb25fYXV0aGVudGljYXRlXCIsc2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZTpcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIixzZXNzaW9uX2Nvbm5lY3Q6XCJzZXNzaW9uX2Nvbm5lY3RcIn0sUnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sTGU9XCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLHZzPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LElzPVwiaGlzdG9yeVwiLFRzPVwiMC4zXCIsZHQ9XCJwcm9wb3NhbFwiLHFzPXdzLE1lPVwiUHJvcG9zYWwgZXhwaXJlZFwiLHV0PVwic2Vzc2lvblwiLFc9Y3QsZ3Q9XCJlbmdpbmVcIixQPXt3Y19zZXNzaW9uUHJvcG9zZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMDB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAxfSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTEyMH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTIxfX0sd2Nfc2Vzc2lvblNldHRsZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDJ9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAzfX0sd2Nfc2Vzc2lvblVwZGF0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDR9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA1fX0sd2Nfc2Vzc2lvbkV4dGVuZDp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDZ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA3fX0sd2Nfc2Vzc2lvblJlcXVlc3Q6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTA4fSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwOX19LHdjX3Nlc3Npb25FdmVudDp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMTB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTExfX0sd2Nfc2Vzc2lvbkRlbGV0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMTJ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTEzfX0sd2Nfc2Vzc2lvblBpbmc6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTE0fSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTExNX19LHdjX3Nlc3Npb25BdXRoZW50aWNhdGU6e3JlcTp7dHRsOmx0LHByb21wdDohMCx0YWc6MTExNn0scmVzOnt0dGw6bHQscHJvbXB0OiExLHRhZzoxMTE3fSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTExOH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTE5fX19LF9lPXttaW46QyxtYXg6Y3R9LCQ9e2lkbGU6XCJJRExFXCIsYWN0aXZlOlwiQUNUSVZFXCJ9LHl0PXtldGhfc2VuZFRyYW5zYWN0aW9uOntrZXk6XCJcIn0sZXRoX3NlbmRSYXdUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHdhbGxldF9zZW5kQ2FsbHM6e2tleTpcIlwifSxzb2xhbmFfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJzaWduYXR1cmVcIn0sc29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnM6e2tleTpcInRyYW5zYWN0aW9uc1wifSxzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9LHN1aV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJkaWdlc3RcIn0sc3VpX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LGhlZGVyYV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJ0cmFuc2FjdGlvbklkXCJ9LGhlZGVyYV9leGVjdXRlVHJhbnNhY3Rpb246e2tleTpcInRyYW5zYWN0aW9uSWRcIn0sbmVhcl9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxuZWFyX3NpZ25UcmFuc2FjdGlvbnM6e2tleTpcIlwifSx0cm9uX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwidHhJRFwifSx4cnBsX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHhycGxfc2lnblRyYW5zYWN0aW9uRm9yOntrZXk6XCJcIn0sYWxnb19zaWduVHhuOntrZXk6XCJcIn0sc2VuZFRyYW5zZmVyOntrZXk6XCJ0eGlkXCJ9LHN0YWNrc19zdHhUcmFuc2Zlcjp7a2V5OlwidHhJZFwifSxwb2xrYWRvdF9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxjb3Ntb3Nfc2lnbkRpcmVjdDp7a2V5OlwiXCJ9fSx3dD1cInJlcXVlc3RcIixtdD1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLF90PVwid2NcIixQcz0xLjUsZnQ9XCJhdXRoXCIsRXQ9XCJhdXRoS2V5c1wiLFN0PVwicGFpcmluZ1RvcGljc1wiLFJ0PVwicmVxdWVzdHNcIixsZT1gJHtfdH1AJHsxLjV9OiR7ZnR9OmAscGU9YCR7bGV9OlBVQl9LRVlgO3ZhciBOcz1PYmplY3QuZGVmaW5lUHJvcGVydHksT3M9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsYnM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsdnQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxBcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHhzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsJGU9KEUsbyx0KT0+byBpbiBFP05zKEUsbyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOkVbb109dCxSPShFLG8pPT57Zm9yKHZhciB0IGluIG98fChvPXt9KSlBcy5jYWxsKG8sdCkmJiRlKEUsdCxvW3RdKTtpZih2dClmb3IodmFyIHQgb2YgdnQobykpeHMuY2FsbChvLHQpJiYkZShFLHQsb1t0XSk7cmV0dXJuIEV9LE89KEUsbyk9Pk9zKEUsYnMobykpLGM9KEUsbyx0KT0+JGUoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBDcyBleHRlbmRzIER0e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLGModGhpcyxcIm5hbWVcIixndCksYyh0aGlzLFwiZXZlbnRzXCIsbmV3IE50KSxjKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxjKHRoaXMsXCJyZXF1ZXN0UXVldWVcIix7c3RhdGU6JC5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwic2Vzc2lvblJlcXVlc3RRdWV1ZVwiLHtzdGF0ZTokLmlkbGUscXVldWU6W119KSxjKHRoaXMsXCJlbWl0dGVkU2Vzc2lvblJlcXVlc3RzXCIsbmV3IE10KHtsaW1pdDo1MDB9KSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlRGVsYXlcIixtcyksYyh0aGlzLFwiZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLGModGhpcyxcInJlbGF5TWVzc2FnZUNhY2hlXCIsW10pLGModGhpcyxcInBlbmRpbmdTZXNzaW9uc1wiLG5ldyBNYXApLGModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLGF3YWl0IHRoaXMucmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyhQKX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxwdCh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSkpfSksYyh0aGlzLFwiY29ubmVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBlPU8oUih7fSx0KSx7cmVxdWlyZWROYW1lc3BhY2VzOnQucmVxdWlyZWROYW1lc3BhY2VzfHx7fSxvcHRpb25hbE5hbWVzcGFjZXM6dC5vcHRpb25hbE5hbWVzcGFjZXN8fHt9fSk7YXdhaXQgdGhpcy5pc1ZhbGlkQ29ubmVjdChlKSxlLm9wdGlvbmFsTmFtZXNwYWNlcz1VdChlLnJlcXVpcmVkTmFtZXNwYWNlcyxlLm9wdGlvbmFsTmFtZXNwYWNlcyksZS5yZXF1aXJlZE5hbWVzcGFjZXM9e307Y29uc3R7cGFpcmluZ1RvcGljOnMscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIsc2Vzc2lvblByb3BlcnRpZXM6bixzY29wZWRQcm9wZXJ0aWVzOmEscmVsYXlzOmx9PWU7bGV0IHA9cyxoLHU9ITE7dHJ5e2lmKHApe2NvbnN0IFQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChwKTt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcImNvbm5lY3QoKSB3aXRoIGV4aXN0aW5nIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLHU9VC5hY3RpdmV9fWNhdGNoKFQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgY29ubmVjdCgpIC0+IHBhaXJpbmcuZ2V0KCR7cH0pIGZhaWxlZGApLFR9aWYoIXB8fCF1KXtjb25zdHt0b3BpYzpULHVyaTpLfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHtpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KTtwPVQsaD1LfWlmKCFwKXtjb25zdHttZXNzYWdlOlR9PWcoXCJOT19NQVRDSElOR19LRVlcIixgY29ubmVjdCgpIHBhaXJpbmcgdG9waWM6ICR7cH1gKTt0aHJvdyBuZXcgRXJyb3IoVCl9Y29uc3QgZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSx5PVAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bHx8Qyx3PXgoeSksbT1PKFIoUih7cmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIscmVsYXlzOmw/P1t7cHJvdG9jb2w6QXR9XSxwcm9wb3Nlcjp7cHVibGljS2V5OmQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp3LHBhaXJpbmdUb3BpYzpwfSxuJiZ7c2Vzc2lvblByb3BlcnRpZXM6bn0pLGEmJntzY29wZWRQcm9wZXJ0aWVzOmF9KSx7aWQ6aigpfSksUz12KFwic2Vzc2lvbl9jb25uZWN0XCIsbS5pZCkse3JlamVjdDpfLHJlc29sdmU6Yixkb25lOlZ9PXRlKHksTWUpLEk9KHtpZDpUfSk9PntUPT09bS5pZCYmKHRoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUobS5pZCksdGhpcy5ldmVudHMuZW1pdChTLHtlcnJvcjp7bWVzc2FnZTpNZSxjb2RlOjB9fSkpfTtyZXR1cm4gdGhpcy5jbGllbnQuZXZlbnRzLm9uKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5ldmVudHMub25jZShTLCh7ZXJyb3I6VCxzZXNzaW9uOkt9KT0+e3RoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSxUP18oVCk6SyYmYihLKX0pLGF3YWl0IHRoaXMuc2VuZFByb3Bvc2VTZXNzaW9uKHtwcm9wb3NhbDptLHB1Ymxpc2hPcHRzOntpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9LHR2Zjp7Y29ycmVsYXRpb25JZDptLmlkfX19KSxhd2FpdCB0aGlzLnNldFByb3Bvc2FsKG0uaWQsbSkse3VyaTpoLGFwcHJvdmFsOlZ9fSksYyh0aGlzLFwicGFpclwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyKHQpfWNhdGNoKGUpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBhaXIoKSBmYWlsZWRcIiksZX19KSxjKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgdD0+e3ZhciBlLHMsaTtjb25zdCByPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOihlPXQ/LmlkKT09bnVsbD92b2lkIDA6ZS50b1N0cmluZygpLHRyYWNlOltELnNlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2goTil7dGhyb3cgci5zZXRFcnJvcih6Lm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLE59dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQodD8uaWQpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgYXBwcm92ZSgpIC0+IHByb3Bvc2FsLmdldCgke3Q/LmlkfSkgZmFpbGVkYCksci5zZXRFcnJvcih6LnByb3Bvc2FsX25vdF9mb3VuZCksTn10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkQXBwcm92ZSh0KX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJhcHByb3ZlKCkgLT4gaXNWYWxpZEFwcHJvdmUoKSBmYWlsZWRcIiksci5zZXRFcnJvcih6LnNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxOfWNvbnN0e2lkOm4scmVsYXlQcm90b2NvbDphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PXQsZD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobik7dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpyLmV2ZW50SWR9KTtjb25zdHtwYWlyaW5nVG9waWM6eSxwcm9wb3Nlcjp3LHJlcXVpcmVkTmFtZXNwYWNlczptLG9wdGlvbmFsTmFtZXNwYWNlczpTfT1kO2xldCBfPShzPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDpzLmdldEV2ZW50KHt0b3BpYzp5fSk7X3x8KF89KGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCk9PW51bGw/dm9pZCAwOmkuY3JlYXRlRXZlbnQoe3R5cGU6RC5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxwcm9wZXJ0aWVzOnt0b3BpYzp5LHRyYWNlOltELnNlc3Npb25fYXBwcm92ZV9zdGFydGVkLEQuc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2Vzc119fSkpO2NvbnN0IGI9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksVj13LnB1YmxpY0tleSxJPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGIsViksVD1SKFIoUih7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LG5hbWVzcGFjZXM6bCxjb250cm9sbGVyOntwdWJsaWNLZXk6YixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5OngoVyl9LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSxLPXEucmVsYXk7Xy5hZGRUcmFjZShELnN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6SyxpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KX1jYXRjaChOKXt0aHJvdyBfLnNldEVycm9yKHouc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksTn1fLmFkZFRyYWNlKEQuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzcyk7Y29uc3QgRWU9TyhSKHt9LFQpLHt0b3BpYzpJLHJlcXVpcmVkTmFtZXNwYWNlczptLG9wdGlvbmFsTmFtZXNwYWNlczpTLHBhaXJpbmdUb3BpYzp5LGFja25vd2xlZGdlZDohMSxzZWxmOlQuY29udHJvbGxlcixwZWVyOntwdWJsaWNLZXk6dy5wdWJsaWNLZXksbWV0YWRhdGE6dy5tZXRhZGF0YX0sY29udHJvbGxlcjpiLHRyYW5zcG9ydFR5cGU6cS5yZWxheX0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KEksRWUpLF8uYWRkVHJhY2UoRC5zdG9yZV9zZXNzaW9uKTt0cnl7YXdhaXQgdGhpcy5zZW5kQXBwcm92ZVNlc3Npb24oe3Nlc3Npb25Ub3BpYzpJLHByb3Bvc2FsOmQscGFpcmluZ1Byb3Bvc2FsUmVzcG9uc2U6e3JlbGF5Ontwcm90b2NvbDphPz9cImlyblwifSxyZXNwb25kZXJQdWJsaWNLZXk6Yn0sc2Vzc2lvblNldHRsZVJlcXVlc3Q6VCxwdWJsaXNoT3B0czp7aW50ZXJuYWw6e3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSx0dmY6e2NvcnJlbGF0aW9uSWQ6bn19fSksXy5hZGRUcmFjZShELnNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3MpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihOKSx0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShJLEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKEkpLE59cmV0dXJuIHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6Xy5ldmVudElkfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzp5LG1ldGFkYXRhOncubWV0YWRhdGF9KSxhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKG4pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6eX0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KEkseChXKSkse3RvcGljOkksYWNrbm93bGVkZ2VkOigpPT5Qcm9taXNlLnJlc29sdmUodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoSSkpfX0pLGModGhpcyxcInJlamVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVqZWN0KHQpfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlamVjdCgpIC0+IGlzVmFsaWRSZWplY3QoKSBmYWlsZWRcIikscn1jb25zdHtpZDplLHJlYXNvbjpzfT10O2xldCBpO3RyeXtpPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChlKS5wYWlyaW5nVG9waWN9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGByZWplY3QoKSAtPiBwcm9wb3NhbC5nZXQoJHtlfSkgZmFpbGVkYCkscn1pJiZhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6ZSx0b3BpYzppLGVycm9yOnMscnBjT3B0czpQLndjX3Nlc3Npb25Qcm9wb3NlLnJlamVjdH0pLGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSl9KSxjKHRoaXMsXCJ1cGRhdGVcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFVwZGF0ZSh0KX1jYXRjaChoKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJ1cGRhdGUoKSAtPiBpc1ZhbGlkVXBkYXRlKCkgZmFpbGVkXCIpLGh9Y29uc3R7dG9waWM6ZSxuYW1lc3BhY2VzOnN9PXQse2RvbmU6aSxyZXNvbHZlOnIscmVqZWN0Om59PXRlKCksYT1qKCksbD15ZSgpLnRvU3RyaW5nKCkscD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKS5uYW1lc3BhY2VzO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX3VwZGF0ZVwiLGEpLCh7ZXJyb3I6aH0pPT57aD9uKGgpOnIoKX0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse25hbWVzcGFjZXM6c30pLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvblVwZGF0ZVwiLHBhcmFtczp7bmFtZXNwYWNlczpzfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bH0pLmNhdGNoKGg9Pnt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7bmFtZXNwYWNlczpwfSksbihoKX0pLHthY2tub3dsZWRnZWQ6aX19KSxjKHRoaXMsXCJleHRlbmRcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZEV4dGVuZCh0KX1jYXRjaChhKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJleHRlbmQoKSAtPiBpc1ZhbGlkRXh0ZW5kKCkgZmFpbGVkXCIpLGF9Y29uc3R7dG9waWM6ZX09dCxzPWooKSx7ZG9uZTppLHJlc29sdmU6cixyZWplY3Q6bn09dGUoKTtyZXR1cm4gdGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl9leHRlbmRcIixzKSwoe2Vycm9yOmF9KT0+e2E/bihhKTpyKCl9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShlLHgoVykpLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvbkV4dGVuZFwiLHBhcmFtczp7fSxjbGllbnRScGNJZDpzLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2goYT0+e24oYSl9KSx7YWNrbm93bGVkZ2VkOml9fSksYyh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdCh0KX1jYXRjaChtKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZXF1ZXN0KCkgLT4gaXNWYWxpZFJlcXVlc3QoKSBmYWlsZWRcIiksbX1jb25zdHtjaGFpbklkOmUscmVxdWVzdDpzLHRvcGljOmksZXhwaXJ5OnI9UC53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsfT10LG49dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoaSk7bj8udHJhbnNwb3J0VHlwZT09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9aigpLGw9eWUoKS50b1N0cmluZygpLHtkb25lOnAscmVzb2x2ZTpoLHJlamVjdDp1fT10ZShyLFwiUmVxdWVzdCBleHBpcmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTt0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX3JlcXVlc3RcIixhKSwoe2Vycm9yOm0scmVzdWx0OlN9KT0+e20/dShtKTpoKFMpfSk7Y29uc3QgZD1cIndjX3Nlc3Npb25SZXF1ZXN0XCIseT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQobi5wZWVyLm1ldGFkYXRhLG4udHJhbnNwb3J0VHlwZSk7aWYoeSlyZXR1cm4gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmwsdG9waWM6aSxtZXRob2Q6ZCxwYXJhbXM6e3JlcXVlc3Q6TyhSKHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6eChyKX0pLGNoYWluSWQ6ZX0sZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp5fSkuY2F0Y2gobT0+dShtKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHt0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOmUsaWQ6YX0pLGF3YWl0IHAoKTtjb25zdCB3PXtyZXF1ZXN0Ok8oUih7fSxzKSx7ZXhwaXJ5VGltZXN0YW1wOngocil9KSxjaGFpbklkOmV9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoYXN5bmMgbT0+e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsLHRvcGljOmksbWV0aG9kOmQscGFyYW1zOncsZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsdHZmOnRoaXMuZ2V0VFZGUGFyYW1zKGEsdyl9KS5jYXRjaChTPT51KFMpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6ZSxpZDphfSksbSgpfSksbmV3IFByb21pc2UoYXN5bmMgbT0+e3ZhciBTO2lmKCEoKFM9bi5zZXNzaW9uQ29uZmlnKSE9bnVsbCYmUy5kaXNhYmxlRGVlcExpbmspKXtjb25zdCBfPWF3YWl0IEd0KHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZSxMZSk7YXdhaXQganQoe2lkOmEsdG9waWM6aSx3Y0RlZXBMaW5rOl99KX1tKCl9KSxwKCldKS50aGVuKG09Pm1bMl0pfSksYyh0aGlzLFwicmVzcG9uZFwiLGFzeW5jIHQ9Pnt2YXIgZSxzO3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6dD8udG9waWN8fCgocz0oZT10Py5yZXNwb25zZSk9PW51bGw/dm9pZCAwOmUuaWQpPT1udWxsP3ZvaWQgMDpzLnRvU3RyaW5nKCkpLHRyYWNlOltELnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9zdGFydGVkXX19KTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVzcG9uZCh0KX1jYXRjaChoKXt0aHJvdyBpLmFkZFRyYWNlKGg/Lm1lc3NhZ2UpLGkuc2V0RXJyb3Ioei5zZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxofWkuYWRkVHJhY2UoRC5zZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9zdWNjZXNzKTtjb25zdHt0b3BpYzpyLHJlc3BvbnNlOm59PXQse2lkOmF9PW4sbD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKTtsLnRyYW5zcG9ydFR5cGU9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBwPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChsLnBlZXIubWV0YWRhdGEsbC50cmFuc3BvcnRUeXBlKTt0cnl7aS5hZGRUcmFjZShELnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX3N0YXJ0ZWQpLEYobik/YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDphLHRvcGljOnIscmVzdWx0Om4ucmVzdWx0LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6cH0pOlEobikmJmF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOnIsZXJyb3I6bi5lcnJvcixhcHBMaW5rOnB9KSx0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlKHQpfWNhdGNoKGgpe3Rocm93IGkuYWRkVHJhY2UoaD8ubWVzc2FnZSksaS5zZXRFcnJvcih6LnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX2ZhaWx1cmUpLGh9fSksYyh0aGlzLFwicGluZ1wiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUGluZyh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJwaW5nKCkgLT4gaXNWYWxpZFBpbmcoKSBmYWlsZWRcIiksc31jb25zdHt0b3BpYzplfT10O2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSl7Y29uc3Qgcz1qKCksaT15ZSgpLnRvU3RyaW5nKCkse2RvbmU6cixyZXNvbHZlOm4scmVqZWN0OmF9PXRlKCk7dGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl9waW5nXCIscyksKHtlcnJvcjpsfSk9PntsP2EobCk6bigpfSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvblBpbmdcIixwYXJhbXM6e30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6cyxyZWxheVJwY0lkOml9KSxyKCldKX1lbHNlIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGUpJiYodGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwaW5nKCkgb24gcGFpcmluZyB0b3BpYyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBpbmcoe3RvcGljOmV9KSl9KSxjKHRoaXMsXCJlbWl0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZEVtaXQodCk7Y29uc3R7dG9waWM6ZSxldmVudDpzLGNoYWluSWQ6aX09dCxyPXllKCkudG9TdHJpbmcoKSxuPWooKTthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25FdmVudFwiLHBhcmFtczp7ZXZlbnQ6cyxjaGFpbklkOml9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLHJlbGF5UnBjSWQ6cixjbGllbnRScGNJZDpufSl9KSxjKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QodCk7Y29uc3R7dG9waWM6ZX09dDtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkpYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uRGVsZXRlXCIscGFyYW1zOkwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxlbWl0RXZlbnQ6ITF9KTtlbHNlIGlmKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGUpKWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzplfSk7ZWxzZXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNNQVRDSEVEX1RPUElDXCIsYFNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBub3QgZm91bmQ6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksYyh0aGlzLFwiZmluZFwiLHQ9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZpbHRlcihlPT5GdChlLHQpKSkpLGModGhpcyxcImdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHNcIiwoKT0+dGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZ2V0QWxsKCkpLGModGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKHQsZSk9Pnt2YXIgczt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmlzVmFsaWRBdXRoZW50aWNhdGUodCk7Y29uc3QgaT1lJiZ0aGlzLmNsaWVudC5jb3JlLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlKSYmKChzPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy5saW5rTW9kZSkscj1pP3EubGlua19tb2RlOnEucmVsYXk7cj09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0e2NoYWluczpuLHN0YXRlbWVudDphPVwiXCIsdXJpOmwsZG9tYWluOnAsbm9uY2U6aCx0eXBlOnUsZXhwOmQsbmJmOnksbWV0aG9kczp3PVtdLGV4cGlyeTptfT10LFM9Wy4uLnQucmVzb3VyY2VzfHxbXV0se3RvcGljOl8sdXJpOmJ9PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5jcmVhdGUoe21ldGhvZHM6W1wid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSx0cmFuc3BvcnRUeXBlOnJ9KTt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyh7bWVzc2FnZTpcIkdlbmVyYXRlZCBuZXcgcGFpcmluZ1wiLHBhaXJpbmc6e3RvcGljOl8sdXJpOmJ9fSk7Y29uc3QgVj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxJPU9lKFYpO2lmKGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLnNldChwZSx7cmVzcG9uc2VUb3BpYzpJLHB1YmxpY0tleTpWfSksdGhpcy5jbGllbnQuYXV0aC5wYWlyaW5nVG9waWNzLnNldChJLHt0b3BpYzpJLHBhaXJpbmdUb3BpYzpffSldKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBzZW5kaW5nIHJlcXVlc3QgdG8gbmV3IHBhaXJpbmcgdG9waWM6ICR7X31gKSx3Lmxlbmd0aD4wKXtjb25zdHtuYW1lc3BhY2U6QX09YmUoblswXSk7bGV0IGs9UXQoQSxcInJlcXVlc3RcIix3KTtBZShTKSYmKGs9SHQoayxTLnBvcCgpKSksUy5wdXNoKGspfWNvbnN0IFQ9bSYmbT5QLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVxLnR0bD9tOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsLEs9e2F1dGhQYXlsb2FkOnt0eXBlOnU/P1wiY2FpcDEyMlwiLGNoYWluczpuLHN0YXRlbWVudDphLGF1ZDpsLGRvbWFpbjpwLHZlcnNpb246XCIxXCIsbm9uY2U6aCxpYXQ6bmV3IERhdGUoKS50b0lTT1N0cmluZygpLGV4cDpkLG5iZjp5LHJlc291cmNlczpTfSxyZXF1ZXN0ZXI6e3B1YmxpY0tleTpWLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6eChUKX0sRWU9e2VpcDE1NTp7Y2hhaW5zOm4sbWV0aG9kczpbLi4ubmV3IFNldChbXCJwZXJzb25hbF9zaWduXCIsLi4ud10pXSxldmVudHM6W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl19fSxOPXtyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOkVlLHJlbGF5czpbe3Byb3RvY29sOlwiaXJuXCJ9XSxwYWlyaW5nVG9waWM6Xyxwcm9wb3Nlcjp7cHVibGljS2V5OlYsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaWQ6aigpfSx7ZG9uZTpUdCxyZXNvbHZlOlVlLHJlamVjdDpTZX09dGUoVCxcIlJlcXVlc3QgZXhwaXJlZFwiKSxpZT1qKCksaGU9dihcInNlc3Npb25fY29ubmVjdFwiLE4uaWQpLFJlPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixpZSksZGU9YXN5bmMoe2Vycm9yOkEsc2Vzc2lvbjprfSk9Pnt0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLEE/U2UoQSk6ayYmVWUoe3Nlc3Npb246a30pfSx2ZT1hc3luYyBBPT57dmFyIGssR2UsamU7aWYoYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoaWUse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxBLmVycm9yKXtjb25zdCBuZT1MKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIpO3JldHVybiBBLmVycm9yLmNvZGU9PT1uZS5jb2RlP3ZvaWQgMDoodGhpcy5ldmVudHMub2ZmKGhlLGRlKSxTZShBLmVycm9yLm1lc3NhZ2UpKX1hd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKE4uaWQpLHRoaXMuZXZlbnRzLm9mZihoZSxkZSk7Y29uc3R7Y2FjYW9zOkZlLHJlc3BvbmRlcjpIfT1BLnJlc3VsdCxUZT1bXSxRZT1bXTtmb3IoY29uc3QgbmUgb2YgRmUpe2F3YWl0IEplKHtjYWNhbzpuZSxwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KXx8KHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuZSxcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLFNlKEwoXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSkpO2NvbnN0e3A6cWV9PW5lLFBlPUFlKHFlLnJlc291cmNlcyksSGU9W1hlKHFlLmlzcyldLHF0PUJlKHFlLmlzcyk7aWYoUGUpe2NvbnN0IE5lPVdlKFBlKSxQdD1aZShQZSk7VGUucHVzaCguLi5OZSksSGUucHVzaCguLi5QdCl9Zm9yKGNvbnN0IE5lIG9mIEhlKVFlLnB1c2goYCR7TmV9OiR7cXR9YCl9Y29uc3QgcmU9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoVixILnB1YmxpY0tleSk7bGV0IHVlO1RlLmxlbmd0aD4wJiYodWU9e3RvcGljOnJlLGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6VixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjpILGNvbnRyb2xsZXI6SC5wdWJsaWNLZXksZXhwaXJ5OngoVykscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOl8sbmFtZXNwYWNlczpldChbLi4ubmV3IFNldChUZSldLFsuLi5uZXcgU2V0KFFlKV0pLHRyYW5zcG9ydFR5cGU6cn0sYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShyZSx7dHJhbnNwb3J0VHlwZTpyfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQocmUsdWUpLF8mJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6XyxtZXRhZGF0YTpILm1ldGFkYXRhfSksdWU9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocmUpKSwoaz10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmsubGlua01vZGUmJihHZT1ILm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmR2UubGlua01vZGUmJihqZT1ILm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmamUudW5pdmVyc2FsJiZlJiYodGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChILm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUocmUse3RyYW5zcG9ydFR5cGU6cS5saW5rX21vZGV9KSksVWUoe2F1dGhzOkZlLHNlc3Npb246dWV9KX07dGhpcy5ldmVudHMub25jZShoZSxkZSksdGhpcy5ldmVudHMub25jZShSZSx2ZSk7bGV0IEllO3RyeXtpZihpKXtjb25zdCBBPXNlKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLEssaWUpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoXyxBKTtjb25zdCBrPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShcIlwiLEEse3R5cGU6enQsZW5jb2Rpbmc6YWV9KTtJZT1nZShlLF8sayl9ZWxzZSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6XyxtZXRob2Q6XCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIscGFyYW1zOkssZXhwaXJ5OnQuZXhwaXJ5LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOmllfSksdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6XyxtZXRob2Q6XCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHBhcmFtczpOLGV4cGlyeTpQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6Ti5pZH0pXSl9Y2F0Y2goQSl7dGhyb3cgdGhpcy5ldmVudHMub2ZmKGhlLGRlKSx0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLEF9cmV0dXJuIGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwoTi5pZCxOKSxhd2FpdCB0aGlzLnNldEF1dGhSZXF1ZXN0KGllLHtyZXF1ZXN0Ok8oUih7fSxLKSx7dmVyaWZ5Q29udGV4dDp7fX0pLHBhaXJpbmdUb3BpYzpfLHRyYW5zcG9ydFR5cGU6cn0pLHt1cmk6SWU/P2IscmVzcG9uc2U6VHR9fSksYyh0aGlzLFwiYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57Y29uc3R7aWQ6ZSxhdXRoczpzfT10LGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6ZS50b1N0cmluZygpLHRyYWNlOltZLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdfX0pO3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKX1jYXRjaChtKXt0aHJvdyBpLnNldEVycm9yKG9lLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLG19Y29uc3Qgcj10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdChlKTtpZighcil0aHJvdyBpLnNldEVycm9yKG9lLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kKSxuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHtlfWApO2NvbnN0IG49ci50cmFuc3BvcnRUeXBlfHxxLnJlbGF5O249PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBhPXIucmVxdWVzdGVyLnB1YmxpY0tleSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHA9T2UoYSksaD17dHlwZTpDZSxyZWNlaXZlclB1YmxpY0tleTphLHNlbmRlclB1YmxpY0tleTpsfSx1PVtdLGQ9W107Zm9yKGNvbnN0IG0gb2Ygcyl7aWYoIWF3YWl0IEplKHtjYWNhbzptLHByb2plY3RJZDp0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0pKXtpLnNldEVycm9yKG9lLmludmFsaWRfY2FjYW8pO2NvbnN0IEk9TChcIlNFU1NJT05fU0VUVExFTUVOVF9GQUlMRURcIixcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpO3Rocm93IGF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDplLHRvcGljOnAsZXJyb3I6SSxlbmNvZGVPcHRzOmh9KSxuZXcgRXJyb3IoSS5tZXNzYWdlKX1pLmFkZFRyYWNlKFkuY2FjYW9zX3ZlcmlmaWVkKTtjb25zdHtwOlN9PW0sXz1BZShTLnJlc291cmNlcyksYj1bWGUoUy5pc3MpXSxWPUJlKFMuaXNzKTtpZihfKXtjb25zdCBJPVdlKF8pLFQ9WmUoXyk7dS5wdXNoKC4uLkkpLGIucHVzaCguLi5UKX1mb3IoY29uc3QgSSBvZiBiKWQucHVzaChgJHtJfToke1Z9YCl9Y29uc3QgeT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShsLGEpO2kuYWRkVHJhY2UoWS5jcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTtsZXQgdztpZih1Py5sZW5ndGg+MCl7dz17dG9waWM6eSxhY2tub3dsZWRnZWQ6ITAsc2VsZjp7cHVibGljS2V5OmwsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6e3B1YmxpY0tleTphLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSxjb250cm9sbGVyOmEsZXhwaXJ5OngoVyksYXV0aGVudGljYXRpb246cyxyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxwYWlyaW5nVG9waWM6ci5wYWlyaW5nVG9waWMsbmFtZXNwYWNlczpldChbLi4ubmV3IFNldCh1KV0sWy4uLm5ldyBTZXQoZCldKSx0cmFuc3BvcnRUeXBlOm59LGkuYWRkVHJhY2UoWS5zdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHkse3RyYW5zcG9ydFR5cGU6bn0pfWNhdGNoKG0pe3Rocm93IGkuc2V0RXJyb3Iob2Uuc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSxtfWkuYWRkVHJhY2UoWS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KHksdyksaS5hZGRUcmFjZShZLnN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpyLnBhaXJpbmdUb3BpYyxtZXRhZGF0YTpyLnJlcXVlc3Rlci5tZXRhZGF0YX0pfWkuYWRkVHJhY2UoWS5wdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlKTt0cnl7YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHt0b3BpYzpwLGlkOmUscmVzdWx0OntjYWNhb3M6cyxyZXNwb25kZXI6e3B1YmxpY0tleTpsLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfX0sZW5jb2RlT3B0czpoLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIucmVxdWVzdGVyLm1ldGFkYXRhLG4pfSl9Y2F0Y2gobSl7dGhyb3cgaS5zZXRFcnJvcihvZS5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmUpLG19cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGUse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOnIucGFpcmluZ1RvcGljfSksdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDppLmV2ZW50SWR9KSx7c2Vzc2lvbjp3fX0pLGModGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7aWQ6ZSxyZWFzb246c309dCxpPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KGUpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke2V9YCk7aS50cmFuc3BvcnRUeXBlPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgcj1pLnJlcXVlc3Rlci5wdWJsaWNLZXksbj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxhPU9lKHIpLGw9e3R5cGU6Q2UscmVjZWl2ZXJQdWJsaWNLZXk6cixzZW5kZXJQdWJsaWNLZXk6bn07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmUsdG9waWM6YSxlcnJvcjpzLGVuY29kZU9wdHM6bCxycGNPcHRzOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZWplY3QsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5yZXF1ZXN0ZXIubWV0YWRhdGEsaS50cmFuc3BvcnRUeXBlKX0pLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGUse21lc3NhZ2U6XCJyZWplY3RlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSl9KSxjKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtyZXF1ZXN0OmUsaXNzOnN9PXQ7cmV0dXJuIFl0KGUscyl9KSxjKHRoaXMsXCJwcm9jZXNzUmVsYXlNZXNzYWdlQ2FjaGVcIiwoKT0+e3NldFRpbWVvdXQoYXN5bmMoKT0+e2lmKHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoIT09MClmb3IoO3RoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA7KXRyeXtjb25zdCB0PXRoaXMucmVsYXlNZXNzYWdlQ2FjaGUuc2hpZnQoKTt0JiZhd2FpdCB0aGlzLm9uUmVsYXlNZXNzYWdlKHQpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0KX19LDUwKX0pLGModGhpcyxcImNsZWFudXBEdXBsaWNhdGVQYWlyaW5nc1wiLGFzeW5jIHQ9PntpZih0LnBhaXJpbmdUb3BpYyl0cnl7Y29uc3QgZT10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KHQucGFpcmluZ1RvcGljKSxzPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXRBbGwoKS5maWx0ZXIoaT0+e3ZhciByLG47cmV0dXJuKChyPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci51cmwpJiYoKG49aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpuLnVybCk9PT10LnBlZXIubWV0YWRhdGEudXJsJiZpLnRvcGljJiZpLnRvcGljIT09ZS50b3BpY30pO2lmKHMubGVuZ3RoPT09MClyZXR1cm47dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYENsZWFuaW5nIHVwICR7cy5sZW5ndGh9IGR1cGxpY2F0ZSBwYWlyaW5nKHMpYCksYXdhaXQgUHJvbWlzZS5hbGwocy5tYXAoaT0+dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOmkudG9waWN9KSkpLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiRHVwbGljYXRlIHBhaXJpbmdzIGNsZWFuIHVwIGZpbmlzaGVkXCIpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19KSxjKHRoaXMsXCJkZWxldGVTZXNzaW9uXCIsYXN5bmMgdD0+e3ZhciBlO2NvbnN0e3RvcGljOnMsZXhwaXJlckhhc0RlbGV0ZWQ6aT0hMSxlbWl0RXZlbnQ6cj0hMCxpZDpuPTB9PXQse3NlbGY6YX09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocyk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKHMpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKHMsTChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHMsXCJzZXNzaW9uXCIpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhhLnB1YmxpY0tleSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZUtleVBhaXIoYS5wdWJsaWNLZXkpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KHMpLGl8fHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwocyksdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oTGUpLmNhdGNoKGw9PnRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpKSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKS5mb3JFYWNoKGw9PntsLnRvcGljPT09cyYmdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QobC5pZCxMKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSkscz09PSgoZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF0pPT1udWxsP3ZvaWQgMDplLnRvcGljKSYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUpLHImJnRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIix7aWQ6bix0b3BpYzpzfSl9KSxjKHRoaXMsXCJkZWxldGVQcm9wb3NhbFwiLGFzeW5jKHQsZSk9PntpZihlKXRyeXtjb25zdCBzPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KSxpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOnMucGFpcmluZ1RvcGljfSk7aT8uc2V0RXJyb3Ioei5wcm9wb3NhbF9leHBpcmVkKX1jYXRjaHt9YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksZT9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicHJvcG9zYWxcIil9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZGVsZXRlKHQsZSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicmVxdWVzdFwiKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLmZpbHRlcihpPT5pLmlkIT09dCkscyYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUsdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIse2lkOnR9KSl9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nQXV0aFJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCxlKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKX0pLGModGhpcyxcInNldEV4cGlyeVwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkmJih0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsZSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7ZXhwaXJ5OmV9KSl9KSxjKHRoaXMsXCJzZXRQcm9wb3NhbFwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQseChQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpKSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5zZXQodCxlKX0pLGModGhpcyxcInNldEF1dGhSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3JlcXVlc3Q6cyxwYWlyaW5nVG9waWM6aSx0cmFuc3BvcnRUeXBlOnI9cS5yZWxheX09ZTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQscy5leHBpcnlUaW1lc3RhbXApLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuc2V0KHQse2F1dGhQYXlsb2FkOnMuYXV0aFBheWxvYWQscmVxdWVzdGVyOnMucmVxdWVzdGVyLGV4cGlyeVRpbWVzdGFtcDpzLmV4cGlyeVRpbWVzdGFtcCxpZDp0LHBhaXJpbmdUb3BpYzppLHZlcmlmeUNvbnRleHQ6cy52ZXJpZnlDb250ZXh0LHRyYW5zcG9ydFR5cGU6cn0pfSksYyh0aGlzLFwic2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0XCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9PXQsbj1pLnJlcXVlc3QuZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bCk7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLG4pLGF3YWl0IHRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LnNldChlLHtpZDplLHRvcGljOnMscGFyYW1zOmksdmVyaWZ5Q29udGV4dDpyfSl9KSxjKHRoaXMsXCJzZW5kUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLG1ldGhvZDpzLHBhcmFtczppLGV4cGlyeTpyLHJlbGF5UnBjSWQ6bixjbGllbnRScGNJZDphLHRocm93T25GYWlsZWRQdWJsaXNoOmwsYXBwTGluazpwLHR2ZjpoLHB1Ymxpc2hPcHRzOnU9e319PXQsZD1zZShzLGksYSk7bGV0IHk7Y29uc3Qgdz0hIXA7dHJ5e2NvbnN0IF89dz9hZTpKO3k9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKGUsZCx7ZW5jb2Rpbmc6X30pfWNhdGNoKF8pe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlcXVlc3QoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtlfSBmYWlsZWRgKSxffWxldCBtO2lmKG10LmluY2x1ZGVzKHMpKXtjb25zdCBfPVUoSlNPTi5zdHJpbmdpZnkoZCkpLGI9VSh5KTttPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlZ2lzdGVyKHtpZDpiLGRlY3J5cHRlZElkOl99KX1jb25zdCBTPVIoUih7fSxQW3NdLnJlcSksdSk7aWYoUy5hdHRlc3RhdGlvbj1tLHImJihTLnR0bD1yKSxuJiYoUy5pZD1uKSx0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUsZCksdyl7Y29uc3QgXz1nZShwLGUseSk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChfLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2UgUy50dmY9TyhSKHt9LGgpLHtjb3JyZWxhdGlvbklkOmQuaWR9KSxsPyhTLmludGVybmFsPU8oUih7fSxTLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChlLHksUykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKGUseSxTKS5jYXRjaChfPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXykpO3JldHVybiBkLmlkfSksYyh0aGlzLFwic2VuZFByb3Bvc2VTZXNzaW9uXCIsYXN5bmMgdD0+e2NvbnN0e3Byb3Bvc2FsOmUscHVibGlzaE9wdHM6c309dCxpPXNlKFwid2Nfc2Vzc2lvblByb3Bvc2VcIixlLGUuaWQpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZS5wYWlyaW5nVG9waWMsaSk7Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoZS5wYWlyaW5nVG9waWMsaSx7ZW5jb2Rpbmc6Sn0pLG49VShKU09OLnN0cmluZ2lmeShpKSksYT1VKHIpLGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2lkOmEsZGVjcnlwdGVkSWQ6bn0pO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoQ3VzdG9tKHtwYXlsb2FkOntwYWlyaW5nVG9waWM6ZS5wYWlyaW5nVG9waWMsc2Vzc2lvblByb3Bvc2FsOnJ9LG9wdHM6TyhSKHt9LHMpLHtwdWJsaXNoTWV0aG9kOlwid2NfcHJvcG9zZVNlc3Npb25cIixhdHRlc3RhdGlvbjpsfSl9KX0pLGModGhpcyxcInNlbmRBcHByb3ZlU2Vzc2lvblwiLGFzeW5jIHQ9Pntjb25zdHtzZXNzaW9uVG9waWM6ZSxwYWlyaW5nUHJvcG9zYWxSZXNwb25zZTpzLHByb3Bvc2FsOmksc2Vzc2lvblNldHRsZVJlcXVlc3Q6cixwdWJsaXNoT3B0czpufT10LGE9aHQoaS5pZCxzKSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShpLnBhaXJpbmdUb3BpYyxhLHtlbmNvZGluZzpKfSkscD1zZShcIndjX3Nlc3Npb25TZXR0bGVcIixyLG4/LmlkKSxoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShlLHAse2VuY29kaW5nOkp9KTt0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUscCksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2hDdXN0b20oe3BheWxvYWQ6e3Nlc3Npb25Ub3BpYzplLHBhaXJpbmdUb3BpYzppLnBhaXJpbmdUb3BpYyxzZXNzaW9uUHJvcG9zYWxSZXNwb25zZTpsLHNlc3Npb25TZXR0bGVtZW50UmVxdWVzdDpofSxvcHRzOk8oUih7fSxuKSx7cHVibGlzaE1ldGhvZDpcIndjX2FwcHJvdmVTZXNzaW9uXCJ9KX0pfSksYyh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jIHQ9Pntjb25zdHtpZDplLHRvcGljOnMscmVzdWx0OmksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6cixlbmNvZGVPcHRzOm4sYXBwTGluazphfT10LGw9aHQoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgeT1oP2FlOko7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxufHx7fSkse2VuY29kaW5nOnl9KSl9Y2F0Y2goeSl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCkseX1sZXQgdSxkO3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKTtjb25zdCB5PXUucmVxdWVzdDt0cnl7ZD10aGlzLmdldFRWRlBhcmFtcyhlLHkucGFyYW1zLGkpfWNhdGNoKHcpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBzZW5kUmVzdWx0KCkgLT4gZ2V0VFZGUGFyYW1zKCkgZmFpbGVkOiAke3c/Lm1lc3NhZ2V9YCl9fWNhdGNoKHkpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLHl9aWYoaCl7Y29uc3QgeT1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTCh5LHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgeT11LnJlcXVlc3QubWV0aG9kLHc9UFt5XS5yZXM7dy50dmY9TyhSKHt9LGQpLHtjb3JyZWxhdGlvbklkOmV9KSxyPyh3LmludGVybmFsPU8oUih7fSx3LmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsdykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCx3KS5jYXRjaChtPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobSkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxlcnJvcjppLGVuY29kZU9wdHM6cixycGNPcHRzOm4sYXBwTGluazphfT10LGw9RXMoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgZD1oP2FlOko7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxyfHx7fSkse2VuY29kaW5nOmR9KSl9Y2F0Y2goZCl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSxkfWxldCB1O3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKX1jYXRjaChkKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLGR9aWYoaCl7Y29uc3QgZD1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChkLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgZD11LnJlcXVlc3QubWV0aG9kLHk9bnx8UFtkXS5yZXM7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLHkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCB0PVtdLGU9W107dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKHM9PntsZXQgaT0hMTtlZShzLmV4cGlyeSkmJihpPSEwKSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocy50b3BpYyl8fChpPSEwKSxpJiZ0LnB1c2gocy50b3BpYyl9KSx0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5mb3JFYWNoKHM9PntlZShzLmV4cGlyeVRpbWVzdGFtcCkmJmUucHVzaChzLmlkKX0pLGF3YWl0IFByb21pc2UuYWxsKFsuLi50Lm1hcChzPT50aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnN9KSksLi4uZS5tYXAocz0+dGhpcy5kZWxldGVQcm9wb3NhbChzKSldKX0pLGModGhpcyxcIm9uUHJvdmlkZXJNZXNzYWdlRXZlbnRcIixhc3luYyB0PT57IXRoaXMuaW5pdGlhbGl6ZWR8fHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA/dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5wdXNoKHQpOmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UodCl9KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgdD0+e3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2godCksYXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZSgpfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RzUXVldWVcIixhc3luYygpPT57aWYodGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9PT0kLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJSZXF1ZXN0IHF1ZXVlIGFscmVhZHkgYWN0aXZlLCBza2lwcGluZy4uLlwiKTtyZXR1cm59Zm9yKHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBSZXF1ZXN0IHF1ZXVlIHN0YXJ0aW5nIHdpdGggJHt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGh9IHJlcXVlc3RzYCk7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoPjA7KXt0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmFjdGl2ZTtjb25zdCB0PXRoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnNoaWZ0KCk7aWYodCl0cnl7YXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdCh0KX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihlKX19dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSx0cmFuc3BvcnRUeXBlOnIsZW5jcnlwdGVkSWQ6bn09dCxhPXMubWV0aG9kO2lmKCF0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0KHt0b3BpYzplLHJlcXVlc3RNZXRob2Q6YX0pKXN3aXRjaChhKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm59KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdChlLHMpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkRlbGV0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOnJ9KTtjYXNlXCJ3Y19zZXNzaW9uRXZlbnRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdCh7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpuLHRyYW5zcG9ydFR5cGU6cn0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZCAke2F9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsdHJhbnNwb3J0VHlwZTppfT10LHI9KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQoZSxzLmlkKSkucmVxdWVzdC5tZXRob2Q7c3dpdGNoKHIpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlKGUscyxpKTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uVXBkYXRlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZShlLHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlKGUscyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlc3BvbnNlIG1ldGhvZCAke3J9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50VW5rbm93blBheWxvYWRcIix0PT57Y29uc3R7dG9waWM6ZX09dCx7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYERlY29kZWQgcGF5bG9hZCBvbiB0b3BpYyAke2V9IGlzIG5vdCBpZGVudGlmaWFibGUgYXMgYSBKU09OLVJQQyByZXF1ZXN0IG9yIGEgcmVzcG9uc2UuYCk7dGhyb3cgbmV3IEVycm9yKHMpfSksYyh0aGlzLFwic2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3RcIix0PT57Y29uc3R7dG9waWM6ZSxyZXF1ZXN0TWV0aG9kOnN9PXQsaT10aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5nZXQoZSk7cmV0dXJuIWl8fGkuaW5jbHVkZXMocyk/ITE6ISEoaS5pbmNsdWRlcyhcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIikmJnRoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIik+MCl9KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOnJ9PXQse3BhcmFtczpuLGlkOmF9PXM7dHJ5e2NvbnN0IGw9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6ZX0pO3RoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9wcm9wb3NhbFwiKT09PTAmJihjb25zb2xlLndhcm4oXCJObyBsaXN0ZW5lciBmb3Igc2Vzc2lvbl9wcm9wb3NhbCBldmVudFwiKSxsPy5zZXRFcnJvcih4dC5wcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQpKSx0aGlzLmlzVmFsaWRDb25uZWN0KFIoe30scy5wYXJhbXMpKTtjb25zdCBwPW4uZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaD1SKHtpZDphLHBhaXJpbmdUb3BpYzplLGV4cGlyeVRpbWVzdGFtcDpwLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6cn0sbik7YXdhaXQgdGhpcy5zZXRQcm9wb3NhbChhLGgpO2NvbnN0IHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmksaGFzaDpVKEpTT04uc3RyaW5naWZ5KHMpKSxlbmNyeXB0ZWRJZDpyLG1ldGFkYXRhOmgucHJvcG9zZXIubWV0YWRhdGF9KTtsPy5hZGRUcmFjZShDdC5lbWl0X3Nlc3Npb25fcHJvcG9zYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9wcm9wb3NhbFwiLHtpZDphLHBhcmFtczpoLHZlcmlmeUNvbnRleHQ6dX0pfWNhdGNoKGwpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOmUsZXJyb3I6bCxycGNPcHRzOlAud2Nfc2Vzc2lvblByb3Bvc2UuYXV0b1JlamVjdH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihsKX19KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixhc3luYyh0LGUscyk9Pntjb25zdHtpZDppfT1lO2lmKEYoZSkpe2NvbnN0e3Jlc3VsdDpyfT1lO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHJlc3VsdDpyfSk7Y29uc3Qgbj10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscHJvcG9zYWw6bn0pO2NvbnN0IGE9bi5wcm9wb3Nlci5wdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2VsZlB1YmxpY0tleTphfSk7Y29uc3QgbD1yLnJlc3BvbmRlclB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwZWVyUHVibGljS2V5Omx9KTtjb25zdCBwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGEsbCk7dGhpcy5wZW5kaW5nU2Vzc2lvbnMuc2V0KGkse3Nlc3Npb25Ub3BpYzpwLHBhaXJpbmdUb3BpYzp0LHByb3Bvc2FsSWQ6aSxwdWJsaWNLZXk6YX0pO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShwLHt0cmFuc3BvcnRUeXBlOnN9KTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzdWJzY3JpcHRpb25JZDpofSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzp0fSl9ZWxzZSBpZihRKGUpKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGkpO2NvbnN0IHI9dihcInNlc3Npb25fY29ubmVjdFwiLGkpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocik9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtyfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMsIDk1NGApO3RoaXMuZXZlbnRzLmVtaXQocix7ZXJyb3I6ZS5lcnJvcn0pfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09ZTt0cnl7dGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QoaSk7Y29uc3R7cmVsYXk6cixjb250cm9sbGVyOm4sZXhwaXJ5OmEsbmFtZXNwYWNlczpsLHNlc3Npb25Qcm9wZXJ0aWVzOnAsc2NvcGVkUHJvcGVydGllczpoLHNlc3Npb25Db25maWc6dX09ZS5wYXJhbXMsZD1bLi4udGhpcy5wZW5kaW5nU2Vzc2lvbnMudmFsdWVzKCldLmZpbmQobT0+bS5zZXNzaW9uVG9waWM9PT10KTtpZighZClyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBQZW5kaW5nIHNlc3Npb24gbm90IGZvdW5kIGZvciB0b3BpYyAke3R9YCk7Y29uc3QgeT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZC5wcm9wb3NhbElkKSx3PU8oUihSKFIoe3RvcGljOnQscmVsYXk6cixleHBpcnk6YSxuYW1lc3BhY2VzOmwsYWNrbm93bGVkZ2VkOiEwLHBhaXJpbmdUb3BpYzpkLnBhaXJpbmdUb3BpYyxyZXF1aXJlZE5hbWVzcGFjZXM6eS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnkub3B0aW9uYWxOYW1lc3BhY2VzLGNvbnRyb2xsZXI6bi5wdWJsaWNLZXksc2VsZjp7cHVibGljS2V5OmQucHVibGljS2V5LG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6bi5wdWJsaWNLZXksbWV0YWRhdGE6bi5tZXRhZGF0YX19LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSx7dHJhbnNwb3J0VHlwZTpxLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQody50b3BpYyx3KSxhd2FpdCB0aGlzLnNldEV4cGlyeSh3LnRvcGljLHcuZXhwaXJ5KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmQucGFpcmluZ1RvcGljLG1ldGFkYXRhOncucGVlci5tZXRhZGF0YX0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9jb25uZWN0XCIse3Nlc3Npb246d30pLHRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fY29ubmVjdFwiLGQucHJvcG9zYWxJZCkse3Nlc3Npb246d30pLHRoaXMucGVuZGluZ1Nlc3Npb25zLmRlbGV0ZShkLnByb3Bvc2FsSWQpLHRoaXMuZGVsZXRlUHJvcG9zYWwoZC5wcm9wb3NhbElkLCExKSx0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncyh3KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmUuaWQsdG9waWM6dCxyZXN1bHQ6ITB9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uU2V0dGxlUmVzcG9uc2VcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTtGKGUpPyhhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHthY2tub3dsZWRnZWQ6ITB9KSx0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7fSkpOlEoZSkmJihhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZSh0LEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9hcHByb3ZlXCIscykse2Vycm9yOmUuZXJyb3J9KSl9KSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3BhcmFtczpzLGlkOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl91cGRhdGVgLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4saSkpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke2l9YCksdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpMKFwiSU5WQUxJRF9VUERBVEVfUkVRVUVTVFwiKX0pO3JldHVybn10aGlzLmlzVmFsaWRVcGRhdGUoUih7dG9waWM6dH0scykpO3RyeXtjZS5zZXQocixpKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtuYW1lc3BhY2VzOnMubmFtZXNwYWNlc30pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzp0LHJlc3VsdDohMH0pfWNhdGNoKGEpe3Rocm93IGNlLmRlbGV0ZShyKSxhfXRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7aWQ6aSx0b3BpYzp0LHBhcmFtczpzfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcImlzUmVxdWVzdE91dE9mU3luY1wiLCh0LGUpPT5lLnRvU3RyaW5nKCkuc2xpY2UoMCwtMyk8dC50b1N0cmluZygpLnNsaWNlKDAsLTMpKSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTt0cnl7dGhpcy5pc1ZhbGlkRXh0ZW5kKHt0b3BpYzp0fSksYXdhaXQgdGhpcy5zZXRFeHBpcnkodCx4KFcpKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXh0ZW5kXCIse2lkOnMsdG9waWM6dH0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOnQsZXJyb3I6aX0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnN9PWU7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOnR9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLHtpZDpzLHRvcGljOnR9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUGluZ1Jlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcGluZ1wiLHMpO3NldFRpbWVvdXQoKCk9PntpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzIDIxNzZgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcGluZ1wiLHMpLHt9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3BpbmdcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSw1MDApfSksYyh0aGlzLFwib25TZXNzaW9uRGVsZXRlUmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtpZDpzfT1lO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzp0LHJlYXNvbjplLnBhcmFtc30pLGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShpPT57dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uY2UoemUucHVibGlzaCxhc3luYygpPT57aShhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsaWQ6c30pKX0pfSksdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOnQscmVzdWx0OiEwfSksdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHt0b3BpYzp0LGVycm9yOkwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKX0pXSkuY2F0Y2goaT0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpKX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgZSxzLGk7Y29uc3R7dG9waWM6cixwYXlsb2FkOm4sYXR0ZXN0YXRpb246YSxlbmNyeXB0ZWRJZDpsLHRyYW5zcG9ydFR5cGU6cH09dCx7aWQ6aCxwYXJhbXM6dX09bjt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdChSKHt0b3BpYzpyfSx1KSk7Y29uc3QgZD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKSx5PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDphLGhhc2g6VShKU09OLnN0cmluZ2lmeShzZShcIndjX3Nlc3Npb25SZXF1ZXN0XCIsdSxoKSkpLGVuY3J5cHRlZElkOmwsbWV0YWRhdGE6ZC5wZWVyLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6cH0pLHc9e2lkOmgsdG9waWM6cixwYXJhbXM6dSx2ZXJpZnlDb250ZXh0Onl9O2F3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KHcpLHA9PT1xLmxpbmtfbW9kZSYmKGU9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoKHM9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWwpLChpPXRoaXMuY2xpZW50LnNpZ25Db25maWcpIT1udWxsJiZpLmRpc2FibGVSZXF1ZXN0UXVldWU/dGhpcy5lbWl0U2Vzc2lvblJlcXVlc3Qodyk6KHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUodyksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpKX1jYXRjaChkKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aCx0b3BpYzpyLGVycm9yOmR9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcmVxdWVzdFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6ZS5yZXN1bHR9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uRXZlbnRSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl9ldmVudF8ke2kuZXZlbnQubmFtZX1gLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4scykpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke3N9YCk7cmV0dXJufXRoaXMuaXNWYWxpZEVtaXQoUih7dG9waWM6dH0saSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHtpZDpzLHRvcGljOnQscGFyYW1zOml9KSxjZS5zZXQocixzKX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIiwodCxlKT0+e2NvbnN0e2lkOnN9PWU7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIix0b3BpYzp0LHBheWxvYWQ6ZX0pLEYoZSk/dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse3Jlc3VsdDplLnJlc3VsdH0pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtlcnJvcjplLmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0XCIsYXN5bmMgdD0+e3ZhciBlO2NvbnN0e3RvcGljOnMscGF5bG9hZDppLGF0dGVzdGF0aW9uOnIsZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOmF9PXQ7dHJ5e2NvbnN0e3JlcXVlc3RlcjpsLGF1dGhQYXlsb2FkOnAsZXhwaXJ5VGltZXN0YW1wOmh9PWkucGFyYW1zLHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOnIsaGFzaDpVKEpTT04uc3RyaW5naWZ5KGkpKSxlbmNyeXB0ZWRJZDpuLG1ldGFkYXRhOmwubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTphfSksZD17cmVxdWVzdGVyOmwscGFpcmluZ1RvcGljOnMsaWQ6aS5pZCxhdXRoUGF5bG9hZDpwLHZlcmlmeUNvbnRleHQ6dSxleHBpcnlUaW1lc3RhbXA6aH07YXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChpLmlkLHtyZXF1ZXN0OmQscGFpcmluZ1RvcGljOnMsdHJhbnNwb3J0VHlwZTphfSksYT09PXEubGlua19tb2RlJiYoZT1sLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAobC5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIix7dG9waWM6cyxwYXJhbXM6aS5wYXJhbXMsaWQ6aS5pZCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCk7Y29uc3QgcD1pLnBhcmFtcy5yZXF1ZXN0ZXIucHVibGljS2V5LGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksdT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5wYXJhbXMucmVxdWVzdGVyLm1ldGFkYXRhLGEpLGQ9e3R5cGU6Q2UscmVjZWl2ZXJQdWJsaWNLZXk6cCxzZW5kZXJQdWJsaWNLZXk6aH07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmkuaWQsdG9waWM6cyxlcnJvcjpsLGVuY29kZU9wdHM6ZCxycGNPcHRzOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5hdXRvUmVqZWN0LGFwcExpbms6dX0pfX0pLGModGhpcyxcImFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlXCIsdD0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpfSksYyh0aGlzLFwiY2xlYW51cEFmdGVyUmVzcG9uc2VcIix0PT57dGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodC5yZXNwb25zZS5pZCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0scHQodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpfSksYyh0aGlzLFwiY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpY1wiLCh7dG9waWM6dCxlcnJvcjplfSk9Pntjb25zdCBzPXRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5wZW5kaW5nO3MubGVuZ3RoPjAmJnMuZmlsdGVyKGk9PmkudG9waWM9PT10JiZpLnJlcXVlc3QubWV0aG9kPT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKS5mb3JFYWNoKGk9Pntjb25zdCByPWkucmVxdWVzdC5pZCxuPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixyKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG4pPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7bn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6ZX0pfSl9KSxjKHRoaXMsXCJwcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLCgpPT57aWYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPT09JC5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGFscmVhZHkgYWN0aXZlLlwiKTtyZXR1cm59Y29uc3QgdD10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF07aWYoIXQpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGVtcHR5LlwiKTtyZXR1cm59dHJ5e3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KHQpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19KSxjKHRoaXMsXCJlbWl0U2Vzc2lvblJlcXVlc3RcIix0PT57aWYodGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmhhcyh0LmlkKSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oe2lkOnQuaWR9LGBTa2lwcGluZyBlbWl0dGluZyBcXGBzZXNzaW9uX3JlcXVlc3RcXGAgZXZlbnQgZm9yIGR1cGxpY2F0ZSByZXF1ZXN0LiBpZDogJHt0LmlkfWApO3JldHVybn10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5hY3RpdmUsdGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmFkZCh0LmlkKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdFwiLHQpfSksYyh0aGlzLFwib25QYWlyaW5nQ3JlYXRlZFwiLHQ9PntpZih0Lm1ldGhvZHMmJnRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLnNldCh0LnRvcGljLHQubWV0aG9kcyksdC5hY3RpdmUpcmV0dXJuO2NvbnN0IGU9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZmluZChzPT5zLnBhaXJpbmdUb3BpYz09PXQudG9waWMpO2UmJnRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOnQudG9waWMscGF5bG9hZDpzZShcIndjX3Nlc3Npb25Qcm9wb3NlXCIsTyhSKHt9LGUpLHtyZXF1aXJlZE5hbWVzcGFjZXM6ZS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzLHJlbGF5czplLnJlbGF5cyxwcm9wb3NlcjplLnByb3Bvc2VyLHNlc3Npb25Qcm9wZXJ0aWVzOmUuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczplLnNjb3BlZFByb3BlcnRpZXN9KSxlLmlkKSxhdHRlc3RhdGlvbjplLmF0dGVzdGF0aW9uLGVuY3J5cHRlZElkOmUuZW5jcnlwdGVkSWR9KX0pLGModGhpcyxcImlzVmFsaWRDb25uZWN0XCIsYXN5bmMgdD0+e2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgY29ubmVjdCgpIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cGFpcmluZ1RvcGljOmUscmVxdWlyZWROYW1lc3BhY2VzOnMsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOm4scmVsYXlzOmF9PXQ7aWYoQihlKXx8YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKGUpLCFKdChhLCEwKSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSByZWxheXM6ICR7YX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9aWYocyYmIUIocykmJnR0KHMpIT09MCl7Y29uc3QgbD1cInJlcXVpcmVkTmFtZXNwYWNlcyBhcmUgZGVwcmVjYXRlZCBhbmQgYXJlIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gb3B0aW9uYWxOYW1lc3BhY2VzXCI7W1wiZmF0YWxcIixcImVycm9yXCIsXCJzaWxlbnRcIl0uaW5jbHVkZXModGhpcy5jbGllbnQubG9nZ2VyLmxldmVsKT9jb25zb2xlLndhcm4obCk6dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCksdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMocyxcInJlcXVpcmVkTmFtZXNwYWNlc1wiKX1pZihpJiYhQihpKSYmdHQoaSkhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhpLFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLHImJiFCKHIpJiZ0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSxuJiYhQihuKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhuLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBsPU9iamVjdC5rZXlzKHN8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoaXx8e30pKTtpZighT2JqZWN0LmtleXMobikuZXZlcnkocD0+bC5pbmNsdWRlcyhwLnNwbGl0KFwiOlwiKVswXSkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiByZXF1aXJlZC9vcHRpb25hbCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShuKX0sIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXM6ICR7SlNPTi5zdHJpbmdpZnkobCl9YCl9fSksYyh0aGlzLFwidmFsaWRhdGVOYW1lc3BhY2VzXCIsKHQsZSk9Pntjb25zdCBzPVh0KHQsXCJjb25uZWN0KClcIixlKTtpZihzKXRocm93IG5ldyBFcnJvcihzLm1lc3NhZ2UpfSksYyh0aGlzLFwiaXNWYWxpZEFwcHJvdmVcIixhc3luYyB0PT57aWYoIU0odCkpdGhyb3cgbmV3IEVycm9yKGcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHBhcmFtczogJHt0fWApLm1lc3NhZ2UpO2NvbnN0e2lkOmUsbmFtZXNwYWNlczpzLHJlbGF5UHJvdG9jb2w6aSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6bn09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZSk7Y29uc3QgYT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZSksbD14ZShzLFwiYXBwcm92ZSgpXCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKGwubWVzc2FnZSk7Y29uc3QgcD1zdChhLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwiYXBwcm92ZSgpXCIpO2lmKHApdGhyb3cgbmV3IEVycm9yKHAubWVzc2FnZSk7aWYoIVgoaSwhMCkpe2NvbnN0e21lc3NhZ2U6aH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcmVsYXlQcm90b2NvbDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihoKX1pZihyJiYhQihyKSYmdGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhyLFwic2Vzc2lvblByb3BlcnRpZXNcIiksbiYmIUIobikpe3RoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMobixcInNjb3BlZFByb3BlcnRpZXNcIik7Y29uc3QgaD1uZXcgU2V0KE9iamVjdC5rZXlzKHMpKTtpZighT2JqZWN0LmtleXMobikuZXZlcnkodT0+aC5oYXModS5zcGxpdChcIjpcIilbMF0pKSl0aHJvdyBuZXcgRXJyb3IoYFNjb3BlZCBwcm9wZXJ0aWVzIG11c3QgYmUgYSBzdWJzZXQgb2YgYXBwcm92ZWQgbmFtZXNwYWNlcywgcmVjZWl2ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobil9LCBhcHByb3ZlZCBuYW1lc3BhY2VzOiAke0FycmF5LmZyb20oaCkuam9pbihcIiwgXCIpfWApfX0pLGModGhpcyxcImlzVmFsaWRSZWplY3RcIixhc3luYyB0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6aX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9Y29uc3R7aWQ6ZSxyZWFzb246c309dDtpZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZSksIUJ0KHMpKXtjb25zdHttZXNzYWdlOml9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcmVhc29uOiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihpKX19KSxjKHRoaXMsXCJpc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3RcIix0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0e3JlbGF5OmUsY29udHJvbGxlcjpzLG5hbWVzcGFjZXM6aSxleHBpcnk6cn09dDtpZighV3QoZSkpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHJlbGF5IHByb3RvY29sIHNob3VsZCBiZSBhIHN0cmluZ1wiKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3Qgbj1adChzLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7Y29uc3QgYT14ZShpLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKGEpdGhyb3cgbmV3IEVycm9yKGEubWVzc2FnZSk7aWYoZWUocikpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIkVYUElSRURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTt0aHJvdyBuZXcgRXJyb3IobCl9fSksYyh0aGlzLFwiaXNWYWxpZFVwZGF0ZVwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHVwZGF0ZSgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLG5hbWVzcGFjZXM6c309dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKTtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUpLHI9eGUocyxcInVwZGF0ZSgpXCIpO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIubWVzc2FnZSk7Y29uc3Qgbj1zdChpLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwidXBkYXRlKClcIik7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKX0pLGModGhpcyxcImlzVmFsaWRFeHRlbmRcIixhc3luYyB0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBleHRlbmQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKX0pLGModGhpcyxcImlzVmFsaWRSZXF1ZXN0XCIsYXN5bmMgdD0+e2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOmF9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLHJlcXVlc3Q6cyxjaGFpbklkOmksZXhwaXJ5OnJ9PXQ7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3R7bmFtZXNwYWNlczpufT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtpZighaXQobixpKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCFlcyhzKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighdHMobixpLHMubWV0aG9kKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBtZXRob2Q6ICR7cy5tZXRob2R9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKHImJiFzcyhyLF9lKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBleHBpcnk6ICR7cn0uIEV4cGlyeSBtdXN0IGJlIGEgbnVtYmVyIChpbiBzZWNvbmRzKSBiZXR3ZWVuICR7X2UubWlufSBhbmQgJHtfZS5tYXh9YCk7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGModGhpcyxcImlzVmFsaWRSZXNwb25kXCIsYXN5bmMgdD0+e3ZhciBlO2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzLHJlc3BvbnNlOml9PXQ7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhzKX1jYXRjaChuKXt0aHJvdyhlPXQ/LnJlc3BvbnNlKSE9bnVsbCYmZS5pZCYmdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZSh0KSxufWlmKCFpcyhpKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShpKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3Qgcj10aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5nZXQoaS5pZCk7aWYoci50b3BpYyE9PXMpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU01BVENIRURfVE9QSUNcIixgUmVxdWVzdCByZXNwb25zZSB0b3BpYyBtaXNtYXRjaC4gcmVxSWQ6ICR7aS5pZH0sIGV4cGVjdGVkIHRvcGljOiAke3IudG9waWN9LCByZWNlaXZlZCB0b3BpYzogJHtzfWApO3Rocm93IG5ldyBFcnJvcihuKX19KSxjKHRoaXMsXCJpc1ZhbGlkUGluZ1wiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMoZSl9KSxjKHRoaXMsXCJpc1ZhbGlkRW1pdFwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6ZSxldmVudDpzLGNoYWluSWQ6aX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3R7bmFtZXNwYWNlczpyfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtpZighaXQocixpKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWlmKCFycyhzKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9aWYoIW5zKHIsaSxzLm5hbWUpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihuKX19KSxjKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMoZSl9KSxjKHRoaXMsXCJpc1ZhbGlkQXV0aGVudGljYXRlXCIsdD0+e2NvbnN0e2NoYWluczplLHVyaTpzLGRvbWFpbjppLG5vbmNlOnJ9PXQ7aWYoIUFycmF5LmlzQXJyYXkoZSl8fGUubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJjaGFpbnMgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXlcIik7aWYoIVgocywhMSkpdGhyb3cgbmV3IEVycm9yKFwidXJpIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighWChpLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJkb21haW4gaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKCFYKHIsITEpKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZihbLi4ubmV3IFNldChlLm1hcChhPT5iZShhKS5uYW1lc3BhY2UpKV0ubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktbmFtZXNwYWNlIHJlcXVlc3RzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgcmVxdWVzdCBzaW5nbGUgbmFtZXNwYWNlIG9ubHkuXCIpO2NvbnN0e25hbWVzcGFjZTpufT1iZShlWzBdKTtpZihuIT09XCJlaXAxNTVcIil0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IGVpcDE1NSBuYW1lc3BhY2UgaXMgc3VwcG9ydGVkIGZvciBhdXRoZW50aWNhdGVkIHNlc3Npb25zLiBQbGVhc2UgdXNlIC5jb25uZWN0KCkgZm9yIG5vbi1laXAxNTUgY2hhaW5zLlwiKX0pLGModGhpcyxcImdldFZlcmlmeUNvbnRleHRcIixhc3luYyB0PT57Y29uc3R7YXR0ZXN0YXRpb25JZDplLGhhc2g6cyxlbmNyeXB0ZWRJZDppLG1ldGFkYXRhOnIsdHJhbnNwb3J0VHlwZTpufT10LGE9e3ZlcmlmaWVkOnt2ZXJpZnlVcmw6ci52ZXJpZnlVcmx8fFZ0LHZhbGlkYXRpb246XCJVTktOT1dOXCIsb3JpZ2luOnIudXJsfHxcIlwifX07dHJ5e2lmKG49PT1xLmxpbmtfbW9kZSl7Y29uc3QgcD10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQocixuKTtyZXR1cm4gYS52ZXJpZmllZC52YWxpZGF0aW9uPXAmJm5ldyBVUkwocCkub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIixhfWNvbnN0IGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVzb2x2ZSh7YXR0ZXN0YXRpb25JZDplLGhhc2g6cyxlbmNyeXB0ZWRJZDppLHZlcmlmeVVybDpyLnZlcmlmeVVybH0pO2wmJihhLnZlcmlmaWVkLm9yaWdpbj1sLm9yaWdpbixhLnZlcmlmaWVkLmlzU2NhbT1sLmlzU2NhbSxhLnZlcmlmaWVkLnZhbGlkYXRpb249bC5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiKX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihsKX1yZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmRlYnVnKGBWZXJpZnkgY29udGV4dDogJHtKU09OLnN0cmluZ2lmeShhKX1gKSxhfSksYyh0aGlzLFwidmFsaWRhdGVTZXNzaW9uUHJvcHNcIiwodCxlKT0+e09iamVjdC52YWx1ZXModCkuZm9yRWFjaCgocyxpKT0+e2lmKHM9PW51bGwpe2NvbnN0e21lc3NhZ2U6cn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IG11c3QgY29udGFpbiBhbiBleGlzdGluZyB2YWx1ZSBmb3IgZWFjaCBrZXkuIFJlY2VpdmVkOiAke3N9IGZvciBrZXkgJHtPYmplY3Qua2V5cyh0KVtpXX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9fSl9KSxjKHRoaXMsXCJnZXRQZW5kaW5nQXV0aFJlcXVlc3RcIix0PT57Y29uc3QgZT10aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmdldCh0KTtyZXR1cm4gdHlwZW9mIGU9PVwib2JqZWN0XCI/ZTp2b2lkIDB9KSxjKHRoaXMsXCJhZGRUb1JlY2VudGx5RGVsZXRlZFwiLCh0LGUpPT57aWYodGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2V0KHQsZSksdGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2l6ZT49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCl7bGV0IHM9MDtjb25zdCBpPXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQvMjtmb3IoY29uc3QgciBvZiB0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5rZXlzKCkpe2lmKHMrKz49aSlicmVhazt0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5kZWxldGUocil9fX0pLGModGhpcyxcImNoZWNrUmVjZW50bHlEZWxldGVkXCIsdD0+e2NvbnN0IGU9dGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuZ2V0KHQpO2lmKGUpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBSZWNvcmQgd2FzIHJlY2VudGx5IGRlbGV0ZWQgLSAke2V9OiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLGModGhpcyxcImlzTGlua01vZGVFbmFibGVkXCIsKHQsZSk9Pnt2YXIgcyxpLHIsbixhLGwscCxoLHU7cmV0dXJuIXR8fGUhPT1xLmxpbmtfbW9kZT8hMTooKGk9KHM9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpzLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aS5saW5rTW9kZSk9PT0hMCYmKChuPShyPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOm4udW5pdmVyc2FsKSE9PXZvaWQgMCYmKChsPShhPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmwudW5pdmVyc2FsKSE9PVwiXCImJigocD10Py5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnAudW5pdmVyc2FsKSE9PXZvaWQgMCYmKChoPXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aC51bml2ZXJzYWwpIT09XCJcIiYmKCh1PXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6dS5saW5rTW9kZSk9PT0hMCYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXModC5yZWRpcmVjdC51bml2ZXJzYWwpJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCJ9KSxjKHRoaXMsXCJnZXRBcHBMaW5rSWZFbmFibGVkXCIsKHQsZSk9Pnt2YXIgcztyZXR1cm4gdGhpcy5pc0xpbmtNb2RlRW5hYmxlZCh0LGUpPyhzPXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWw6dm9pZCAwfSksYyh0aGlzLFwiaGFuZGxlTGlua01vZGVNZXNzYWdlXCIsKHt1cmw6dH0pPT57aWYoIXR8fCF0LmluY2x1ZGVzKFwid2NfZXZcIil8fCF0LmluY2x1ZGVzKFwidG9waWNcIikpcmV0dXJuO2NvbnN0IGU9cnQodCxcInRvcGljXCIpfHxcIlwiLHM9ZGVjb2RlVVJJQ29tcG9uZW50KHJ0KHQsXCJ3Y19ldlwiKXx8XCJcIiksaT10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSk7aSYmdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7dHJhbnNwb3J0VHlwZTpxLmxpbmtfbW9kZX0pLHRoaXMuY2xpZW50LmNvcmUuZGlzcGF0Y2hFbnZlbG9wZSh7dG9waWM6ZSxtZXNzYWdlOnMsc2Vzc2lvbkV4aXN0czppfSl9KSxjKHRoaXMsXCJyZWdpc3RlckxpbmtNb2RlTGlzdGVuZXJzXCIsYXN5bmMoKT0+e3ZhciB0O2lmKG9zKCl8fGFzKCkmJih0PXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmdC5saW5rTW9kZSl7Y29uc3QgZT1nbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nO2lmKHR5cGVvZiBlPFwidVwiKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cmxcIix0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSx0aGlzLmNsaWVudC5uYW1lKTtjb25zdCBzPWF3YWl0IGUuZ2V0SW5pdGlhbFVSTCgpO3MmJnNldFRpbWVvdXQoKCk9Pnt0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSh7dXJsOnN9KX0sNTApfX19KSxjKHRoaXMsXCJnZXRUVkZQYXJhbXNcIiwodCxlLHMpPT57dmFyIGkscixuO2lmKCEoKGk9ZS5yZXF1ZXN0KSE9bnVsbCYmaS5tZXRob2QpKXJldHVybnt9O2NvbnN0IGE9e2NvcnJlbGF0aW9uSWQ6dCxycGNNZXRob2RzOltlLnJlcXVlc3QubWV0aG9kXSxjaGFpbklkOmUuY2hhaW5JZH07dHJ5e2NvbnN0IGw9dGhpcy5leHRyYWN0VHhIYXNoZXNGcm9tUmVzdWx0KGUucmVxdWVzdCxzKTthLnR4SGFzaGVzPWwsYS5jb250cmFjdEFkZHJlc3Nlcz10aGlzLmlzVmFsaWRDb250cmFjdERhdGEoZS5yZXF1ZXN0LnBhcmFtcyk/WyhuPShyPWUucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpyWzBdKT09bnVsbD92b2lkIDA6bi50b106W119Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCxcIkVycm9yIGdldHRpbmcgVFZGIHBhcmFtc1wiKX1yZXR1cm4gYX0pLGModGhpcyxcImlzVmFsaWRDb250cmFjdERhdGFcIix0PT57dmFyIGU7aWYoIXQpcmV0dXJuITE7dHJ5e2NvbnN0IHM9dD8uZGF0YXx8KChlPXQ/LlswXSk9PW51bGw/dm9pZCAwOmUuZGF0YSk7aWYoIXMuc3RhcnRzV2l0aChcIjB4XCIpKXJldHVybiExO2NvbnN0IGk9cy5zbGljZSgyKTtyZXR1cm4vXlswLTlhLWZBLUZdKiQvLnRlc3QoaSk/aS5sZW5ndGglMj09PTA6ITF9Y2F0Y2h7fXJldHVybiExfSksYyh0aGlzLFwiZXh0cmFjdFR4SGFzaGVzRnJvbVJlc3VsdFwiLCh0LGUpPT57dmFyIHM7dHJ5e2lmKCFlKXJldHVybltdO2NvbnN0IGk9dC5tZXRob2Qscj15dFtpXTtpZihpPT09XCJzdWlfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW2NzKGUudHJhbnNhY3Rpb25CeXRlcyldO2lmKGk9PT1cIm5lYXJfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW250KGUpXTtpZihpPT09XCJuZWFyX3NpZ25UcmFuc2FjdGlvbnNcIilyZXR1cm4gZS5tYXAoYT0+bnQoYSkpO2lmKGk9PT1cInhycGxfc2lnblRyYW5zYWN0aW9uRm9yXCJ8fGk9PT1cInhycGxfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuWyhzPWUudHhfanNvbik9PW51bGw/dm9pZCAwOnMuaGFzaF07aWYoaT09PVwicG9sa2Fkb3Rfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW2xzKHt0cmFuc2FjdGlvbjp0LnBhcmFtcy50cmFuc2FjdGlvblBheWxvYWQsc2lnbmF0dXJlOmUuc2lnbmF0dXJlfSldO2lmKGk9PT1cImFsZ29fc2lnblR4blwiKXJldHVybiBvdChlKT9lLm1hcChhPT5hdChhKSk6W2F0KGUpXTtpZihpPT09XCJjb3Ntb3Nfc2lnbkRpcmVjdFwiKXJldHVybltwcyhlKV07aWYoaT09PVwid2FsbGV0X3NlbmRDYWxsc1wiKXJldHVybiBocyhlKTtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm5bZV07Y29uc3Qgbj1lW3Iua2V5XTtpZihvdChuKSlyZXR1cm4gaT09PVwic29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnNcIj9uLm1hcChhPT5kcyhhKSk6bjtpZih0eXBlb2Ygbj09XCJzdHJpbmdcIilyZXR1cm5bbl19Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oaSxcIkVycm9yIGV4dHJhY3RpbmcgdHggaGFzaGVzIGZyb20gcmVzdWx0XCIpfXJldHVybltdfSl9YXN5bmMgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzKCl7dHJ5e2NvbnN0IG89dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLHQ9dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmdldFdpdGhvdXRBY2sobyk7Zm9yKGNvbnN0W2Usc11vZiBPYmplY3QuZW50cmllcyh0KSlmb3IoY29uc3QgaSBvZiBzKXRyeXthd2FpdCB0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQoe3RvcGljOmUsbWVzc2FnZTppLHB1Ymxpc2hlZEF0OkRhdGUubm93KCl9KX1jYXRjaHt0aGlzLmNsaWVudC5sb2dnZXIud2FybihgRXJyb3IgcHJvY2Vzc2luZyBwZW5kaW5nIG1lc3NhZ2UgZXZlbnQgZm9yIHRvcGljOiAke2V9LCBtZXNzYWdlOiAke2l9YCl9fWNhdGNoKG8pe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKG8sXCJwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMgZmFpbGVkXCIpfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6b309ZyhcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKG8pfX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1yZWdpc3RlclJlbGF5ZXJFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub24oemUubWVzc2FnZSxvPT57dGhpcy5vblByb3ZpZGVyTWVzc2FnZUV2ZW50KG8pfSl9YXN5bmMgb25SZWxheU1lc3NhZ2Uobyl7Y29uc3R7dG9waWM6dCxtZXNzYWdlOmUsYXR0ZXN0YXRpb246cyx0cmFuc3BvcnRUeXBlOml9PW8se3B1YmxpY0tleTpyfT10aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmtleXMuaW5jbHVkZXMocGUpP3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuZ2V0KHBlKTp7cmVzcG9uc2VUb3BpYzp2b2lkIDAscHVibGljS2V5OnZvaWQgMH07dHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVjb2RlKHQsZSx7cmVjZWl2ZXJQdWJsaWNLZXk6cixlbmNvZGluZzppPT09cS5saW5rX21vZGU/YWU6Sn0pO19zKG4pPyh0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KHQsbiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6bixhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aSxlbmNyeXB0ZWRJZDpVKGUpfSkpOmZzKG4pPyhhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bix0cmFuc3BvcnRUeXBlOml9KSx0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZGVsZXRlKHQsbi5pZCkpOmF3YWl0IHRoaXMub25SZWxheUV2ZW50VW5rbm93blBheWxvYWQoe3RvcGljOnQscGF5bG9hZDpuLHRyYW5zcG9ydFR5cGU6aX0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxlKX1jYXRjaChuKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iobil9fXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5vbihidC5leHBpcmVkLGFzeW5jIG89Pntjb25zdHt0b3BpYzp0LGlkOmV9PSR0KG8udGFyZ2V0KTtpZihlJiZ0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5rZXlzLmluY2x1ZGVzKGUpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChlLGcoXCJFWFBJUkVEXCIpLCEwKTtpZihlJiZ0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmtleXMuaW5jbHVkZXMoZSkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KGUsZyhcIkVYUElSRURcIiksITApO3Q/dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpJiYoYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0LGV4cGlyZXJIYXNEZWxldGVkOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V4cGlyZVwiLHt0b3BpYzp0fSkpOmUmJihhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGUsITApLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwicHJvcG9zYWxfZXhwaXJlXCIse2lkOmV9KSl9KX1yZWdpc3RlclBhaXJpbmdFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKFllLmNyZWF0ZSxvPT50aGlzLm9uUGFpcmluZ0NyZWF0ZWQobykpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oWWUuZGVsZXRlLG89Pnt0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8udG9waWMsXCJwYWlyaW5nXCIpfSl9aXNWYWxpZFBhaXJpbmdUb3BpYyhvKXtpZighWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKCF0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZihlZSh0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KG8pLmV4cGlyeSkpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX19YXN5bmMgaXNWYWxpZFNlc3Npb25Ub3BpYyhvKXtpZighWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQobyksIXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gdG9waWMgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZihlZSh0aGlzLmNsaWVudC5zZXNzaW9uLmdldChvKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHNlc3Npb24gdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgZG9lcyBub3QgZXhpc3QgaW4ga2V5Y2hhaW46ICR7b31gKTt0aHJvdyBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KSxuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMobyl7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChvKSx0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG8pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobykpdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKG8pO2Vsc2UgaWYoWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWVsc2V7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRQcm9wb3NhbElkKG8pe2lmKCFLdChvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZighdGhpcy5jbGllbnQucHJvcG9zYWwua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoZWUodGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG8pLmV4cGlyeVRpbWVzdGFtcCkpe2F3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwobyk7Y29uc3R7bWVzc2FnZTp0fT1nKFwiRVhQSVJFRFwiLGBwcm9wb3NhbCBpZDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX19fWNsYXNzIFZzIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCxkdCx3ZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgSXQgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LHV0LHdlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBrcyBleHRlbmRzIFp7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsd3Qsd2UsZT0+ZS5pZCksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgRHMgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LEV0LGxlLCgpPT5wZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgTHMgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LFN0LGxlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBNcyBleHRlbmRzIFp7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsUnQsbGUsZT0+ZS5pZCksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19dmFyICRzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLcz0oRSxvLHQpPT5vIGluIEU/JHMoRSxvLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6RVtvXT10LEtlPShFLG8sdCk9PktzKEUsdHlwZW9mIG8hPVwic3ltYm9sXCI/bytcIlwiOm8sdCk7Y2xhc3MgVXN7Y29uc3RydWN0b3Iobyx0KXt0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10LEtlKHRoaXMsXCJhdXRoS2V5c1wiKSxLZSh0aGlzLFwicGFpcmluZ1RvcGljc1wiKSxLZSh0aGlzLFwicmVxdWVzdHNcIiksdGhpcy5hdXRoS2V5cz1uZXcgRHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnBhaXJpbmdUb3BpY3M9bmV3IExzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5yZXF1ZXN0cz1uZXcgTXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1hc3luYyBpbml0KCl7YXdhaXQgdGhpcy5hdXRoS2V5cy5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nVG9waWNzLmluaXQoKSxhd2FpdCB0aGlzLnJlcXVlc3RzLmluaXQoKX19dmFyIEdzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqcz0oRSxvLHQpPT5vIGluIEU/R3MoRSxvLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6RVtvXT10LGY9KEUsbyx0KT0+anMoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBmZSBleHRlbmRzIEx0e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLGYodGhpcyxcInByb3RvY29sXCIsVmUpLGYodGhpcyxcInZlcnNpb25cIixrZSksZih0aGlzLFwibmFtZVwiLG1lLm5hbWUpLGYodGhpcyxcIm1ldGFkYXRhXCIpLGYodGhpcyxcImNvcmVcIiksZih0aGlzLFwibG9nZ2VyXCIpLGYodGhpcyxcImV2ZW50c1wiLG5ldyBPdCksZih0aGlzLFwiZW5naW5lXCIpLGYodGhpcyxcInNlc3Npb25cIiksZih0aGlzLFwicHJvcG9zYWxcIiksZih0aGlzLFwicGVuZGluZ1JlcXVlc3RcIiksZih0aGlzLFwiYXV0aFwiKSxmKHRoaXMsXCJzaWduQ29uZmlnXCIpLGYodGhpcyxcIm9uXCIsKGUscyk9PnRoaXMuZXZlbnRzLm9uKGUscykpLGYodGhpcyxcIm9uY2VcIiwoZSxzKT0+dGhpcy5ldmVudHMub25jZShlLHMpKSxmKHRoaXMsXCJvZmZcIiwoZSxzKT0+dGhpcy5ldmVudHMub2ZmKGUscykpLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGUscyk9PnRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGUscykpLGYodGhpcyxcInJlbW92ZUFsbExpc3RlbmVyc1wiLGU9PnRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyhlKSksZih0aGlzLFwiY29ubmVjdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmNvbm5lY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInBhaXJcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5wYWlyKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVqZWN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0KGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJ1cGRhdGVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS51cGRhdGUoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImV4dGVuZFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmV4dGVuZChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVxdWVzdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlcXVlc3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInJlc3BvbmRcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZXNwb25kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJwaW5nXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGluZyhlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZW1pdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmVtaXQoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5kaXNjb25uZWN0KGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJmaW5kXCIsZT0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZmluZChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0c1wiLCgpPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX0pLGYodGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKGUscyk9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmF1dGhlbnRpY2F0ZShlLHMpfWNhdGNoKGkpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGkubWVzc2FnZSksaX19KSxmKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLGU9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZvcm1hdEF1dGhNZXNzYWdlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJhcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZWplY3RTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksdGhpcy5uYW1lPW8/Lm5hbWV8fG1lLm5hbWUsdGhpcy5tZXRhZGF0YT11cyhvPy5tZXRhZGF0YSksdGhpcy5zaWduQ29uZmlnPW8/LnNpZ25Db25maWc7Y29uc3QgdD1ncyh7bG9nZ2VyOm8/LmxvZ2dlcnx8bWUubG9nZ2VyLG5hbWU6dGhpcy5uYW1lfSk7dGhpcy5sb2dnZXI9dCx0aGlzLmNvcmU9bz8uY29yZXx8bmV3IGt0KG8pLHRoaXMuc2Vzc2lvbj1uZXcgSXQodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBWcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IGtzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IENzKHRoaXMpLHRoaXMuYXV0aD1uZXcgVXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChvKXtjb25zdCB0PW5ldyBmZShvKTtyZXR1cm4gYXdhaXQgdC5pbml0aWFsaXplKCksdH1nZXQgY29udGV4dCgpe3JldHVybiB5cyh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLHRoaXMubG9nZ2VyLmVycm9yKG8ubWVzc2FnZSksb319fWNvbnN0IEZzPUl0LFFzPWZlO2V4cG9ydHtmdCBhcyBBVVRIX0NPTlRFWFQsRXQgYXMgQVVUSF9LRVlTX0NPTlRFWFQsU3QgYXMgQVVUSF9QQUlSSU5HX1RPUElDX0NPTlRFWFQsX3QgYXMgQVVUSF9QUk9UT0NPTCxwZSBhcyBBVVRIX1BVQkxJQ19LRVlfTkFNRSxSdCBhcyBBVVRIX1JFUVVFU1RfQ09OVEVYVCxsZSBhcyBBVVRIX1NUT1JBR0VfUFJFRklYLFBzIGFzIEFVVEhfVkVSU0lPTixndCBhcyBFTkdJTkVfQ09OVEVYVCwkIGFzIEVOR0lORV9RVUVVRV9TVEFURVMsUCBhcyBFTkdJTkVfUlBDX09QVFMsSXMgYXMgSElTVE9SWV9DT05URVhULHZzIGFzIEhJU1RPUllfRVZFTlRTLFRzIGFzIEhJU1RPUllfU1RPUkFHRV9WRVJTSU9OLG10IGFzIE1FVEhPRFNfVE9fVkVSSUZZLGR0IGFzIFBST1BPU0FMX0NPTlRFWFQscXMgYXMgUFJPUE9TQUxfRVhQSVJZLE1lIGFzIFBST1BPU0FMX0VYUElSWV9NRVNTQUdFLHd0IGFzIFJFUVVFU1RfQ09OVEVYVCx1dCBhcyBTRVNTSU9OX0NPTlRFWFQsVyBhcyBTRVNTSU9OX0VYUElSWSxfZSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsRGUgYXMgU0lHTl9DTElFTlRfQ09OVEVYVCxtZSBhcyBTSUdOX0NMSUVOVF9ERUZBVUxULFNzIGFzIFNJR05fQ0xJRU5UX0VWRU5UUyxWZSBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCxScyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsd2UgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9QUkVGSVgsa2UgYXMgU0lHTl9DTElFTlRfVkVSU0lPTixGcyBhcyBTZXNzaW9uU3RvcmUsUXMgYXMgU2lnbkNsaWVudCx5dCBhcyBUVkZfTUVUSE9EUyxMZSBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxmZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/sign-client/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ ns),\n/* harmony export */   \"default\": () => (/* binding */ N)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/sign-client/dist/index.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\nfunction _(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function Z(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function T(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const Fe=\"[object RegExp]\",ee=\"[object String]\",te=\"[object Number]\",se=\"[object Boolean]\",ie=\"[object Arguments]\",He=\"[object Symbol]\",Ue=\"[object Date]\",Be=\"[object Map]\",Le=\"[object Set]\",Me=\"[object Array]\",ze=\"[object ArrayBuffer]\",Ge=\"[object Object]\",We=\"[object DataView]\",Je=\"[object Uint8Array]\",Ke=\"[object Uint8ClampedArray]\",Ve=\"[object Uint16Array]\",Ye=\"[object Uint32Array]\",Xe=\"[object Int8Array]\",ke=\"[object Int16Array]\",Qe=\"[object Int32Array]\",Ze=\"[object Float32Array]\",Te=\"[object Float64Array]\";function x(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function et(t,e){return y(t,void 0,t,new Map,e)}function y(t,e,s,i=new Map,r=void 0){const a=r?.(t,e,s,i);if(a!=null)return a;if(_(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const n=new Array(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return Object.hasOwn(t,\"index\")&&(n.index=t.index),Object.hasOwn(t,\"input\")&&(n.input=t.input),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n}if(t instanceof Map){const n=new Map;i.set(t,n);for(const[c,o]of t)n.set(c,y(o,c,s,i,r));return n}if(t instanceof Set){const n=new Set;i.set(t,n);for(const c of t)n.add(y(c,void 0,s,i,r));return n}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(x(t)){const n=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return n}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const n=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,n),m(n,t,s,i,r),n}if(typeof File<\"u\"&&t instanceof File){const n=new File([t],t.name,{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Blob){const n=new Blob([t],{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Error){const n=new t.constructor;return i.set(t,n),n.message=t.message,n.name=t.name,n.stack=t.stack,n.cause=t.cause,m(n,t,s,i,r),n}if(typeof t==\"object\"&&tt(t)){const n=Object.create(Object.getPrototypeOf(t));return i.set(t,n),m(n,t,s,i,r),n}return t}function m(t,e,s=t,i,r){const a=[...Object.keys(e),...Z(e)];for(let n=0;n<a.length;n++){const c=a[n],o=Object.getOwnPropertyDescriptor(t,c);(o==null||o.writable)&&(t[c]=y(e[c],c,s,i,r))}}function tt(t){switch(T(t)){case ie:case Me:case ze:case We:case se:case Ue:case Ze:case Te:case Xe:case ke:case Qe:case Be:case te:case Ge:case Fe:case Le:case ee:case He:case Je:case Ke:case Ve:case Ye:return!0;default:return!1}}function st(t,e){return et(t,(s,i,r,a)=>{const n=e?.(s,i,r,a);if(n!=null)return n;if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case te:case ee:case se:{const c=new t.constructor(t?.valueOf());return m(c,t),c}case ie:{const c={};return m(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function ne(t){return st(t)}function re(t){return t!==null&&typeof t==\"object\"&&T(t)===\"[object Arguments]\"}function ae(t){return typeof t==\"object\"&&t!==null}function it(){}function nt(t){return x(t)}function rt(t){if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const s=t[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${s}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function at(t){if(_(t))return t;if(Array.isArray(t)||x(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),s=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new s(t);if(t instanceof RegExp){const i=new s(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new s(t.buffer.slice(0));if(t instanceof Error){const i=new s(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<\"u\"&&t instanceof File)return new s([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const i=Object.create(e);return Object.assign(i,t)}return t}function ct(t,...e){const s=e.slice(0,-1),i=e[e.length-1];let r=t;for(let a=0;a<s.length;a++){const n=s[a];r=$(r,n,i,new Map)}return r}function $(t,e,s,i){if(_(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(i.has(e))return at(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const r=[...Object.keys(e),...Z(e)];for(let a=0;a<r.length;a++){const n=r[a];let c=e[n],o=t[n];if(re(c)&&(c={...c}),re(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ne(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const l=[],p=Reflect.ownKeys(o);for(let f=0;f<p.length;f++){const u=p[f];l[u]=o[u]}o=l}else o=[];const h=s(o,c,n,t,e,i);h!=null?t[n]=h:Array.isArray(c)||ae(o)&&ae(c)?t[n]=$(o,c,s,i):o==null&&rt(c)?t[n]=$({},c,s,i):o==null&&nt(c)?t[n]=ne(c):(o===void 0||c!==void 0)&&(t[n]=c)}return t}function ot(t,...e){return ct(t,...e,it)}const ce=\"error\",pt=\"wss://relay.walletconnect.org\",ht=\"wc\",oe=\"universal_provider\",A=`${ht}@2:${oe}:`,pe=\"https://rpc.walletconnect.org/v1/\",he=\"generic\",lt=`${pe}bundler`,v=\"call_status\",ut=86400,F={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};var dt=Object.defineProperty,ft=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,ue=(t,e,s)=>e in t?dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,E=(t,e)=>{for(var s in e||(e={}))gt.call(e,s)&&ue(t,s,e[s]);if(le)for(var s of le(e))yt.call(e,s)&&ue(t,s,e[s]);return t},vt=(t,e)=>ft(t,mt(e));function de(t,e,s){var i;const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t);return((i=e.rpcMap)==null?void 0:i[r.reference])||`${pe}?chainId=${r.namespace}:${r.reference}&projectId=${s}`}function wt(t){return t.includes(\":\")?t.split(\":\")[1]:t}function fe(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function bt(t,e){const s=Object.keys(e.namespaces).filter(r=>r.includes(t));if(!s.length)return[];const i=[];return s.forEach(r=>{const a=e.namespaces[r].accounts;i.push(...a)}),i}function me(t){return Object.fromEntries(Object.entries(t).filter(([e,s])=>{var i,r;return((i=s?.chains)==null?void 0:i.length)&&((r=s?.chains)==null?void 0:r.length)>0}))}function C(t={},e={}){const s=me(ge(t)),i=me(ge(e));return ot(s,i)}function ge(t){var e,s,i,r,a;const n={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(t))return n;for(const[c,o]of Object.entries(t)){const h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(c)?[c]:o.chains,l=o.methods||[],p=o.events||[],f=o.rpcMap||{},u=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(c);n[u]=vt(E(E({},n[u]),o),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(h,(e=n[u])==null?void 0:e.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(l,(s=n[u])==null?void 0:s.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(p,(i=n[u])==null?void 0:i.events)}),((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(f)||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(((r=n[u])==null?void 0:r.rpcMap)||{}))&&(n[u].rpcMap=E(E({},f),(a=n[u])==null?void 0:a.rpcMap))}return n}function ye(t){return t.includes(\":\")?t.split(\":\")[2]:t}function ve(t){const e={};for(const[s,i]of Object.entries(t)){const r=i.methods||[],a=i.events||[],n=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(s)?[s]:i.chains?i.chains:fe(i.accounts);e[s]={chains:c,methods:r,events:a,accounts:n}}return e}function H(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}function Pt(t){try{const e=JSON.parse(t);return typeof e==\"object\"&&e!==null&&!Array.isArray(e)}catch{return!1}}const we={},w=t=>we[t],U=(t,e)=>{we[t]=e};var Ot=Object.defineProperty,be=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Pe=(t,e,s)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Oe=(t,e)=>{for(var s in e||(e={}))It.call(e,s)&&Pe(t,s,e[s]);if(be)for(var s of be(e))St.call(e,s)&&Pe(t,s,e[s]);return t};const Ie=\"eip155\",$t=[\"atomic\",\"flow-control\",\"paymasterService\",\"sessionKeys\",\"auxiliaryFunds\"],At=t=>t&&t.startsWith(\"0x\")?BigInt(t).toString(10):t,B=t=>t&&t.startsWith(\"0x\")?t:`0x${BigInt(t).toString(16)}`,Se=t=>Object.keys(t).filter(e=>$t.includes(e)).reduce((e,s)=>(e[s]=Et(t[s]),e),{}),Et=t=>typeof t==\"string\"&&Pt(t)?JSON.parse(t):t,Ct=(t,e,s)=>{const{sessionProperties:i={},scopedProperties:r={}}=t,a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(r)&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(i))return;const n=Se(i);for(const c of s){const o=At(c);if(!o)continue;a[B(o)]=n;const h=r?.[`${Ie}:${o}`];if(h){const l=h?.[`${Ie}:${o}:${e}`];a[B(o)]=Oe(Oe({},a[B(o)]),Se(l||h))}}for(const[c,o]of Object.entries(a))Object.keys(o).length===0&&delete a[c];return Object.keys(a).length>0?a:void 0};var jt=Object.defineProperty,Nt=(t,e,s)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,qt=(t,e,s)=>Nt(t,typeof e!=\"symbol\"?e+\"\":e,s);let L;class J{constructor(e){qt(this,\"storage\"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,s){return await this.storage.setItem(e,s)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return L||(L=new J(e)),L}}var Dt=Object.defineProperty,Rt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ae=(t,e,s)=>e in t?Dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Ht=(t,e)=>{for(var s in e||(e={}))xt.call(e,s)&&Ae(t,s,e[s]);if($e)for(var s of $e(e))Ft.call(e,s)&&Ae(t,s,e[s]);return t},Ut=(t,e)=>Rt(t,_t(e));async function Bt(t,e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t.result.capabilities.caip345.caip2),i=t.result.capabilities.caip345.transactionHashes,r=await Promise.allSettled(i.map(p=>Lt(s.reference,p,e))),a=r.filter(p=>p.status===\"fulfilled\").map(p=>p.value).filter(p=>p);r.filter(p=>p.status===\"rejected\").forEach(p=>console.warn(\"Failed to fetch transaction receipt:\",p.reason));const n=!a.length||a.some(p=>!p),c=a.every(p=>p?.status===\"0x1\"),o=a.every(p=>p?.status===\"0x0\"),h=a.some(p=>p?.status===\"0x0\");let l;return n?l=100:c?l=200:o?l=500:h&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:a,status:l}}async function Lt(t,e,s){return await s(parseInt(t)).request((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getTransactionReceipt\",[e]))}async function Mt({sendCalls:t,storage:e}){const s=await e.getItem(v);await e.setItem(v,Ut(Ht({},s),{[t.result.id]:{request:t.request,result:t.result,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.calcExpiry)(ut)}}))}async function zt({resultId:t,storage:e}){const s=await e.getItem(v);if(s){delete s[t],await e.setItem(v,s);for(const i in s)(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(s[i].expiry)&&delete s[i];await e.setItem(v,s)}}async function Gt({resultId:t,storage:e}){const s=await e.getItem(v),i=s?.[t];if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(i.expiry))return i;await zt({resultId:t,storage:e})}var Wt=Object.defineProperty,Jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,M=(t,e,s)=>e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,z=(t,e)=>{for(var s in e||(e={}))Vt.call(e,s)&&M(t,s,e[s]);if(Ee)for(var s of Ee(e))Yt.call(e,s)&&M(t,s,e[s]);return t},G=(t,e)=>Jt(t,Kt(e)),g=(t,e,s)=>M(t,typeof e!=\"symbol\"?e+\"\":e,s);class Xt{constructor(e){g(this,\"name\",\"eip155\"),g(this,\"client\"),g(this,\"chainId\"),g(this,\"namespace\"),g(this,\"httpProviders\"),g(this,\"events\"),g(this,\"storage\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=J.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e);case\"wallet_sendCalls\":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(parseInt(e),s);const i=this.chainId;this.chainId=parseInt(e),this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,s){const i=s||de(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__.HttpConnection(i,w(\"disableProviderPing\")))}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(s=>{var i;const r=parseInt(wt(s));e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[s])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}getHttpProvider(e){const s=e||this.chainId;return this.httpProviders[s]||(this.httpProviders=G(z({},this.httpProviders),{[s]:this.createHttpProvider(s)}),this.httpProviders[s])}async handleSwitchChain(e){var s,i;let r=e.request.params?(s=e.request.params[0])==null?void 0:s.chainId:\"0x0\";r=r.startsWith(\"0x\")?r:`0x${r}`;const a=parseInt(r,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var s,i,r,a,n;const c=(i=(s=e.request)==null?void 0:s.params)==null?void 0:i[0],o=((a=(r=e.request)==null?void 0:r.params)==null?void 0:a[1])||[];if(!c)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const h=this.client.session.get(e.topic),l=((n=h?.sessionProperties)==null?void 0:n.capabilities)||{},p=`${c}${o.join(\",\")}`,f=l?.[p];if(f)return f;let u;try{u=Ct(h,c,o)}catch(q){console.warn(\"Failed to extract capabilities from session\",q)}if(u)return u;const K=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:G(z({},h.sessionProperties||{}),{capabilities:G(z({},l||{}),{[p]:K})})})}catch(q){console.warn(\"Failed to update session with capabilities\",q)}return K}async getCallStatus(e){var s,i,r;const a=this.client.session.get(e.topic),n=(s=a.sessionProperties)==null?void 0:s.bundler_name;if(n){const h=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(h,e)}catch(l){console.warn(\"Failed to fetch call status from bundler\",l,h)}}const c=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(h){console.warn(\"Failed to fetch call status from custom bundler\",h,c)}const o=await Gt({resultId:(r=e.request.params)==null?void 0:r[0],storage:this.storage});if(o)try{return await Bt(o,this.getHttpProvider.bind(this))}catch(h){console.warn(\"Failed to fetch call status from stored send calls\",h,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,s){var i;const r=new URL(e),a=await fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=s.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,s){return`${lt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${s}`}async sendCalls(e){var s,i,r;const a=await this.client.request(e),n=(s=e.request.params)==null?void 0:s[0],c=a?.id,o=a?.capabilities||{},h=(i=o?.caip345)==null?void 0:i.caip2,l=(r=o?.caip345)==null?void 0:r.transactionHashes;return!c||!h||!(l!=null&&l.length)||await Mt({sendCalls:{request:n,result:a},storage:this.storage}),a}}var kt=Object.defineProperty,Qt=(t,e,s)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e,s)=>Qt(t,typeof e!=\"symbol\"?e+\"\":e,s);class Zt{constructor(e){b(this,\"name\",he),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(e,s);const i=this.chainId;this.chainId=e,this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}createHttpProviders(){var e,s;const i={};return(s=(e=this.namespace)==null?void 0:e.accounts)==null||s.forEach(r=>{var a,n;const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(r),o=(n=(a=this.namespace)==null?void 0:a.rpcMap)==null?void 0:n[`${c.namespace}:${c.reference}`];i[c.reference]=this.createHttpProvider(r,o)}),i}getHttpProvider(e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).reference,i=this.httpProviders[s];if(typeof i>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProvider(e,s){const i=s||de(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,w(\"disableProviderPing\")))}}var Tt=Object.defineProperty,es=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,ss=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,W=(t,e,s)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,S=(t,e)=>{for(var s in e||(e={}))ss.call(e,s)&&W(t,s,e[s]);if(Ce)for(var s of Ce(e))is.call(e,s)&&W(t,s,e[s]);return t},j=(t,e)=>es(t,ts(e)),d=(t,e,s)=>W(t,typeof e!=\"symbol\"?e+\"\":e,s);class N{constructor(e){d(this,\"client\"),d(this,\"namespaces\"),d(this,\"optionalNamespaces\"),d(this,\"sessionProperties\"),d(this,\"scopedProperties\"),d(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_3__),d(this,\"rpcProviders\",{}),d(this,\"session\"),d(this,\"providerOpts\"),d(this,\"logger\"),d(this,\"uri\"),d(this,\"disableProviderPing\",!1);var s,i;this.providerOpts=e,this.logger=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.createLogger)({logger:(s=e.logger)!=null?s:ce,name:(i=this.providerOpts.name)!=null?i:oe}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const s=new N(e);return await s.initialize(),s}async request(e,s,i){const[r,a]=this.validateChain(s);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(r).request({request:S({},e),chainId:`${r}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(e,s,i,r){const a=new Date().getTime();this.request(e,i,r).then(n=>s(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcResult)(a,n))).catch(n=>s(n,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,s){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:r}=await this.client.authenticate(e,s);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await r();if(this.session=a.session,this.session){const n=ve(this.session.namespaces);this.namespaces=C(this.namespaces,n),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(e,s){this.events.on(e,s)}once(e,s){this.events.once(e,s)}removeListener(e,s){this.events.removeListener(e,s)}off(e,s){this.events.off(e,s)}get isWalletConnect(){return!0}async pair(e){const{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});s&&(this.uri=s,this.events.emit(\"display_uri\",s));const r=await i();this.session=r;const a=ve(r.namespaces);return this.namespaces=C(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,s){try{if(!this.session)return;const[i,r]=this.validateChain(e);this.getProvider(i).setDefaultChain(r,s)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info(\"Cleaning up inactive pairings...\");const s=this.client.pairing.getAll();if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(s))return;for(const i of s)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${s.length}`)}catch(s){this.logger.warn(s,\"Failed to cleanup pending pairings\")}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,s;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__.SignClient.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ce,relayUrl:this.providerOpts.relayUrl||pt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(i,\"Failed to get session\"),new Error(`The provided session: ${(s=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:s.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(s)))];U(\"client\",this.client),U(\"events\",this.events),U(\"disableProviderPing\",this.disableProviderPing),e.forEach(s=>{if(!this.session)return;const i=bt(s,this.session);if(i?.length===0)return;const r=fe(i),a=C(this.namespaces,this.optionalNamespaces),n=j(S({},a[s]),{accounts:i,chains:r});switch(s){case\"eip155\":this.rpcProviders[s]=new Xt({namespace:n});break;default:this.rpcProviders[s]=new Zt({namespace:n})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var s;const{topic:i}=e;i===((s=this.session)==null?void 0:s.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var s;const{params:i,topic:r}=e;if(r!==((s=this.session)==null?void 0:s.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const n=a.data;n&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(n)&&this.events.emit(\"accountsChanged\",n.map(ye))}else if(a.name===\"chainChanged\"){const n=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n),h=H(n)!==H(c)?`${o}:${H(c)}`:n;this.onChainChanged({currentCaipChainId:h})}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:s})=>{var i,r;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=s,n=(r=this.client)==null?void 0:r.session.get(e);this.session=j(S({},n),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:s})}),this.client.on(\"session_delete\",async e=>{var s;e.topic===((s=this.session)==null?void 0:s.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",j(S({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(F.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(j(S({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[he]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var s;this.getProvider(e).updateNamespace((s=this.session)==null?void 0:s.namespaces[e])})}setNamespaces(e){const{namespaces:s={},optionalNamespaces:i={},sessionProperties:r,scopedProperties:a}=e;this.optionalNamespaces=C(s,i),this.sessionProperties=r,this.scopedProperties=a}validateChain(e){const[s,i]=e?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[s,i];if(s&&!Object.keys(this.namespaces||{}).map(n=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n)).includes(s))throw new Error(`Namespace '${s}' is not configured. Please call connect() first with namespace config.`);if(s&&i)return[s,i];const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[r].getDefaultChain();return[r,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:s,internal:i=!1}){if(!this.namespaces)return;const[r,a]=this.validateChain(e);a&&(this.updateNamespaceChain(r,a),i?(this.events.emit(\"chainChanged\",a),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:s})):this.getProvider(r).setDefaultChain(a),await this.persist(\"namespaces\",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:s,previousCaipChainId:i}){var r,a;try{if(i===s)return;const n=(a=(r=this.session)==null?void 0:r.namespaces[e])==null?void 0:a.accounts;if(!n)return;const c=n.filter(o=>o.includes(`${s}:`)).map(ye);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(n){this.logger.warn(n,\"Failed to emit accountsChanged on chain change\")}}updateNamespaceChain(e,s){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${s}`,r={chains:[],methods:[],events:[],defaultChain:s};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=s):this.namespaces[i]=r}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,s){var i;const r=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${A}/${e}${r}`,s)}async getFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";return await this.client.core.storage.getItem(`${A}/${e}${i}`)}async deleteFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";await this.client.core.storage.removeItem(`${A}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const s=await this.client.core.storage.getKeys();for(const i of s)i.startsWith(A)&&await this.client.core.storage.removeItem(i)}catch(s){this.logger.warn(s,\"Failed to cleanup storage\")}}}const ns=N;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdWhCLGNBQWMseURBQXlELGNBQWMsa0dBQWtHLGNBQWMsaUdBQWlHLHNnQkFBc2dCLGNBQWMsdURBQXVELGlCQUFpQiwrQkFBK0IscUNBQXFDLHFCQUFxQixvQkFBb0IsaUJBQWlCLDRCQUE0QixxQkFBcUIsNEJBQTRCLFdBQVcsWUFBWSxXQUFXLHlCQUF5QixpR0FBaUcsa0RBQWtELHdCQUF3QixxQ0FBcUMsaUNBQWlDLHFCQUFxQixnQkFBZ0IsV0FBVyx5Q0FBeUMsU0FBUyxxQkFBcUIsZ0JBQWdCLFdBQVcsMENBQTBDLFNBQVMsVUFBVSxNQUFNLE1BQU0sTUFBTSxpQ0FBaUMsU0FBUyw0REFBNEQsV0FBVyxZQUFZLFdBQVcseUJBQXlCLFNBQVMsNEdBQTRHLDBCQUEwQixrRUFBa0UsaUNBQWlDLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLGlDQUFpQyxzQkFBc0Isc0JBQXNCLFlBQVksRUFBRSxpQ0FBaUMsdUJBQXVCLDBCQUEwQixtR0FBbUcsOEJBQThCLGdEQUFnRCxpQ0FBaUMsU0FBUyx3QkFBd0Isb0NBQW9DLFlBQVksV0FBVyxLQUFLLG9EQUFvRCwrQ0FBK0MsZUFBZSxhQUFhLHlMQUF5TCxrQkFBa0IsaUJBQWlCLHdCQUF3QixxQkFBcUIsb0JBQW9CLGdFQUFnRSx5QkFBeUIsd0NBQXdDLGdCQUFnQixTQUFTLFdBQVcsd0VBQXdFLGdCQUFnQixFQUFFLGVBQWUsYUFBYSxlQUFlLGlFQUFpRSxlQUFlLG9DQUFvQyxlQUFlLGVBQWUsWUFBWSxlQUFlLHdDQUF3Qyw0Q0FBNEMsMERBQTBELDhCQUE4Qiw4R0FBOEcsRUFBRSxHQUFHLFFBQVEsS0FBSyxnQ0FBZ0MsNEJBQTRCLG9DQUFvQyxl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RCxXQUF3RDtBQUN0bzdCIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtTaWduQ2xpZW50IGFzIGplfWZyb21cIkB3YWxsZXRjb25uZWN0L3NpZ24tY2xpZW50XCI7aW1wb3J0e2lzVmFsaWRPYmplY3QgYXMgUCxpc0NhaXBOYW1lc3BhY2UgYXMgVixwYXJzZU5hbWVzcGFjZUtleSBhcyBPLG1lcmdlQXJyYXlzIGFzIEQscGFyc2VDaGFpbklkIGFzIEksY2FsY0V4cGlyeSBhcyBOZSxpc0V4cGlyZWQgYXMgWSxjcmVhdGVMb2dnZXIgYXMgcWUsZ2V0U2RrRXJyb3IgYXMgWCxpc1ZhbGlkQXJyYXkgYXMgUn1mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHtmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyBrLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgRGV9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydHtKc29uUnBjUHJvdmlkZXIgYXMgUX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXByb3ZpZGVyXCI7aW1wb3J0IFJlLHtIdHRwQ29ubmVjdGlvbiBhcyBfZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLWh0dHAtY29ubmVjdGlvblwiO2ltcG9ydCB4ZSBmcm9tXCJldmVudHNcIjtmdW5jdGlvbiBfKHQpe3JldHVybiB0PT1udWxsfHx0eXBlb2YgdCE9XCJvYmplY3RcIiYmdHlwZW9mIHQhPVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBaKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpLmZpbHRlcihlPT5PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxlKSl9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdD09bnVsbD90PT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNvbnN0IEZlPVwiW29iamVjdCBSZWdFeHBdXCIsZWU9XCJbb2JqZWN0IFN0cmluZ11cIix0ZT1cIltvYmplY3QgTnVtYmVyXVwiLHNlPVwiW29iamVjdCBCb29sZWFuXVwiLGllPVwiW29iamVjdCBBcmd1bWVudHNdXCIsSGU9XCJbb2JqZWN0IFN5bWJvbF1cIixVZT1cIltvYmplY3QgRGF0ZV1cIixCZT1cIltvYmplY3QgTWFwXVwiLExlPVwiW29iamVjdCBTZXRdXCIsTWU9XCJbb2JqZWN0IEFycmF5XVwiLHplPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixHZT1cIltvYmplY3QgT2JqZWN0XVwiLFdlPVwiW29iamVjdCBEYXRhVmlld11cIixKZT1cIltvYmplY3QgVWludDhBcnJheV1cIixLZT1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsVmU9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFllPVwiW29iamVjdCBVaW50MzJBcnJheV1cIixYZT1cIltvYmplY3QgSW50OEFycmF5XVwiLGtlPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLFFlPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFplPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsVGU9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiB4KHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJiEodCBpbnN0YW5jZW9mIERhdGFWaWV3KX1mdW5jdGlvbiBldCh0LGUpe3JldHVybiB5KHQsdm9pZCAwLHQsbmV3IE1hcCxlKX1mdW5jdGlvbiB5KHQsZSxzLGk9bmV3IE1hcCxyPXZvaWQgMCl7Y29uc3QgYT1yPy4odCxlLHMsaSk7aWYoYSE9bnVsbClyZXR1cm4gYTtpZihfKHQpKXJldHVybiB0O2lmKGkuaGFzKHQpKXJldHVybiBpLmdldCh0KTtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPW5ldyBBcnJheSh0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXkodFtjXSxjLHMsaSxyKTtyZXR1cm4gT2JqZWN0Lmhhc093bih0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgpLE9iamVjdC5oYXNPd24odCxcImlucHV0XCIpJiYobi5pbnB1dD10LmlucHV0KSxufWlmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZSh0LmdldFRpbWUoKSk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3Qgbj1uZXcgUmVnRXhwKHQuc291cmNlLHQuZmxhZ3MpO3JldHVybiBuLmxhc3RJbmRleD10Lmxhc3RJbmRleCxufWlmKHQgaW5zdGFuY2VvZiBNYXApe2NvbnN0IG49bmV3IE1hcDtpLnNldCh0LG4pO2Zvcihjb25zdFtjLG9db2YgdCluLnNldChjLHkobyxjLHMsaSxyKSk7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIFNldCl7Y29uc3Qgbj1uZXcgU2V0O2kuc2V0KHQsbik7Zm9yKGNvbnN0IGMgb2YgdCluLmFkZCh5KGMsdm9pZCAwLHMsaSxyKSk7cmV0dXJuIG59aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHQpKXJldHVybiB0LnN1YmFycmF5KCk7aWYoeCh0KSl7Y29uc3Qgbj1uZXcoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXkodFtjXSxjLHMsaSxyKTtyZXR1cm4gbn1pZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2lmKHQgaW5zdGFuY2VvZiBEYXRhVmlldyl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC5idWZmZXIuc2xpY2UoMCksdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXtjb25zdCBuPW5ldyBGaWxlKFt0XSx0Lm5hbWUse3R5cGU6dC50eXBlfSk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodCBpbnN0YW5jZW9mIEJsb2Ipe2NvbnN0IG49bmV3IEJsb2IoW3RdLHt0eXBlOnQudHlwZX0pO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufWlmKHQgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3Qgbj1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5zZXQodCxuKSxuLm1lc3NhZ2U9dC5tZXNzYWdlLG4ubmFtZT10Lm5hbWUsbi5zdGFjaz10LnN0YWNrLG4uY2F1c2U9dC5jYXVzZSxtKG4sdCxzLGksciksbn1pZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdHQodCkpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufXJldHVybiB0fWZ1bmN0aW9uIG0odCxlLHM9dCxpLHIpe2NvbnN0IGE9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLlooZSldO2ZvcihsZXQgbj0wO248YS5sZW5ndGg7bisrKXtjb25zdCBjPWFbbl0sbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYyk7KG89PW51bGx8fG8ud3JpdGFibGUpJiYodFtjXT15KGVbY10sYyxzLGkscikpfX1mdW5jdGlvbiB0dCh0KXtzd2l0Y2goVCh0KSl7Y2FzZSBpZTpjYXNlIE1lOmNhc2UgemU6Y2FzZSBXZTpjYXNlIHNlOmNhc2UgVWU6Y2FzZSBaZTpjYXNlIFRlOmNhc2UgWGU6Y2FzZSBrZTpjYXNlIFFlOmNhc2UgQmU6Y2FzZSB0ZTpjYXNlIEdlOmNhc2UgRmU6Y2FzZSBMZTpjYXNlIGVlOmNhc2UgSGU6Y2FzZSBKZTpjYXNlIEtlOmNhc2UgVmU6Y2FzZSBZZTpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBzdCh0LGUpe3JldHVybiBldCh0LChzLGkscixhKT0+e2NvbnN0IG49ZT8uKHMsaSxyLGEpO2lmKG4hPW51bGwpcmV0dXJuIG47aWYodHlwZW9mIHQ9PVwib2JqZWN0XCIpc3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7Y2FzZSB0ZTpjYXNlIGVlOmNhc2Ugc2U6e2NvbnN0IGM9bmV3IHQuY29uc3RydWN0b3IodD8udmFsdWVPZigpKTtyZXR1cm4gbShjLHQpLGN9Y2FzZSBpZTp7Y29uc3QgYz17fTtyZXR1cm4gbShjLHQpLGMubGVuZ3RoPXQubGVuZ3RoLGNbU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0sY31kZWZhdWx0OnJldHVybn19KX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gc3QodCl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIHQhPT1udWxsJiZ0eXBlb2YgdD09XCJvYmplY3RcIiYmVCh0KT09PVwiW29iamVjdCBBcmd1bWVudHNdXCJ9ZnVuY3Rpb24gYWUodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0IT09bnVsbH1mdW5jdGlvbiBpdCgpe31mdW5jdGlvbiBudCh0KXtyZXR1cm4geCh0KX1mdW5jdGlvbiBydCh0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09bnVsbClyZXR1cm4hMTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1udWxsKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSE9PVwiW29iamVjdCBPYmplY3RdXCIpe2NvbnN0IHM9dFtTeW1ib2wudG9TdHJpbmdUYWddO3JldHVybiBzPT1udWxsfHwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LFN5bWJvbC50b1N0cmluZ1RhZyk/LndyaXRhYmxlPyExOnQudG9TdHJpbmcoKT09PWBbb2JqZWN0ICR7c31dYH1sZXQgZT10O2Zvcig7T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpIT09bnVsbDspZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWV9ZnVuY3Rpb24gYXQodCl7aWYoXyh0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpfHx4KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLHM9ZS5jb25zdHJ1Y3RvcjtpZih0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIE1hcHx8dCBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IHModCk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgaT1uZXcgcyh0KTtyZXR1cm4gaS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsaX1pZih0IGluc3RhbmNlb2YgRGF0YVZpZXcpcmV0dXJuIG5ldyBzKHQuYnVmZmVyLnNsaWNlKDApKTtpZih0IGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGk9bmV3IHModC5tZXNzYWdlKTtyZXR1cm4gaS5zdGFjaz10LnN0YWNrLGkubmFtZT10Lm5hbWUsaS5jYXVzZT10LmNhdXNlLGl9aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXJldHVybiBuZXcgcyhbdF0sdC5uYW1lLHt0eXBlOnQudHlwZSxsYXN0TW9kaWZpZWQ6dC5sYXN0TW9kaWZpZWR9KTtpZih0eXBlb2YgdD09XCJvYmplY3RcIil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBPYmplY3QuYXNzaWduKGksdCl9cmV0dXJuIHR9ZnVuY3Rpb24gY3QodCwuLi5lKXtjb25zdCBzPWUuc2xpY2UoMCwtMSksaT1lW2UubGVuZ3RoLTFdO2xldCByPXQ7Zm9yKGxldCBhPTA7YTxzLmxlbmd0aDthKyspe2NvbnN0IG49c1thXTtyPSQocixuLGksbmV3IE1hcCl9cmV0dXJuIHJ9ZnVuY3Rpb24gJCh0LGUscyxpKXtpZihfKHQpJiYodD1PYmplY3QodCkpLGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXJldHVybiB0O2lmKGkuaGFzKGUpKXJldHVybiBhdChpLmdldChlKSk7aWYoaS5zZXQoZSx0KSxBcnJheS5pc0FycmF5KGUpKXtlPWUuc2xpY2UoKTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyllW2FdPWVbYV0/P3ZvaWQgMH1jb25zdCByPVsuLi5PYmplY3Qua2V5cyhlKSwuLi5aKGUpXTtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3Qgbj1yW2FdO2xldCBjPWVbbl0sbz10W25dO2lmKHJlKGMpJiYoYz17Li4uY30pLHJlKG8pJiYobz17Li4ub30pLHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihjKSYmKGM9bmUoYykpLEFycmF5LmlzQXJyYXkoYykpaWYodHlwZW9mIG89PVwib2JqZWN0XCImJm8hPW51bGwpe2NvbnN0IGw9W10scD1SZWZsZWN0Lm93bktleXMobyk7Zm9yKGxldCBmPTA7ZjxwLmxlbmd0aDtmKyspe2NvbnN0IHU9cFtmXTtsW3VdPW9bdV19bz1sfWVsc2Ugbz1bXTtjb25zdCBoPXMobyxjLG4sdCxlLGkpO2ghPW51bGw/dFtuXT1oOkFycmF5LmlzQXJyYXkoYyl8fGFlKG8pJiZhZShjKT90W25dPSQobyxjLHMsaSk6bz09bnVsbCYmcnQoYyk/dFtuXT0kKHt9LGMscyxpKTpvPT1udWxsJiZudChjKT90W25dPW5lKGMpOihvPT09dm9pZCAwfHxjIT09dm9pZCAwKSYmKHRbbl09Yyl9cmV0dXJuIHR9ZnVuY3Rpb24gb3QodCwuLi5lKXtyZXR1cm4gY3QodCwuLi5lLGl0KX1jb25zdCBjZT1cImVycm9yXCIscHQ9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLGh0PVwid2NcIixvZT1cInVuaXZlcnNhbF9wcm92aWRlclwiLEE9YCR7aHR9QDI6JHtvZX06YCxwZT1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxL1wiLGhlPVwiZ2VuZXJpY1wiLGx0PWAke3BlfWJ1bmRsZXJgLHY9XCJjYWxsX3N0YXR1c1wiLHV0PTg2NDAwLEY9e0RFRkFVTFRfQ0hBSU5fQ0hBTkdFRDpcImRlZmF1bHRfY2hhaW5fY2hhbmdlZFwifTt2YXIgZHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGZ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLG10PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZ3Q9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx5dD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHVlPSh0LGUscyk9PmUgaW4gdD9kdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsRT0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpZ3QuY2FsbChlLHMpJiZ1ZSh0LHMsZVtzXSk7aWYobGUpZm9yKHZhciBzIG9mIGxlKGUpKXl0LmNhbGwoZSxzKSYmdWUodCxzLGVbc10pO3JldHVybiB0fSx2dD0odCxlKT0+ZnQodCxtdChlKSk7ZnVuY3Rpb24gZGUodCxlLHMpe3ZhciBpO2NvbnN0IHI9SSh0KTtyZXR1cm4oKGk9ZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3IucmVmZXJlbmNlXSl8fGAke3BlfT9jaGFpbklkPSR7ci5uYW1lc3BhY2V9OiR7ci5yZWZlcmVuY2V9JnByb2plY3RJZD0ke3N9YH1mdW5jdGlvbiB3dCh0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIilbMV06dH1mdW5jdGlvbiBmZSh0KXtyZXR1cm4gdC5tYXAoZT0+YCR7ZS5zcGxpdChcIjpcIilbMF19OiR7ZS5zcGxpdChcIjpcIilbMV19YCl9ZnVuY3Rpb24gYnQodCxlKXtjb25zdCBzPU9iamVjdC5rZXlzKGUubmFtZXNwYWNlcykuZmlsdGVyKHI9PnIuaW5jbHVkZXModCkpO2lmKCFzLmxlbmd0aClyZXR1cm5bXTtjb25zdCBpPVtdO3JldHVybiBzLmZvckVhY2gocj0+e2NvbnN0IGE9ZS5uYW1lc3BhY2VzW3JdLmFjY291bnRzO2kucHVzaCguLi5hKX0pLGl9ZnVuY3Rpb24gbWUodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFtlLHNdKT0+e3ZhciBpLHI7cmV0dXJuKChpPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOmkubGVuZ3RoKSYmKChyPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKT4wfSkpfWZ1bmN0aW9uIEModD17fSxlPXt9KXtjb25zdCBzPW1lKGdlKHQpKSxpPW1lKGdlKGUpKTtyZXR1cm4gb3QocyxpKX1mdW5jdGlvbiBnZSh0KXt2YXIgZSxzLGkscixhO2NvbnN0IG49e307aWYoIVAodCkpcmV0dXJuIG47Zm9yKGNvbnN0W2Msb11vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgaD1WKGMpP1tjXTpvLmNoYWlucyxsPW8ubWV0aG9kc3x8W10scD1vLmV2ZW50c3x8W10sZj1vLnJwY01hcHx8e30sdT1PKGMpO25bdV09dnQoRShFKHt9LG5bdV0pLG8pLHtjaGFpbnM6RChoLChlPW5bdV0pPT1udWxsP3ZvaWQgMDplLmNoYWlucyksbWV0aG9kczpEKGwsKHM9blt1XSk9PW51bGw/dm9pZCAwOnMubWV0aG9kcyksZXZlbnRzOkQocCwoaT1uW3VdKT09bnVsbD92b2lkIDA6aS5ldmVudHMpfSksKFAoZil8fFAoKChyPW5bdV0pPT1udWxsP3ZvaWQgMDpyLnJwY01hcCl8fHt9KSkmJihuW3VdLnJwY01hcD1FKEUoe30sZiksKGE9blt1XSk9PW51bGw/dm9pZCAwOmEucnBjTWFwKSl9cmV0dXJuIG59ZnVuY3Rpb24geWUodCl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzJdOnR9ZnVuY3Rpb24gdmUodCl7Y29uc3QgZT17fTtmb3IoY29uc3RbcyxpXW9mIE9iamVjdC5lbnRyaWVzKHQpKXtjb25zdCByPWkubWV0aG9kc3x8W10sYT1pLmV2ZW50c3x8W10sbj1pLmFjY291bnRzfHxbXSxjPVYocyk/W3NdOmkuY2hhaW5zP2kuY2hhaW5zOmZlKGkuYWNjb3VudHMpO2Vbc109e2NoYWluczpjLG1ldGhvZHM6cixldmVudHM6YSxhY2NvdW50czpufX1yZXR1cm4gZX1mdW5jdGlvbiBIKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIj90OnQuaW5jbHVkZXMoXCIweFwiKT9wYXJzZUludCh0LDE2KToodD10LmluY2x1ZGVzKFwiOlwiKT90LnNwbGl0KFwiOlwiKVsxXTp0LGlzTmFOKE51bWJlcih0KSk/dDpOdW1iZXIodCkpfWZ1bmN0aW9uIFB0KHQpe3RyeXtjb25zdCBlPUpTT04ucGFyc2UodCk7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiJiZlIT09bnVsbCYmIUFycmF5LmlzQXJyYXkoZSl9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0IHdlPXt9LHc9dD0+d2VbdF0sVT0odCxlKT0+e3dlW3RdPWV9O3ZhciBPdD1PYmplY3QuZGVmaW5lUHJvcGVydHksYmU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxJdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFN0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsUGU9KHQsZSxzKT0+ZSBpbiB0P090KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxPZT0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpSXQuY2FsbChlLHMpJiZQZSh0LHMsZVtzXSk7aWYoYmUpZm9yKHZhciBzIG9mIGJlKGUpKVN0LmNhbGwoZSxzKSYmUGUodCxzLGVbc10pO3JldHVybiB0fTtjb25zdCBJZT1cImVpcDE1NVwiLCR0PVtcImF0b21pY1wiLFwiZmxvdy1jb250cm9sXCIsXCJwYXltYXN0ZXJTZXJ2aWNlXCIsXCJzZXNzaW9uS2V5c1wiLFwiYXV4aWxpYXJ5RnVuZHNcIl0sQXQ9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/QmlnSW50KHQpLnRvU3RyaW5nKDEwKTp0LEI9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/dDpgMHgke0JpZ0ludCh0KS50b1N0cmluZygxNil9YCxTZT10PT5PYmplY3Qua2V5cyh0KS5maWx0ZXIoZT0+JHQuaW5jbHVkZXMoZSkpLnJlZHVjZSgoZSxzKT0+KGVbc109RXQodFtzXSksZSkse30pLEV0PXQ9PnR5cGVvZiB0PT1cInN0cmluZ1wiJiZQdCh0KT9KU09OLnBhcnNlKHQpOnQsQ3Q9KHQsZSxzKT0+e2NvbnN0e3Nlc3Npb25Qcm9wZXJ0aWVzOmk9e30sc2NvcGVkUHJvcGVydGllczpyPXt9fT10LGE9e307aWYoIVAocikmJiFQKGkpKXJldHVybjtjb25zdCBuPVNlKGkpO2Zvcihjb25zdCBjIG9mIHMpe2NvbnN0IG89QXQoYyk7aWYoIW8pY29udGludWU7YVtCKG8pXT1uO2NvbnN0IGg9cj8uW2Ake0llfToke299YF07aWYoaCl7Y29uc3QgbD1oPy5bYCR7SWV9OiR7b306JHtlfWBdO2FbQihvKV09T2UoT2Uoe30sYVtCKG8pXSksU2UobHx8aCkpfX1mb3IoY29uc3RbYyxvXW9mIE9iamVjdC5lbnRyaWVzKGEpKU9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBhW2NdO3JldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MD9hOnZvaWQgMH07dmFyIGp0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxOdD0odCxlLHMpPT5lIGluIHQ/anQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLHF0PSh0LGUscyk9Pk50KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7bGV0IEw7Y2xhc3MgSntjb25zdHJ1Y3RvcihlKXtxdCh0aGlzLFwic3RvcmFnZVwiKSx0aGlzLnN0b3JhZ2U9ZX1hc3luYyBnZXRJdGVtKGUpe3JldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShlKX1hc3luYyBzZXRJdGVtKGUscyl7cmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUscyl9YXN5bmMgcmVtb3ZlSXRlbShlKXtyZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oZSl9c3RhdGljIGdldFN0b3JhZ2UoZSl7cmV0dXJuIEx8fChMPW5ldyBKKGUpKSxMfX12YXIgRHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LFJ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLF90PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCRlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMseHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxGdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEFlPSh0LGUscyk9PmUgaW4gdD9EdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsSHQ9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKXh0LmNhbGwoZSxzKSYmQWUodCxzLGVbc10pO2lmKCRlKWZvcih2YXIgcyBvZiAkZShlKSlGdC5jYWxsKGUscykmJkFlKHQscyxlW3NdKTtyZXR1cm4gdH0sVXQ9KHQsZSk9PlJ0KHQsX3QoZSkpO2FzeW5jIGZ1bmN0aW9uIEJ0KHQsZSl7Y29uc3Qgcz1JKHQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LmNhaXAyKSxpPXQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LnRyYW5zYWN0aW9uSGFzaGVzLHI9YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGkubWFwKHA9Pkx0KHMucmVmZXJlbmNlLHAsZSkpKSxhPXIuZmlsdGVyKHA9PnAuc3RhdHVzPT09XCJmdWxmaWxsZWRcIikubWFwKHA9PnAudmFsdWUpLmZpbHRlcihwPT5wKTtyLmZpbHRlcihwPT5wLnN0YXR1cz09PVwicmVqZWN0ZWRcIikuZm9yRWFjaChwPT5jb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggdHJhbnNhY3Rpb24gcmVjZWlwdDpcIixwLnJlYXNvbikpO2NvbnN0IG49IWEubGVuZ3RofHxhLnNvbWUocD0+IXApLGM9YS5ldmVyeShwPT5wPy5zdGF0dXM9PT1cIjB4MVwiKSxvPWEuZXZlcnkocD0+cD8uc3RhdHVzPT09XCIweDBcIiksaD1hLnNvbWUocD0+cD8uc3RhdHVzPT09XCIweDBcIik7bGV0IGw7cmV0dXJuIG4/bD0xMDA6Yz9sPTIwMDpvP2w9NTAwOmgmJihsPTYwMCkse2lkOnQucmVzdWx0LmlkLHZlcnNpb246dC5yZXF1ZXN0LnZlcnNpb24sYXRvbWljOnQucmVxdWVzdC5hdG9taWNSZXF1aXJlZCxjaGFpbklkOnQucmVxdWVzdC5jaGFpbklkLGNhcGFiaWxpdGllczp0LnJlc3VsdC5jYXBhYmlsaXRpZXMscmVjZWlwdHM6YSxzdGF0dXM6bH19YXN5bmMgZnVuY3Rpb24gTHQodCxlLHMpe3JldHVybiBhd2FpdCBzKHBhcnNlSW50KHQpKS5yZXF1ZXN0KGsoXCJldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0XCIsW2VdKSl9YXN5bmMgZnVuY3Rpb24gTXQoe3NlbmRDYWxsczp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHYpO2F3YWl0IGUuc2V0SXRlbSh2LFV0KEh0KHt9LHMpLHtbdC5yZXN1bHQuaWRdOntyZXF1ZXN0OnQucmVxdWVzdCxyZXN1bHQ6dC5yZXN1bHQsZXhwaXJ5Ok5lKHV0KX19KSl9YXN5bmMgZnVuY3Rpb24genQoe3Jlc3VsdElkOnQsc3RvcmFnZTplfSl7Y29uc3Qgcz1hd2FpdCBlLmdldEl0ZW0odik7aWYocyl7ZGVsZXRlIHNbdF0sYXdhaXQgZS5zZXRJdGVtKHYscyk7Zm9yKGNvbnN0IGkgaW4gcylZKHNbaV0uZXhwaXJ5KSYmZGVsZXRlIHNbaV07YXdhaXQgZS5zZXRJdGVtKHYscyl9fWFzeW5jIGZ1bmN0aW9uIEd0KHtyZXN1bHRJZDp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHYpLGk9cz8uW3RdO2lmKGkmJiFZKGkuZXhwaXJ5KSlyZXR1cm4gaTthd2FpdCB6dCh7cmVzdWx0SWQ6dCxzdG9yYWdlOmV9KX12YXIgV3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LEp0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEt0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEVlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsVnQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxZdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLE09KHQsZSxzKT0+ZSBpbiB0P1d0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyx6PSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlWdC5jYWxsKGUscykmJk0odCxzLGVbc10pO2lmKEVlKWZvcih2YXIgcyBvZiBFZShlKSlZdC5jYWxsKGUscykmJk0odCxzLGVbc10pO3JldHVybiB0fSxHPSh0LGUpPT5KdCh0LEt0KGUpKSxnPSh0LGUscyk9Pk0odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBYdHtjb25zdHJ1Y3RvcihlKXtnKHRoaXMsXCJuYW1lXCIsXCJlaXAxNTVcIiksZyh0aGlzLFwiY2xpZW50XCIpLGcodGhpcyxcImNoYWluSWRcIiksZyh0aGlzLFwibmFtZXNwYWNlXCIpLGcodGhpcyxcImh0dHBQcm92aWRlcnNcIiksZyh0aGlzLFwiZXZlbnRzXCIpLGcodGhpcyxcInN0b3JhZ2VcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKSx0aGlzLmNoYWluSWQ9cGFyc2VJbnQodGhpcy5nZXREZWZhdWx0Q2hhaW4oKSksdGhpcy5zdG9yYWdlPUouZ2V0U3RvcmFnZSh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UpfWFzeW5jIHJlcXVlc3QoZSl7c3dpdGNoKGUucmVxdWVzdC5tZXRob2Qpe2Nhc2VcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcImV0aF9hY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIjpyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVTd2l0Y2hDaGFpbihlKTtjYXNlXCJldGhfY2hhaW5JZFwiOnJldHVybiBwYXJzZUludCh0aGlzLmdldERlZmF1bHRDaGFpbigpKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FwYWJpbGl0aWVzKGUpO2Nhc2VcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhbGxTdGF0dXMoZSk7Y2FzZVwid2FsbGV0X3NlbmRDYWxsc1wiOnJldHVybiBhd2FpdCB0aGlzLnNlbmRDYWxscyhlKX1yZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT9hd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLGUpfXNldERlZmF1bHRDaGFpbihlLHMpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIocGFyc2VJbnQoZSkscyk7Y29uc3QgaT10aGlzLmNoYWluSWQ7dGhpcy5jaGFpbklkPXBhcnNlSW50KGUpLHRoaXMuZXZlbnRzLmVtaXQoRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQudG9TdHJpbmcoKTtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19Y3JlYXRlSHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT1zfHxkZShgJHt0aGlzLm5hbWV9OiR7ZX1gLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IFEobmV3IF9lKGksdyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2gocz0+e3ZhciBpO2NvbnN0IHI9cGFyc2VJbnQod3QocykpO2Vbcl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIociwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3NdKX0pLGV9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP1suLi5uZXcgU2V0KGUuZmlsdGVyKHM9PnMuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChzPT5zLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1nZXRIdHRwUHJvdmlkZXIoZSl7Y29uc3Qgcz1lfHx0aGlzLmNoYWluSWQ7cmV0dXJuIHRoaXMuaHR0cFByb3ZpZGVyc1tzXXx8KHRoaXMuaHR0cFByb3ZpZGVycz1HKHooe30sdGhpcy5odHRwUHJvdmlkZXJzKSx7W3NdOnRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHMpfSksdGhpcy5odHRwUHJvdmlkZXJzW3NdKX1hc3luYyBoYW5kbGVTd2l0Y2hDaGFpbihlKXt2YXIgcyxpO2xldCByPWUucmVxdWVzdC5wYXJhbXM/KHM9ZS5yZXF1ZXN0LnBhcmFtc1swXSk9PW51bGw/dm9pZCAwOnMuY2hhaW5JZDpcIjB4MFwiO3I9ci5zdGFydHNXaXRoKFwiMHhcIik/cjpgMHgke3J9YDtjb25zdCBhPXBhcnNlSW50KHIsMTYpO2lmKHRoaXMuaXNDaGFpbkFwcHJvdmVkKGEpKXRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSBpZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIikpYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7dG9waWM6ZS50b3BpYyxyZXF1ZXN0OnttZXRob2Q6ZS5yZXF1ZXN0Lm1ldGhvZCxwYXJhbXM6W3tjaGFpbklkOnJ9XX0sY2hhaW5JZDooaT10aGlzLm5hbWVzcGFjZS5jaGFpbnMpPT1udWxsP3ZvaWQgMDppWzBdfSksdGhpcy5zZXREZWZhdWx0Q2hhaW4oYCR7YX1gKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHN3aXRjaCB0byBjaGFpbiAnZWlwMTU1OiR7YX0nLiBUaGUgY2hhaW4gaXMgbm90IGFwcHJvdmVkIG9yIHRoZSB3YWxsZXQgZG9lcyBub3Qgc3VwcG9ydCAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nIG1ldGhvZC5gKTtyZXR1cm4gbnVsbH1pc0NoYWluQXBwcm92ZWQoZSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5pbmNsdWRlcyhgJHt0aGlzLm5hbWV9OiR7ZX1gKX1hc3luYyBnZXRDYXBhYmlsaXRpZXMoZSl7dmFyIHMsaSxyLGEsbjtjb25zdCBjPShpPShzPWUucmVxdWVzdCk9PW51bGw/dm9pZCAwOnMucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXSxvPSgoYT0ocj1lLnJlcXVlc3QpPT1udWxsP3ZvaWQgMDpyLnBhcmFtcyk9PW51bGw/dm9pZCAwOmFbMV0pfHxbXTtpZighYyl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGFkZHJlc3MgcGFyYW1ldGVyIGluIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCByZXF1ZXN0XCIpO2NvbnN0IGg9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZS50b3BpYyksbD0oKG49aD8uc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDpuLmNhcGFiaWxpdGllcyl8fHt9LHA9YCR7Y30ke28uam9pbihcIixcIil9YCxmPWw/LltwXTtpZihmKXJldHVybiBmO2xldCB1O3RyeXt1PUN0KGgsYyxvKX1jYXRjaChxKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZXh0cmFjdCBjYXBhYmlsaXRpZXMgZnJvbSBzZXNzaW9uXCIscSl9aWYodSlyZXR1cm4gdTtjb25zdCBLPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUudG9waWMse3Nlc3Npb25Qcm9wZXJ0aWVzOkcoeih7fSxoLnNlc3Npb25Qcm9wZXJ0aWVzfHx7fSkse2NhcGFiaWxpdGllczpHKHooe30sbHx8e30pLHtbcF06S30pfSl9KX1jYXRjaChxKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gd2l0aCBjYXBhYmlsaXRpZXNcIixxKX1yZXR1cm4gS31hc3luYyBnZXRDYWxsU3RhdHVzKGUpe3ZhciBzLGkscjtjb25zdCBhPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUudG9waWMpLG49KHM9YS5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOnMuYnVuZGxlcl9uYW1lO2lmKG4pe2NvbnN0IGg9dGhpcy5nZXRCdW5kbGVyVXJsKGUuY2hhaW5JZCxuKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQoaCxlKX1jYXRjaChsKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBidW5kbGVyXCIsbCxoKX19Y29uc3QgYz0oaT1hLnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6aS5idW5kbGVyX3VybDtpZihjKXRyeXtyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChjLGUpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIGN1c3RvbSBidW5kbGVyXCIsaCxjKX1jb25zdCBvPWF3YWl0IEd0KHtyZXN1bHRJZDoocj1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6clswXSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pO2lmKG8pdHJ5e3JldHVybiBhd2FpdCBCdChvLHRoaXMuZ2V0SHR0cFByb3ZpZGVyLmJpbmQodGhpcykpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIHN0b3JlZCBzZW5kIGNhbGxzXCIsaCxvKX1pZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpKXJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpO3Rocm93IG5ldyBFcnJvcihcIkZldGNoaW5nIGNhbGwgc3RhdHVzIG5vdCBhcHByb3ZlZCBieSB0aGUgd2FsbGV0LlwiKX1hc3luYyBnZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChlLHMpe3ZhciBpO2NvbnN0IHI9bmV3IFVSTChlKSxhPWF3YWl0IGZldGNoKHIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGsoXCJldGhfZ2V0VXNlck9wZXJhdGlvblJlY2VpcHRcIixbKGk9cy5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF1dKSl9KTtpZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB1c2VyIG9wZXJhdGlvbiByZWNlaXB0IC0gJHthLnN0YXR1c31gKTtyZXR1cm4gYXdhaXQgYS5qc29uKCl9Z2V0QnVuZGxlclVybChlLHMpe3JldHVybmAke2x0fT9wcm9qZWN0SWQ9JHt0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0mY2hhaW5JZD0ke2V9JmJ1bmRsZXI9JHtzfWB9YXN5bmMgc2VuZENhbGxzKGUpe3ZhciBzLGkscjtjb25zdCBhPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSksbj0ocz1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6c1swXSxjPWE/LmlkLG89YT8uY2FwYWJpbGl0aWVzfHx7fSxoPShpPW8/LmNhaXAzNDUpPT1udWxsP3ZvaWQgMDppLmNhaXAyLGw9KHI9bz8uY2FpcDM0NSk9PW51bGw/dm9pZCAwOnIudHJhbnNhY3Rpb25IYXNoZXM7cmV0dXJuIWN8fCFofHwhKGwhPW51bGwmJmwubGVuZ3RoKXx8YXdhaXQgTXQoe3NlbmRDYWxsczp7cmVxdWVzdDpuLHJlc3VsdDphfSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pLGF9fXZhciBrdD1PYmplY3QuZGVmaW5lUHJvcGVydHksUXQ9KHQsZSxzKT0+ZSBpbiB0P2t0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxiPSh0LGUscyk9PlF0KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7Y2xhc3MgWnR7Y29uc3RydWN0b3IoZSl7Yih0aGlzLFwibmFtZVwiLGhlKSxiKHRoaXMsXCJjbGllbnRcIiksYih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxiKHRoaXMsXCJldmVudHNcIiksYih0aGlzLFwibmFtZXNwYWNlXCIpLGIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMubmFtZT10aGlzLmdldE5hbWVzcGFjZU5hbWUoKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KGUuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQoZS5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdChlLm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KGUuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoZS5jaGFpbklkKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUscyl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHMpO2NvbnN0IGk9dGhpcy5jaGFpbklkO3RoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQoRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1nZXROYW1lc3BhY2VOYW1lKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIEkoZSkubmFtZXNwYWNlfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcihzPT5zLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAocz0+cy5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe3ZhciBlLHM7Y29uc3QgaT17fTtyZXR1cm4ocz0oZT10aGlzLm5hbWVzcGFjZSk9PW51bGw/dm9pZCAwOmUuYWNjb3VudHMpPT1udWxsfHxzLmZvckVhY2gocj0+e3ZhciBhLG47Y29uc3QgYz1JKHIpLG89KG49KGE9dGhpcy5uYW1lc3BhY2UpPT1udWxsP3ZvaWQgMDphLnJwY01hcCk9PW51bGw/dm9pZCAwOm5bYCR7Yy5uYW1lc3BhY2V9OiR7Yy5yZWZlcmVuY2V9YF07aVtjLnJlZmVyZW5jZV09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIocixvKX0pLGl9Z2V0SHR0cFByb3ZpZGVyKGUpe2NvbnN0IHM9SShlKS5yZWZlcmVuY2UsaT10aGlzLmh0dHBQcm92aWRlcnNbc107aWYodHlwZW9mIGk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gaX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXN8fGRlKGUsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3JldHVybiBuZXcgUShuZXcgUmUoaSx3KFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgVHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGVzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHRzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLENlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsc3M9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxpcz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFc9KHQsZSxzKT0+ZSBpbiB0P1R0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxTPSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlzcy5jYWxsKGUscykmJlcodCxzLGVbc10pO2lmKENlKWZvcih2YXIgcyBvZiBDZShlKSlpcy5jYWxsKGUscykmJlcodCxzLGVbc10pO3JldHVybiB0fSxqPSh0LGUpPT5lcyh0LHRzKGUpKSxkPSh0LGUscyk9PlcodCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBOe2NvbnN0cnVjdG9yKGUpe2QodGhpcyxcImNsaWVudFwiKSxkKHRoaXMsXCJuYW1lc3BhY2VzXCIpLGQodGhpcyxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxkKHRoaXMsXCJzZXNzaW9uUHJvcGVydGllc1wiKSxkKHRoaXMsXCJzY29wZWRQcm9wZXJ0aWVzXCIpLGQodGhpcyxcImV2ZW50c1wiLG5ldyB4ZSksZCh0aGlzLFwicnBjUHJvdmlkZXJzXCIse30pLGQodGhpcyxcInNlc3Npb25cIiksZCh0aGlzLFwicHJvdmlkZXJPcHRzXCIpLGQodGhpcyxcImxvZ2dlclwiKSxkKHRoaXMsXCJ1cmlcIiksZCh0aGlzLFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLCExKTt2YXIgcyxpO3RoaXMucHJvdmlkZXJPcHRzPWUsdGhpcy5sb2dnZXI9cWUoe2xvZ2dlcjoocz1lLmxvZ2dlcikhPW51bGw/czpjZSxuYW1lOihpPXRoaXMucHJvdmlkZXJPcHRzLm5hbWUpIT1udWxsP2k6b2V9KSx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZT8uZGlzYWJsZVByb3ZpZGVyUGluZ3x8ITF9c3RhdGljIGFzeW5jIGluaXQoZSl7Y29uc3Qgcz1uZXcgTihlKTtyZXR1cm4gYXdhaXQgcy5pbml0aWFsaXplKCksc31hc3luYyByZXF1ZXN0KGUscyxpKXtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihzKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgcmVxdWVzdCgpXCIpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKHIpLnJlcXVlc3Qoe3JlcXVlc3Q6Uyh7fSxlKSxjaGFpbklkOmAke3J9OiR7YX1gLHRvcGljOnRoaXMuc2Vzc2lvbi50b3BpYyxleHBpcnk6aX0pfXNlbmRBc3luYyhlLHMsaSxyKXtjb25zdCBhPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucmVxdWVzdChlLGkscikudGhlbihuPT5zKG51bGwsRGUoYSxuKSkpLmNhdGNoKG49PnMobix2b2lkIDApKX1hc3luYyBlbmFibGUoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3JldHVybiB0aGlzLnNlc3Npb258fGF3YWl0IHRoaXMuY29ubmVjdCh7bmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KSxhd2FpdCB0aGlzLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIGRpc2Nvbm5lY3QoKXt2YXIgZTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7YXdhaXQgdGhpcy5jbGllbnQuZGlzY29ubmVjdCh7dG9waWM6KGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyxyZWFzb246WChcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSksYXdhaXQgdGhpcy5jbGVhbnVwKCl9YXN5bmMgY29ubmVjdChlKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKHRoaXMuc2V0TmFtZXNwYWNlcyhlKSx0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKSwhZS5za2lwUGFpcmluZylyZXR1cm4gYXdhaXQgdGhpcy5wYWlyKGUucGFpcmluZ1RvcGljKX1hc3luYyBhdXRoZW50aWNhdGUoZSxzKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3RoaXMuc2V0TmFtZXNwYWNlcyhlKSxhd2FpdCB0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKTtjb25zdHt1cmk6aSxyZXNwb25zZTpyfT1hd2FpdCB0aGlzLmNsaWVudC5hdXRoZW50aWNhdGUoZSxzKTtpJiYodGhpcy51cmk9aSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixpKSk7Y29uc3QgYT1hd2FpdCByKCk7aWYodGhpcy5zZXNzaW9uPWEuc2Vzc2lvbix0aGlzLnNlc3Npb24pe2NvbnN0IG49dmUodGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpO3RoaXMubmFtZXNwYWNlcz1DKHRoaXMubmFtZXNwYWNlcyxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpfXJldHVybiBhfW9uKGUscyl7dGhpcy5ldmVudHMub24oZSxzKX1vbmNlKGUscyl7dGhpcy5ldmVudHMub25jZShlLHMpfXJlbW92ZUxpc3RlbmVyKGUscyl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKX1vZmYoZSxzKXt0aGlzLmV2ZW50cy5vZmYoZSxzKX1nZXQgaXNXYWxsZXRDb25uZWN0KCl7cmV0dXJuITB9YXN5bmMgcGFpcihlKXtjb25zdHt1cmk6cyxhcHByb3ZhbDppfT1hd2FpdCB0aGlzLmNsaWVudC5jb25uZWN0KHtwYWlyaW5nVG9waWM6ZSxyZXF1aXJlZE5hbWVzcGFjZXM6dGhpcy5uYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcyxzZXNzaW9uUHJvcGVydGllczp0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6dGhpcy5zY29wZWRQcm9wZXJ0aWVzfSk7cyYmKHRoaXMudXJpPXMsdGhpcy5ldmVudHMuZW1pdChcImRpc3BsYXlfdXJpXCIscykpO2NvbnN0IHI9YXdhaXQgaSgpO3RoaXMuc2Vzc2lvbj1yO2NvbnN0IGE9dmUoci5uYW1lc3BhY2VzKTtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzPUModGhpcy5uYW1lc3BhY2VzLGEpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLGF3YWl0IHRoaXMucGVyc2lzdChcIm9wdGlvbmFsTmFtZXNwYWNlc1wiLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpLHRoaXMuc2Vzc2lvbn1zZXREZWZhdWx0Q2hhaW4oZSxzKXt0cnl7aWYoIXRoaXMuc2Vzc2lvbilyZXR1cm47Y29uc3RbaSxyXT10aGlzLnZhbGlkYXRlQ2hhaW4oZSk7dGhpcy5nZXRQcm92aWRlcihpKS5zZXREZWZhdWx0Q2hhaW4ocixzKX1jYXRjaChpKXtpZighL1BsZWFzZSBjYWxsIGNvbm5lY3QvLnRlc3QoaS5tZXNzYWdlKSl0aHJvdyBpfX1hc3luYyBjbGVhbnVwUGVuZGluZ1BhaXJpbmdzKGU9e30pe3RyeXt0aGlzLmxvZ2dlci5pbmZvKFwiQ2xlYW5pbmcgdXAgaW5hY3RpdmUgcGFpcmluZ3MuLi5cIik7Y29uc3Qgcz10aGlzLmNsaWVudC5wYWlyaW5nLmdldEFsbCgpO2lmKCFSKHMpKXJldHVybjtmb3IoY29uc3QgaSBvZiBzKWUuZGVsZXRlUGFpcmluZ3M/dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLnRvcGljLDApOmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGkudG9waWMpO3RoaXMubG9nZ2VyLmluZm8oYEluYWN0aXZlIHBhaXJpbmdzIGNsZWFyZWQ6ICR7cy5sZW5ndGh9YCl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRmFpbGVkIHRvIGNsZWFudXAgcGVuZGluZyBwYWlyaW5nc1wiKX19YWJvcnRQYWlyaW5nQXR0ZW1wdCgpe3RoaXMubG9nZ2VyLndhcm4oXCJhYm9ydFBhaXJpbmdBdHRlbXB0IGlzIGRlcHJlY2F0ZWQuIFRoaXMgaXMgbm93IGEgbm8tb3AuXCIpfWFzeW5jIGNoZWNrU3RvcmFnZSgpe3RoaXMubmFtZXNwYWNlcz1hd2FpdCB0aGlzLmdldEZyb21TdG9yZShcIm5hbWVzcGFjZXNcIil8fHt9LHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPWF3YWl0IHRoaXMuZ2V0RnJvbVN0b3JlKFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpfHx7fSx0aGlzLnNlc3Npb24mJnRoaXMuY3JlYXRlUHJvdmlkZXJzKCl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5jcmVhdGVDbGllbnQoKSxhd2FpdCB0aGlzLmNoZWNrU3RvcmFnZSgpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWFzeW5jIGNyZWF0ZUNsaWVudCgpe3ZhciBlLHM7aWYodGhpcy5jbGllbnQ9dGhpcy5wcm92aWRlck9wdHMuY2xpZW50fHxhd2FpdCBqZS5pbml0KHtjb3JlOnRoaXMucHJvdmlkZXJPcHRzLmNvcmUsbG9nZ2VyOnRoaXMucHJvdmlkZXJPcHRzLmxvZ2dlcnx8Y2UscmVsYXlVcmw6dGhpcy5wcm92aWRlck9wdHMucmVsYXlVcmx8fHB0LHByb2plY3RJZDp0aGlzLnByb3ZpZGVyT3B0cy5wcm9qZWN0SWQsbWV0YWRhdGE6dGhpcy5wcm92aWRlck9wdHMubWV0YWRhdGEsc3RvcmFnZU9wdGlvbnM6dGhpcy5wcm92aWRlck9wdHMuc3RvcmFnZU9wdGlvbnMsc3RvcmFnZTp0aGlzLnByb3ZpZGVyT3B0cy5zdG9yYWdlLG5hbWU6dGhpcy5wcm92aWRlck9wdHMubmFtZSxjdXN0b21TdG9yYWdlUHJlZml4OnRoaXMucHJvdmlkZXJPcHRzLmN1c3RvbVN0b3JhZ2VQcmVmaXgsdGVsZW1ldHJ5RW5hYmxlZDp0aGlzLnByb3ZpZGVyT3B0cy50ZWxlbWV0cnlFbmFibGVkfSksdGhpcy5wcm92aWRlck9wdHMuc2Vzc2lvbil0cnl7dGhpcy5zZXNzaW9uPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHRoaXMucHJvdmlkZXJPcHRzLnNlc3Npb24udG9waWMpfWNhdGNoKGkpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGksXCJGYWlsZWQgdG8gZ2V0IHNlc3Npb25cIiksbmV3IEVycm9yKGBUaGUgcHJvdmlkZWQgc2Vzc2lvbjogJHsocz0oZT10aGlzLnByb3ZpZGVyT3B0cyk9PW51bGw/dm9pZCAwOmUuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWN9IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIFNpZ24gY2xpZW50YCl9ZWxzZXtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCk7dGhpcy5zZXNzaW9uPWlbMF19dGhpcy5sb2dnZXIudHJhY2UoXCJTaWduQ2xpZW50IEluaXRpYWxpemVkXCIpfWNyZWF0ZVByb3ZpZGVycygpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7aWYoIXRoaXMuc2Vzc2lvbil0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSBlbmFibGUoKVwiKTtjb25zdCBlPVsuLi5uZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMuc2Vzc2lvbi5uYW1lc3BhY2VzKS5tYXAocz0+TyhzKSkpXTtVKFwiY2xpZW50XCIsdGhpcy5jbGllbnQpLFUoXCJldmVudHNcIix0aGlzLmV2ZW50cyksVShcImRpc2FibGVQcm92aWRlclBpbmdcIix0aGlzLmRpc2FibGVQcm92aWRlclBpbmcpLGUuZm9yRWFjaChzPT57aWYoIXRoaXMuc2Vzc2lvbilyZXR1cm47Y29uc3QgaT1idChzLHRoaXMuc2Vzc2lvbik7aWYoaT8ubGVuZ3RoPT09MClyZXR1cm47Y29uc3Qgcj1mZShpKSxhPUModGhpcy5uYW1lc3BhY2VzLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzKSxuPWooUyh7fSxhW3NdKSx7YWNjb3VudHM6aSxjaGFpbnM6cn0pO3N3aXRjaChzKXtjYXNlXCJlaXAxNTVcIjp0aGlzLnJwY1Byb3ZpZGVyc1tzXT1uZXcgWHQoe25hbWVzcGFjZTpufSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnJwY1Byb3ZpZGVyc1tzXT1uZXcgWnQoe25hbWVzcGFjZTpufSl9fSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2lmKHR5cGVvZiB0aGlzLmNsaWVudD5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3BpbmdcIixlPT57dmFyIHM7Y29uc3R7dG9waWM6aX09ZTtpPT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpJiZ0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIsZSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZXZlbnRcIixlPT57dmFyIHM7Y29uc3R7cGFyYW1zOmksdG9waWM6cn09ZTtpZihyIT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpKXJldHVybjtjb25zdHtldmVudDphfT1pO2lmKGEubmFtZT09PVwiYWNjb3VudHNDaGFuZ2VkXCIpe2NvbnN0IG49YS5kYXRhO24mJlIobikmJnRoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixuLm1hcCh5ZSkpfWVsc2UgaWYoYS5uYW1lPT09XCJjaGFpbkNoYW5nZWRcIil7Y29uc3Qgbj1pLmNoYWluSWQsYz1pLmV2ZW50LmRhdGEsbz1PKG4pLGg9SChuKSE9PUgoYyk/YCR7b306JHtIKGMpfWA6bjt0aGlzLm9uQ2hhaW5DaGFuZ2VkKHtjdXJyZW50Q2FpcENoYWluSWQ6aH0pfWVsc2UgdGhpcy5ldmVudHMuZW1pdChhLm5hbWUsYS5kYXRhKTt0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLGUpfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3VwZGF0ZVwiLCh7dG9waWM6ZSxwYXJhbXM6c30pPT57dmFyIGkscjtpZihlIT09KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpKXJldHVybjtjb25zdHtuYW1lc3BhY2VzOmF9PXMsbj0ocj10aGlzLmNsaWVudCk9PW51bGw/dm9pZCAwOnIuc2Vzc2lvbi5nZXQoZSk7dGhpcy5zZXNzaW9uPWooUyh7fSxuKSx7bmFtZXNwYWNlczphfSksdGhpcy5vblNlc3Npb25VcGRhdGUoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7dG9waWM6ZSxwYXJhbXM6c30pfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2RlbGV0ZVwiLGFzeW5jIGU9Pnt2YXIgcztlLnRvcGljPT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpJiYoYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIsZSksdGhpcy5ldmVudHMuZW1pdChcImRpc2Nvbm5lY3RcIixqKFMoe30sWChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx7ZGF0YTplLnRvcGljfSkpKX0pLHRoaXMub24oRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsZT0+e3RoaXMub25DaGFpbkNoYW5nZWQoaihTKHt9LGUpLHtpbnRlcm5hbDohMH0pKX0pfWdldFByb3ZpZGVyKGUpe3JldHVybiB0aGlzLnJwY1Byb3ZpZGVyc1tlXXx8dGhpcy5ycGNQcm92aWRlcnNbaGVdfW9uU2Vzc2lvblVwZGF0ZSgpe09iamVjdC5rZXlzKHRoaXMucnBjUHJvdmlkZXJzKS5mb3JFYWNoKGU9Pnt2YXIgczt0aGlzLmdldFByb3ZpZGVyKGUpLnVwZGF0ZU5hbWVzcGFjZSgocz10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpzLm5hbWVzcGFjZXNbZV0pfSl9c2V0TmFtZXNwYWNlcyhlKXtjb25zdHtuYW1lc3BhY2VzOnM9e30sb3B0aW9uYWxOYW1lc3BhY2VzOmk9e30sc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOmF9PWU7dGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9QyhzLGkpLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9cix0aGlzLnNjb3BlZFByb3BlcnRpZXM9YX12YWxpZGF0ZUNoYWluKGUpe2NvbnN0W3MsaV09ZT8uc3BsaXQoXCI6XCIpfHxbXCJcIixcIlwiXTtpZighdGhpcy5uYW1lc3BhY2VzfHwhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKS5sZW5ndGgpcmV0dXJuW3MsaV07aWYocyYmIU9iamVjdC5rZXlzKHRoaXMubmFtZXNwYWNlc3x8e30pLm1hcChuPT5PKG4pKS5pbmNsdWRlcyhzKSl0aHJvdyBuZXcgRXJyb3IoYE5hbWVzcGFjZSAnJHtzfScgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBmaXJzdCB3aXRoIG5hbWVzcGFjZSBjb25maWcuYCk7aWYocyYmaSlyZXR1cm5bcyxpXTtjb25zdCByPU8oT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKVswXSksYT10aGlzLnJwY1Byb3ZpZGVyc1tyXS5nZXREZWZhdWx0Q2hhaW4oKTtyZXR1cm5bcixhXX1hc3luYyByZXF1ZXN0QWNjb3VudHMoKXtjb25zdFtlXT10aGlzLnZhbGlkYXRlQ2hhaW4oKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm92aWRlcihlKS5yZXF1ZXN0QWNjb3VudHMoKX1hc3luYyBvbkNoYWluQ2hhbmdlZCh7Y3VycmVudENhaXBDaGFpbklkOmUscHJldmlvdXNDYWlwQ2hhaW5JZDpzLGludGVybmFsOmk9ITF9KXtpZighdGhpcy5uYW1lc3BhY2VzKXJldHVybjtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihlKTthJiYodGhpcy51cGRhdGVOYW1lc3BhY2VDaGFpbihyLGEpLGk/KHRoaXMuZXZlbnRzLmVtaXQoXCJjaGFpbkNoYW5nZWRcIixhKSx0aGlzLmVtaXRBY2NvdW50c0NoYW5nZWRPbkNoYWluQ2hhbmdlKHtuYW1lc3BhY2U6cixjdXJyZW50Q2FpcENoYWluSWQ6ZSxwcmV2aW91c0NhaXBDaGFpbklkOnN9KSk6dGhpcy5nZXRQcm92aWRlcihyKS5zZXREZWZhdWx0Q2hhaW4oYSksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcykpfWVtaXRBY2NvdW50c0NoYW5nZWRPbkNoYWluQ2hhbmdlKHtuYW1lc3BhY2U6ZSxjdXJyZW50Q2FpcENoYWluSWQ6cyxwcmV2aW91c0NhaXBDaGFpbklkOml9KXt2YXIgcixhO3RyeXtpZihpPT09cylyZXR1cm47Y29uc3Qgbj0oYT0ocj10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpyLm5hbWVzcGFjZXNbZV0pPT1udWxsP3ZvaWQgMDphLmFjY291bnRzO2lmKCFuKXJldHVybjtjb25zdCBjPW4uZmlsdGVyKG89Pm8uaW5jbHVkZXMoYCR7c306YCkpLm1hcCh5ZSk7aWYoIVIoYykpcmV0dXJuO3RoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixjKX1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4sXCJGYWlsZWQgdG8gZW1pdCBhY2NvdW50c0NoYW5nZWQgb24gY2hhaW4gY2hhbmdlXCIpfX11cGRhdGVOYW1lc3BhY2VDaGFpbihlLHMpe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0IGk9dGhpcy5uYW1lc3BhY2VzW2VdP2U6YCR7ZX06JHtzfWAscj17Y2hhaW5zOltdLG1ldGhvZHM6W10sZXZlbnRzOltdLGRlZmF1bHRDaGFpbjpzfTt0aGlzLm5hbWVzcGFjZXNbaV0/dGhpcy5uYW1lc3BhY2VzW2ldJiYodGhpcy5uYW1lc3BhY2VzW2ldLmRlZmF1bHRDaGFpbj1zKTp0aGlzLm5hbWVzcGFjZXNbaV09cn1vbkNvbm5lY3QoKXt0aGlzLmNyZWF0ZVByb3ZpZGVycygpLHRoaXMuZXZlbnRzLmVtaXQoXCJjb25uZWN0XCIse3Nlc3Npb246dGhpcy5zZXNzaW9ufSl9YXN5bmMgY2xlYW51cCgpe3RoaXMubmFtZXNwYWNlcz12b2lkIDAsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9dm9pZCAwLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9dm9pZCAwLGF3YWl0IHRoaXMuZGVsZXRlRnJvbVN0b3JlKFwibmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLHRoaXMuc2Vzc2lvbj12b2lkIDAsdGhpcy5jbGVhbnVwUGVuZGluZ1BhaXJpbmdzKHtkZWxldGVQYWlyaW5nczohMH0pLGF3YWl0IHRoaXMuY2xlYW51cFN0b3JhZ2UoKX1hc3luYyBwZXJzaXN0KGUscyl7dmFyIGk7Y29uc3Qgcj0oKGk9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6aS50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnNldEl0ZW0oYCR7QX0vJHtlfSR7cn1gLHMpfWFzeW5jIGdldEZyb21TdG9yZShlKXt2YXIgcztjb25zdCBpPSgocz10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpzLnRvcGljKXx8XCJcIjtyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLmdldEl0ZW0oYCR7QX0vJHtlfSR7aX1gKX1hc3luYyBkZWxldGVGcm9tU3RvcmUoZSl7dmFyIHM7Y29uc3QgaT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7QX0vJHtlfSR7aX1gKX1hc3luYyBjbGVhbnVwU3RvcmFnZSgpe3ZhciBlO3RyeXtpZigoKGU9dGhpcy5jbGllbnQpPT1udWxsP3ZvaWQgMDplLnNlc3Npb24ubGVuZ3RoKT4wKXJldHVybjtjb25zdCBzPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRLZXlzKCk7Zm9yKGNvbnN0IGkgb2YgcylpLnN0YXJ0c1dpdGgoQSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyxcIkZhaWxlZCB0byBjbGVhbnVwIHN0b3JhZ2VcIil9fX1jb25zdCBucz1OO2V4cG9ydHtucyBhcyBVbml2ZXJzYWxQcm92aWRlcixOIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/universal-provider/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ Vn),\n/* harmony export */   BASE16: () => (/* binding */ rt),\n/* harmony export */   BASE64: () => (/* binding */ oe),\n/* harmony export */   BASE64URL: () => (/* binding */ Ge),\n/* harmony export */   COLON: () => (/* binding */ ci),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ nn),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ Se),\n/* harmony export */   ENV_MAP: () => (/* binding */ et),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ ws),\n/* harmony export */   LimitedSet: () => (/* binding */ ki),\n/* harmony export */   MemoryStore: () => (/* binding */ hu),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ fi),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ dr),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ ss),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ ms),\n/* harmony export */   SDK_TYPE: () => (/* binding */ pr),\n/* harmony export */   SLASH: () => (/* binding */ hr),\n/* harmony export */   TYPE_0: () => (/* binding */ Mn),\n/* harmony export */   TYPE_1: () => (/* binding */ ie),\n/* harmony export */   TYPE_2: () => (/* binding */ we),\n/* harmony export */   UTF8: () => (/* binding */ se),\n/* harmony export */   addResourceToRecap: () => (/* binding */ fo),\n/* harmony export */   addSignatureToExtrinsic: () => (/* binding */ Ls),\n/* harmony export */   appendToQueryString: () => (/* binding */ gr),\n/* harmony export */   assertType: () => (/* binding */ bi),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ yn),\n/* harmony export */   base64Decode: () => (/* binding */ io),\n/* harmony export */   base64Encode: () => (/* binding */ so),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ Ma),\n/* harmony export */   buildAuthObject: () => (/* binding */ Hc),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ Ka),\n/* harmony export */   buildRecapStatement: () => (/* binding */ uo),\n/* harmony export */   buildSignedExtrinsicHash: () => (/* binding */ mu),\n/* harmony export */   calcExpiry: () => (/* binding */ Ni),\n/* harmony export */   capitalize: () => (/* binding */ Ei),\n/* harmony export */   capitalizeWord: () => (/* binding */ Er),\n/* harmony export */   createDelayedPromise: () => (/* binding */ Bi),\n/* harmony export */   createEncodedRecap: () => (/* binding */ Kc),\n/* harmony export */   createExpiringPromise: () => (/* binding */ Ai),\n/* harmony export */   createLogger: () => (/* binding */ wu),\n/* harmony export */   createRecap: () => (/* binding */ co),\n/* harmony export */   decodeRecap: () => (/* binding */ kt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Zt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ ma),\n/* harmony export */   decrypt: () => (/* binding */ ba),\n/* harmony export */   deriveExtrinsicHash: () => (/* binding */ ks),\n/* harmony export */   deriveSymKey: () => (/* binding */ da),\n/* harmony export */   deserialize: () => (/* binding */ ze),\n/* harmony export */   encodeRecap: () => (/* binding */ Ce),\n/* harmony export */   encodeTypeByte: () => (/* binding */ qn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ ya),\n/* harmony export */   encrypt: () => (/* binding */ ga),\n/* harmony export */   engineEvent: () => (/* binding */ _i),\n/* harmony export */   enumify: () => (/* binding */ xi),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ Sc),\n/* harmony export */   formatAccountId: () => (/* binding */ sr),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Ws),\n/* harmony export */   formatChainId: () => (/* binding */ or),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ Br),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ on),\n/* harmony export */   formatIdTarget: () => (/* binding */ Si),\n/* harmony export */   formatMessage: () => (/* binding */ eo),\n/* harmony export */   formatMessageContext: () => (/* binding */ yi),\n/* harmony export */   formatRelayParams: () => (/* binding */ us),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ pi),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ wn),\n/* harmony export */   formatTopicTarget: () => (/* binding */ Ii),\n/* harmony export */   formatUA: () => (/* binding */ wr),\n/* harmony export */   formatUri: () => (/* binding */ $a),\n/* harmony export */   fromBase64: () => (/* binding */ cn),\n/* harmony export */   generateKeyPair: () => (/* binding */ ua),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ la),\n/* harmony export */   getAccountsChains: () => (/* binding */ Gt),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Js),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ ir),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ Xs),\n/* harmony export */   getAlgorandTransactionId: () => (/* binding */ Uc),\n/* harmony export */   getAppId: () => (/* binding */ li),\n/* harmony export */   getAppMetadata: () => (/* binding */ br),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ _s),\n/* harmony export */   getChainFromAccount: () => (/* binding */ cr),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ fr),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ Ie),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Qs),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ Zc),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ ti),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ sn),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ os),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ no),\n/* harmony export */   getDeepLink: () => (/* binding */ $i),\n/* harmony export */   getDidAddress: () => (/* binding */ bn),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ Te),\n/* harmony export */   getDidChainId: () => (/* binding */ Qr),\n/* harmony export */   getEnvironment: () => (/* binding */ Vt),\n/* harmony export */   getHttpUrl: () => (/* binding */ gi),\n/* harmony export */   getInternalError: () => (/* binding */ Bt),\n/* harmony export */   getJavascriptID: () => (/* binding */ mr),\n/* harmony export */   getJavascriptOS: () => (/* binding */ yr),\n/* harmony export */   getLastItems: () => (/* binding */ xr),\n/* harmony export */   getLinkModeURL: () => (/* binding */ Ta),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ Fc),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ to),\n/* harmony export */   getNamespacesChains: () => (/* binding */ hs),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ gs),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ ys),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ ps),\n/* harmony export */   getNearTransactionIdFromSignedTransaction: () => (/* binding */ Nc),\n/* harmony export */   getNearUint8ArrayFromBytes: () => (/* binding */ Yr),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ $s),\n/* harmony export */   getReCapActions: () => (/* binding */ oo),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ Rs),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ Mc),\n/* harmony export */   getRecapFromResources: () => (/* binding */ je),\n/* harmony export */   getRecapResource: () => (/* binding */ ro),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ hi),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ Aa),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ Ba),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ Va),\n/* harmony export */   getSdkError: () => (/* binding */ zt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ Ti),\n/* harmony export */   getSignDirectHash: () => (/* binding */ _c),\n/* harmony export */   getSuiDigest: () => (/* binding */ Oc),\n/* harmony export */   getUniqueValues: () => (/* binding */ tn),\n/* harmony export */   getWalletSendCallsHashes: () => (/* binding */ Rc),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ Ri),\n/* harmony export */   hasOverlap: () => (/* binding */ It),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ hn),\n/* harmony export */   hashKey: () => (/* binding */ ha),\n/* harmony export */   hashMessage: () => (/* binding */ pa),\n/* harmony export */   isAndroid: () => (/* binding */ ai),\n/* harmony export */   isAppVisible: () => (/* binding */ du),\n/* harmony export */   isBrowser: () => (/* binding */ Wt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ Gn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ Ns),\n/* harmony export */   isExpired: () => (/* binding */ Ui),\n/* harmony export */   isIframe: () => (/* binding */ Sr),\n/* harmony export */   isIos: () => (/* binding */ ui),\n/* harmony export */   isNode: () => (/* binding */ rn),\n/* harmony export */   isOnline: () => (/* binding */ uu),\n/* harmony export */   isProposalStruct: () => (/* binding */ Ga),\n/* harmony export */   isReactNative: () => (/* binding */ At),\n/* harmony export */   isRecap: () => (/* binding */ mn),\n/* harmony export */   isSessionCompatible: () => (/* binding */ Fa),\n/* harmony export */   isSessionStruct: () => (/* binding */ za),\n/* harmony export */   isTelegram: () => (/* binding */ Ir),\n/* harmony export */   isTestRun: () => (/* binding */ ji),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ va),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ xa),\n/* harmony export */   isUndefined: () => (/* binding */ Dt),\n/* harmony export */   isValidAccountId: () => (/* binding */ vs),\n/* harmony export */   isValidAccounts: () => (/* binding */ Bs),\n/* harmony export */   isValidActions: () => (/* binding */ Is),\n/* harmony export */   isValidArray: () => (/* binding */ Ee),\n/* harmony export */   isValidChainId: () => (/* binding */ Be),\n/* harmony export */   isValidChains: () => (/* binding */ xs),\n/* harmony export */   isValidController: () => (/* binding */ Ya),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ zr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ Gr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ tu),\n/* harmony export */   isValidEvent: () => (/* binding */ ru),\n/* harmony export */   isValidId: () => (/* binding */ Ja),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ As),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ Yn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ Es),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ zn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Ss),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ ou),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ iu),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ su),\n/* harmony export */   isValidNumber: () => (/* binding */ We),\n/* harmony export */   isValidObject: () => (/* binding */ Ye),\n/* harmony export */   isValidParams: () => (/* binding */ Qa),\n/* harmony export */   isValidRecap: () => (/* binding */ yt),\n/* harmony export */   isValidRelay: () => (/* binding */ Os),\n/* harmony export */   isValidRelays: () => (/* binding */ Xa),\n/* harmony export */   isValidRequest: () => (/* binding */ eu),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ au),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ Wa),\n/* harmony export */   isValidResponse: () => (/* binding */ nu),\n/* harmony export */   isValidString: () => (/* binding */ ft),\n/* harmony export */   isValidUrl: () => (/* binding */ Za),\n/* harmony export */   mapEntries: () => (/* binding */ vi),\n/* harmony export */   mapToObj: () => (/* binding */ mi),\n/* harmony export */   mergeArrays: () => (/* binding */ ut),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ qc),\n/* harmony export */   mergeRecaps: () => (/* binding */ ao),\n/* harmony export */   mergeRequiredAndOptionalNamespaces: () => (/* binding */ qa),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ xe),\n/* harmony export */   objToMap: () => (/* binding */ wi),\n/* harmony export */   openDeeplink: () => (/* binding */ Ar),\n/* harmony export */   parseAccountId: () => (/* binding */ Qe),\n/* harmony export */   parseChainId: () => (/* binding */ Je),\n/* harmony export */   parseContextNames: () => (/* binding */ vr),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ Oi),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ bs),\n/* harmony export */   parseRelayParams: () => (/* binding */ fs),\n/* harmony export */   parseTopic: () => (/* binding */ as),\n/* harmony export */   parseUri: () => (/* binding */ Ra),\n/* harmony export */   populateAppMetadata: () => (/* binding */ di),\n/* harmony export */   populateAuthPayload: () => (/* binding */ Dc),\n/* harmony export */   recapHasResource: () => (/* binding */ Vc),\n/* harmony export */   serialize: () => (/* binding */ Fn),\n/* harmony export */   sleep: () => (/* binding */ Li),\n/* harmony export */   ss58AddressToPublicKey: () => (/* binding */ js),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ Ts),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ lu),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Cs),\n/* harmony export */   toBase64: () => (/* binding */ Or),\n/* harmony export */   uuidv4: () => (/* binding */ Ci),\n/* harmony export */   validateDecoding: () => (/* binding */ wa),\n/* harmony export */   validateEncoding: () => (/* binding */ rs),\n/* harmony export */   validateSignedCacao: () => (/* binding */ Pc),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ Ea),\n/* harmony export */   verifySignature: () => (/* binding */ Zr)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! detect-browser */ \"(app-pages-browser)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(app-pages-browser)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(app-pages-browser)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var ox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ox */ \"(app-pages-browser)/./node_modules/ox/_esm/core/Signature.js\");\n/* harmony import */ var ox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ox */ \"(app-pages-browser)/./node_modules/ox/_esm/core/Secp256k1.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @msgpack/msgpack */ \"(app-pages-browser)/./node_modules/@msgpack/msgpack/dist.esm/decode.mjs\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @msgpack/msgpack */ \"(app-pages-browser)/./node_modules/@msgpack/msgpack/dist.esm/encode.mjs\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @scure/base */ \"(app-pages-browser)/./node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(app-pages-browser)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! blakejs */ \"(app-pages-browser)/./node_modules/blakejs/index.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\nconst Ae=\":\";function Je(t){const[e,n]=t.split(Ae);return{namespace:e,reference:n}}function or(t){const{namespace:e,reference:n}=t;return[e,n].join(Ae)}function Qe(t){const[e,n,r]=t.split(Ae);return{namespace:e,reference:n,address:r}}function sr(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(Ae)}function tn(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function ir(t){const{address:e}=Qe(t);return e}function cr(t){const{namespace:e,reference:n}=Qe(t);return or({namespace:e,reference:n})}function Ws(t,e){const{namespace:n,reference:r}=Je(e);return sr({namespace:n,reference:r,address:t})}function Xs(t){return tn(t,ir)}function fr(t){return tn(t,cr)}function Js(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Qs(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...fr(o.accounts))}),n}function ti(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Ie(r,o))}),n}function Ie(t,e){return t.includes(\":\")?[t]:e.chains||[]}var ei=Object.defineProperty,ni=Object.defineProperties,ri=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,en=(t,e,n)=>e in t?ei(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ur=(t,e)=>{for(var n in e||(e={}))oi.call(e,n)&&en(t,n,e[n]);if(ar)for(var n of ar(e))si.call(e,n)&&en(t,n,e[n]);return t},ii=(t,e)=>ni(t,ri(e)),lr=(t,e,n)=>en(t,typeof e!=\"symbol\"?e+\"\":e,n);const dr=\"ReactNative\",et={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},Se=\" \",ci=\":\",hr=\"/\",nn=2,fi=1e3,pr=\"js\";function rn(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function At(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===dr}function ai(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function ui(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Wt(){return!rn()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function Vt(){return At()?et.reactNative:rn()?et.node:Wt()?et.browser:et.unknown}function li(){var t;try{return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gr(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!=null&&n.set(r,String(o))}),n.toString()}function di(t){var e,n;const r=br();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),ii(ur(ur({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function br(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function hi(t,e){var n;const r=Vt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function yr(){if(Vt()===et.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_9__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function mr(){var t;const e=Vt();return e===et.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function wr(t,e,n){const r=yr(),o=mr();return[[t,e].join(\"-\"),[pr,n].join(\"-\"),r,o].join(\"/\")}function pi({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:c,packageName:f}){const u=n.split(\"?\"),a=wr(t,e,r),l={auth:o,ua:a,projectId:s,useOnCloseEvent:i||void 0,packageName:f||void 0,bundleId:c||void 0},d=gr(u[1]||\"\",l);return u[0]+\"?\"+d}function gi(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function bi(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function vr(t,e=nn){return xr(t.split(hr),e)}function yi(t){return vr(t).join(Se)}function It(t,e){return t.filter(n=>e.includes(n)).length===t.length}function xr(t,e=nn){return t.slice(Math.max(t.length-e,0))}function mi(t){return Object.fromEntries(t.entries())}function wi(t){return new Map(Object.entries(t))}function vi(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const xi=t=>t;function Er(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function Ei(t){return t.split(Se).map(e=>Er(e)).join(Se)}function Bi(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,s,i;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),i=Promise.resolve(c))},reject:c=>{s&&o&&(clearTimeout(s),o(c))},done:()=>new Promise((c,f)=>{if(i)return c(i);s=setTimeout(()=>{const u=new Error(e);i=Promise.reject(u),f(u)},n),r=c,o=f})}}function Ai(t,e,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),e);try{const i=await t;r(i)}catch(i){o(i)}clearTimeout(s)})}function on(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Ii(t){return on(\"topic\",t)}function Si(t){return on(\"id\",t)}function Oi(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ni(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function Ui(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function _i(t,e){return`${t}${e?`:${e}`:\"\"}`}function ut(t=[],e=[]){return[...new Set([...t,...e])]}async function Ri({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,s=o?.href;if(typeof s!=\"string\")return;const i=Br(s,t,e),c=Vt();if(c===et.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}Ar(i)}else c===et.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(i)}catch(o){console.error(o)}}function Br(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${s}${Or(r,!0)}`}else o=`${o}/wc?${r}`;return o}function Ar(t){let e=\"_self\";Sr()?e=\"_top\":(Ir()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function $i(t,e){let n=\"\";try{if(Wt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function sn(t,e){return t.filter(n=>e.includes(n))}function Ti(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Ci(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function ji(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function Ir(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sr(){try{return window.self!==window.top}catch{return!1}}function Or(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function cn(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function Li(t){return new Promise(e=>setTimeout(e,t))}class ki{constructor({limit:e}){lr(this,\"limit\"),lr(this,\"set\"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}}const Oe=BigInt(2**32-1),Nr=BigInt(32);function Ur(t,e=!1){return e?{h:Number(t&Oe),l:Number(t>>Nr&Oe)}:{h:Number(t>>Nr&Oe)|0,l:Number(t&Oe)|0}}function _r(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let s=0;s<n;s++){const{h:i,l:c}=Ur(t[s],e);[r[s],o[s]]=[i,c]}return[r,o]}const Rr=(t,e,n)=>t>>>n,$r=(t,e,n)=>t<<32-n|e>>>n,St=(t,e,n)=>t>>>n|e<<32-n,Ot=(t,e,n)=>t<<32-n|e>>>n,de=(t,e,n)=>t<<64-n|e>>>n-32,he=(t,e,n)=>t>>>n-32|e<<64-n,Pi=(t,e)=>e,Hi=(t,e)=>t,Di=(t,e,n)=>t<<n|e>>>32-n,Vi=(t,e,n)=>e<<n|t>>>32-n,Mi=(t,e,n)=>e<<n-32|t>>>64-n,Ki=(t,e,n)=>t<<n-32|e>>>64-n;function dt(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const fn=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),an=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qi=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Fi=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zi=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gi=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,Xt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function Ne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ht(t,...e){if(!Ne(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Ue(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.createHasher\");mt(t.outputLen),mt(t.blockLen)}function Nt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function un(t,e){ht(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function pe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ln(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bt(t,e){return t<<32-e|t>>>e}const Tr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cr(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wt=Tr?t=>t:t=>Cr(t);function zi(t){for(let e=0;e<t.length;e++)t[e]=Cr(t[e]);return t}const Ut=Tr?t=>t:zi,jr=typeof Uint8Array.from([]).toHex==\"function\"&&typeof Uint8Array.fromHex==\"function\",Yi=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Jt(t){if(ht(t),jr)return t.toHex();let e=\"\";for(let n=0;n<t.length;n++)e+=Yi[t[n]];return e}const vt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lr(t){if(t>=vt._0&&t<=vt._9)return t-vt._0;if(t>=vt.A&&t<=vt.F)return t-(vt.A-10);if(t>=vt.a&&t<=vt.f)return t-(vt.a-10)}function _e(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);if(jr)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Lr(t.charCodeAt(s)),c=Lr(t.charCodeAt(s+1));if(i===void 0||c===void 0){const f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+f+'\" at index '+s)}r[o]=i*16+c}return r}function kr(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function pt(t){return typeof t==\"string\"&&(t=kr(t)),ht(t),t}function _t(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];ht(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}class Re{}function ge(t){const e=r=>t().update(pt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Wi(t){const e=(r,o)=>t(o).update(pt(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Mt(t=32){if(Xt&&typeof Xt.getRandomValues==\"function\")return Xt.getRandomValues(new Uint8Array(t));if(Xt&&typeof Xt.randomBytes==\"function\")return Uint8Array.from(Xt.randomBytes(t));throw new Error(\"crypto.getRandomValues must be defined\")}const Xi=BigInt(0),be=BigInt(1),Ji=BigInt(2),Qi=BigInt(7),tc=BigInt(256),ec=BigInt(113),Pr=[],Hr=[],Dr=[];for(let t=0,e=be,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Pr.push(2*(5*r+n)),Hr.push((t+1)*(t+2)/2%64);let o=Xi;for(let s=0;s<7;s++)e=(e<<be^(e>>Qi)*ec)%tc,e&Ji&&(o^=be<<(be<<BigInt(s))-be);Dr.push(o)}const Vr=_r(Dr,!0),nc=Vr[0],rc=Vr[1],Mr=(t,e,n)=>n>32?Mi(t,e,n):Di(t,e,n),Kr=(t,e,n)=>n>32?Ki(t,e,n):Vi(t,e,n);function oc(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,f=(i+2)%10,u=n[f],a=n[f+1],l=Mr(u,a,1)^n[c],d=Kr(u,a,1)^n[c+1];for(let h=0;h<50;h+=10)t[i+h]^=l,t[i+h+1]^=d}let o=t[2],s=t[3];for(let i=0;i<24;i++){const c=Hr[i],f=Mr(o,s,c),u=Kr(o,s,c),a=Pr[i];o=t[a],s=t[a+1],t[a]=f,t[a+1]=u}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=t[i+c];for(let c=0;c<10;c++)t[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=nc[r],t[1]^=rc[r]}lt(n)}class Jn extends Re{constructor(e,n,r,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,mt(r),!(0<e&&e<200))throw new Error(\"only keccak-f1600 function is supported\");this.state=new Uint8Array(200),this.state32=pe(this.state)}clone(){return this._cloneInto()}keccak(){Ut(this.state32),oc(this.state32,this.rounds),Ut(this.state32),this.posOut=0,this.pos=0}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,state:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Nt(this,!1),ht(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return mt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(un(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new Jn(n,r,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}}const sc=(t,e,n)=>ge(()=>new Jn(e,t,n)),ic=sc(1,136,256/8);function cc(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function fc(t,e,n){return t&e^~t&n}function ac(t,e,n){return t&e^t&n^e&n}class qr extends Re{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=ln(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{view:n,buffer:r,blockLen:o}=this,s=e.length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const f=ln(e);for(;o<=s-i;i+=o)this.process(f,i);continue}r.set(e.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nt(this),un(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(r,0),i=0);for(let l=i;l<o;l++)n[l]=0;cc(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=ln(e),f=this.outputLen;if(f%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const u=f/4,a=this.get();if(u>a.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<u;l++)c.setUint32(4*l,a[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return e.destroyed=i,e.finished=s,e.length=o,e.pos=c,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Rt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),J=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$t=new Uint32Array(64);class lc extends qr{constructor(e=32){super(64,e,8,!1),this.A=Rt[0]|0,this.B=Rt[1]|0,this.C=Rt[2]|0,this.D=Rt[3]|0,this.E=Rt[4]|0,this.F=Rt[5]|0,this.G=Rt[6]|0,this.H=Rt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:s,F:i,G:c,H:f}=this;return[e,n,r,o,s,i,c,f]}set(e,n,r,o,s,i,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=f|0}process(e,n){for(let l=0;l<16;l++,n+=4)$t[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const d=$t[l-15],h=$t[l-2],y=bt(d,7)^bt(d,18)^d>>>3,m=bt(h,17)^bt(h,19)^h>>>10;$t[l]=m+$t[l-7]+y+$t[l-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:f,G:u,H:a}=this;for(let l=0;l<64;l++){const d=bt(c,6)^bt(c,11)^bt(c,25),h=a+d+fc(c,f,u)+uc[l]+$t[l]|0,m=(bt(r,2)^bt(r,13)^bt(r,22))+ac(r,o,s)|0;a=u,u=f,f=c,c=i+h|0,i=s,s=o,o=r,r=h+m|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,f=f+this.F|0,u=u+this.G|0,a=a+this.H|0,this.set(r,o,s,i,c,f,u,a)}roundClean(){lt($t)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const Fr=_r([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))),dc=Fr[0],hc=Fr[1],Tt=new Uint32Array(80),Ct=new Uint32Array(80);class dn extends qr{constructor(e=64){super(128,e,16,!1),this.Ah=J[0]|0,this.Al=J[1]|0,this.Bh=J[2]|0,this.Bl=J[3]|0,this.Ch=J[4]|0,this.Cl=J[5]|0,this.Dh=J[6]|0,this.Dl=J[7]|0,this.Eh=J[8]|0,this.El=J[9]|0,this.Fh=J[10]|0,this.Fl=J[11]|0,this.Gh=J[12]|0,this.Gl=J[13]|0,this.Hh=J[14]|0,this.Hl=J[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:i,Dh:c,Dl:f,Eh:u,El:a,Fh:l,Fl:d,Gh:h,Gl:y,Hh:m,Hl:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=c|0,this.Dl=f|0,this.Eh=u|0,this.El=a|0,this.Fh=l|0,this.Fl=d|0,this.Gh=h|0,this.Gl=y|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let R=0;R<16;R++,n+=4)Tt[R]=e.getUint32(n),Ct[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const Z=Tt[R-15]|0,H=Ct[R-15]|0,j=St(Z,H,1)^St(Z,H,8)^Rr(Z,H,7),L=Ot(Z,H,1)^Ot(Z,H,8)^$r(Z,H,7),k=Tt[R-2]|0,O=Ct[R-2]|0,T=St(k,O,19)^de(k,O,61)^Rr(k,O,6),C=Ot(k,O,19)^he(k,O,61)^$r(k,O,6),_=qi(L,C,Ct[R-7],Ct[R-16]),p=Fi(_,j,T,Tt[R-7],Tt[R-16]);Tt[R]=p|0,Ct[R]=_|0}let{Ah:r,Al:o,Bh:s,Bl:i,Ch:c,Cl:f,Dh:u,Dl:a,Eh:l,El:d,Fh:h,Fl:y,Gh:m,Gl:v,Hh:U,Hl:F}=this;for(let R=0;R<80;R++){const Z=St(l,d,14)^St(l,d,18)^de(l,d,41),H=Ot(l,d,14)^Ot(l,d,18)^he(l,d,41),j=l&h^~l&m,L=d&y^~d&v,k=Zi(F,H,L,hc[R],Ct[R]),O=Gi(k,U,Z,j,dc[R],Tt[R]),T=k|0,C=St(r,o,28)^de(r,o,34)^de(r,o,39),_=Ot(r,o,28)^he(r,o,34)^he(r,o,39),p=r&s^r&c^s&c,b=o&i^o&f^i&f;U=m|0,F=v|0,m=h|0,v=y|0,h=l|0,y=d|0,{h:l,l:d}=dt(u|0,a|0,O|0,T|0),u=c|0,a=f|0,c=s|0,f=i|0,s=r|0,i=o|0;const g=fn(T,_,b);r=an(g,O,C,p),o=g|0}({h:r,l:o}=dt(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:i}=dt(this.Bh|0,this.Bl|0,s|0,i|0),{h:c,l:f}=dt(this.Ch|0,this.Cl|0,c|0,f|0),{h:u,l:a}=dt(this.Dh|0,this.Dl|0,u|0,a|0),{h:l,l:d}=dt(this.Eh|0,this.El|0,l|0,d|0),{h,l:y}=dt(this.Fh|0,this.Fl|0,h|0,y|0),{h:m,l:v}=dt(this.Gh|0,this.Gl|0,m|0,v|0),{h:U,l:F}=dt(this.Hh|0,this.Hl|0,U|0,F|0),this.set(r,o,s,i,c,f,u,a,l,d,h,y,m,v,U,F)}roundClean(){lt(Tt,Ct)}destroy(){lt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class pc extends dn{constructor(){super(48),this.Ah=X[0]|0,this.Al=X[1]|0,this.Bh=X[2]|0,this.Bl=X[3]|0,this.Ch=X[4]|0,this.Cl=X[5]|0,this.Dh=X[6]|0,this.Dl=X[7]|0,this.Eh=X[8]|0,this.El=X[9]|0,this.Fh=X[10]|0,this.Fl=X[11]|0,this.Gh=X[12]|0,this.Gl=X[13]|0,this.Hh=X[14]|0,this.Hl=X[15]|0}}const Q=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class gc extends dn{constructor(){super(32),this.Ah=Q[0]|0,this.Al=Q[1]|0,this.Bh=Q[2]|0,this.Bl=Q[3]|0,this.Ch=Q[4]|0,this.Cl=Q[5]|0,this.Dh=Q[6]|0,this.Dl=Q[7]|0,this.Eh=Q[8]|0,this.El=Q[9]|0,this.Fh=Q[10]|0,this.Fl=Q[11]|0,this.Gh=Q[12]|0,this.Gl=Q[13]|0,this.Hh=Q[14]|0,this.Hl=Q[15]|0}}const $e=ge(()=>new lc),bc=ge(()=>new dn),yc=ge(()=>new pc),mc=ge(()=>new gc),wc=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),z=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),S=new Uint32Array(32);function jt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:Pi(m,y),Dl:Hi(m)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:St(l,a,24),Bl:Ot(l,a,24)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function Lt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:St(m,y,16),Dl:Ot(m,y,16)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:de(l,a,63),Bl:he(l,a,63)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function vc(t,e={},n,r,o){if(mt(n),t<0||t>n)throw new Error(\"outputLen bigger than keyLen\");const{key:s,salt:i,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error(\"key length must be undefined or 1..\"+n);if(i!==void 0&&i.length!==r)throw new Error(\"salt must be undefined or \"+r);if(c!==void 0&&c.length!==o)throw new Error(\"personalization must be undefined or \"+o)}class xc extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt(e),mt(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=pe(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,buffer:r,buffer32:o}=this,s=e.length,i=e.byteOffset,c=e.buffer;for(let f=0;f<s;){this.pos===n&&(Ut(o),this.compress(o,0,!1),Ut(o),this.pos=0);const u=Math.min(n-this.pos,s-f),a=i+f;if(u===n&&!(a%4)&&f+u<s){const l=new Uint32Array(c,a,Math.floor((s-f)/4));Ut(l);for(let d=0;f+n<s;d+=o.length,f+=n)this.length+=n,this.compress(l,d,!1);Ut(l);continue}r.set(e.subarray(f,f+u),this.pos),this.pos+=u,this.length+=u,f+=u}return this}digestInto(e){Nt(this),un(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,lt(this.buffer.subarray(n)),Ut(r),this.compress(r,0,!0),Ut(r);const o=pe(e);this.get().forEach((s,i)=>o[i]=wt(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:o,destroyed:s,outputLen:i,pos:c}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=o,e.length=r,e.pos=c,e.outputLen=i,e}clone(){return this._cloneInto()}}class Ec extends xc{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=z[0]|0,this.v0h=z[1]|0,this.v1l=z[2]|0,this.v1h=z[3]|0,this.v2l=z[4]|0,this.v2h=z[5]|0,this.v3l=z[6]|0,this.v3h=z[7]|0,this.v4l=z[8]|0,this.v4h=z[9]|0,this.v5l=z[10]|0,this.v5h=z[11]|0,this.v6l=z[12]|0,this.v6h=z[13]|0,this.v7l=z[14]|0,this.v7h=z[15]|0,vc(n,e,64,16,16);let{key:r,personalization:o,salt:s}=e,i=0;if(r!==void 0&&(r=pt(r),i=r.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,s!==void 0){s=pt(s);const c=pe(s);this.v4l^=wt(c[0]),this.v4h^=wt(c[1]),this.v5l^=wt(c[2]),this.v5h^=wt(c[3])}if(o!==void 0){o=pt(o);const c=pe(o);this.v6l^=wt(c[0]),this.v6h^=wt(c[1]),this.v7l^=wt(c[2]),this.v7h^=wt(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:o,v2l:s,v2h:i,v3l:c,v3h:f,v4l:u,v4h:a,v5l:l,v5h:d,v6l:h,v6h:y,v7l:m,v7h:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=o|0,this.v2l=s|0,this.v2h=i|0,this.v3l=c|0,this.v3h=f|0,this.v4l=u|0,this.v4h=a|0,this.v5l=l|0,this.v5h=d|0,this.v6l=h|0,this.v6h=y|0,this.v7l=m|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((f,u)=>S[u]=f),S.set(z,16);let{h:o,l:s}=Ur(BigInt(this.length));S[24]=z[8]^s,S[25]=z[9]^o,r&&(S[28]=~S[28],S[29]=~S[29]);let i=0;const c=wc;for(let f=0;f<12;f++)jt(0,4,8,12,e,n+2*c[i++]),Lt(0,4,8,12,e,n+2*c[i++]),jt(1,5,9,13,e,n+2*c[i++]),Lt(1,5,9,13,e,n+2*c[i++]),jt(2,6,10,14,e,n+2*c[i++]),Lt(2,6,10,14,e,n+2*c[i++]),jt(3,7,11,15,e,n+2*c[i++]),Lt(3,7,11,15,e,n+2*c[i++]),jt(0,5,10,15,e,n+2*c[i++]),Lt(0,5,10,15,e,n+2*c[i++]),jt(1,6,11,12,e,n+2*c[i++]),Lt(1,6,11,12,e,n+2*c[i++]),jt(2,7,8,13,e,n+2*c[i++]),Lt(2,7,8,13,e,n+2*c[i++]),jt(3,4,9,14,e,n+2*c[i++]),Lt(3,4,9,14,e,n+2*c[i++]);this.v0l^=S[0]^S[16],this.v0h^=S[1]^S[17],this.v1l^=S[2]^S[18],this.v1h^=S[3]^S[19],this.v2l^=S[4]^S[20],this.v2h^=S[5]^S[21],this.v3l^=S[6]^S[22],this.v3h^=S[7]^S[23],this.v4l^=S[8]^S[24],this.v4h^=S[9]^S[25],this.v5l^=S[10]^S[26],this.v5h^=S[11]^S[27],this.v6l^=S[12]^S[28],this.v6h^=S[13]^S[29],this.v7l^=S[14]^S[30],this.v7h^=S[15]^S[31],lt(S)}destroy(){this.destroyed=!0,lt(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bc=Wi(t=>new Ec(t)),Ac=\"https://rpc.walletconnect.org/v1\";function hn(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(ic(n)).toString(\"hex\")}async function Zr(t,e,n,r,o,s){switch(n.t){case\"eip191\":return await Gr(t,e,n.s);case\"eip1271\":return await zr(t,e,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Gr(t,e,n){const r=ox__WEBPACK_IMPORTED_MODULE_10__.fromHex(n);return ox__WEBPACK_IMPORTED_MODULE_11__.recoverAddress({payload:hn(e),signature:r}).toLowerCase()===t.toLowerCase()}async function zr(t,e,n,r,o,s){const i=Je(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",f=\"0000000000000000000000000000000000000000000000000000000000000040\",u=n.substring(2),a=(u.length/2).toString(16).padStart(64,\"0\"),l=(e.startsWith(\"0x\")?e:hn(e)).substring(2),d=c+l+f+a+u,h=await fetch(`${s||Ac}/?chainId=${r}&projectId=${o}`,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({id:Ic(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:d},\"latest\"]})}),{result:y}=await h.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Ic(){return Date.now()+Math.floor(Math.random()*1e3)}function Sc(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(s)}function Oc(t){const e=new Uint8Array(Buffer.from(t,\"base64\")),n=Array.from(\"TransactionData::\").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const o=Bc(r,{dkLen:32});return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(o)}function Nc(t){const e=new Uint8Array($e(Yr(t)));return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(e)}function Yr(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t==\"object\"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t==\"object\"&&t)return new Uint8Array(Object.values(t));throw new Error(\"getNearUint8ArrayFromBytes: Unexpected result type from bytes array\")}function Uc(t){const e=Buffer.from(t,\"base64\"),n=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_12__.decode)(e).txn;if(!n)throw new Error(\"Invalid signed transaction: missing 'txn' field\");const r=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_13__.encode)(n),o=Buffer.from(\"TX\"),s=Buffer.concat([o,Buffer.from(r)]),i=mc(s);return _scure_base__WEBPACK_IMPORTED_MODULE_14__.base32.encode(i).replace(/=+$/,\"\")}function pn(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function _c(t){const e=Buffer.from(t.signed.bodyBytes,\"base64\"),n=Buffer.from(t.signed.authInfoBytes,\"base64\"),r=Buffer.from(t.signature.signature,\"base64\"),o=[];o.push(Buffer.from([10])),o.push(pn(e.length)),o.push(e),o.push(Buffer.from([18])),o.push(pn(n.length)),o.push(n),o.push(Buffer.from([26])),o.push(pn(r.length)),o.push(r);const s=Buffer.concat(o),i=$e(s);return Buffer.from(i).toString(\"hex\").toUpperCase()}function Rc(t){var e,n;const r=[];try{if(typeof t==\"string\")return r.push(t),r;if(typeof t!=\"object\")return r;t!=null&&t.id&&r.push(t.id);const o=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;o&&r.push(...o)}catch(o){console.warn(\"getWalletSendCallsHashes failed: \",o)}return r}var $c=Object.defineProperty,Tc=Object.defineProperties,Cc=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,jc=Object.prototype.hasOwnProperty,Lc=Object.prototype.propertyIsEnumerable,Xr=(t,e,n)=>e in t?$c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e)=>{for(var n in e||(e={}))jc.call(e,n)&&Xr(t,n,e[n]);if(Wr)for(var n of Wr(e))Lc.call(e,n)&&Xr(t,n,e[n]);return t},Jr=(t,e)=>Tc(t,Cc(e));const kc=\"did:pkh:\",Te=t=>t?.split(\":\"),Qr=t=>{const e=t&&Te(t);if(e)return t.includes(kc)?e[3]:e[1]},to=t=>{const e=t&&Te(t);if(e)return e[2]+\":\"+e[3]},bn=t=>{const e=t&&Te(t);if(e)return e.pop()};async function Pc(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,s=eo(o,o.iss),i=bn(o.iss);return await Zr(i,s,r,to(o.iss),n)}const eo=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=bn(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,i=`Version: ${t.version}`,c=`Chain ID: ${Qr(e)}`,f=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,a=t.exp?`Expiration Time: ${t.exp}`:void 0,l=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(m=>`\n- ${m}`).join(\"\")}`:void 0,y=je(t.resources);if(y){const m=kt(y);o=wn(o,m)}return[n,r,\"\",o,\"\",s,i,c,f,u,a,l,d,h].filter(m=>m!=null).join(`\n`)};function Hc(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function Dc(t){var e;const{authPayload:n,chains:r,methods:o}=t,s=n.statement||\"\";if(!(r!=null&&r.length))return n;const i=n.chains,c=sn(i,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const f=no(n.resources);if(!f)return n;yt(f);const u=ro(f,\"eip155\");let a=n?.resources||[];if(u!=null&&u.length){const l=oo(u),d=sn(l,o);if(!(d!=null&&d.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(l)}, supported: ${JSON.stringify(o)}`);const h=yn(\"request\",d,{chains:c}),y=fo(f,\"eip155\",h);a=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],a.push(Ce(y))}return Jr(gn({},n),{statement:uo(s,je(a)),chains:c,resources:n!=null&&n.resources||a.length>0?a:void 0})}function no(t){const e=je(t);if(e&&mn(e))return kt(e)}function Vc(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function ro(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function Mc(t){return t?.map(e=>Object.keys(e))||[]}function oo(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function so(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function io(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function yt(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)})})})}function co(t,e,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[t]:yn(e,n,r)}}}function fo(t,e,n){var r;t.att[e]=gn({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((i,c)=>i.localeCompare(c)),s={att:{}};return o.reduce((i,c)=>(i.att[c]=t.att[c],i),s)}function yn(t,e,n={}){e=e?.sort((o,s)=>o.localeCompare(s));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function Ce(t){return yt(t),`urn:recap:${so(t).replace(/=/g,\"\")}`}function kt(t){const e=io(t.replace(\"urn:recap:\",\"\"));return yt(e),e}function Kc(t,e,n){const r=co(t,e,n);return Ce(r)}function mn(t){return t&&t.includes(\"urn:recap:\")}function qc(t,e){const n=kt(t),r=kt(e),o=ao(n,r);return Ce(o)}function ao(t,e){yt(t),yt(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=t.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=e.att)==null?void 0:i[o])||{})).sort((c,f)=>c.localeCompare(f)).forEach(c=>{var f,u;r.att[o]=Jr(gn({},r.att[o]),{[c]:((f=t.att[o])==null?void 0:f[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function wn(t=\"\",e){yt(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const f=Object.keys(e.att[c]).map(l=>({ability:l.split(\"/\")[0],action:l.split(\"/\")[1]}));f.sort((l,d)=>l.action.localeCompare(d.action));const u={};f.forEach(l=>{u[l.ability]||(u[l.ability]=[]),u[l.ability].push(l.action)});const a=Object.keys(u).map(l=>(o++,`(${o}) '${l}': '${u[l].join(\"', '\")}' for '${c}'.`));r.push(a.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),i=`${n}${s}`;return`${t?t+\" \":\"\"}${i}`}function Fc(t){var e;const n=kt(t);yt(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function Zc(t){const e=kt(t);yt(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function uo(t,e){if(!e)return t;const n=kt(e);return yt(n),wn(t,n)}function je(t){if(!t)return;const e=t?.[t.length-1];return mn(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function lo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function vn(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function xn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ot(t,...e){if(!lo(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function ho(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Gc(t,e){ot(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function Pt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function zc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Yc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Wc(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function En(t){if(typeof t==\"string\")t=Wc(t);else if(lo(t))t=Bn(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function Xc(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function Jc(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Qc=(t,e)=>{function n(r,...o){if(ot(r),!Yc)throw new Error(\"Non little-endian hardware is not yet supported\");if(t.nonceLength!==void 0){const a=o[0];if(!a)throw new Error(\"nonce / iv required\");t.varSizeNonce?ot(a):ot(a,t.nonceLength)}const s=t.tagLength;s&&o[1]!==void 0&&ot(o[1]);const i=e(r,...o),c=(a,l)=>{if(l!==void 0){if(a!==2)throw new Error(\"cipher output not supported\");ot(l)}};let f=!1;return{encrypt(a,l){if(f)throw new Error(\"cannot encrypt() twice with same key + nonce\");return f=!0,ot(a),c(i.encrypt.length,l),i.encrypt(a,l)},decrypt(a,l){if(ot(a),s&&a.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return c(i.decrypt.length,l),i.decrypt(a,l)}}}return Object.assign(n,t),n};function po(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!ef(e))throw new Error(\"invalid output, must be aligned\");return e}function go(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function tf(t,e,n){vn(n);const r=new Uint8Array(16),o=zc(r);return go(o,0,BigInt(e),n),go(o,8,BigInt(t),n),r}function ef(t){return t.byteOffset%4===0}function Bn(t){return Uint8Array.from(t)}const bo=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),nf=bo(\"expand 16-byte k\"),rf=bo(\"expand 32-byte k\"),of=Pt(nf),sf=Pt(rf);function K(t,e){return t<<e|t>>>32-e}function An(t){return t.byteOffset%4===0}const Le=64,cf=16,yo=2**32-1,mo=new Uint32Array;function ff(t,e,n,r,o,s,i,c){const f=o.length,u=new Uint8Array(Le),a=Pt(u),l=An(o)&&An(s),d=l?Pt(o):mo,h=l?Pt(s):mo;for(let y=0;y<f;i++){if(t(e,n,r,a,i,c),i>=yo)throw new Error(\"arx: counter overflow\");const m=Math.min(Le,f-y);if(l&&m===Le){const v=y/4;if(y%4!==0)throw new Error(\"arx: invalid block position\");for(let U=0,F;U<cf;U++)F=v+U,h[F]=d[F]^a[U];y+=Le;continue}for(let v=0,U;v<m;v++)U=y+v,s[U]=o[U]^u[v];y+=m}}function af(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=Xc({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return xn(o),xn(i),vn(s),vn(n),(c,f,u,a,l=0)=>{ot(c),ot(f),ot(u);const d=u.length;if(a===void 0&&(a=new Uint8Array(d)),ot(a),xn(l),l<0||l>=yo)throw new Error(\"arx: counter overflow\");if(a.length<d)throw new Error(`arx: output (${a.length}) is shorter than data (${d})`);const h=[];let y=c.length,m,v;if(y===32)h.push(m=Bn(c)),v=sf;else if(y===16&&n)m=new Uint8Array(32),m.set(c),m.set(c,16),v=of,h.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);An(f)||h.push(f=Bn(f));const U=Pt(m);if(r){if(f.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(v,U,Pt(f.subarray(0,16)),U),f=f.subarray(16)}const F=16-o;if(F!==f.length)throw new Error(`arx: nonce must be ${F} or 16 bytes`);if(F!==12){const Z=new Uint8Array(12);Z.set(f,s?0:12-f.length),f=Z,h.push(f)}const R=Pt(f);return ff(t,v,U,R,u,a,l,i),Qt(...h),a}}const W=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class uf{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=En(e),ot(e,32);const n=W(e,0),r=W(e,2),o=W(e,4),s=W(e,6),i=W(e,8),c=W(e,10),f=W(e,12),u=W(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|c<<2)&8191,this.r[7]=(c>>>11|f<<5)&8065,this.r[8]=(f>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let a=0;a<8;a++)this.pad[a]=W(e,16+2*a)}process(e,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,c=i[0],f=i[1],u=i[2],a=i[3],l=i[4],d=i[5],h=i[6],y=i[7],m=i[8],v=i[9],U=W(e,n+0),F=W(e,n+2),R=W(e,n+4),Z=W(e,n+6),H=W(e,n+8),j=W(e,n+10),L=W(e,n+12),k=W(e,n+14);let O=s[0]+(U&8191),T=s[1]+((U>>>13|F<<3)&8191),C=s[2]+((F>>>10|R<<6)&8191),_=s[3]+((R>>>7|Z<<9)&8191),p=s[4]+((Z>>>4|H<<12)&8191),b=s[5]+(H>>>1&8191),g=s[6]+((H>>>14|j<<2)&8191),x=s[7]+((j>>>11|L<<5)&8191),E=s[8]+((L>>>8|k<<8)&8191),A=s[9]+(k>>>5|o),w=0,B=w+O*c+T*(5*v)+C*(5*m)+_*(5*y)+p*(5*h);w=B>>>13,B&=8191,B+=b*(5*d)+g*(5*l)+x*(5*a)+E*(5*u)+A*(5*f),w+=B>>>13,B&=8191;let I=w+O*f+T*c+C*(5*v)+_*(5*m)+p*(5*y);w=I>>>13,I&=8191,I+=b*(5*h)+g*(5*d)+x*(5*l)+E*(5*a)+A*(5*u),w+=I>>>13,I&=8191;let N=w+O*u+T*f+C*c+_*(5*v)+p*(5*m);w=N>>>13,N&=8191,N+=b*(5*y)+g*(5*h)+x*(5*d)+E*(5*l)+A*(5*a),w+=N>>>13,N&=8191;let D=w+O*a+T*u+C*f+_*c+p*(5*v);w=D>>>13,D&=8191,D+=b*(5*m)+g*(5*y)+x*(5*h)+E*(5*d)+A*(5*l),w+=D>>>13,D&=8191;let P=w+O*l+T*a+C*u+_*f+p*c;w=P>>>13,P&=8191,P+=b*(5*v)+g*(5*m)+x*(5*y)+E*(5*h)+A*(5*d),w+=P>>>13,P&=8191;let $=w+O*d+T*l+C*a+_*u+p*f;w=$>>>13,$&=8191,$+=b*c+g*(5*v)+x*(5*m)+E*(5*y)+A*(5*h),w+=$>>>13,$&=8191;let V=w+O*h+T*d+C*l+_*a+p*u;w=V>>>13,V&=8191,V+=b*f+g*c+x*(5*v)+E*(5*m)+A*(5*y),w+=V>>>13,V&=8191;let q=w+O*y+T*h+C*d+_*l+p*a;w=q>>>13,q&=8191,q+=b*u+g*f+x*c+E*(5*v)+A*(5*m),w+=q>>>13,q&=8191;let G=w+O*m+T*y+C*h+_*d+p*l;w=G>>>13,G&=8191,G+=b*a+g*u+x*f+E*c+A*(5*v),w+=G>>>13,G&=8191;let M=w+O*v+T*m+C*y+_*h+p*d;w=M>>>13,M&=8191,M+=b*l+g*a+x*u+E*f+A*c,w+=M>>>13,M&=8191,w=(w<<2)+w|0,w=w+B|0,B=w&8191,w=w>>>13,I+=w,s[0]=B,s[1]=I,s[2]=N,s[3]=D,s[4]=P,s[5]=$,s[6]=V,s[7]=q,s[8]=G,s[9]=M}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let i=e[0]+n[0];e[0]=i&65535;for(let c=1;c<8;c++)i=(e[c]+n[c]|0)+(i>>>16)|0,e[c]=i&65535;Qt(r)}update(e){ho(this),e=En(e),ot(e);const{buffer:n,blockLen:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Qt(this.h,this.r,this.buffer,this.pad)}digestInto(e){ho(this),Gc(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)e[s++]=r[i]>>>0,e[s++]=r[i]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function lf(t){const e=(r,o)=>t(o).update(En(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const df=lf(t=>new uf(t));function hf(t,e,n,r,o,s=20){let i=t[0],c=t[1],f=t[2],u=t[3],a=e[0],l=e[1],d=e[2],h=e[3],y=e[4],m=e[5],v=e[6],U=e[7],F=o,R=n[0],Z=n[1],H=n[2],j=i,L=c,k=f,O=u,T=a,C=l,_=d,p=h,b=y,g=m,x=v,E=U,A=F,w=R,B=Z,I=H;for(let D=0;D<s;D+=2)j=j+T|0,A=K(A^j,16),b=b+A|0,T=K(T^b,12),j=j+T|0,A=K(A^j,8),b=b+A|0,T=K(T^b,7),L=L+C|0,w=K(w^L,16),g=g+w|0,C=K(C^g,12),L=L+C|0,w=K(w^L,8),g=g+w|0,C=K(C^g,7),k=k+_|0,B=K(B^k,16),x=x+B|0,_=K(_^x,12),k=k+_|0,B=K(B^k,8),x=x+B|0,_=K(_^x,7),O=O+p|0,I=K(I^O,16),E=E+I|0,p=K(p^E,12),O=O+p|0,I=K(I^O,8),E=E+I|0,p=K(p^E,7),j=j+C|0,I=K(I^j,16),x=x+I|0,C=K(C^x,12),j=j+C|0,I=K(I^j,8),x=x+I|0,C=K(C^x,7),L=L+_|0,A=K(A^L,16),E=E+A|0,_=K(_^E,12),L=L+_|0,A=K(A^L,8),E=E+A|0,_=K(_^E,7),k=k+p|0,w=K(w^k,16),b=b+w|0,p=K(p^b,12),k=k+p|0,w=K(w^k,8),b=b+w|0,p=K(p^b,7),O=O+T|0,B=K(B^O,16),g=g+B|0,T=K(T^g,12),O=O+T|0,B=K(B^O,8),g=g+B|0,T=K(T^g,7);let N=0;r[N++]=i+j|0,r[N++]=c+L|0,r[N++]=f+k|0,r[N++]=u+O|0,r[N++]=a+T|0,r[N++]=l+C|0,r[N++]=d+_|0,r[N++]=h+p|0,r[N++]=y+b|0,r[N++]=m+g|0,r[N++]=v+x|0,r[N++]=U+E|0,r[N++]=F+A|0,r[N++]=R+w|0,r[N++]=Z+B|0,r[N++]=H+I|0}const pf=af(hf,{counterRight:!1,counterLength:4,allowShortKeys:!1}),gf=new Uint8Array(16),wo=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(gf.subarray(n))},bf=new Uint8Array(32);function vo(t,e,n,r,o){const s=t(e,n,bf),i=df.create(s);o&&wo(i,o),wo(i,r);const c=tf(r.length,o?o.length:0,!0);i.update(c);const f=i.digest();return Qt(s,c),f}const yf=t=>(e,n,r)=>({encrypt(s,i){const c=s.length;i=po(c+16,i,!1),i.set(s);const f=i.subarray(0,-16);t(e,n,f,f,1);const u=vo(t,e,n,f,r);return i.set(u,c),Qt(u),i},decrypt(s,i){i=po(s.length-16,i,!1);const c=s.subarray(0,-16),f=s.subarray(-16),u=vo(t,e,n,c,r);if(!Jc(f,u))throw new Error(\"invalid tag\");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Qt(u),i}}),xo=Qc({blockSize:64,nonceLength:12,tagLength:16},yf(pf));class Eo extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ue(e);const r=pt(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),lt(s)}update(e){return Nt(this),this.iHash.update(e),this}digestInto(e){Nt(this),ht(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ke=(t,e,n)=>new Eo(t,e).update(n).digest();ke.create=(t,e)=>new Eo(t,e);function mf(t,e,n){return Ue(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ke(t,pt(n),pt(e))}const In=Uint8Array.from([0]),Bo=Uint8Array.of();function wf(t,e,n,r=32){Ue(t),mt(r);const o=t.outputLen;if(r>255*o)throw new Error(\"Length should be <= 255*HashLen\");const s=Math.ceil(r/o);n===void 0&&(n=Bo);const i=new Uint8Array(s*o),c=ke.create(t,e),f=c._cloneInto(),u=new Uint8Array(c.outputLen);for(let a=0;a<s;a++)In[0]=a+1,f.update(a===0?Bo:u).update(n).update(In).digestInto(u),i.set(u,o*a),c._cloneInto(f);return c.destroy(),f.destroy(),lt(u,In),i.slice(0,r)}const vf=(t,e,n,r,o)=>wf(t,mf(t,e,n),r,o),Pe=$e,Sn=BigInt(0),On=BigInt(1);function He(t,e=\"\"){if(typeof t!=\"boolean\"){const n=e&&`\"${e}\"`;throw new Error(n+\"expected boolean, got type=\"+typeof t)}return t}function Kt(t,e,n=\"\"){const r=Ne(t),o=t?.length,s=e!==void 0;if(!r||s&&o!==e){const i=n&&`\"${n}\" `,c=s?` of length ${e}`:\"\",f=r?`length=${o}`:`type=${typeof t}`;throw new Error(i+\"expected Uint8Array\"+c+\", got \"+f)}return t}function De(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ao(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?Sn:BigInt(\"0x\"+t)}function Ve(t){return Ao(Jt(t))}function Me(t){return ht(t),Ao(Jt(Uint8Array.from(t).reverse()))}function Nn(t,e){return _e(t.toString(16).padStart(e*2,\"0\"))}function Un(t,e){return Nn(t,e).reverse()}function tt(t,e,n){let r;if(typeof e==\"string\")try{r=_e(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(Ne(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}const _n=t=>typeof t==\"bigint\"&&Sn<=t;function xf(t,e,n){return _n(t)&&_n(e)&&_n(n)&&e<=t&&t<n}function Rn(t,e,n,r){if(!xf(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Io(t){let e;for(e=0;t>Sn;t>>=On,e+=1);return e}const ye=t=>(On<<BigInt(t))-On;function Ef(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");const r=h=>new Uint8Array(h),o=h=>Uint8Array.of(h);let s=r(t),i=r(t),c=0;const f=()=>{s.fill(1),i.fill(0),c=0},u=(...h)=>n(i,s,...h),a=(h=r(0))=>{i=u(o(0),h),s=u(),h.length!==0&&(i=u(o(1),h),s=u())},l=()=>{if(c++>=1e3)throw new Error(\"drbg: tried 1000 values\");let h=0;const y=[];for(;h<e;){s=u();const m=s.slice();y.push(m),h+=s.length}return _t(...y)};return(h,y)=>{f(),a(h);let m;for(;!(m=y(l()));)a();return f(),m}}function Ke(t,e,n={}){if(!t||typeof t!=\"object\")throw new Error(\"expected valid options object\");function r(o,s,i){const c=t[o];if(i&&c===void 0)return;const f=typeof c;if(f!==s||c===null)throw new Error(`param \"${o}\" is invalid: expected ${s}, got ${f}`)}Object.entries(e).forEach(([o,s])=>r(o,s,!1)),Object.entries(n).forEach(([o,s])=>r(o,s,!0))}function So(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const st=BigInt(0),nt=BigInt(1),qt=BigInt(2),Oo=BigInt(3),No=BigInt(4),Uo=BigInt(5),Bf=BigInt(7),_o=BigInt(8),Af=BigInt(9),Ro=BigInt(16);function ct(t,e){const n=t%e;return n>=st?n:e+n}function gt(t,e,n){let r=t;for(;e-- >st;)r*=r,r%=n;return r}function $o(t,e){if(t===st)throw new Error(\"invert: expected non-zero number\");if(e<=st)throw new Error(\"invert: expected positive modulus, got \"+e);let n=ct(t,e),r=e,o=st,s=nt;for(;n!==st;){const c=r/n,f=r%n,u=o-s*c;r=n,n=f,o=s,s=u}if(r!==nt)throw new Error(\"invert: does not exist\");return ct(o,e)}function $n(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error(\"Cannot find square root\")}function To(t,e){const n=(t.ORDER+nt)/No,r=t.pow(e,n);return $n(t,r,e),r}function If(t,e){const n=(t.ORDER-Uo)/_o,r=t.mul(e,qt),o=t.pow(r,n),s=t.mul(e,o),i=t.mul(t.mul(s,qt),o),c=t.mul(s,t.sub(i,t.ONE));return $n(t,c,e),c}function Sf(t){const e=Ht(t),n=Co(t),r=n(e,e.neg(e.ONE)),o=n(e,r),s=n(e,e.neg(r)),i=(t+Bf)/Ro;return(c,f)=>{let u=c.pow(f,i),a=c.mul(u,r);const l=c.mul(u,o),d=c.mul(u,s),h=c.eql(c.sqr(a),f),y=c.eql(c.sqr(l),f);u=c.cmov(u,a,h),a=c.cmov(d,l,y);const m=c.eql(c.sqr(a),f),v=c.cmov(u,a,m);return $n(c,v,f),v}}function Co(t){if(t<Oo)throw new Error(\"sqrt is not defined for small field\");let e=t-nt,n=0;for(;e%qt===st;)e/=qt,n++;let r=qt;const o=Ht(t);for(;Lo(o,r)===1;)if(r++>1e3)throw new Error(\"Cannot find square root: probably non-prime P\");if(n===1)return To;let s=o.pow(r,e);const i=(e+nt)/qt;return function(f,u){if(f.is0(u))return u;if(Lo(f,u)!==1)throw new Error(\"Cannot find square root\");let a=n,l=f.mul(f.ONE,s),d=f.pow(u,e),h=f.pow(u,i);for(;!f.eql(d,f.ONE);){if(f.is0(d))return f.ZERO;let y=1,m=f.sqr(d);for(;!f.eql(m,f.ONE);)if(y++,m=f.sqr(m),y===a)throw new Error(\"Cannot find square root\");const v=nt<<BigInt(a-y-1),U=f.pow(l,v);a=y,l=f.sqr(U),d=f.mul(d,l),h=f.mul(h,U)}return h}}function Of(t){return t%No===Oo?To:t%_o===Uo?If:t%Ro===Af?Sf(t):Co(t)}const Nf=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function Uf(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"number\",BITS:\"number\"},n=Nf.reduce((r,o)=>(r[o]=\"function\",r),e);return Ke(t,n),t}function _f(t,e,n){if(n<st)throw new Error(\"invalid exponent, negatives unsupported\");if(n===st)return t.ONE;if(n===nt)return e;let r=t.ONE,o=e;for(;n>st;)n&nt&&(r=t.mul(r,o)),o=t.sqr(o),n>>=nt;return r}function jo(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((i,c,f)=>t.is0(c)?i:(r[f]=i,t.mul(i,c)),t.ONE),s=t.inv(o);return e.reduceRight((i,c,f)=>t.is0(c)?i:(r[f]=t.mul(i,r[f]),t.mul(i,c)),s),r}function Lo(t,e){const n=(t.ORDER-nt)/qt,r=t.pow(e,n),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!i)throw new Error(\"invalid Legendre symbol result\");return o?1:s?0:-1}function ko(t,e){e!==void 0&&mt(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ht(t,e,n=!1,r={}){if(t<=st)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);let o,s,i=!1,c;if(typeof e==\"object\"&&e!=null){if(r.sqrt||n)throw new Error(\"cannot specify opts in two arguments\");const d=e;d.BITS&&(o=d.BITS),d.sqrt&&(s=d.sqrt),typeof d.isLE==\"boolean\"&&(n=d.isLE),typeof d.modFromBytes==\"boolean\"&&(i=d.modFromBytes),c=d.allowedLengths}else typeof e==\"number\"&&(o=e),r.sqrt&&(s=r.sqrt);const{nBitLength:f,nByteLength:u}=ko(t,o);if(u>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const l=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:u,MASK:ye(f),ZERO:st,ONE:nt,allowedLengths:c,create:d=>ct(d,t),isValid:d=>{if(typeof d!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof d);return st<=d&&d<t},is0:d=>d===st,isValidNot0:d=>!l.is0(d)&&l.isValid(d),isOdd:d=>(d&nt)===nt,neg:d=>ct(-d,t),eql:(d,h)=>d===h,sqr:d=>ct(d*d,t),add:(d,h)=>ct(d+h,t),sub:(d,h)=>ct(d-h,t),mul:(d,h)=>ct(d*h,t),pow:(d,h)=>_f(l,d,h),div:(d,h)=>ct(d*$o(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>$o(d,t),sqrt:s||(d=>(a||(a=Of(t)),a(l,d))),toBytes:d=>n?Un(d,u):Nn(d,u),fromBytes:(d,h=!0)=>{if(c){if(!c.includes(d.length)||d.length>u)throw new Error(\"Field.fromBytes: expected \"+c+\" bytes, got \"+d.length);const m=new Uint8Array(u);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==u)throw new Error(\"Field.fromBytes: expected \"+u+\" bytes, got \"+d.length);let y=n?Me(d):Ve(d);if(i&&(y=ct(y,t)),!h&&!l.isValid(y))throw new Error(\"invalid field element: outside of range 0..ORDER\");return y},invertBatch:d=>jo(l,d),cmov:(d,h,y)=>y?h:d});return Object.freeze(l)}function Po(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Ho(t){const e=Po(t);return e+Math.ceil(e/2)}function Rf(t,e,n=!1){const r=t.length,o=Po(e),s=Ho(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const i=n?Me(t):Ve(t),c=ct(i,e-nt)+nt;return n?Un(c,o):Nn(c,o)}const te=BigInt(0),Ft=BigInt(1);function qe(t,e){const n=e.negate();return t?n:e}function Tn(t,e){const n=jo(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function Do(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Cn(t,e){Do(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=ye(t),i=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:o,shiftBy:i}}function Vo(t,e,n){const{windowSize:r,mask:o,maxNumber:s,shiftBy:i}=n;let c=Number(t&o),f=t>>i;c>r&&(c-=s,f+=Ft);const u=e*r,a=u+Math.abs(c)-1,l=c===0,d=c<0,h=e%2!==0;return{nextN:f,offset:a,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function $f(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function Tf(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const jn=new WeakMap,Mo=new WeakMap;function Ln(t){return Mo.get(t)||1}function Ko(t){if(t!==te)throw new Error(\"invalid wNAF\")}class Cf{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>te;)n&Ft&&(r=r.add(o)),o=o.double(),n>>=Ft;return r}precomputeWindow(e,n){const{windows:r,windowSize:o}=Cn(n,this.bits),s=[];let i=e,c=i;for(let f=0;f<r;f++){c=i,s.push(c);for(let u=1;u<o;u++)c=c.add(i),s.push(c);i=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error(\"invalid scalar\");let o=this.ZERO,s=this.BASE;const i=Cn(e,this.bits);for(let c=0;c<i.windows;c++){const{nextN:f,offset:u,isZero:a,isNeg:l,isNegF:d,offsetF:h}=Vo(r,c,i);r=f,a?s=s.add(qe(d,n[h])):o=o.add(qe(l,n[u]))}return Ko(r),{p:o,f:s}}wNAFUnsafe(e,n,r,o=this.ZERO){const s=Cn(e,this.bits);for(let i=0;i<s.windows&&r!==te;i++){const{nextN:c,offset:f,isZero:u,isNeg:a}=Vo(r,i,s);if(r=c,!u){const l=n[f];o=o.add(a?l.negate():l)}}return Ko(r),o}getPrecomputes(e,n,r){let o=jn.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r==\"function\"&&(o=r(o)),jn.set(n,o))),o}cached(e,n,r){const o=Ln(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){const s=Ln(e);return s===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,o)}createCache(e,n){Do(n,this.bits),Mo.set(e,n),jn.delete(e)}hasCache(e){return Ln(e)!==1}}function jf(t,e,n,r){let o=e,s=t.ZERO,i=t.ZERO;for(;n>te||r>te;)n&Ft&&(s=s.add(o)),r&Ft&&(i=i.add(o)),o=o.double(),n>>=Ft,r>>=Ft;return{p1:s,p2:i}}function Lf(t,e,n,r){$f(n,t),Tf(r,e);const o=n.length,s=r.length;if(o!==s)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,c=Io(BigInt(o));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const u=ye(f),a=new Array(Number(u)+1).fill(i),l=Math.floor((e.BITS-1)/f)*f;let d=i;for(let h=l;h>=0;h-=f){a.fill(i);for(let m=0;m<s;m++){const v=r[m],U=Number(v>>BigInt(h)&u);a[U]=a[U].add(n[m])}let y=i;for(let m=a.length-1,v=i;m>0;m--)v=v.add(a[m]),y=y.add(v);if(d=d.add(y),h!==0)for(let m=0;m<f;m++)d=d.double()}return d}function qo(t,e,n){if(e){if(e.ORDER!==t)throw new Error(\"Field.ORDER must match order: Fp == p, Fn == n\");return Uf(e),e}else return Ht(t,{isLE:n})}function kf(t,e,n={},r){if(r===void 0&&(r=t===\"edwards\"),!e||typeof e!=\"object\")throw new Error(`expected valid ${t} CURVE object`);for(const f of[\"p\",\"n\",\"h\"]){const u=e[f];if(!(typeof u==\"bigint\"&&u>te))throw new Error(`CURVE.${f} must be positive bigint`)}const o=qo(e.p,n.Fp,r),s=qo(e.n,n.Fn,r),c=[\"Gx\",\"Gy\",\"a\",t===\"weierstrass\"?\"b\":\"d\"];for(const f of c)if(!o.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),kr(\"HashToScalar-\");const me=BigInt(0),ee=BigInt(1),Fe=BigInt(2);function Pf(t){return Ke(t,{adjustScalarBytes:\"function\",powPminus2:\"function\"}),Object.freeze({...t})}function Hf(t){const e=Pf(t),{P:n,type:r,adjustScalarBytes:o,powPminus2:s,randomBytes:i}=e,c=r===\"x25519\";if(!c&&r!==\"x448\")throw new Error(\"invalid type\");const f=i||Mt,u=c?255:448,a=c?32:56,l=BigInt(c?9:5),d=BigInt(c?121665:39081),h=c?Fe**BigInt(254):Fe**BigInt(447),y=c?BigInt(8)*Fe**BigInt(251)-ee:BigInt(4)*Fe**BigInt(445)-ee,m=h+y+ee,v=p=>ct(p,n),U=F(l);function F(p){return Un(v(p),a)}function R(p){const b=tt(\"u coordinate\",p,a);return c&&(b[31]&=127),v(Me(b))}function Z(p){return Me(o(tt(\"scalar\",p,a)))}function H(p,b){const g=k(R(b),Z(p));if(g===me)throw new Error(\"invalid private or public key received\");return F(g)}function j(p){return H(p,U)}function L(p,b,g){const x=v(p*(b-g));return b=v(b-x),g=v(g+x),{x_2:b,x_3:g}}function k(p,b){Rn(\"u\",p,me,n),Rn(\"scalar\",b,h,m);const g=b,x=p;let E=ee,A=me,w=p,B=ee,I=me;for(let D=BigInt(u-1);D>=me;D--){const P=g>>D&ee;I^=P,{x_2:E,x_3:w}=L(I,E,w),{x_2:A,x_3:B}=L(I,A,B),I=P;const $=E+A,V=v($*$),q=E-A,G=v(q*q),M=V-G,Y=w+B,Yt=w-B,ce=v(Yt*$),fe=v(Y*q),Qn=ce+fe,tr=ce-fe;w=v(Qn*Qn),B=v(x*v(tr*tr)),E=v(V*G),A=v(M*(V+v(d*M)))}({x_2:E,x_3:w}=L(I,E,w)),{x_2:A,x_3:B}=L(I,A,B);const N=s(A);return v(E*N)}const O={secretKey:a,publicKey:a,seed:a},T=(p=f(a))=>(ht(p,O.seed),p);function C(p){const b=T(p);return{secretKey:b,publicKey:j(b)}}return{keygen:C,getSharedSecret:(p,b)=>H(p,b),getPublicKey:p=>j(p),scalarMult:H,scalarMultBase:j,utils:{randomSecretKey:T,randomPrivateKey:T},GuBytes:U.slice(),lengths:O}}const Df=BigInt(1),Fo=BigInt(2),Vf=BigInt(3),Mf=BigInt(5),Kf=BigInt(8),Zo=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed\"),qf={p:Zo,n:BigInt(\"0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed\"),h:Kf,a:BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec\"),d:BigInt(\"0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3\"),Gx:BigInt(\"0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\"),Gy:BigInt(\"0x6666666666666666666666666666666666666666666666666666666666666658\")};function Ff(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=Zo,c=t*t%s*t%s,f=gt(c,Fo,s)*c%s,u=gt(f,Df,s)*t%s,a=gt(u,Mf,s)*u%s,l=gt(a,e,s)*a%s,d=gt(l,n,s)*l%s,h=gt(d,r,s)*d%s,y=gt(h,o,s)*h%s,m=gt(y,o,s)*h%s,v=gt(m,e,s)*a%s;return{pow_p_5_8:gt(v,Fo,s)*t%s,b2:c}}function Zf(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Gf=Ht(qf.p,{isLE:!0}),kn=(()=>{const t=Gf.ORDER;return Hf({P:t,type:\"x25519\",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Ff(e);return ct(gt(n,Vf,t)*r,t)},adjustScalarBytes:Zf})})(),Go=(t,e)=>(t+(t>=0?e:-e)/zo)/e;function zf(t,e,n){const[[r,o],[s,i]]=e,c=Go(i*t,n),f=Go(-o*t,n);let u=t-c*r-f*s,a=-c*o-f*i;const l=u<Et,d=a<Et;l&&(u=-u),d&&(a=-a);const h=ye(Math.ceil(Io(n)/2))+ne;if(u<Et||u>=h||a<Et||a>=h)throw new Error(\"splitScalar (endomorphism): failed, k=\"+t);return{k1neg:l,k1:u,k2neg:d,k2:a}}function Pn(t){if(![\"compact\",\"recovered\",\"der\"].includes(t))throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');return t}function Hn(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return He(n.lowS,\"lowS\"),He(n.prehash,\"prehash\"),n.format!==void 0&&Pn(n.format),n}class Yf extends Error{constructor(e=\"\"){super(e)}}const xt={Err:Yf,_tlv:{encode:(t,e)=>{const{Err:n}=xt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=De(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?De(o.length/2|128):\"\";return De(t)+s+o+e},decode(t,e){const{Err:n}=xt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],s=!!(o&128);let i=0;if(!s)i=o;else{const f=o&127;if(!f)throw new n(\"tlv.decode(long): indefinite length not supported\");if(f>4)throw new n(\"tlv.decode(long): byte length is too big\");const u=e.subarray(r,r+f);if(u.length!==f)throw new n(\"tlv.decode: length bytes not complete\");if(u[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const a of u)i=i<<8|a;if(r+=f,i<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const c=e.subarray(r,r+i);if(c.length!==i)throw new n(\"tlv.decode: wrong value length\");return{v:c,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=xt;if(t<Et)throw new e(\"integer: negative integers are not allowed\");let n=De(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=xt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return Ve(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xt,o=tt(\"signature\",t),{v:s,l:i}=r.decode(48,o);if(i.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:c,l:f}=r.decode(2,s),{v:u,l:a}=r.decode(2,f);if(a.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=xt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),s=r+o;return e.encode(48,s)}},Et=BigInt(0),ne=BigInt(1),zo=BigInt(2),Ze=BigInt(3),Wf=BigInt(4);function re(t,e){const{BYTES:n}=t;let r;if(typeof e==\"bigint\")r=e;else{let o=tt(\"private key\",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error(\"invalid private key: out of range [1..N-1]\");return r}function Xf(t,e={}){const n=kf(\"weierstrass\",t,e),{Fp:r,Fn:o}=n;let s=n.CURVE;const{h:i,n:c}=s;Ke(e,{},{allowInfinityPoint:\"boolean\",clearCofactor:\"function\",isTorsionFree:\"function\",fromBytes:\"function\",toBytes:\"function\",endo:\"object\",wrapPrivateKey:\"boolean\"});const{endo:f}=e;if(f&&(!r.is0(s.a)||typeof f.beta!=\"bigint\"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');const u=Wo(r,o);function a(){if(!r.isOdd)throw new Error(\"compression is not supported: Field does not have .isOdd()\")}function l(_,p,b){const{x:g,y:x}=p.toAffine(),E=r.toBytes(g);if(He(b,\"isCompressed\"),b){a();const A=!r.isOdd(x);return _t(Yo(A),E)}else return _t(Uint8Array.of(4),E,r.toBytes(x))}function d(_){Kt(_,void 0,\"Point\");const{publicKey:p,publicKeyUncompressed:b}=u,g=_.length,x=_[0],E=_.subarray(1);if(g===p&&(x===2||x===3)){const A=r.fromBytes(E);if(!r.isValid(A))throw new Error(\"bad point: is not on curve, wrong x\");const w=m(A);let B;try{B=r.sqrt(w)}catch(D){const P=D instanceof Error?\": \"+D.message:\"\";throw new Error(\"bad point: is not on curve, sqrt error\"+P)}a();const I=r.isOdd(B);return(x&1)===1!==I&&(B=r.neg(B)),{x:A,y:B}}else if(g===b&&x===4){const A=r.BYTES,w=r.fromBytes(E.subarray(0,A)),B=r.fromBytes(E.subarray(A,A*2));if(!v(w,B))throw new Error(\"bad point: is not on curve\");return{x:w,y:B}}else throw new Error(`bad point: got length ${g}, expected compressed=${p} or uncompressed=${b}`)}const h=e.toBytes||l,y=e.fromBytes||d;function m(_){const p=r.sqr(_),b=r.mul(p,_);return r.add(r.add(b,r.mul(_,s.a)),s.b)}function v(_,p){const b=r.sqr(p),g=m(_);return r.eql(b,g)}if(!v(s.Gx,s.Gy))throw new Error(\"bad curve params: generator point\");const U=r.mul(r.pow(s.a,Ze),Wf),F=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(U,F)))throw new Error(\"bad curve params: a or b\");function R(_,p,b=!1){if(!r.isValid(p)||b&&r.is0(p))throw new Error(`bad point coordinate ${_}`);return p}function Z(_){if(!(_ instanceof O))throw new Error(\"ProjectivePoint expected\")}function H(_){if(!f||!f.basises)throw new Error(\"no endo\");return zf(_,f.basises,o.ORDER)}const j=So((_,p)=>{const{X:b,Y:g,Z:x}=_;if(r.eql(x,r.ONE))return{x:b,y:g};const E=_.is0();p==null&&(p=E?r.ONE:r.inv(x));const A=r.mul(b,p),w=r.mul(g,p),B=r.mul(x,p);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:w}}),L=So(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.Y))return;throw new Error(\"bad point: ZERO\")}const{x:p,y:b}=_.toAffine();if(!r.isValid(p)||!r.isValid(b))throw new Error(\"bad point: x or y not field elements\");if(!v(p,b))throw new Error(\"bad point: equation left != right\");if(!_.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});function k(_,p,b,g,x){return b=new O(r.mul(b.X,_),b.Y,b.Z),p=qe(g,p),b=qe(x,b),p.add(b)}class O{constructor(p,b,g){this.X=R(\"x\",p),this.Y=R(\"y\",b,!0),this.Z=R(\"z\",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(p){const{x:b,y:g}=p||{};if(!p||!r.isValid(b)||!r.isValid(g))throw new Error(\"invalid affine point\");if(p instanceof O)throw new Error(\"projective point not allowed\");return r.is0(b)&&r.is0(g)?O.ZERO:new O(b,g,r.ONE)}static fromBytes(p){const b=O.fromAffine(y(Kt(p,void 0,\"point\")));return b.assertValidity(),b}static fromHex(p){return O.fromBytes(tt(\"pointHex\",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,b=!0){return C.createCache(this,p),b||this.multiply(Ze),this}assertValidity(){L(this)}hasEvenY(){const{y:p}=this.toAffine();if(!r.isOdd)throw new Error(\"Field doesn't support isOdd\");return!r.isOdd(p)}equals(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p,B=r.eql(r.mul(b,w),r.mul(E,x)),I=r.eql(r.mul(g,w),r.mul(A,x));return B&&I}negate(){return new O(this.X,r.neg(this.Y),this.Z)}double(){const{a:p,b}=s,g=r.mul(b,Ze),{X:x,Y:E,Z:A}=this;let w=r.ZERO,B=r.ZERO,I=r.ZERO,N=r.mul(x,x),D=r.mul(E,E),P=r.mul(A,A),$=r.mul(x,E);return $=r.add($,$),I=r.mul(x,A),I=r.add(I,I),w=r.mul(p,I),B=r.mul(g,P),B=r.add(w,B),w=r.sub(D,B),B=r.add(D,B),B=r.mul(w,B),w=r.mul($,w),I=r.mul(g,I),P=r.mul(p,P),$=r.sub(N,P),$=r.mul(p,$),$=r.add($,I),I=r.add(N,N),N=r.add(I,N),N=r.add(N,P),N=r.mul(N,$),B=r.add(B,N),P=r.mul(E,A),P=r.add(P,P),N=r.mul(P,$),w=r.sub(w,N),I=r.mul(P,D),I=r.add(I,I),I=r.add(I,I),new O(w,B,I)}add(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p;let B=r.ZERO,I=r.ZERO,N=r.ZERO;const D=s.a,P=r.mul(s.b,Ze);let $=r.mul(b,E),V=r.mul(g,A),q=r.mul(x,w),G=r.add(b,g),M=r.add(E,A);G=r.mul(G,M),M=r.add($,V),G=r.sub(G,M),M=r.add(b,x);let Y=r.add(E,w);return M=r.mul(M,Y),Y=r.add($,q),M=r.sub(M,Y),Y=r.add(g,x),B=r.add(A,w),Y=r.mul(Y,B),B=r.add(V,q),Y=r.sub(Y,B),N=r.mul(D,M),B=r.mul(P,q),N=r.add(B,N),B=r.sub(V,N),N=r.add(V,N),I=r.mul(B,N),V=r.add($,$),V=r.add(V,$),q=r.mul(D,q),M=r.mul(P,M),V=r.add(V,q),q=r.sub($,q),q=r.mul(D,q),M=r.add(M,q),$=r.mul(V,M),I=r.add(I,$),$=r.mul(Y,M),B=r.mul(G,B),B=r.sub(B,$),$=r.mul(G,V),N=r.mul(Y,N),N=r.add(N,$),new O(B,I,N)}subtract(p){return this.add(p.negate())}is0(){return this.equals(O.ZERO)}multiply(p){const{endo:b}=e;if(!o.isValidNot0(p))throw new Error(\"invalid scalar: out of range\");let g,x;const E=A=>C.cached(this,A,w=>Tn(O,w));if(b){const{k1neg:A,k1:w,k2neg:B,k2:I}=H(p),{p:N,f:D}=E(w),{p:P,f:$}=E(I);x=D.add($),g=k(b.beta,N,P,A,B)}else{const{p:A,f:w}=E(p);g=A,x=w}return Tn(O,[g,x])[0]}multiplyUnsafe(p){const{endo:b}=e,g=this;if(!o.isValid(p))throw new Error(\"invalid scalar: out of range\");if(p===Et||g.is0())return O.ZERO;if(p===ne)return g;if(C.hasCache(this))return this.multiply(p);if(b){const{k1neg:x,k1:E,k2neg:A,k2:w}=H(p),{p1:B,p2:I}=jf(O,g,E,w);return k(b.beta,B,I,x,A)}else return C.unsafe(g,p)}multiplyAndAddUnsafe(p,b,g){const x=this.multiplyUnsafe(b).add(p.multiplyUnsafe(g));return x.is0()?void 0:x}toAffine(p){return j(this,p)}isTorsionFree(){const{isTorsionFree:p}=e;return i===ne?!0:p?p(O,this):C.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:p}=e;return i===ne?this:p?p(O,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(p=!0){return He(p,\"isCompressed\"),this.assertValidity(),h(O,this,p)}toHex(p=!0){return Jt(this.toBytes(p))}toString(){return`<Point ${this.is0()?\"ZERO\":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return Tn(O,p)}static msm(p,b){return Lf(O,o,p,b)}static fromPrivateKey(p){return O.BASE.multiply(re(o,p))}}O.BASE=new O(s.Gx,s.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=o;const T=o.BITS,C=new Cf(O,e.endo?Math.ceil(T/2):T);return O.BASE.precompute(8),O}function Yo(t){return Uint8Array.of(t?2:3)}function Wo(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Jf(t,e={}){const{Fn:n}=t,r=e.randomBytes||Mt,o=Object.assign(Wo(t.Fp,n),{seed:Ho(n.ORDER)});function s(h){try{return!!re(n,h)}catch{return!1}}function i(h,y){const{publicKey:m,publicKeyUncompressed:v}=o;try{const U=h.length;return y===!0&&U!==m||y===!1&&U!==v?!1:!!t.fromBytes(h)}catch{return!1}}function c(h=r(o.seed)){return Rf(Kt(h,o.seed,\"seed\"),n.ORDER)}function f(h,y=!0){return t.BASE.multiply(re(n,h)).toBytes(y)}function u(h){const y=c(h);return{secretKey:y,publicKey:f(y)}}function a(h){if(typeof h==\"bigint\")return!1;if(h instanceof t)return!0;const{secretKey:y,publicKey:m,publicKeyUncompressed:v}=o;if(n.allowedLengths||y===m)return;const U=tt(\"key\",h).length;return U===m||U===v}function l(h,y,m=!0){if(a(h)===!0)throw new Error(\"first arg must be private key\");if(a(y)===!1)throw new Error(\"second arg must be public key\");const v=re(n,h);return t.fromHex(y).multiply(v).toBytes(m)}return Object.freeze({getPublicKey:f,getSharedSecret:l,keygen:u,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:i,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:h=>re(n,h),precompute(h=8,y=t.BASE){return y.precompute(h,!1)}},lengths:o})}function Qf(t,e,n={}){Ue(e),Ke(n,{},{hmac:\"function\",lowS:\"boolean\",randomBytes:\"function\",bits2int:\"function\",bits2int_modN:\"function\"});const r=n.randomBytes||Mt,o=n.hmac||((b,...g)=>ke(e,b,_t(...g))),{Fp:s,Fn:i}=t,{ORDER:c,BITS:f}=i,{keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h}=Jf(t,n),y={prehash:!1,lowS:typeof n.lowS==\"boolean\"?n.lowS:!1,format:void 0,extraEntropy:!1},m=\"compact\";function v(b){const g=c>>ne;return b>g}function U(b,g){if(!i.isValidNot0(g))throw new Error(`invalid signature ${b}: out of range 1..Point.Fn.ORDER`);return g}function F(b,g){Pn(g);const x=h.signature,E=g===\"compact\"?x:g===\"recovered\"?x+1:void 0;return Kt(b,E,`${g} signature`)}class R{constructor(g,x,E){this.r=U(\"r\",g),this.s=U(\"s\",x),E!=null&&(this.recovery=E),Object.freeze(this)}static fromBytes(g,x=m){F(g,x);let E;if(x===\"der\"){const{r:I,s:N}=xt.toSig(Kt(g));return new R(I,N)}x===\"recovered\"&&(E=g[0],x=\"compact\",g=g.subarray(1));const A=i.BYTES,w=g.subarray(0,A),B=g.subarray(A,A*2);return new R(i.fromBytes(w),i.fromBytes(B),E)}static fromHex(g,x){return this.fromBytes(_e(g),x)}addRecoveryBit(g){return new R(this.r,this.s,g)}recoverPublicKey(g){const x=s.ORDER,{r:E,s:A,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error(\"recovery id invalid\");if(c*zo<x&&w>1)throw new Error(\"recovery id is ambiguous for h>1 curve\");const I=w===2||w===3?E+c:E;if(!s.isValid(I))throw new Error(\"recovery id 2 or 3 invalid\");const N=s.toBytes(I),D=t.fromBytes(_t(Yo((w&1)===0),N)),P=i.inv(I),$=H(tt(\"msgHash\",g)),V=i.create(-$*P),q=i.create(A*P),G=t.BASE.multiplyUnsafe(V).add(D.multiplyUnsafe(q));if(G.is0())throw new Error(\"point at infinify\");return G.assertValidity(),G}hasHighS(){return v(this.s)}toBytes(g=m){if(Pn(g),g===\"der\")return _e(xt.hexFromSig(this));const x=i.toBytes(this.r),E=i.toBytes(this.s);if(g===\"recovered\"){if(this.recovery==null)throw new Error(\"recovery bit must be present\");return _t(Uint8Array.of(this.recovery),x,E)}return _t(x,E)}toHex(g){return Jt(this.toBytes(g))}assertValidity(){}static fromCompact(g){return R.fromBytes(tt(\"sig\",g),\"compact\")}static fromDER(g){return R.fromBytes(tt(\"sig\",g),\"der\")}normalizeS(){return this.hasHighS()?new R(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes(\"der\")}toDERHex(){return Jt(this.toBytes(\"der\"))}toCompactRawBytes(){return this.toBytes(\"compact\")}toCompactHex(){return Jt(this.toBytes(\"compact\"))}}const Z=n.bits2int||function(g){if(g.length>8192)throw new Error(\"input is too large\");const x=Ve(g),E=g.length*8-f;return E>0?x>>BigInt(E):x},H=n.bits2int_modN||function(g){return i.create(Z(g))},j=ye(f);function L(b){return Rn(\"num < 2^\"+f,b,Et,j),i.toBytes(b)}function k(b,g){return Kt(b,void 0,\"message\"),g?Kt(e(b),void 0,\"prehashed message\"):b}function O(b,g,x){if([\"recovered\",\"canonical\"].some(V=>V in x))throw new Error(\"sign() legacy options not supported\");const{lowS:E,prehash:A,extraEntropy:w}=Hn(x,y);b=k(b,A);const B=H(b),I=re(i,g),N=[L(I),L(B)];if(w!=null&&w!==!1){const V=w===!0?r(h.secretKey):w;N.push(tt(\"extraEntropy\",V))}const D=_t(...N),P=B;function $(V){const q=Z(V);if(!i.isValidNot0(q))return;const G=i.inv(q),M=t.BASE.multiply(q).toAffine(),Y=i.create(M.x);if(Y===Et)return;const Yt=i.create(G*i.create(P+Y*I));if(Yt===Et)return;let ce=(M.x===Y?0:2)|Number(M.y&ne),fe=Yt;return E&&v(Yt)&&(fe=i.neg(Yt),ce^=1),new R(Y,fe,ce)}return{seed:D,k2sig:$}}function T(b,g,x={}){b=tt(\"message\",b);const{seed:E,k2sig:A}=O(b,g,x);return Ef(e.outputLen,i.BYTES,o)(E,A)}function C(b){let g;const x=typeof b==\"string\"||Ne(b),E=!x&&b!==null&&typeof b==\"object\"&&typeof b.r==\"bigint\"&&typeof b.s==\"bigint\";if(!x&&!E)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");if(E)g=new R(b.r,b.s);else if(x){try{g=R.fromBytes(tt(\"sig\",b),\"der\")}catch(A){if(!(A instanceof xt.Err))throw A}if(!g)try{g=R.fromBytes(tt(\"sig\",b),\"compact\")}catch{return!1}}return g||!1}function _(b,g,x,E={}){const{lowS:A,prehash:w,format:B}=Hn(E,y);if(x=tt(\"publicKey\",x),g=k(tt(\"message\",g),w),\"strict\"in E)throw new Error(\"options.strict was renamed to lowS\");const I=B===void 0?C(b):R.fromBytes(tt(\"sig\",b),B);if(I===!1)return!1;try{const N=t.fromBytes(x);if(A&&I.hasHighS())return!1;const{r:D,s:P}=I,$=H(g),V=i.inv(P),q=i.create($*V),G=i.create(D*V),M=t.BASE.multiplyUnsafe(q).add(N.multiplyUnsafe(G));return M.is0()?!1:i.create(M.x)===D}catch{return!1}}function p(b,g,x={}){const{prehash:E}=Hn(x,y);return g=k(g,E),R.fromBytes(b,\"recovered\").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h,Point:t,sign:T,verify:_,recoverPublicKey:p,Signature:R,hash:e})}function ta(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0;const o=Ht(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function ea(t){const{CURVE:e,curveOpts:n}=ta(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function na(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ko(n.Fn.ORDER,n.Fn.BITS))})}function ra(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:o}=ea(t),s=Xf(e,n),i=Qf(s,r,o);return na(t,i)}function Dn(t,e){const n=r=>ra({...t,hash:r});return{...n(e),create:n}}const Xo={p:BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\"),n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),h:BigInt(1),a:BigInt(\"0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc\"),b:BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\")},Jo={p:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff\"),n:BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973\"),h:BigInt(1),a:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc\"),b:BigInt(\"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef\"),Gx:BigInt(\"0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7\"),Gy:BigInt(\"0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\")},Qo={p:BigInt(\"0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),n:BigInt(\"0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409\"),h:BigInt(1),a:BigInt(\"0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc\"),b:BigInt(\"0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00\"),Gx:BigInt(\"0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66\"),Gy:BigInt(\"0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\")},oa=Ht(Xo.p),sa=Ht(Jo.p),ia=Ht(Qo.p),ca=Dn({...Xo,Fp:oa,lowS:!1},$e);Dn({...Jo,Fp:sa,lowS:!1},yc),Dn({...Qo,Fp:ia,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},bc);const fa=ca,Vn=\"base10\",rt=\"base16\",oe=\"base64pad\",Ge=\"base64url\",se=\"utf8\",Mn=0,ie=1,we=2,aa=0,ts=1,ve=12,Kn=32;function ua(){const t=kn.utils.randomPrivateKey(),e=kn.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}}function la(){const t=Mt(Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt)}function da(t,e){const n=kn.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,rt)),r=vf(Pe,n,void 0,void 0,Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,rt)}function ha(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function pa(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function qn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,Vn)}function Zt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,Vn))}function es(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function ns(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function ga(t){const e=qn(typeof t.type<\"u\"?t.type:Mn);if(Zt(e)===ie&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,rt):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,rt):Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),s=xo(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,se)),i=Fn({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ge?es(i):i}function ba(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),{sealed:n,iv:r}=ze({encoded:t.encoded,encoding:t.encoding}),o=xo(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,se)}function ya(t,e){const n=qn(we),r=Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se),s=Fn({type:n,sealed:o,iv:r});return e===Ge?es(s):s}function ma(t,e){const{sealed:n}=ze({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,se)}function Fn(t){if(Zt(t.type)===we)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),oe);if(Zt(t.type)===ie){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),oe)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),oe)}function ze(t){const e=(t.encoding||oe)===Ge?ns(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,oe),r=n.slice(aa,ts),o=ts;if(Zt(r)===ie){const f=o+Kn,u=f+ve,a=n.slice(o,f),l=n.slice(f,u),d=n.slice(u);return{type:r,sealed:d,iv:l,senderPublicKey:a}}if(Zt(r)===we){const f=n.slice(o),u=Mt(ve);return{type:r,sealed:f,iv:u}}const s=o+ve,i=n.slice(o,s),c=n.slice(s);return{type:r,sealed:c,iv:i}}function wa(t,e){const n=ze({encoded:t,encoding:e?.encoding});return rs({type:Zt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,rt):void 0,receiverPublicKey:e?.receiverPublicKey})}function rs(t){const e=t?.type||Mn;if(e===ie){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function va(t){return t.type===ie&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function xa(t){return t.type===we}function os(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function Ea(t,e){const[n,r,o]=t.split(\".\"),s=Buffer.from(ns(o),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const i=s.slice(0,32),c=s.slice(32,64),f=`${n}.${r}`,u=Pe(f),a=os(e);if(!fa.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([i,c]),u,a))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const ss=\"irn\";function Ba(t){return t?.relay||{protocol:ss}}function Aa(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ia=Object.defineProperty,Sa=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,cs=(t,e,n)=>e in t?Ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e)=>{for(var n in e||(e={}))Na.call(e,n)&&cs(t,n,e[n]);if(is)for(var n of is(e))Ua.call(e,n)&&cs(t,n,e[n]);return t},_a=(t,e)=>Sa(t,Oa(e));function fs(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,\"\"),i=t[o];n[s]=i}}),n}function Ra(t){if(!t.includes(\"wc:\")){const u=cn(t);u!=null&&u.includes(\"wc:\")&&(t=u)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",i=new URLSearchParams(s),c=Object.fromEntries(i.entries()),f=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:as(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:fs(c),methods:f,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function as(t){return t.startsWith(\"//\")?t.substring(2):t}function us(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const s=o,i=n+e+s;t[s]&&(r[i]=t[s])}),r}function $a(t){const e=new URLSearchParams,n=Zn(Zn(_a(Zn({},us(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(\",\")});return Object.entries(n).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!==void 0&&e.append(r,String(o))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Ta(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Ca=Object.defineProperty,ja=Object.defineProperties,La=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,ds=(t,e,n)=>e in t?Ca(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ha=(t,e)=>{for(var n in e||(e={}))ka.call(e,n)&&ds(t,n,e[n]);if(ls)for(var n of ls(e))Pa.call(e,n)&&ds(t,n,e[n]);return t},Da=(t,e)=>ja(t,La(e));function Gt(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function hs(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Gt(n.accounts))}),e}function ps(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.methods)}),n}function gs(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.events)}),n}function Va(t,e){const n=Ss(t,e);if(n)throw new Error(n.message);const r={};for(const[o,s]of Object.entries(t))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map(i=>`${i.split(\":\")[0]}:${i.split(\":\")[1]}`)};return r}function Ma(t){var e;const{proposal:{requiredNamespaces:n,optionalNamespaces:r={}},supportedNamespaces:o}=t,s=xe(n),i=xe(r),c={};Object.keys(o).forEach(a=>{const l=o[a].chains,d=o[a].methods,h=o[a].events,y=o[a].accounts;l.forEach(m=>{if(!y.some(v=>v.includes(m)))throw new Error(`No accounts provided for chain ${m} in namespace ${a}`)}),c[a]={chains:l,methods:d,events:h,accounts:y}});const f=Ns(n,c,\"approve()\");if(f)throw new Error(f.message);const u={};if(!Object.keys(n).length&&!Object.keys(r).length)return c;Object.keys(s).forEach(a=>{const l=o[a].chains.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.chains)==null?void 0:U.includes(m)}),d=o[a].methods.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.methods)==null?void 0:U.includes(m)}),h=o[a].events.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.events)==null?void 0:U.includes(m)}),y=l.map(m=>o[a].accounts.filter(v=>v.includes(`${m}:`))).flat();u[a]={chains:l,methods:d,events:h,accounts:y}}),Object.keys(i).forEach(a=>{var l,d,h,y,m,v;if(!o[a])return;const U=(d=(l=i[a])==null?void 0:l.chains)==null?void 0:d.filter(H=>o[a].chains.includes(H)),F=o[a].methods.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.methods)==null?void 0:L.includes(H)}),R=o[a].events.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.events)==null?void 0:L.includes(H)}),Z=U?.map(H=>o[a].accounts.filter(j=>j.includes(`${H}:`))).flat();u[a]={chains:ut((h=u[a])==null?void 0:h.chains,U),methods:ut((y=u[a])==null?void 0:y.methods,F),events:ut((m=u[a])==null?void 0:m.events,R),accounts:ut((v=u[a])==null?void 0:v.accounts,Z)}});for(const[a,l]of Object.entries(u))(l.accounts.length===0||((e=l?.chains)==null?void 0:e.length)===0)&&delete u[a];return u}function Gn(t){return t.includes(\":\")}function bs(t){return Gn(t)?t.split(\":\")[0]:t}function xe(t){var e,n,r;const o={};if(!Ye(t))return o;for(const[s,i]of Object.entries(t)){const c=Gn(s)?[s]:i.chains,f=i.methods||[],u=i.events||[],a=bs(s);o[a]=Da(Ha({},o[a]),{chains:ut(c,(e=o[a])==null?void 0:e.chains),methods:ut(f,(n=o[a])==null?void 0:n.methods),events:ut(u,(r=o[a])==null?void 0:r.events)})}return o}function ys(t){const e={};return t?.forEach(n=>{var r;const[o,s]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${s}`)}),e}function Ka(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=ys(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=ut(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}function qa(t,e){var n,r,o,s,i,c;const f=xe(t),u=xe(e),a={},l=Object.keys(f).concat(Object.keys(u));for(const d of l)a[d]={chains:ut((n=f[d])==null?void 0:n.chains,(r=u[d])==null?void 0:r.chains),methods:ut((o=f[d])==null?void 0:o.methods,(s=u[d])==null?void 0:s.methods),events:ut((i=f[d])==null?void 0:i.events,(c=u[d])==null?void 0:c.events)};return a}const ms={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},ws={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function Bt(t,e){const{message:n,code:r}=ws[t];return{message:e?`${n} ${e}`:n,code:r}}function zt(t,e){const{message:n,code:r}=ms[t];return{message:e?`${n} ${e}`:n,code:r}}function Ee(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function Ye(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Dt(t){return typeof t>\"u\"}function ft(t,e){return e&&Dt(t)?!0:typeof t==\"string\"&&!!t.trim().length}function We(t,e){return e&&Dt(t)?!0:typeof t==\"number\"&&!isNaN(t)}function Fa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let s=!0;return It(o,r)?(r.forEach(i=>{const{accounts:c,methods:f,events:u}=t.namespaces[i],a=Gt(c),l=n[i];(!It(Ie(i,l),a)||!It(l.methods,f)||!It(l.events,u))&&(s=!1)}),s):!1}function Be(t){return ft(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function vs(t){if(ft(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&Be(n)}}return!1}function Za(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(ft(t,!1)){if(e(t))return!0;const n=cn(t);return e(n)}}catch{}return!1}function Ga(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function za(t){return t?.topic}function Ya(t,e){let n=null;return ft(t?.publicKey,!1)||(n=Bt(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function zn(t){let e=!0;return Ee(t)?t.length&&(e=t.every(n=>ft(n,!1))):e=!1,e}function xs(t,e,n){let r=null;return Ee(e)&&e.length?e.forEach(o=>{r||Be(o)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):Be(t)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function Es(t,e,n){let r=null;return Object.entries(t).forEach(([o,s])=>{if(r)return;const i=xs(o,Ie(o,s),`${e} ${n}`);i&&(r=i)}),r}function Bs(t,e){let n=null;return Ee(t)?t.forEach(r=>{n||vs(r)||(n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function As(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Bs(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function Is(t,e){let n=null;return zn(t?.methods)?zn(t?.events)||(n=zt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=zt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function Yn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Is(r,`${e}, namespace`);o&&(n=o)}),n}function Wa(t,e,n){let r=null;if(t&&Ye(t)){const o=Yn(t,e);o&&(r=o);const s=Es(t,e,n);s&&(r=s)}else r=Bt(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function Ss(t,e){let n=null;if(t&&Ye(t)){const r=Yn(t,e);r&&(n=r);const o=As(t,e);o&&(n=o)}else n=Bt(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Os(t){return ft(t.protocol,!0)}function Xa(t,e){let n=!1;return e&&!t?n=!0:t&&Ee(t)&&t.length&&t.forEach(r=>{n=Os(r)}),n}function Ja(t){return typeof t==\"number\"}function Qa(t){return typeof t<\"u\"&&typeof t!==null}function tu(t){return!(!t||typeof t!=\"object\"||!t.code||!We(t.code,!1)||!t.message||!ft(t.message,!1))}function eu(t){return!(Dt(t)||!ft(t.method,!1))}function nu(t){return!(Dt(t)||Dt(t.result)&&Dt(t.error)||!We(t.id,!1)||!ft(t.jsonrpc,!1))}function ru(t){return!(Dt(t)||!ft(t.name,!1))}function ou(t,e){return!(!Be(e)||!hs(t).includes(e))}function su(t,e,n){return ft(n,!1)?ps(t,e).includes(n):!1}function iu(t,e,n){return ft(n,!1)?gs(t,e).includes(n):!1}function Ns(t,e,n){let r=null;const o=cu(t),s=fu(e),i=Object.keys(o),c=Object.keys(s),f=Us(Object.keys(t)),u=Us(Object.keys(e)),a=f.filter(l=>!u.includes(l));return a.length&&(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${a.toString()}\n      Received: ${Object.keys(e).toString()}`)),It(i,c)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${c.toString()}`)),Object.keys(e).forEach(l=>{if(!l.includes(\":\")||r)return;const d=Gt(e[l].accounts);d.includes(l)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${l}\n        Required: ${l}\n        Approved: ${d.toString()}`))}),i.forEach(l=>{r||(It(o[l].methods,s[l].methods)?It(o[l].events,s[l].events)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${l}`)):r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${l}`))}),r}function cu(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function Us(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function fu(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=Gt(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(s=>s.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function au(t,e){return We(t,!1)&&t<=e.max&&t>=e.min}function uu(){const t=Vt();return new Promise(e=>{switch(t){case et.browser:e(_s());break;case et.reactNative:e(Rs());break;case et.node:e($s());break;default:e(!0)}})}function _s(){return Wt()&&navigator?.onLine}async function Rs(){if(At()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function $s(){return!0}function lu(t){switch(Vt()){case et.browser:Ts(t);break;case et.reactNative:Cs(t);break;case et.node:break}}function Ts(t){!At()&&Wt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Cs(t){At()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function du(){var t;return Wt()&&(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()?((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())==null?void 0:t.visibilityState)===\"visible\":!0}const Wn={};class hu{static get(e){return Wn[e]}static set(e,n){Wn[e]=n}static delete(e){delete Wn[e]}}function js(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t);if(e.length<33)throw new Error(\"Too short to contain a public key\");return e.slice(1,33)}function Ls({publicKey:t,signature:e,payload:n}){var r;const o=Xn(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||\"4\"),i=gu(n.address),c=n.era===\"00\"?new Uint8Array([0]):Xn(n.era);if(c.length!==1&&c.length!==2)throw new Error(\"Invalid era length\");const f=parseInt(n.nonce,16),u=new Uint8Array([f&255,f>>8&255]),a=BigInt(`0x${pu(n.tip)}`),l=yu(a),d=new Uint8Array([0,...t,i,...e,...c,...u,...l,...o]),h=bu(d.length+1);return new Uint8Array([...h,s,...d])}function ks(t){const e=Xn(t),n=(0,blakejs__WEBPACK_IMPORTED_MODULE_7__.blake2b)(e,void 0,32);return\"0x\"+Buffer.from(n).toString(\"hex\")}function Xn(t){return new Uint8Array(t.replace(/^0x/,\"\").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function pu(t){return t.startsWith(\"0x\")?t.slice(2):t}function gu(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t)[0];return e===42?0:e===60?2:1}function bu(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error(\"Compact encoding > 2^30 not supported\")}function yu(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error(\"BigInt compact encoding not supported > 2^30\")}function mu(t){const e=Uint8Array.from(Buffer.from(t.signature,\"hex\")),n=js(t.transaction.address),r=Ls({publicKey:n,signature:e,payload:t.transaction}),o=Buffer.from(r).toString(\"hex\");return ks(o)}function wu({logger:t,name:e}){const n=typeof t==\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_8__.generatePlatformLogger)({opts:{level:t,name:e}}).logger:t;return n.level=typeof t==\"string\"?t:t.level,n}\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwdUIsYUFBYSxlQUFlLHVCQUF1QixPQUFPLHlCQUF5QixlQUFlLE1BQU0sd0JBQXdCLEdBQUcscUJBQXFCLGVBQWUseUJBQXlCLE9BQU8sbUNBQW1DLGVBQWUsTUFBTSxrQ0FBa0MsR0FBRyx1QkFBdUIsaUJBQWlCLFdBQVcscUJBQXFCLGFBQWEseUJBQXlCLElBQUksZUFBZSxNQUFNLFVBQVUsT0FBTyxTQUFTLGVBQWUsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLHdCQUF3QixFQUFFLGlCQUFpQixNQUFNLHdCQUF3QixPQUFPLFdBQVcsa0NBQWtDLEVBQUUsZUFBZSxnQkFBZ0IsZUFBZSxnQkFBZ0Isb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLHNCQUFzQixJQUFJLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSwwQkFBMEIsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsbUJBQW1CLElBQUksaUJBQWlCLHdDQUF3QyxtT0FBbU8sa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLHFFQUFxRSwyQkFBMkIsMkVBQTJFLDBDQUEwQyxjQUFjLGNBQWMsT0FBTyxhQUFhLE9B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UyxlQUFlLGFBQWEsc0JBQXNCLE1BQU0sMEJBQTBCLE1BQU0sb0JBQW9CLGVBQWUsd0dBQXdHLGVBQWUsOEdBQThHLGNBQWMsTUFBTSxhQUFhLDBFQUFFLE9BQU8sMEVBQUUsbURBQW1ELFlBQVksU0FBUyxjQUFjLGFBQWEsZ0JBQWdCLFFBQVEsaUJBQWlCLGNBQWMsZUFBZSxRQUFRLDRDQUFFLFdBQVcsb0VBQW9FLHFCQUFxQixhQUFhLGtDQUFrQyxFQUFFLE1BQU0saUpBQWlKLG9FQUFvRSw4RUFBOEUsVUFBVSxrRkFBa0YscUNBQXFDLGVBQWUsZ0JBQWdCLGdEQUFFLGNBQWMsV0FBVyxNQUFNLHlCQUF5QixlQUFlLG1EQUFtRCxJQUFJLDRCQUE0QixlQUFlLHVDQUF1QyxlQUFlLFFBQVEsNENBQUUsY0FBYywyQkFBMkIsZUFBZSxzQ0FBc0MsWUFBWSxlQUFlLHdDQUF3QyxpQkFBaUIsZUFBZSw0REFBNEQsOERBQThELGVBQWUsd0VBQXdFLDRCQUE0QiwrQkFBK0IsZ0ZBQWdGLGlDQUFpQywrQkFBK0Isb0pBQW9KLHFFQUFxRSxlQUFlLHdCQUF3QixNQUFNLDREQUE0RCw4Q0FBOEMsSUFBSSxNQUFNLHlCQUF5QixhQUFhLGFBQWEsZ0JBQWdCLEVBQUUsMkJBQTJCLDZFQUFFLEVBQUUsTUFBTSxnQkFBZ0IsV0FBVyw4Q0FBeTJKO0FBQ2hsUiIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtkZXRlY3QgYXMgUHN9ZnJvbVwiZGV0ZWN0LWJyb3dzZXJcIjtpbXBvcnR7dG9NaWxpc2Vjb25kcyBhcyBYZSxGSVZFX01JTlVURVMgYXMgZXIsZnJvbU1pbGlzZWNvbmRzIGFzIEhzfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgYWUsZ2V0TmF2aWdhdG9yIGFzIG5yLGdldExvY2F0aW9uIGFzIHJyfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7aW1wb3J0e2dldFdpbmRvd01ldGFkYXRhIGFzIERzfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YVwiO2ltcG9ydHtTaWduYXR1cmUgYXMgVnMsU2VjcDI1NmsxIGFzIE1zfWZyb21cIm94XCI7aW1wb3J0IHVlIGZyb21cImJzNThcIjtpbXBvcnR7ZGVjb2RlIGFzIEtzLGVuY29kZSBhcyBxc31mcm9tXCJAbXNncGFjay9tc2dwYWNrXCI7aW1wb3J0e2Jhc2UzMiBhcyBGc31mcm9tXCJAc2N1cmUvYmFzZVwiO2ltcG9ydHtkZWNvZGVKV1QgYXMgWnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHt0b1N0cmluZyBhcyBpdCxmcm9tU3RyaW5nIGFzIGF0LGNvbmNhdCBhcyBsZX1mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtSRUxBWV9KU09OUlBDIGFzIEdzfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWFwaVwiO2ltcG9ydHtibGFrZTJiIGFzIHpzfWZyb21cImJsYWtlanNcIjtpbXBvcnR7Z2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciBhcyBZc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtjb25zdCBBZT1cIjpcIjtmdW5jdGlvbiBKZSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn19ZnVuY3Rpb24gb3IodCl7Y29uc3R7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59PXQ7cmV0dXJuW2Usbl0uam9pbihBZSl9ZnVuY3Rpb24gUWUodCl7Y29uc3RbZSxuLHJdPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9fWZ1bmN0aW9uIHNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpuLGFkZHJlc3M6cn09dDtyZXR1cm5bZSxuLHJdLmpvaW4oQWUpfWZ1bmN0aW9uIHRuKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gdC5mb3JFYWNoKHI9Pntjb25zdCBvPWUocik7bi5pbmNsdWRlcyhvKXx8bi5wdXNoKG8pfSksbn1mdW5jdGlvbiBpcih0KXtjb25zdHthZGRyZXNzOmV9PVFlKHQpO3JldHVybiBlfWZ1bmN0aW9uIGNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpufT1RZSh0KTtyZXR1cm4gb3Ioe25hbWVzcGFjZTplLHJlZmVyZW5jZTpufSl9ZnVuY3Rpb24gV3ModCxlKXtjb25zdHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cn09SmUoZSk7cmV0dXJuIHNyKHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cixhZGRyZXNzOnR9KX1mdW5jdGlvbiBYcyh0KXtyZXR1cm4gdG4odCxpcil9ZnVuY3Rpb24gZnIodCl7cmV0dXJuIHRuKHQsY3IpfWZ1bmN0aW9uIEpzKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLm8uYWNjb3VudHMpfSksbn1mdW5jdGlvbiBRcyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5mcihvLmFjY291bnRzKSl9KSxufWZ1bmN0aW9uIHRpKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLkllKHIsbykpfSksbn1mdW5jdGlvbiBJZSh0LGUpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKT9bdF06ZS5jaGFpbnN8fFtdfXZhciBlaT1PYmplY3QuZGVmaW5lUHJvcGVydHksbmk9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMscmk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsYXI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxvaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHNpPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZW49KHQsZSxuKT0+ZSBpbiB0P2VpKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bix1cj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpb2kuY2FsbChlLG4pJiZlbih0LG4sZVtuXSk7aWYoYXIpZm9yKHZhciBuIG9mIGFyKGUpKXNpLmNhbGwoZSxuKSYmZW4odCxuLGVbbl0pO3JldHVybiB0fSxpaT0odCxlKT0+bmkodCxyaShlKSksbHI9KHQsZSxuKT0+ZW4odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxuKTtjb25zdCBkcj1cIlJlYWN0TmF0aXZlXCIsZXQ9e3JlYWN0TmF0aXZlOlwicmVhY3QtbmF0aXZlXCIsbm9kZTpcIm5vZGVcIixicm93c2VyOlwiYnJvd3NlclwiLHVua25vd246XCJ1bmtub3duXCJ9LFNlPVwiIFwiLGNpPVwiOlwiLGhyPVwiL1wiLG5uPTIsZmk9MWUzLHByPVwianNcIjtmdW5jdGlvbiBybigpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM8XCJ1XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU8XCJ1XCJ9ZnVuY3Rpb24gQXQoKXtyZXR1cm4hYWUoKSYmISFucigpJiZuYXZpZ2F0b3IucHJvZHVjdD09PWRyfWZ1bmN0aW9uIGFpKCl7cmV0dXJuIEF0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImFuZHJvaWRcIn1mdW5jdGlvbiB1aSgpe3JldHVybiBBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0pPFwidVwiJiYoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0uT1MpPT09XCJpb3NcIn1mdW5jdGlvbiBXdCgpe3JldHVybiFybigpJiYhIW5yKCkmJiEhYWUoKX1mdW5jdGlvbiBWdCgpe3JldHVybiBBdCgpP2V0LnJlYWN0TmF0aXZlOnJuKCk/ZXQubm9kZTpXdCgpP2V0LmJyb3dzZXI6ZXQudW5rbm93bn1mdW5jdGlvbiBsaSgpe3ZhciB0O3RyeXtyZXR1cm4gQXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkFwcGxpY2F0aW9uKTxcInVcIj8odD1nbG9iYWwuQXBwbGljYXRpb24pPT1udWxsP3ZvaWQgMDp0LmFwcGxpY2F0aW9uSWQ6dm9pZCAwfWNhdGNoe3JldHVybn19ZnVuY3Rpb24gZ3IodCxlKXtjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXModCk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPW51bGwmJm4uc2V0KHIsU3RyaW5nKG8pKX0pLG4udG9TdHJpbmcoKX1mdW5jdGlvbiBkaSh0KXt2YXIgZSxuO2NvbnN0IHI9YnIoKTt0cnl7cmV0dXJuIHQhPW51bGwmJnQudXJsJiZyLnVybCYmbmV3IFVSTCh0LnVybCkuaG9zdCE9PW5ldyBVUkwoci51cmwpLmhvc3QmJihjb25zb2xlLndhcm4oYFRoZSBjb25maWd1cmVkIFdhbGxldENvbm5lY3QgJ21ldGFkYXRhLnVybCc6JHt0LnVybH0gZGlmZmVycyBmcm9tIHRoZSBhY3R1YWwgcGFnZSB1cmw6JHtyLnVybH0uIFRoaXMgaXMgcHJvYmFibHkgdW5pbnRlbmRlZCBhbmQgY2FuIGxlYWQgdG8gaXNzdWVzLmApLHQudXJsPXIudXJsKSwoZT10Py5pY29ucykhPW51bGwmJmUubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wJiYodC5pY29ucz10Lmljb25zLmZpbHRlcihvPT5vIT09XCJcIikpLGlpKHVyKHVyKHt9LHIpLHQpLHt1cmw6dD8udXJsfHxyLnVybCxuYW1lOnQ/Lm5hbWV8fHIubmFtZSxkZXNjcmlwdGlvbjp0Py5kZXNjcmlwdGlvbnx8ci5kZXNjcmlwdGlvbixpY29uczoobj10Py5pY29ucykhPW51bGwmJm4ubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wP3QuaWNvbnM6ci5pY29uc30pfWNhdGNoKG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwb3B1bGF0aW5nIGFwcCBtZXRhZGF0YVwiLG8pLHR8fHJ9fWZ1bmN0aW9uIGJyKCl7cmV0dXJuIERzKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIGhpKHQsZSl7dmFyIG47Y29uc3Qgcj1WdCgpLG89e3Byb3RvY29sOnQsdmVyc2lvbjplLGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj1ycigpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24geXIoKXtpZihWdCgpPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCIpe2NvbnN0e09TOm4sVmVyc2lvbjpyfT1nbG9iYWwuUGxhdGZvcm07cmV0dXJuW24scl0uam9pbihcIi1cIil9Y29uc3QgdD1QcygpO2lmKHQ9PT1udWxsKXJldHVyblwidW5rbm93blwiO2NvbnN0IGU9dC5vcz90Lm9zLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKTpcInVua25vd25cIjtyZXR1cm4gdC50eXBlPT09XCJicm93c2VyXCI/W2UsdC5uYW1lLHQudmVyc2lvbl0uam9pbihcIi1cIik6W2UsdC52ZXJzaW9uXS5qb2luKFwiLVwiKX1mdW5jdGlvbiBtcigpe3ZhciB0O2NvbnN0IGU9VnQoKTtyZXR1cm4gZT09PWV0LmJyb3dzZXI/W2UsKCh0PXJyKCkpPT1udWxsP3ZvaWQgMDp0Lmhvc3QpfHxcInVua25vd25cIl0uam9pbihcIjpcIik6ZX1mdW5jdGlvbiB3cih0LGUsbil7Y29uc3Qgcj15cigpLG89bXIoKTtyZXR1cm5bW3QsZV0uam9pbihcIi1cIiksW3ByLG5dLmpvaW4oXCItXCIpLHIsb10uam9pbihcIi9cIil9ZnVuY3Rpb24gcGkoe3Byb3RvY29sOnQsdmVyc2lvbjplLHJlbGF5VXJsOm4sc2RrVmVyc2lvbjpyLGF1dGg6byxwcm9qZWN0SWQ6cyx1c2VPbkNsb3NlRXZlbnQ6aSxidW5kbGVJZDpjLHBhY2thZ2VOYW1lOmZ9KXtjb25zdCB1PW4uc3BsaXQoXCI/XCIpLGE9d3IodCxlLHIpLGw9e2F1dGg6byx1YTphLHByb2plY3RJZDpzLHVzZU9uQ2xvc2VFdmVudDppfHx2b2lkIDAscGFja2FnZU5hbWU6Znx8dm9pZCAwLGJ1bmRsZUlkOmN8fHZvaWQgMH0sZD1ncih1WzFdfHxcIlwiLGwpO3JldHVybiB1WzBdK1wiP1wiK2R9ZnVuY3Rpb24gZ2kodCl7bGV0IGU9KHQubWF0Y2goL15bXjpdKyg/PTpcXC9cXC8pL2dpKXx8W10pWzBdO2NvbnN0IG49dHlwZW9mIGU8XCJ1XCI/dC5zcGxpdChcIjovL1wiKVsxXTp0O3JldHVybiBlPWU9PT1cIndzc1wiP1wiaHR0cHNcIjpcImh0dHBcIixbZSxuXS5qb2luKFwiOi8vXCIpfWZ1bmN0aW9uIGJpKHQsZSxuKXtpZighdFtlXXx8dHlwZW9mIHRbZV0hPT1uKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvciBpbnZhbGlkIFwiJHtlfVwiIHBhcmFtYCl9ZnVuY3Rpb24gdnIodCxlPW5uKXtyZXR1cm4geHIodC5zcGxpdChociksZSl9ZnVuY3Rpb24geWkodCl7cmV0dXJuIHZyKHQpLmpvaW4oU2UpfWZ1bmN0aW9uIEl0KHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpLmxlbmd0aD09PXQubGVuZ3RofWZ1bmN0aW9uIHhyKHQsZT1ubil7cmV0dXJuIHQuc2xpY2UoTWF0aC5tYXgodC5sZW5ndGgtZSwwKSl9ZnVuY3Rpb24gbWkodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh0LmVudHJpZXMoKSl9ZnVuY3Rpb24gd2kodCl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmVudHJpZXModCkpfWZ1bmN0aW9uIHZpKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57bltyXT1lKHRbcl0pfSksbn1jb25zdCB4aT10PT50O2Z1bmN0aW9uIEVyKHQpe3JldHVybiB0LnRyaW0oKS5yZXBsYWNlKC9eXFx3LyxlPT5lLnRvVXBwZXJDYXNlKCkpfWZ1bmN0aW9uIEVpKHQpe3JldHVybiB0LnNwbGl0KFNlKS5tYXAoZT0+RXIoZSkpLmpvaW4oU2UpfWZ1bmN0aW9uIEJpKHQ9ZXIsZSl7Y29uc3Qgbj1YZSh0fHxlcik7bGV0IHIsbyxzLGk7cmV0dXJue3Jlc29sdmU6Yz0+e3MmJnImJihjbGVhclRpbWVvdXQocykscihjKSxpPVByb21pc2UucmVzb2x2ZShjKSl9LHJlamVjdDpjPT57cyYmbyYmKGNsZWFyVGltZW91dChzKSxvKGMpKX0sZG9uZTooKT0+bmV3IFByb21pc2UoKGMsZik9PntpZihpKXJldHVybiBjKGkpO3M9c2V0VGltZW91dCgoKT0+e2NvbnN0IHU9bmV3IEVycm9yKGUpO2k9UHJvbWlzZS5yZWplY3QodSksZih1KX0sbikscj1jLG89Zn0pfX1mdW5jdGlvbiBBaSh0LGUsbil7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsbyk9Pntjb25zdCBzPXNldFRpbWVvdXQoKCk9Pm8obmV3IEVycm9yKG4pKSxlKTt0cnl7Y29uc3QgaT1hd2FpdCB0O3IoaSl9Y2F0Y2goaSl7byhpKX1jbGVhclRpbWVvdXQocyl9KX1mdW5jdGlvbiBvbih0LGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiJiZlLnN0YXJ0c1dpdGgoYCR7dH06YCkpcmV0dXJuIGU7aWYodC50b0xvd2VyQ2FzZSgpPT09XCJ0b3BpY1wiKXtpZih0eXBlb2YgZSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJzdHJpbmdcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogdG9waWMnKTtyZXR1cm5gdG9waWM6JHtlfWB9ZWxzZSBpZih0LnRvTG93ZXJDYXNlKCk9PT1cImlkXCIpe2lmKHR5cGVvZiBlIT1cIm51bWJlclwiKXRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcIm51bWJlclwiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiBpZCcpO3JldHVybmBpZDoke2V9YH10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXhwaXJlciB0YXJnZXQgdHlwZTogJHt0fWApfWZ1bmN0aW9uIElpKHQpe3JldHVybiBvbihcInRvcGljXCIsdCl9ZnVuY3Rpb24gU2kodCl7cmV0dXJuIG9uKFwiaWRcIix0KX1mdW5jdGlvbiBPaSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoXCI6XCIpLHI9e2lkOnZvaWQgMCx0b3BpYzp2b2lkIDB9O2lmKGU9PT1cInRvcGljXCImJnR5cGVvZiBuPT1cInN0cmluZ1wiKXIudG9waWM9bjtlbHNlIGlmKGU9PT1cImlkXCImJk51bWJlci5pc0ludGVnZXIoTnVtYmVyKG4pKSlyLmlkPU51bWJlcihuKTtlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQsIGV4cGVjdGVkIGlkOm51bWJlciBvciB0b3BpYzpzdHJpbmcsIGdvdCAke2V9OiR7bn1gKTtyZXR1cm4gcn1mdW5jdGlvbiBOaSh0LGUpe3JldHVybiBIcygoZXx8RGF0ZS5ub3coKSkrWGUodCkpfWZ1bmN0aW9uIFVpKHQpe3JldHVybiBEYXRlLm5vdygpPj1YZSh0KX1mdW5jdGlvbiBfaSh0LGUpe3JldHVybmAke3R9JHtlP2A6JHtlfWA6XCJcIn1gfWZ1bmN0aW9uIHV0KHQ9W10sZT1bXSl7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLnQsLi4uZV0pXX1hc3luYyBmdW5jdGlvbiBSaSh7aWQ6dCx0b3BpYzplLHdjRGVlcExpbms6bn0pe3ZhciByO3RyeXtpZighbilyZXR1cm47Y29uc3Qgbz10eXBlb2Ygbj09XCJzdHJpbmdcIj9KU09OLnBhcnNlKG4pOm4scz1vPy5ocmVmO2lmKHR5cGVvZiBzIT1cInN0cmluZ1wiKXJldHVybjtjb25zdCBpPUJyKHMsdCxlKSxjPVZ0KCk7aWYoYz09PWV0LmJyb3dzZXIpe2lmKCEoKHI9YWUoKSkhPW51bGwmJnIuaGFzRm9jdXMoKSkpe2NvbnNvbGUud2FybihcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgZm9jdXMsIHNraXBwaW5nIGRlZXBsaW5rLlwiKTtyZXR1cm59QXIoaSl9ZWxzZSBjPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIiYmYXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChpKX1jYXRjaChvKXtjb25zb2xlLmVycm9yKG8pfX1mdW5jdGlvbiBCcih0LGUsbil7Y29uc3Qgcj1gcmVxdWVzdElkPSR7ZX0mc2Vzc2lvblRvcGljPSR7bn1gO3QuZW5kc1dpdGgoXCIvXCIpJiYodD10LnNsaWNlKDAsLTEpKTtsZXQgbz1gJHt0fWA7aWYodC5zdGFydHNXaXRoKFwiaHR0cHM6Ly90Lm1lXCIpKXtjb25zdCBzPXQuaW5jbHVkZXMoXCI/XCIpP1wiJnN0YXJ0YXBwPVwiOlwiP3N0YXJ0YXBwPVwiO289YCR7b30ke3N9JHtPcihyLCEwKX1gfWVsc2Ugbz1gJHtvfS93Yz8ke3J9YDtyZXR1cm4gb31mdW5jdGlvbiBBcih0KXtsZXQgZT1cIl9zZWxmXCI7U3IoKT9lPVwiX3RvcFwiOihJcigpfHx0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKXx8dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSkmJihlPVwiX2JsYW5rXCIpLHdpbmRvdy5vcGVuKHQsZSxcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIil9YXN5bmMgZnVuY3Rpb24gJGkodCxlKXtsZXQgbj1cIlwiO3RyeXtpZihXdCgpJiYobj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSxuKSlyZXR1cm4gbjtuPWF3YWl0IHQuZ2V0SXRlbShlKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIHNuKHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpfWZ1bmN0aW9uIFRpKHQsZSl7aWYoIXQuaW5jbHVkZXMoZSkpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnNwbGl0KC8oWyYsPyw9XSkvKSxyPW4uaW5kZXhPZihlKTtyZXR1cm4gbltyKzJdfWZ1bmN0aW9uIENpKCl7cmV0dXJuIHR5cGVvZiBjcnlwdG88XCJ1XCImJmNyeXB0byE9bnVsbCYmY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZ3UsdD0+e2NvbnN0IGU9TWF0aC5yYW5kb20oKSoxNnwwO3JldHVybih0PT09XCJ4XCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9ZnVuY3Rpb24gamkoKXtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52LklTX1ZJVEVTVD09PVwidHJ1ZVwifWZ1bmN0aW9uIElyKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCImJighIXdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eXx8ISF3aW5kb3cuVGVsZWdyYW18fCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pfWZ1bmN0aW9uIFNyKCl7dHJ5e3JldHVybiB3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3B9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIE9yKHQsZT0hMSl7Y29uc3Qgbj1CdWZmZXIuZnJvbSh0KS50b1N0cmluZyhcImJhc2U2NFwiKTtyZXR1cm4gZT9uLnJlcGxhY2UoL1s9XS9nLFwiXCIpOm59ZnVuY3Rpb24gY24odCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiBMaSh0KXtyZXR1cm4gbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLHQpKX1jbGFzcyBraXtjb25zdHJ1Y3Rvcih7bGltaXQ6ZX0pe2xyKHRoaXMsXCJsaW1pdFwiKSxscih0aGlzLFwic2V0XCIpLHRoaXMubGltaXQ9ZSx0aGlzLnNldD1uZXcgU2V0fWFkZChlKXtpZighdGhpcy5zZXQuaGFzKGUpKXtpZih0aGlzLnNldC5zaXplPj10aGlzLmxpbWl0KXtjb25zdCBuPXRoaXMuc2V0LnZhbHVlcygpLm5leHQoKS52YWx1ZTtuJiZ0aGlzLnNldC5kZWxldGUobil9dGhpcy5zZXQuYWRkKGUpfX1oYXMoZSl7cmV0dXJuIHRoaXMuc2V0LmhhcyhlKX19Y29uc3QgT2U9QmlnSW50KDIqKjMyLTEpLE5yPUJpZ0ludCgzMik7ZnVuY3Rpb24gVXIodCxlPSExKXtyZXR1cm4gZT97aDpOdW1iZXIodCZPZSksbDpOdW1iZXIodD4+TnImT2UpfTp7aDpOdW1iZXIodD4+TnImT2UpfDAsbDpOdW1iZXIodCZPZSl8MH19ZnVuY3Rpb24gX3IodCxlPSExKXtjb25zdCBuPXQubGVuZ3RoO2xldCByPW5ldyBVaW50MzJBcnJheShuKSxvPW5ldyBVaW50MzJBcnJheShuKTtmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdHtoOmksbDpjfT1Vcih0W3NdLGUpO1tyW3NdLG9bc11dPVtpLGNdfXJldHVybltyLG9dfWNvbnN0IFJyPSh0LGUsbik9PnQ+Pj5uLCRyPSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sU3Q9KHQsZSxuKT0+dD4+Pm58ZTw8MzItbixPdD0odCxlLG4pPT50PDwzMi1ufGU+Pj5uLGRlPSh0LGUsbik9PnQ8PDY0LW58ZT4+Pm4tMzIsaGU9KHQsZSxuKT0+dD4+Pm4tMzJ8ZTw8NjQtbixQaT0odCxlKT0+ZSxIaT0odCxlKT0+dCxEaT0odCxlLG4pPT50PDxufGU+Pj4zMi1uLFZpPSh0LGUsbik9PmU8PG58dD4+PjMyLW4sTWk9KHQsZSxuKT0+ZTw8bi0zMnx0Pj4+NjQtbixLaT0odCxlLG4pPT50PDxuLTMyfGU+Pj42NC1uO2Z1bmN0aW9uIGR0KHQsZSxuLHIpe2NvbnN0IG89KGU+Pj4wKSsocj4+PjApO3JldHVybntoOnQrbisoby8yKiozMnwwKXwwLGw6b3wwfX1jb25zdCBmbj0odCxlLG4pPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSxhbj0odCxlLG4scik9PmUrbityKyh0LzIqKjMyfDApfDAscWk9KHQsZSxuLHIpPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSsocj4+PjApLEZpPSh0LGUsbixyLG8pPT5lK24rcitvKyh0LzIqKjMyfDApfDAsWmk9KHQsZSxuLHIsbyk9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCkrKG8+Pj4wKSxHaT0odCxlLG4scixvLHMpPT5lK24rcitvK3MrKHQvMioqMzJ8MCl8MCxYdD10eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmXCJjcnlwdG9cImluIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5jcnlwdG86dm9pZCAwO2Z1bmN0aW9uIE5lKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBtdCh0KXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBnb3QgXCIrdCl9ZnVuY3Rpb24gaHQodCwuLi5lKXtpZighTmUodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gVWUodCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8dHlwZW9mIHQuY3JlYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy5jcmVhdGVIYXNoZXJcIik7bXQodC5vdXRwdXRMZW4pLG10KHQuYmxvY2tMZW4pfWZ1bmN0aW9uIE50KHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIHVuKHQsZSl7aHQodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWZ1bmN0aW9uIHBlKHQpe3JldHVybiBuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKX1mdW5jdGlvbiBsdCguLi50KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmZpbGwoMCl9ZnVuY3Rpb24gbG4odCl7cmV0dXJuIG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiB0PDwzMi1lfHQ+Pj5lfWNvbnN0IFRyPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2Z1bmN0aW9uIENyKHQpe3JldHVybiB0PDwyNCY0Mjc4MTkwMDgwfHQ8PDgmMTY3MTE2ODB8dD4+PjgmNjUyODB8dD4+PjI0JjI1NX1jb25zdCB3dD1Ucj90PT50OnQ9PkNyKHQpO2Z1bmN0aW9uIHppKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09Q3IodFtlXSk7cmV0dXJuIHR9Y29uc3QgVXQ9VHI/dD0+dDp6aSxqcj10eXBlb2YgVWludDhBcnJheS5mcm9tKFtdKS50b0hleD09XCJmdW5jdGlvblwiJiZ0eXBlb2YgVWludDhBcnJheS5mcm9tSGV4PT1cImZ1bmN0aW9uXCIsWWk9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKHQsZSk9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBKdCh0KXtpZihodCh0KSxqcilyZXR1cm4gdC50b0hleCgpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9WWlbdFtuXV07cmV0dXJuIGV9Y29uc3QgdnQ9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiBMcih0KXtpZih0Pj12dC5fMCYmdDw9dnQuXzkpcmV0dXJuIHQtdnQuXzA7aWYodD49dnQuQSYmdDw9dnQuRilyZXR1cm4gdC0odnQuQS0xMCk7aWYodD49dnQuYSYmdDw9dnQuZilyZXR1cm4gdC0odnQuYS0xMCl9ZnVuY3Rpb24gX2UodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtpZihqcilyZXR1cm4gVWludDhBcnJheS5mcm9tSGV4KHQpO2NvbnN0IGU9dC5sZW5ndGgsbj1lLzI7aWYoZSUyKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK2UpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCBvPTAscz0wO288bjtvKysscys9Mil7Y29uc3QgaT1Mcih0LmNoYXJDb2RlQXQocykpLGM9THIodC5jaGFyQ29kZUF0KHMrMSkpO2lmKGk9PT12b2lkIDB8fGM9PT12b2lkIDApe2NvbnN0IGY9dFtzXSt0W3MrMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK2YrJ1wiIGF0IGluZGV4ICcrcyl9cltvXT1pKjE2K2N9cmV0dXJuIHJ9ZnVuY3Rpb24ga3IodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9a3IodCkpLGh0KHQpLHR9ZnVuY3Rpb24gX3QoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO2h0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBzPXRbcl07bi5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gbn1jbGFzcyBSZXt9ZnVuY3Rpb24gZ2UodCl7Y29uc3QgZT1yPT50KCkudXBkYXRlKHB0KHIpKS5kaWdlc3QoKSxuPXQoKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPSgpPT50KCksZX1mdW5jdGlvbiBXaSh0KXtjb25zdCBlPShyLG8pPT50KG8pLnVwZGF0ZShwdChyKSkuZGlnZXN0KCksbj10KHt9KTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1mdW5jdGlvbiBNdCh0PTMyKXtpZihYdCYmdHlwZW9mIFh0LmdldFJhbmRvbVZhbHVlcz09XCJmdW5jdGlvblwiKXJldHVybiBYdC5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO2lmKFh0JiZ0eXBlb2YgWHQucmFuZG9tQnl0ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gVWludDhBcnJheS5mcm9tKFh0LnJhbmRvbUJ5dGVzKHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1jb25zdCBYaT1CaWdJbnQoMCksYmU9QmlnSW50KDEpLEppPUJpZ0ludCgyKSxRaT1CaWdJbnQoNyksdGM9QmlnSW50KDI1NiksZWM9QmlnSW50KDExMyksUHI9W10sSHI9W10sRHI9W107Zm9yKGxldCB0PTAsZT1iZSxuPTEscj0wO3Q8MjQ7dCsrKXtbbixyXT1bciwoMipuKzMqciklNV0sUHIucHVzaCgyKig1KnIrbikpLEhyLnB1c2goKHQrMSkqKHQrMikvMiU2NCk7bGV0IG89WGk7Zm9yKGxldCBzPTA7czw3O3MrKyllPShlPDxiZV4oZT4+UWkpKmVjKSV0YyxlJkppJiYob149YmU8PChiZTw8QmlnSW50KHMpKS1iZSk7RHIucHVzaChvKX1jb25zdCBWcj1fcihEciwhMCksbmM9VnJbMF0scmM9VnJbMV0sTXI9KHQsZSxuKT0+bj4zMj9NaSh0LGUsbik6RGkodCxlLG4pLEtyPSh0LGUsbik9Pm4+MzI/S2kodCxlLG4pOlZpKHQsZSxuKTtmdW5jdGlvbiBvYyh0LGU9MjQpe2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KDEwKTtmb3IobGV0IHI9MjQtZTtyPDI0O3IrKyl7Zm9yKGxldCBpPTA7aTwxMDtpKyspbltpXT10W2ldXnRbaSsxMF1edFtpKzIwXV50W2krMzBdXnRbaSs0MF07Zm9yKGxldCBpPTA7aTwxMDtpKz0yKXtjb25zdCBjPShpKzgpJTEwLGY9KGkrMiklMTAsdT1uW2ZdLGE9bltmKzFdLGw9TXIodSxhLDEpXm5bY10sZD1Lcih1LGEsMSlebltjKzFdO2ZvcihsZXQgaD0wO2g8NTA7aCs9MTApdFtpK2hdXj1sLHRbaStoKzFdXj1kfWxldCBvPXRbMl0scz10WzNdO2ZvcihsZXQgaT0wO2k8MjQ7aSsrKXtjb25zdCBjPUhyW2ldLGY9TXIobyxzLGMpLHU9S3IobyxzLGMpLGE9UHJbaV07bz10W2FdLHM9dFthKzFdLHRbYV09Zix0W2ErMV09dX1mb3IobGV0IGk9MDtpPDUwO2krPTEwKXtmb3IobGV0IGM9MDtjPDEwO2MrKyluW2NdPXRbaStjXTtmb3IobGV0IGM9MDtjPDEwO2MrKyl0W2krY11ePX5uWyhjKzIpJTEwXSZuWyhjKzQpJTEwXX10WzBdXj1uY1tyXSx0WzFdXj1yY1tyXX1sdChuKX1jbGFzcyBKbiBleHRlbmRzIFJle2NvbnN0cnVjdG9yKGUsbixyLG89ITEscz0yNCl7aWYoc3VwZXIoKSx0aGlzLnBvcz0wLHRoaXMucG9zT3V0PTAsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmVuYWJsZVhPRj0hMSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5zdWZmaXg9bix0aGlzLm91dHB1dExlbj1yLHRoaXMuZW5hYmxlWE9GPW8sdGhpcy5yb3VuZHM9cyxtdChyKSwhKDA8ZSYmZTwyMDApKXRocm93IG5ldyBFcnJvcihcIm9ubHkga2VjY2FrLWYxNjAwIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZFwiKTt0aGlzLnN0YXRlPW5ldyBVaW50OEFycmF5KDIwMCksdGhpcy5zdGF0ZTMyPXBlKHRoaXMuc3RhdGUpfWNsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfWtlY2Nhaygpe1V0KHRoaXMuc3RhdGUzMiksb2ModGhpcy5zdGF0ZTMyLHRoaXMucm91bmRzKSxVdCh0aGlzLnN0YXRlMzIpLHRoaXMucG9zT3V0PTAsdGhpcy5wb3M9MH11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHtibG9ja0xlbjpuLHN0YXRlOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKG4tdGhpcy5wb3Msby1zKTtmb3IobGV0IGM9MDtjPGk7YysrKXJbdGhpcy5wb3MrK11ePWVbcysrXTt0aGlzLnBvcz09PW4mJnRoaXMua2VjY2FrKCl9cmV0dXJuIHRoaXN9ZmluaXNoKCl7aWYodGhpcy5maW5pc2hlZClyZXR1cm47dGhpcy5maW5pc2hlZD0hMDtjb25zdHtzdGF0ZTplLHN1ZmZpeDpuLHBvczpyLGJsb2NrTGVuOm99PXRoaXM7ZVtyXV49biwobiYxMjgpIT09MCYmcj09PW8tMSYmdGhpcy5rZWNjYWsoKSxlW28tMV1ePTEyOCx0aGlzLmtlY2NhaygpfXdyaXRlSW50byhlKXtOdCh0aGlzLCExKSxodChlKSx0aGlzLmZpbmlzaCgpO2NvbnN0IG49dGhpcy5zdGF0ZSx7YmxvY2tMZW46cn09dGhpcztmb3IobGV0IG89MCxzPWUubGVuZ3RoO288czspe3RoaXMucG9zT3V0Pj1yJiZ0aGlzLmtlY2NhaygpO2NvbnN0IGk9TWF0aC5taW4oci10aGlzLnBvc091dCxzLW8pO2Uuc2V0KG4uc3ViYXJyYXkodGhpcy5wb3NPdXQsdGhpcy5wb3NPdXQraSksbyksdGhpcy5wb3NPdXQrPWksbys9aX1yZXR1cm4gZX14b2ZJbnRvKGUpe2lmKCF0aGlzLmVuYWJsZVhPRil0aHJvdyBuZXcgRXJyb3IoXCJYT0YgaXMgbm90IHBvc3NpYmxlIGZvciB0aGlzIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKX14b2YoZSl7cmV0dXJuIG10KGUpLHRoaXMueG9mSW50byhuZXcgVWludDhBcnJheShlKSl9ZGlnZXN0SW50byhlKXtpZih1bihlLHRoaXMpLHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0KCkgd2FzIGFscmVhZHkgY2FsbGVkXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKSx0aGlzLmRlc3Ryb3koKSxlfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdEludG8obmV3IFVpbnQ4QXJyYXkodGhpcy5vdXRwdXRMZW4pKX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsbHQodGhpcy5zdGF0ZSl9X2Nsb25lSW50byhlKXtjb25zdHtibG9ja0xlbjpuLHN1ZmZpeDpyLG91dHB1dExlbjpvLHJvdW5kczpzLGVuYWJsZVhPRjppfT10aGlzO3JldHVybiBlfHwoZT1uZXcgSm4obixyLG8saSxzKSksZS5zdGF0ZTMyLnNldCh0aGlzLnN0YXRlMzIpLGUucG9zPXRoaXMucG9zLGUucG9zT3V0PXRoaXMucG9zT3V0LGUuZmluaXNoZWQ9dGhpcy5maW5pc2hlZCxlLnJvdW5kcz1zLGUuc3VmZml4PXIsZS5vdXRwdXRMZW49byxlLmVuYWJsZVhPRj1pLGUuZGVzdHJveWVkPXRoaXMuZGVzdHJveWVkLGV9fWNvbnN0IHNjPSh0LGUsbik9PmdlKCgpPT5uZXcgSm4oZSx0LG4pKSxpYz1zYygxLDEzNiwyNTYvOCk7ZnVuY3Rpb24gY2ModCxlLG4scil7aWYodHlwZW9mIHQuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQuc2V0QmlnVWludDY0KGUsbixyKTtjb25zdCBvPUJpZ0ludCgzMikscz1CaWdJbnQoNDI5NDk2NzI5NSksaT1OdW1iZXIobj4+byZzKSxjPU51bWJlcihuJnMpLGY9cj80OjAsdT1yPzA6NDt0LnNldFVpbnQzMihlK2YsaSxyKSx0LnNldFVpbnQzMihlK3UsYyxyKX1mdW5jdGlvbiBmYyh0LGUsbil7cmV0dXJuIHQmZV5+dCZufWZ1bmN0aW9uIGFjKHQsZSxuKXtyZXR1cm4gdCZlXnQmbl5lJm59Y2xhc3MgcXIgZXh0ZW5kcyBSZXtjb25zdHJ1Y3RvcihlLG4scixvKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMucGFkT2Zmc2V0PXIsdGhpcy5pc0xFPW8sdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PWxuKHRoaXMuYnVmZmVyKX11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHt2aWV3Om4sYnVmZmVyOnIsYmxvY2tMZW46b309dGhpcyxzPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8czspe2NvbnN0IGM9TWF0aC5taW4oby10aGlzLnBvcyxzLWkpO2lmKGM9PT1vKXtjb25zdCBmPWxuKGUpO2Zvcig7bzw9cy1pO2krPW8pdGhpcy5wcm9jZXNzKGYsaSk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShpLGkrYyksdGhpcy5wb3MpLHRoaXMucG9zKz1jLGkrPWMsdGhpcy5wb3M9PT1vJiYodGhpcy5wcm9jZXNzKG4sMCksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksdW4oZSx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLHZpZXc6cixibG9ja0xlbjpvLGlzTEU6c309dGhpcztsZXR7cG9zOml9PXRoaXM7bltpKytdPTEyOCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShpKSksdGhpcy5wYWRPZmZzZXQ+by1pJiYodGhpcy5wcm9jZXNzKHIsMCksaT0wKTtmb3IobGV0IGw9aTtsPG87bCsrKW5bbF09MDtjYyhyLG8tOCxCaWdJbnQodGhpcy5sZW5ndGgqOCkscyksdGhpcy5wcm9jZXNzKHIsMCk7Y29uc3QgYz1sbihlKSxmPXRoaXMub3V0cHV0TGVuO2lmKGYlNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IHU9Zi80LGE9dGhpcy5nZXQoKTtpZih1PmEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBsPTA7bDx1O2wrKyljLnNldFVpbnQzMig0KmwsYVtsXSxzKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixsZW5ndGg6byxmaW5pc2hlZDpzLGRlc3Ryb3llZDppLHBvczpjfT10aGlzO3JldHVybiBlLmRlc3Ryb3llZD1pLGUuZmluaXNoZWQ9cyxlLmxlbmd0aD1vLGUucG9zPWMsbyVuJiZlLmJ1ZmZlci5zZXQociksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y29uc3QgUnQ9VWludDMyQXJyYXkuZnJvbShbMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdKSxYPVVpbnQzMkFycmF5LmZyb20oWzM0MTgwNzAzNjUsMzIzODM3MTAzMiwxNjU0MjcwMjUwLDkxNDE1MDY2MywyNDM4NTI5MzcwLDgxMjcwMjk5OSwzNTU0NjIzNjAsNDE0NDkxMjY5NywxNzMxNDA1NDE1LDQyOTA3NzU4NTcsMjM5NDE4MDIzMSwxNzUwNjAzMDI1LDM2NzUwMDg1MjUsMTY5NDA3NjgzOSwxMjAzMDYyODEzLDMyMDQwNzU0MjhdKSxKPVVpbnQzMkFycmF5LmZyb20oWzE3NzkwMzM3MDMsNDA4OTIzNTcyMCwzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUsMTAxMzkwNDI0Miw0MjcxMTc1NzIzLDI3NzM0ODA3NjIsMTU5NTc1MDEyOSwxMzU5ODkzMTE5LDI5MTc1NjUxMzcsMjYwMDgyMjkyNCw3MjU1MTExOTksNTI4NzM0NjM1LDQyMTUzODk1NDcsMTU0MTQ1OTIyNSwzMjcwMzMyMDldKSx1Yz1VaW50MzJBcnJheS5mcm9tKFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSwkdD1uZXcgVWludDMyQXJyYXkoNjQpO2NsYXNzIGxjIGV4dGVuZHMgcXJ7Y29uc3RydWN0b3IoZT0zMil7c3VwZXIoNjQsZSw4LCExKSx0aGlzLkE9UnRbMF18MCx0aGlzLkI9UnRbMV18MCx0aGlzLkM9UnRbMl18MCx0aGlzLkQ9UnRbM118MCx0aGlzLkU9UnRbNF18MCx0aGlzLkY9UnRbNV18MCx0aGlzLkc9UnRbNl18MCx0aGlzLkg9UnRbN118MH1nZXQoKXtjb25zdHtBOmUsQjpuLEM6cixEOm8sRTpzLEY6aSxHOmMsSDpmfT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGZdfXNldChlLG4scixvLHMsaSxjLGYpe3RoaXMuQT1lfDAsdGhpcy5CPW58MCx0aGlzLkM9cnwwLHRoaXMuRD1vfDAsdGhpcy5FPXN8MCx0aGlzLkY9aXwwLHRoaXMuRz1jfDAsdGhpcy5IPWZ8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBsPTA7bDwxNjtsKyssbis9NCkkdFtsXT1lLmdldFVpbnQzMihuLCExKTtmb3IobGV0IGw9MTY7bDw2NDtsKyspe2NvbnN0IGQ9JHRbbC0xNV0saD0kdFtsLTJdLHk9YnQoZCw3KV5idChkLDE4KV5kPj4+MyxtPWJ0KGgsMTcpXmJ0KGgsMTkpXmg+Pj4xMDskdFtsXT1tKyR0W2wtN10reSskdFtsLTE2XXwwfWxldHtBOnIsQjpvLEM6cyxEOmksRTpjLEY6ZixHOnUsSDphfT10aGlzO2ZvcihsZXQgbD0wO2w8NjQ7bCsrKXtjb25zdCBkPWJ0KGMsNileYnQoYywxMSleYnQoYywyNSksaD1hK2QrZmMoYyxmLHUpK3VjW2xdKyR0W2xdfDAsbT0oYnQociwyKV5idChyLDEzKV5idChyLDIyKSkrYWMocixvLHMpfDA7YT11LHU9ZixmPWMsYz1pK2h8MCxpPXMscz1vLG89cixyPWgrbXwwfXI9cit0aGlzLkF8MCxvPW8rdGhpcy5CfDAscz1zK3RoaXMuQ3wwLGk9aSt0aGlzLkR8MCxjPWMrdGhpcy5FfDAsZj1mK3RoaXMuRnwwLHU9dSt0aGlzLkd8MCxhPWErdGhpcy5IfDAsdGhpcy5zZXQocixvLHMsaSxjLGYsdSxhKX1yb3VuZENsZWFuKCl7bHQoJHQpfWRlc3Ryb3koKXt0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDApLGx0KHRoaXMuYnVmZmVyKX19Y29uc3QgRnI9X3IoW1wiMHg0MjhhMmY5OGQ3MjhhZTIyXCIsXCIweDcxMzc0NDkxMjNlZjY1Y2RcIixcIjB4YjVjMGZiY2ZlYzRkM2IyZlwiLFwiMHhlOWI1ZGJhNTgxODlkYmJjXCIsXCIweDM5NTZjMjViZjM0OGI1MzhcIixcIjB4NTlmMTExZjFiNjA1ZDAxOVwiLFwiMHg5MjNmODJhNGFmMTk0ZjliXCIsXCIweGFiMWM1ZWQ1ZGE2ZDgxMThcIixcIjB4ZDgwN2FhOThhMzAzMDI0MlwiLFwiMHgxMjgzNWIwMTQ1NzA2ZmJlXCIsXCIweDI0MzE4NWJlNGVlNGIyOGNcIixcIjB4NTUwYzdkYzNkNWZmYjRlMlwiLFwiMHg3MmJlNWQ3NGYyN2I4OTZmXCIsXCIweDgwZGViMWZlM2IxNjk2YjFcIixcIjB4OWJkYzA2YTcyNWM3MTIzNVwiLFwiMHhjMTliZjE3NGNmNjkyNjk0XCIsXCIweGU0OWI2OWMxOWVmMTRhZDJcIixcIjB4ZWZiZTQ3ODYzODRmMjVlM1wiLFwiMHgwZmMxOWRjNjhiOGNkNWI1XCIsXCIweDI0MGNhMWNjNzdhYzljNjVcIixcIjB4MmRlOTJjNmY1OTJiMDI3NVwiLFwiMHg0YTc0ODRhYTZlYTZlNDgzXCIsXCIweDVjYjBhOWRjYmQ0MWZiZDRcIixcIjB4NzZmOTg4ZGE4MzExNTNiNVwiLFwiMHg5ODNlNTE1MmVlNjZkZmFiXCIsXCIweGE4MzFjNjZkMmRiNDMyMTBcIixcIjB4YjAwMzI3Yzg5OGZiMjEzZlwiLFwiMHhiZjU5N2ZjN2JlZWYwZWU0XCIsXCIweGM2ZTAwYmYzM2RhODhmYzJcIixcIjB4ZDVhNzkxNDc5MzBhYTcyNVwiLFwiMHgwNmNhNjM1MWUwMDM4MjZmXCIsXCIweDE0MjkyOTY3MGEwZTZlNzBcIixcIjB4MjdiNzBhODU0NmQyMmZmY1wiLFwiMHgyZTFiMjEzODVjMjZjOTI2XCIsXCIweDRkMmM2ZGZjNWFjNDJhZWRcIixcIjB4NTMzODBkMTM5ZDk1YjNkZlwiLFwiMHg2NTBhNzM1NDhiYWY2M2RlXCIsXCIweDc2NmEwYWJiM2M3N2IyYThcIixcIjB4ODFjMmM5MmU0N2VkYWVlNlwiLFwiMHg5MjcyMmM4NTE0ODIzNTNiXCIsXCIweGEyYmZlOGExNGNmMTAzNjRcIixcIjB4YTgxYTY2NGJiYzQyMzAwMVwiLFwiMHhjMjRiOGI3MGQwZjg5NzkxXCIsXCIweGM3NmM1MWEzMDY1NGJlMzBcIixcIjB4ZDE5MmU4MTlkNmVmNTIxOFwiLFwiMHhkNjk5MDYyNDU1NjVhOTEwXCIsXCIweGY0MGUzNTg1NTc3MTIwMmFcIixcIjB4MTA2YWEwNzAzMmJiZDFiOFwiLFwiMHgxOWE0YzExNmI4ZDJkMGM4XCIsXCIweDFlMzc2YzA4NTE0MWFiNTNcIixcIjB4Mjc0ODc3NGNkZjhlZWI5OVwiLFwiMHgzNGIwYmNiNWUxOWI0OGE4XCIsXCIweDM5MWMwY2IzYzVjOTVhNjNcIixcIjB4NGVkOGFhNGFlMzQxOGFjYlwiLFwiMHg1YjljY2E0Zjc3NjNlMzczXCIsXCIweDY4MmU2ZmYzZDZiMmI4YTNcIixcIjB4NzQ4ZjgyZWU1ZGVmYjJmY1wiLFwiMHg3OGE1NjM2ZjQzMTcyZjYwXCIsXCIweDg0Yzg3ODE0YTFmMGFiNzJcIixcIjB4OGNjNzAyMDgxYTY0MzllY1wiLFwiMHg5MGJlZmZmYTIzNjMxZTI4XCIsXCIweGE0NTA2Y2ViZGU4MmJkZTlcIixcIjB4YmVmOWEzZjdiMmM2NzkxNVwiLFwiMHhjNjcxNzhmMmUzNzI1MzJiXCIsXCIweGNhMjczZWNlZWEyNjYxOWNcIixcIjB4ZDE4NmI4YzcyMWMwYzIwN1wiLFwiMHhlYWRhN2RkNmNkZTBlYjFlXCIsXCIweGY1N2Q0ZjdmZWU2ZWQxNzhcIixcIjB4MDZmMDY3YWE3MjE3NmZiYVwiLFwiMHgwYTYzN2RjNWEyYzg5OGE2XCIsXCIweDExM2Y5ODA0YmVmOTBkYWVcIixcIjB4MWI3MTBiMzUxMzFjNDcxYlwiLFwiMHgyOGRiNzdmNTIzMDQ3ZDg0XCIsXCIweDMyY2FhYjdiNDBjNzI0OTNcIixcIjB4M2M5ZWJlMGExNWM5YmViY1wiLFwiMHg0MzFkNjdjNDljMTAwZDRjXCIsXCIweDRjYzVkNGJlY2IzZTQyYjZcIixcIjB4NTk3ZjI5OWNmYzY1N2UyYVwiLFwiMHg1ZmNiNmZhYjNhZDZmYWVjXCIsXCIweDZjNDQxOThjNGE0NzU4MTdcIl0ubWFwKHQ9PkJpZ0ludCh0KSkpLGRjPUZyWzBdLGhjPUZyWzFdLFR0PW5ldyBVaW50MzJBcnJheSg4MCksQ3Q9bmV3IFVpbnQzMkFycmF5KDgwKTtjbGFzcyBkbiBleHRlbmRzIHFye2NvbnN0cnVjdG9yKGU9NjQpe3N1cGVyKDEyOCxlLDE2LCExKSx0aGlzLkFoPUpbMF18MCx0aGlzLkFsPUpbMV18MCx0aGlzLkJoPUpbMl18MCx0aGlzLkJsPUpbM118MCx0aGlzLkNoPUpbNF18MCx0aGlzLkNsPUpbNV18MCx0aGlzLkRoPUpbNl18MCx0aGlzLkRsPUpbN118MCx0aGlzLkVoPUpbOF18MCx0aGlzLkVsPUpbOV18MCx0aGlzLkZoPUpbMTBdfDAsdGhpcy5GbD1KWzExXXwwLHRoaXMuR2g9SlsxMl18MCx0aGlzLkdsPUpbMTNdfDAsdGhpcy5IaD1KWzE0XXwwLHRoaXMuSGw9SlsxNV18MH1nZXQoKXtjb25zdHtBaDplLEFsOm4sQmg6cixCbDpvLENoOnMsQ2w6aSxEaDpjLERsOmYsRWg6dSxFbDphLEZoOmwsRmw6ZCxHaDpoLEdsOnksSGg6bSxIbDp2fT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGYsdSxhLGwsZCxoLHksbSx2XX1zZXQoZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdil7dGhpcy5BaD1lfDAsdGhpcy5BbD1ufDAsdGhpcy5CaD1yfDAsdGhpcy5CbD1vfDAsdGhpcy5DaD1zfDAsdGhpcy5DbD1pfDAsdGhpcy5EaD1jfDAsdGhpcy5EbD1mfDAsdGhpcy5FaD11fDAsdGhpcy5FbD1hfDAsdGhpcy5GaD1sfDAsdGhpcy5GbD1kfDAsdGhpcy5HaD1ofDAsdGhpcy5HbD15fDAsdGhpcy5IaD1tfDAsdGhpcy5IbD12fDB9cHJvY2VzcyhlLG4pe2ZvcihsZXQgUj0wO1I8MTY7UisrLG4rPTQpVHRbUl09ZS5nZXRVaW50MzIobiksQ3RbUl09ZS5nZXRVaW50MzIobis9NCk7Zm9yKGxldCBSPTE2O1I8ODA7UisrKXtjb25zdCBaPVR0W1ItMTVdfDAsSD1DdFtSLTE1XXwwLGo9U3QoWixILDEpXlN0KFosSCw4KV5ScihaLEgsNyksTD1PdChaLEgsMSleT3QoWixILDgpXiRyKFosSCw3KSxrPVR0W1ItMl18MCxPPUN0W1ItMl18MCxUPVN0KGssTywxOSleZGUoayxPLDYxKV5ScihrLE8sNiksQz1PdChrLE8sMTkpXmhlKGssTyw2MSleJHIoayxPLDYpLF89cWkoTCxDLEN0W1ItN10sQ3RbUi0xNl0pLHA9RmkoXyxqLFQsVHRbUi03XSxUdFtSLTE2XSk7VHRbUl09cHwwLEN0W1JdPV98MH1sZXR7QWg6cixBbDpvLEJoOnMsQmw6aSxDaDpjLENsOmYsRGg6dSxEbDphLEVoOmwsRWw6ZCxGaDpoLEZsOnksR2g6bSxHbDp2LEhoOlUsSGw6Rn09dGhpcztmb3IobGV0IFI9MDtSPDgwO1IrKyl7Y29uc3QgWj1TdChsLGQsMTQpXlN0KGwsZCwxOCleZGUobCxkLDQxKSxIPU90KGwsZCwxNCleT3QobCxkLDE4KV5oZShsLGQsNDEpLGo9bCZoXn5sJm0sTD1kJnlefmQmdixrPVppKEYsSCxMLGhjW1JdLEN0W1JdKSxPPUdpKGssVSxaLGosZGNbUl0sVHRbUl0pLFQ9a3wwLEM9U3QocixvLDI4KV5kZShyLG8sMzQpXmRlKHIsbywzOSksXz1PdChyLG8sMjgpXmhlKHIsbywzNCleaGUocixvLDM5KSxwPXImc15yJmNecyZjLGI9byZpXm8mZl5pJmY7VT1tfDAsRj12fDAsbT1ofDAsdj15fDAsaD1sfDAseT1kfDAse2g6bCxsOmR9PWR0KHV8MCxhfDAsT3wwLFR8MCksdT1jfDAsYT1mfDAsYz1zfDAsZj1pfDAscz1yfDAsaT1vfDA7Y29uc3QgZz1mbihULF8sYik7cj1hbihnLE8sQyxwKSxvPWd8MH0oe2g6cixsOm99PWR0KHRoaXMuQWh8MCx0aGlzLkFsfDAscnwwLG98MCkpLHtoOnMsbDppfT1kdCh0aGlzLkJofDAsdGhpcy5CbHwwLHN8MCxpfDApLHtoOmMsbDpmfT1kdCh0aGlzLkNofDAsdGhpcy5DbHwwLGN8MCxmfDApLHtoOnUsbDphfT1kdCh0aGlzLkRofDAsdGhpcy5EbHwwLHV8MCxhfDApLHtoOmwsbDpkfT1kdCh0aGlzLkVofDAsdGhpcy5FbHwwLGx8MCxkfDApLHtoLGw6eX09ZHQodGhpcy5GaHwwLHRoaXMuRmx8MCxofDAseXwwKSx7aDptLGw6dn09ZHQodGhpcy5HaHwwLHRoaXMuR2x8MCxtfDAsdnwwKSx7aDpVLGw6Rn09ZHQodGhpcy5IaHwwLHRoaXMuSGx8MCxVfDAsRnwwKSx0aGlzLnNldChyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYsVSxGKX1yb3VuZENsZWFuKCl7bHQoVHQsQ3QpfWRlc3Ryb3koKXtsdCh0aGlzLmJ1ZmZlciksdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCl9fWNsYXNzIHBjIGV4dGVuZHMgZG57Y29uc3RydWN0b3IoKXtzdXBlcig0OCksdGhpcy5BaD1YWzBdfDAsdGhpcy5BbD1YWzFdfDAsdGhpcy5CaD1YWzJdfDAsdGhpcy5CbD1YWzNdfDAsdGhpcy5DaD1YWzRdfDAsdGhpcy5DbD1YWzVdfDAsdGhpcy5EaD1YWzZdfDAsdGhpcy5EbD1YWzddfDAsdGhpcy5FaD1YWzhdfDAsdGhpcy5FbD1YWzldfDAsdGhpcy5GaD1YWzEwXXwwLHRoaXMuRmw9WFsxMV18MCx0aGlzLkdoPVhbMTJdfDAsdGhpcy5HbD1YWzEzXXwwLHRoaXMuSGg9WFsxNF18MCx0aGlzLkhsPVhbMTVdfDB9fWNvbnN0IFE9VWludDMyQXJyYXkuZnJvbShbNTczNjQ1MjA0LDQyMzA3Mzk3NTYsMjY3MzE3MjM4NywzMzYwNDQ5NzMwLDU5Njg4MzU2MywxODY3NzU1ODU3LDI1MjAyODI5MDUsMTQ5NzQyNjYyMSwyNTE5MjE5OTM4LDI4Mjc5NDM5MDcsMzE5MzgzOTE0MSwxNDAxMzA1NDkwLDcyMTUyNTI0NCw3NDY5NjEwNjYsMjQ2ODg1ODUyLDIxNzcxODI4ODJdKTtjbGFzcyBnYyBleHRlbmRzIGRue2NvbnN0cnVjdG9yKCl7c3VwZXIoMzIpLHRoaXMuQWg9UVswXXwwLHRoaXMuQWw9UVsxXXwwLHRoaXMuQmg9UVsyXXwwLHRoaXMuQmw9UVszXXwwLHRoaXMuQ2g9UVs0XXwwLHRoaXMuQ2w9UVs1XXwwLHRoaXMuRGg9UVs2XXwwLHRoaXMuRGw9UVs3XXwwLHRoaXMuRWg9UVs4XXwwLHRoaXMuRWw9UVs5XXwwLHRoaXMuRmg9UVsxMF18MCx0aGlzLkZsPVFbMTFdfDAsdGhpcy5HaD1RWzEyXXwwLHRoaXMuR2w9UVsxM118MCx0aGlzLkhoPVFbMTRdfDAsdGhpcy5IbD1RWzE1XXwwfX1jb25zdCAkZT1nZSgoKT0+bmV3IGxjKSxiYz1nZSgoKT0+bmV3IGRuKSx5Yz1nZSgoKT0+bmV3IHBjKSxtYz1nZSgoKT0+bmV3IGdjKSx3Yz1VaW50OEFycmF5LmZyb20oWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTQsMTAsNCw4LDksMTUsMTMsNiwxLDEyLDAsMiwxMSw3LDUsMywxMSw4LDEyLDAsNSwyLDE1LDEzLDEwLDE0LDMsNiw3LDEsOSw0LDcsOSwzLDEsMTMsMTIsMTEsMTQsMiw2LDUsMTAsNCwwLDE1LDgsOSwwLDUsNywyLDQsMTAsMTUsMTQsMSwxMSwxMiw2LDgsMywxMywyLDEyLDYsMTAsMCwxMSw4LDMsNCwxMyw3LDUsMTUsMTQsMSw5LDEyLDUsMSwxNSwxNCwxMyw0LDEwLDAsNyw2LDMsOSwyLDgsMTEsMTMsMTEsNywxNCwxMiwxLDMsOSw1LDAsMTUsNCw4LDYsMiwxMCw2LDE1LDE0LDksMTEsMywwLDgsMTIsMiwxMyw3LDEsNCwxMCw1LDEwLDIsOCw0LDcsNiwxLDUsMTUsMTEsOSwxNCwzLDEyLDEzLDAsMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNCwxMCw0LDgsOSwxNSwxMyw2LDEsMTIsMCwyLDExLDcsNSwzLDExLDgsMTIsMCw1LDIsMTUsMTMsMTAsMTQsMyw2LDcsMSw5LDQsNyw5LDMsMSwxMywxMiwxMSwxNCwyLDYsNSwxMCw0LDAsMTUsOCw5LDAsNSw3LDIsNCwxMCwxNSwxNCwxLDExLDEyLDYsOCwzLDEzLDIsMTIsNiwxMCwwLDExLDgsMyw0LDEzLDcsNSwxNSwxNCwxLDldKSx6PVVpbnQzMkFycmF5LmZyb20oWzQwODkyMzU3MjAsMTc3OTAzMzcwMywyMjI3ODczNTk1LDMxNDQxMzQyNzcsNDI3MTE3NTcyMywxMDEzOTA0MjQyLDE1OTU3NTAxMjksMjc3MzQ4MDc2MiwyOTE3NTY1MTM3LDEzNTk4OTMxMTksNzI1NTExMTk5LDI2MDA4MjI5MjQsNDIxNTM4OTU0Nyw1Mjg3MzQ2MzUsMzI3MDMzMjA5LDE1NDE0NTkyMjVdKSxTPW5ldyBVaW50MzJBcnJheSgzMik7ZnVuY3Rpb24ganQodCxlLG4scixvLHMpe2NvbnN0IGk9b1tzXSxjPW9bcysxXTtsZXQgZj1TWzIqdF0sdT1TWzIqdCsxXSxhPVNbMiplXSxsPVNbMiplKzFdLGQ9U1syKm5dLGg9U1syKm4rMV0seT1TWzIqcl0sbT1TWzIqcisxXSx2PWZuKGYsYSxpKTt1PWFuKHYsdSxsLGMpLGY9dnwwLHtEaDptLERsOnl9PXtEaDptXnUsRGw6eV5mfSx7RGg6bSxEbDp5fT17RGg6UGkobSx5KSxEbDpIaShtKX0se2gsbDpkfT1kdChoLGQsbSx5KSx7Qmg6bCxCbDphfT17Qmg6bF5oLEJsOmFeZH0se0JoOmwsQmw6YX09e0JoOlN0KGwsYSwyNCksQmw6T3QobCxhLDI0KX0sU1syKnRdPWYsU1syKnQrMV09dSxTWzIqZV09YSxTWzIqZSsxXT1sLFNbMipuXT1kLFNbMipuKzFdPWgsU1syKnJdPXksU1syKnIrMV09bX1mdW5jdGlvbiBMdCh0LGUsbixyLG8scyl7Y29uc3QgaT1vW3NdLGM9b1tzKzFdO2xldCBmPVNbMip0XSx1PVNbMip0KzFdLGE9U1syKmVdLGw9U1syKmUrMV0sZD1TWzIqbl0saD1TWzIqbisxXSx5PVNbMipyXSxtPVNbMipyKzFdLHY9Zm4oZixhLGkpO3U9YW4odix1LGwsYyksZj12fDAse0RoOm0sRGw6eX09e0RoOm1edSxEbDp5XmZ9LHtEaDptLERsOnl9PXtEaDpTdChtLHksMTYpLERsOk90KG0seSwxNil9LHtoLGw6ZH09ZHQoaCxkLG0seSkse0JoOmwsQmw6YX09e0JoOmxeaCxCbDphXmR9LHtCaDpsLEJsOmF9PXtCaDpkZShsLGEsNjMpLEJsOmhlKGwsYSw2Myl9LFNbMip0XT1mLFNbMip0KzFdPXUsU1syKmVdPWEsU1syKmUrMV09bCxTWzIqbl09ZCxTWzIqbisxXT1oLFNbMipyXT15LFNbMipyKzFdPW19ZnVuY3Rpb24gdmModCxlPXt9LG4scixvKXtpZihtdChuKSx0PDB8fHQ+bil0aHJvdyBuZXcgRXJyb3IoXCJvdXRwdXRMZW4gYmlnZ2VyIHRoYW4ga2V5TGVuXCIpO2NvbnN0e2tleTpzLHNhbHQ6aSxwZXJzb25hbGl6YXRpb246Y309ZTtpZihzIT09dm9pZCAwJiYocy5sZW5ndGg8MXx8cy5sZW5ndGg+bikpdGhyb3cgbmV3IEVycm9yKFwia2V5IGxlbmd0aCBtdXN0IGJlIHVuZGVmaW5lZCBvciAxLi5cIituKTtpZihpIT09dm9pZCAwJiZpLmxlbmd0aCE9PXIpdGhyb3cgbmV3IEVycm9yKFwic2FsdCBtdXN0IGJlIHVuZGVmaW5lZCBvciBcIityKTtpZihjIT09dm9pZCAwJiZjLmxlbmd0aCE9PW8pdGhyb3cgbmV3IEVycm9yKFwicGVyc29uYWxpemF0aW9uIG11c3QgYmUgdW5kZWZpbmVkIG9yIFwiK28pfWNsYXNzIHhjIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLG10KGUpLG10KG4pLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLHRoaXMuYnVmZmVyMzI9cGUodGhpcy5idWZmZXIpfXVwZGF0ZShlKXtOdCh0aGlzKSxlPXB0KGUpLGh0KGUpO2NvbnN0e2Jsb2NrTGVuOm4sYnVmZmVyOnIsYnVmZmVyMzI6b309dGhpcyxzPWUubGVuZ3RoLGk9ZS5ieXRlT2Zmc2V0LGM9ZS5idWZmZXI7Zm9yKGxldCBmPTA7ZjxzOyl7dGhpcy5wb3M9PT1uJiYoVXQobyksdGhpcy5jb21wcmVzcyhvLDAsITEpLFV0KG8pLHRoaXMucG9zPTApO2NvbnN0IHU9TWF0aC5taW4obi10aGlzLnBvcyxzLWYpLGE9aStmO2lmKHU9PT1uJiYhKGElNCkmJmYrdTxzKXtjb25zdCBsPW5ldyBVaW50MzJBcnJheShjLGEsTWF0aC5mbG9vcigocy1mKS80KSk7VXQobCk7Zm9yKGxldCBkPTA7ZituPHM7ZCs9by5sZW5ndGgsZis9bil0aGlzLmxlbmd0aCs9bix0aGlzLmNvbXByZXNzKGwsZCwhMSk7VXQobCk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShmLGYrdSksdGhpcy5wb3MpLHRoaXMucG9zKz11LHRoaXMubGVuZ3RoKz11LGYrPXV9cmV0dXJuIHRoaXN9ZGlnZXN0SW50byhlKXtOdCh0aGlzKSx1bihlLHRoaXMpO2NvbnN0e3BvczpuLGJ1ZmZlcjMyOnJ9PXRoaXM7dGhpcy5maW5pc2hlZD0hMCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShuKSksVXQociksdGhpcy5jb21wcmVzcyhyLDAsITApLFV0KHIpO2NvbnN0IG89cGUoZSk7dGhpcy5nZXQoKS5mb3JFYWNoKChzLGkpPT5vW2ldPXd0KHMpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtjb25zdHtidWZmZXI6bixsZW5ndGg6cixmaW5pc2hlZDpvLGRlc3Ryb3llZDpzLG91dHB1dExlbjppLHBvczpjfT10aGlzO3JldHVybiBlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih7ZGtMZW46aX0pKSxlLnNldCguLi50aGlzLmdldCgpKSxlLmJ1ZmZlci5zZXQobiksZS5kZXN0cm95ZWQ9cyxlLmZpbmlzaGVkPW8sZS5sZW5ndGg9cixlLnBvcz1jLGUub3V0cHV0TGVuPWksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y2xhc3MgRWMgZXh0ZW5kcyB4Y3tjb25zdHJ1Y3RvcihlPXt9KXtjb25zdCBuPWUuZGtMZW49PT12b2lkIDA/NjQ6ZS5ka0xlbjtzdXBlcigxMjgsbiksdGhpcy52MGw9elswXXwwLHRoaXMudjBoPXpbMV18MCx0aGlzLnYxbD16WzJdfDAsdGhpcy52MWg9elszXXwwLHRoaXMudjJsPXpbNF18MCx0aGlzLnYyaD16WzVdfDAsdGhpcy52M2w9els2XXwwLHRoaXMudjNoPXpbN118MCx0aGlzLnY0bD16WzhdfDAsdGhpcy52NGg9els5XXwwLHRoaXMudjVsPXpbMTBdfDAsdGhpcy52NWg9elsxMV18MCx0aGlzLnY2bD16WzEyXXwwLHRoaXMudjZoPXpbMTNdfDAsdGhpcy52N2w9elsxNF18MCx0aGlzLnY3aD16WzE1XXwwLHZjKG4sZSw2NCwxNiwxNik7bGV0e2tleTpyLHBlcnNvbmFsaXphdGlvbjpvLHNhbHQ6c309ZSxpPTA7aWYociE9PXZvaWQgMCYmKHI9cHQociksaT1yLmxlbmd0aCksdGhpcy52MGxePXRoaXMub3V0cHV0TGVufGk8PDh8NjU1MzZ8MTw8MjQscyE9PXZvaWQgMCl7cz1wdChzKTtjb25zdCBjPXBlKHMpO3RoaXMudjRsXj13dChjWzBdKSx0aGlzLnY0aF49d3QoY1sxXSksdGhpcy52NWxePXd0KGNbMl0pLHRoaXMudjVoXj13dChjWzNdKX1pZihvIT09dm9pZCAwKXtvPXB0KG8pO2NvbnN0IGM9cGUobyk7dGhpcy52NmxePXd0KGNbMF0pLHRoaXMudjZoXj13dChjWzFdKSx0aGlzLnY3bF49d3QoY1syXSksdGhpcy52N2hePXd0KGNbM10pfWlmKHIhPT12b2lkIDApe2NvbnN0IGM9bmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja0xlbik7Yy5zZXQociksdGhpcy51cGRhdGUoYyl9fWdldCgpe2xldHt2MGw6ZSx2MGg6bix2MWw6cix2MWg6byx2Mmw6cyx2Mmg6aSx2M2w6Yyx2M2g6Zix2NGw6dSx2NGg6YSx2NWw6bCx2NWg6ZCx2Nmw6aCx2Nmg6eSx2N2w6bSx2N2g6dn09dGhpcztyZXR1cm5bZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdl19c2V0KGUsbixyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYpe3RoaXMudjBsPWV8MCx0aGlzLnYwaD1ufDAsdGhpcy52MWw9cnwwLHRoaXMudjFoPW98MCx0aGlzLnYybD1zfDAsdGhpcy52Mmg9aXwwLHRoaXMudjNsPWN8MCx0aGlzLnYzaD1mfDAsdGhpcy52NGw9dXwwLHRoaXMudjRoPWF8MCx0aGlzLnY1bD1sfDAsdGhpcy52NWg9ZHwwLHRoaXMudjZsPWh8MCx0aGlzLnY2aD15fDAsdGhpcy52N2w9bXwwLHRoaXMudjdoPXZ8MH1jb21wcmVzcyhlLG4scil7dGhpcy5nZXQoKS5mb3JFYWNoKChmLHUpPT5TW3VdPWYpLFMuc2V0KHosMTYpO2xldHtoOm8sbDpzfT1VcihCaWdJbnQodGhpcy5sZW5ndGgpKTtTWzI0XT16WzhdXnMsU1syNV09els5XV5vLHImJihTWzI4XT1+U1syOF0sU1syOV09flNbMjldKTtsZXQgaT0wO2NvbnN0IGM9d2M7Zm9yKGxldCBmPTA7ZjwxMjtmKyspanQoMCw0LDgsMTIsZSxuKzIqY1tpKytdKSxMdCgwLDQsOCwxMixlLG4rMipjW2krK10pLGp0KDEsNSw5LDEzLGUsbisyKmNbaSsrXSksTHQoMSw1LDksMTMsZSxuKzIqY1tpKytdKSxqdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxMdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxqdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxMdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxqdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxMdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxqdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxMdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxqdCgyLDcsOCwxMyxlLG4rMipjW2krK10pLEx0KDIsNyw4LDEzLGUsbisyKmNbaSsrXSksanQoMyw0LDksMTQsZSxuKzIqY1tpKytdKSxMdCgzLDQsOSwxNCxlLG4rMipjW2krK10pO3RoaXMudjBsXj1TWzBdXlNbMTZdLHRoaXMudjBoXj1TWzFdXlNbMTddLHRoaXMudjFsXj1TWzJdXlNbMThdLHRoaXMudjFoXj1TWzNdXlNbMTldLHRoaXMudjJsXj1TWzRdXlNbMjBdLHRoaXMudjJoXj1TWzVdXlNbMjFdLHRoaXMudjNsXj1TWzZdXlNbMjJdLHRoaXMudjNoXj1TWzddXlNbMjNdLHRoaXMudjRsXj1TWzhdXlNbMjRdLHRoaXMudjRoXj1TWzldXlNbMjVdLHRoaXMudjVsXj1TWzEwXV5TWzI2XSx0aGlzLnY1aF49U1sxMV1eU1syN10sdGhpcy52NmxePVNbMTJdXlNbMjhdLHRoaXMudjZoXj1TWzEzXV5TWzI5XSx0aGlzLnY3bF49U1sxNF1eU1szMF0sdGhpcy52N2hePVNbMTVdXlNbMzFdLGx0KFMpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCxsdCh0aGlzLmJ1ZmZlcjMyKSx0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKX19Y29uc3QgQmM9V2kodD0+bmV3IEVjKHQpKSxBYz1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxXCI7ZnVuY3Rpb24gaG4odCl7Y29uc3QgZT1gXHUwMDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4ke3QubGVuZ3RofWAsbj1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZSt0KTtyZXR1cm5cIjB4XCIrQnVmZmVyLmZyb20oaWMobikpLnRvU3RyaW5nKFwiaGV4XCIpfWFzeW5jIGZ1bmN0aW9uIFpyKHQsZSxuLHIsbyxzKXtzd2l0Y2gobi50KXtjYXNlXCJlaXAxOTFcIjpyZXR1cm4gYXdhaXQgR3IodCxlLG4ucyk7Y2FzZVwiZWlwMTI3MVwiOnJldHVybiBhd2FpdCB6cih0LGUsbi5zLHIsbyxzKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdmVyaWZ5U2lnbmF0dXJlIGZhaWxlZDogQXR0ZW1wdGVkIHRvIHZlcmlmeSBDYWNhb1NpZ25hdHVyZSB3aXRoIHVua25vd24gdHlwZTogJHtuLnR9YCl9fWZ1bmN0aW9uIEdyKHQsZSxuKXtjb25zdCByPVZzLmZyb21IZXgobik7cmV0dXJuIE1zLnJlY292ZXJBZGRyZXNzKHtwYXlsb2FkOmhuKGUpLHNpZ25hdHVyZTpyfSkudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1hc3luYyBmdW5jdGlvbiB6cih0LGUsbixyLG8scyl7Y29uc3QgaT1KZShyKTtpZighaS5uYW1lc3BhY2V8fCFpLnJlZmVyZW5jZSl0aHJvdyBuZXcgRXJyb3IoYGlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlIGZhaWxlZDogY2hhaW5JZCBtdXN0IGJlIGluIENBSVAtMiBmb3JtYXQsIHJlY2VpdmVkOiAke3J9YCk7dHJ5e2NvbnN0IGM9XCIweDE2MjZiYTdlXCIsZj1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBcIix1PW4uc3Vic3RyaW5nKDIpLGE9KHUubGVuZ3RoLzIpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2NCxcIjBcIiksbD0oZS5zdGFydHNXaXRoKFwiMHhcIik/ZTpobihlKSkuc3Vic3RyaW5nKDIpLGQ9YytsK2YrYSt1LGg9YXdhaXQgZmV0Y2goYCR7c3x8QWN9Lz9jaGFpbklkPSR7cn0mcHJvamVjdElkPSR7b31gLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxtZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeSh7aWQ6SWMoKSxqc29ucnBjOlwiMi4wXCIsbWV0aG9kOlwiZXRoX2NhbGxcIixwYXJhbXM6W3t0bzp0LGRhdGE6ZH0sXCJsYXRlc3RcIl19KX0pLHtyZXN1bHQ6eX09YXdhaXQgaC5qc29uKCk7cmV0dXJuIHk/eS5zbGljZSgwLGMubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09Yy50b0xvd2VyQ2FzZSgpOiExfWNhdGNoKGMpe3JldHVybiBjb25zb2xlLmVycm9yKFwiaXNWYWxpZEVpcDEyNzFTaWduYXR1cmU6IFwiLGMpLCExfX1mdW5jdGlvbiBJYygpe3JldHVybiBEYXRlLm5vdygpK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTMpfWZ1bmN0aW9uIFNjKHQpe2NvbnN0IGU9YXRvYih0KSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyluW2ldPWUuY2hhckNvZGVBdChpKTtjb25zdCByPW5bMF07aWYocj09PTApdGhyb3cgbmV3IEVycm9yKFwiTm8gc2lnbmF0dXJlcyBmb3VuZFwiKTtjb25zdCBvPTErcio2NDtpZihuLmxlbmd0aDxvKXRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGRhdGEgdG9vIHNob3J0IGZvciBjbGFpbWVkIHNpZ25hdHVyZSBjb3VudFwiKTtpZihuLmxlbmd0aDwxMDApdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdG9vIHNob3J0XCIpO2NvbnN0IHM9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS5zbGljZSgxLDY1KTtyZXR1cm4gdWUuZW5jb2RlKHMpfWZ1bmN0aW9uIE9jKHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKSksbj1BcnJheS5mcm9tKFwiVHJhbnNhY3Rpb25EYXRhOjpcIikubWFwKHM9PnMuY2hhckNvZGVBdCgwKSkscj1uZXcgVWludDhBcnJheShuLmxlbmd0aCtlLmxlbmd0aCk7ci5zZXQobiksci5zZXQoZSxuLmxlbmd0aCk7Y29uc3Qgbz1CYyhyLHtka0xlbjozMn0pO3JldHVybiB1ZS5lbmNvZGUobyl9ZnVuY3Rpb24gTmModCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSgkZShZcih0KSkpO3JldHVybiB1ZS5lbmNvZGUoZSl9ZnVuY3Rpb24gWXIodCl7aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQhPW51bGwmJnQuZGF0YSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0LmRhdGEpKTtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0KSk7dGhyb3cgbmV3IEVycm9yKFwiZ2V0TmVhclVpbnQ4QXJyYXlGcm9tQnl0ZXM6IFVuZXhwZWN0ZWQgcmVzdWx0IHR5cGUgZnJvbSBieXRlcyBhcnJheVwiKX1mdW5jdGlvbiBVYyh0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIiksbj1LcyhlKS50eG47aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduZWQgdHJhbnNhY3Rpb246IG1pc3NpbmcgJ3R4bicgZmllbGRcIik7Y29uc3Qgcj1xcyhuKSxvPUJ1ZmZlci5mcm9tKFwiVFhcIikscz1CdWZmZXIuY29uY2F0KFtvLEJ1ZmZlci5mcm9tKHIpXSksaT1tYyhzKTtyZXR1cm4gRnMuZW5jb2RlKGkpLnJlcGxhY2UoLz0rJC8sXCJcIil9ZnVuY3Rpb24gcG4odCl7Y29uc3QgZT1bXTtsZXQgbj1CaWdJbnQodCk7Zm9yKDtuPj1CaWdJbnQoMTI4KTspZS5wdXNoKE51bWJlcihuJkJpZ0ludCgxMjcpfEJpZ0ludCgxMjgpKSksbj4+PUJpZ0ludCg3KTtyZXR1cm4gZS5wdXNoKE51bWJlcihuKSksQnVmZmVyLmZyb20oZSl9ZnVuY3Rpb24gX2ModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LnNpZ25lZC5ib2R5Qnl0ZXMsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnNpZ25lZC5hdXRoSW5mb0J5dGVzLFwiYmFzZTY0XCIpLHI9QnVmZmVyLmZyb20odC5zaWduYXR1cmUuc2lnbmF0dXJlLFwiYmFzZTY0XCIpLG89W107by5wdXNoKEJ1ZmZlci5mcm9tKFsxMF0pKSxvLnB1c2gocG4oZS5sZW5ndGgpKSxvLnB1c2goZSksby5wdXNoKEJ1ZmZlci5mcm9tKFsxOF0pKSxvLnB1c2gocG4obi5sZW5ndGgpKSxvLnB1c2gobiksby5wdXNoKEJ1ZmZlci5mcm9tKFsyNl0pKSxvLnB1c2gocG4oci5sZW5ndGgpKSxvLnB1c2gocik7Y29uc3Qgcz1CdWZmZXIuY29uY2F0KG8pLGk9JGUocyk7cmV0dXJuIEJ1ZmZlci5mcm9tKGkpLnRvU3RyaW5nKFwiaGV4XCIpLnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gUmModCl7dmFyIGUsbjtjb25zdCByPVtdO3RyeXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gci5wdXNoKHQpLHI7aWYodHlwZW9mIHQhPVwib2JqZWN0XCIpcmV0dXJuIHI7dCE9bnVsbCYmdC5pZCYmci5wdXNoKHQuaWQpO2NvbnN0IG89KG49KGU9dD8uY2FwYWJpbGl0aWVzKT09bnVsbD92b2lkIDA6ZS5jYWlwMzQ1KT09bnVsbD92b2lkIDA6bi50cmFuc2FjdGlvbkhhc2hlcztvJiZyLnB1c2goLi4ubyl9Y2F0Y2gobyl7Y29uc29sZS53YXJuKFwiZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzIGZhaWxlZDogXCIsbyl9cmV0dXJuIHJ9dmFyICRjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxUYz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxDYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxXcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGpjPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTGM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYcj0odCxlLG4pPT5lIGluIHQ/JGModCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6dFtlXT1uLGduPSh0LGUpPT57Zm9yKHZhciBuIGluIGV8fChlPXt9KSlqYy5jYWxsKGUsbikmJlhyKHQsbixlW25dKTtpZihXcilmb3IodmFyIG4gb2YgV3IoZSkpTGMuY2FsbChlLG4pJiZYcih0LG4sZVtuXSk7cmV0dXJuIHR9LEpyPSh0LGUpPT5UYyh0LENjKGUpKTtjb25zdCBrYz1cImRpZDpwa2g6XCIsVGU9dD0+dD8uc3BsaXQoXCI6XCIpLFFyPXQ9Pntjb25zdCBlPXQmJlRlKHQpO2lmKGUpcmV0dXJuIHQuaW5jbHVkZXMoa2MpP2VbM106ZVsxXX0sdG89dD0+e2NvbnN0IGU9dCYmVGUodCk7aWYoZSlyZXR1cm4gZVsyXStcIjpcIitlWzNdfSxibj10PT57Y29uc3QgZT10JiZUZSh0KTtpZihlKXJldHVybiBlLnBvcCgpfTthc3luYyBmdW5jdGlvbiBQYyh0KXtjb25zdHtjYWNhbzplLHByb2plY3RJZDpufT10LHtzOnIscDpvfT1lLHM9ZW8obyxvLmlzcyksaT1ibihvLmlzcyk7cmV0dXJuIGF3YWl0IFpyKGkscyxyLHRvKG8uaXNzKSxuKX1jb25zdCBlbz0odCxlKT0+e2NvbnN0IG49YCR7dC5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciBFdGhlcmV1bSBhY2NvdW50OmAscj1ibihlKTtpZighdC5hdWQmJiF0LnVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgYGF1ZGAgb3IgYHVyaWAgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IHRoZSBtZXNzYWdlXCIpO2xldCBvPXQuc3RhdGVtZW50fHx2b2lkIDA7Y29uc3Qgcz1gVVJJOiAke3QuYXVkfHx0LnVyaX1gLGk9YFZlcnNpb246ICR7dC52ZXJzaW9ufWAsYz1gQ2hhaW4gSUQ6ICR7UXIoZSl9YCxmPWBOb25jZTogJHt0Lm5vbmNlfWAsdT1gSXNzdWVkIEF0OiAke3QuaWF0fWAsYT10LmV4cD9gRXhwaXJhdGlvbiBUaW1lOiAke3QuZXhwfWA6dm9pZCAwLGw9dC5uYmY/YE5vdCBCZWZvcmU6ICR7dC5uYmZ9YDp2b2lkIDAsZD10LnJlcXVlc3RJZD9gUmVxdWVzdCBJRDogJHt0LnJlcXVlc3RJZH1gOnZvaWQgMCxoPXQucmVzb3VyY2VzP2BSZXNvdXJjZXM6JHt0LnJlc291cmNlcy5tYXAobT0+YFxuLSAke219YCkuam9pbihcIlwiKX1gOnZvaWQgMCx5PWplKHQucmVzb3VyY2VzKTtpZih5KXtjb25zdCBtPWt0KHkpO289d24obyxtKX1yZXR1cm5bbixyLFwiXCIsbyxcIlwiLHMsaSxjLGYsdSxhLGwsZCxoXS5maWx0ZXIobT0+bSE9bnVsbCkuam9pbihgXG5gKX07ZnVuY3Rpb24gSGModCxlLG4pe3JldHVybiBuLmluY2x1ZGVzKFwiZGlkOnBraDpcIil8fChuPWBkaWQ6cGtoOiR7bn1gKSx7aDp7dDpcImNhaXAxMjJcIn0scDp7aXNzOm4sZG9tYWluOnQuZG9tYWluLGF1ZDp0LmF1ZCx2ZXJzaW9uOnQudmVyc2lvbixub25jZTp0Lm5vbmNlLGlhdDp0LmlhdCxzdGF0ZW1lbnQ6dC5zdGF0ZW1lbnQscmVxdWVzdElkOnQucmVxdWVzdElkLHJlc291cmNlczp0LnJlc291cmNlcyxuYmY6dC5uYmYsZXhwOnQuZXhwfSxzOmV9fWZ1bmN0aW9uIERjKHQpe3ZhciBlO2NvbnN0e2F1dGhQYXlsb2FkOm4sY2hhaW5zOnIsbWV0aG9kczpvfT10LHM9bi5zdGF0ZW1lbnR8fFwiXCI7aWYoIShyIT1udWxsJiZyLmxlbmd0aCkpcmV0dXJuIG47Y29uc3QgaT1uLmNoYWlucyxjPXNuKGkscik7aWYoIShjIT1udWxsJiZjLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VwcG9ydGVkIGNoYWluc1wiKTtjb25zdCBmPW5vKG4ucmVzb3VyY2VzKTtpZighZilyZXR1cm4gbjt5dChmKTtjb25zdCB1PXJvKGYsXCJlaXAxNTVcIik7bGV0IGE9bj8ucmVzb3VyY2VzfHxbXTtpZih1IT1udWxsJiZ1Lmxlbmd0aCl7Y29uc3QgbD1vbyh1KSxkPXNuKGwsbyk7aWYoIShkIT1udWxsJiZkLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKGBTdXBwb3J0ZWQgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IHRoZSByZXF1ZXN0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobCl9LCBzdXBwb3J0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobyl9YCk7Y29uc3QgaD15bihcInJlcXVlc3RcIixkLHtjaGFpbnM6Y30pLHk9Zm8oZixcImVpcDE1NVwiLGgpO2E9KChlPW4/LnJlc291cmNlcyk9PW51bGw/dm9pZCAwOmUuc2xpY2UoMCwtMSkpfHxbXSxhLnB1c2goQ2UoeSkpfXJldHVybiBKcihnbih7fSxuKSx7c3RhdGVtZW50OnVvKHMsamUoYSkpLGNoYWluczpjLHJlc291cmNlczpuIT1udWxsJiZuLnJlc291cmNlc3x8YS5sZW5ndGg+MD9hOnZvaWQgMH0pfWZ1bmN0aW9uIG5vKHQpe2NvbnN0IGU9amUodCk7aWYoZSYmbW4oZSkpcmV0dXJuIGt0KGUpfWZ1bmN0aW9uIFZjKHQsZSl7dmFyIG47cmV0dXJuKG49dD8uYXR0KT09bnVsbD92b2lkIDA6bi5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBybyh0LGUpe3ZhciBuLHI7cmV0dXJuKG49dD8uYXR0KSE9bnVsbCYmbltlXT9PYmplY3Qua2V5cygocj10Py5hdHQpPT1udWxsP3ZvaWQgMDpyW2VdKTpbXX1mdW5jdGlvbiBNYyh0KXtyZXR1cm4gdD8ubWFwKGU9Pk9iamVjdC5rZXlzKGUpKXx8W119ZnVuY3Rpb24gb28odCl7cmV0dXJuIHQ/Lm1hcChlPT57dmFyIG47cmV0dXJuKG49ZS5zcGxpdChcIi9cIikpPT1udWxsP3ZvaWQgMDpuWzFdfSl8fFtdfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh0KSkudG9TdHJpbmcoXCJiYXNlNjRcIil9ZnVuY3Rpb24gaW8odCl7cmV0dXJuIEpTT04ucGFyc2UoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpKX1mdW5jdGlvbiB5dCh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyByZWNhcCBwcm92aWRlZCwgdmFsdWUgaXMgdW5kZWZpbmVkXCIpO2lmKCF0LmF0dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBgYXR0YCBwcm9wZXJ0eSBmb3VuZFwiKTtjb25zdCBlPU9iamVjdC5rZXlzKHQuYXR0KTtpZighKGUhPW51bGwmJmUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNvdXJjZXMgZm91bmQgaW4gYGF0dGAgcHJvcGVydHlcIik7ZS5mb3JFYWNoKG49Pntjb25zdCByPXQuYXR0W25dO2lmKEFycmF5LmlzQXJyYXkocikpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBtdXN0IGJlIGFuIG9iamVjdDogJHtufWApO2lmKHR5cGVvZiByIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7bn1gKTtpZighT2JqZWN0LmtleXMocikubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2Ugb2JqZWN0IGlzIGVtcHR5OiAke259YCk7T2JqZWN0LmtleXMocikuZm9yRWFjaChvPT57Y29uc3Qgcz1yW29dO2lmKCFBcnJheS5pc0FycmF5KHMpKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgJHtvfSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke3N9YCk7aWYoIXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVmFsdWUgb2YgJHtvfSBpcyBlbXB0eSBhcnJheSwgbXVzdCBiZSBhbiBhcnJheSB3aXRoIG9iamVjdHNgKTtzLmZvckVhY2goaT0+e2lmKHR5cGVvZiBpIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgKCR7b30pIG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZm91bmQ6ICR7aX1gKX0pfSl9KX1mdW5jdGlvbiBjbyh0LGUsbixyPXt9KXtyZXR1cm4gbj8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKSx7YXR0OntbdF06eW4oZSxuLHIpfX19ZnVuY3Rpb24gZm8odCxlLG4pe3ZhciByO3QuYXR0W2VdPWduKHt9LG4pO2NvbnN0IG89KHI9T2JqZWN0LmtleXModC5hdHQpKT09bnVsbD92b2lkIDA6ci5zb3J0KChpLGMpPT5pLmxvY2FsZUNvbXBhcmUoYykpLHM9e2F0dDp7fX07cmV0dXJuIG8ucmVkdWNlKChpLGMpPT4oaS5hdHRbY109dC5hdHRbY10saSkscyl9ZnVuY3Rpb24geW4odCxlLG49e30pe2U9ZT8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKTtjb25zdCByPWUubWFwKG89Pih7W2Ake3R9LyR7b31gXTpbbl19KSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sLi4ucil9ZnVuY3Rpb24gQ2UodCl7cmV0dXJuIHl0KHQpLGB1cm46cmVjYXA6JHtzbyh0KS5yZXBsYWNlKC89L2csXCJcIil9YH1mdW5jdGlvbiBrdCh0KXtjb25zdCBlPWlvKHQucmVwbGFjZShcInVybjpyZWNhcDpcIixcIlwiKSk7cmV0dXJuIHl0KGUpLGV9ZnVuY3Rpb24gS2ModCxlLG4pe2NvbnN0IHI9Y28odCxlLG4pO3JldHVybiBDZShyKX1mdW5jdGlvbiBtbih0KXtyZXR1cm4gdCYmdC5pbmNsdWRlcyhcInVybjpyZWNhcDpcIil9ZnVuY3Rpb24gcWModCxlKXtjb25zdCBuPWt0KHQpLHI9a3QoZSksbz1hbyhuLHIpO3JldHVybiBDZShvKX1mdW5jdGlvbiBhbyh0LGUpe3l0KHQpLHl0KGUpO2NvbnN0IG49T2JqZWN0LmtleXModC5hdHQpLmNvbmNhdChPYmplY3Qua2V5cyhlLmF0dCkpLnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSkscj17YXR0Ont9fTtyZXR1cm4gbi5mb3JFYWNoKG89Pnt2YXIgcyxpO09iamVjdC5rZXlzKCgocz10LmF0dCk9PW51bGw/dm9pZCAwOnNbb10pfHx7fSkuY29uY2F0KE9iamVjdC5rZXlzKCgoaT1lLmF0dCk9PW51bGw/dm9pZCAwOmlbb10pfHx7fSkpLnNvcnQoKGMsZik9PmMubG9jYWxlQ29tcGFyZShmKSkuZm9yRWFjaChjPT57dmFyIGYsdTtyLmF0dFtvXT1Kcihnbih7fSxyLmF0dFtvXSkse1tjXTooKGY9dC5hdHRbb10pPT1udWxsP3ZvaWQgMDpmW2NdKXx8KCh1PWUuYXR0W29dKT09bnVsbD92b2lkIDA6dVtjXSl9KX0pfSkscn1mdW5jdGlvbiB3bih0PVwiXCIsZSl7eXQoZSk7Y29uc3Qgbj1cIkkgZnVydGhlciBhdXRob3JpemUgdGhlIHN0YXRlZCBVUkkgdG8gcGVyZm9ybSB0aGUgZm9sbG93aW5nIGFjdGlvbnMgb24gbXkgYmVoYWxmOiBcIjtpZih0LmluY2x1ZGVzKG4pKXJldHVybiB0O2NvbnN0IHI9W107bGV0IG89MDtPYmplY3Qua2V5cyhlLmF0dCkuZm9yRWFjaChjPT57Y29uc3QgZj1PYmplY3Qua2V5cyhlLmF0dFtjXSkubWFwKGw9Pih7YWJpbGl0eTpsLnNwbGl0KFwiL1wiKVswXSxhY3Rpb246bC5zcGxpdChcIi9cIilbMV19KSk7Zi5zb3J0KChsLGQpPT5sLmFjdGlvbi5sb2NhbGVDb21wYXJlKGQuYWN0aW9uKSk7Y29uc3QgdT17fTtmLmZvckVhY2gobD0+e3VbbC5hYmlsaXR5XXx8KHVbbC5hYmlsaXR5XT1bXSksdVtsLmFiaWxpdHldLnB1c2gobC5hY3Rpb24pfSk7Y29uc3QgYT1PYmplY3Qua2V5cyh1KS5tYXAobD0+KG8rKyxgKCR7b30pICcke2x9JzogJyR7dVtsXS5qb2luKFwiJywgJ1wiKX0nIGZvciAnJHtjfScuYCkpO3IucHVzaChhLmpvaW4oXCIsIFwiKS5yZXBsYWNlKFwiLixcIixcIi5cIikpfSk7Y29uc3Qgcz1yLmpvaW4oXCIgXCIpLGk9YCR7bn0ke3N9YDtyZXR1cm5gJHt0P3QrXCIgXCI6XCJcIn0ke2l9YH1mdW5jdGlvbiBGYyh0KXt2YXIgZTtjb25zdCBuPWt0KHQpO3l0KG4pO2NvbnN0IHI9KGU9bi5hdHQpPT1udWxsP3ZvaWQgMDplLmVpcDE1NTtyZXR1cm4gcj9PYmplY3Qua2V5cyhyKS5tYXAobz0+by5zcGxpdChcIi9cIilbMV0pOltdfWZ1bmN0aW9uIFpjKHQpe2NvbnN0IGU9a3QodCk7eXQoZSk7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhlLmF0dCkuZm9yRWFjaChyPT57T2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKG89Pnt2YXIgczsocz1vPy5bMF0pIT1udWxsJiZzLmNoYWlucyYmbi5wdXNoKG9bMF0uY2hhaW5zKX0pfSksWy4uLm5ldyBTZXQobi5mbGF0KCkpXX1mdW5jdGlvbiB1byh0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IG49a3QoZSk7cmV0dXJuIHl0KG4pLHduKHQsbil9ZnVuY3Rpb24gamUodCl7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dD8uW3QubGVuZ3RoLTFdO3JldHVybiBtbihlKT9lOnZvaWQgMH0vKiEgbm9ibGUtY2lwaGVycyAtIE1JVCBMaWNlbnNlIChjKSAyMDIzIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2Z1bmN0aW9uIGxvKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiB2bih0KXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHt0fWApfWZ1bmN0aW9uIHhuKHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBvdCh0LC4uLmUpe2lmKCFsbyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBobyh0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBHYyh0LGUpe290KHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCxNYXRoLmZsb29yKHQuYnl0ZUxlbmd0aC80KSl9ZnVuY3Rpb24gUXQoLi4udCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5maWxsKDApfWZ1bmN0aW9uIHpjKHQpe3JldHVybiBuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9Y29uc3QgWWM9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7ZnVuY3Rpb24gV2ModCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIEVuKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXQ9V2ModCk7ZWxzZSBpZihsbyh0KSl0PUJuKHQpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdH1mdW5jdGlvbiBYYyh0LGUpe2lmKGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBkZWZpbmVkXCIpO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSl9ZnVuY3Rpb24gSmModCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspbnw9dFtyXV5lW3JdO3JldHVybiBuPT09MH1jb25zdCBRYz0odCxlKT0+e2Z1bmN0aW9uIG4ociwuLi5vKXtpZihvdChyKSwhWWMpdGhyb3cgbmV3IEVycm9yKFwiTm9uIGxpdHRsZS1lbmRpYW4gaGFyZHdhcmUgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYodC5ub25jZUxlbmd0aCE9PXZvaWQgMCl7Y29uc3QgYT1vWzBdO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIC8gaXYgcmVxdWlyZWRcIik7dC52YXJTaXplTm9uY2U/b3QoYSk6b3QoYSx0Lm5vbmNlTGVuZ3RoKX1jb25zdCBzPXQudGFnTGVuZ3RoO3MmJm9bMV0hPT12b2lkIDAmJm90KG9bMV0pO2NvbnN0IGk9ZShyLC4uLm8pLGM9KGEsbCk9PntpZihsIT09dm9pZCAwKXtpZihhIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJjaXBoZXIgb3V0cHV0IG5vdCBzdXBwb3J0ZWRcIik7b3QobCl9fTtsZXQgZj0hMTtyZXR1cm57ZW5jcnlwdChhLGwpe2lmKGYpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuY3J5cHQoKSB0d2ljZSB3aXRoIHNhbWUga2V5ICsgbm9uY2VcIik7cmV0dXJuIGY9ITAsb3QoYSksYyhpLmVuY3J5cHQubGVuZ3RoLGwpLGkuZW5jcnlwdChhLGwpfSxkZWNyeXB0KGEsbCl7aWYob3QoYSkscyYmYS5sZW5ndGg8cyl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNpcGhlcnRleHQgbGVuZ3RoOiBzbWFsbGVyIHRoYW4gdGFnTGVuZ3RoPVwiK3MpO3JldHVybiBjKGkuZGVjcnlwdC5sZW5ndGgsbCksaS5kZWNyeXB0KGEsbCl9fX1yZXR1cm4gT2JqZWN0LmFzc2lnbihuLHQpLG59O2Z1bmN0aW9uIHBvKHQsZSxuPSEwKXtpZihlPT09dm9pZCAwKXJldHVybiBuZXcgVWludDhBcnJheSh0KTtpZihlLmxlbmd0aCE9PXQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQgbGVuZ3RoLCBleHBlY3RlZCBcIit0K1wiLCBnb3Q6IFwiK2UubGVuZ3RoKTtpZihuJiYhZWYoZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQsIG11c3QgYmUgYWxpZ25lZFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBnbyh0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxzPUJpZ0ludCg0Mjk0OTY3Mjk1KSxpPU51bWJlcihuPj5vJnMpLGM9TnVtYmVyKG4mcyksZj1yPzQ6MCx1PXI/MDo0O3Quc2V0VWludDMyKGUrZixpLHIpLHQuc2V0VWludDMyKGUrdSxjLHIpfWZ1bmN0aW9uIHRmKHQsZSxuKXt2bihuKTtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KSxvPXpjKHIpO3JldHVybiBnbyhvLDAsQmlnSW50KGUpLG4pLGdvKG8sOCxCaWdJbnQodCksbikscn1mdW5jdGlvbiBlZih0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWZ1bmN0aW9uIEJuKHQpe3JldHVybiBVaW50OEFycmF5LmZyb20odCl9Y29uc3QgYm89dD0+VWludDhBcnJheS5mcm9tKHQuc3BsaXQoXCJcIikubWFwKGU9PmUuY2hhckNvZGVBdCgwKSkpLG5mPWJvKFwiZXhwYW5kIDE2LWJ5dGUga1wiKSxyZj1ibyhcImV4cGFuZCAzMi1ieXRlIGtcIiksb2Y9UHQobmYpLHNmPVB0KHJmKTtmdW5jdGlvbiBLKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9ZnVuY3Rpb24gQW4odCl7cmV0dXJuIHQuYnl0ZU9mZnNldCU0PT09MH1jb25zdCBMZT02NCxjZj0xNix5bz0yKiozMi0xLG1vPW5ldyBVaW50MzJBcnJheTtmdW5jdGlvbiBmZih0LGUsbixyLG8scyxpLGMpe2NvbnN0IGY9by5sZW5ndGgsdT1uZXcgVWludDhBcnJheShMZSksYT1QdCh1KSxsPUFuKG8pJiZBbihzKSxkPWw/UHQobyk6bW8saD1sP1B0KHMpOm1vO2ZvcihsZXQgeT0wO3k8ZjtpKyspe2lmKHQoZSxuLHIsYSxpLGMpLGk+PXlvKXRocm93IG5ldyBFcnJvcihcImFyeDogY291bnRlciBvdmVyZmxvd1wiKTtjb25zdCBtPU1hdGgubWluKExlLGYteSk7aWYobCYmbT09PUxlKXtjb25zdCB2PXkvNDtpZih5JTQhPT0wKXRocm93IG5ldyBFcnJvcihcImFyeDogaW52YWxpZCBibG9jayBwb3NpdGlvblwiKTtmb3IobGV0IFU9MCxGO1U8Y2Y7VSsrKUY9ditVLGhbRl09ZFtGXV5hW1VdO3krPUxlO2NvbnRpbnVlfWZvcihsZXQgdj0wLFU7djxtO3YrKylVPXkrdixzW1VdPW9bVV1edVt2XTt5Kz1tfX1mdW5jdGlvbiBhZih0LGUpe2NvbnN0e2FsbG93U2hvcnRLZXlzOm4sZXh0ZW5kTm9uY2VGbjpyLGNvdW50ZXJMZW5ndGg6byxjb3VudGVyUmlnaHQ6cyxyb3VuZHM6aX09WGMoe2FsbG93U2hvcnRLZXlzOiExLGNvdW50ZXJMZW5ndGg6OCxjb3VudGVyUmlnaHQ6ITEscm91bmRzOjIwfSxlKTtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImNvcmUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB4bihvKSx4bihpKSx2bihzKSx2bihuKSwoYyxmLHUsYSxsPTApPT57b3QoYyksb3QoZiksb3QodSk7Y29uc3QgZD11Lmxlbmd0aDtpZihhPT09dm9pZCAwJiYoYT1uZXcgVWludDhBcnJheShkKSksb3QoYSkseG4obCksbDwwfHxsPj15byl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGNvdW50ZXIgb3ZlcmZsb3dcIik7aWYoYS5sZW5ndGg8ZCl0aHJvdyBuZXcgRXJyb3IoYGFyeDogb3V0cHV0ICgke2EubGVuZ3RofSkgaXMgc2hvcnRlciB0aGFuIGRhdGEgKCR7ZH0pYCk7Y29uc3QgaD1bXTtsZXQgeT1jLmxlbmd0aCxtLHY7aWYoeT09PTMyKWgucHVzaChtPUJuKGMpKSx2PXNmO2Vsc2UgaWYoeT09PTE2JiZuKW09bmV3IFVpbnQ4QXJyYXkoMzIpLG0uc2V0KGMpLG0uc2V0KGMsMTYpLHY9b2YsaC5wdXNoKG0pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBhcng6IGludmFsaWQgMzItYnl0ZSBrZXksIGdvdCBsZW5ndGg9JHt5fWApO0FuKGYpfHxoLnB1c2goZj1CbihmKSk7Y29uc3QgVT1QdChtKTtpZihyKXtpZihmLmxlbmd0aCE9PTI0KXRocm93IG5ldyBFcnJvcihcImFyeDogZXh0ZW5kZWQgbm9uY2UgbXVzdCBiZSAyNCBieXRlc1wiKTtyKHYsVSxQdChmLnN1YmFycmF5KDAsMTYpKSxVKSxmPWYuc3ViYXJyYXkoMTYpfWNvbnN0IEY9MTYtbztpZihGIT09Zi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBhcng6IG5vbmNlIG11c3QgYmUgJHtGfSBvciAxNiBieXRlc2ApO2lmKEYhPT0xMil7Y29uc3QgWj1uZXcgVWludDhBcnJheSgxMik7Wi5zZXQoZixzPzA6MTItZi5sZW5ndGgpLGY9WixoLnB1c2goZil9Y29uc3QgUj1QdChmKTtyZXR1cm4gZmYodCx2LFUsUix1LGEsbCxpKSxRdCguLi5oKSxhfX1jb25zdCBXPSh0LGUpPT50W2UrK10mMjU1fCh0W2UrK10mMjU1KTw8ODtjbGFzcyB1Zntjb25zdHJ1Y3RvcihlKXt0aGlzLmJsb2NrTGVuPTE2LHRoaXMub3V0cHV0TGVuPTE2LHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KDE2KSx0aGlzLnI9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLmg9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLnBhZD1uZXcgVWludDE2QXJyYXkoOCksdGhpcy5wb3M9MCx0aGlzLmZpbmlzaGVkPSExLGU9RW4oZSksb3QoZSwzMik7Y29uc3Qgbj1XKGUsMCkscj1XKGUsMiksbz1XKGUsNCkscz1XKGUsNiksaT1XKGUsOCksYz1XKGUsMTApLGY9VyhlLDEyKSx1PVcoZSwxNCk7dGhpcy5yWzBdPW4mODE5MSx0aGlzLnJbMV09KG4+Pj4xM3xyPDwzKSY4MTkxLHRoaXMuclsyXT0ocj4+PjEwfG88PDYpJjc5MzksdGhpcy5yWzNdPShvPj4+N3xzPDw5KSY4MTkxLHRoaXMucls0XT0ocz4+PjR8aTw8MTIpJjI1NSx0aGlzLnJbNV09aT4+PjEmODE5MCx0aGlzLnJbNl09KGk+Pj4xNHxjPDwyKSY4MTkxLHRoaXMucls3XT0oYz4+PjExfGY8PDUpJjgwNjUsdGhpcy5yWzhdPShmPj4+OHx1PDw4KSY4MTkxLHRoaXMucls5XT11Pj4+NSYxMjc7Zm9yKGxldCBhPTA7YTw4O2ErKyl0aGlzLnBhZFthXT1XKGUsMTYrMiphKX1wcm9jZXNzKGUsbixyPSExKXtjb25zdCBvPXI/MDoyMDQ4LHtoOnMscjppfT10aGlzLGM9aVswXSxmPWlbMV0sdT1pWzJdLGE9aVszXSxsPWlbNF0sZD1pWzVdLGg9aVs2XSx5PWlbN10sbT1pWzhdLHY9aVs5XSxVPVcoZSxuKzApLEY9VyhlLG4rMiksUj1XKGUsbis0KSxaPVcoZSxuKzYpLEg9VyhlLG4rOCksaj1XKGUsbisxMCksTD1XKGUsbisxMiksaz1XKGUsbisxNCk7bGV0IE89c1swXSsoVSY4MTkxKSxUPXNbMV0rKChVPj4+MTN8Rjw8MykmODE5MSksQz1zWzJdKygoRj4+PjEwfFI8PDYpJjgxOTEpLF89c1szXSsoKFI+Pj43fFo8PDkpJjgxOTEpLHA9c1s0XSsoKFo+Pj40fEg8PDEyKSY4MTkxKSxiPXNbNV0rKEg+Pj4xJjgxOTEpLGc9c1s2XSsoKEg+Pj4xNHxqPDwyKSY4MTkxKSx4PXNbN10rKChqPj4+MTF8TDw8NSkmODE5MSksRT1zWzhdKygoTD4+Pjh8azw8OCkmODE5MSksQT1zWzldKyhrPj4+NXxvKSx3PTAsQj13K08qYytUKig1KnYpK0MqKDUqbSkrXyooNSp5KStwKig1KmgpO3c9Qj4+PjEzLEImPTgxOTEsQis9YiooNSpkKStnKig1KmwpK3gqKDUqYSkrRSooNSp1KStBKig1KmYpLHcrPUI+Pj4xMyxCJj04MTkxO2xldCBJPXcrTypmK1QqYytDKig1KnYpK18qKDUqbSkrcCooNSp5KTt3PUk+Pj4xMyxJJj04MTkxLEkrPWIqKDUqaCkrZyooNSpkKSt4Kig1KmwpK0UqKDUqYSkrQSooNSp1KSx3Kz1JPj4+MTMsSSY9ODE5MTtsZXQgTj13K08qdStUKmYrQypjK18qKDUqdikrcCooNSptKTt3PU4+Pj4xMyxOJj04MTkxLE4rPWIqKDUqeSkrZyooNSpoKSt4Kig1KmQpK0UqKDUqbCkrQSooNSphKSx3Kz1OPj4+MTMsTiY9ODE5MTtsZXQgRD13K08qYStUKnUrQypmK18qYytwKig1KnYpO3c9RD4+PjEzLEQmPTgxOTEsRCs9YiooNSptKStnKig1KnkpK3gqKDUqaCkrRSooNSpkKStBKig1KmwpLHcrPUQ+Pj4xMyxEJj04MTkxO2xldCBQPXcrTypsK1QqYStDKnUrXypmK3AqYzt3PVA+Pj4xMyxQJj04MTkxLFArPWIqKDUqdikrZyooNSptKSt4Kig1KnkpK0UqKDUqaCkrQSooNSpkKSx3Kz1QPj4+MTMsUCY9ODE5MTtsZXQgJD13K08qZCtUKmwrQyphK18qdStwKmY7dz0kPj4+MTMsJCY9ODE5MSwkKz1iKmMrZyooNSp2KSt4Kig1Km0pK0UqKDUqeSkrQSooNSpoKSx3Kz0kPj4+MTMsJCY9ODE5MTtsZXQgVj13K08qaCtUKmQrQypsK18qYStwKnU7dz1WPj4+MTMsViY9ODE5MSxWKz1iKmYrZypjK3gqKDUqdikrRSooNSptKStBKig1KnkpLHcrPVY+Pj4xMyxWJj04MTkxO2xldCBxPXcrTyp5K1QqaCtDKmQrXypsK3AqYTt3PXE+Pj4xMyxxJj04MTkxLHErPWIqdStnKmYreCpjK0UqKDUqdikrQSooNSptKSx3Kz1xPj4+MTMscSY9ODE5MTtsZXQgRz13K08qbStUKnkrQypoK18qZCtwKmw7dz1HPj4+MTMsRyY9ODE5MSxHKz1iKmErZyp1K3gqZitFKmMrQSooNSp2KSx3Kz1HPj4+MTMsRyY9ODE5MTtsZXQgTT13K08qditUKm0rQyp5K18qaCtwKmQ7dz1NPj4+MTMsTSY9ODE5MSxNKz1iKmwrZyphK3gqdStFKmYrQSpjLHcrPU0+Pj4xMyxNJj04MTkxLHc9KHc8PDIpK3d8MCx3PXcrQnwwLEI9dyY4MTkxLHc9dz4+PjEzLEkrPXcsc1swXT1CLHNbMV09SSxzWzJdPU4sc1szXT1ELHNbNF09UCxzWzVdPSQsc1s2XT1WLHNbN109cSxzWzhdPUcsc1s5XT1NfWZpbmFsaXplKCl7Y29uc3R7aDplLHBhZDpufT10aGlzLHI9bmV3IFVpbnQxNkFycmF5KDEwKTtsZXQgbz1lWzFdPj4+MTM7ZVsxXSY9ODE5MTtmb3IobGV0IGM9MjtjPDEwO2MrKyllW2NdKz1vLG89ZVtjXT4+PjEzLGVbY10mPTgxOTE7ZVswXSs9byo1LG89ZVswXT4+PjEzLGVbMF0mPTgxOTEsZVsxXSs9byxvPWVbMV0+Pj4xMyxlWzFdJj04MTkxLGVbMl0rPW8sclswXT1lWzBdKzUsbz1yWzBdPj4+MTMsclswXSY9ODE5MTtmb3IobGV0IGM9MTtjPDEwO2MrKylyW2NdPWVbY10rbyxvPXJbY10+Pj4xMyxyW2NdJj04MTkxO3JbOV0tPTgxOTI7bGV0IHM9KG9eMSktMTtmb3IobGV0IGM9MDtjPDEwO2MrKylyW2NdJj1zO3M9fnM7Zm9yKGxldCBjPTA7YzwxMDtjKyspZVtjXT1lW2NdJnN8cltjXTtlWzBdPShlWzBdfGVbMV08PDEzKSY2NTUzNSxlWzFdPShlWzFdPj4+M3xlWzJdPDwxMCkmNjU1MzUsZVsyXT0oZVsyXT4+PjZ8ZVszXTw8NykmNjU1MzUsZVszXT0oZVszXT4+Pjl8ZVs0XTw8NCkmNjU1MzUsZVs0XT0oZVs0XT4+PjEyfGVbNV08PDF8ZVs2XTw8MTQpJjY1NTM1LGVbNV09KGVbNl0+Pj4yfGVbN108PDExKSY2NTUzNSxlWzZdPShlWzddPj4+NXxlWzhdPDw4KSY2NTUzNSxlWzddPShlWzhdPj4+OHxlWzldPDw1KSY2NTUzNTtsZXQgaT1lWzBdK25bMF07ZVswXT1pJjY1NTM1O2ZvcihsZXQgYz0xO2M8ODtjKyspaT0oZVtjXStuW2NdfDApKyhpPj4+MTYpfDAsZVtjXT1pJjY1NTM1O1F0KHIpfXVwZGF0ZShlKXtobyh0aGlzKSxlPUVuKGUpLG90KGUpO2NvbnN0e2J1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKHItdGhpcy5wb3Msby1zKTtpZihpPT09cil7Zm9yKDtyPD1vLXM7cys9cil0aGlzLnByb2Nlc3MoZSxzKTtjb250aW51ZX1uLnNldChlLnN1YmFycmF5KHMscytpKSx0aGlzLnBvcyksdGhpcy5wb3MrPWkscys9aSx0aGlzLnBvcz09PXImJih0aGlzLnByb2Nlc3MobiwwLCExKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpc31kZXN0cm95KCl7UXQodGhpcy5oLHRoaXMucix0aGlzLmJ1ZmZlcix0aGlzLnBhZCl9ZGlnZXN0SW50byhlKXtobyh0aGlzKSxHYyhlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4saDpyfT10aGlzO2xldHtwb3M6b309dGhpcztpZihvKXtmb3IobltvKytdPTE7bzwxNjtvKyspbltvXT0wO3RoaXMucHJvY2VzcyhuLDAsITApfXRoaXMuZmluYWxpemUoKTtsZXQgcz0wO2ZvcihsZXQgaT0wO2k8ODtpKyspZVtzKytdPXJbaV0+Pj4wLGVbcysrXT1yW2ldPj4+ODtyZXR1cm4gZX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9fWZ1bmN0aW9uIGxmKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKEVuKHIpKS5kaWdlc3QoKSxuPXQobmV3IFVpbnQ4QXJyYXkoMzIpKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1jb25zdCBkZj1sZih0PT5uZXcgdWYodCkpO2Z1bmN0aW9uIGhmKHQsZSxuLHIsbyxzPTIwKXtsZXQgaT10WzBdLGM9dFsxXSxmPXRbMl0sdT10WzNdLGE9ZVswXSxsPWVbMV0sZD1lWzJdLGg9ZVszXSx5PWVbNF0sbT1lWzVdLHY9ZVs2XSxVPWVbN10sRj1vLFI9blswXSxaPW5bMV0sSD1uWzJdLGo9aSxMPWMsaz1mLE89dSxUPWEsQz1sLF89ZCxwPWgsYj15LGc9bSx4PXYsRT1VLEE9Rix3PVIsQj1aLEk9SDtmb3IobGV0IEQ9MDtEPHM7RCs9MilqPWorVHwwLEE9SyhBXmosMTYpLGI9YitBfDAsVD1LKFReYiwxMiksaj1qK1R8MCxBPUsoQV5qLDgpLGI9YitBfDAsVD1LKFReYiw3KSxMPUwrQ3wwLHc9Syh3XkwsMTYpLGc9Zyt3fDAsQz1LKENeZywxMiksTD1MK0N8MCx3PUsod15MLDgpLGc9Zyt3fDAsQz1LKENeZyw3KSxrPWsrX3wwLEI9SyhCXmssMTYpLHg9eCtCfDAsXz1LKF9eeCwxMiksaz1rK198MCxCPUsoQl5rLDgpLHg9eCtCfDAsXz1LKF9eeCw3KSxPPU8rcHwwLEk9SyhJXk8sMTYpLEU9RStJfDAscD1LKHBeRSwxMiksTz1PK3B8MCxJPUsoSV5PLDgpLEU9RStJfDAscD1LKHBeRSw3KSxqPWorQ3wwLEk9SyhJXmosMTYpLHg9eCtJfDAsQz1LKENeeCwxMiksaj1qK0N8MCxJPUsoSV5qLDgpLHg9eCtJfDAsQz1LKENeeCw3KSxMPUwrX3wwLEE9SyhBXkwsMTYpLEU9RStBfDAsXz1LKF9eRSwxMiksTD1MK198MCxBPUsoQV5MLDgpLEU9RStBfDAsXz1LKF9eRSw3KSxrPWsrcHwwLHc9Syh3XmssMTYpLGI9Yit3fDAscD1LKHBeYiwxMiksaz1rK3B8MCx3PUsod15rLDgpLGI9Yit3fDAscD1LKHBeYiw3KSxPPU8rVHwwLEI9SyhCXk8sMTYpLGc9ZytCfDAsVD1LKFReZywxMiksTz1PK1R8MCxCPUsoQl5PLDgpLGc9ZytCfDAsVD1LKFReZyw3KTtsZXQgTj0wO3JbTisrXT1pK2p8MCxyW04rK109YytMfDAscltOKytdPWYra3wwLHJbTisrXT11K098MCxyW04rK109YStUfDAscltOKytdPWwrQ3wwLHJbTisrXT1kK198MCxyW04rK109aCtwfDAscltOKytdPXkrYnwwLHJbTisrXT1tK2d8MCxyW04rK109dit4fDAscltOKytdPVUrRXwwLHJbTisrXT1GK0F8MCxyW04rK109Uit3fDAscltOKytdPVorQnwwLHJbTisrXT1IK0l8MH1jb25zdCBwZj1hZihoZix7Y291bnRlclJpZ2h0OiExLGNvdW50ZXJMZW5ndGg6NCxhbGxvd1Nob3J0S2V5czohMX0pLGdmPW5ldyBVaW50OEFycmF5KDE2KSx3bz0odCxlKT0+e3QudXBkYXRlKGUpO2NvbnN0IG49ZS5sZW5ndGglMTY7biYmdC51cGRhdGUoZ2Yuc3ViYXJyYXkobikpfSxiZj1uZXcgVWludDhBcnJheSgzMik7ZnVuY3Rpb24gdm8odCxlLG4scixvKXtjb25zdCBzPXQoZSxuLGJmKSxpPWRmLmNyZWF0ZShzKTtvJiZ3byhpLG8pLHdvKGkscik7Y29uc3QgYz10ZihyLmxlbmd0aCxvP28ubGVuZ3RoOjAsITApO2kudXBkYXRlKGMpO2NvbnN0IGY9aS5kaWdlc3QoKTtyZXR1cm4gUXQocyxjKSxmfWNvbnN0IHlmPXQ9PihlLG4scik9Pih7ZW5jcnlwdChzLGkpe2NvbnN0IGM9cy5sZW5ndGg7aT1wbyhjKzE2LGksITEpLGkuc2V0KHMpO2NvbnN0IGY9aS5zdWJhcnJheSgwLC0xNik7dChlLG4sZixmLDEpO2NvbnN0IHU9dm8odCxlLG4sZixyKTtyZXR1cm4gaS5zZXQodSxjKSxRdCh1KSxpfSxkZWNyeXB0KHMsaSl7aT1wbyhzLmxlbmd0aC0xNixpLCExKTtjb25zdCBjPXMuc3ViYXJyYXkoMCwtMTYpLGY9cy5zdWJhcnJheSgtMTYpLHU9dm8odCxlLG4sYyxyKTtpZighSmMoZix1KSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRhZ1wiKTtyZXR1cm4gaS5zZXQocy5zdWJhcnJheSgwLC0xNikpLHQoZSxuLGksaSwxKSxRdCh1KSxpfX0pLHhvPVFjKHtibG9ja1NpemU6NjQsbm9uY2VMZW5ndGg6MTIsdGFnTGVuZ3RoOjE2fSx5ZihwZikpO2NsYXNzIEVvIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsVWUoZSk7Y29uc3Qgcj1wdChuKTtpZih0aGlzLmlIYXNoPWUuY3JlYXRlKCksdHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaW5zdGFuY2Ugb2YgY2xhc3Mgd2hpY2ggZXh0ZW5kcyB1dGlscy5IYXNoXCIpO3RoaXMuYmxvY2tMZW49dGhpcy5pSGFzaC5ibG9ja0xlbix0aGlzLm91dHB1dExlbj10aGlzLmlIYXNoLm91dHB1dExlbjtjb25zdCBvPXRoaXMuYmxvY2tMZW4scz1uZXcgVWludDhBcnJheShvKTtzLnNldChyLmxlbmd0aD5vP2UuY3JlYXRlKCkudXBkYXRlKHIpLmRpZ2VzdCgpOnIpO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXNbaV1ePTU0O3RoaXMuaUhhc2gudXBkYXRlKHMpLHRoaXMub0hhc2g9ZS5jcmVhdGUoKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKylzW2ldXj0xMDY7dGhpcy5vSGFzaC51cGRhdGUocyksbHQocyl9dXBkYXRlKGUpe3JldHVybiBOdCh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZShlKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksaHQoZSx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8oZSksdGhpcy5vSGFzaC51cGRhdGUoZSksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8oZSksZX1fY2xvbmVJbnRvKGUpe2V8fChlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6bixpSGFzaDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsYmxvY2tMZW46aSxvdXRwdXRMZW46Y309dGhpcztyZXR1cm4gZT1lLGUuZmluaXNoZWQ9byxlLmRlc3Ryb3llZD1zLGUuYmxvY2tMZW49aSxlLm91dHB1dExlbj1jLGUub0hhc2g9bi5fY2xvbmVJbnRvKGUub0hhc2gpLGUuaUhhc2g9ci5fY2xvbmVJbnRvKGUuaUhhc2gpLGV9Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1jb25zdCBrZT0odCxlLG4pPT5uZXcgRW8odCxlKS51cGRhdGUobikuZGlnZXN0KCk7a2UuY3JlYXRlPSh0LGUpPT5uZXcgRW8odCxlKTtmdW5jdGlvbiBtZih0LGUsbil7cmV0dXJuIFVlKHQpLG49PT12b2lkIDAmJihuPW5ldyBVaW50OEFycmF5KHQub3V0cHV0TGVuKSksa2UodCxwdChuKSxwdChlKSl9Y29uc3QgSW49VWludDhBcnJheS5mcm9tKFswXSksQm89VWludDhBcnJheS5vZigpO2Z1bmN0aW9uIHdmKHQsZSxuLHI9MzIpe1VlKHQpLG10KHIpO2NvbnN0IG89dC5vdXRwdXRMZW47aWYocj4yNTUqbyl0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IHM9TWF0aC5jZWlsKHIvbyk7bj09PXZvaWQgMCYmKG49Qm8pO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkocypvKSxjPWtlLmNyZWF0ZSh0LGUpLGY9Yy5fY2xvbmVJbnRvKCksdT1uZXcgVWludDhBcnJheShjLm91dHB1dExlbik7Zm9yKGxldCBhPTA7YTxzO2ErKylJblswXT1hKzEsZi51cGRhdGUoYT09PTA/Qm86dSkudXBkYXRlKG4pLnVwZGF0ZShJbikuZGlnZXN0SW50byh1KSxpLnNldCh1LG8qYSksYy5fY2xvbmVJbnRvKGYpO3JldHVybiBjLmRlc3Ryb3koKSxmLmRlc3Ryb3koKSxsdCh1LEluKSxpLnNsaWNlKDAscil9Y29uc3QgdmY9KHQsZSxuLHIsbyk9PndmKHQsbWYodCxlLG4pLHIsbyksUGU9JGUsU249QmlnSW50KDApLE9uPUJpZ0ludCgxKTtmdW5jdGlvbiBIZSh0LGU9XCJcIil7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXtjb25zdCBuPWUmJmBcIiR7ZX1cImA7dGhyb3cgbmV3IEVycm9yKG4rXCJleHBlY3RlZCBib29sZWFuLCBnb3QgdHlwZT1cIit0eXBlb2YgdCl9cmV0dXJuIHR9ZnVuY3Rpb24gS3QodCxlLG49XCJcIil7Y29uc3Qgcj1OZSh0KSxvPXQ/Lmxlbmd0aCxzPWUhPT12b2lkIDA7aWYoIXJ8fHMmJm8hPT1lKXtjb25zdCBpPW4mJmBcIiR7bn1cIiBgLGM9cz9gIG9mIGxlbmd0aCAke2V9YDpcIlwiLGY9cj9gbGVuZ3RoPSR7b31gOmB0eXBlPSR7dHlwZW9mIHR9YDt0aHJvdyBuZXcgRXJyb3IoaStcImV4cGVjdGVkIFVpbnQ4QXJyYXlcIitjK1wiLCBnb3QgXCIrZil9cmV0dXJuIHR9ZnVuY3Rpb24gRGUodCl7Y29uc3QgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGgmMT9cIjBcIitlOmV9ZnVuY3Rpb24gQW8odCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/U246QmlnSW50KFwiMHhcIit0KX1mdW5jdGlvbiBWZSh0KXtyZXR1cm4gQW8oSnQodCkpfWZ1bmN0aW9uIE1lKHQpe3JldHVybiBodCh0KSxBbyhKdChVaW50OEFycmF5LmZyb20odCkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gTm4odCxlKXtyZXR1cm4gX2UodC50b1N0cmluZygxNikucGFkU3RhcnQoZSoyLFwiMFwiKSl9ZnVuY3Rpb24gVW4odCxlKXtyZXR1cm4gTm4odCxlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gdHQodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPV9lKGUpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZihOZShlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9Y29uc3QgX249dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJlNuPD10O2Z1bmN0aW9uIHhmKHQsZSxuKXtyZXR1cm4gX24odCkmJl9uKGUpJiZfbihuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIFJuKHQsZSxuLHIpe2lmKCF4ZihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIElvKHQpe2xldCBlO2ZvcihlPTA7dD5Tbjt0Pj49T24sZSs9MSk7cmV0dXJuIGV9Y29uc3QgeWU9dD0+KE9uPDxCaWdJbnQodCkpLU9uO2Z1bmN0aW9uIEVmKHQsZSxuKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwyKXRocm93IG5ldyBFcnJvcihcImhhc2hMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZih0eXBlb2YgZSE9XCJudW1iZXJcInx8ZTwyKXRocm93IG5ldyBFcnJvcihcInFCeXRlTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2NvbnN0IHI9aD0+bmV3IFVpbnQ4QXJyYXkoaCksbz1oPT5VaW50OEFycmF5Lm9mKGgpO2xldCBzPXIodCksaT1yKHQpLGM9MDtjb25zdCBmPSgpPT57cy5maWxsKDEpLGkuZmlsbCgwKSxjPTB9LHU9KC4uLmgpPT5uKGkscywuLi5oKSxhPShoPXIoMCkpPT57aT11KG8oMCksaCkscz11KCksaC5sZW5ndGghPT0wJiYoaT11KG8oMSksaCkscz11KCkpfSxsPSgpPT57aWYoYysrPj0xZTMpdGhyb3cgbmV3IEVycm9yKFwiZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXNcIik7bGV0IGg9MDtjb25zdCB5PVtdO2Zvcig7aDxlOyl7cz11KCk7Y29uc3QgbT1zLnNsaWNlKCk7eS5wdXNoKG0pLGgrPXMubGVuZ3RofXJldHVybiBfdCguLi55KX07cmV0dXJuKGgseSk9PntmKCksYShoKTtsZXQgbTtmb3IoOyEobT15KGwoKSkpOylhKCk7cmV0dXJuIGYoKSxtfX1mdW5jdGlvbiBLZSh0LGUsbj17fSl7aWYoIXR8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhbGlkIG9wdGlvbnMgb2JqZWN0XCIpO2Z1bmN0aW9uIHIobyxzLGkpe2NvbnN0IGM9dFtvXTtpZihpJiZjPT09dm9pZCAwKXJldHVybjtjb25zdCBmPXR5cGVvZiBjO2lmKGYhPT1zfHxjPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYHBhcmFtIFwiJHtvfVwiIGlzIGludmFsaWQ6IGV4cGVjdGVkICR7c30sIGdvdCAke2Z9YCl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW28sc10pPT5yKG8scywhMSkpLE9iamVjdC5lbnRyaWVzKG4pLmZvckVhY2goKFtvLHNdKT0+cihvLHMsITApKX1mdW5jdGlvbiBTbyh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IHM9dChuLC4uLnIpO3JldHVybiBlLnNldChuLHMpLHN9fWNvbnN0IHN0PUJpZ0ludCgwKSxudD1CaWdJbnQoMSkscXQ9QmlnSW50KDIpLE9vPUJpZ0ludCgzKSxObz1CaWdJbnQoNCksVW89QmlnSW50KDUpLEJmPUJpZ0ludCg3KSxfbz1CaWdJbnQoOCksQWY9QmlnSW50KDkpLFJvPUJpZ0ludCgxNik7ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPXQlZTtyZXR1cm4gbj49c3Q/bjplK259ZnVuY3Rpb24gZ3QodCxlLG4pe2xldCByPXQ7Zm9yKDtlLS0gPnN0OylyKj1yLHIlPW47cmV0dXJuIHJ9ZnVuY3Rpb24gJG8odCxlKXtpZih0PT09c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXJcIik7aWYoZTw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBtb2R1bHVzLCBnb3QgXCIrZSk7bGV0IG49Y3QodCxlKSxyPWUsbz1zdCxzPW50O2Zvcig7biE9PXN0Oyl7Y29uc3QgYz1yL24sZj1yJW4sdT1vLXMqYztyPW4sbj1mLG89cyxzPXV9aWYociE9PW50KXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIGN0KG8sZSl9ZnVuY3Rpb24gJG4odCxlLG4pe2lmKCF0LmVxbCh0LnNxcihlKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKX1mdW5jdGlvbiBUbyh0LGUpe2NvbnN0IG49KHQuT1JERVIrbnQpL05vLHI9dC5wb3coZSxuKTtyZXR1cm4gJG4odCxyLGUpLHJ9ZnVuY3Rpb24gSWYodCxlKXtjb25zdCBuPSh0Lk9SREVSLVVvKS9fbyxyPXQubXVsKGUscXQpLG89dC5wb3cocixuKSxzPXQubXVsKGUsbyksaT10Lm11bCh0Lm11bChzLHF0KSxvKSxjPXQubXVsKHMsdC5zdWIoaSx0Lk9ORSkpO3JldHVybiAkbih0LGMsZSksY31mdW5jdGlvbiBTZih0KXtjb25zdCBlPUh0KHQpLG49Q28odCkscj1uKGUsZS5uZWcoZS5PTkUpKSxvPW4oZSxyKSxzPW4oZSxlLm5lZyhyKSksaT0odCtCZikvUm87cmV0dXJuKGMsZik9PntsZXQgdT1jLnBvdyhmLGkpLGE9Yy5tdWwodSxyKTtjb25zdCBsPWMubXVsKHUsbyksZD1jLm11bCh1LHMpLGg9Yy5lcWwoYy5zcXIoYSksZikseT1jLmVxbChjLnNxcihsKSxmKTt1PWMuY21vdih1LGEsaCksYT1jLmNtb3YoZCxsLHkpO2NvbnN0IG09Yy5lcWwoYy5zcXIoYSksZiksdj1jLmNtb3YodSxhLG0pO3JldHVybiAkbihjLHYsZiksdn19ZnVuY3Rpb24gQ28odCl7aWYodDxPbyl0aHJvdyBuZXcgRXJyb3IoXCJzcXJ0IGlzIG5vdCBkZWZpbmVkIGZvciBzbWFsbCBmaWVsZFwiKTtsZXQgZT10LW50LG49MDtmb3IoO2UlcXQ9PT1zdDspZS89cXQsbisrO2xldCByPXF0O2NvbnN0IG89SHQodCk7Zm9yKDtMbyhvLHIpPT09MTspaWYocisrPjFlMyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogcHJvYmFibHkgbm9uLXByaW1lIFBcIik7aWYobj09PTEpcmV0dXJuIFRvO2xldCBzPW8ucG93KHIsZSk7Y29uc3QgaT0oZStudCkvcXQ7cmV0dXJuIGZ1bmN0aW9uKGYsdSl7aWYoZi5pczAodSkpcmV0dXJuIHU7aWYoTG8oZix1KSE9PTEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IGE9bixsPWYubXVsKGYuT05FLHMpLGQ9Zi5wb3codSxlKSxoPWYucG93KHUsaSk7Zm9yKDshZi5lcWwoZCxmLk9ORSk7KXtpZihmLmlzMChkKSlyZXR1cm4gZi5aRVJPO2xldCB5PTEsbT1mLnNxcihkKTtmb3IoOyFmLmVxbChtLGYuT05FKTspaWYoeSsrLG09Zi5zcXIobSkseT09PWEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7Y29uc3Qgdj1udDw8QmlnSW50KGEteS0xKSxVPWYucG93KGwsdik7YT15LGw9Zi5zcXIoVSksZD1mLm11bChkLGwpLGg9Zi5tdWwoaCxVKX1yZXR1cm4gaH19ZnVuY3Rpb24gT2YodCl7cmV0dXJuIHQlTm89PT1Pbz9Ubzp0JV9vPT09VW8/SWY6dCVSbz09PUFmP1NmKHQpOkNvKHQpfWNvbnN0IE5mPVtcImNyZWF0ZVwiLFwiaXNWYWxpZFwiLFwiaXMwXCIsXCJuZWdcIixcImludlwiLFwic3FydFwiLFwic3FyXCIsXCJlcWxcIixcImFkZFwiLFwic3ViXCIsXCJtdWxcIixcInBvd1wiLFwiZGl2XCIsXCJhZGROXCIsXCJzdWJOXCIsXCJtdWxOXCIsXCJzcXJOXCJdO2Z1bmN0aW9uIFVmKHQpe2NvbnN0IGU9e09SREVSOlwiYmlnaW50XCIsTUFTSzpcImJpZ2ludFwiLEJZVEVTOlwibnVtYmVyXCIsQklUUzpcIm51bWJlclwifSxuPU5mLnJlZHVjZSgocixvKT0+KHJbb109XCJmdW5jdGlvblwiLHIpLGUpO3JldHVybiBLZSh0LG4pLHR9ZnVuY3Rpb24gX2YodCxlLG4pe2lmKG48c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG49PT1zdClyZXR1cm4gdC5PTkU7aWYobj09PW50KXJldHVybiBlO2xldCByPXQuT05FLG89ZTtmb3IoO24+c3Q7KW4mbnQmJihyPXQubXVsKHIsbykpLG89dC5zcXIobyksbj4+PW50O3JldHVybiByfWZ1bmN0aW9uIGpvKHQsZSxuPSExKXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCkuZmlsbChuP3QuWkVSTzp2b2lkIDApLG89ZS5yZWR1Y2UoKGksYyxmKT0+dC5pczAoYyk/aToocltmXT1pLHQubXVsKGksYykpLHQuT05FKSxzPXQuaW52KG8pO3JldHVybiBlLnJlZHVjZVJpZ2h0KChpLGMsZik9PnQuaXMwKGMpP2k6KHJbZl09dC5tdWwoaSxyW2ZdKSx0Lm11bChpLGMpKSxzKSxyfWZ1bmN0aW9uIExvKHQsZSl7Y29uc3Qgbj0odC5PUkRFUi1udCkvcXQscj10LnBvdyhlLG4pLG89dC5lcWwocix0Lk9ORSkscz10LmVxbChyLHQuWkVSTyksaT10LmVxbChyLHQubmVnKHQuT05FKSk7aWYoIW8mJiFzJiYhaSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIExlZ2VuZHJlIHN5bWJvbCByZXN1bHRcIik7cmV0dXJuIG8/MTpzPzA6LTF9ZnVuY3Rpb24ga28odCxlKXtlIT09dm9pZCAwJiZtdChlKTtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gSHQodCxlLG49ITEscj17fSl7aWYodDw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgXCIrdCk7bGV0IG8scyxpPSExLGM7aWYodHlwZW9mIGU9PVwib2JqZWN0XCImJmUhPW51bGwpe2lmKHIuc3FydHx8bil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3Qgc3BlY2lmeSBvcHRzIGluIHR3byBhcmd1bWVudHNcIik7Y29uc3QgZD1lO2QuQklUUyYmKG89ZC5CSVRTKSxkLnNxcnQmJihzPWQuc3FydCksdHlwZW9mIGQuaXNMRT09XCJib29sZWFuXCImJihuPWQuaXNMRSksdHlwZW9mIGQubW9kRnJvbUJ5dGVzPT1cImJvb2xlYW5cIiYmKGk9ZC5tb2RGcm9tQnl0ZXMpLGM9ZC5hbGxvd2VkTGVuZ3Roc31lbHNlIHR5cGVvZiBlPT1cIm51bWJlclwiJiYobz1lKSxyLnNxcnQmJihzPXIuc3FydCk7Y29uc3R7bkJpdExlbmd0aDpmLG5CeXRlTGVuZ3RoOnV9PWtvKHQsbyk7aWYodT4yMDQ4KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSIG9mIDw9IDIwNDggYnl0ZXNcIik7bGV0IGE7Y29uc3QgbD1PYmplY3QuZnJlZXplKHtPUkRFUjp0LGlzTEU6bixCSVRTOmYsQllURVM6dSxNQVNLOnllKGYpLFpFUk86c3QsT05FOm50LGFsbG93ZWRMZW5ndGhzOmMsY3JlYXRlOmQ9PmN0KGQsdCksaXNWYWxpZDpkPT57aWYodHlwZW9mIGQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgZCk7cmV0dXJuIHN0PD1kJiZkPHR9LGlzMDpkPT5kPT09c3QsaXNWYWxpZE5vdDA6ZD0+IWwuaXMwKGQpJiZsLmlzVmFsaWQoZCksaXNPZGQ6ZD0+KGQmbnQpPT09bnQsbmVnOmQ9PmN0KC1kLHQpLGVxbDooZCxoKT0+ZD09PWgsc3FyOmQ9PmN0KGQqZCx0KSxhZGQ6KGQsaCk9PmN0KGQraCx0KSxzdWI6KGQsaCk9PmN0KGQtaCx0KSxtdWw6KGQsaCk9PmN0KGQqaCx0KSxwb3c6KGQsaCk9Pl9mKGwsZCxoKSxkaXY6KGQsaCk9PmN0KGQqJG8oaCx0KSx0KSxzcXJOOmQ9PmQqZCxhZGROOihkLGgpPT5kK2gsc3ViTjooZCxoKT0+ZC1oLG11bE46KGQsaCk9PmQqaCxpbnY6ZD0+JG8oZCx0KSxzcXJ0OnN8fChkPT4oYXx8KGE9T2YodCkpLGEobCxkKSkpLHRvQnl0ZXM6ZD0+bj9VbihkLHUpOk5uKGQsdSksZnJvbUJ5dGVzOihkLGg9ITApPT57aWYoYyl7aWYoIWMuaW5jbHVkZXMoZC5sZW5ndGgpfHxkLmxlbmd0aD51KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrYytcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtjb25zdCBtPW5ldyBVaW50OEFycmF5KHUpO20uc2V0KGQsbj8wOm0ubGVuZ3RoLWQubGVuZ3RoKSxkPW19aWYoZC5sZW5ndGghPT11KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrdStcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtsZXQgeT1uP01lKGQpOlZlKGQpO2lmKGkmJih5PWN0KHksdCkpLCFoJiYhbC5pc1ZhbGlkKHkpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQgZWxlbWVudDogb3V0c2lkZSBvZiByYW5nZSAwLi5PUkRFUlwiKTtyZXR1cm4geX0saW52ZXJ0QmF0Y2g6ZD0+am8obCxkKSxjbW92OihkLGgseSk9Pnk/aDpkfSk7cmV0dXJuIE9iamVjdC5mcmVlemUobCl9ZnVuY3Rpb24gUG8odCl7aWYodHlwZW9mIHQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiZmllbGQgb3JkZXIgbXVzdCBiZSBiaWdpbnRcIik7Y29uc3QgZT10LnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm4gTWF0aC5jZWlsKGUvOCl9ZnVuY3Rpb24gSG8odCl7Y29uc3QgZT1Qbyh0KTtyZXR1cm4gZStNYXRoLmNlaWwoZS8yKX1mdW5jdGlvbiBSZih0LGUsbj0hMSl7Y29uc3Qgcj10Lmxlbmd0aCxvPVBvKGUpLHM9SG8oZSk7aWYocjwxNnx8cjxzfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgXCIrcytcIi0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgXCIrcik7Y29uc3QgaT1uP01lKHQpOlZlKHQpLGM9Y3QoaSxlLW50KStudDtyZXR1cm4gbj9VbihjLG8pOk5uKGMsbyl9Y29uc3QgdGU9QmlnSW50KDApLEZ0PUJpZ0ludCgxKTtmdW5jdGlvbiBxZSh0LGUpe2NvbnN0IG49ZS5uZWdhdGUoKTtyZXR1cm4gdD9uOmV9ZnVuY3Rpb24gVG4odCxlKXtjb25zdCBuPWpvKHQuRnAsZS5tYXAocj0+ci5aKSk7cmV0dXJuIGUubWFwKChyLG8pPT50LmZyb21BZmZpbmUoci50b0FmZmluZShuW29dKSkpfWZ1bmN0aW9uIERvKHQsZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PD0wfHx0PmUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB3aW5kb3cgc2l6ZSwgZXhwZWN0ZWQgWzEuLlwiK2UrXCJdLCBnb3QgVz1cIit0KX1mdW5jdGlvbiBDbih0LGUpe0RvKHQsZSk7Y29uc3Qgbj1NYXRoLmNlaWwoZS90KSsxLHI9MioqKHQtMSksbz0yKip0LHM9eWUodCksaT1CaWdJbnQodCk7cmV0dXJue3dpbmRvd3M6bix3aW5kb3dTaXplOnIsbWFzazpzLG1heE51bWJlcjpvLHNoaWZ0Qnk6aX19ZnVuY3Rpb24gVm8odCxlLG4pe2NvbnN0e3dpbmRvd1NpemU6cixtYXNrOm8sbWF4TnVtYmVyOnMsc2hpZnRCeTppfT1uO2xldCBjPU51bWJlcih0Jm8pLGY9dD4+aTtjPnImJihjLT1zLGYrPUZ0KTtjb25zdCB1PWUqcixhPXUrTWF0aC5hYnMoYyktMSxsPWM9PT0wLGQ9YzwwLGg9ZSUyIT09MDtyZXR1cm57bmV4dE46ZixvZmZzZXQ6YSxpc1plcm86bCxpc05lZzpkLGlzTmVnRjpoLG9mZnNldEY6dX19ZnVuY3Rpb24gJGYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighKG4gaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50IGF0IGluZGV4IFwiK3IpfSl9ZnVuY3Rpb24gVGYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCFlLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggXCIrcil9KX1jb25zdCBqbj1uZXcgV2Vha01hcCxNbz1uZXcgV2Vha01hcDtmdW5jdGlvbiBMbih0KXtyZXR1cm4gTW8uZ2V0KHQpfHwxfWZ1bmN0aW9uIEtvKHQpe2lmKHQhPT10ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHdOQUZcIil9Y2xhc3MgQ2Z7Y29uc3RydWN0b3IoZSxuKXt0aGlzLkJBU0U9ZS5CQVNFLHRoaXMuWkVSTz1lLlpFUk8sdGhpcy5Gbj1lLkZuLHRoaXMuYml0cz1ufV91bnNhZmVMYWRkZXIoZSxuLHI9dGhpcy5aRVJPKXtsZXQgbz1lO2Zvcig7bj50ZTspbiZGdCYmKHI9ci5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQ7cmV0dXJuIHJ9cHJlY29tcHV0ZVdpbmRvdyhlLG4pe2NvbnN0e3dpbmRvd3M6cix3aW5kb3dTaXplOm99PUNuKG4sdGhpcy5iaXRzKSxzPVtdO2xldCBpPWUsYz1pO2ZvcihsZXQgZj0wO2Y8cjtmKyspe2M9aSxzLnB1c2goYyk7Zm9yKGxldCB1PTE7dTxvO3UrKyljPWMuYWRkKGkpLHMucHVzaChjKTtpPWMuZG91YmxlKCl9cmV0dXJuIHN9d05BRihlLG4scil7aWYoIXRoaXMuRm4uaXNWYWxpZChyKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhclwiKTtsZXQgbz10aGlzLlpFUk8scz10aGlzLkJBU0U7Y29uc3QgaT1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBjPTA7YzxpLndpbmRvd3M7YysrKXtjb25zdHtuZXh0TjpmLG9mZnNldDp1LGlzWmVybzphLGlzTmVnOmwsaXNOZWdGOmQsb2Zmc2V0RjpofT1WbyhyLGMsaSk7cj1mLGE/cz1zLmFkZChxZShkLG5baF0pKTpvPW8uYWRkKHFlKGwsblt1XSkpfXJldHVybiBLbyhyKSx7cDpvLGY6c319d05BRlVuc2FmZShlLG4scixvPXRoaXMuWkVSTyl7Y29uc3Qgcz1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBpPTA7aTxzLndpbmRvd3MmJnIhPT10ZTtpKyspe2NvbnN0e25leHROOmMsb2Zmc2V0OmYsaXNaZXJvOnUsaXNOZWc6YX09Vm8ocixpLHMpO2lmKHI9YywhdSl7Y29uc3QgbD1uW2ZdO289by5hZGQoYT9sLm5lZ2F0ZSgpOmwpfX1yZXR1cm4gS28ociksb31nZXRQcmVjb21wdXRlcyhlLG4scil7bGV0IG89am4uZ2V0KG4pO3JldHVybiBvfHwobz10aGlzLnByZWNvbXB1dGVXaW5kb3cobixlKSxlIT09MSYmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJihvPXIobykpLGpuLnNldChuLG8pKSksb31jYWNoZWQoZSxuLHIpe2NvbnN0IG89TG4oZSk7cmV0dXJuIHRoaXMud05BRihvLHRoaXMuZ2V0UHJlY29tcHV0ZXMobyxlLHIpLG4pfXVuc2FmZShlLG4scixvKXtjb25zdCBzPUxuKGUpO3JldHVybiBzPT09MT90aGlzLl91bnNhZmVMYWRkZXIoZSxuLG8pOnRoaXMud05BRlVuc2FmZShzLHRoaXMuZ2V0UHJlY29tcHV0ZXMocyxlLHIpLG4sbyl9Y3JlYXRlQ2FjaGUoZSxuKXtEbyhuLHRoaXMuYml0cyksTW8uc2V0KGUsbiksam4uZGVsZXRlKGUpfWhhc0NhY2hlKGUpe3JldHVybiBMbihlKSE9PTF9fWZ1bmN0aW9uIGpmKHQsZSxuLHIpe2xldCBvPWUscz10LlpFUk8saT10LlpFUk87Zm9yKDtuPnRlfHxyPnRlOyluJkZ0JiYocz1zLmFkZChvKSksciZGdCYmKGk9aS5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQscj4+PUZ0O3JldHVybntwMTpzLHAyOml9fWZ1bmN0aW9uIExmKHQsZSxuLHIpeyRmKG4sdCksVGYocixlKTtjb25zdCBvPW4ubGVuZ3RoLHM9ci5sZW5ndGg7aWYobyE9PXMpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoXCIpO2NvbnN0IGk9dC5aRVJPLGM9SW8oQmlnSW50KG8pKTtsZXQgZj0xO2M+MTI/Zj1jLTM6Yz40P2Y9Yy0yOmM+MCYmKGY9Mik7Y29uc3QgdT15ZShmKSxhPW5ldyBBcnJheShOdW1iZXIodSkrMSkuZmlsbChpKSxsPU1hdGguZmxvb3IoKGUuQklUUy0xKS9mKSpmO2xldCBkPWk7Zm9yKGxldCBoPWw7aD49MDtoLT1mKXthLmZpbGwoaSk7Zm9yKGxldCBtPTA7bTxzO20rKyl7Y29uc3Qgdj1yW21dLFU9TnVtYmVyKHY+PkJpZ0ludChoKSZ1KTthW1VdPWFbVV0uYWRkKG5bbV0pfWxldCB5PWk7Zm9yKGxldCBtPWEubGVuZ3RoLTEsdj1pO20+MDttLS0pdj12LmFkZChhW21dKSx5PXkuYWRkKHYpO2lmKGQ9ZC5hZGQoeSksaCE9PTApZm9yKGxldCBtPTA7bTxmO20rKylkPWQuZG91YmxlKCl9cmV0dXJuIGR9ZnVuY3Rpb24gcW8odCxlLG4pe2lmKGUpe2lmKGUuT1JERVIhPT10KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLk9SREVSIG11c3QgbWF0Y2ggb3JkZXI6IEZwID09IHAsIEZuID09IG5cIik7cmV0dXJuIFVmKGUpLGV9ZWxzZSByZXR1cm4gSHQodCx7aXNMRTpufSl9ZnVuY3Rpb24ga2YodCxlLG49e30scil7aWYocj09PXZvaWQgMCYmKHI9dD09PVwiZWR3YXJkc1wiKSwhZXx8dHlwZW9mIGUhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCB2YWxpZCAke3R9IENVUlZFIG9iamVjdGApO2Zvcihjb25zdCBmIG9mW1wicFwiLFwiblwiLFwiaFwiXSl7Y29uc3QgdT1lW2ZdO2lmKCEodHlwZW9mIHU9PVwiYmlnaW50XCImJnU+dGUpKXRocm93IG5ldyBFcnJvcihgQ1VSVkUuJHtmfSBtdXN0IGJlIHBvc2l0aXZlIGJpZ2ludGApfWNvbnN0IG89cW8oZS5wLG4uRnAscikscz1xbyhlLm4sbi5GbixyKSxjPVtcIkd4XCIsXCJHeVwiLFwiYVwiLHQ9PT1cIndlaWVyc3RyYXNzXCI/XCJiXCI6XCJkXCJdO2Zvcihjb25zdCBmIG9mIGMpaWYoIW8uaXNWYWxpZChlW2ZdKSl0aHJvdyBuZXcgRXJyb3IoYENVUlZFLiR7Zn0gbXVzdCBiZSB2YWxpZCBmaWVsZCBlbGVtZW50IG9mIENVUlZFLkZwYCk7cmV0dXJuIGU9T2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LGUpKSx7Q1VSVkU6ZSxGcDpvLEZuOnN9fUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDIpLEJpZ0ludCg4KSxrcihcIkhhc2hUb1NjYWxhci1cIik7Y29uc3QgbWU9QmlnSW50KDApLGVlPUJpZ0ludCgxKSxGZT1CaWdJbnQoMik7ZnVuY3Rpb24gUGYodCl7cmV0dXJuIEtlKHQse2FkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixwb3dQbWludXMyOlwiZnVuY3Rpb25cIn0pLE9iamVjdC5mcmVlemUoey4uLnR9KX1mdW5jdGlvbiBIZih0KXtjb25zdCBlPVBmKHQpLHtQOm4sdHlwZTpyLGFkanVzdFNjYWxhckJ5dGVzOm8scG93UG1pbnVzMjpzLHJhbmRvbUJ5dGVzOml9PWUsYz1yPT09XCJ4MjU1MTlcIjtpZighYyYmciE9PVwieDQ0OFwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdHlwZVwiKTtjb25zdCBmPWl8fE10LHU9Yz8yNTU6NDQ4LGE9Yz8zMjo1NixsPUJpZ0ludChjPzk6NSksZD1CaWdJbnQoYz8xMjE2NjU6MzkwODEpLGg9Yz9GZSoqQmlnSW50KDI1NCk6RmUqKkJpZ0ludCg0NDcpLHk9Yz9CaWdJbnQoOCkqRmUqKkJpZ0ludCgyNTEpLWVlOkJpZ0ludCg0KSpGZSoqQmlnSW50KDQ0NSktZWUsbT1oK3krZWUsdj1wPT5jdChwLG4pLFU9RihsKTtmdW5jdGlvbiBGKHApe3JldHVybiBVbih2KHApLGEpfWZ1bmN0aW9uIFIocCl7Y29uc3QgYj10dChcInUgY29vcmRpbmF0ZVwiLHAsYSk7cmV0dXJuIGMmJihiWzMxXSY9MTI3KSx2KE1lKGIpKX1mdW5jdGlvbiBaKHApe3JldHVybiBNZShvKHR0KFwic2NhbGFyXCIscCxhKSkpfWZ1bmN0aW9uIEgocCxiKXtjb25zdCBnPWsoUihiKSxaKHApKTtpZihnPT09bWUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIG9yIHB1YmxpYyBrZXkgcmVjZWl2ZWRcIik7cmV0dXJuIEYoZyl9ZnVuY3Rpb24gaihwKXtyZXR1cm4gSChwLFUpfWZ1bmN0aW9uIEwocCxiLGcpe2NvbnN0IHg9dihwKihiLWcpKTtyZXR1cm4gYj12KGIteCksZz12KGcreCkse3hfMjpiLHhfMzpnfX1mdW5jdGlvbiBrKHAsYil7Um4oXCJ1XCIscCxtZSxuKSxSbihcInNjYWxhclwiLGIsaCxtKTtjb25zdCBnPWIseD1wO2xldCBFPWVlLEE9bWUsdz1wLEI9ZWUsST1tZTtmb3IobGV0IEQ9QmlnSW50KHUtMSk7RD49bWU7RC0tKXtjb25zdCBQPWc+PkQmZWU7SV49UCx7eF8yOkUseF8zOnd9PUwoSSxFLHcpLHt4XzI6QSx4XzM6Qn09TChJLEEsQiksST1QO2NvbnN0ICQ9RStBLFY9digkKiQpLHE9RS1BLEc9dihxKnEpLE09Vi1HLFk9dytCLFl0PXctQixjZT12KFl0KiQpLGZlPXYoWSpxKSxRbj1jZStmZSx0cj1jZS1mZTt3PXYoUW4qUW4pLEI9dih4KnYodHIqdHIpKSxFPXYoVipHKSxBPXYoTSooVit2KGQqTSkpKX0oe3hfMjpFLHhfMzp3fT1MKEksRSx3KSkse3hfMjpBLHhfMzpCfT1MKEksQSxCKTtjb25zdCBOPXMoQSk7cmV0dXJuIHYoRSpOKX1jb25zdCBPPXtzZWNyZXRLZXk6YSxwdWJsaWNLZXk6YSxzZWVkOmF9LFQ9KHA9ZihhKSk9PihodChwLE8uc2VlZCkscCk7ZnVuY3Rpb24gQyhwKXtjb25zdCBiPVQocCk7cmV0dXJue3NlY3JldEtleTpiLHB1YmxpY0tleTpqKGIpfX1yZXR1cm57a2V5Z2VuOkMsZ2V0U2hhcmVkU2VjcmV0OihwLGIpPT5IKHAsYiksZ2V0UHVibGljS2V5OnA9PmoocCksc2NhbGFyTXVsdDpILHNjYWxhck11bHRCYXNlOmosdXRpbHM6e3JhbmRvbVNlY3JldEtleTpULHJhbmRvbVByaXZhdGVLZXk6VH0sR3VCeXRlczpVLnNsaWNlKCksbGVuZ3RoczpPfX1jb25zdCBEZj1CaWdJbnQoMSksRm89QmlnSW50KDIpLFZmPUJpZ0ludCgzKSxNZj1CaWdJbnQoNSksS2Y9QmlnSW50KDgpLFpvPUJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZFwiKSxxZj17cDpabyxuOkJpZ0ludChcIjB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxNGRlZjlkZWEyZjc5Y2Q2NTgxMjYzMWE1Y2Y1ZDNlZFwiKSxoOktmLGE6QmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVjXCIpLGQ6QmlnSW50KFwiMHg1MjAzNmNlZTJiNmZmZTczOGNjNzQwNzk3Nzc5ZTg5ODAwNzAwYTRkNDE0MWQ4YWI3NWViNGRjYTEzNTk3OGEzXCIpLEd4OkJpZ0ludChcIjB4MjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYVwiKSxHeTpCaWdJbnQoXCIweDY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NThcIil9O2Z1bmN0aW9uIEZmKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPVpvLGM9dCp0JXMqdCVzLGY9Z3QoYyxGbyxzKSpjJXMsdT1ndChmLERmLHMpKnQlcyxhPWd0KHUsTWYscykqdSVzLGw9Z3QoYSxlLHMpKmElcyxkPWd0KGwsbixzKSpsJXMsaD1ndChkLHIscykqZCVzLHk9Z3QoaCxvLHMpKmglcyxtPWd0KHksbyxzKSpoJXMsdj1ndChtLGUscykqYSVzO3JldHVybntwb3dfcF81Xzg6Z3QodixGbyxzKSp0JXMsYjI6Y319ZnVuY3Rpb24gWmYodCl7cmV0dXJuIHRbMF0mPTI0OCx0WzMxXSY9MTI3LHRbMzFdfD02NCx0fWNvbnN0IEdmPUh0KHFmLnAse2lzTEU6ITB9KSxrbj0oKCk9Pntjb25zdCB0PUdmLk9SREVSO3JldHVybiBIZih7UDp0LHR5cGU6XCJ4MjU1MTlcIixwb3dQbWludXMyOmU9Pntjb25zdHtwb3dfcF81Xzg6bixiMjpyfT1GZihlKTtyZXR1cm4gY3QoZ3QobixWZix0KSpyLHQpfSxhZGp1c3RTY2FsYXJCeXRlczpaZn0pfSkoKSxHbz0odCxlKT0+KHQrKHQ+PTA/ZTotZSkvem8pL2U7ZnVuY3Rpb24gemYodCxlLG4pe2NvbnN0W1tyLG9dLFtzLGldXT1lLGM9R28oaSp0LG4pLGY9R28oLW8qdCxuKTtsZXQgdT10LWMqci1mKnMsYT0tYypvLWYqaTtjb25zdCBsPXU8RXQsZD1hPEV0O2wmJih1PS11KSxkJiYoYT0tYSk7Y29uc3QgaD15ZShNYXRoLmNlaWwoSW8obikvMikpK25lO2lmKHU8RXR8fHU+PWh8fGE8RXR8fGE+PWgpdGhyb3cgbmV3IEVycm9yKFwic3BsaXRTY2FsYXIgKGVuZG9tb3JwaGlzbSk6IGZhaWxlZCwgaz1cIit0KTtyZXR1cm57azFuZWc6bCxrMTp1LGsybmVnOmQsazI6YX19ZnVuY3Rpb24gUG4odCl7aWYoIVtcImNvbXBhY3RcIixcInJlY292ZXJlZFwiLFwiZGVyXCJdLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcignU2lnbmF0dXJlIGZvcm1hdCBtdXN0IGJlIFwiY29tcGFjdFwiLCBcInJlY292ZXJlZFwiLCBvciBcImRlclwiJyk7cmV0dXJuIHR9ZnVuY3Rpb24gSG4odCxlKXtjb25zdCBuPXt9O2ZvcihsZXQgciBvZiBPYmplY3Qua2V5cyhlKSluW3JdPXRbcl09PT12b2lkIDA/ZVtyXTp0W3JdO3JldHVybiBIZShuLmxvd1MsXCJsb3dTXCIpLEhlKG4ucHJlaGFzaCxcInByZWhhc2hcIiksbi5mb3JtYXQhPT12b2lkIDAmJlBuKG4uZm9ybWF0KSxufWNsYXNzIFlmIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIlwiKXtzdXBlcihlKX19Y29uc3QgeHQ9e0VycjpZZixfdGx2OntlbmNvZGU6KHQsZSk9Pntjb25zdHtFcnI6bn09eHQ7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aCYxKXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YVwiKTtjb25zdCByPWUubGVuZ3RoLzIsbz1EZShyKTtpZihvLmxlbmd0aC8yJjEyOCl0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IGxvbmcgZm9ybSBsZW5ndGggdG9vIGJpZ1wiKTtjb25zdCBzPXI+MTI3P0RlKG8ubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybiBEZSh0KStzK28rZX0sZGVjb2RlKHQsZSl7Y29uc3R7RXJyOm59PXh0O2xldCByPTA7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aDwyfHxlW3IrK10hPT10KXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogd3JvbmcgdGx2XCIpO2NvbnN0IG89ZVtyKytdLHM9ISEobyYxMjgpO2xldCBpPTA7aWYoIXMpaT1vO2Vsc2V7Y29uc3QgZj1vJjEyNztpZighZil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IGluZGVmaW5pdGUgbGVuZ3RoIG5vdCBzdXBwb3J0ZWRcIik7aWYoZj40KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogYnl0ZSBsZW5ndGggaXMgdG9vIGJpZ1wiKTtjb25zdCB1PWUuc3ViYXJyYXkocixyK2YpO2lmKHUubGVuZ3RoIT09Zil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGVcIik7aWYodVswXT09PTApdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGVcIik7Zm9yKGNvbnN0IGEgb2YgdSlpPWk8PDh8YTtpZihyKz1mLGk8MTI4KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogbm90IG1pbmltYWwgZW5jb2RpbmdcIil9Y29uc3QgYz1lLnN1YmFycmF5KHIscitpKTtpZihjLmxlbmd0aCE9PWkpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiB3cm9uZyB2YWx1ZSBsZW5ndGhcIik7cmV0dXJue3Y6YyxsOmUuc3ViYXJyYXkocitpKX19fSxfaW50OntlbmNvZGUodCl7Y29uc3R7RXJyOmV9PXh0O2lmKHQ8RXQpdGhyb3cgbmV3IGUoXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IG49RGUodCk7aWYoTnVtYmVyLnBhcnNlSW50KG5bMF0sMTYpJjgmJihuPVwiMDBcIituKSxuLmxlbmd0aCYxKXRocm93IG5ldyBlKFwidW5leHBlY3RlZCBERVIgcGFyc2luZyBhc3NlcnRpb246IHVucGFkZGVkIGhleFwiKTtyZXR1cm4gbn0sZGVjb2RlKHQpe2NvbnN0e0VycjplfT14dDtpZih0WzBdJjEyOCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlXCIpO2lmKHRbMF09PT0wJiYhKHRbMV0mMTI4KSl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IHVubmVjZXNzYXJ5IGxlYWRpbmcgemVyb1wiKTtyZXR1cm4gVmUodCl9fSx0b1NpZyh0KXtjb25zdHtFcnI6ZSxfaW50Om4sX3RsdjpyfT14dCxvPXR0KFwic2lnbmF0dXJlXCIsdCkse3Y6cyxsOml9PXIuZGVjb2RlKDQ4LG8pO2lmKGkubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtjb25zdHt2OmMsbDpmfT1yLmRlY29kZSgyLHMpLHt2OnUsbDphfT1yLmRlY29kZSgyLGYpO2lmKGEubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtyZXR1cm57cjpuLmRlY29kZShjKSxzOm4uZGVjb2RlKHUpfX0saGV4RnJvbVNpZyh0KXtjb25zdHtfdGx2OmUsX2ludDpufT14dCxyPWUuZW5jb2RlKDIsbi5lbmNvZGUodC5yKSksbz1lLmVuY29kZSgyLG4uZW5jb2RlKHQucykpLHM9citvO3JldHVybiBlLmVuY29kZSg0OCxzKX19LEV0PUJpZ0ludCgwKSxuZT1CaWdJbnQoMSksem89QmlnSW50KDIpLFplPUJpZ0ludCgzKSxXZj1CaWdJbnQoNCk7ZnVuY3Rpb24gcmUodCxlKXtjb25zdHtCWVRFUzpufT10O2xldCByO2lmKHR5cGVvZiBlPT1cImJpZ2ludFwiKXI9ZTtlbHNle2xldCBvPXR0KFwicHJpdmF0ZSBrZXlcIixlKTt0cnl7cj10LmZyb21CeXRlcyhvKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgcHJpdmF0ZSBrZXk6IGV4cGVjdGVkIHVpOGEgb2Ygc2l6ZSAke259LCBnb3QgJHt0eXBlb2YgZX1gKX19aWYoIXQuaXNWYWxpZE5vdDAocikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleTogb3V0IG9mIHJhbmdlIFsxLi5OLTFdXCIpO3JldHVybiByfWZ1bmN0aW9uIFhmKHQsZT17fSl7Y29uc3Qgbj1rZihcIndlaWVyc3RyYXNzXCIsdCxlKSx7RnA6cixGbjpvfT1uO2xldCBzPW4uQ1VSVkU7Y29uc3R7aDppLG46Y309cztLZShlLHt9LHthbGxvd0luZmluaXR5UG9pbnQ6XCJib29sZWFuXCIsY2xlYXJDb2ZhY3RvcjpcImZ1bmN0aW9uXCIsaXNUb3JzaW9uRnJlZTpcImZ1bmN0aW9uXCIsZnJvbUJ5dGVzOlwiZnVuY3Rpb25cIix0b0J5dGVzOlwiZnVuY3Rpb25cIixlbmRvOlwib2JqZWN0XCIsd3JhcFByaXZhdGVLZXk6XCJib29sZWFuXCJ9KTtjb25zdHtlbmRvOmZ9PWU7aWYoZiYmKCFyLmlzMChzLmEpfHx0eXBlb2YgZi5iZXRhIT1cImJpZ2ludFwifHwhQXJyYXkuaXNBcnJheShmLmJhc2lzZXMpKSl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kbzogZXhwZWN0ZWQgXCJiZXRhXCI6IGJpZ2ludCBhbmQgXCJiYXNpc2VzXCI6IGFycmF5Jyk7Y29uc3QgdT1XbyhyLG8pO2Z1bmN0aW9uIGEoKXtpZighci5pc09kZCl0aHJvdyBuZXcgRXJyb3IoXCJjb21wcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkOiBGaWVsZCBkb2VzIG5vdCBoYXZlIC5pc09kZCgpXCIpfWZ1bmN0aW9uIGwoXyxwLGIpe2NvbnN0e3g6Zyx5Onh9PXAudG9BZmZpbmUoKSxFPXIudG9CeXRlcyhnKTtpZihIZShiLFwiaXNDb21wcmVzc2VkXCIpLGIpe2EoKTtjb25zdCBBPSFyLmlzT2RkKHgpO3JldHVybiBfdChZbyhBKSxFKX1lbHNlIHJldHVybiBfdChVaW50OEFycmF5Lm9mKDQpLEUsci50b0J5dGVzKHgpKX1mdW5jdGlvbiBkKF8pe0t0KF8sdm9pZCAwLFwiUG9pbnRcIik7Y29uc3R7cHVibGljS2V5OnAscHVibGljS2V5VW5jb21wcmVzc2VkOmJ9PXUsZz1fLmxlbmd0aCx4PV9bMF0sRT1fLnN1YmFycmF5KDEpO2lmKGc9PT1wJiYoeD09PTJ8fHg9PT0zKSl7Y29uc3QgQT1yLmZyb21CeXRlcyhFKTtpZighci5pc1ZhbGlkKEEpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCB3cm9uZyB4XCIpO2NvbnN0IHc9bShBKTtsZXQgQjt0cnl7Qj1yLnNxcnQodyl9Y2F0Y2goRCl7Y29uc3QgUD1EIGluc3RhbmNlb2YgRXJyb3I/XCI6IFwiK0QubWVzc2FnZTpcIlwiO3Rocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCBzcXJ0IGVycm9yXCIrUCl9YSgpO2NvbnN0IEk9ci5pc09kZChCKTtyZXR1cm4oeCYxKT09PTEhPT1JJiYoQj1yLm5lZyhCKSkse3g6QSx5OkJ9fWVsc2UgaWYoZz09PWImJng9PT00KXtjb25zdCBBPXIuQllURVMsdz1yLmZyb21CeXRlcyhFLnN1YmFycmF5KDAsQSkpLEI9ci5mcm9tQnl0ZXMoRS5zdWJhcnJheShBLEEqMikpO2lmKCF2KHcsQikpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmVcIik7cmV0dXJue3g6dyx5OkJ9fWVsc2UgdGhyb3cgbmV3IEVycm9yKGBiYWQgcG9pbnQ6IGdvdCBsZW5ndGggJHtnfSwgZXhwZWN0ZWQgY29tcHJlc3NlZD0ke3B9IG9yIHVuY29tcHJlc3NlZD0ke2J9YCl9Y29uc3QgaD1lLnRvQnl0ZXN8fGwseT1lLmZyb21CeXRlc3x8ZDtmdW5jdGlvbiBtKF8pe2NvbnN0IHA9ci5zcXIoXyksYj1yLm11bChwLF8pO3JldHVybiByLmFkZChyLmFkZChiLHIubXVsKF8scy5hKSkscy5iKX1mdW5jdGlvbiB2KF8scCl7Y29uc3QgYj1yLnNxcihwKSxnPW0oXyk7cmV0dXJuIHIuZXFsKGIsZyl9aWYoIXYocy5HeCxzLkd5KSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY3VydmUgcGFyYW1zOiBnZW5lcmF0b3IgcG9pbnRcIik7Y29uc3QgVT1yLm11bChyLnBvdyhzLmEsWmUpLFdmKSxGPXIubXVsKHIuc3FyKHMuYiksQmlnSW50KDI3KSk7aWYoci5pczAoci5hZGQoVSxGKSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIGN1cnZlIHBhcmFtczogYSBvciBiXCIpO2Z1bmN0aW9uIFIoXyxwLGI9ITEpe2lmKCFyLmlzVmFsaWQocCl8fGImJnIuaXMwKHApKXRocm93IG5ldyBFcnJvcihgYmFkIHBvaW50IGNvb3JkaW5hdGUgJHtffWApO3JldHVybiBwfWZ1bmN0aW9uIFooXyl7aWYoIShfIGluc3RhbmNlb2YgTykpdGhyb3cgbmV3IEVycm9yKFwiUHJvamVjdGl2ZVBvaW50IGV4cGVjdGVkXCIpfWZ1bmN0aW9uIEgoXyl7aWYoIWZ8fCFmLmJhc2lzZXMpdGhyb3cgbmV3IEVycm9yKFwibm8gZW5kb1wiKTtyZXR1cm4gemYoXyxmLmJhc2lzZXMsby5PUkRFUil9Y29uc3Qgaj1TbygoXyxwKT0+e2NvbnN0e1g6YixZOmcsWjp4fT1fO2lmKHIuZXFsKHgsci5PTkUpKXJldHVybnt4OmIseTpnfTtjb25zdCBFPV8uaXMwKCk7cD09bnVsbCYmKHA9RT9yLk9ORTpyLmludih4KSk7Y29uc3QgQT1yLm11bChiLHApLHc9ci5tdWwoZyxwKSxCPXIubXVsKHgscCk7aWYoRSlyZXR1cm57eDpyLlpFUk8seTpyLlpFUk99O2lmKCFyLmVxbChCLHIuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OkEseTp3fX0pLEw9U28oXz0+e2lmKF8uaXMwKCkpe2lmKGUuYWxsb3dJbmZpbml0eVBvaW50JiYhci5pczAoXy5ZKSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6cCx5OmJ9PV8udG9BZmZpbmUoKTtpZighci5pc1ZhbGlkKHApfHwhci5pc1ZhbGlkKGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBmaWVsZCBlbGVtZW50c1wiKTtpZighdihwLGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodFwiKTtpZighXy5pc1RvcnNpb25GcmVlKCkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXBcIik7cmV0dXJuITB9KTtmdW5jdGlvbiBrKF8scCxiLGcseCl7cmV0dXJuIGI9bmV3IE8oci5tdWwoYi5YLF8pLGIuWSxiLlopLHA9cWUoZyxwKSxiPXFlKHgsYikscC5hZGQoYil9Y2xhc3MgT3tjb25zdHJ1Y3RvcihwLGIsZyl7dGhpcy5YPVIoXCJ4XCIscCksdGhpcy5ZPVIoXCJ5XCIsYiwhMCksdGhpcy5aPVIoXCJ6XCIsZyksT2JqZWN0LmZyZWV6ZSh0aGlzKX1zdGF0aWMgQ1VSVkUoKXtyZXR1cm4gc31zdGF0aWMgZnJvbUFmZmluZShwKXtjb25zdHt4OmIseTpnfT1wfHx7fTtpZighcHx8IXIuaXNWYWxpZChiKXx8IXIuaXNWYWxpZChnKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFmZmluZSBwb2ludFwiKTtpZihwIGluc3RhbmNlb2YgTyl0aHJvdyBuZXcgRXJyb3IoXCJwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkXCIpO3JldHVybiByLmlzMChiKSYmci5pczAoZyk/Ty5aRVJPOm5ldyBPKGIsZyxyLk9ORSl9c3RhdGljIGZyb21CeXRlcyhwKXtjb25zdCBiPU8uZnJvbUFmZmluZSh5KEt0KHAsdm9pZCAwLFwicG9pbnRcIikpKTtyZXR1cm4gYi5hc3NlcnRWYWxpZGl0eSgpLGJ9c3RhdGljIGZyb21IZXgocCl7cmV0dXJuIE8uZnJvbUJ5dGVzKHR0KFwicG9pbnRIZXhcIixwKSl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9cHJlY29tcHV0ZShwPTgsYj0hMCl7cmV0dXJuIEMuY3JlYXRlQ2FjaGUodGhpcyxwKSxifHx0aGlzLm11bHRpcGx5KFplKSx0aGlzfWFzc2VydFZhbGlkaXR5KCl7TCh0aGlzKX1oYXNFdmVuWSgpe2NvbnN0e3k6cH09dGhpcy50b0FmZmluZSgpO2lmKCFyLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3Qgc3VwcG9ydCBpc09kZFwiKTtyZXR1cm4hci5pc09kZChwKX1lcXVhbHMocCl7WihwKTtjb25zdHtYOmIsWTpnLFo6eH09dGhpcyx7WDpFLFk6QSxaOnd9PXAsQj1yLmVxbChyLm11bChiLHcpLHIubXVsKEUseCkpLEk9ci5lcWwoci5tdWwoZyx3KSxyLm11bChBLHgpKTtyZXR1cm4gQiYmSX1uZWdhdGUoKXtyZXR1cm4gbmV3IE8odGhpcy5YLHIubmVnKHRoaXMuWSksdGhpcy5aKX1kb3VibGUoKXtjb25zdHthOnAsYn09cyxnPXIubXVsKGIsWmUpLHtYOngsWTpFLFo6QX09dGhpcztsZXQgdz1yLlpFUk8sQj1yLlpFUk8sST1yLlpFUk8sTj1yLm11bCh4LHgpLEQ9ci5tdWwoRSxFKSxQPXIubXVsKEEsQSksJD1yLm11bCh4LEUpO3JldHVybiAkPXIuYWRkKCQsJCksST1yLm11bCh4LEEpLEk9ci5hZGQoSSxJKSx3PXIubXVsKHAsSSksQj1yLm11bChnLFApLEI9ci5hZGQodyxCKSx3PXIuc3ViKEQsQiksQj1yLmFkZChELEIpLEI9ci5tdWwodyxCKSx3PXIubXVsKCQsdyksST1yLm11bChnLEkpLFA9ci5tdWwocCxQKSwkPXIuc3ViKE4sUCksJD1yLm11bChwLCQpLCQ9ci5hZGQoJCxJKSxJPXIuYWRkKE4sTiksTj1yLmFkZChJLE4pLE49ci5hZGQoTixQKSxOPXIubXVsKE4sJCksQj1yLmFkZChCLE4pLFA9ci5tdWwoRSxBKSxQPXIuYWRkKFAsUCksTj1yLm11bChQLCQpLHc9ci5zdWIodyxOKSxJPXIubXVsKFAsRCksST1yLmFkZChJLEkpLEk9ci5hZGQoSSxJKSxuZXcgTyh3LEIsSSl9YWRkKHApe1oocCk7Y29uc3R7WDpiLFk6ZyxaOnh9PXRoaXMse1g6RSxZOkEsWjp3fT1wO2xldCBCPXIuWkVSTyxJPXIuWkVSTyxOPXIuWkVSTztjb25zdCBEPXMuYSxQPXIubXVsKHMuYixaZSk7bGV0ICQ9ci5tdWwoYixFKSxWPXIubXVsKGcsQSkscT1yLm11bCh4LHcpLEc9ci5hZGQoYixnKSxNPXIuYWRkKEUsQSk7Rz1yLm11bChHLE0pLE09ci5hZGQoJCxWKSxHPXIuc3ViKEcsTSksTT1yLmFkZChiLHgpO2xldCBZPXIuYWRkKEUsdyk7cmV0dXJuIE09ci5tdWwoTSxZKSxZPXIuYWRkKCQscSksTT1yLnN1YihNLFkpLFk9ci5hZGQoZyx4KSxCPXIuYWRkKEEsdyksWT1yLm11bChZLEIpLEI9ci5hZGQoVixxKSxZPXIuc3ViKFksQiksTj1yLm11bChELE0pLEI9ci5tdWwoUCxxKSxOPXIuYWRkKEIsTiksQj1yLnN1YihWLE4pLE49ci5hZGQoVixOKSxJPXIubXVsKEIsTiksVj1yLmFkZCgkLCQpLFY9ci5hZGQoViwkKSxxPXIubXVsKEQscSksTT1yLm11bChQLE0pLFY9ci5hZGQoVixxKSxxPXIuc3ViKCQscSkscT1yLm11bChELHEpLE09ci5hZGQoTSxxKSwkPXIubXVsKFYsTSksST1yLmFkZChJLCQpLCQ9ci5tdWwoWSxNKSxCPXIubXVsKEcsQiksQj1yLnN1YihCLCQpLCQ9ci5tdWwoRyxWKSxOPXIubXVsKFksTiksTj1yLmFkZChOLCQpLG5ldyBPKEIsSSxOKX1zdWJ0cmFjdChwKXtyZXR1cm4gdGhpcy5hZGQocC5uZWdhdGUoKSl9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKE8uWkVSTyl9bXVsdGlwbHkocCl7Y29uc3R7ZW5kbzpifT1lO2lmKCFvLmlzVmFsaWROb3QwKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7bGV0IGcseDtjb25zdCBFPUE9PkMuY2FjaGVkKHRoaXMsQSx3PT5UbihPLHcpKTtpZihiKXtjb25zdHtrMW5lZzpBLGsxOncsazJuZWc6QixrMjpJfT1IKHApLHtwOk4sZjpEfT1FKHcpLHtwOlAsZjokfT1FKEkpO3g9RC5hZGQoJCksZz1rKGIuYmV0YSxOLFAsQSxCKX1lbHNle2NvbnN0e3A6QSxmOnd9PUUocCk7Zz1BLHg9d31yZXR1cm4gVG4oTyxbZyx4XSlbMF19bXVsdGlwbHlVbnNhZmUocCl7Y29uc3R7ZW5kbzpifT1lLGc9dGhpcztpZighby5pc1ZhbGlkKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7aWYocD09PUV0fHxnLmlzMCgpKXJldHVybiBPLlpFUk87aWYocD09PW5lKXJldHVybiBnO2lmKEMuaGFzQ2FjaGUodGhpcykpcmV0dXJuIHRoaXMubXVsdGlwbHkocCk7aWYoYil7Y29uc3R7azFuZWc6eCxrMTpFLGsybmVnOkEsazI6d309SChwKSx7cDE6QixwMjpJfT1qZihPLGcsRSx3KTtyZXR1cm4gayhiLmJldGEsQixJLHgsQSl9ZWxzZSByZXR1cm4gQy51bnNhZmUoZyxwKX1tdWx0aXBseUFuZEFkZFVuc2FmZShwLGIsZyl7Y29uc3QgeD10aGlzLm11bHRpcGx5VW5zYWZlKGIpLmFkZChwLm11bHRpcGx5VW5zYWZlKGcpKTtyZXR1cm4geC5pczAoKT92b2lkIDA6eH10b0FmZmluZShwKXtyZXR1cm4gaih0aGlzLHApfWlzVG9yc2lvbkZyZWUoKXtjb25zdHtpc1RvcnNpb25GcmVlOnB9PWU7cmV0dXJuIGk9PT1uZT8hMDpwP3AoTyx0aGlzKTpDLnVuc2FmZSh0aGlzLGMpLmlzMCgpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtjbGVhckNvZmFjdG9yOnB9PWU7cmV0dXJuIGk9PT1uZT90aGlzOnA/cChPLHRoaXMpOnRoaXMubXVsdGlwbHlVbnNhZmUoaSl9aXNTbWFsbE9yZGVyKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoaSkuaXMwKCl9dG9CeXRlcyhwPSEwKXtyZXR1cm4gSGUocCxcImlzQ29tcHJlc3NlZFwiKSx0aGlzLmFzc2VydFZhbGlkaXR5KCksaChPLHRoaXMscCl9dG9IZXgocD0hMCl7cmV0dXJuIEp0KHRoaXMudG9CeXRlcyhwKSl9dG9TdHJpbmcoKXtyZXR1cm5gPFBvaW50ICR7dGhpcy5pczAoKT9cIlpFUk9cIjp0aGlzLnRvSGV4KCl9PmB9Z2V0IHB4KCl7cmV0dXJuIHRoaXMuWH1nZXQgcHkoKXtyZXR1cm4gdGhpcy5YfWdldCBweigpe3JldHVybiB0aGlzLlp9dG9SYXdCeXRlcyhwPSEwKXtyZXR1cm4gdGhpcy50b0J5dGVzKHApfV9zZXRXaW5kb3dTaXplKHApe3RoaXMucHJlY29tcHV0ZShwKX1zdGF0aWMgbm9ybWFsaXplWihwKXtyZXR1cm4gVG4oTyxwKX1zdGF0aWMgbXNtKHAsYil7cmV0dXJuIExmKE8sbyxwLGIpfXN0YXRpYyBmcm9tUHJpdmF0ZUtleShwKXtyZXR1cm4gTy5CQVNFLm11bHRpcGx5KHJlKG8scCkpfX1PLkJBU0U9bmV3IE8ocy5HeCxzLkd5LHIuT05FKSxPLlpFUk89bmV3IE8oci5aRVJPLHIuT05FLHIuWkVSTyksTy5GcD1yLE8uRm49bztjb25zdCBUPW8uQklUUyxDPW5ldyBDZihPLGUuZW5kbz9NYXRoLmNlaWwoVC8yKTpUKTtyZXR1cm4gTy5CQVNFLnByZWNvbXB1dGUoOCksT31mdW5jdGlvbiBZbyh0KXtyZXR1cm4gVWludDhBcnJheS5vZih0PzI6Myl9ZnVuY3Rpb24gV28odCxlKXtyZXR1cm57c2VjcmV0S2V5OmUuQllURVMscHVibGljS2V5OjErdC5CWVRFUyxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6MSsyKnQuQllURVMscHVibGljS2V5SGFzUHJlZml4OiEwLHNpZ25hdHVyZToyKmUuQllURVN9fWZ1bmN0aW9uIEpmKHQsZT17fSl7Y29uc3R7Rm46bn09dCxyPWUucmFuZG9tQnl0ZXN8fE10LG89T2JqZWN0LmFzc2lnbihXbyh0LkZwLG4pLHtzZWVkOkhvKG4uT1JERVIpfSk7ZnVuY3Rpb24gcyhoKXt0cnl7cmV0dXJuISFyZShuLGgpfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBpKGgseSl7Y29uc3R7cHVibGljS2V5Om0scHVibGljS2V5VW5jb21wcmVzc2VkOnZ9PW87dHJ5e2NvbnN0IFU9aC5sZW5ndGg7cmV0dXJuIHk9PT0hMCYmVSE9PW18fHk9PT0hMSYmVSE9PXY/ITE6ISF0LmZyb21CeXRlcyhoKX1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gYyhoPXIoby5zZWVkKSl7cmV0dXJuIFJmKEt0KGgsby5zZWVkLFwic2VlZFwiKSxuLk9SREVSKX1mdW5jdGlvbiBmKGgseT0hMCl7cmV0dXJuIHQuQkFTRS5tdWx0aXBseShyZShuLGgpKS50b0J5dGVzKHkpfWZ1bmN0aW9uIHUoaCl7Y29uc3QgeT1jKGgpO3JldHVybntzZWNyZXRLZXk6eSxwdWJsaWNLZXk6Zih5KX19ZnVuY3Rpb24gYShoKXtpZih0eXBlb2YgaD09XCJiaWdpbnRcIilyZXR1cm4hMTtpZihoIGluc3RhbmNlb2YgdClyZXR1cm4hMDtjb25zdHtzZWNyZXRLZXk6eSxwdWJsaWNLZXk6bSxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6dn09bztpZihuLmFsbG93ZWRMZW5ndGhzfHx5PT09bSlyZXR1cm47Y29uc3QgVT10dChcImtleVwiLGgpLmxlbmd0aDtyZXR1cm4gVT09PW18fFU9PT12fWZ1bmN0aW9uIGwoaCx5LG09ITApe2lmKGEoaCk9PT0hMCl0aHJvdyBuZXcgRXJyb3IoXCJmaXJzdCBhcmcgbXVzdCBiZSBwcml2YXRlIGtleVwiKTtpZihhKHkpPT09ITEpdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXlcIik7Y29uc3Qgdj1yZShuLGgpO3JldHVybiB0LmZyb21IZXgoeSkubXVsdGlwbHkodikudG9CeXRlcyhtKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7Z2V0UHVibGljS2V5OmYsZ2V0U2hhcmVkU2VjcmV0Omwsa2V5Z2VuOnUsUG9pbnQ6dCx1dGlsczp7aXNWYWxpZFNlY3JldEtleTpzLGlzVmFsaWRQdWJsaWNLZXk6aSxyYW5kb21TZWNyZXRLZXk6Yyxpc1ZhbGlkUHJpdmF0ZUtleTpzLHJhbmRvbVByaXZhdGVLZXk6Yyxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOmg9PnJlKG4saCkscHJlY29tcHV0ZShoPTgseT10LkJBU0Upe3JldHVybiB5LnByZWNvbXB1dGUoaCwhMSl9fSxsZW5ndGhzOm99KX1mdW5jdGlvbiBRZih0LGUsbj17fSl7VWUoZSksS2Uobix7fSx7aG1hYzpcImZ1bmN0aW9uXCIsbG93UzpcImJvb2xlYW5cIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCIsYml0czJpbnQ6XCJmdW5jdGlvblwiLGJpdHMyaW50X21vZE46XCJmdW5jdGlvblwifSk7Y29uc3Qgcj1uLnJhbmRvbUJ5dGVzfHxNdCxvPW4uaG1hY3x8KChiLC4uLmcpPT5rZShlLGIsX3QoLi4uZykpKSx7RnA6cyxGbjppfT10LHtPUkRFUjpjLEJJVFM6Zn09aSx7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmh9PUpmKHQsbikseT17cHJlaGFzaDohMSxsb3dTOnR5cGVvZiBuLmxvd1M9PVwiYm9vbGVhblwiP24ubG93UzohMSxmb3JtYXQ6dm9pZCAwLGV4dHJhRW50cm9weTohMX0sbT1cImNvbXBhY3RcIjtmdW5jdGlvbiB2KGIpe2NvbnN0IGc9Yz4+bmU7cmV0dXJuIGI+Z31mdW5jdGlvbiBVKGIsZyl7aWYoIWkuaXNWYWxpZE5vdDAoZykpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNpZ25hdHVyZSAke2J9OiBvdXQgb2YgcmFuZ2UgMS4uUG9pbnQuRm4uT1JERVJgKTtyZXR1cm4gZ31mdW5jdGlvbiBGKGIsZyl7UG4oZyk7Y29uc3QgeD1oLnNpZ25hdHVyZSxFPWc9PT1cImNvbXBhY3RcIj94Omc9PT1cInJlY292ZXJlZFwiP3grMTp2b2lkIDA7cmV0dXJuIEt0KGIsRSxgJHtnfSBzaWduYXR1cmVgKX1jbGFzcyBSe2NvbnN0cnVjdG9yKGcseCxFKXt0aGlzLnI9VShcInJcIixnKSx0aGlzLnM9VShcInNcIix4KSxFIT1udWxsJiYodGhpcy5yZWNvdmVyeT1FKSxPYmplY3QuZnJlZXplKHRoaXMpfXN0YXRpYyBmcm9tQnl0ZXMoZyx4PW0pe0YoZyx4KTtsZXQgRTtpZih4PT09XCJkZXJcIil7Y29uc3R7cjpJLHM6Tn09eHQudG9TaWcoS3QoZykpO3JldHVybiBuZXcgUihJLE4pfXg9PT1cInJlY292ZXJlZFwiJiYoRT1nWzBdLHg9XCJjb21wYWN0XCIsZz1nLnN1YmFycmF5KDEpKTtjb25zdCBBPWkuQllURVMsdz1nLnN1YmFycmF5KDAsQSksQj1nLnN1YmFycmF5KEEsQSoyKTtyZXR1cm4gbmV3IFIoaS5mcm9tQnl0ZXModyksaS5mcm9tQnl0ZXMoQiksRSl9c3RhdGljIGZyb21IZXgoZyx4KXtyZXR1cm4gdGhpcy5mcm9tQnl0ZXMoX2UoZykseCl9YWRkUmVjb3ZlcnlCaXQoZyl7cmV0dXJuIG5ldyBSKHRoaXMucix0aGlzLnMsZyl9cmVjb3ZlclB1YmxpY0tleShnKXtjb25zdCB4PXMuT1JERVIse3I6RSxzOkEscmVjb3Zlcnk6d309dGhpcztpZih3PT1udWxsfHwhWzAsMSwyLDNdLmluY2x1ZGVzKHcpKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGludmFsaWRcIik7aWYoYyp6bzx4JiZ3PjEpdGhyb3cgbmV3IEVycm9yKFwicmVjb3ZlcnkgaWQgaXMgYW1iaWd1b3VzIGZvciBoPjEgY3VydmVcIik7Y29uc3QgST13PT09Mnx8dz09PTM/RStjOkU7aWYoIXMuaXNWYWxpZChJKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZFwiKTtjb25zdCBOPXMudG9CeXRlcyhJKSxEPXQuZnJvbUJ5dGVzKF90KFlvKCh3JjEpPT09MCksTikpLFA9aS5pbnYoSSksJD1IKHR0KFwibXNnSGFzaFwiLGcpKSxWPWkuY3JlYXRlKC0kKlApLHE9aS5jcmVhdGUoQSpQKSxHPXQuQkFTRS5tdWx0aXBseVVuc2FmZShWKS5hZGQoRC5tdWx0aXBseVVuc2FmZShxKSk7aWYoRy5pczAoKSl0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBhdCBpbmZpbmlmeVwiKTtyZXR1cm4gRy5hc3NlcnRWYWxpZGl0eSgpLEd9aGFzSGlnaFMoKXtyZXR1cm4gdih0aGlzLnMpfXRvQnl0ZXMoZz1tKXtpZihQbihnKSxnPT09XCJkZXJcIilyZXR1cm4gX2UoeHQuaGV4RnJvbVNpZyh0aGlzKSk7Y29uc3QgeD1pLnRvQnl0ZXModGhpcy5yKSxFPWkudG9CeXRlcyh0aGlzLnMpO2lmKGc9PT1cInJlY292ZXJlZFwiKXtpZih0aGlzLnJlY292ZXJ5PT1udWxsKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGJpdCBtdXN0IGJlIHByZXNlbnRcIik7cmV0dXJuIF90KFVpbnQ4QXJyYXkub2YodGhpcy5yZWNvdmVyeSkseCxFKX1yZXR1cm4gX3QoeCxFKX10b0hleChnKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKGcpKX1hc3NlcnRWYWxpZGl0eSgpe31zdGF0aWMgZnJvbUNvbXBhY3QoZyl7cmV0dXJuIFIuZnJvbUJ5dGVzKHR0KFwic2lnXCIsZyksXCJjb21wYWN0XCIpfXN0YXRpYyBmcm9tREVSKGcpe3JldHVybiBSLmZyb21CeXRlcyh0dChcInNpZ1wiLGcpLFwiZGVyXCIpfW5vcm1hbGl6ZVMoKXtyZXR1cm4gdGhpcy5oYXNIaWdoUygpP25ldyBSKHRoaXMucixpLm5lZyh0aGlzLnMpLHRoaXMucmVjb3ZlcnkpOnRoaXN9dG9ERVJSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJkZXJcIil9dG9ERVJIZXgoKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKFwiZGVyXCIpKX10b0NvbXBhY3RSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpfXRvQ29tcGFjdEhleCgpe3JldHVybiBKdCh0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpKX19Y29uc3QgWj1uLmJpdHMyaW50fHxmdW5jdGlvbihnKXtpZihnLmxlbmd0aD44MTkyKXRocm93IG5ldyBFcnJvcihcImlucHV0IGlzIHRvbyBsYXJnZVwiKTtjb25zdCB4PVZlKGcpLEU9Zy5sZW5ndGgqOC1mO3JldHVybiBFPjA/eD4+QmlnSW50KEUpOnh9LEg9bi5iaXRzMmludF9tb2ROfHxmdW5jdGlvbihnKXtyZXR1cm4gaS5jcmVhdGUoWihnKSl9LGo9eWUoZik7ZnVuY3Rpb24gTChiKXtyZXR1cm4gUm4oXCJudW0gPCAyXlwiK2YsYixFdCxqKSxpLnRvQnl0ZXMoYil9ZnVuY3Rpb24gayhiLGcpe3JldHVybiBLdChiLHZvaWQgMCxcIm1lc3NhZ2VcIiksZz9LdChlKGIpLHZvaWQgMCxcInByZWhhc2hlZCBtZXNzYWdlXCIpOmJ9ZnVuY3Rpb24gTyhiLGcseCl7aWYoW1wicmVjb3ZlcmVkXCIsXCJjYW5vbmljYWxcIl0uc29tZShWPT5WIGluIHgpKXRocm93IG5ldyBFcnJvcihcInNpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e2xvd1M6RSxwcmVoYXNoOkEsZXh0cmFFbnRyb3B5Ond9PUhuKHgseSk7Yj1rKGIsQSk7Y29uc3QgQj1IKGIpLEk9cmUoaSxnKSxOPVtMKEkpLEwoQildO2lmKHchPW51bGwmJnchPT0hMSl7Y29uc3QgVj13PT09ITA/cihoLnNlY3JldEtleSk6dztOLnB1c2godHQoXCJleHRyYUVudHJvcHlcIixWKSl9Y29uc3QgRD1fdCguLi5OKSxQPUI7ZnVuY3Rpb24gJChWKXtjb25zdCBxPVooVik7aWYoIWkuaXNWYWxpZE5vdDAocSkpcmV0dXJuO2NvbnN0IEc9aS5pbnYocSksTT10LkJBU0UubXVsdGlwbHkocSkudG9BZmZpbmUoKSxZPWkuY3JlYXRlKE0ueCk7aWYoWT09PUV0KXJldHVybjtjb25zdCBZdD1pLmNyZWF0ZShHKmkuY3JlYXRlKFArWSpJKSk7aWYoWXQ9PT1FdClyZXR1cm47bGV0IGNlPShNLng9PT1ZPzA6Mil8TnVtYmVyKE0ueSZuZSksZmU9WXQ7cmV0dXJuIEUmJnYoWXQpJiYoZmU9aS5uZWcoWXQpLGNlXj0xKSxuZXcgUihZLGZlLGNlKX1yZXR1cm57c2VlZDpELGsyc2lnOiR9fWZ1bmN0aW9uIFQoYixnLHg9e30pe2I9dHQoXCJtZXNzYWdlXCIsYik7Y29uc3R7c2VlZDpFLGsyc2lnOkF9PU8oYixnLHgpO3JldHVybiBFZihlLm91dHB1dExlbixpLkJZVEVTLG8pKEUsQSl9ZnVuY3Rpb24gQyhiKXtsZXQgZztjb25zdCB4PXR5cGVvZiBiPT1cInN0cmluZ1wifHxOZShiKSxFPSF4JiZiIT09bnVsbCYmdHlwZW9mIGI9PVwib2JqZWN0XCImJnR5cGVvZiBiLnI9PVwiYmlnaW50XCImJnR5cGVvZiBiLnM9PVwiYmlnaW50XCI7aWYoIXgmJiFFKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2lnbmF0dXJlLCBleHBlY3RlZCBVaW50OEFycmF5LCBoZXggc3RyaW5nIG9yIFNpZ25hdHVyZSBpbnN0YW5jZVwiKTtpZihFKWc9bmV3IFIoYi5yLGIucyk7ZWxzZSBpZih4KXt0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiZGVyXCIpfWNhdGNoKEEpe2lmKCEoQSBpbnN0YW5jZW9mIHh0LkVycikpdGhyb3cgQX1pZighZyl0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiY29tcGFjdFwiKX1jYXRjaHtyZXR1cm4hMX19cmV0dXJuIGd8fCExfWZ1bmN0aW9uIF8oYixnLHgsRT17fSl7Y29uc3R7bG93UzpBLHByZWhhc2g6dyxmb3JtYXQ6Qn09SG4oRSx5KTtpZih4PXR0KFwicHVibGljS2V5XCIseCksZz1rKHR0KFwibWVzc2FnZVwiLGcpLHcpLFwic3RyaWN0XCJpbiBFKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuc3RyaWN0IHdhcyByZW5hbWVkIHRvIGxvd1NcIik7Y29uc3QgST1CPT09dm9pZCAwP0MoYik6Ui5mcm9tQnl0ZXModHQoXCJzaWdcIixiKSxCKTtpZihJPT09ITEpcmV0dXJuITE7dHJ5e2NvbnN0IE49dC5mcm9tQnl0ZXMoeCk7aWYoQSYmSS5oYXNIaWdoUygpKXJldHVybiExO2NvbnN0e3I6RCxzOlB9PUksJD1IKGcpLFY9aS5pbnYoUCkscT1pLmNyZWF0ZSgkKlYpLEc9aS5jcmVhdGUoRCpWKSxNPXQuQkFTRS5tdWx0aXBseVVuc2FmZShxKS5hZGQoTi5tdWx0aXBseVVuc2FmZShHKSk7cmV0dXJuIE0uaXMwKCk/ITE6aS5jcmVhdGUoTS54KT09PUR9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIHAoYixnLHg9e30pe2NvbnN0e3ByZWhhc2g6RX09SG4oeCx5KTtyZXR1cm4gZz1rKGcsRSksUi5mcm9tQnl0ZXMoYixcInJlY292ZXJlZFwiKS5yZWNvdmVyUHVibGljS2V5KGcpLnRvQnl0ZXMoKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmgsUG9pbnQ6dCxzaWduOlQsdmVyaWZ5Ol8scmVjb3ZlclB1YmxpY0tleTpwLFNpZ25hdHVyZTpSLGhhc2g6ZX0pfWZ1bmN0aW9uIHRhKHQpe2NvbnN0IGU9e2E6dC5hLGI6dC5iLHA6dC5GcC5PUkRFUixuOnQubixoOnQuaCxHeDp0Lkd4LEd5OnQuR3l9LG49dC5GcDtsZXQgcj10LmFsbG93ZWRQcml2YXRlS2V5TGVuZ3Rocz9BcnJheS5mcm9tKG5ldyBTZXQodC5hbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMubWFwKGk9Pk1hdGguY2VpbChpLzIpKSkpOnZvaWQgMDtjb25zdCBvPUh0KGUubix7QklUUzp0Lm5CaXRMZW5ndGgsYWxsb3dlZExlbmd0aHM6cixtb2RGcm9tQnl0ZXM6dC53cmFwUHJpdmF0ZUtleX0pLHM9e0ZwOm4sRm46byxhbGxvd0luZmluaXR5UG9pbnQ6dC5hbGxvd0luZmluaXR5UG9pbnQsZW5kbzp0LmVuZG8saXNUb3JzaW9uRnJlZTp0LmlzVG9yc2lvbkZyZWUsY2xlYXJDb2ZhY3Rvcjp0LmNsZWFyQ29mYWN0b3IsZnJvbUJ5dGVzOnQuZnJvbUJ5dGVzLHRvQnl0ZXM6dC50b0J5dGVzfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6c319ZnVuY3Rpb24gZWEodCl7Y29uc3R7Q1VSVkU6ZSxjdXJ2ZU9wdHM6bn09dGEodCkscj17aG1hYzp0LmhtYWMscmFuZG9tQnl0ZXM6dC5yYW5kb21CeXRlcyxsb3dTOnQubG93UyxiaXRzMmludDp0LmJpdHMyaW50LGJpdHMyaW50X21vZE46dC5iaXRzMmludF9tb2ROfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6bixoYXNoOnQuaGFzaCxlY2RzYU9wdHM6cn19ZnVuY3Rpb24gbmEodCxlKXtjb25zdCBuPWUuUG9pbnQ7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7UHJvamVjdGl2ZVBvaW50Om4sQ1VSVkU6T2JqZWN0LmFzc2lnbih7fSx0LGtvKG4uRm4uT1JERVIsbi5Gbi5CSVRTKSl9KX1mdW5jdGlvbiByYSh0KXtjb25zdHtDVVJWRTplLGN1cnZlT3B0czpuLGhhc2g6cixlY2RzYU9wdHM6b309ZWEodCkscz1YZihlLG4pLGk9UWYocyxyLG8pO3JldHVybiBuYSh0LGkpfWZ1bmN0aW9uIERuKHQsZSl7Y29uc3Qgbj1yPT5yYSh7Li4udCxoYXNoOnJ9KTtyZXR1cm57Li4ubihlKSxjcmVhdGU6bn19Y29uc3QgWG89e3A6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmJjZTZmYWFkYTcxNzllODRmM2I5Y2FjMmZjNjMyNTUxXCIpLGg6QmlnSW50KDEpLGE6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHg1YWM2MzVkOGFhM2E5M2U3YjNlYmJkNTU3Njk4ODZiYzY1MWQwNmIwY2M1M2IwZjYzYmNlM2MzZTI3ZDI2MDRiXCIpLEd4OkJpZ0ludChcIjB4NmIxN2QxZjJlMTJjNDI0N2Y4YmNlNmU1NjNhNDQwZjI3NzAzN2Q4MTJkZWIzM2EwZjRhMTM5NDVkODk4YzI5NlwiKSxHeTpCaWdJbnQoXCIweDRmZTM0MmUyZmUxYTdmOWI4ZWU3ZWI0YTdjMGY5ZTE2MmJjZTMzNTc2YjMxNWVjZWNiYjY0MDY4MzdiZjUxZjVcIil9LEpvPXtwOkJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmZmZmMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjNzYzNGQ4MWY0MzcyZGRmNTgxYTBkYjI0OGIwYTc3YWVjZWMxOTZhY2NjNTI5NzNcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmZmZjAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmY1wiKSxiOkJpZ0ludChcIjB4YjMzMTJmYTdlMjNlZTdlNDk4OGUwNTZiZTNmODJkMTkxODFkOWM2ZWZlODE0MTEyMDMxNDA4OGY1MDEzODc1YWM2NTYzOThkOGEyZWQxOWQyYTg1YzhlZGQzZWMyYWVmXCIpLEd4OkJpZ0ludChcIjB4YWE4N2NhMjJiZThiMDUzNzhlYjFjNzFlZjMyMGFkNzQ2ZTFkM2I2MjhiYTc5Yjk4NTlmNzQxZTA4MjU0MmEzODU1MDJmMjVkYmY1NTI5NmMzYTU0NWUzODcyNzYwYWI3XCIpLEd5OkJpZ0ludChcIjB4MzYxN2RlNGE5NjI2MmM2ZjVkOWU5OGJmOTI5MmRjMjlmOGY0MWRiZDI4OWExNDdjZTlkYTMxMTNiNWYwYjhjMDBhNjBiMWNlMWQ3ZTgxOWQ3YTQzMWQ3YzkwZWEwZTVmXCIpfSxRbz17cDpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHgwMWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYTUxODY4NzgzYmYyZjk2NmI3ZmNjMDE0OGY3MDlhNWQwM2JiNWM5Yjg4OTljNDdhZWJiNmZiNzFlOTEzODY0MDlcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHgwMDUxOTUzZWI5NjE4ZTFjOWExZjkyOWEyMWEwYjY4NTQwZWVhMmRhNzI1Yjk5YjMxNWYzYjhiNDg5OTE4ZWYxMDllMTU2MTkzOTUxZWM3ZTkzN2IxNjUyYzBiZDNiYjFiZjA3MzU3M2RmODgzZDJjMzRmMWVmNDUxZmQ0NmI1MDNmMDBcIiksR3g6QmlnSW50KFwiMHgwMGM2ODU4ZTA2YjcwNDA0ZTljZDllM2VjYjY2MjM5NWI0NDI5YzY0ODEzOTA1M2ZiNTIxZjgyOGFmNjA2YjRkM2RiYWExNGI1ZTc3ZWZlNzU5MjhmZTFkYzEyN2EyZmZhOGRlMzM0OGIzYzE4NTZhNDI5YmY5N2U3ZTMxYzJlNWJkNjZcIiksR3k6QmlnSW50KFwiMHgwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIil9LG9hPUh0KFhvLnApLHNhPUh0KEpvLnApLGlhPUh0KFFvLnApLGNhPURuKHsuLi5YbyxGcDpvYSxsb3dTOiExfSwkZSk7RG4oey4uLkpvLEZwOnNhLGxvd1M6ITF9LHljKSxEbih7Li4uUW8sRnA6aWEsbG93UzohMSxhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6WzEzMCwxMzEsMTMyXX0sYmMpO2NvbnN0IGZhPWNhLFZuPVwiYmFzZTEwXCIscnQ9XCJiYXNlMTZcIixvZT1cImJhc2U2NHBhZFwiLEdlPVwiYmFzZTY0dXJsXCIsc2U9XCJ1dGY4XCIsTW49MCxpZT0xLHdlPTIsYWE9MCx0cz0xLHZlPTEyLEtuPTMyO2Z1bmN0aW9uIHVhKCl7Y29uc3QgdD1rbi51dGlscy5yYW5kb21Qcml2YXRlS2V5KCksZT1rbi5nZXRQdWJsaWNLZXkodCk7cmV0dXJue3ByaXZhdGVLZXk6aXQodCxydCkscHVibGljS2V5Oml0KGUscnQpfX1mdW5jdGlvbiBsYSgpe2NvbnN0IHQ9TXQoS24pO3JldHVybiBpdCh0LHJ0KX1mdW5jdGlvbiBkYSh0LGUpe2NvbnN0IG49a24uZ2V0U2hhcmVkU2VjcmV0KGF0KHQscnQpLGF0KGUscnQpKSxyPXZmKFBlLG4sdm9pZCAwLHZvaWQgMCxLbik7cmV0dXJuIGl0KHIscnQpfWZ1bmN0aW9uIGhhKHQpe2NvbnN0IGU9UGUoYXQodCxydCkpO3JldHVybiBpdChlLHJ0KX1mdW5jdGlvbiBwYSh0KXtjb25zdCBlPVBlKGF0KHQsc2UpKTtyZXR1cm4gaXQoZSxydCl9ZnVuY3Rpb24gcW4odCl7cmV0dXJuIGF0KGAke3R9YCxWbil9ZnVuY3Rpb24gWnQodCl7cmV0dXJuIE51bWJlcihpdCh0LFZuKSl9ZnVuY3Rpb24gZXModCl7cmV0dXJuIHQucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKS5yZXBsYWNlKC89L2csXCJcIil9ZnVuY3Rpb24gbnModCl7Y29uc3QgZT10LnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxuPSg0LWUubGVuZ3RoJTQpJTQ7cmV0dXJuIGUrXCI9XCIucmVwZWF0KG4pfWZ1bmN0aW9uIGdhKHQpe2NvbnN0IGU9cW4odHlwZW9mIHQudHlwZTxcInVcIj90LnR5cGU6TW4pO2lmKFp0KGUpPT09aWUmJnR5cGVvZiB0LnNlbmRlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHNlbmRlciBwdWJsaWMga2V5IGZvciB0eXBlIDEgZW52ZWxvcGVcIik7Y29uc3Qgbj10eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/YXQodC5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyPXR5cGVvZiB0Lml2PFwidVwiP2F0KHQuaXYscnQpOk10KHZlKSxvPWF0KHQuc3ltS2V5LHJ0KSxzPXhvKG8scikuZW5jcnlwdChhdCh0Lm1lc3NhZ2Usc2UpKSxpPUZuKHt0eXBlOmUsc2VhbGVkOnMsaXY6cixzZW5kZXJQdWJsaWNLZXk6bn0pO3JldHVybiB0LmVuY29kaW5nPT09R2U/ZXMoaSk6aX1mdW5jdGlvbiBiYSh0KXtjb25zdCBlPWF0KHQuc3ltS2V5LHJ0KSx7c2VhbGVkOm4saXY6cn09emUoe2VuY29kZWQ6dC5lbmNvZGVkLGVuY29kaW5nOnQuZW5jb2Rpbmd9KSxvPXhvKGUscikuZGVjcnlwdChuKTtpZihvPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtyZXR1cm4gaXQobyxzZSl9ZnVuY3Rpb24geWEodCxlKXtjb25zdCBuPXFuKHdlKSxyPU10KHZlKSxvPWF0KHQsc2UpLHM9Rm4oe3R5cGU6bixzZWFsZWQ6byxpdjpyfSk7cmV0dXJuIGU9PT1HZT9lcyhzKTpzfWZ1bmN0aW9uIG1hKHQsZSl7Y29uc3R7c2VhbGVkOm59PXplKHtlbmNvZGVkOnQsZW5jb2Rpbmc6ZX0pO3JldHVybiBpdChuLHNlKX1mdW5jdGlvbiBGbih0KXtpZihadCh0LnR5cGUpPT09d2UpcmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5zZWFsZWRdKSxvZSk7aWYoWnQodC50eXBlKT09PWllKXtpZih0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO3JldHVybiBpdChsZShbdC50eXBlLHQuc2VuZGVyUHVibGljS2V5LHQuaXYsdC5zZWFsZWRdKSxvZSl9cmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5pdix0LnNlYWxlZF0pLG9lKX1mdW5jdGlvbiB6ZSh0KXtjb25zdCBlPSh0LmVuY29kaW5nfHxvZSk9PT1HZT9ucyh0LmVuY29kZWQpOnQuZW5jb2RlZCxuPWF0KGUsb2UpLHI9bi5zbGljZShhYSx0cyksbz10cztpZihadChyKT09PWllKXtjb25zdCBmPW8rS24sdT1mK3ZlLGE9bi5zbGljZShvLGYpLGw9bi5zbGljZShmLHUpLGQ9bi5zbGljZSh1KTtyZXR1cm57dHlwZTpyLHNlYWxlZDpkLGl2Omwsc2VuZGVyUHVibGljS2V5OmF9fWlmKFp0KHIpPT09d2Upe2NvbnN0IGY9bi5zbGljZShvKSx1PU10KHZlKTtyZXR1cm57dHlwZTpyLHNlYWxlZDpmLGl2OnV9fWNvbnN0IHM9byt2ZSxpPW4uc2xpY2UobyxzKSxjPW4uc2xpY2Uocyk7cmV0dXJue3R5cGU6cixzZWFsZWQ6YyxpdjppfX1mdW5jdGlvbiB3YSh0LGUpe2NvbnN0IG49emUoe2VuY29kZWQ6dCxlbmNvZGluZzplPy5lbmNvZGluZ30pO3JldHVybiBycyh7dHlwZTpadChuLnR5cGUpLHNlbmRlclB1YmxpY0tleTp0eXBlb2Ygbi5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/aXQobi5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyZWNlaXZlclB1YmxpY0tleTplPy5yZWNlaXZlclB1YmxpY0tleX0pfWZ1bmN0aW9uIHJzKHQpe2NvbnN0IGU9dD8udHlwZXx8TW47aWYoZT09PWllKXtpZih0eXBlb2YgdD8uc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXlcIik7aWYodHlwZW9mIHQ/LnJlY2VpdmVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcmVjZWl2ZXIgcHVibGljIGtleVwiKX1yZXR1cm57dHlwZTplLHNlbmRlclB1YmxpY0tleTp0Py5zZW5kZXJQdWJsaWNLZXkscmVjZWl2ZXJQdWJsaWNLZXk6dD8ucmVjZWl2ZXJQdWJsaWNLZXl9fWZ1bmN0aW9uIHZhKHQpe3JldHVybiB0LnR5cGU9PT1pZSYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PT1cInN0cmluZ1wiJiZ0eXBlb2YgdC5yZWNlaXZlclB1YmxpY0tleT09XCJzdHJpbmdcIn1mdW5jdGlvbiB4YSh0KXtyZXR1cm4gdC50eXBlPT09d2V9ZnVuY3Rpb24gb3ModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LngsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnksXCJiYXNlNjRcIik7cmV0dXJuIGxlKFtuZXcgVWludDhBcnJheShbNF0pLGUsbl0pfWZ1bmN0aW9uIEVhKHQsZSl7Y29uc3RbbixyLG9dPXQuc3BsaXQoXCIuXCIpLHM9QnVmZmVyLmZyb20obnMobyksXCJiYXNlNjRcIik7aWYocy5sZW5ndGghPT02NCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGhcIik7Y29uc3QgaT1zLnNsaWNlKDAsMzIpLGM9cy5zbGljZSgzMiw2NCksZj1gJHtufS4ke3J9YCx1PVBlKGYpLGE9b3MoZSk7aWYoIWZhLnZlcmlmeShsZShbaSxjXSksdSxhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZVwiKTtyZXR1cm4gWnModCkucGF5bG9hZH1jb25zdCBzcz1cImlyblwiO2Z1bmN0aW9uIEJhKHQpe3JldHVybiB0Py5yZWxheXx8e3Byb3RvY29sOnNzfX1mdW5jdGlvbiBBYSh0KXtjb25zdCBlPUdzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgUmVsYXkgUHJvdG9jb2wgbm90IHN1cHBvcnRlZDogJHt0fWApO3JldHVybiBlfXZhciBJYT1PYmplY3QuZGVmaW5lUHJvcGVydHksU2E9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsT2E9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsaXM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxOYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFVhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsY3M9KHQsZSxuKT0+ZSBpbiB0P0lhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixabj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpTmEuY2FsbChlLG4pJiZjcyh0LG4sZVtuXSk7aWYoaXMpZm9yKHZhciBuIG9mIGlzKGUpKVVhLmNhbGwoZSxuKSYmY3ModCxuLGVbbl0pO3JldHVybiB0fSxfYT0odCxlKT0+U2EodCxPYShlKSk7ZnVuY3Rpb24gZnModCxlPVwiLVwiKXtjb25zdCBuPXt9LHI9XCJyZWxheVwiK2U7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2lmKG8uc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz1vLnJlcGxhY2UocixcIlwiKSxpPXRbb107bltzXT1pfX0pLG59ZnVuY3Rpb24gUmEodCl7aWYoIXQuaW5jbHVkZXMoXCJ3YzpcIikpe2NvbnN0IHU9Y24odCk7dSE9bnVsbCYmdS5pbmNsdWRlcyhcIndjOlwiKSYmKHQ9dSl9dD10LmluY2x1ZGVzKFwid2M6Ly9cIik/dC5yZXBsYWNlKFwid2M6Ly9cIixcIlwiKTp0LHQ9dC5pbmNsdWRlcyhcIndjOlwiKT90LnJlcGxhY2UoXCJ3YzpcIixcIlwiKTp0O2NvbnN0IGU9dC5pbmRleE9mKFwiOlwiKSxuPXQuaW5kZXhPZihcIj9cIikhPT0tMT90LmluZGV4T2YoXCI/XCIpOnZvaWQgMCxyPXQuc3Vic3RyaW5nKDAsZSksbz10LnN1YnN0cmluZyhlKzEsbikuc3BsaXQoXCJAXCIpLHM9dHlwZW9mIG48XCJ1XCI/dC5zdWJzdHJpbmcobik6XCJcIixpPW5ldyBVUkxTZWFyY2hQYXJhbXMocyksYz1PYmplY3QuZnJvbUVudHJpZXMoaS5lbnRyaWVzKCkpLGY9dHlwZW9mIGMubWV0aG9kcz09XCJzdHJpbmdcIj9jLm1ldGhvZHMuc3BsaXQoXCIsXCIpOnZvaWQgMDtyZXR1cm57cHJvdG9jb2w6cix0b3BpYzphcyhvWzBdKSx2ZXJzaW9uOnBhcnNlSW50KG9bMV0sMTApLHN5bUtleTpjLnN5bUtleSxyZWxheTpmcyhjKSxtZXRob2RzOmYsZXhwaXJ5VGltZXN0YW1wOmMuZXhwaXJ5VGltZXN0YW1wP3BhcnNlSW50KGMuZXhwaXJ5VGltZXN0YW1wLDEwKTp2b2lkIDB9fWZ1bmN0aW9uIGFzKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCIvL1wiKT90LnN1YnN0cmluZygyKTp0fWZ1bmN0aW9uIHVzKHQsZT1cIi1cIil7Y29uc3Qgbj1cInJlbGF5XCIscj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChvPT57Y29uc3Qgcz1vLGk9bitlK3M7dFtzXSYmKHJbaV09dFtzXSl9KSxyfWZ1bmN0aW9uICRhKHQpe2NvbnN0IGU9bmV3IFVSTFNlYXJjaFBhcmFtcyxuPVpuKFpuKF9hKFpuKHt9LHVzKHQucmVsYXkpKSx7c3ltS2V5OnQuc3ltS2V5fSksdC5leHBpcnlUaW1lc3RhbXAmJntleHBpcnlUaW1lc3RhbXA6dC5leHBpcnlUaW1lc3RhbXAudG9TdHJpbmcoKX0pLHQubWV0aG9kcyYme21ldGhvZHM6dC5tZXRob2RzLmpvaW4oXCIsXCIpfSk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKG4pLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPT12b2lkIDAmJmUuYXBwZW5kKHIsU3RyaW5nKG8pKX0pLGAke3QucHJvdG9jb2x9OiR7dC50b3BpY31AJHt0LnZlcnNpb259PyR7ZX1gfWZ1bmN0aW9uIFRhKHQsZSxuKXtyZXR1cm5gJHt0fT93Y19ldj0ke259JnRvcGljPSR7ZX1gfXZhciBDYT1PYmplY3QuZGVmaW5lUHJvcGVydHksamE9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsTGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsbHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxrYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFBhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZHM9KHQsZSxuKT0+ZSBpbiB0P0NhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixIYT0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpa2EuY2FsbChlLG4pJiZkcyh0LG4sZVtuXSk7aWYobHMpZm9yKHZhciBuIG9mIGxzKGUpKVBhLmNhbGwoZSxuKSYmZHModCxuLGVbbl0pO3JldHVybiB0fSxEYT0odCxlKT0+amEodCxMYShlKSk7ZnVuY3Rpb24gR3QodCl7Y29uc3QgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49Pntjb25zdFtyLG9dPW4uc3BsaXQoXCI6XCIpO2UucHVzaChgJHtyfToke299YCl9KSxlfWZ1bmN0aW9uIGhzKHQpe2NvbnN0IGU9W107cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChuPT57ZS5wdXNoKC4uLkd0KG4uYWNjb3VudHMpKX0pLGV9ZnVuY3Rpb24gcHModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5tZXRob2RzKX0pLG59ZnVuY3Rpb24gZ3ModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5ldmVudHMpfSksbn1mdW5jdGlvbiBWYSh0LGUpe2NvbnN0IG49U3ModCxlKTtpZihuKXRocm93IG5ldyBFcnJvcihuLm1lc3NhZ2UpO2NvbnN0IHI9e307Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyh0KSlyW29dPXttZXRob2RzOnMubWV0aG9kcyxldmVudHM6cy5ldmVudHMsY2hhaW5zOnMuYWNjb3VudHMubWFwKGk9PmAke2kuc3BsaXQoXCI6XCIpWzBdfToke2kuc3BsaXQoXCI6XCIpWzFdfWApfTtyZXR1cm4gcn1mdW5jdGlvbiBNYSh0KXt2YXIgZTtjb25zdHtwcm9wb3NhbDp7cmVxdWlyZWROYW1lc3BhY2VzOm4sb3B0aW9uYWxOYW1lc3BhY2VzOnI9e319LHN1cHBvcnRlZE5hbWVzcGFjZXM6b309dCxzPXhlKG4pLGk9eGUociksYz17fTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLGQ9b1thXS5tZXRob2RzLGg9b1thXS5ldmVudHMseT1vW2FdLmFjY291bnRzO2wuZm9yRWFjaChtPT57aWYoIXkuc29tZSh2PT52LmluY2x1ZGVzKG0pKSl0aHJvdyBuZXcgRXJyb3IoYE5vIGFjY291bnRzIHByb3ZpZGVkIGZvciBjaGFpbiAke219IGluIG5hbWVzcGFjZSAke2F9YCl9KSxjW2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KTtjb25zdCBmPU5zKG4sYyxcImFwcHJvdmUoKVwiKTtpZihmKXRocm93IG5ldyBFcnJvcihmLm1lc3NhZ2UpO2NvbnN0IHU9e307aWYoIU9iamVjdC5rZXlzKG4pLmxlbmd0aCYmIU9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gYztPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLmZpbHRlcihtPT57dmFyIHYsVTtyZXR1cm4oVT0odj1zW2FdKT09bnVsbD92b2lkIDA6di5jaGFpbnMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksZD1vW2FdLm1ldGhvZHMuZmlsdGVyKG09Pnt2YXIgdixVO3JldHVybihVPSh2PXNbYV0pPT1udWxsP3ZvaWQgMDp2Lm1ldGhvZHMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksaD1vW2FdLmV2ZW50cy5maWx0ZXIobT0+e3ZhciB2LFU7cmV0dXJuKFU9KHY9c1thXSk9PW51bGw/dm9pZCAwOnYuZXZlbnRzKT09bnVsbD92b2lkIDA6VS5pbmNsdWRlcyhtKX0pLHk9bC5tYXAobT0+b1thXS5hY2NvdW50cy5maWx0ZXIodj0+di5pbmNsdWRlcyhgJHttfTpgKSkpLmZsYXQoKTt1W2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGE9Pnt2YXIgbCxkLGgseSxtLHY7aWYoIW9bYV0pcmV0dXJuO2NvbnN0IFU9KGQ9KGw9aVthXSk9PW51bGw/dm9pZCAwOmwuY2hhaW5zKT09bnVsbD92b2lkIDA6ZC5maWx0ZXIoSD0+b1thXS5jaGFpbnMuaW5jbHVkZXMoSCkpLEY9b1thXS5tZXRob2RzLmZpbHRlcihIPT57dmFyIGosTDtyZXR1cm4oTD0oaj1pW2FdKT09bnVsbD92b2lkIDA6ai5tZXRob2RzKT09bnVsbD92b2lkIDA6TC5pbmNsdWRlcyhIKX0pLFI9b1thXS5ldmVudHMuZmlsdGVyKEg9Pnt2YXIgaixMO3JldHVybihMPShqPWlbYV0pPT1udWxsP3ZvaWQgMDpqLmV2ZW50cyk9PW51bGw/dm9pZCAwOkwuaW5jbHVkZXMoSCl9KSxaPVU/Lm1hcChIPT5vW2FdLmFjY291bnRzLmZpbHRlcihqPT5qLmluY2x1ZGVzKGAke0h9OmApKSkuZmxhdCgpO3VbYV09e2NoYWluczp1dCgoaD11W2FdKT09bnVsbD92b2lkIDA6aC5jaGFpbnMsVSksbWV0aG9kczp1dCgoeT11W2FdKT09bnVsbD92b2lkIDA6eS5tZXRob2RzLEYpLGV2ZW50czp1dCgobT11W2FdKT09bnVsbD92b2lkIDA6bS5ldmVudHMsUiksYWNjb3VudHM6dXQoKHY9dVthXSk9PW51bGw/dm9pZCAwOnYuYWNjb3VudHMsWil9fSk7Zm9yKGNvbnN0W2EsbF1vZiBPYmplY3QuZW50cmllcyh1KSkobC5hY2NvdW50cy5sZW5ndGg9PT0wfHwoKGU9bD8uY2hhaW5zKT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpPT09MCkmJmRlbGV0ZSB1W2FdO3JldHVybiB1fWZ1bmN0aW9uIEduKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKX1mdW5jdGlvbiBicyh0KXtyZXR1cm4gR24odCk/dC5zcGxpdChcIjpcIilbMF06dH1mdW5jdGlvbiB4ZSh0KXt2YXIgZSxuLHI7Y29uc3Qgbz17fTtpZighWWUodCkpcmV0dXJuIG87Zm9yKGNvbnN0W3MsaV1vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgYz1HbihzKT9bc106aS5jaGFpbnMsZj1pLm1ldGhvZHN8fFtdLHU9aS5ldmVudHN8fFtdLGE9YnMocyk7b1thXT1EYShIYSh7fSxvW2FdKSx7Y2hhaW5zOnV0KGMsKGU9b1thXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5zKSxtZXRob2RzOnV0KGYsKG49b1thXSk9PW51bGw/dm9pZCAwOm4ubWV0aG9kcyksZXZlbnRzOnV0KHUsKHI9b1thXSk9PW51bGw/dm9pZCAwOnIuZXZlbnRzKX0pfXJldHVybiBvfWZ1bmN0aW9uIHlzKHQpe2NvbnN0IGU9e307cmV0dXJuIHQ/LmZvckVhY2gobj0+e3ZhciByO2NvbnN0W28sc109bi5zcGxpdChcIjpcIik7ZVtvXXx8KGVbb109e2FjY291bnRzOltdLGNoYWluczpbXSxldmVudHM6W10sbWV0aG9kczpbXX0pLGVbb10uYWNjb3VudHMucHVzaChuKSwocj1lW29dLmNoYWlucyk9PW51bGx8fHIucHVzaChgJHtvfToke3N9YCl9KSxlfWZ1bmN0aW9uIEthKHQsZSl7ZT1lLm1hcChyPT5yLnJlcGxhY2UoXCJkaWQ6cGtoOlwiLFwiXCIpKTtjb25zdCBuPXlzKGUpO2Zvcihjb25zdFtyLG9db2YgT2JqZWN0LmVudHJpZXMobikpby5tZXRob2RzP28ubWV0aG9kcz11dChvLm1ldGhvZHMsdCk6by5tZXRob2RzPXQsby5ldmVudHM9W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07cmV0dXJuIG59ZnVuY3Rpb24gcWEodCxlKXt2YXIgbixyLG8scyxpLGM7Y29uc3QgZj14ZSh0KSx1PXhlKGUpLGE9e30sbD1PYmplY3Qua2V5cyhmKS5jb25jYXQoT2JqZWN0LmtleXModSkpO2Zvcihjb25zdCBkIG9mIGwpYVtkXT17Y2hhaW5zOnV0KChuPWZbZF0pPT1udWxsP3ZvaWQgMDpuLmNoYWlucywocj11W2RdKT09bnVsbD92b2lkIDA6ci5jaGFpbnMpLG1ldGhvZHM6dXQoKG89ZltkXSk9PW51bGw/dm9pZCAwOm8ubWV0aG9kcywocz11W2RdKT09bnVsbD92b2lkIDA6cy5tZXRob2RzKSxldmVudHM6dXQoKGk9ZltkXSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzLChjPXVbZF0pPT1udWxsP3ZvaWQgMDpjLmV2ZW50cyl9O3JldHVybiBhfWNvbnN0IG1zPXtJTlZBTElEX01FVEhPRDp7bWVzc2FnZTpcIkludmFsaWQgbWV0aG9kLlwiLGNvZGU6MTAwMX0sSU5WQUxJRF9FVkVOVDp7bWVzc2FnZTpcIkludmFsaWQgZXZlbnQuXCIsY29kZToxMDAyfSxJTlZBTElEX1VQREFURV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjEwMDN9LElOVkFMSURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIGV4dGVuZCByZXF1ZXN0LlwiLGNvZGU6MTAwNH0sSU5WQUxJRF9TRVNTSU9OX1NFVFRMRV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCBzZXNzaW9uIHNldHRsZSByZXF1ZXN0LlwiLGNvZGU6MTAwNX0sVU5BVVRIT1JJWkVEX01FVEhPRDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBtZXRob2QuXCIsY29kZTozMDAxfSxVTkFVVEhPUklaRURfRVZFTlQ6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXZlbnQuXCIsY29kZTozMDAyfSxVTkFVVEhPUklaRURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgdXBkYXRlIHJlcXVlc3QuXCIsY29kZTozMDAzfSxVTkFVVEhPUklaRURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZTozMDA0fSxVU0VSX1JFSkVDVEVEOnttZXNzYWdlOlwiVXNlciByZWplY3RlZC5cIixjb2RlOjVlM30sVVNFUl9SRUpFQ1RFRF9DSEFJTlM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGNoYWlucy5cIixjb2RlOjUwMDF9LFVTRVJfUkVKRUNURURfTUVUSE9EUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgbWV0aG9kcy5cIixjb2RlOjUwMDJ9LFVTRVJfUkVKRUNURURfRVZFTlRTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBldmVudHMuXCIsY29kZTo1MDAzfSxVTlNVUFBPUlRFRF9DSEFJTlM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBjaGFpbnMuXCIsY29kZTo1MTAwfSxVTlNVUFBPUlRFRF9NRVRIT0RTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbWV0aG9kcy5cIixjb2RlOjUxMDF9LFVOU1VQUE9SVEVEX0VWRU5UUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGV2ZW50cy5cIixjb2RlOjUxMDJ9LFVOU1VQUE9SVEVEX0FDQ09VTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgYWNjb3VudHMuXCIsY29kZTo1MTAzfSxVTlNVUFBPUlRFRF9OQU1FU1BBQ0VfS0VZOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbmFtZXNwYWNlIGtleS5cIixjb2RlOjUxMDR9LFVTRVJfRElTQ09OTkVDVEVEOnttZXNzYWdlOlwiVXNlciBkaXNjb25uZWN0ZWQuXCIsY29kZTo2ZTN9LFNFU1NJT05fU0VUVExFTUVOVF9GQUlMRUQ6e21lc3NhZ2U6XCJTZXNzaW9uIHNldHRsZW1lbnQgZmFpbGVkLlwiLGNvZGU6N2UzfSxXQ19NRVRIT0RfVU5TVVBQT1JURUQ6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCB3Y18gbWV0aG9kLlwiLGNvZGU6MTAwMDF9fSx3cz17Tk9UX0lOSVRJQUxJWkVEOnttZXNzYWdlOlwiTm90IGluaXRpYWxpemVkLlwiLGNvZGU6MX0sTk9fTUFUQ0hJTkdfS0VZOnttZXNzYWdlOlwiTm8gbWF0Y2hpbmcga2V5LlwiLGNvZGU6Mn0sUkVTVE9SRV9XSUxMX09WRVJSSURFOnttZXNzYWdlOlwiUmVzdG9yZSB3aWxsIG92ZXJyaWRlLlwiLGNvZGU6M30sUkVTVUJTQ1JJQkVEOnttZXNzYWdlOlwiUmVzdWJzY3JpYmVkLlwiLGNvZGU6NH0sTUlTU0lOR19PUl9JTlZBTElEOnttZXNzYWdlOlwiTWlzc2luZyBvciBpbnZhbGlkLlwiLGNvZGU6NX0sRVhQSVJFRDp7bWVzc2FnZTpcIkV4cGlyZWQuXCIsY29kZTo2fSxVTktOT1dOX1RZUEU6e21lc3NhZ2U6XCJVbmtub3duIHR5cGUuXCIsY29kZTo3fSxNSVNNQVRDSEVEX1RPUElDOnttZXNzYWdlOlwiTWlzbWF0Y2hlZCB0b3BpYy5cIixjb2RlOjh9LE5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVM6e21lc3NhZ2U6XCJOb24gY29uZm9ybWluZyBuYW1lc3BhY2VzLlwiLGNvZGU6OX19O2Z1bmN0aW9uIEJ0KHQsZSl7Y29uc3R7bWVzc2FnZTpuLGNvZGU6cn09d3NbdF07cmV0dXJue21lc3NhZ2U6ZT9gJHtufSAke2V9YDpuLGNvZGU6cn19ZnVuY3Rpb24genQodCxlKXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT1tc1t0XTtyZXR1cm57bWVzc2FnZTplP2Ake259ICR7ZX1gOm4sY29kZTpyfX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3R5cGVvZiBlPFwidVwiJiZ0Lmxlbmd0aD90LmV2ZXJ5KGUpOiEwOiExfWZ1bmN0aW9uIFllKHQpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1PYmplY3QucHJvdG90eXBlJiZPYmplY3Qua2V5cyh0KS5sZW5ndGh9ZnVuY3Rpb24gRHQodCl7cmV0dXJuIHR5cGVvZiB0PlwidVwifWZ1bmN0aW9uIGZ0KHQsZSl7cmV0dXJuIGUmJkR0KHQpPyEwOnR5cGVvZiB0PT1cInN0cmluZ1wiJiYhIXQudHJpbSgpLmxlbmd0aH1mdW5jdGlvbiBXZSh0LGUpe3JldHVybiBlJiZEdCh0KT8hMDp0eXBlb2YgdD09XCJudW1iZXJcIiYmIWlzTmFOKHQpfWZ1bmN0aW9uIEZhKHQsZSl7Y29uc3R7cmVxdWlyZWROYW1lc3BhY2VzOm59PWUscj1PYmplY3Qua2V5cyh0Lm5hbWVzcGFjZXMpLG89T2JqZWN0LmtleXMobik7bGV0IHM9ITA7cmV0dXJuIEl0KG8scik/KHIuZm9yRWFjaChpPT57Y29uc3R7YWNjb3VudHM6YyxtZXRob2RzOmYsZXZlbnRzOnV9PXQubmFtZXNwYWNlc1tpXSxhPUd0KGMpLGw9bltpXTsoIUl0KEllKGksbCksYSl8fCFJdChsLm1ldGhvZHMsZil8fCFJdChsLmV2ZW50cyx1KSkmJihzPSExKX0pLHMpOiExfWZ1bmN0aW9uIEJlKHQpe3JldHVybiBmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIikubGVuZ3RoPT09MjohMX1mdW5jdGlvbiB2cyh0KXtpZihmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIikpe2NvbnN0IGU9dC5zcGxpdChcIjpcIik7aWYoZS5sZW5ndGg9PT0zKXtjb25zdCBuPWVbMF0rXCI6XCIrZVsxXTtyZXR1cm4hIWVbMl0mJkJlKG4pfX1yZXR1cm4hMX1mdW5jdGlvbiBaYSh0KXtmdW5jdGlvbiBlKG4pe3RyeXtyZXR1cm4gdHlwZW9mIG5ldyBVUkwobik8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fXRyeXtpZihmdCh0LCExKSl7aWYoZSh0KSlyZXR1cm4hMDtjb25zdCBuPWNuKHQpO3JldHVybiBlKG4pfX1jYXRjaHt9cmV0dXJuITF9ZnVuY3Rpb24gR2EodCl7dmFyIGU7cmV0dXJuKGU9dD8ucHJvcG9zZXIpPT1udWxsP3ZvaWQgMDplLnB1YmxpY0tleX1mdW5jdGlvbiB6YSh0KXtyZXR1cm4gdD8udG9waWN9ZnVuY3Rpb24gWWEodCxlKXtsZXQgbj1udWxsO3JldHVybiBmdCh0Py5wdWJsaWNLZXksITEpfHwobj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksbn1mdW5jdGlvbiB6bih0KXtsZXQgZT0hMDtyZXR1cm4gRWUodCk/dC5sZW5ndGgmJihlPXQuZXZlcnkobj0+ZnQobiwhMSkpKTplPSExLGV9ZnVuY3Rpb24geHModCxlLG4pe2xldCByPW51bGw7cmV0dXJuIEVlKGUpJiZlLmxlbmd0aD9lLmZvckVhY2gobz0+e3J8fEJlKG8pfHwocj16dChcIlVOU1VQUE9SVEVEX0NIQUlOU1wiLGAke259LCBjaGFpbiAke299IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZm9ybWF0YCkpfSk6QmUodCl8fChyPXp0KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWlucyBtdXN0IGJlIGRlZmluZWQgYXMgXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGUuZy4gXCJlaXAxNTU6MVwiOiB7Li4ufSBpbiB0aGUgbmFtZXNwYWNlIGtleSBPUiBhcyBhbiBhcnJheSBvZiBDQUlQLTIgY2hhaW5JZHMgZS5nLiBlaXAxNTU6IHsgY2hhaW5zOiBbXCJlaXAxNTU6MVwiLCBcImVpcDE1NTo1XCJdIH1gKSkscn1mdW5jdGlvbiBFcyh0LGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW28sc10pPT57aWYocilyZXR1cm47Y29uc3QgaT14cyhvLEllKG8scyksYCR7ZX0gJHtufWApO2kmJihyPWkpfSkscn1mdW5jdGlvbiBCcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIEVlKHQpP3QuZm9yRWFjaChyPT57bnx8dnMocil8fChuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudCAke3J9IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSl9KTpuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgY29uZm9ybWluZyB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSxufWZ1bmN0aW9uIEFzKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUJzKHI/LmFjY291bnRzLGAke2V9IG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBJcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIHpuKHQ/Lm1ldGhvZHMpP3puKHQ/LmV2ZW50cyl8fChuPXp0KFwiVU5TVVBQT1JURURfRVZFTlRTXCIsYCR7ZX0sIGV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gZXZlbnRzYCkpOm49enQoXCJVTlNVUFBPUlRFRF9NRVRIT0RTXCIsYCR7ZX0sIG1ldGhvZHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIG1ldGhvZHNgKSxufWZ1bmN0aW9uIFluKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUlzKHIsYCR7ZX0sIG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBXYSh0LGUsbil7bGV0IHI9bnVsbDtpZih0JiZZZSh0KSl7Y29uc3Qgbz1Zbih0LGUpO28mJihyPW8pO2NvbnN0IHM9RXModCxlLG4pO3MmJihyPXMpfWVsc2Ugcj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCAke259IHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gU3ModCxlKXtsZXQgbj1udWxsO2lmKHQmJlllKHQpKXtjb25zdCByPVluKHQsZSk7ciYmKG49cik7Y29uc3Qgbz1Bcyh0LGUpO28mJihuPW8pfWVsc2Ugbj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCBuYW1lc3BhY2VzIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIG59ZnVuY3Rpb24gT3ModCl7cmV0dXJuIGZ0KHQucHJvdG9jb2wsITApfWZ1bmN0aW9uIFhhKHQsZSl7bGV0IG49ITE7cmV0dXJuIGUmJiF0P249ITA6dCYmRWUodCkmJnQubGVuZ3RoJiZ0LmZvckVhY2gocj0+e249T3Mocil9KSxufWZ1bmN0aW9uIEphKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIn1mdW5jdGlvbiBRYSh0KXtyZXR1cm4gdHlwZW9mIHQ8XCJ1XCImJnR5cGVvZiB0IT09bnVsbH1mdW5jdGlvbiB0dSh0KXtyZXR1cm4hKCF0fHx0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuY29kZXx8IVdlKHQuY29kZSwhMSl8fCF0Lm1lc3NhZ2V8fCFmdCh0Lm1lc3NhZ2UsITEpKX1mdW5jdGlvbiBldSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5tZXRob2QsITEpKX1mdW5jdGlvbiBudSh0KXtyZXR1cm4hKER0KHQpfHxEdCh0LnJlc3VsdCkmJkR0KHQuZXJyb3IpfHwhV2UodC5pZCwhMSl8fCFmdCh0Lmpzb25ycGMsITEpKX1mdW5jdGlvbiBydSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5uYW1lLCExKSl9ZnVuY3Rpb24gb3UodCxlKXtyZXR1cm4hKCFCZShlKXx8IWhzKHQpLmluY2x1ZGVzKGUpKX1mdW5jdGlvbiBzdSh0LGUsbil7cmV0dXJuIGZ0KG4sITEpP3BzKHQsZSkuaW5jbHVkZXMobik6ITF9ZnVuY3Rpb24gaXUodCxlLG4pe3JldHVybiBmdChuLCExKT9ncyh0LGUpLmluY2x1ZGVzKG4pOiExfWZ1bmN0aW9uIE5zKHQsZSxuKXtsZXQgcj1udWxsO2NvbnN0IG89Y3UodCkscz1mdShlKSxpPU9iamVjdC5rZXlzKG8pLGM9T2JqZWN0LmtleXMocyksZj1VcyhPYmplY3Qua2V5cyh0KSksdT1VcyhPYmplY3Qua2V5cyhlKSksYT1mLmZpbHRlcihsPT4hdS5pbmNsdWRlcyhsKSk7cmV0dXJuIGEubGVuZ3RoJiYocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGtleXMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZE5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHthLnRvU3RyaW5nKCl9XG4gICAgICBSZWNlaXZlZDogJHtPYmplY3Qua2V5cyhlKS50b1N0cmluZygpfWApKSxJdChpLGMpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGNoYWlucyBkb24ndCBzYXRpc2Z5IHJlcXVpcmVkIG5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHtpLnRvU3RyaW5nKCl9XG4gICAgICBBcHByb3ZlZDogJHtjLnRvU3RyaW5nKCl9YCkpLE9iamVjdC5rZXlzKGUpLmZvckVhY2gobD0+e2lmKCFsLmluY2x1ZGVzKFwiOlwiKXx8cilyZXR1cm47Y29uc3QgZD1HdChlW2xdLmFjY291bnRzKTtkLmluY2x1ZGVzKGwpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGFjY291bnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGFjY291bnRzIGZvciAke2x9XG4gICAgICAgIFJlcXVpcmVkOiAke2x9XG4gICAgICAgIEFwcHJvdmVkOiAke2QudG9TdHJpbmcoKX1gKSl9KSxpLmZvckVhY2gobD0+e3J8fChJdChvW2xdLm1ldGhvZHMsc1tsXS5tZXRob2RzKT9JdChvW2xdLmV2ZW50cyxzW2xdLmV2ZW50cyl8fChyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgZXZlbnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGV2ZW50cyBmb3IgJHtsfWApKTpyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBtZXRob2RzIGZvciAke2x9YCkpfSkscn1mdW5jdGlvbiBjdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt2YXIgcjtuLmluY2x1ZGVzKFwiOlwiKT9lW25dPXRbbl06KHI9dFtuXS5jaGFpbnMpPT1udWxsfHxyLmZvckVhY2gobz0+e2Vbb109e21ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX0pLGV9ZnVuY3Rpb24gVXModCl7cmV0dXJuWy4uLm5ldyBTZXQodC5tYXAoZT0+ZS5pbmNsdWRlcyhcIjpcIik/ZS5zcGxpdChcIjpcIilbMF06ZSkpXX1mdW5jdGlvbiBmdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49PntpZihuLmluY2x1ZGVzKFwiOlwiKSllW25dPXRbbl07ZWxzZXtjb25zdCByPUd0KHRbbl0uYWNjb3VudHMpO3I/LmZvckVhY2gobz0+e2Vbb109e2FjY291bnRzOnRbbl0uYWNjb3VudHMuZmlsdGVyKHM9PnMuaW5jbHVkZXMoYCR7b306YCkpLG1ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX19KSxlfWZ1bmN0aW9uIGF1KHQsZSl7cmV0dXJuIFdlKHQsITEpJiZ0PD1lLm1heCYmdD49ZS5taW59ZnVuY3Rpb24gdXUoKXtjb25zdCB0PVZ0KCk7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pntzd2l0Y2godCl7Y2FzZSBldC5icm93c2VyOmUoX3MoKSk7YnJlYWs7Y2FzZSBldC5yZWFjdE5hdGl2ZTplKFJzKCkpO2JyZWFrO2Nhc2UgZXQubm9kZTplKCRzKCkpO2JyZWFrO2RlZmF1bHQ6ZSghMCl9fSl9ZnVuY3Rpb24gX3MoKXtyZXR1cm4gV3QoKSYmbmF2aWdhdG9yPy5vbkxpbmV9YXN5bmMgZnVuY3Rpb24gUnMoKXtpZihBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZnbG9iYWwhPW51bGwmJmdsb2JhbC5OZXRJbmZvKXtjb25zdCB0PWF3YWl0KGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLk5ldEluZm8uZmV0Y2goKSk7cmV0dXJuIHQ/LmlzQ29ubmVjdGVkfXJldHVybiEwfWZ1bmN0aW9uICRzKCl7cmV0dXJuITB9ZnVuY3Rpb24gbHUodCl7c3dpdGNoKFZ0KCkpe2Nhc2UgZXQuYnJvd3NlcjpUcyh0KTticmVhaztjYXNlIGV0LnJlYWN0TmF0aXZlOkNzKHQpO2JyZWFrO2Nhc2UgZXQubm9kZTpicmVha319ZnVuY3Rpb24gVHModCl7IUF0KCkmJld0KCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgpPT50KCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9PnQoITEpKSl9ZnVuY3Rpb24gQ3ModCl7QXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyYmZ2xvYmFsPy5OZXRJbmZvLmFkZEV2ZW50TGlzdGVuZXIoZT0+dChlPy5pc0Nvbm5lY3RlZCkpfWZ1bmN0aW9uIGR1KCl7dmFyIHQ7cmV0dXJuIFd0KCkmJmFlKCk/KCh0PWFlKCkpPT1udWxsP3ZvaWQgMDp0LnZpc2liaWxpdHlTdGF0ZSk9PT1cInZpc2libGVcIjohMH1jb25zdCBXbj17fTtjbGFzcyBodXtzdGF0aWMgZ2V0KGUpe3JldHVybiBXbltlXX1zdGF0aWMgc2V0KGUsbil7V25bZV09bn1zdGF0aWMgZGVsZXRlKGUpe2RlbGV0ZSBXbltlXX19ZnVuY3Rpb24ganModCl7Y29uc3QgZT11ZS5kZWNvZGUodCk7aWYoZS5sZW5ndGg8MzMpdGhyb3cgbmV3IEVycm9yKFwiVG9vIHNob3J0IHRvIGNvbnRhaW4gYSBwdWJsaWMga2V5XCIpO3JldHVybiBlLnNsaWNlKDEsMzMpfWZ1bmN0aW9uIExzKHtwdWJsaWNLZXk6dCxzaWduYXR1cmU6ZSxwYXlsb2FkOm59KXt2YXIgcjtjb25zdCBvPVhuKG4ubWV0aG9kKSxzPTEyOHxwYXJzZUludCgoKHI9bi52ZXJzaW9uKT09bnVsbD92b2lkIDA6ci50b1N0cmluZygpKXx8XCI0XCIpLGk9Z3Uobi5hZGRyZXNzKSxjPW4uZXJhPT09XCIwMFwiP25ldyBVaW50OEFycmF5KFswXSk6WG4obi5lcmEpO2lmKGMubGVuZ3RoIT09MSYmYy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXJhIGxlbmd0aFwiKTtjb25zdCBmPXBhcnNlSW50KG4ubm9uY2UsMTYpLHU9bmV3IFVpbnQ4QXJyYXkoW2YmMjU1LGY+PjgmMjU1XSksYT1CaWdJbnQoYDB4JHtwdShuLnRpcCl9YCksbD15dShhKSxkPW5ldyBVaW50OEFycmF5KFswLC4uLnQsaSwuLi5lLC4uLmMsLi4udSwuLi5sLC4uLm9dKSxoPWJ1KGQubGVuZ3RoKzEpO3JldHVybiBuZXcgVWludDhBcnJheShbLi4uaCxzLC4uLmRdKX1mdW5jdGlvbiBrcyh0KXtjb25zdCBlPVhuKHQpLG49enMoZSx2b2lkIDAsMzIpO3JldHVyblwiMHhcIitCdWZmZXIuZnJvbShuKS50b1N0cmluZyhcImhleFwiKX1mdW5jdGlvbiBYbih0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5yZXBsYWNlKC9eMHgvLFwiXCIpLm1hdGNoKC8uezEsMn0vZykubWFwKGU9PnBhcnNlSW50KGUsMTYpKSl9ZnVuY3Rpb24gcHUodCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcIjB4XCIpP3Quc2xpY2UoMik6dH1mdW5jdGlvbiBndSh0KXtjb25zdCBlPXVlLmRlY29kZSh0KVswXTtyZXR1cm4gZT09PTQyPzA6ZT09PTYwPzI6MX1mdW5jdGlvbiBidSh0KXtpZih0PDY0KXJldHVybiBuZXcgVWludDhBcnJheShbdDw8Ml0pO2lmKHQ8MTYzODQpe2NvbnN0IGU9dDw8MnwxO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTVdKX1lbHNlIGlmKHQ8MTw8MzApe2NvbnN0IGU9dDw8MnwyO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV0pfWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFjdCBlbmNvZGluZyA+IDJeMzAgbm90IHN1cHBvcnRlZFwiKX1mdW5jdGlvbiB5dSh0KXtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDYpKXJldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKHQ8PEJpZ0ludCgyKSldKTtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDE0KSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDEpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpXSl9ZWxzZSBpZih0PEJpZ0ludCgxKTw8QmlnSW50KDMwKSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDIpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoMTYpJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDI0KSZCaWdJbnQoMjU1KSldKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBjb21wYWN0IGVuY29kaW5nIG5vdCBzdXBwb3J0ZWQgPiAyXjMwXCIpfWZ1bmN0aW9uIG11KHQpe2NvbnN0IGU9VWludDhBcnJheS5mcm9tKEJ1ZmZlci5mcm9tKHQuc2lnbmF0dXJlLFwiaGV4XCIpKSxuPWpzKHQudHJhbnNhY3Rpb24uYWRkcmVzcykscj1Mcyh7cHVibGljS2V5Om4sc2lnbmF0dXJlOmUscGF5bG9hZDp0LnRyYW5zYWN0aW9ufSksbz1CdWZmZXIuZnJvbShyKS50b1N0cmluZyhcImhleFwiKTtyZXR1cm4ga3Mobyl9ZnVuY3Rpb24gd3Uoe2xvZ2dlcjp0LG5hbWU6ZX0pe2NvbnN0IG49dHlwZW9mIHQ9PVwic3RyaW5nXCI/WXMoe29wdHM6e2xldmVsOnQsbmFtZTplfX0pLmxvZ2dlcjp0O3JldHVybiBuLmxldmVsPXR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6dC5sZXZlbCxufWV4cG9ydHtWbiBhcyBCQVNFMTAscnQgYXMgQkFTRTE2LG9lIGFzIEJBU0U2NCxHZSBhcyBCQVNFNjRVUkwsY2kgYXMgQ09MT04sbm4gYXMgREVGQVVMVF9ERVBUSCxTZSBhcyBFTVBUWV9TUEFDRSxldCBhcyBFTlZfTUFQLHdzIGFzIElOVEVSTkFMX0VSUk9SUyxraSBhcyBMaW1pdGVkU2V0LGh1IGFzIE1lbW9yeVN0b3JlLGZpIGFzIE9ORV9USE9VU0FORCxkciBhcyBSRUFDVF9OQVRJVkVfUFJPRFVDVCxzcyBhcyBSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wsbXMgYXMgU0RLX0VSUk9SUyxwciBhcyBTREtfVFlQRSxociBhcyBTTEFTSCxNbiBhcyBUWVBFXzAsaWUgYXMgVFlQRV8xLHdlIGFzIFRZUEVfMixzZSBhcyBVVEY4LGZvIGFzIGFkZFJlc291cmNlVG9SZWNhcCxMcyBhcyBhZGRTaWduYXR1cmVUb0V4dHJpbnNpYyxnciBhcyBhcHBlbmRUb1F1ZXJ5U3RyaW5nLGJpIGFzIGFzc2VydFR5cGUseW4gYXMgYXNzaWduQWJpbGl0eVRvQWN0aW9ucyxpbyBhcyBiYXNlNjREZWNvZGUsc28gYXMgYmFzZTY0RW5jb2RlLE1hIGFzIGJ1aWxkQXBwcm92ZWROYW1lc3BhY2VzLEhjIGFzIGJ1aWxkQXV0aE9iamVjdCxLYSBhcyBidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCx1byBhcyBidWlsZFJlY2FwU3RhdGVtZW50LG11IGFzIGJ1aWxkU2lnbmVkRXh0cmluc2ljSGFzaCxOaSBhcyBjYWxjRXhwaXJ5LEVpIGFzIGNhcGl0YWxpemUsRXIgYXMgY2FwaXRhbGl6ZVdvcmQsQmkgYXMgY3JlYXRlRGVsYXllZFByb21pc2UsS2MgYXMgY3JlYXRlRW5jb2RlZFJlY2FwLEFpIGFzIGNyZWF0ZUV4cGlyaW5nUHJvbWlzZSx3dSBhcyBjcmVhdGVMb2dnZXIsY28gYXMgY3JlYXRlUmVjYXAsa3QgYXMgZGVjb2RlUmVjYXAsWnQgYXMgZGVjb2RlVHlwZUJ5dGUsbWEgYXMgZGVjb2RlVHlwZVR3b0VudmVsb3BlLGJhIGFzIGRlY3J5cHQsa3MgYXMgZGVyaXZlRXh0cmluc2ljSGFzaCxkYSBhcyBkZXJpdmVTeW1LZXksemUgYXMgZGVzZXJpYWxpemUsQ2UgYXMgZW5jb2RlUmVjYXAscW4gYXMgZW5jb2RlVHlwZUJ5dGUseWEgYXMgZW5jb2RlVHlwZVR3b0VudmVsb3BlLGdhIGFzIGVuY3J5cHQsX2kgYXMgZW5naW5lRXZlbnQseGkgYXMgZW51bWlmeSxTYyBhcyBleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCxzciBhcyBmb3JtYXRBY2NvdW50SWQsV3MgYXMgZm9ybWF0QWNjb3VudFdpdGhDaGFpbixvciBhcyBmb3JtYXRDaGFpbklkLEJyIGFzIGZvcm1hdERlZXBsaW5rVXJsLG9uIGFzIGZvcm1hdEV4cGlyZXJUYXJnZXQsU2kgYXMgZm9ybWF0SWRUYXJnZXQsZW8gYXMgZm9ybWF0TWVzc2FnZSx5aSBhcyBmb3JtYXRNZXNzYWdlQ29udGV4dCx1cyBhcyBmb3JtYXRSZWxheVBhcmFtcyxwaSBhcyBmb3JtYXRSZWxheVJwY1VybCx3biBhcyBmb3JtYXRTdGF0ZW1lbnRGcm9tUmVjYXAsSWkgYXMgZm9ybWF0VG9waWNUYXJnZXQsd3IgYXMgZm9ybWF0VUEsJGEgYXMgZm9ybWF0VXJpLGNuIGFzIGZyb21CYXNlNjQsdWEgYXMgZ2VuZXJhdGVLZXlQYWlyLGxhIGFzIGdlbmVyYXRlUmFuZG9tQnl0ZXMzMixHdCBhcyBnZXRBY2NvdW50c0NoYWlucyxKcyBhcyBnZXRBY2NvdW50c0Zyb21OYW1lc3BhY2VzLGlyIGFzIGdldEFkZHJlc3NGcm9tQWNjb3VudCxYcyBhcyBnZXRBZGRyZXNzZXNGcm9tQWNjb3VudHMsVWMgYXMgZ2V0QWxnb3JhbmRUcmFuc2FjdGlvbklkLGxpIGFzIGdldEFwcElkLGJyIGFzIGdldEFwcE1ldGFkYXRhLF9zIGFzIGdldEJyb3dzZXJPbmxpbmVTdGF0dXMsY3IgYXMgZ2V0Q2hhaW5Gcm9tQWNjb3VudCxmciBhcyBnZXRDaGFpbnNGcm9tQWNjb3VudHMsSWUgYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZSxRcyBhcyBnZXRDaGFpbnNGcm9tTmFtZXNwYWNlcyxaYyBhcyBnZXRDaGFpbnNGcm9tUmVjYXAsdGkgYXMgZ2V0Q2hhaW5zRnJvbVJlcXVpcmVkTmFtZXNwYWNlcyxzbiBhcyBnZXRDb21tb25WYWx1ZXNJbkFycmF5cyxvcyBhcyBnZXRDcnlwdG9LZXlGcm9tS2V5RGF0YSxubyBhcyBnZXREZWNvZGVkUmVjYXBGcm9tUmVzb3VyY2VzLCRpIGFzIGdldERlZXBMaW5rLGJuIGFzIGdldERpZEFkZHJlc3MsVGUgYXMgZ2V0RGlkQWRkcmVzc1NlZ21lbnRzLFFyIGFzIGdldERpZENoYWluSWQsVnQgYXMgZ2V0RW52aXJvbm1lbnQsZ2kgYXMgZ2V0SHR0cFVybCxCdCBhcyBnZXRJbnRlcm5hbEVycm9yLG1yIGFzIGdldEphdmFzY3JpcHRJRCx5ciBhcyBnZXRKYXZhc2NyaXB0T1MseHIgYXMgZ2V0TGFzdEl0ZW1zLFRhIGFzIGdldExpbmtNb2RlVVJMLEZjIGFzIGdldE1ldGhvZHNGcm9tUmVjYXAsdG8gYXMgZ2V0TmFtZXNwYWNlZERpZENoYWluSWQsaHMgYXMgZ2V0TmFtZXNwYWNlc0NoYWlucyxncyBhcyBnZXROYW1lc3BhY2VzRXZlbnRzRm9yQ2hhaW5JZCx5cyBhcyBnZXROYW1lc3BhY2VzRnJvbUFjY291bnRzLHBzIGFzIGdldE5hbWVzcGFjZXNNZXRob2RzRm9yQ2hhaW5JZCxOYyBhcyBnZXROZWFyVHJhbnNhY3Rpb25JZEZyb21TaWduZWRUcmFuc2FjdGlvbixZciBhcyBnZXROZWFyVWludDhBcnJheUZyb21CeXRlcywkcyBhcyBnZXROb2RlT25saW5lU3RhdHVzLG9vIGFzIGdldFJlQ2FwQWN0aW9ucyxScyBhcyBnZXRSZWFjdE5hdGl2ZU9ubGluZVN0YXR1cyxNYyBhcyBnZXRSZWNhcEFiaWxpdGllc0Zyb21SZXNvdXJjZSxqZSBhcyBnZXRSZWNhcEZyb21SZXNvdXJjZXMscm8gYXMgZ2V0UmVjYXBSZXNvdXJjZSxoaSBhcyBnZXRSZWxheUNsaWVudE1ldGFkYXRhLEFhIGFzIGdldFJlbGF5UHJvdG9jb2xBcGksQmEgYXMgZ2V0UmVsYXlQcm90b2NvbE5hbWUsVmEgYXMgZ2V0UmVxdWlyZWROYW1lc3BhY2VzRnJvbU5hbWVzcGFjZXMsenQgYXMgZ2V0U2RrRXJyb3IsVGkgYXMgZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMLF9jIGFzIGdldFNpZ25EaXJlY3RIYXNoLE9jIGFzIGdldFN1aURpZ2VzdCx0biBhcyBnZXRVbmlxdWVWYWx1ZXMsUmMgYXMgZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzLFJpIGFzIGhhbmRsZURlZXBsaW5rUmVkaXJlY3QsSXQgYXMgaGFzT3ZlcmxhcCxobiBhcyBoYXNoRXRoZXJldW1NZXNzYWdlLGhhIGFzIGhhc2hLZXkscGEgYXMgaGFzaE1lc3NhZ2UsYWkgYXMgaXNBbmRyb2lkLGR1IGFzIGlzQXBwVmlzaWJsZSxXdCBhcyBpc0Jyb3dzZXIsR24gYXMgaXNDYWlwTmFtZXNwYWNlLE5zIGFzIGlzQ29uZm9ybWluZ05hbWVzcGFjZXMsVWkgYXMgaXNFeHBpcmVkLFNyIGFzIGlzSWZyYW1lLHVpIGFzIGlzSW9zLHJuIGFzIGlzTm9kZSx1dSBhcyBpc09ubGluZSxHYSBhcyBpc1Byb3Bvc2FsU3RydWN0LEF0IGFzIGlzUmVhY3ROYXRpdmUsbW4gYXMgaXNSZWNhcCxGYSBhcyBpc1Nlc3Npb25Db21wYXRpYmxlLHphIGFzIGlzU2Vzc2lvblN0cnVjdCxJciBhcyBpc1RlbGVncmFtLGppIGFzIGlzVGVzdFJ1bix2YSBhcyBpc1R5cGVPbmVFbnZlbG9wZSx4YSBhcyBpc1R5cGVUd29FbnZlbG9wZSxEdCBhcyBpc1VuZGVmaW5lZCx2cyBhcyBpc1ZhbGlkQWNjb3VudElkLEJzIGFzIGlzVmFsaWRBY2NvdW50cyxJcyBhcyBpc1ZhbGlkQWN0aW9ucyxFZSBhcyBpc1ZhbGlkQXJyYXksQmUgYXMgaXNWYWxpZENoYWluSWQseHMgYXMgaXNWYWxpZENoYWlucyxZYSBhcyBpc1ZhbGlkQ29udHJvbGxlcix6ciBhcyBpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZSxHciBhcyBpc1ZhbGlkRWlwMTkxU2lnbmF0dXJlLHR1IGFzIGlzVmFsaWRFcnJvclJlYXNvbixydSBhcyBpc1ZhbGlkRXZlbnQsSmEgYXMgaXNWYWxpZElkLEFzIGFzIGlzVmFsaWROYW1lc3BhY2VBY2NvdW50cyxZbiBhcyBpc1ZhbGlkTmFtZXNwYWNlQWN0aW9ucyxFcyBhcyBpc1ZhbGlkTmFtZXNwYWNlQ2hhaW5zLHpuIGFzIGlzVmFsaWROYW1lc3BhY2VNZXRob2RzT3JFdmVudHMsU3MgYXMgaXNWYWxpZE5hbWVzcGFjZXMsb3UgYXMgaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkLGl1IGFzIGlzVmFsaWROYW1lc3BhY2VzRXZlbnQsc3UgYXMgaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0LFdlIGFzIGlzVmFsaWROdW1iZXIsWWUgYXMgaXNWYWxpZE9iamVjdCxRYSBhcyBpc1ZhbGlkUGFyYW1zLHl0IGFzIGlzVmFsaWRSZWNhcCxPcyBhcyBpc1ZhbGlkUmVsYXksWGEgYXMgaXNWYWxpZFJlbGF5cyxldSBhcyBpc1ZhbGlkUmVxdWVzdCxhdSBhcyBpc1ZhbGlkUmVxdWVzdEV4cGlyeSxXYSBhcyBpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzLG51IGFzIGlzVmFsaWRSZXNwb25zZSxmdCBhcyBpc1ZhbGlkU3RyaW5nLFphIGFzIGlzVmFsaWRVcmwsdmkgYXMgbWFwRW50cmllcyxtaSBhcyBtYXBUb09iaix1dCBhcyBtZXJnZUFycmF5cyxxYyBhcyBtZXJnZUVuY29kZWRSZWNhcHMsYW8gYXMgbWVyZ2VSZWNhcHMscWEgYXMgbWVyZ2VSZXF1aXJlZEFuZE9wdGlvbmFsTmFtZXNwYWNlcyx4ZSBhcyBub3JtYWxpemVOYW1lc3BhY2VzLHdpIGFzIG9ialRvTWFwLEFyIGFzIG9wZW5EZWVwbGluayxRZSBhcyBwYXJzZUFjY291bnRJZCxKZSBhcyBwYXJzZUNoYWluSWQsdnIgYXMgcGFyc2VDb250ZXh0TmFtZXMsT2kgYXMgcGFyc2VFeHBpcmVyVGFyZ2V0LGJzIGFzIHBhcnNlTmFtZXNwYWNlS2V5LGZzIGFzIHBhcnNlUmVsYXlQYXJhbXMsYXMgYXMgcGFyc2VUb3BpYyxSYSBhcyBwYXJzZVVyaSxkaSBhcyBwb3B1bGF0ZUFwcE1ldGFkYXRhLERjIGFzIHBvcHVsYXRlQXV0aFBheWxvYWQsVmMgYXMgcmVjYXBIYXNSZXNvdXJjZSxGbiBhcyBzZXJpYWxpemUsTGkgYXMgc2xlZXAsanMgYXMgc3M1OEFkZHJlc3NUb1B1YmxpY0tleSxUcyBhcyBzdWJzY3JpYmVUb0Jyb3dzZXJOZXR3b3JrQ2hhbmdlLGx1IGFzIHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSxDcyBhcyBzdWJzY3JpYmVUb1JlYWN0TmF0aXZlTmV0d29ya0NoYW5nZSxPciBhcyB0b0Jhc2U2NCxDaSBhcyB1dWlkdjQsd2EgYXMgdmFsaWRhdGVEZWNvZGluZyxycyBhcyB2YWxpZGF0ZUVuY29kaW5nLFBjIGFzIHZhbGlkYXRlU2lnbmVkQ2FjYW8sRWEgYXMgdmVyaWZ5UDI1Nkp3dCxaciBhcyB2ZXJpZnlTaWduYXR1cmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/base-x/src/esm/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/base-x/src/esm/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  const BASE_MAP = new Uint8Array(256)\n  for (let j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (let i = 0; i < ALPHABET.length; i++) {\n    const x = ALPHABET.charAt(i)\n    const xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  const BASE = ALPHABET.length\n  const LEADER = ALPHABET.charAt(0)\n  const FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  const iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    // eslint-disable-next-line no-empty\n    if (source instanceof Uint8Array) { } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n    // Skip & count leading zeroes.\n    let zeroes = 0\n    let length = 0\n    let pbegin = 0\n    const pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n    // Allocate enough space in big-endian base58 representation.\n    const size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    const b58 = new Uint8Array(size)\n    // Process the bytes.\n    while (pbegin !== pend) {\n      let carry = source[pbegin]\n      // Apply \"b58 = b58 * 256 + ch\".\n      let i = 0\n      for (let it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n    // Skip leading zeroes in base58 result.\n    let it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n    // Translate the result into a string.\n    let str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    let psz = 0\n    // Skip and count leading '1's.\n    let zeroes = 0\n    let length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n    // Allocate enough space in big-endian base256 representation.\n    const size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    const b256 = new Uint8Array(size)\n    // Process the characters.\n    while (psz < source.length) {\n      // Find code of next character\n      const charCode = source.charCodeAt(psz)\n      // Base map can not be indexed using char code\n      if (charCode > 255) { return }\n      // Decode character\n      let carry = BASE_MAP[charCode]\n      // Invalid character\n      if (carry === 255) { return }\n      let i = 0\n      for (let it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n    // Skip leading zeroes in b256.\n    let it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    const vch = new Uint8Array(zeroes + (size - it4))\n    let j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    const buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode,\n    decodeUnsafe,\n    decode\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (base);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9iYXNlLXgvc3JjL2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLDJDQUEyQztBQUMzQywrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVksU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLCtCQUErQiw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsSUFBSSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9iYXNlLXgvc3JjL2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBiYXNlLXggZW5jb2RpbmcgLyBkZWNvZGluZ1xuLy8gQ29weXJpZ2h0IChjKSAyMDE4IGJhc2UteCBjb250cmlidXRvcnNcbi8vIENvcHlyaWdodCAoYykgMjAxNC0yMDE4IFRoZSBCaXRjb2luIENvcmUgZGV2ZWxvcGVycyAoYmFzZTU4LmNwcClcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgc29mdHdhcmUgbGljZW5zZSwgc2VlIHRoZSBhY2NvbXBhbnlpbmdcbi8vIGZpbGUgTElDRU5TRSBvciBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocC5cbmZ1bmN0aW9uIGJhc2UgKEFMUEhBQkVUKSB7XG4gIGlmIChBTFBIQUJFVC5sZW5ndGggPj0gMjU1KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscGhhYmV0IHRvbyBsb25nJykgfVxuICBjb25zdCBCQVNFX01BUCA9IG5ldyBVaW50OEFycmF5KDI1NilcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBCQVNFX01BUC5sZW5ndGg7IGorKykge1xuICAgIEJBU0VfTUFQW2pdID0gMjU1XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBBTFBIQUJFVC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHggPSBBTFBIQUJFVC5jaGFyQXQoaSlcbiAgICBjb25zdCB4YyA9IHguY2hhckNvZGVBdCgwKVxuICAgIGlmIChCQVNFX01BUFt4Y10gIT09IDI1NSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKHggKyAnIGlzIGFtYmlndW91cycpIH1cbiAgICBCQVNFX01BUFt4Y10gPSBpXG4gIH1cbiAgY29uc3QgQkFTRSA9IEFMUEhBQkVULmxlbmd0aFxuICBjb25zdCBMRUFERVIgPSBBTFBIQUJFVC5jaGFyQXQoMClcbiAgY29uc3QgRkFDVE9SID0gTWF0aC5sb2coQkFTRSkgLyBNYXRoLmxvZygyNTYpIC8vIGxvZyhCQVNFKSAvIGxvZygyNTYpLCByb3VuZGVkIHVwXG4gIGNvbnN0IGlGQUNUT1IgPSBNYXRoLmxvZygyNTYpIC8gTWF0aC5sb2coQkFTRSkgLy8gbG9nKDI1NikgLyBsb2coQkFTRSksIHJvdW5kZWQgdXBcbiAgZnVuY3Rpb24gZW5jb2RlIChzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSkgeyB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzb3VyY2UpKSB7XG4gICAgICBzb3VyY2UgPSBuZXcgVWludDhBcnJheShzb3VyY2UuYnVmZmVyLCBzb3VyY2UuYnl0ZU9mZnNldCwgc291cmNlLmJ5dGVMZW5ndGgpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHNvdXJjZSA9IFVpbnQ4QXJyYXkuZnJvbShzb3VyY2UpXG4gICAgfVxuICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFVpbnQ4QXJyYXknKSB9XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT09IDApIHsgcmV0dXJuICcnIH1cbiAgICAvLyBTa2lwICYgY291bnQgbGVhZGluZyB6ZXJvZXMuXG4gICAgbGV0IHplcm9lcyA9IDBcbiAgICBsZXQgbGVuZ3RoID0gMFxuICAgIGxldCBwYmVnaW4gPSAwXG4gICAgY29uc3QgcGVuZCA9IHNvdXJjZS5sZW5ndGhcbiAgICB3aGlsZSAocGJlZ2luICE9PSBwZW5kICYmIHNvdXJjZVtwYmVnaW5dID09PSAwKSB7XG4gICAgICBwYmVnaW4rK1xuICAgICAgemVyb2VzKytcbiAgICB9XG4gICAgLy8gQWxsb2NhdGUgZW5vdWdoIHNwYWNlIGluIGJpZy1lbmRpYW4gYmFzZTU4IHJlcHJlc2VudGF0aW9uLlxuICAgIGNvbnN0IHNpemUgPSAoKHBlbmQgLSBwYmVnaW4pICogaUZBQ1RPUiArIDEpID4+PiAwXG4gICAgY29uc3QgYjU4ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvLyBQcm9jZXNzIHRoZSBieXRlcy5cbiAgICB3aGlsZSAocGJlZ2luICE9PSBwZW5kKSB7XG4gICAgICBsZXQgY2FycnkgPSBzb3VyY2VbcGJlZ2luXVxuICAgICAgLy8gQXBwbHkgXCJiNTggPSBiNTggKiAyNTYgKyBjaFwiLlxuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDEgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDEgIT09IC0xKTsgaXQxLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoMjU2ICogYjU4W2l0MV0pID4+PiAwXG4gICAgICAgIGI1OFtpdDFdID0gKGNhcnJ5ICUgQkFTRSkgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyBCQVNFKSA+Pj4gMFxuICAgICAgfVxuICAgICAgaWYgKGNhcnJ5ICE9PSAwKSB7IHRocm93IG5ldyBFcnJvcignTm9uLXplcm8gY2FycnknKSB9XG4gICAgICBsZW5ndGggPSBpXG4gICAgICBwYmVnaW4rK1xuICAgIH1cbiAgICAvLyBTa2lwIGxlYWRpbmcgemVyb2VzIGluIGJhc2U1OCByZXN1bHQuXG4gICAgbGV0IGl0MiA9IHNpemUgLSBsZW5ndGhcbiAgICB3aGlsZSAoaXQyICE9PSBzaXplICYmIGI1OFtpdDJdID09PSAwKSB7XG4gICAgICBpdDIrK1xuICAgIH1cbiAgICAvLyBUcmFuc2xhdGUgdGhlIHJlc3VsdCBpbnRvIGEgc3RyaW5nLlxuICAgIGxldCBzdHIgPSBMRUFERVIucmVwZWF0KHplcm9lcylcbiAgICBmb3IgKDsgaXQyIDwgc2l6ZTsgKytpdDIpIHsgc3RyICs9IEFMUEhBQkVULmNoYXJBdChiNThbaXQyXSkgfVxuICAgIHJldHVybiBzdHJcbiAgfVxuICBmdW5jdGlvbiBkZWNvZGVVbnNhZmUgKHNvdXJjZSkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnc3RyaW5nJykgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBTdHJpbmcnKSB9XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT09IDApIHsgcmV0dXJuIG5ldyBVaW50OEFycmF5KCkgfVxuICAgIGxldCBwc3ogPSAwXG4gICAgLy8gU2tpcCBhbmQgY291bnQgbGVhZGluZyAnMSdzLlxuICAgIGxldCB6ZXJvZXMgPSAwXG4gICAgbGV0IGxlbmd0aCA9IDBcbiAgICB3aGlsZSAoc291cmNlW3Bzel0gPT09IExFQURFUikge1xuICAgICAgemVyb2VzKytcbiAgICAgIHBzeisrXG4gICAgfVxuICAgIC8vIEFsbG9jYXRlIGVub3VnaCBzcGFjZSBpbiBiaWctZW5kaWFuIGJhc2UyNTYgcmVwcmVzZW50YXRpb24uXG4gICAgY29uc3Qgc2l6ZSA9ICgoKHNvdXJjZS5sZW5ndGggLSBwc3opICogRkFDVE9SKSArIDEpID4+PiAwIC8vIGxvZyg1OCkgLyBsb2coMjU2KSwgcm91bmRlZCB1cC5cbiAgICBjb25zdCBiMjU2ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvLyBQcm9jZXNzIHRoZSBjaGFyYWN0ZXJzLlxuICAgIHdoaWxlIChwc3ogPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAvLyBGaW5kIGNvZGUgb2YgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocHN6KVxuICAgICAgLy8gQmFzZSBtYXAgY2FuIG5vdCBiZSBpbmRleGVkIHVzaW5nIGNoYXIgY29kZVxuICAgICAgaWYgKGNoYXJDb2RlID4gMjU1KSB7IHJldHVybiB9XG4gICAgICAvLyBEZWNvZGUgY2hhcmFjdGVyXG4gICAgICBsZXQgY2FycnkgPSBCQVNFX01BUFtjaGFyQ29kZV1cbiAgICAgIC8vIEludmFsaWQgY2hhcmFjdGVyXG4gICAgICBpZiAoY2FycnkgPT09IDI1NSkgeyByZXR1cm4gfVxuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDMgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDMgIT09IC0xKTsgaXQzLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoQkFTRSAqIGIyNTZbaXQzXSkgPj4+IDBcbiAgICAgICAgYjI1NltpdDNdID0gKGNhcnJ5ICUgMjU2KSA+Pj4gMFxuICAgICAgICBjYXJyeSA9IChjYXJyeSAvIDI1NikgPj4+IDBcbiAgICAgIH1cbiAgICAgIGlmIChjYXJyeSAhPT0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoJ05vbi16ZXJvIGNhcnJ5JykgfVxuICAgICAgbGVuZ3RoID0gaVxuICAgICAgcHN6KytcbiAgICB9XG4gICAgLy8gU2tpcCBsZWFkaW5nIHplcm9lcyBpbiBiMjU2LlxuICAgIGxldCBpdDQgPSBzaXplIC0gbGVuZ3RoXG4gICAgd2hpbGUgKGl0NCAhPT0gc2l6ZSAmJiBiMjU2W2l0NF0gPT09IDApIHtcbiAgICAgIGl0NCsrXG4gICAgfVxuICAgIGNvbnN0IHZjaCA9IG5ldyBVaW50OEFycmF5KHplcm9lcyArIChzaXplIC0gaXQ0KSlcbiAgICBsZXQgaiA9IHplcm9lc1xuICAgIHdoaWxlIChpdDQgIT09IHNpemUpIHtcbiAgICAgIHZjaFtqKytdID0gYjI1NltpdDQrK11cbiAgICB9XG4gICAgcmV0dXJuIHZjaFxuICB9XG4gIGZ1bmN0aW9uIGRlY29kZSAoc3RyaW5nKSB7XG4gICAgY29uc3QgYnVmZmVyID0gZGVjb2RlVW5zYWZlKHN0cmluZylcbiAgICBpZiAoYnVmZmVyKSB7IHJldHVybiBidWZmZXIgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm9uLWJhc2UnICsgQkFTRSArICcgY2hhcmFjdGVyJylcbiAgfVxuICByZXR1cm4ge1xuICAgIGVuY29kZSxcbiAgICBkZWNvZGVVbnNhZmUsXG4gICAgZGVjb2RlXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGJhc2VcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/base-x/src/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/bs58/src/esm/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-controllers/node_modules/bs58/src/esm/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var base_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base-x */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/base-x/src/esm/index.js\");\n\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,base_x__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ALPHABET));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9iczU4L3NyYy9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkI7QUFDM0I7QUFDQSxpRUFBZSxrREFBSyxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvYnM1OC9zcmMvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiYXNleCBmcm9tICdiYXNlLXgnO1xudmFyIEFMUEhBQkVUID0gJzEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXonO1xuZXhwb3J0IGRlZmF1bHQgYmFzZXgoQUxQSEFCRVQpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-controllers/node_modules/bs58/src/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/utils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/utils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorUtil: () => (/* reexport safe */ _src_utils_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorUtil),\n/* harmony export */   ConstantsUtil: () => (/* reexport safe */ _src_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil),\n/* harmony export */   WalletUtil: () => (/* reexport safe */ _src_utils_WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__.WalletUtil)\n/* harmony export */ });\n/* harmony import */ var _src_utils_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/utils/ConnectorUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js\");\n/* harmony import */ var _src_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _src_utils_WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/utils/WalletUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js\");\n\n\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL2V4cG9ydHMvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThDO0FBQ0E7QUFDSDtBQUMzQyIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL2V4cG9ydHMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vc3JjL3V0aWxzL0Nvbm5lY3RvclV0aWwuanMnO1xuZXhwb3J0ICogZnJvbSAnLi4vc3JjL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuZXhwb3J0ICogZnJvbSAnLi4vc3JjL3V0aWxzL1dhbGxldFV0aWwuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorUtil: () => (/* binding */ ConnectorUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js\");\n/* harmony import */ var _WalletUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WalletUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js\");\n\n\n\n\nconst ConnectorUtil = {\n    getConnectorsByType(connectors, recommended, featured) {\n        const { customWallets } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state;\n        const recent = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getRecentWallets();\n        const filteredRecommended = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_0__.WalletUtil.filterOutDuplicateWallets(recommended);\n        const filteredFeatured = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_0__.WalletUtil.filterOutDuplicateWallets(featured);\n        const multiChain = connectors.filter(connector => connector.type === 'MULTI_CHAIN');\n        const announced = connectors.filter(connector => connector.type === 'ANNOUNCED');\n        const injected = connectors.filter(connector => connector.type === 'INJECTED');\n        const external = connectors.filter(connector => connector.type === 'EXTERNAL');\n        return {\n            custom: customWallets,\n            recent,\n            external,\n            multiChain,\n            announced,\n            injected,\n            recommended: filteredRecommended,\n            featured: filteredFeatured\n        };\n    },\n    showConnector(connector) {\n        const rdns = connector.info?.rdns;\n        const isRDNSExcluded = Boolean(rdns) &&\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.excludedWallets.some(wallet => Boolean(wallet.rdns) && wallet.rdns === rdns);\n        const isNameExcluded = Boolean(connector.name) &&\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.excludedWallets.some(wallet => _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_4__.HelpersUtil.isLowerCaseMatch(wallet.name, connector.name));\n        if (connector.type === 'INJECTED') {\n            const isBrowserWallet = connector.name === 'Browser Wallet';\n            if (isBrowserWallet) {\n                if (!_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n                    return false;\n                }\n                if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile() && !rdns && !_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.checkInstalled()) {\n                    return false;\n                }\n            }\n            if (isRDNSExcluded || isNameExcluded) {\n                return false;\n            }\n        }\n        if ((connector.type === 'ANNOUNCED' || connector.type === 'EXTERNAL') &&\n            (isRDNSExcluded || isNameExcluded)) {\n            return false;\n        }\n        return true;\n    },\n    getIsConnectedWithWC() {\n        const chains = Array.from(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ChainController.state.chains.values());\n        const isConnectedWithWC = chains.some(chain => {\n            const connectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.getConnectorId(chain.namespace);\n            return connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        });\n        return isConnectedWithWC;\n    },\n    getConnectorTypeOrder({ recommended, featured, custom, recent, announced, injected, multiChain, external, overriddenConnectors = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.features?.connectorTypeOrder ?? [] }) {\n        const allConnectors = [\n            { type: 'walletConnect', isEnabled: true },\n            { type: 'recent', isEnabled: recent.length > 0 },\n            { type: 'injected', isEnabled: [...injected, ...announced, ...multiChain].length > 0 },\n            { type: 'featured', isEnabled: featured.length > 0 },\n            { type: 'custom', isEnabled: custom && custom.length > 0 },\n            { type: 'external', isEnabled: external.length > 0 },\n            { type: 'recommended', isEnabled: recommended.length > 0 }\n        ];\n        const enabledConnectors = allConnectors.filter(option => option.isEnabled);\n        const enabledConnectorTypes = new Set(enabledConnectors.map(option => option.type));\n        const prioritizedConnectors = overriddenConnectors\n            .filter(type => enabledConnectorTypes.has(type))\n            .map(type => ({ type, isEnabled: true }));\n        const remainingConnectors = enabledConnectors.filter(({ type: enabledConnectorType }) => {\n            const hasPrioritizedConnector = prioritizedConnectors.some(({ type: prioritizedConnectorType }) => prioritizedConnectorType === enabledConnectorType);\n            return !hasPrioritizedConnector;\n        });\n        return Array.from(new Set([...prioritizedConnectors, ...remainingConnectors].map(({ type }) => type)));\n    },\n    sortConnectorsByExplorerWallet(connectors) {\n        return [...connectors].sort((a, b) => {\n            if (a.explorerWallet && b.explorerWallet) {\n                return (a.explorerWallet.order ?? 0) - (b.explorerWallet.order ?? 0);\n            }\n            if (a.explorerWallet) {\n                return -1;\n            }\n            if (b.explorerWallet) {\n                return 1;\n            }\n            return 0;\n        });\n    },\n    getAuthName({ email, socialUsername, socialProvider }) {\n        if (socialUsername) {\n            if (socialProvider && socialProvider === 'discord' && socialUsername.endsWith('0')) {\n                return socialUsername.slice(0, -1);\n            }\n            return socialUsername;\n        }\n        return email.length > 30 ? `${email.slice(0, -3)}...` : email;\n    },\n    async fetchProviderData(connector) {\n        try {\n            if (connector.name === 'Browser Wallet' && !_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n                return { accounts: [], chainId: undefined };\n            }\n            if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n                return { accounts: [], chainId: undefined };\n            }\n            const [accounts, chainId] = await Promise.all([\n                connector.provider?.request({ method: 'eth_accounts' }),\n                connector.provider\n                    ?.request({ method: 'eth_chainId' })\n                    .then(hexChainId => Number(hexChainId))\n            ]);\n            return { accounts, chainId };\n        }\n        catch (err) {\n            console.warn(`Failed to fetch provider data for ${connector.name}`, err);\n            return { accounts: [], chainId: undefined };\n        }\n    },\n    getFilteredCustomWallets(wallets) {\n        const recent = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getRecentWallets();\n        const connectorRDNSs = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors\n            .map(connector => connector.info?.rdns)\n            .filter(Boolean);\n        const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);\n        const allRDNSs = connectorRDNSs.concat(recentRDNSs);\n        if (allRDNSs.includes('io.metamask.mobile') && _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n            const index = allRDNSs.indexOf('io.metamask.mobile');\n            allRDNSs[index] = 'io.metamask';\n        }\n        const filtered = wallets.filter(wallet => !allRDNSs.includes(String(wallet?.rdns)));\n        return filtered;\n    },\n    hasWalletConnector(wallet) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors.some(connector => connector.id === wallet.id || connector.name === wallet.name);\n    },\n    isWalletCompatibleWithCurrentChain(wallet) {\n        const currentNamespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ChainController.state.activeChain;\n        if (currentNamespace && wallet.chains) {\n            return wallet.chains.some(c => {\n                const chainNamespace = c.split(':')[0];\n                return currentNamespace === chainNamespace;\n            });\n        }\n        return true;\n    },\n    getFilteredRecentWallets() {\n        const recentWallets = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getRecentWallets();\n        const filteredRecentWallets = recentWallets\n            .filter(wallet => !_WalletUtil_js__WEBPACK_IMPORTED_MODULE_0__.WalletUtil.isExcluded(wallet))\n            .filter(wallet => !this.hasWalletConnector(wallet))\n            .filter(wallet => this.isWalletCompatibleWithCurrentChain(wallet));\n        return filteredRecentWallets;\n    },\n    getCappedRecommendedWallets(wallets) {\n        const { connectors } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state;\n        const { customWallets, featuredWalletIds } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state;\n        const wcConnector = connectors.find(c => c.id === 'walletConnect');\n        const injectedConnectors = connectors.filter(c => c.type === 'INJECTED' || c.type === 'ANNOUNCED' || c.type === 'MULTI_CHAIN');\n        if (!wcConnector && !injectedConnectors.length && !customWallets?.length) {\n            return [];\n        }\n        const isEmailEnabled = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.OptionsUtil.isEmailEnabled();\n        const isSocialsEnabled = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.OptionsUtil.isSocialsEnabled();\n        const injectedWallets = injectedConnectors.filter(i => i.name !== 'Browser Wallet');\n        const featuredWalletAmount = featuredWalletIds?.length || 0;\n        const customWalletAmount = customWallets?.length || 0;\n        const injectedWalletAmount = injectedWallets.length || 0;\n        const emailWalletAmount = isEmailEnabled ? 1 : 0;\n        const socialWalletAmount = isSocialsEnabled ? 1 : 0;\n        const walletsDisplayed = featuredWalletAmount +\n            customWalletAmount +\n            injectedWalletAmount +\n            emailWalletAmount +\n            socialWalletAmount;\n        const DISPLAYED_WALLETS_AMOUNT = 4;\n        const sliceAmount = Math.max(0, DISPLAYED_WALLETS_AMOUNT - walletsDisplayed);\n        if (sliceAmount <= 0) {\n            return [];\n        }\n        const filtered = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_0__.WalletUtil.filterOutDuplicateWallets(wallets);\n        return filtered.slice(0, sliceAmount);\n    }\n};\n//# sourceMappingURL=ConnectorUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0b3JVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE0RTtBQUN1RztBQUNqSTtBQUNMO0FBQ3RDO0FBQ1A7QUFDQSxnQkFBZ0IsZ0JBQWdCLEVBQUUsd0VBQWlCO0FBQ25ELHVCQUF1QixrRUFBVztBQUNsQyxvQ0FBb0Msc0RBQVU7QUFDOUMsaUNBQWlDLHNEQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBYTtBQUN6QjtBQUNBLFlBQVksb0VBQWEsc0NBQXNDLDREQUFXO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxRUFBYztBQUNuQztBQUNBO0FBQ0Esb0JBQW9CLHFFQUFjLHlCQUF5QiwyRUFBb0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0NBQWtDLHNFQUFlO0FBQ2pEO0FBQ0EsZ0NBQWdDLDBFQUFtQjtBQUNuRCxtQ0FBbUMsK0RBQW1CO0FBQ3RELFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCw0QkFBNEIseUdBQXlHLHdFQUFpQiwyQ0FBMkM7QUFDak07QUFDQSxjQUFjLHdDQUF3QztBQUN0RCxjQUFjLDhDQUE4QztBQUM1RCxjQUFjLG9GQUFvRjtBQUNsRyxjQUFjLGtEQUFrRDtBQUNoRSxjQUFjLHdEQUF3RDtBQUN0RSxjQUFjLGtEQUFrRDtBQUNoRSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQsZ0VBQWdFLDRCQUE0QjtBQUM1RiwwRUFBMEUsZ0NBQWdDO0FBQzFHO0FBQ0EsU0FBUztBQUNULDRGQUE0RixNQUFNO0FBQ2xHLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLGtCQUFrQix1Q0FBdUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG1CQUFtQjtBQUN6RCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdEQUF3RCxxRUFBYztBQUN0RSx5QkFBeUI7QUFDekI7QUFDQSxpQ0FBaUMsK0RBQW1CO0FBQ3BELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsOENBQThDLHdCQUF3QjtBQUN0RTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOERBQThELGVBQWU7QUFDN0UscUJBQXFCO0FBQ3JCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLGtFQUFXO0FBQ2xDLCtCQUErQiwwRUFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQscUVBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsMEVBQW1CO0FBQ2xDLEtBQUs7QUFDTDtBQUNBLGlDQUFpQyxzRUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCLGtFQUFXO0FBQ3pDO0FBQ0EsK0JBQStCLHNEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixhQUFhLEVBQUUsMEVBQW1CO0FBQ2xELGdCQUFnQixtQ0FBbUMsRUFBRSx3RUFBaUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtRUFBVztBQUMxQyxpQ0FBaUMsbUVBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdXRpbHMvQ29ubmVjdG9yVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyLCBDaGFpbkNvbnRyb2xsZXIsIENvbm5lY3Rpb25Db250cm9sbGVyLCBDb25uZWN0b3JDb250cm9sbGVyLCBDb3JlSGVscGVyVXRpbCwgT3B0aW9uc0NvbnRyb2xsZXIsIE9wdGlvbnNVdGlsLCBTdG9yYWdlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgSGVscGVyc1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LXV0aWxzJztcbmltcG9ydCB7IFdhbGxldFV0aWwgfSBmcm9tICcuL1dhbGxldFV0aWwuanMnO1xuZXhwb3J0IGNvbnN0IENvbm5lY3RvclV0aWwgPSB7XG4gICAgZ2V0Q29ubmVjdG9yc0J5VHlwZShjb25uZWN0b3JzLCByZWNvbW1lbmRlZCwgZmVhdHVyZWQpIHtcbiAgICAgICAgY29uc3QgeyBjdXN0b21XYWxsZXRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgcmVjZW50ID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFJlY29tbWVuZGVkID0gV2FsbGV0VXRpbC5maWx0ZXJPdXREdXBsaWNhdGVXYWxsZXRzKHJlY29tbWVuZGVkKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRGZWF0dXJlZCA9IFdhbGxldFV0aWwuZmlsdGVyT3V0RHVwbGljYXRlV2FsbGV0cyhmZWF0dXJlZCk7XG4gICAgICAgIGNvbnN0IG11bHRpQ2hhaW4gPSBjb25uZWN0b3JzLmZpbHRlcihjb25uZWN0b3IgPT4gY29ubmVjdG9yLnR5cGUgPT09ICdNVUxUSV9DSEFJTicpO1xuICAgICAgICBjb25zdCBhbm5vdW5jZWQgPSBjb25uZWN0b3JzLmZpbHRlcihjb25uZWN0b3IgPT4gY29ubmVjdG9yLnR5cGUgPT09ICdBTk5PVU5DRUQnKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWQgPSBjb25uZWN0b3JzLmZpbHRlcihjb25uZWN0b3IgPT4gY29ubmVjdG9yLnR5cGUgPT09ICdJTkpFQ1RFRCcpO1xuICAgICAgICBjb25zdCBleHRlcm5hbCA9IGNvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ0VYVEVSTkFMJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXN0b206IGN1c3RvbVdhbGxldHMsXG4gICAgICAgICAgICByZWNlbnQsXG4gICAgICAgICAgICBleHRlcm5hbCxcbiAgICAgICAgICAgIG11bHRpQ2hhaW4sXG4gICAgICAgICAgICBhbm5vdW5jZWQsXG4gICAgICAgICAgICBpbmplY3RlZCxcbiAgICAgICAgICAgIHJlY29tbWVuZGVkOiBmaWx0ZXJlZFJlY29tbWVuZGVkLFxuICAgICAgICAgICAgZmVhdHVyZWQ6IGZpbHRlcmVkRmVhdHVyZWRcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNob3dDb25uZWN0b3IoY29ubmVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHJkbnMgPSBjb25uZWN0b3IuaW5mbz8ucmRucztcbiAgICAgICAgY29uc3QgaXNSRE5TRXhjbHVkZWQgPSBCb29sZWFuKHJkbnMpICYmXG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLnN0YXRlLmV4Y2x1ZGVkV2FsbGV0cy5zb21lKHdhbGxldCA9PiBCb29sZWFuKHdhbGxldC5yZG5zKSAmJiB3YWxsZXQucmRucyA9PT0gcmRucyk7XG4gICAgICAgIGNvbnN0IGlzTmFtZUV4Y2x1ZGVkID0gQm9vbGVhbihjb25uZWN0b3IubmFtZSkgJiZcbiAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuc3RhdGUuZXhjbHVkZWRXYWxsZXRzLnNvbWUod2FsbGV0ID0+IEhlbHBlcnNVdGlsLmlzTG93ZXJDYXNlTWF0Y2god2FsbGV0Lm5hbWUsIGNvbm5lY3Rvci5uYW1lKSk7XG4gICAgICAgIGlmIChjb25uZWN0b3IudHlwZSA9PT0gJ0lOSkVDVEVEJykge1xuICAgICAgICAgICAgY29uc3QgaXNCcm93c2VyV2FsbGV0ID0gY29ubmVjdG9yLm5hbWUgPT09ICdCcm93c2VyIFdhbGxldCc7XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyV2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkgJiYgIXJkbnMgJiYgIUNvbm5lY3Rpb25Db250cm9sbGVyLmNoZWNrSW5zdGFsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JETlNFeGNsdWRlZCB8fCBpc05hbWVFeGNsdWRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKGNvbm5lY3Rvci50eXBlID09PSAnQU5OT1VOQ0VEJyB8fCBjb25uZWN0b3IudHlwZSA9PT0gJ0VYVEVSTkFMJykgJiZcbiAgICAgICAgICAgIChpc1JETlNFeGNsdWRlZCB8fCBpc05hbWVFeGNsdWRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGdldElzQ29ubmVjdGVkV2l0aFdDKCkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBBcnJheS5mcm9tKENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMudmFsdWVzKCkpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZFdpdGhXQyA9IGNoYWlucy5zb21lKGNoYWluID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChjaGFpbi5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc0Nvbm5lY3RlZFdpdGhXQztcbiAgICB9LFxuICAgIGdldENvbm5lY3RvclR5cGVPcmRlcih7IHJlY29tbWVuZGVkLCBmZWF0dXJlZCwgY3VzdG9tLCByZWNlbnQsIGFubm91bmNlZCwgaW5qZWN0ZWQsIG11bHRpQ2hhaW4sIGV4dGVybmFsLCBvdmVycmlkZGVuQ29ubmVjdG9ycyA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5jb25uZWN0b3JUeXBlT3JkZXIgPz8gW10gfSkge1xuICAgICAgICBjb25zdCBhbGxDb25uZWN0b3JzID0gW1xuICAgICAgICAgICAgeyB0eXBlOiAnd2FsbGV0Q29ubmVjdCcsIGlzRW5hYmxlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyB0eXBlOiAncmVjZW50JywgaXNFbmFibGVkOiByZWNlbnQubGVuZ3RoID4gMCB9LFxuICAgICAgICAgICAgeyB0eXBlOiAnaW5qZWN0ZWQnLCBpc0VuYWJsZWQ6IFsuLi5pbmplY3RlZCwgLi4uYW5ub3VuY2VkLCAuLi5tdWx0aUNoYWluXS5sZW5ndGggPiAwIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdmZWF0dXJlZCcsIGlzRW5hYmxlZDogZmVhdHVyZWQubGVuZ3RoID4gMCB9LFxuICAgICAgICAgICAgeyB0eXBlOiAnY3VzdG9tJywgaXNFbmFibGVkOiBjdXN0b20gJiYgY3VzdG9tLmxlbmd0aCA+IDAgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ2V4dGVybmFsJywgaXNFbmFibGVkOiBleHRlcm5hbC5sZW5ndGggPiAwIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdyZWNvbW1lbmRlZCcsIGlzRW5hYmxlZDogcmVjb21tZW5kZWQubGVuZ3RoID4gMCB9XG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGVuYWJsZWRDb25uZWN0b3JzID0gYWxsQ29ubmVjdG9ycy5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5pc0VuYWJsZWQpO1xuICAgICAgICBjb25zdCBlbmFibGVkQ29ubmVjdG9yVHlwZXMgPSBuZXcgU2V0KGVuYWJsZWRDb25uZWN0b3JzLm1hcChvcHRpb24gPT4gb3B0aW9uLnR5cGUpKTtcbiAgICAgICAgY29uc3QgcHJpb3JpdGl6ZWRDb25uZWN0b3JzID0gb3ZlcnJpZGRlbkNvbm5lY3RvcnNcbiAgICAgICAgICAgIC5maWx0ZXIodHlwZSA9PiBlbmFibGVkQ29ubmVjdG9yVHlwZXMuaGFzKHR5cGUpKVxuICAgICAgICAgICAgLm1hcCh0eXBlID0+ICh7IHR5cGUsIGlzRW5hYmxlZDogdHJ1ZSB9KSk7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0Nvbm5lY3RvcnMgPSBlbmFibGVkQ29ubmVjdG9ycy5maWx0ZXIoKHsgdHlwZTogZW5hYmxlZENvbm5lY3RvclR5cGUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFzUHJpb3JpdGl6ZWRDb25uZWN0b3IgPSBwcmlvcml0aXplZENvbm5lY3RvcnMuc29tZSgoeyB0eXBlOiBwcmlvcml0aXplZENvbm5lY3RvclR5cGUgfSkgPT4gcHJpb3JpdGl6ZWRDb25uZWN0b3JUeXBlID09PSBlbmFibGVkQ29ubmVjdG9yVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gIWhhc1ByaW9yaXRpemVkQ29ubmVjdG9yO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChbLi4ucHJpb3JpdGl6ZWRDb25uZWN0b3JzLCAuLi5yZW1haW5pbmdDb25uZWN0b3JzXS5tYXAoKHsgdHlwZSB9KSA9PiB0eXBlKSkpO1xuICAgIH0sXG4gICAgc29ydENvbm5lY3RvcnNCeUV4cGxvcmVyV2FsbGV0KGNvbm5lY3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5jb25uZWN0b3JzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5leHBsb3JlcldhbGxldCAmJiBiLmV4cGxvcmVyV2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChhLmV4cGxvcmVyV2FsbGV0Lm9yZGVyID8/IDApIC0gKGIuZXhwbG9yZXJXYWxsZXQub3JkZXIgPz8gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYS5leHBsb3JlcldhbGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiLmV4cGxvcmVyV2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRBdXRoTmFtZSh7IGVtYWlsLCBzb2NpYWxVc2VybmFtZSwgc29jaWFsUHJvdmlkZXIgfSkge1xuICAgICAgICBpZiAoc29jaWFsVXNlcm5hbWUpIHtcbiAgICAgICAgICAgIGlmIChzb2NpYWxQcm92aWRlciAmJiBzb2NpYWxQcm92aWRlciA9PT0gJ2Rpc2NvcmQnICYmIHNvY2lhbFVzZXJuYW1lLmVuZHNXaXRoKCcwJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc29jaWFsVXNlcm5hbWUuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNvY2lhbFVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbWFpbC5sZW5ndGggPiAzMCA/IGAke2VtYWlsLnNsaWNlKDAsIC0zKX0uLi5gIDogZW1haWw7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFByb3ZpZGVyRGF0YShjb25uZWN0b3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3IubmFtZSA9PT0gJ0Jyb3dzZXIgV2FsbGV0JyAmJiAhQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGFjY291bnRzOiBbXSwgY2hhaW5JZDogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yLmlkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYWNjb3VudHM6IFtdLCBjaGFpbklkOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFthY2NvdW50cywgY2hhaW5JZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yLnByb3ZpZGVyPy5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KSxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3IucHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgPy5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2NoYWluSWQnIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGhleENoYWluSWQgPT4gTnVtYmVyKGhleENoYWluSWQpKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4geyBhY2NvdW50cywgY2hhaW5JZCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGZldGNoIHByb3ZpZGVyIGRhdGEgZm9yICR7Y29ubmVjdG9yLm5hbWV9YCwgZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB7IGFjY291bnRzOiBbXSwgY2hhaW5JZDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEZpbHRlcmVkQ3VzdG9tV2FsbGV0cyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IHJlY2VudCA9IFN0b3JhZ2VVdGlsLmdldFJlY2VudFdhbGxldHMoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yUkROU3MgPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvcnNcbiAgICAgICAgICAgIC5tYXAoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5pbmZvPy5yZG5zKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgcmVjZW50UkROU3MgPSByZWNlbnQubWFwKHdhbGxldCA9PiB3YWxsZXQucmRucykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBhbGxSRE5TcyA9IGNvbm5lY3RvclJETlNzLmNvbmNhdChyZWNlbnRSRE5Tcyk7XG4gICAgICAgIGlmIChhbGxSRE5Tcy5pbmNsdWRlcygnaW8ubWV0YW1hc2subW9iaWxlJykgJiYgQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhbGxSRE5Tcy5pbmRleE9mKCdpby5tZXRhbWFzay5tb2JpbGUnKTtcbiAgICAgICAgICAgIGFsbFJETlNzW2luZGV4XSA9ICdpby5tZXRhbWFzayc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB3YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4gIWFsbFJETlNzLmluY2x1ZGVzKFN0cmluZyh3YWxsZXQ/LnJkbnMpKSk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9LFxuICAgIGhhc1dhbGxldENvbm5lY3Rvcih3YWxsZXQpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ycy5zb21lKGNvbm5lY3RvciA9PiBjb25uZWN0b3IuaWQgPT09IHdhbGxldC5pZCB8fCBjb25uZWN0b3IubmFtZSA9PT0gd2FsbGV0Lm5hbWUpO1xuICAgIH0sXG4gICAgaXNXYWxsZXRDb21wYXRpYmxlV2l0aEN1cnJlbnRDaGFpbih3YWxsZXQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKGN1cnJlbnROYW1lc3BhY2UgJiYgd2FsbGV0LmNoYWlucykge1xuICAgICAgICAgICAgcmV0dXJuIHdhbGxldC5jaGFpbnMuc29tZShjID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFpbk5hbWVzcGFjZSA9IGMuc3BsaXQoJzonKVswXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE5hbWVzcGFjZSA9PT0gY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGdldEZpbHRlcmVkUmVjZW50V2FsbGV0cygpIHtcbiAgICAgICAgY29uc3QgcmVjZW50V2FsbGV0cyA9IFN0b3JhZ2VVdGlsLmdldFJlY2VudFdhbGxldHMoKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRSZWNlbnRXYWxsZXRzID0gcmVjZW50V2FsbGV0c1xuICAgICAgICAgICAgLmZpbHRlcih3YWxsZXQgPT4gIVdhbGxldFV0aWwuaXNFeGNsdWRlZCh3YWxsZXQpKVxuICAgICAgICAgICAgLmZpbHRlcih3YWxsZXQgPT4gIXRoaXMuaGFzV2FsbGV0Q29ubmVjdG9yKHdhbGxldCkpXG4gICAgICAgICAgICAuZmlsdGVyKHdhbGxldCA9PiB0aGlzLmlzV2FsbGV0Q29tcGF0aWJsZVdpdGhDdXJyZW50Q2hhaW4od2FsbGV0KSk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY2VudFdhbGxldHM7XG4gICAgfSxcbiAgICBnZXRDYXBwZWRSZWNvbW1lbmRlZFdhbGxldHMod2FsbGV0cykge1xuICAgICAgICBjb25zdCB7IGNvbm5lY3RvcnMgfSA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgY3VzdG9tV2FsbGV0cywgZmVhdHVyZWRXYWxsZXRJZHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB3Y0Nvbm5lY3RvciA9IGNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQgPT09ICd3YWxsZXRDb25uZWN0Jyk7XG4gICAgICAgIGNvbnN0IGluamVjdGVkQ29ubmVjdG9ycyA9IGNvbm5lY3RvcnMuZmlsdGVyKGMgPT4gYy50eXBlID09PSAnSU5KRUNURUQnIHx8IGMudHlwZSA9PT0gJ0FOTk9VTkNFRCcgfHwgYy50eXBlID09PSAnTVVMVElfQ0hBSU4nKTtcbiAgICAgICAgaWYgKCF3Y0Nvbm5lY3RvciAmJiAhaW5qZWN0ZWRDb25uZWN0b3JzLmxlbmd0aCAmJiAhY3VzdG9tV2FsbGV0cz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNFbWFpbEVuYWJsZWQgPSBPcHRpb25zVXRpbC5pc0VtYWlsRW5hYmxlZCgpO1xuICAgICAgICBjb25zdCBpc1NvY2lhbHNFbmFibGVkID0gT3B0aW9uc1V0aWwuaXNTb2NpYWxzRW5hYmxlZCgpO1xuICAgICAgICBjb25zdCBpbmplY3RlZFdhbGxldHMgPSBpbmplY3RlZENvbm5lY3RvcnMuZmlsdGVyKGkgPT4gaS5uYW1lICE9PSAnQnJvd3NlciBXYWxsZXQnKTtcbiAgICAgICAgY29uc3QgZmVhdHVyZWRXYWxsZXRBbW91bnQgPSBmZWF0dXJlZFdhbGxldElkcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGNvbnN0IGN1c3RvbVdhbGxldEFtb3VudCA9IGN1c3RvbVdhbGxldHM/Lmxlbmd0aCB8fCAwO1xuICAgICAgICBjb25zdCBpbmplY3RlZFdhbGxldEFtb3VudCA9IGluamVjdGVkV2FsbGV0cy5sZW5ndGggfHwgMDtcbiAgICAgICAgY29uc3QgZW1haWxXYWxsZXRBbW91bnQgPSBpc0VtYWlsRW5hYmxlZCA/IDEgOiAwO1xuICAgICAgICBjb25zdCBzb2NpYWxXYWxsZXRBbW91bnQgPSBpc1NvY2lhbHNFbmFibGVkID8gMSA6IDA7XG4gICAgICAgIGNvbnN0IHdhbGxldHNEaXNwbGF5ZWQgPSBmZWF0dXJlZFdhbGxldEFtb3VudCArXG4gICAgICAgICAgICBjdXN0b21XYWxsZXRBbW91bnQgK1xuICAgICAgICAgICAgaW5qZWN0ZWRXYWxsZXRBbW91bnQgK1xuICAgICAgICAgICAgZW1haWxXYWxsZXRBbW91bnQgK1xuICAgICAgICAgICAgc29jaWFsV2FsbGV0QW1vdW50O1xuICAgICAgICBjb25zdCBESVNQTEFZRURfV0FMTEVUU19BTU9VTlQgPSA0O1xuICAgICAgICBjb25zdCBzbGljZUFtb3VudCA9IE1hdGgubWF4KDAsIERJU1BMQVlFRF9XQUxMRVRTX0FNT1VOVCAtIHdhbGxldHNEaXNwbGF5ZWQpO1xuICAgICAgICBpZiAoc2xpY2VBbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gV2FsbGV0VXRpbC5maWx0ZXJPdXREdXBsaWNhdGVXYWxsZXRzKHdhbGxldHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWQuc2xpY2UoMCwgc2xpY2VBbW91bnQpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0b3JVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\nconst ConstantsUtil = {\n    ACCOUNT_TABS: [{ label: 'Tokens' }, { label: 'Activity' }],\n    SECURE_SITE_ORIGIN: (typeof process !== 'undefined' && typeof process.env !== 'undefined'\n        ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']\n        : undefined) || 'https://secure.walletconnect.org',\n    VIEW_DIRECTION: {\n        Next: 'next',\n        Prev: 'prev'\n    },\n    DEFAULT_CONNECT_METHOD_ORDER: ['email', 'social', 'wallet'],\n    ANIMATION_DURATIONS: {\n        HeaderText: 120,\n        ModalHeight: 150,\n        ViewTransition: 150\n    },\n    VIEWS_WITH_LEGAL_FOOTER: [\n        'Connect',\n        'ConnectWallets',\n        'OnRampTokenSelect',\n        'OnRampFiatSelect',\n        'OnRampProviders'\n    ],\n    VIEWS_WITH_DEFAULT_FOOTER: ['Networks']\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUCxxQkFBcUIsaUJBQWlCLElBQUksbUJBQW1CO0FBQzdELGdDQUFnQyxPQUFPLDJCQUEyQixPQUFPO0FBQ3pFLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3V0aWxzL0NvbnN0YW50c1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IENvbnN0YW50c1V0aWwgPSB7XG4gICAgQUNDT1VOVF9UQUJTOiBbeyBsYWJlbDogJ1Rva2VucycgfSwgeyBsYWJlbDogJ0FjdGl2aXR5JyB9XSxcbiAgICBTRUNVUkVfU0lURV9PUklHSU46ICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19TRUNVUkVfU0lURV9PUklHSU4nXVxuICAgICAgICA6IHVuZGVmaW5lZCkgfHwgJ2h0dHBzOi8vc2VjdXJlLndhbGxldGNvbm5lY3Qub3JnJyxcbiAgICBWSUVXX0RJUkVDVElPTjoge1xuICAgICAgICBOZXh0OiAnbmV4dCcsXG4gICAgICAgIFByZXY6ICdwcmV2J1xuICAgIH0sXG4gICAgREVGQVVMVF9DT05ORUNUX01FVEhPRF9PUkRFUjogWydlbWFpbCcsICdzb2NpYWwnLCAnd2FsbGV0J10sXG4gICAgQU5JTUFUSU9OX0RVUkFUSU9OUzoge1xuICAgICAgICBIZWFkZXJUZXh0OiAxMjAsXG4gICAgICAgIE1vZGFsSGVpZ2h0OiAxNTAsXG4gICAgICAgIFZpZXdUcmFuc2l0aW9uOiAxNTBcbiAgICB9LFxuICAgIFZJRVdTX1dJVEhfTEVHQUxfRk9PVEVSOiBbXG4gICAgICAgICdDb25uZWN0JyxcbiAgICAgICAgJ0Nvbm5lY3RXYWxsZXRzJyxcbiAgICAgICAgJ09uUmFtcFRva2VuU2VsZWN0JyxcbiAgICAgICAgJ09uUmFtcEZpYXRTZWxlY3QnLFxuICAgICAgICAnT25SYW1wUHJvdmlkZXJzJ1xuICAgIF0sXG4gICAgVklFV1NfV0lUSF9ERUZBVUxUX0ZPT1RFUjogWydOZXR3b3JrcyddXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uc3RhbnRzVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletUtil: () => (/* binding */ WalletUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js\");\n/* harmony import */ var _ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConnectorUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\nconst WalletUtil = {\n    filterOutDuplicatesByRDNS(wallets) {\n        const connectors = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.enableEIP6963\n            ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.state.connectors\n            : [];\n        const recent = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getRecentWallets();\n        const connectorRDNSs = connectors\n            .map(connector => connector.info?.rdns)\n            .filter(Boolean);\n        const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);\n        const allRDNSs = connectorRDNSs.concat(recentRDNSs);\n        if (allRDNSs.includes('io.metamask.mobile') && _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n            const index = allRDNSs.indexOf('io.metamask.mobile');\n            allRDNSs[index] = 'io.metamask';\n        }\n        const filtered = wallets.filter(wallet => {\n            if (wallet?.rdns && allRDNSs.includes(String(wallet.rdns))) {\n                return false;\n            }\n            if (!wallet?.rdns) {\n                const hasMatchingConnectorName = connectors.some(connector => connector.name === wallet.name);\n                if (hasMatchingConnectorName) {\n                    return false;\n                }\n            }\n            return true;\n        });\n        return filtered;\n    },\n    filterOutDuplicatesByIds(wallets) {\n        const connectors = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.state.connectors.filter(connector => connector.type === 'ANNOUNCED' || connector.type === 'INJECTED');\n        const recent = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getRecentWallets();\n        const connectorIds = connectors.map(connector => connector.explorerId);\n        const recentIds = recent.map(wallet => wallet.id);\n        const allIds = connectorIds.concat(recentIds);\n        const filtered = wallets.filter(wallet => !allIds.includes(wallet?.id));\n        return filtered;\n    },\n    filterOutDuplicateWallets(wallets) {\n        const uniqueByRDNS = this.filterOutDuplicatesByRDNS(wallets);\n        const uniqueWallets = this.filterOutDuplicatesByIds(uniqueByRDNS);\n        return uniqueWallets;\n    },\n    markWalletsAsInstalled(wallets) {\n        const { connectors } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.state;\n        const { featuredWalletIds } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state;\n        const installedWalletRdnsMap = connectors\n            .filter(connector => connector.type === 'ANNOUNCED')\n            .reduce((rdnsMap, connector) => {\n            if (!connector.info?.rdns) {\n                return rdnsMap;\n            }\n            rdnsMap[connector.info.rdns] = true;\n            return rdnsMap;\n        }, {});\n        const walletsWithInstallationStatus = wallets.map(wallet => ({\n            ...wallet,\n            installed: Boolean(wallet.rdns) && Boolean(installedWalletRdnsMap[wallet.rdns ?? ''])\n        }));\n        const sortedWallets = walletsWithInstallationStatus.sort((walletA, walletB) => {\n            const installationComparison = Number(walletB.installed) - Number(walletA.installed);\n            if (installationComparison !== 0) {\n                return installationComparison;\n            }\n            if (featuredWalletIds?.length) {\n                const walletAFeaturedIndex = featuredWalletIds.indexOf(walletA.id);\n                const walletBFeaturedIndex = featuredWalletIds.indexOf(walletB.id);\n                if (walletAFeaturedIndex !== -1 && walletBFeaturedIndex !== -1) {\n                    return walletAFeaturedIndex - walletBFeaturedIndex;\n                }\n                if (walletAFeaturedIndex !== -1) {\n                    return -1;\n                }\n                if (walletBFeaturedIndex !== -1) {\n                    return 1;\n                }\n            }\n            return 0;\n        });\n        return sortedWallets;\n    },\n    getConnectOrderMethod(_features, _connectors) {\n        const connectMethodOrder = _features?.connectMethodsOrder || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.connectMethodsOrder;\n        const connectors = _connectors || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.state.connectors;\n        if (connectMethodOrder) {\n            return connectMethodOrder;\n        }\n        const { injected, announced } = _ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorUtil.getConnectorsByType(connectors, _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ApiController.state.recommended, _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ApiController.state.featured);\n        const shownInjected = injected.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorUtil.showConnector);\n        const shownAnnounced = announced.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorUtil.showConnector);\n        if (shownInjected.length || shownAnnounced.length) {\n            return ['wallet', 'email', 'social'];\n        }\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_CONNECT_METHOD_ORDER;\n    },\n    isExcluded(wallet) {\n        const isRDNSExcluded = Boolean(wallet.rdns) && _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ApiController.state.excludedWallets.some(w => w.rdns === wallet.rdns);\n        const isNameExcluded = Boolean(wallet.name) &&\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ApiController.state.excludedWallets.some(w => _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_7__.HelpersUtil.isLowerCaseMatch(w.name, wallet.name));\n        return isRDNSExcluded || isNameExcluded;\n    },\n    markWalletsWithDisplayIndex(wallets) {\n        return wallets.map((w, index) => ({ ...w, display_index: index }));\n    }\n};\n//# sourceMappingURL=WalletUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErSDtBQUM3RTtBQUNDO0FBQ0E7QUFDNUM7QUFDUDtBQUNBLDJCQUEyQix3RUFBaUI7QUFDNUMsY0FBYywwRUFBbUI7QUFDakM7QUFDQSx1QkFBdUIsa0VBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxxRUFBYztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLDBFQUFtQjtBQUM5Qyx1QkFBdUIsa0VBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixhQUFhLEVBQUUsMEVBQW1CO0FBQ2xELGdCQUFnQixvQkFBb0IsRUFBRSx3RUFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLHFFQUFxRSx3RUFBaUI7QUFDdEYsMENBQTBDLDBFQUFtQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCLEVBQUUsNERBQWEsaUNBQWlDLG9FQUFhLG9CQUFvQixvRUFBYTtBQUNwSSw4Q0FBOEMsNERBQWE7QUFDM0QsZ0RBQWdELDREQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQWE7QUFDNUIsS0FBSztBQUNMO0FBQ0EsdURBQXVELG9FQUFhO0FBQ3BFO0FBQ0EsWUFBWSxvRUFBYSxpQ0FBaUMsNERBQVc7QUFDckU7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0Q0FBNEMsNEJBQTRCO0FBQ3hFO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaUNvbnRyb2xsZXIsIENvbm5lY3RvckNvbnRyb2xsZXIsIENvcmVIZWxwZXJVdGlsLCBPcHRpb25zQ29udHJvbGxlciwgU3RvcmFnZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IEhlbHBlcnNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC11dGlscyc7XG5pbXBvcnQgeyBDb25uZWN0b3JVdGlsIH0gZnJvbSAnLi9Db25uZWN0b3JVdGlsLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuZXhwb3J0IGNvbnN0IFdhbGxldFV0aWwgPSB7XG4gICAgZmlsdGVyT3V0RHVwbGljYXRlc0J5UkROUyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnMgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVFSVA2OTYzXG4gICAgICAgICAgICA/IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9yc1xuICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgY29uc3QgcmVjZW50ID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JSRE5TcyA9IGNvbm5lY3RvcnNcbiAgICAgICAgICAgIC5tYXAoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5pbmZvPy5yZG5zKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgcmVjZW50UkROU3MgPSByZWNlbnQubWFwKHdhbGxldCA9PiB3YWxsZXQucmRucykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBhbGxSRE5TcyA9IGNvbm5lY3RvclJETlNzLmNvbmNhdChyZWNlbnRSRE5Tcyk7XG4gICAgICAgIGlmIChhbGxSRE5Tcy5pbmNsdWRlcygnaW8ubWV0YW1hc2subW9iaWxlJykgJiYgQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhbGxSRE5Tcy5pbmRleE9mKCdpby5tZXRhbWFzay5tb2JpbGUnKTtcbiAgICAgICAgICAgIGFsbFJETlNzW2luZGV4XSA9ICdpby5tZXRhbWFzayc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB3YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4ge1xuICAgICAgICAgICAgaWYgKHdhbGxldD8ucmRucyAmJiBhbGxSRE5Tcy5pbmNsdWRlcyhTdHJpbmcod2FsbGV0LnJkbnMpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghd2FsbGV0Py5yZG5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTWF0Y2hpbmdDb25uZWN0b3JOYW1lID0gY29ubmVjdG9ycy5zb21lKGNvbm5lY3RvciA9PiBjb25uZWN0b3IubmFtZSA9PT0gd2FsbGV0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNNYXRjaGluZ0Nvbm5lY3Rvck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgIH0sXG4gICAgZmlsdGVyT3V0RHVwbGljYXRlc0J5SWRzKHdhbGxldHMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ycy5maWx0ZXIoY29ubmVjdG9yID0+IGNvbm5lY3Rvci50eXBlID09PSAnQU5OT1VOQ0VEJyB8fCBjb25uZWN0b3IudHlwZSA9PT0gJ0lOSkVDVEVEJyk7XG4gICAgICAgIGNvbnN0IHJlY2VudCA9IFN0b3JhZ2VVdGlsLmdldFJlY2VudFdhbGxldHMoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWRzID0gY29ubmVjdG9ycy5tYXAoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5leHBsb3JlcklkKTtcbiAgICAgICAgY29uc3QgcmVjZW50SWRzID0gcmVjZW50Lm1hcCh3YWxsZXQgPT4gd2FsbGV0LmlkKTtcbiAgICAgICAgY29uc3QgYWxsSWRzID0gY29ubmVjdG9ySWRzLmNvbmNhdChyZWNlbnRJZHMpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHdhbGxldHMuZmlsdGVyKHdhbGxldCA9PiAhYWxsSWRzLmluY2x1ZGVzKHdhbGxldD8uaWQpKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgIH0sXG4gICAgZmlsdGVyT3V0RHVwbGljYXRlV2FsbGV0cyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUJ5UkROUyA9IHRoaXMuZmlsdGVyT3V0RHVwbGljYXRlc0J5UkROUyh3YWxsZXRzKTtcbiAgICAgICAgY29uc3QgdW5pcXVlV2FsbGV0cyA9IHRoaXMuZmlsdGVyT3V0RHVwbGljYXRlc0J5SWRzKHVuaXF1ZUJ5UkROUyk7XG4gICAgICAgIHJldHVybiB1bmlxdWVXYWxsZXRzO1xuICAgIH0sXG4gICAgbWFya1dhbGxldHNBc0luc3RhbGxlZCh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IHsgY29ubmVjdG9ycyB9ID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyBmZWF0dXJlZFdhbGxldElkcyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFdhbGxldFJkbnNNYXAgPSBjb25uZWN0b3JzXG4gICAgICAgICAgICAuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ0FOTk9VTkNFRCcpXG4gICAgICAgICAgICAucmVkdWNlKChyZG5zTWFwLCBjb25uZWN0b3IpID0+IHtcbiAgICAgICAgICAgIGlmICghY29ubmVjdG9yLmluZm8/LnJkbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmRuc01hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJkbnNNYXBbY29ubmVjdG9yLmluZm8ucmRuc10gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJkbnNNYXA7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgY29uc3Qgd2FsbGV0c1dpdGhJbnN0YWxsYXRpb25TdGF0dXMgPSB3YWxsZXRzLm1hcCh3YWxsZXQgPT4gKHtcbiAgICAgICAgICAgIC4uLndhbGxldCxcbiAgICAgICAgICAgIGluc3RhbGxlZDogQm9vbGVhbih3YWxsZXQucmRucykgJiYgQm9vbGVhbihpbnN0YWxsZWRXYWxsZXRSZG5zTWFwW3dhbGxldC5yZG5zID8/ICcnXSlcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBzb3J0ZWRXYWxsZXRzID0gd2FsbGV0c1dpdGhJbnN0YWxsYXRpb25TdGF0dXMuc29ydCgod2FsbGV0QSwgd2FsbGV0QikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFsbGF0aW9uQ29tcGFyaXNvbiA9IE51bWJlcih3YWxsZXRCLmluc3RhbGxlZCkgLSBOdW1iZXIod2FsbGV0QS5pbnN0YWxsZWQpO1xuICAgICAgICAgICAgaWYgKGluc3RhbGxhdGlvbkNvbXBhcmlzb24gIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFsbGF0aW9uQ29tcGFyaXNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmZWF0dXJlZFdhbGxldElkcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FsbGV0QUZlYXR1cmVkSW5kZXggPSBmZWF0dXJlZFdhbGxldElkcy5pbmRleE9mKHdhbGxldEEuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxldEJGZWF0dXJlZEluZGV4ID0gZmVhdHVyZWRXYWxsZXRJZHMuaW5kZXhPZih3YWxsZXRCLmlkKTtcbiAgICAgICAgICAgICAgICBpZiAod2FsbGV0QUZlYXR1cmVkSW5kZXggIT09IC0xICYmIHdhbGxldEJGZWF0dXJlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2FsbGV0QUZlYXR1cmVkSW5kZXggLSB3YWxsZXRCRmVhdHVyZWRJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHdhbGxldEFGZWF0dXJlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3YWxsZXRCRmVhdHVyZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc29ydGVkV2FsbGV0cztcbiAgICB9LFxuICAgIGdldENvbm5lY3RPcmRlck1ldGhvZChfZmVhdHVyZXMsIF9jb25uZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RNZXRob2RPcmRlciA9IF9mZWF0dXJlcz8uY29ubmVjdE1ldGhvZHNPcmRlciB8fCBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uY29ubmVjdE1ldGhvZHNPcmRlcjtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ycyA9IF9jb25uZWN0b3JzIHx8IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ycztcbiAgICAgICAgaWYgKGNvbm5lY3RNZXRob2RPcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3RNZXRob2RPcmRlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGluamVjdGVkLCBhbm5vdW5jZWQgfSA9IENvbm5lY3RvclV0aWwuZ2V0Q29ubmVjdG9yc0J5VHlwZShjb25uZWN0b3JzLCBBcGlDb250cm9sbGVyLnN0YXRlLnJlY29tbWVuZGVkLCBBcGlDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVkKTtcbiAgICAgICAgY29uc3Qgc2hvd25JbmplY3RlZCA9IGluamVjdGVkLmZpbHRlcihDb25uZWN0b3JVdGlsLnNob3dDb25uZWN0b3IpO1xuICAgICAgICBjb25zdCBzaG93bkFubm91bmNlZCA9IGFubm91bmNlZC5maWx0ZXIoQ29ubmVjdG9yVXRpbC5zaG93Q29ubmVjdG9yKTtcbiAgICAgICAgaWYgKHNob3duSW5qZWN0ZWQubGVuZ3RoIHx8IHNob3duQW5ub3VuY2VkLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFsnd2FsbGV0JywgJ2VtYWlsJywgJ3NvY2lhbCddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25zdGFudHNVdGlsLkRFRkFVTFRfQ09OTkVDVF9NRVRIT0RfT1JERVI7XG4gICAgfSxcbiAgICBpc0V4Y2x1ZGVkKHdhbGxldCkge1xuICAgICAgICBjb25zdCBpc1JETlNFeGNsdWRlZCA9IEJvb2xlYW4od2FsbGV0LnJkbnMpICYmIEFwaUNvbnRyb2xsZXIuc3RhdGUuZXhjbHVkZWRXYWxsZXRzLnNvbWUodyA9PiB3LnJkbnMgPT09IHdhbGxldC5yZG5zKTtcbiAgICAgICAgY29uc3QgaXNOYW1lRXhjbHVkZWQgPSBCb29sZWFuKHdhbGxldC5uYW1lKSAmJlxuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5zdGF0ZS5leGNsdWRlZFdhbGxldHMuc29tZSh3ID0+IEhlbHBlcnNVdGlsLmlzTG93ZXJDYXNlTWF0Y2gody5uYW1lLCB3YWxsZXQubmFtZSkpO1xuICAgICAgICByZXR1cm4gaXNSRE5TRXhjbHVkZWQgfHwgaXNOYW1lRXhjbHVkZWQ7XG4gICAgfSxcbiAgICBtYXJrV2FsbGV0c1dpdGhEaXNwbGF5SW5kZXgod2FsbGV0cykge1xuICAgICAgICByZXR1cm4gd2FsbGV0cy5tYXAoKHcsIGluZGV4KSA9PiAoeyAuLi53LCBkaXNwbGF5X2luZGV4OiBpbmRleCB9KSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdhbGxldFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/exports/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/exports/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MathUtil: () => (/* reexport safe */ _src_utils_MathUtil_js__WEBPACK_IMPORTED_MODULE_0__.MathUtil),\n/* harmony export */   TransactionUtil: () => (/* reexport safe */ _src_utils_TransactionUtil_js__WEBPACK_IMPORTED_MODULE_3__.TransactionUtil),\n/* harmony export */   UiHelperUtil: () => (/* reexport safe */ _src_utils_UiHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.UiHelperUtil),\n/* harmony export */   borderRadius: () => (/* reexport safe */ _src_utils_ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_5__.borderRadius),\n/* harmony export */   colors: () => (/* reexport safe */ _src_utils_ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_5__.colors),\n/* harmony export */   css: () => (/* reexport safe */ _src_utils_ThemeHelperUtil_js__WEBPACK_IMPORTED_MODULE_6__.css),\n/* harmony export */   customElement: () => (/* reexport safe */ _src_utils_WebComponentsUtil_js__WEBPACK_IMPORTED_MODULE_4__.customElement),\n/* harmony export */   initializeTheming: () => (/* reexport safe */ _src_utils_ThemeUtil_js__WEBPACK_IMPORTED_MODULE_1__.initializeTheming),\n/* harmony export */   setColorTheme: () => (/* reexport safe */ _src_utils_ThemeUtil_js__WEBPACK_IMPORTED_MODULE_1__.setColorTheme),\n/* harmony export */   setThemeVariables: () => (/* reexport safe */ _src_utils_ThemeUtil_js__WEBPACK_IMPORTED_MODULE_1__.setThemeVariables),\n/* harmony export */   spacing: () => (/* reexport safe */ _src_utils_ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_5__.spacing),\n/* harmony export */   vars: () => (/* reexport safe */ _src_utils_ThemeHelperUtil_js__WEBPACK_IMPORTED_MODULE_6__.vars)\n/* harmony export */ });\n/* harmony import */ var _src_utils_MathUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/utils/MathUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/MathUtil.js\");\n/* harmony import */ var _src_utils_ThemeUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/utils/ThemeUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _src_utils_UiHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/utils/UiHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/UiHelperUtil.js\");\n/* harmony import */ var _src_utils_TransactionUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/utils/TransactionUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/TransactionUtil.js\");\n/* harmony import */ var _src_utils_WebComponentsUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/utils/WebComponentsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/WebComponentsUtil.js\");\n/* harmony import */ var _src_utils_ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/utils/ThemeConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeConstantsUtil.js\");\n/* harmony import */ var _src_utils_ThemeHelperUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/utils/ThemeHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeHelperUtil.js\");\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL2V4cG9ydHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUM0QztBQUNwQztBQUNNO0FBQ0E7QUFDaUI7QUFDdkI7QUFDNUQiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9leHBvcnRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE1hdGhVdGlsIH0gZnJvbSAnLi4vc3JjL3V0aWxzL01hdGhVdGlsLmpzJztcbmV4cG9ydCB7IGluaXRpYWxpemVUaGVtaW5nLCBzZXRDb2xvclRoZW1lLCBzZXRUaGVtZVZhcmlhYmxlcyB9IGZyb20gJy4uL3NyYy91dGlscy9UaGVtZVV0aWwuanMnO1xuZXhwb3J0IHsgVWlIZWxwZXJVdGlsIH0gZnJvbSAnLi4vc3JjL3V0aWxzL1VpSGVscGVyVXRpbC5qcyc7XG5leHBvcnQgeyBUcmFuc2FjdGlvblV0aWwgfSBmcm9tICcuLi9zcmMvdXRpbHMvVHJhbnNhY3Rpb25VdGlsLmpzJztcbmV4cG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICcuLi9zcmMvdXRpbHMvV2ViQ29tcG9uZW50c1V0aWwuanMnO1xuZXhwb3J0IHsgYm9yZGVyUmFkaXVzLCBjb2xvcnMsIHNwYWNpbmcgfSBmcm9tICcuLi9zcmMvdXRpbHMvVGhlbWVDb25zdGFudHNVdGlsLmpzJztcbmV4cG9ydCB7IGNzcywgdmFycyB9IGZyb20gJy4uL3NyYy91dGlscy9UaGVtZUhlbHBlclV0aWwuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/exports/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/MathUtil.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/MathUtil.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MathUtil: () => (/* binding */ MathUtil)\n/* harmony export */ });\nconst MathUtil = {\n    interpolate(inputRange, outputRange, value) {\n        if (inputRange.length !== 2 || outputRange.length !== 2) {\n            throw new Error('inputRange and outputRange must be an array of length 2');\n        }\n        const originalRangeMin = inputRange[0] || 0;\n        const originalRangeMax = inputRange[1] || 0;\n        const newRangeMin = outputRange[0] || 0;\n        const newRangeMax = outputRange[1] || 0;\n        if (value < originalRangeMin) {\n            return newRangeMin;\n        }\n        if (value > originalRangeMax) {\n            return newRangeMax;\n        }\n        return (((newRangeMax - newRangeMin) / (originalRangeMax - originalRangeMin)) *\n            (value - originalRangeMin) +\n            newRangeMin);\n    }\n};\n//# sourceMappingURL=MathUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9NYXRoVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL3V0aWxzL01hdGhVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBNYXRoVXRpbCA9IHtcbiAgICBpbnRlcnBvbGF0ZShpbnB1dFJhbmdlLCBvdXRwdXRSYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlucHV0UmFuZ2UubGVuZ3RoICE9PSAyIHx8IG91dHB1dFJhbmdlLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnB1dFJhbmdlIGFuZCBvdXRwdXRSYW5nZSBtdXN0IGJlIGFuIGFycmF5IG9mIGxlbmd0aCAyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSYW5nZU1pbiA9IGlucHV0UmFuZ2VbMF0gfHwgMDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSYW5nZU1heCA9IGlucHV0UmFuZ2VbMV0gfHwgMDtcbiAgICAgICAgY29uc3QgbmV3UmFuZ2VNaW4gPSBvdXRwdXRSYW5nZVswXSB8fCAwO1xuICAgICAgICBjb25zdCBuZXdSYW5nZU1heCA9IG91dHB1dFJhbmdlWzFdIHx8IDA7XG4gICAgICAgIGlmICh2YWx1ZSA8IG9yaWdpbmFsUmFuZ2VNaW4pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdSYW5nZU1pbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPiBvcmlnaW5hbFJhbmdlTWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3UmFuZ2VNYXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgoKG5ld1JhbmdlTWF4IC0gbmV3UmFuZ2VNaW4pIC8gKG9yaWdpbmFsUmFuZ2VNYXggLSBvcmlnaW5hbFJhbmdlTWluKSkgKlxuICAgICAgICAgICAgKHZhbHVlIC0gb3JpZ2luYWxSYW5nZU1pbikgK1xuICAgICAgICAgICAgbmV3UmFuZ2VNaW4pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/MathUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeConstantsUtil.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeConstantsUtil.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   borderRadius: () => (/* binding */ borderRadius),\n/* harmony export */   colors: () => (/* binding */ colors),\n/* harmony export */   spacing: () => (/* binding */ spacing),\n/* harmony export */   styles: () => (/* binding */ styles),\n/* harmony export */   tokens: () => (/* binding */ tokens)\n/* harmony export */ });\nconst colors = {\n    black: '#202020',\n    white: '#FFFFFF',\n    white010: 'rgba(255, 255, 255, 0.1)',\n    accent010: 'rgba(9, 136, 240, 0.1)',\n    accent020: 'rgba(9, 136, 240, 0.2)',\n    accent030: 'rgba(9, 136, 240, 0.3)',\n    accent040: 'rgba(9, 136, 240, 0.4)',\n    accent050: 'rgba(9, 136, 240, 0.5)',\n    accent060: 'rgba(9, 136, 240, 0.6)',\n    accent070: 'rgba(9, 136, 240, 0.7)',\n    accent080: 'rgba(9, 136, 240, 0.8)',\n    accent090: 'rgba(9, 136, 240, 0.9)',\n    accent100: 'rgba(9, 136, 240, 1.0)',\n    accentSecondary010: 'rgba(199, 185, 148, 0.1)',\n    accentSecondary020: 'rgba(199, 185, 148, 0.2)',\n    accentSecondary030: 'rgba(199, 185, 148, 0.3)',\n    accentSecondary040: 'rgba(199, 185, 148, 0.4)',\n    accentSecondary050: 'rgba(199, 185, 148, 0.5)',\n    accentSecondary060: 'rgba(199, 185, 148, 0.6)',\n    accentSecondary070: 'rgba(199, 185, 148, 0.7)',\n    accentSecondary080: 'rgba(199, 185, 148, 0.8)',\n    accentSecondary090: 'rgba(199, 185, 148, 0.9)',\n    accentSecondary100: 'rgba(199, 185, 148, 1.0)',\n    productWalletKit: '#FFB800',\n    productAppKit: '#FF573B',\n    productCloud: '#0988F0',\n    productDocumentation: '#008847',\n    neutrals050: '#F6F6F6',\n    neutrals100: '#F3F3F3',\n    neutrals200: '#E9E9E9',\n    neutrals300: '#D0D0D0',\n    neutrals400: '#BBB',\n    neutrals500: '#9A9A9A',\n    neutrals600: '#6C6C6C',\n    neutrals700: '#4F4F4F',\n    neutrals800: '#363636',\n    neutrals900: '#2A2A2A',\n    neutrals1000: '#252525',\n    semanticSuccess010: 'rgba(48, 164, 107, 0.1)',\n    semanticSuccess020: 'rgba(48, 164, 107, 0.2)',\n    semanticSuccess030: 'rgba(48, 164, 107, 0.3)',\n    semanticSuccess040: 'rgba(48, 164, 107, 0.4)',\n    semanticSuccess050: 'rgba(48, 164, 107, 0.5)',\n    semanticSuccess060: 'rgba(48, 164, 107, 0.6)',\n    semanticSuccess070: 'rgba(48, 164, 107, 0.7)',\n    semanticSuccess080: 'rgba(48, 164, 107, 0.8)',\n    semanticSuccess090: 'rgba(48, 164, 107, 0.9)',\n    semanticSuccess100: 'rgba(48, 164, 107, 1.0)',\n    semanticError010: 'rgba(223, 74, 52, 0.1)',\n    semanticError020: 'rgba(223, 74, 52, 0.2)',\n    semanticError030: 'rgba(223, 74, 52, 0.3)',\n    semanticError040: 'rgba(223, 74, 52, 0.4)',\n    semanticError050: 'rgba(223, 74, 52, 0.5)',\n    semanticError060: 'rgba(223, 74, 52, 0.6)',\n    semanticError070: 'rgba(223, 74, 52, 0.7)',\n    semanticError080: 'rgba(223, 74, 52, 0.8)',\n    semanticError090: 'rgba(223, 74, 52, 0.9)',\n    semanticError100: 'rgba(223, 74, 52, 1.0)',\n    semanticWarning010: 'rgba(243, 161, 63, 0.1)',\n    semanticWarning020: 'rgba(243, 161, 63, 0.2)',\n    semanticWarning030: 'rgba(243, 161, 63, 0.3)',\n    semanticWarning040: 'rgba(243, 161, 63, 0.4)',\n    semanticWarning050: 'rgba(243, 161, 63, 0.5)',\n    semanticWarning060: 'rgba(243, 161, 63, 0.6)',\n    semanticWarning070: 'rgba(243, 161, 63, 0.7)',\n    semanticWarning080: 'rgba(243, 161, 63, 0.8)',\n    semanticWarning090: 'rgba(243, 161, 63, 0.9)',\n    semanticWarning100: 'rgba(243, 161, 63, 1.0)'\n};\nconst tokens = {\n    core: {\n        backgroundAccentPrimary: '#0988F0',\n        backgroundAccentCertified: '#C7B994',\n        backgroundWalletKit: '#FFB800',\n        backgroundAppKit: '#FF573B',\n        backgroundCloud: '#0988F0',\n        backgroundDocumentation: '#008847',\n        backgroundSuccess: 'rgba(48, 164, 107, 0.20)',\n        backgroundError: 'rgba(223, 74, 52, 0.20)',\n        backgroundWarning: 'rgba(243, 161, 63, 0.20)',\n        textAccentPrimary: '#0988F0',\n        textAccentCertified: '#C7B994',\n        textWalletKit: '#FFB800',\n        textAppKit: '#FF573B',\n        textCloud: '#0988F0',\n        textDocumentation: '#008847',\n        textSuccess: '#30A46B',\n        textError: '#DF4A34',\n        textWarning: '#F3A13F',\n        borderAccentPrimary: '#0988F0',\n        borderSecondary: '#C7B994',\n        borderSuccess: '#30A46B',\n        borderError: '#DF4A34',\n        borderWarning: '#F3A13F',\n        foregroundAccent010: 'rgba(9, 136, 240, 0.1)',\n        foregroundAccent020: 'rgba(9, 136, 240, 0.2)',\n        foregroundAccent040: 'rgba(9, 136, 240, 0.4)',\n        foregroundAccent060: 'rgba(9, 136, 240, 0.6)',\n        foregroundSecondary020: 'rgba(199, 185, 148, 0.2)',\n        foregroundSecondary040: 'rgba(199, 185, 148, 0.4)',\n        foregroundSecondary060: 'rgba(199, 185, 148, 0.6)',\n        iconAccentPrimary: '#0988F0',\n        iconAccentCertified: '#C7B994',\n        iconSuccess: '#30A46B',\n        iconError: '#DF4A34',\n        iconWarning: '#F3A13F',\n        glass010: 'rgba(255, 255, 255, 0.1)',\n        zIndex: '9999'\n    },\n    dark: {\n        overlay: 'rgba(0, 0, 0, 0.50)',\n        backgroundPrimary: '#202020',\n        backgroundInvert: '#FFFFFF',\n        textPrimary: '#FFFFFF',\n        textSecondary: '#9A9A9A',\n        textTertiary: '#BBBBBB',\n        textInvert: '#202020',\n        borderPrimary: '#2A2A2A',\n        borderPrimaryDark: '#363636',\n        borderSecondary: '#4F4F4F',\n        foregroundPrimary: '#252525',\n        foregroundSecondary: '#2A2A2A',\n        foregroundTertiary: '#363636',\n        iconDefault: '#9A9A9A',\n        iconInverse: '#FFFFFF'\n    },\n    light: {\n        overlay: 'rgba(230 , 230, 230, 0.5)',\n        backgroundPrimary: '#FFFFFF',\n        borderPrimaryDark: '#E9E9E9',\n        backgroundInvert: '#202020',\n        textPrimary: '#202020',\n        textSecondary: '#9A9A9A',\n        textTertiary: '#6C6C6C',\n        textInvert: '#FFFFFF',\n        borderPrimary: '#E9E9E9',\n        borderSecondary: '#D0D0D0',\n        foregroundPrimary: '#F3F3F3',\n        foregroundSecondary: '#E9E9E9',\n        foregroundTertiary: '#D0D0D0',\n        iconDefault: '#9A9A9A',\n        iconInverse: '#202020'\n    }\n};\nconst borderRadius = {\n    '1': '4px',\n    '2': '8px',\n    '10': '10px',\n    '3': '12px',\n    '4': '16px',\n    '6': '24px',\n    '5': '20px',\n    '8': '32px',\n    '16': '64px',\n    '20': '80px',\n    '32': '128px',\n    '64': '256px',\n    '128': '512px',\n    round: '9999px'\n};\nconst spacing = {\n    '0': '0px',\n    '01': '2px',\n    '1': '4px',\n    '2': '8px',\n    '3': '12px',\n    '4': '16px',\n    '5': '20px',\n    '6': '24px',\n    '7': '28px',\n    '8': '32px',\n    '9': '36px',\n    '10': '40px',\n    '12': '48px',\n    '14': '56px',\n    '16': '64px',\n    '20': '80px',\n    '32': '128px',\n    '64': '256px'\n};\nconst fontFamily = {\n    regular: 'KHTeka',\n    mono: 'KHTekaMono'\n};\nconst fontWeight = {\n    regular: '400',\n    medium: '500'\n};\nconst textSize = {\n    h1: '50px',\n    h2: '44px',\n    h3: '38px',\n    h4: '32px',\n    h5: '26px',\n    h6: '20px',\n    large: '16px',\n    medium: '14px',\n    small: '12px'\n};\nconst typography = {\n    'h1-regular-mono': { lineHeight: '50px', letterSpacing: '-3px' },\n    'h1-regular': { lineHeight: '50px', letterSpacing: '-1px' },\n    'h1-medium': { lineHeight: '50px', letterSpacing: '-0.84px' },\n    'h2-regular-mono': { lineHeight: '44px', letterSpacing: '-2.64px' },\n    'h2-regular': { lineHeight: '44px', letterSpacing: '-0.88px' },\n    'h2-medium': { lineHeight: '44px', letterSpacing: '-0.88px' },\n    'h3-regular-mono': { lineHeight: '38px', letterSpacing: '-2.28px' },\n    'h3-regular': { lineHeight: '38px', letterSpacing: '-0.76px' },\n    'h3-medium': { lineHeight: '38px', letterSpacing: '-0.76px' },\n    'h4-regular-mono': { lineHeight: '32px', letterSpacing: '-1.92px' },\n    'h4-regular': { lineHeight: '32px', letterSpacing: '-0.32px' },\n    'h4-medium': { lineHeight: '32px', letterSpacing: '-0.32px' },\n    'h5-regular-mono': { lineHeight: '26px', letterSpacing: '-1.56px' },\n    'h5-regular': { lineHeight: '26px', letterSpacing: '-0.26px' },\n    'h5-medium': { lineHeight: '26px', letterSpacing: '-0.26px' },\n    'h6-regular-mono': { lineHeight: '20px', letterSpacing: '-1.2px' },\n    'h6-regular': { lineHeight: '20px', letterSpacing: '-0.6px' },\n    'h6-medium': { lineHeight: '20px', letterSpacing: '-0.6px' },\n    'lg-regular-mono': { lineHeight: '16px', letterSpacing: '-0.96px' },\n    'lg-regular': { lineHeight: '18px', letterSpacing: '-0.16px' },\n    'lg-medium': { lineHeight: '18px', letterSpacing: '-0.16px' },\n    'md-regular-mono': { lineHeight: '14px', letterSpacing: '-0.84px' },\n    'md-regular': { lineHeight: '16px', letterSpacing: '-0.14px' },\n    'md-medium': { lineHeight: '16px', letterSpacing: '-0.14px' },\n    'sm-regular-mono': { lineHeight: '12px', letterSpacing: '-0.72px' },\n    'sm-regular': { lineHeight: '14px', letterSpacing: '-0.12px' },\n    'sm-medium': { lineHeight: '14px', letterSpacing: '-0.12px' }\n};\nconst easings = {\n    'ease-out-power-2': 'cubic-bezier(0.23, 0.09, 0.08, 1.13)',\n    'ease-out-power-1': 'cubic-bezier(0.12, 0.04, 0.2, 1.06)',\n    'ease-in-power-2': 'cubic-bezier(0.92, -0.13, 0.77, 0.91)',\n    'ease-in-power-1': 'cubic-bezier(0.88, -0.06, 0.8, 0.96)',\n    'ease-inout-power-2': 'cubic-bezier(0.77, 0.09, 0.23, 1.13)',\n    'ease-inout-power-1': 'cubic-bezier(0.88, 0.04, 0.12, 1.06)'\n};\nconst durations = {\n    xl: '400ms',\n    lg: '200ms',\n    md: '125ms',\n    sm: '75ms'\n};\nconst styles = {\n    colors,\n    fontFamily,\n    fontWeight,\n    textSize,\n    typography,\n    tokens: {\n        core: tokens.core,\n        theme: tokens.dark\n    },\n    borderRadius,\n    spacing,\n    durations,\n    easings\n};\n//# sourceMappingURL=ThemeConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9UaGVtZUNvbnN0YW50c1V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJDQUEyQztBQUNwRSxvQkFBb0IsMkNBQTJDO0FBQy9ELG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDZDQUE2QztBQUN0RSxvQkFBb0IsNkNBQTZDO0FBQ2pFLG1CQUFtQiw2Q0FBNkM7QUFDaEUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQiw4Q0FBOEM7QUFDakUseUJBQXlCLDhDQUE4QztBQUN2RSxvQkFBb0IsOENBQThDO0FBQ2xFLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL3V0aWxzL1RoZW1lQ29uc3RhbnRzVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29sb3JzID0ge1xuICAgIGJsYWNrOiAnIzIwMjAyMCcsXG4gICAgd2hpdGU6ICcjRkZGRkZGJyxcbiAgICB3aGl0ZTAxMDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScsXG4gICAgYWNjZW50MDEwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC4xKScsXG4gICAgYWNjZW50MDIwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC4yKScsXG4gICAgYWNjZW50MDMwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC4zKScsXG4gICAgYWNjZW50MDQwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC40KScsXG4gICAgYWNjZW50MDUwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC41KScsXG4gICAgYWNjZW50MDYwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC42KScsXG4gICAgYWNjZW50MDcwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC43KScsXG4gICAgYWNjZW50MDgwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC44KScsXG4gICAgYWNjZW50MDkwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC45KScsXG4gICAgYWNjZW50MTAwOiAncmdiYSg5LCAxMzYsIDI0MCwgMS4wKScsXG4gICAgYWNjZW50U2Vjb25kYXJ5MDEwOiAncmdiYSgxOTksIDE4NSwgMTQ4LCAwLjEpJyxcbiAgICBhY2NlbnRTZWNvbmRhcnkwMjA6ICdyZ2JhKDE5OSwgMTg1LCAxNDgsIDAuMiknLFxuICAgIGFjY2VudFNlY29uZGFyeTAzMDogJ3JnYmEoMTk5LCAxODUsIDE0OCwgMC4zKScsXG4gICAgYWNjZW50U2Vjb25kYXJ5MDQwOiAncmdiYSgxOTksIDE4NSwgMTQ4LCAwLjQpJyxcbiAgICBhY2NlbnRTZWNvbmRhcnkwNTA6ICdyZ2JhKDE5OSwgMTg1LCAxNDgsIDAuNSknLFxuICAgIGFjY2VudFNlY29uZGFyeTA2MDogJ3JnYmEoMTk5LCAxODUsIDE0OCwgMC42KScsXG4gICAgYWNjZW50U2Vjb25kYXJ5MDcwOiAncmdiYSgxOTksIDE4NSwgMTQ4LCAwLjcpJyxcbiAgICBhY2NlbnRTZWNvbmRhcnkwODA6ICdyZ2JhKDE5OSwgMTg1LCAxNDgsIDAuOCknLFxuICAgIGFjY2VudFNlY29uZGFyeTA5MDogJ3JnYmEoMTk5LCAxODUsIDE0OCwgMC45KScsXG4gICAgYWNjZW50U2Vjb25kYXJ5MTAwOiAncmdiYSgxOTksIDE4NSwgMTQ4LCAxLjApJyxcbiAgICBwcm9kdWN0V2FsbGV0S2l0OiAnI0ZGQjgwMCcsXG4gICAgcHJvZHVjdEFwcEtpdDogJyNGRjU3M0InLFxuICAgIHByb2R1Y3RDbG91ZDogJyMwOTg4RjAnLFxuICAgIHByb2R1Y3REb2N1bWVudGF0aW9uOiAnIzAwODg0NycsXG4gICAgbmV1dHJhbHMwNTA6ICcjRjZGNkY2JyxcbiAgICBuZXV0cmFsczEwMDogJyNGM0YzRjMnLFxuICAgIG5ldXRyYWxzMjAwOiAnI0U5RTlFOScsXG4gICAgbmV1dHJhbHMzMDA6ICcjRDBEMEQwJyxcbiAgICBuZXV0cmFsczQwMDogJyNCQkInLFxuICAgIG5ldXRyYWxzNTAwOiAnIzlBOUE5QScsXG4gICAgbmV1dHJhbHM2MDA6ICcjNkM2QzZDJyxcbiAgICBuZXV0cmFsczcwMDogJyM0RjRGNEYnLFxuICAgIG5ldXRyYWxzODAwOiAnIzM2MzYzNicsXG4gICAgbmV1dHJhbHM5MDA6ICcjMkEyQTJBJyxcbiAgICBuZXV0cmFsczEwMDA6ICcjMjUyNTI1JyxcbiAgICBzZW1hbnRpY1N1Y2Nlc3MwMTA6ICdyZ2JhKDQ4LCAxNjQsIDEwNywgMC4xKScsXG4gICAgc2VtYW50aWNTdWNjZXNzMDIwOiAncmdiYSg0OCwgMTY0LCAxMDcsIDAuMiknLFxuICAgIHNlbWFudGljU3VjY2VzczAzMDogJ3JnYmEoNDgsIDE2NCwgMTA3LCAwLjMpJyxcbiAgICBzZW1hbnRpY1N1Y2Nlc3MwNDA6ICdyZ2JhKDQ4LCAxNjQsIDEwNywgMC40KScsXG4gICAgc2VtYW50aWNTdWNjZXNzMDUwOiAncmdiYSg0OCwgMTY0LCAxMDcsIDAuNSknLFxuICAgIHNlbWFudGljU3VjY2VzczA2MDogJ3JnYmEoNDgsIDE2NCwgMTA3LCAwLjYpJyxcbiAgICBzZW1hbnRpY1N1Y2Nlc3MwNzA6ICdyZ2JhKDQ4LCAxNjQsIDEwNywgMC43KScsXG4gICAgc2VtYW50aWNTdWNjZXNzMDgwOiAncmdiYSg0OCwgMTY0LCAxMDcsIDAuOCknLFxuICAgIHNlbWFudGljU3VjY2VzczA5MDogJ3JnYmEoNDgsIDE2NCwgMTA3LCAwLjkpJyxcbiAgICBzZW1hbnRpY1N1Y2Nlc3MxMDA6ICdyZ2JhKDQ4LCAxNjQsIDEwNywgMS4wKScsXG4gICAgc2VtYW50aWNFcnJvcjAxMDogJ3JnYmEoMjIzLCA3NCwgNTIsIDAuMSknLFxuICAgIHNlbWFudGljRXJyb3IwMjA6ICdyZ2JhKDIyMywgNzQsIDUyLCAwLjIpJyxcbiAgICBzZW1hbnRpY0Vycm9yMDMwOiAncmdiYSgyMjMsIDc0LCA1MiwgMC4zKScsXG4gICAgc2VtYW50aWNFcnJvcjA0MDogJ3JnYmEoMjIzLCA3NCwgNTIsIDAuNCknLFxuICAgIHNlbWFudGljRXJyb3IwNTA6ICdyZ2JhKDIyMywgNzQsIDUyLCAwLjUpJyxcbiAgICBzZW1hbnRpY0Vycm9yMDYwOiAncmdiYSgyMjMsIDc0LCA1MiwgMC42KScsXG4gICAgc2VtYW50aWNFcnJvcjA3MDogJ3JnYmEoMjIzLCA3NCwgNTIsIDAuNyknLFxuICAgIHNlbWFudGljRXJyb3IwODA6ICdyZ2JhKDIyMywgNzQsIDUyLCAwLjgpJyxcbiAgICBzZW1hbnRpY0Vycm9yMDkwOiAncmdiYSgyMjMsIDc0LCA1MiwgMC45KScsXG4gICAgc2VtYW50aWNFcnJvcjEwMDogJ3JnYmEoMjIzLCA3NCwgNTIsIDEuMCknLFxuICAgIHNlbWFudGljV2FybmluZzAxMDogJ3JnYmEoMjQzLCAxNjEsIDYzLCAwLjEpJyxcbiAgICBzZW1hbnRpY1dhcm5pbmcwMjA6ICdyZ2JhKDI0MywgMTYxLCA2MywgMC4yKScsXG4gICAgc2VtYW50aWNXYXJuaW5nMDMwOiAncmdiYSgyNDMsIDE2MSwgNjMsIDAuMyknLFxuICAgIHNlbWFudGljV2FybmluZzA0MDogJ3JnYmEoMjQzLCAxNjEsIDYzLCAwLjQpJyxcbiAgICBzZW1hbnRpY1dhcm5pbmcwNTA6ICdyZ2JhKDI0MywgMTYxLCA2MywgMC41KScsXG4gICAgc2VtYW50aWNXYXJuaW5nMDYwOiAncmdiYSgyNDMsIDE2MSwgNjMsIDAuNiknLFxuICAgIHNlbWFudGljV2FybmluZzA3MDogJ3JnYmEoMjQzLCAxNjEsIDYzLCAwLjcpJyxcbiAgICBzZW1hbnRpY1dhcm5pbmcwODA6ICdyZ2JhKDI0MywgMTYxLCA2MywgMC44KScsXG4gICAgc2VtYW50aWNXYXJuaW5nMDkwOiAncmdiYSgyNDMsIDE2MSwgNjMsIDAuOSknLFxuICAgIHNlbWFudGljV2FybmluZzEwMDogJ3JnYmEoMjQzLCAxNjEsIDYzLCAxLjApJ1xufTtcbmV4cG9ydCBjb25zdCB0b2tlbnMgPSB7XG4gICAgY29yZToge1xuICAgICAgICBiYWNrZ3JvdW5kQWNjZW50UHJpbWFyeTogJyMwOTg4RjAnLFxuICAgICAgICBiYWNrZ3JvdW5kQWNjZW50Q2VydGlmaWVkOiAnI0M3Qjk5NCcsXG4gICAgICAgIGJhY2tncm91bmRXYWxsZXRLaXQ6ICcjRkZCODAwJyxcbiAgICAgICAgYmFja2dyb3VuZEFwcEtpdDogJyNGRjU3M0InLFxuICAgICAgICBiYWNrZ3JvdW5kQ2xvdWQ6ICcjMDk4OEYwJyxcbiAgICAgICAgYmFja2dyb3VuZERvY3VtZW50YXRpb246ICcjMDA4ODQ3JyxcbiAgICAgICAgYmFja2dyb3VuZFN1Y2Nlc3M6ICdyZ2JhKDQ4LCAxNjQsIDEwNywgMC4yMCknLFxuICAgICAgICBiYWNrZ3JvdW5kRXJyb3I6ICdyZ2JhKDIyMywgNzQsIDUyLCAwLjIwKScsXG4gICAgICAgIGJhY2tncm91bmRXYXJuaW5nOiAncmdiYSgyNDMsIDE2MSwgNjMsIDAuMjApJyxcbiAgICAgICAgdGV4dEFjY2VudFByaW1hcnk6ICcjMDk4OEYwJyxcbiAgICAgICAgdGV4dEFjY2VudENlcnRpZmllZDogJyNDN0I5OTQnLFxuICAgICAgICB0ZXh0V2FsbGV0S2l0OiAnI0ZGQjgwMCcsXG4gICAgICAgIHRleHRBcHBLaXQ6ICcjRkY1NzNCJyxcbiAgICAgICAgdGV4dENsb3VkOiAnIzA5ODhGMCcsXG4gICAgICAgIHRleHREb2N1bWVudGF0aW9uOiAnIzAwODg0NycsXG4gICAgICAgIHRleHRTdWNjZXNzOiAnIzMwQTQ2QicsXG4gICAgICAgIHRleHRFcnJvcjogJyNERjRBMzQnLFxuICAgICAgICB0ZXh0V2FybmluZzogJyNGM0ExM0YnLFxuICAgICAgICBib3JkZXJBY2NlbnRQcmltYXJ5OiAnIzA5ODhGMCcsXG4gICAgICAgIGJvcmRlclNlY29uZGFyeTogJyNDN0I5OTQnLFxuICAgICAgICBib3JkZXJTdWNjZXNzOiAnIzMwQTQ2QicsXG4gICAgICAgIGJvcmRlckVycm9yOiAnI0RGNEEzNCcsXG4gICAgICAgIGJvcmRlcldhcm5pbmc6ICcjRjNBMTNGJyxcbiAgICAgICAgZm9yZWdyb3VuZEFjY2VudDAxMDogJ3JnYmEoOSwgMTM2LCAyNDAsIDAuMSknLFxuICAgICAgICBmb3JlZ3JvdW5kQWNjZW50MDIwOiAncmdiYSg5LCAxMzYsIDI0MCwgMC4yKScsXG4gICAgICAgIGZvcmVncm91bmRBY2NlbnQwNDA6ICdyZ2JhKDksIDEzNiwgMjQwLCAwLjQpJyxcbiAgICAgICAgZm9yZWdyb3VuZEFjY2VudDA2MDogJ3JnYmEoOSwgMTM2LCAyNDAsIDAuNiknLFxuICAgICAgICBmb3JlZ3JvdW5kU2Vjb25kYXJ5MDIwOiAncmdiYSgxOTksIDE4NSwgMTQ4LCAwLjIpJyxcbiAgICAgICAgZm9yZWdyb3VuZFNlY29uZGFyeTA0MDogJ3JnYmEoMTk5LCAxODUsIDE0OCwgMC40KScsXG4gICAgICAgIGZvcmVncm91bmRTZWNvbmRhcnkwNjA6ICdyZ2JhKDE5OSwgMTg1LCAxNDgsIDAuNiknLFxuICAgICAgICBpY29uQWNjZW50UHJpbWFyeTogJyMwOTg4RjAnLFxuICAgICAgICBpY29uQWNjZW50Q2VydGlmaWVkOiAnI0M3Qjk5NCcsXG4gICAgICAgIGljb25TdWNjZXNzOiAnIzMwQTQ2QicsXG4gICAgICAgIGljb25FcnJvcjogJyNERjRBMzQnLFxuICAgICAgICBpY29uV2FybmluZzogJyNGM0ExM0YnLFxuICAgICAgICBnbGFzczAxMDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScsXG4gICAgICAgIHpJbmRleDogJzk5OTknXG4gICAgfSxcbiAgICBkYXJrOiB7XG4gICAgICAgIG92ZXJsYXk6ICdyZ2JhKDAsIDAsIDAsIDAuNTApJyxcbiAgICAgICAgYmFja2dyb3VuZFByaW1hcnk6ICcjMjAyMDIwJyxcbiAgICAgICAgYmFja2dyb3VuZEludmVydDogJyNGRkZGRkYnLFxuICAgICAgICB0ZXh0UHJpbWFyeTogJyNGRkZGRkYnLFxuICAgICAgICB0ZXh0U2Vjb25kYXJ5OiAnIzlBOUE5QScsXG4gICAgICAgIHRleHRUZXJ0aWFyeTogJyNCQkJCQkInLFxuICAgICAgICB0ZXh0SW52ZXJ0OiAnIzIwMjAyMCcsXG4gICAgICAgIGJvcmRlclByaW1hcnk6ICcjMkEyQTJBJyxcbiAgICAgICAgYm9yZGVyUHJpbWFyeURhcms6ICcjMzYzNjM2JyxcbiAgICAgICAgYm9yZGVyU2Vjb25kYXJ5OiAnIzRGNEY0RicsXG4gICAgICAgIGZvcmVncm91bmRQcmltYXJ5OiAnIzI1MjUyNScsXG4gICAgICAgIGZvcmVncm91bmRTZWNvbmRhcnk6ICcjMkEyQTJBJyxcbiAgICAgICAgZm9yZWdyb3VuZFRlcnRpYXJ5OiAnIzM2MzYzNicsXG4gICAgICAgIGljb25EZWZhdWx0OiAnIzlBOUE5QScsXG4gICAgICAgIGljb25JbnZlcnNlOiAnI0ZGRkZGRidcbiAgICB9LFxuICAgIGxpZ2h0OiB7XG4gICAgICAgIG92ZXJsYXk6ICdyZ2JhKDIzMCAsIDIzMCwgMjMwLCAwLjUpJyxcbiAgICAgICAgYmFja2dyb3VuZFByaW1hcnk6ICcjRkZGRkZGJyxcbiAgICAgICAgYm9yZGVyUHJpbWFyeURhcms6ICcjRTlFOUU5JyxcbiAgICAgICAgYmFja2dyb3VuZEludmVydDogJyMyMDIwMjAnLFxuICAgICAgICB0ZXh0UHJpbWFyeTogJyMyMDIwMjAnLFxuICAgICAgICB0ZXh0U2Vjb25kYXJ5OiAnIzlBOUE5QScsXG4gICAgICAgIHRleHRUZXJ0aWFyeTogJyM2QzZDNkMnLFxuICAgICAgICB0ZXh0SW52ZXJ0OiAnI0ZGRkZGRicsXG4gICAgICAgIGJvcmRlclByaW1hcnk6ICcjRTlFOUU5JyxcbiAgICAgICAgYm9yZGVyU2Vjb25kYXJ5OiAnI0QwRDBEMCcsXG4gICAgICAgIGZvcmVncm91bmRQcmltYXJ5OiAnI0YzRjNGMycsXG4gICAgICAgIGZvcmVncm91bmRTZWNvbmRhcnk6ICcjRTlFOUU5JyxcbiAgICAgICAgZm9yZWdyb3VuZFRlcnRpYXJ5OiAnI0QwRDBEMCcsXG4gICAgICAgIGljb25EZWZhdWx0OiAnIzlBOUE5QScsXG4gICAgICAgIGljb25JbnZlcnNlOiAnIzIwMjAyMCdcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJvcmRlclJhZGl1cyA9IHtcbiAgICAnMSc6ICc0cHgnLFxuICAgICcyJzogJzhweCcsXG4gICAgJzEwJzogJzEwcHgnLFxuICAgICczJzogJzEycHgnLFxuICAgICc0JzogJzE2cHgnLFxuICAgICc2JzogJzI0cHgnLFxuICAgICc1JzogJzIwcHgnLFxuICAgICc4JzogJzMycHgnLFxuICAgICcxNic6ICc2NHB4JyxcbiAgICAnMjAnOiAnODBweCcsXG4gICAgJzMyJzogJzEyOHB4JyxcbiAgICAnNjQnOiAnMjU2cHgnLFxuICAgICcxMjgnOiAnNTEycHgnLFxuICAgIHJvdW5kOiAnOTk5OXB4J1xufTtcbmV4cG9ydCBjb25zdCBzcGFjaW5nID0ge1xuICAgICcwJzogJzBweCcsXG4gICAgJzAxJzogJzJweCcsXG4gICAgJzEnOiAnNHB4JyxcbiAgICAnMic6ICc4cHgnLFxuICAgICczJzogJzEycHgnLFxuICAgICc0JzogJzE2cHgnLFxuICAgICc1JzogJzIwcHgnLFxuICAgICc2JzogJzI0cHgnLFxuICAgICc3JzogJzI4cHgnLFxuICAgICc4JzogJzMycHgnLFxuICAgICc5JzogJzM2cHgnLFxuICAgICcxMCc6ICc0MHB4JyxcbiAgICAnMTInOiAnNDhweCcsXG4gICAgJzE0JzogJzU2cHgnLFxuICAgICcxNic6ICc2NHB4JyxcbiAgICAnMjAnOiAnODBweCcsXG4gICAgJzMyJzogJzEyOHB4JyxcbiAgICAnNjQnOiAnMjU2cHgnXG59O1xuY29uc3QgZm9udEZhbWlseSA9IHtcbiAgICByZWd1bGFyOiAnS0hUZWthJyxcbiAgICBtb25vOiAnS0hUZWthTW9ubydcbn07XG5jb25zdCBmb250V2VpZ2h0ID0ge1xuICAgIHJlZ3VsYXI6ICc0MDAnLFxuICAgIG1lZGl1bTogJzUwMCdcbn07XG5jb25zdCB0ZXh0U2l6ZSA9IHtcbiAgICBoMTogJzUwcHgnLFxuICAgIGgyOiAnNDRweCcsXG4gICAgaDM6ICczOHB4JyxcbiAgICBoNDogJzMycHgnLFxuICAgIGg1OiAnMjZweCcsXG4gICAgaDY6ICcyMHB4JyxcbiAgICBsYXJnZTogJzE2cHgnLFxuICAgIG1lZGl1bTogJzE0cHgnLFxuICAgIHNtYWxsOiAnMTJweCdcbn07XG5jb25zdCB0eXBvZ3JhcGh5ID0ge1xuICAgICdoMS1yZWd1bGFyLW1vbm8nOiB7IGxpbmVIZWlnaHQ6ICc1MHB4JywgbGV0dGVyU3BhY2luZzogJy0zcHgnIH0sXG4gICAgJ2gxLXJlZ3VsYXInOiB7IGxpbmVIZWlnaHQ6ICc1MHB4JywgbGV0dGVyU3BhY2luZzogJy0xcHgnIH0sXG4gICAgJ2gxLW1lZGl1bSc6IHsgbGluZUhlaWdodDogJzUwcHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuODRweCcgfSxcbiAgICAnaDItcmVndWxhci1tb25vJzogeyBsaW5lSGVpZ2h0OiAnNDRweCcsIGxldHRlclNwYWNpbmc6ICctMi42NHB4JyB9LFxuICAgICdoMi1yZWd1bGFyJzogeyBsaW5lSGVpZ2h0OiAnNDRweCcsIGxldHRlclNwYWNpbmc6ICctMC44OHB4JyB9LFxuICAgICdoMi1tZWRpdW0nOiB7IGxpbmVIZWlnaHQ6ICc0NHB4JywgbGV0dGVyU3BhY2luZzogJy0wLjg4cHgnIH0sXG4gICAgJ2gzLXJlZ3VsYXItbW9ubyc6IHsgbGluZUhlaWdodDogJzM4cHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTIuMjhweCcgfSxcbiAgICAnaDMtcmVndWxhcic6IHsgbGluZUhlaWdodDogJzM4cHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuNzZweCcgfSxcbiAgICAnaDMtbWVkaXVtJzogeyBsaW5lSGVpZ2h0OiAnMzhweCcsIGxldHRlclNwYWNpbmc6ICctMC43NnB4JyB9LFxuICAgICdoNC1yZWd1bGFyLW1vbm8nOiB7IGxpbmVIZWlnaHQ6ICczMnB4JywgbGV0dGVyU3BhY2luZzogJy0xLjkycHgnIH0sXG4gICAgJ2g0LXJlZ3VsYXInOiB7IGxpbmVIZWlnaHQ6ICczMnB4JywgbGV0dGVyU3BhY2luZzogJy0wLjMycHgnIH0sXG4gICAgJ2g0LW1lZGl1bSc6IHsgbGluZUhlaWdodDogJzMycHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuMzJweCcgfSxcbiAgICAnaDUtcmVndWxhci1tb25vJzogeyBsaW5lSGVpZ2h0OiAnMjZweCcsIGxldHRlclNwYWNpbmc6ICctMS41NnB4JyB9LFxuICAgICdoNS1yZWd1bGFyJzogeyBsaW5lSGVpZ2h0OiAnMjZweCcsIGxldHRlclNwYWNpbmc6ICctMC4yNnB4JyB9LFxuICAgICdoNS1tZWRpdW0nOiB7IGxpbmVIZWlnaHQ6ICcyNnB4JywgbGV0dGVyU3BhY2luZzogJy0wLjI2cHgnIH0sXG4gICAgJ2g2LXJlZ3VsYXItbW9ubyc6IHsgbGluZUhlaWdodDogJzIwcHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTEuMnB4JyB9LFxuICAgICdoNi1yZWd1bGFyJzogeyBsaW5lSGVpZ2h0OiAnMjBweCcsIGxldHRlclNwYWNpbmc6ICctMC42cHgnIH0sXG4gICAgJ2g2LW1lZGl1bSc6IHsgbGluZUhlaWdodDogJzIwcHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuNnB4JyB9LFxuICAgICdsZy1yZWd1bGFyLW1vbm8nOiB7IGxpbmVIZWlnaHQ6ICcxNnB4JywgbGV0dGVyU3BhY2luZzogJy0wLjk2cHgnIH0sXG4gICAgJ2xnLXJlZ3VsYXInOiB7IGxpbmVIZWlnaHQ6ICcxOHB4JywgbGV0dGVyU3BhY2luZzogJy0wLjE2cHgnIH0sXG4gICAgJ2xnLW1lZGl1bSc6IHsgbGluZUhlaWdodDogJzE4cHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuMTZweCcgfSxcbiAgICAnbWQtcmVndWxhci1tb25vJzogeyBsaW5lSGVpZ2h0OiAnMTRweCcsIGxldHRlclNwYWNpbmc6ICctMC44NHB4JyB9LFxuICAgICdtZC1yZWd1bGFyJzogeyBsaW5lSGVpZ2h0OiAnMTZweCcsIGxldHRlclNwYWNpbmc6ICctMC4xNHB4JyB9LFxuICAgICdtZC1tZWRpdW0nOiB7IGxpbmVIZWlnaHQ6ICcxNnB4JywgbGV0dGVyU3BhY2luZzogJy0wLjE0cHgnIH0sXG4gICAgJ3NtLXJlZ3VsYXItbW9ubyc6IHsgbGluZUhlaWdodDogJzEycHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuNzJweCcgfSxcbiAgICAnc20tcmVndWxhcic6IHsgbGluZUhlaWdodDogJzE0cHgnLCBsZXR0ZXJTcGFjaW5nOiAnLTAuMTJweCcgfSxcbiAgICAnc20tbWVkaXVtJzogeyBsaW5lSGVpZ2h0OiAnMTRweCcsIGxldHRlclNwYWNpbmc6ICctMC4xMnB4JyB9XG59O1xuY29uc3QgZWFzaW5ncyA9IHtcbiAgICAnZWFzZS1vdXQtcG93ZXItMic6ICdjdWJpYy1iZXppZXIoMC4yMywgMC4wOSwgMC4wOCwgMS4xMyknLFxuICAgICdlYXNlLW91dC1wb3dlci0xJzogJ2N1YmljLWJlemllcigwLjEyLCAwLjA0LCAwLjIsIDEuMDYpJyxcbiAgICAnZWFzZS1pbi1wb3dlci0yJzogJ2N1YmljLWJlemllcigwLjkyLCAtMC4xMywgMC43NywgMC45MSknLFxuICAgICdlYXNlLWluLXBvd2VyLTEnOiAnY3ViaWMtYmV6aWVyKDAuODgsIC0wLjA2LCAwLjgsIDAuOTYpJyxcbiAgICAnZWFzZS1pbm91dC1wb3dlci0yJzogJ2N1YmljLWJlemllcigwLjc3LCAwLjA5LCAwLjIzLCAxLjEzKScsXG4gICAgJ2Vhc2UtaW5vdXQtcG93ZXItMSc6ICdjdWJpYy1iZXppZXIoMC44OCwgMC4wNCwgMC4xMiwgMS4wNiknXG59O1xuY29uc3QgZHVyYXRpb25zID0ge1xuICAgIHhsOiAnNDAwbXMnLFxuICAgIGxnOiAnMjAwbXMnLFxuICAgIG1kOiAnMTI1bXMnLFxuICAgIHNtOiAnNzVtcydcbn07XG5leHBvcnQgY29uc3Qgc3R5bGVzID0ge1xuICAgIGNvbG9ycyxcbiAgICBmb250RmFtaWx5LFxuICAgIGZvbnRXZWlnaHQsXG4gICAgdGV4dFNpemUsXG4gICAgdHlwb2dyYXBoeSxcbiAgICB0b2tlbnM6IHtcbiAgICAgICAgY29yZTogdG9rZW5zLmNvcmUsXG4gICAgICAgIHRoZW1lOiB0b2tlbnMuZGFya1xuICAgIH0sXG4gICAgYm9yZGVyUmFkaXVzLFxuICAgIHNwYWNpbmcsXG4gICAgZHVyYXRpb25zLFxuICAgIGVhc2luZ3Ncbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaGVtZUNvbnN0YW50c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeHelperUtil.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeHelperUtil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeHelperUtil: () => (/* binding */ ThemeHelperUtil),\n/* harmony export */   css: () => (/* binding */ css),\n/* harmony export */   vars: () => (/* binding */ vars)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(app-pages-browser)/./node_modules/lit/index.js\");\n/* harmony import */ var _ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThemeConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeConstantsUtil.js\");\n\n\nconst PREFIX_VAR = '--apkt';\nconst ThemeHelperUtil = {\n    createCSSVariables(styles) {\n        const cssVariables = {};\n        const cssVariablesVarPrefix = {};\n        function createVars(_styles, parent, currentVar = '') {\n            for (const [styleKey, styleValue] of Object.entries(_styles)) {\n                const variable = currentVar ? `${currentVar}-${styleKey}` : styleKey;\n                if (styleValue && typeof styleValue === 'object' && Object.keys(styleValue).length) {\n                    parent[styleKey] = {};\n                    createVars(styleValue, parent[styleKey], variable);\n                }\n                else if (typeof styleValue === 'string') {\n                    parent[styleKey] = `${PREFIX_VAR}-${variable}`;\n                }\n            }\n        }\n        function addVarsPrefix(_styles, parent) {\n            for (const [key, value] of Object.entries(_styles)) {\n                if (value && typeof value === 'object') {\n                    parent[key] = {};\n                    addVarsPrefix(value, parent[key]);\n                }\n                else if (typeof value === 'string') {\n                    parent[key] = `var(${value})`;\n                }\n            }\n        }\n        createVars(styles, cssVariables);\n        addVarsPrefix(cssVariables, cssVariablesVarPrefix);\n        return { cssVariables, cssVariablesVarPrefix };\n    },\n    assignCSSVariables(vars, styles) {\n        const assignedCSSVariables = {};\n        function assignVars(_vars, _styles, variable) {\n            for (const [varKey, varValue] of Object.entries(_vars)) {\n                const nextVariable = variable ? `${variable}-${varKey}` : varKey;\n                const styleValues = _styles[varKey];\n                if (varValue && typeof varValue === 'object') {\n                    assignVars(varValue, styleValues, nextVariable);\n                }\n                else if (typeof styleValues === 'string') {\n                    assignedCSSVariables[`${PREFIX_VAR}-${nextVariable}`] = styleValues;\n                }\n            }\n        }\n        assignVars(vars, styles);\n        return assignedCSSVariables;\n    },\n    createRootStyles(theme, themeVariables) {\n        const styles = {\n            ..._ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.styles,\n            tokens: { ..._ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.styles.tokens, theme: theme === 'light' ? _ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.tokens.light : _ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.tokens.dark }\n        };\n        const { cssVariables } = ThemeHelperUtil.createCSSVariables(styles);\n        const assignedCSSVariables = ThemeHelperUtil.assignCSSVariables(cssVariables, styles);\n        const w3mVariables = ThemeHelperUtil.generateW3MVariables(themeVariables);\n        const w3mOverrides = ThemeHelperUtil.generateW3MOverrides(themeVariables);\n        const scaledVariables = ThemeHelperUtil.generateScaledVariables(themeVariables);\n        const baseVariables = ThemeHelperUtil.generateBaseVariables(assignedCSSVariables);\n        const allVariables = {\n            ...assignedCSSVariables,\n            ...baseVariables,\n            ...w3mVariables,\n            ...w3mOverrides,\n            ...scaledVariables\n        };\n        const colorMixVariables = ThemeHelperUtil.applyColorMixToVariables(themeVariables, allVariables);\n        const finalVariables = {\n            ...allVariables,\n            ...colorMixVariables\n        };\n        const rootStyles = Object.entries(finalVariables)\n            .map(([key, style]) => `${key}:${style.replace('/[:;{}</>]/g', '')};`)\n            .join('');\n        return `:root {${rootStyles}}`;\n    },\n    generateW3MVariables(themeVariables) {\n        if (!themeVariables) {\n            return {};\n        }\n        const variables = {};\n        variables['--w3m-font-family'] = themeVariables['--w3m-font-family'] || 'KHTeka';\n        variables['--w3m-accent'] = themeVariables['--w3m-accent'] || '#0988F0';\n        variables['--w3m-color-mix'] = themeVariables['--w3m-color-mix'] || '#000';\n        variables['--w3m-color-mix-strength'] = `${themeVariables['--w3m-color-mix-strength'] || 0}%`;\n        variables['--w3m-font-size-master'] = themeVariables['--w3m-font-size-master'] || '10px';\n        variables['--w3m-border-radius-master'] = themeVariables['--w3m-border-radius-master'] || '4px';\n        return variables;\n    },\n    generateW3MOverrides(themeVariables) {\n        if (!themeVariables) {\n            return {};\n        }\n        const overrides = {};\n        if (themeVariables['--w3m-accent']) {\n            const accentColor = themeVariables['--w3m-accent'];\n            overrides['--apkt-tokens-core-iconAccentPrimary'] = accentColor;\n            overrides['--apkt-tokens-core-borderAccentPrimary'] = accentColor;\n            overrides['--apkt-tokens-core-textAccentPrimary'] = accentColor;\n            overrides['--apkt-tokens-core-backgroundAccentPrimary'] = accentColor;\n        }\n        if (themeVariables['--w3m-font-family']) {\n            overrides['--apkt-fontFamily-regular'] = themeVariables['--w3m-font-family'];\n        }\n        if (themeVariables['--w3m-z-index']) {\n            overrides['--apkt-tokens-core-zIndex'] = `${themeVariables['--w3m-z-index']}`;\n        }\n        return overrides;\n    },\n    generateScaledVariables(themeVariables) {\n        if (!themeVariables) {\n            return {};\n        }\n        const scaledVars = {};\n        if (themeVariables['--w3m-font-size-master']) {\n            const masterSize = parseFloat(themeVariables['--w3m-font-size-master'].replace('px', ''));\n            scaledVars['--apkt-textSize-h1'] = `${Number(masterSize) * 5}px`;\n            scaledVars['--apkt-textSize-h2'] = `${Number(masterSize) * 4.4}px`;\n            scaledVars['--apkt-textSize-h3'] = `${Number(masterSize) * 3.8}px`;\n            scaledVars['--apkt-textSize-h4'] = `${Number(masterSize) * 3.2}px`;\n            scaledVars['--apkt-textSize-h5'] = `${Number(masterSize) * 2.6}px`;\n            scaledVars['--apkt-textSize-h6'] = `${Number(masterSize) * 2}px`;\n            scaledVars['--apkt-textSize-large'] = `${Number(masterSize) * 1.6}px`;\n            scaledVars['--apkt-textSize-medium'] = `${Number(masterSize) * 1.4}px`;\n            scaledVars['--apkt-textSize-small'] = `${Number(masterSize) * 1.2}px`;\n        }\n        if (themeVariables['--w3m-border-radius-master']) {\n            const masterRadius = parseFloat(themeVariables['--w3m-border-radius-master'].replace('px', ''));\n            scaledVars['--apkt-borderRadius-1'] = `${Number(masterRadius)}px`;\n            scaledVars['--apkt-borderRadius-2'] = `${Number(masterRadius) * 2}px`;\n            scaledVars['--apkt-borderRadius-3'] = `${Number(masterRadius) * 3}px`;\n            scaledVars['--apkt-borderRadius-4'] = `${Number(masterRadius) * 4}px`;\n            scaledVars['--apkt-borderRadius-5'] = `${Number(masterRadius) * 5}px`;\n            scaledVars['--apkt-borderRadius-6'] = `${Number(masterRadius) * 6}px`;\n            scaledVars['--apkt-borderRadius-8'] = `${Number(masterRadius) * 8}px`;\n            scaledVars['--apkt-borderRadius-16'] = `${Number(masterRadius) * 16}px`;\n            scaledVars['--apkt-borderRadius-20'] = `${Number(masterRadius) * 20}px`;\n            scaledVars['--apkt-borderRadius-32'] = `${Number(masterRadius) * 32}px`;\n            scaledVars['--apkt-borderRadius-64'] = `${Number(masterRadius) * 64}px`;\n            scaledVars['--apkt-borderRadius-128'] = `${Number(masterRadius) * 128}px`;\n        }\n        return scaledVars;\n    },\n    generateColorMixCSS(themeVariables, allVariables) {\n        if (!themeVariables?.['--w3m-color-mix'] || !themeVariables['--w3m-color-mix-strength']) {\n            return '';\n        }\n        const colorMix = themeVariables['--w3m-color-mix'];\n        const strength = themeVariables['--w3m-color-mix-strength'];\n        if (!strength || strength === 0) {\n            return '';\n        }\n        const colorVariables = Object.keys(allVariables || {}).filter(key => {\n            const isColorToken = key.includes('-tokens-core-background') ||\n                key.includes('-tokens-core-text') ||\n                key.includes('-tokens-core-border') ||\n                key.includes('-tokens-core-foreground') ||\n                key.includes('-tokens-core-icon') ||\n                key.includes('-tokens-theme-background') ||\n                key.includes('-tokens-theme-text') ||\n                key.includes('-tokens-theme-border') ||\n                key.includes('-tokens-theme-foreground') ||\n                key.includes('-tokens-theme-icon');\n            const isDimensional = key.includes('-borderRadius-') ||\n                key.includes('-spacing-') ||\n                key.includes('-textSize-') ||\n                key.includes('-fontFamily-') ||\n                key.includes('-fontWeight-') ||\n                key.includes('-typography-') ||\n                key.includes('-duration-') ||\n                key.includes('-ease-') ||\n                key.includes('-path-') ||\n                key.includes('-width-') ||\n                key.includes('-height-') ||\n                key.includes('-visual-size-') ||\n                key.includes('-modal-width') ||\n                key.includes('-cover');\n            return isColorToken && !isDimensional;\n        });\n        if (colorVariables.length === 0) {\n            return '';\n        }\n        const colorMixVariables = colorVariables\n            .map(key => {\n            const originalValue = allVariables?.[key] || '';\n            if (originalValue.includes('color-mix') ||\n                originalValue.startsWith('#') ||\n                originalValue.startsWith('rgb')) {\n                return `${key}: color-mix(in srgb, ${colorMix} ${strength}%, ${originalValue});`;\n            }\n            return `${key}: color-mix(in srgb, ${colorMix} ${strength}%, var(${key}-base, ${originalValue}));`;\n        })\n            .join('');\n        return ` @supports (background: color-mix(in srgb, white 50%, black)) {\n      :root {\n        ${colorMixVariables}\n      }\n    }`;\n    },\n    generateBaseVariables(assignedCSSVariables) {\n        const baseVariables = {};\n        const themeBackgroundPrimary = assignedCSSVariables['--apkt-tokens-theme-backgroundPrimary'];\n        if (themeBackgroundPrimary) {\n            baseVariables['--apkt-tokens-theme-backgroundPrimary-base'] = themeBackgroundPrimary;\n        }\n        const coreBackgroundAccentPrimary = assignedCSSVariables['--apkt-tokens-core-backgroundAccentPrimary'];\n        if (coreBackgroundAccentPrimary) {\n            baseVariables['--apkt-tokens-core-backgroundAccentPrimary-base'] = coreBackgroundAccentPrimary;\n        }\n        return baseVariables;\n    },\n    applyColorMixToVariables(themeVariables, allVariables) {\n        const colorMixVariables = {};\n        if (allVariables?.['--apkt-tokens-theme-backgroundPrimary']) {\n            colorMixVariables['--apkt-tokens-theme-backgroundPrimary'] =\n                'var(--apkt-tokens-theme-backgroundPrimary-base)';\n        }\n        if (allVariables?.['--apkt-tokens-core-backgroundAccentPrimary']) {\n            colorMixVariables['--apkt-tokens-core-backgroundAccentPrimary'] =\n                'var(--apkt-tokens-core-backgroundAccentPrimary-base)';\n        }\n        if (!themeVariables?.['--w3m-color-mix'] || !themeVariables['--w3m-color-mix-strength']) {\n            return colorMixVariables;\n        }\n        const colorMix = themeVariables['--w3m-color-mix'];\n        const strength = themeVariables['--w3m-color-mix-strength'];\n        if (!strength || strength === 0) {\n            return colorMixVariables;\n        }\n        const colorVariables = Object.keys(allVariables || {}).filter(key => {\n            const isColorToken = key.includes('-tokens-core-background') ||\n                key.includes('-tokens-core-text') ||\n                key.includes('-tokens-core-border') ||\n                key.includes('-tokens-core-foreground') ||\n                key.includes('-tokens-core-icon') ||\n                key.includes('-tokens-theme-background') ||\n                key.includes('-tokens-theme-text') ||\n                key.includes('-tokens-theme-border') ||\n                key.includes('-tokens-theme-foreground') ||\n                key.includes('-tokens-theme-icon') ||\n                key.includes('-tokens-theme-overlay');\n            const isDimensional = key.includes('-borderRadius-') ||\n                key.includes('-spacing-') ||\n                key.includes('-textSize-') ||\n                key.includes('-fontFamily-') ||\n                key.includes('-fontWeight-') ||\n                key.includes('-typography-') ||\n                key.includes('-duration-') ||\n                key.includes('-ease-') ||\n                key.includes('-path-') ||\n                key.includes('-width-') ||\n                key.includes('-height-') ||\n                key.includes('-visual-size-') ||\n                key.includes('-modal-width') ||\n                key.includes('-cover');\n            return isColorToken && !isDimensional;\n        });\n        if (colorVariables.length === 0) {\n            return colorMixVariables;\n        }\n        colorVariables.forEach(key => {\n            const originalValue = allVariables?.[key] || '';\n            if (key.endsWith('-base')) {\n                return;\n            }\n            if (key === '--apkt-tokens-theme-backgroundPrimary' ||\n                key === '--apkt-tokens-core-backgroundAccentPrimary') {\n                colorMixVariables[key] = `color-mix(in srgb, ${colorMix} ${strength}%, var(${key}-base))`;\n            }\n            else if (originalValue.includes('color-mix') ||\n                originalValue.startsWith('#') ||\n                originalValue.startsWith('rgb')) {\n                colorMixVariables[key] = `color-mix(in srgb, ${colorMix} ${strength}%, ${originalValue})`;\n            }\n            else {\n                colorMixVariables[key] =\n                    `color-mix(in srgb, ${colorMix} ${strength}%, var(${key}-base, ${originalValue}))`;\n            }\n        });\n        return colorMixVariables;\n    }\n};\nconst { cssVariablesVarPrefix: vars } = ThemeHelperUtil.createCSSVariables(_ThemeConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.styles);\nfunction css(strings, ...values) {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)(strings, ...values.map(value => typeof value === 'function' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(value(vars)) : (0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(value)));\n}\n\n//# sourceMappingURL=ThemeHelperUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9UaGVtZUhlbHBlclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0M7QUFDdUI7QUFDdEU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsV0FBVyxHQUFHLFNBQVM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxXQUFXLEdBQUcsU0FBUztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxNQUFNO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFNBQVMsR0FBRyxPQUFPO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVyxHQUFHLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSwwREFBUztBQUN4QixzQkFBc0IsR0FBRywwREFBUyxvQ0FBb0MsMERBQU0sU0FBUywwREFBTTtBQUMzRjtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxJQUFJLEdBQUcscUJBQXFCLGNBQWM7QUFDaEY7QUFDQSx1QkFBdUIsRUFBRSxZQUFZO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdEQUFnRDtBQUNuRztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0NBQWdDO0FBQ3hGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdUJBQXVCO0FBQ3pFLGtEQUFrRCx5QkFBeUI7QUFDM0Usa0RBQWtELHlCQUF5QjtBQUMzRSxrREFBa0QseUJBQXlCO0FBQzNFLGtEQUFrRCx5QkFBeUI7QUFDM0Usa0RBQWtELHVCQUF1QjtBQUN6RSxxREFBcUQseUJBQXlCO0FBQzlFLHNEQUFzRCx5QkFBeUI7QUFDL0UscURBQXFELHlCQUF5QjtBQUM5RTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQscUJBQXFCO0FBQzFFLHFEQUFxRCx5QkFBeUI7QUFDOUUscURBQXFELHlCQUF5QjtBQUM5RSxxREFBcUQseUJBQXlCO0FBQzlFLHFEQUFxRCx5QkFBeUI7QUFDOUUscURBQXFELHlCQUF5QjtBQUM5RSxxREFBcUQseUJBQXlCO0FBQzlFLHNEQUFzRCwwQkFBMEI7QUFDaEYsc0RBQXNELDBCQUEwQjtBQUNoRixzREFBc0QsMEJBQTBCO0FBQ2hGLHNEQUFzRCwwQkFBMEI7QUFDaEYsdURBQXVELDJCQUEyQjtBQUNsRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSSx1QkFBdUIsVUFBVSxFQUFFLFNBQVMsS0FBSyxjQUFjLEVBQUU7QUFDL0Y7QUFDQSxzQkFBc0IsSUFBSSx1QkFBdUIsVUFBVSxFQUFFLFNBQVMsU0FBUyxJQUFJLFNBQVMsY0FBYyxHQUFHO0FBQzdHLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsVUFBVSxFQUFFLFNBQVMsU0FBUyxJQUFJO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFVBQVUsRUFBRSxTQUFTLEtBQUssY0FBYztBQUN2RztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsVUFBVSxFQUFFLFNBQVMsU0FBUyxJQUFJLFNBQVMsY0FBYztBQUNuRztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhCQUE4QixxQ0FBcUMsMERBQVM7QUFDcEY7QUFDQSxXQUFXLHdDQUFNLCtEQUErRCw4Q0FBUyxnQkFBZ0IsOENBQVM7QUFDbEg7QUFDcUI7QUFDckIiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9zcmMvdXRpbHMvVGhlbWVIZWxwZXJVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyBhcyBsaXRDU1MsIHVuc2FmZUNTUyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBzdHlsZXMgYXMgYWxsU3R5bGVzLCB0b2tlbnMgfSBmcm9tICcuL1RoZW1lQ29uc3RhbnRzVXRpbC5qcyc7XG5jb25zdCBQUkVGSVhfVkFSID0gJy0tYXBrdCc7XG5leHBvcnQgY29uc3QgVGhlbWVIZWxwZXJVdGlsID0ge1xuICAgIGNyZWF0ZUNTU1ZhcmlhYmxlcyhzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgY3NzVmFyaWFibGVzID0ge307XG4gICAgICAgIGNvbnN0IGNzc1ZhcmlhYmxlc1ZhclByZWZpeCA9IHt9O1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVWYXJzKF9zdHlsZXMsIHBhcmVudCwgY3VycmVudFZhciA9ICcnKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtzdHlsZUtleSwgc3R5bGVWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoX3N0eWxlcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IGN1cnJlbnRWYXIgPyBgJHtjdXJyZW50VmFyfS0ke3N0eWxlS2V5fWAgOiBzdHlsZUtleTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVWYWx1ZSAmJiB0eXBlb2Ygc3R5bGVWYWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoc3R5bGVWYWx1ZSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFtzdHlsZUtleV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmFycyhzdHlsZVZhbHVlLCBwYXJlbnRbc3R5bGVLZXldLCB2YXJpYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdHlsZVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRbc3R5bGVLZXldID0gYCR7UFJFRklYX1ZBUn0tJHt2YXJpYWJsZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRWYXJzUHJlZml4KF9zdHlsZXMsIHBhcmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoX3N0eWxlcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRba2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBhZGRWYXJzUHJlZml4KHZhbHVlLCBwYXJlbnRba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50W2tleV0gPSBgdmFyKCR7dmFsdWV9KWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZVZhcnMoc3R5bGVzLCBjc3NWYXJpYWJsZXMpO1xuICAgICAgICBhZGRWYXJzUHJlZml4KGNzc1ZhcmlhYmxlcywgY3NzVmFyaWFibGVzVmFyUHJlZml4KTtcbiAgICAgICAgcmV0dXJuIHsgY3NzVmFyaWFibGVzLCBjc3NWYXJpYWJsZXNWYXJQcmVmaXggfTtcbiAgICB9LFxuICAgIGFzc2lnbkNTU1ZhcmlhYmxlcyh2YXJzLCBzdHlsZXMpIHtcbiAgICAgICAgY29uc3QgYXNzaWduZWRDU1NWYXJpYWJsZXMgPSB7fTtcbiAgICAgICAgZnVuY3Rpb24gYXNzaWduVmFycyhfdmFycywgX3N0eWxlcywgdmFyaWFibGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3ZhcktleSwgdmFyVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKF92YXJzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRWYXJpYWJsZSA9IHZhcmlhYmxlID8gYCR7dmFyaWFibGV9LSR7dmFyS2V5fWAgOiB2YXJLZXk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVWYWx1ZXMgPSBfc3R5bGVzW3ZhcktleV07XG4gICAgICAgICAgICAgICAgaWYgKHZhclZhbHVlICYmIHR5cGVvZiB2YXJWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduVmFycyh2YXJWYWx1ZSwgc3R5bGVWYWx1ZXMsIG5leHRWYXJpYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdHlsZVZhbHVlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRDU1NWYXJpYWJsZXNbYCR7UFJFRklYX1ZBUn0tJHtuZXh0VmFyaWFibGV9YF0gPSBzdHlsZVZhbHVlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFycyh2YXJzLCBzdHlsZXMpO1xuICAgICAgICByZXR1cm4gYXNzaWduZWRDU1NWYXJpYWJsZXM7XG4gICAgfSxcbiAgICBjcmVhdGVSb290U3R5bGVzKHRoZW1lLCB0aGVtZVZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgICAgICAuLi5hbGxTdHlsZXMsXG4gICAgICAgICAgICB0b2tlbnM6IHsgLi4uYWxsU3R5bGVzLnRva2VucywgdGhlbWU6IHRoZW1lID09PSAnbGlnaHQnID8gdG9rZW5zLmxpZ2h0IDogdG9rZW5zLmRhcmsgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGNzc1ZhcmlhYmxlcyB9ID0gVGhlbWVIZWxwZXJVdGlsLmNyZWF0ZUNTU1ZhcmlhYmxlcyhzdHlsZXMpO1xuICAgICAgICBjb25zdCBhc3NpZ25lZENTU1ZhcmlhYmxlcyA9IFRoZW1lSGVscGVyVXRpbC5hc3NpZ25DU1NWYXJpYWJsZXMoY3NzVmFyaWFibGVzLCBzdHlsZXMpO1xuICAgICAgICBjb25zdCB3M21WYXJpYWJsZXMgPSBUaGVtZUhlbHBlclV0aWwuZ2VuZXJhdGVXM01WYXJpYWJsZXModGhlbWVWYXJpYWJsZXMpO1xuICAgICAgICBjb25zdCB3M21PdmVycmlkZXMgPSBUaGVtZUhlbHBlclV0aWwuZ2VuZXJhdGVXM01PdmVycmlkZXModGhlbWVWYXJpYWJsZXMpO1xuICAgICAgICBjb25zdCBzY2FsZWRWYXJpYWJsZXMgPSBUaGVtZUhlbHBlclV0aWwuZ2VuZXJhdGVTY2FsZWRWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMpO1xuICAgICAgICBjb25zdCBiYXNlVmFyaWFibGVzID0gVGhlbWVIZWxwZXJVdGlsLmdlbmVyYXRlQmFzZVZhcmlhYmxlcyhhc3NpZ25lZENTU1ZhcmlhYmxlcyk7XG4gICAgICAgIGNvbnN0IGFsbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLmFzc2lnbmVkQ1NTVmFyaWFibGVzLFxuICAgICAgICAgICAgLi4uYmFzZVZhcmlhYmxlcyxcbiAgICAgICAgICAgIC4uLnczbVZhcmlhYmxlcyxcbiAgICAgICAgICAgIC4uLnczbU92ZXJyaWRlcyxcbiAgICAgICAgICAgIC4uLnNjYWxlZFZhcmlhYmxlc1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb2xvck1peFZhcmlhYmxlcyA9IFRoZW1lSGVscGVyVXRpbC5hcHBseUNvbG9yTWl4VG9WYXJpYWJsZXModGhlbWVWYXJpYWJsZXMsIGFsbFZhcmlhYmxlcyk7XG4gICAgICAgIGNvbnN0IGZpbmFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uYWxsVmFyaWFibGVzLFxuICAgICAgICAgICAgLi4uY29sb3JNaXhWYXJpYWJsZXNcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgcm9vdFN0eWxlcyA9IE9iamVjdC5lbnRyaWVzKGZpbmFsVmFyaWFibGVzKVxuICAgICAgICAgICAgLm1hcCgoW2tleSwgc3R5bGVdKSA9PiBgJHtrZXl9OiR7c3R5bGUucmVwbGFjZSgnL1s6O3t9PC8+XS9nJywgJycpfTtgKVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gYDpyb290IHske3Jvb3RTdHlsZXN9fWA7XG4gICAgfSxcbiAgICBnZW5lcmF0ZVczTVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcykge1xuICAgICAgICBpZiAoIXRoZW1lVmFyaWFibGVzKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0ge307XG4gICAgICAgIHZhcmlhYmxlc1snLS13M20tZm9udC1mYW1pbHknXSA9IHRoZW1lVmFyaWFibGVzWyctLXczbS1mb250LWZhbWlseSddIHx8ICdLSFRla2EnO1xuICAgICAgICB2YXJpYWJsZXNbJy0tdzNtLWFjY2VudCddID0gdGhlbWVWYXJpYWJsZXNbJy0tdzNtLWFjY2VudCddIHx8ICcjMDk4OEYwJztcbiAgICAgICAgdmFyaWFibGVzWyctLXczbS1jb2xvci1taXgnXSA9IHRoZW1lVmFyaWFibGVzWyctLXczbS1jb2xvci1taXgnXSB8fCAnIzAwMCc7XG4gICAgICAgIHZhcmlhYmxlc1snLS13M20tY29sb3ItbWl4LXN0cmVuZ3RoJ10gPSBgJHt0aGVtZVZhcmlhYmxlc1snLS13M20tY29sb3ItbWl4LXN0cmVuZ3RoJ10gfHwgMH0lYDtcbiAgICAgICAgdmFyaWFibGVzWyctLXczbS1mb250LXNpemUtbWFzdGVyJ10gPSB0aGVtZVZhcmlhYmxlc1snLS13M20tZm9udC1zaXplLW1hc3RlciddIHx8ICcxMHB4JztcbiAgICAgICAgdmFyaWFibGVzWyctLXczbS1ib3JkZXItcmFkaXVzLW1hc3RlciddID0gdGhlbWVWYXJpYWJsZXNbJy0tdzNtLWJvcmRlci1yYWRpdXMtbWFzdGVyJ10gfHwgJzRweCc7XG4gICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfSxcbiAgICBnZW5lcmF0ZVczTU92ZXJyaWRlcyh0aGVtZVZhcmlhYmxlcykge1xuICAgICAgICBpZiAoIXRoZW1lVmFyaWFibGVzKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVzID0ge307XG4gICAgICAgIGlmICh0aGVtZVZhcmlhYmxlc1snLS13M20tYWNjZW50J10pIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY2VudENvbG9yID0gdGhlbWVWYXJpYWJsZXNbJy0tdzNtLWFjY2VudCddO1xuICAgICAgICAgICAgb3ZlcnJpZGVzWyctLWFwa3QtdG9rZW5zLWNvcmUtaWNvbkFjY2VudFByaW1hcnknXSA9IGFjY2VudENvbG9yO1xuICAgICAgICAgICAgb3ZlcnJpZGVzWyctLWFwa3QtdG9rZW5zLWNvcmUtYm9yZGVyQWNjZW50UHJpbWFyeSddID0gYWNjZW50Q29sb3I7XG4gICAgICAgICAgICBvdmVycmlkZXNbJy0tYXBrdC10b2tlbnMtY29yZS10ZXh0QWNjZW50UHJpbWFyeSddID0gYWNjZW50Q29sb3I7XG4gICAgICAgICAgICBvdmVycmlkZXNbJy0tYXBrdC10b2tlbnMtY29yZS1iYWNrZ3JvdW5kQWNjZW50UHJpbWFyeSddID0gYWNjZW50Q29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoZW1lVmFyaWFibGVzWyctLXczbS1mb250LWZhbWlseSddKSB7XG4gICAgICAgICAgICBvdmVycmlkZXNbJy0tYXBrdC1mb250RmFtaWx5LXJlZ3VsYXInXSA9IHRoZW1lVmFyaWFibGVzWyctLXczbS1mb250LWZhbWlseSddO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZVZhcmlhYmxlc1snLS13M20tei1pbmRleCddKSB7XG4gICAgICAgICAgICBvdmVycmlkZXNbJy0tYXBrdC10b2tlbnMtY29yZS16SW5kZXgnXSA9IGAke3RoZW1lVmFyaWFibGVzWyctLXczbS16LWluZGV4J119YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3ZlcnJpZGVzO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVTY2FsZWRWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMpIHtcbiAgICAgICAgaWYgKCF0aGVtZVZhcmlhYmxlcykge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlZFZhcnMgPSB7fTtcbiAgICAgICAgaWYgKHRoZW1lVmFyaWFibGVzWyctLXczbS1mb250LXNpemUtbWFzdGVyJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hc3RlclNpemUgPSBwYXJzZUZsb2F0KHRoZW1lVmFyaWFibGVzWyctLXczbS1mb250LXNpemUtbWFzdGVyJ10ucmVwbGFjZSgncHgnLCAnJykpO1xuICAgICAgICAgICAgc2NhbGVkVmFyc1snLS1hcGt0LXRleHRTaXplLWgxJ10gPSBgJHtOdW1iZXIobWFzdGVyU2l6ZSkgKiA1fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC10ZXh0U2l6ZS1oMiddID0gYCR7TnVtYmVyKG1hc3RlclNpemUpICogNC40fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC10ZXh0U2l6ZS1oMyddID0gYCR7TnVtYmVyKG1hc3RlclNpemUpICogMy44fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC10ZXh0U2l6ZS1oNCddID0gYCR7TnVtYmVyKG1hc3RlclNpemUpICogMy4yfXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC10ZXh0U2l6ZS1oNSddID0gYCR7TnVtYmVyKG1hc3RlclNpemUpICogMi42fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC10ZXh0U2l6ZS1oNiddID0gYCR7TnVtYmVyKG1hc3RlclNpemUpICogMn1weGA7XG4gICAgICAgICAgICBzY2FsZWRWYXJzWyctLWFwa3QtdGV4dFNpemUtbGFyZ2UnXSA9IGAke051bWJlcihtYXN0ZXJTaXplKSAqIDEuNn1weGA7XG4gICAgICAgICAgICBzY2FsZWRWYXJzWyctLWFwa3QtdGV4dFNpemUtbWVkaXVtJ10gPSBgJHtOdW1iZXIobWFzdGVyU2l6ZSkgKiAxLjR9cHhgO1xuICAgICAgICAgICAgc2NhbGVkVmFyc1snLS1hcGt0LXRleHRTaXplLXNtYWxsJ10gPSBgJHtOdW1iZXIobWFzdGVyU2l6ZSkgKiAxLjJ9cHhgO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZVZhcmlhYmxlc1snLS13M20tYm9yZGVyLXJhZGl1cy1tYXN0ZXInXSkge1xuICAgICAgICAgICAgY29uc3QgbWFzdGVyUmFkaXVzID0gcGFyc2VGbG9hdCh0aGVtZVZhcmlhYmxlc1snLS13M20tYm9yZGVyLXJhZGl1cy1tYXN0ZXInXS5yZXBsYWNlKCdweCcsICcnKSk7XG4gICAgICAgICAgICBzY2FsZWRWYXJzWyctLWFwa3QtYm9yZGVyUmFkaXVzLTEnXSA9IGAke051bWJlcihtYXN0ZXJSYWRpdXMpfXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtMiddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiAyfXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtMyddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiAzfXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtNCddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiA0fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtNSddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiA1fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtNiddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiA2fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtOCddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiA4fXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtMTYnXSA9IGAke051bWJlcihtYXN0ZXJSYWRpdXMpICogMTZ9cHhgO1xuICAgICAgICAgICAgc2NhbGVkVmFyc1snLS1hcGt0LWJvcmRlclJhZGl1cy0yMCddID0gYCR7TnVtYmVyKG1hc3RlclJhZGl1cykgKiAyMH1weGA7XG4gICAgICAgICAgICBzY2FsZWRWYXJzWyctLWFwa3QtYm9yZGVyUmFkaXVzLTMyJ10gPSBgJHtOdW1iZXIobWFzdGVyUmFkaXVzKSAqIDMyfXB4YDtcbiAgICAgICAgICAgIHNjYWxlZFZhcnNbJy0tYXBrdC1ib3JkZXJSYWRpdXMtNjQnXSA9IGAke051bWJlcihtYXN0ZXJSYWRpdXMpICogNjR9cHhgO1xuICAgICAgICAgICAgc2NhbGVkVmFyc1snLS1hcGt0LWJvcmRlclJhZGl1cy0xMjgnXSA9IGAke051bWJlcihtYXN0ZXJSYWRpdXMpICogMTI4fXB4YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NhbGVkVmFycztcbiAgICB9LFxuICAgIGdlbmVyYXRlQ29sb3JNaXhDU1ModGhlbWVWYXJpYWJsZXMsIGFsbFZhcmlhYmxlcykge1xuICAgICAgICBpZiAoIXRoZW1lVmFyaWFibGVzPy5bJy0tdzNtLWNvbG9yLW1peCddIHx8ICF0aGVtZVZhcmlhYmxlc1snLS13M20tY29sb3ItbWl4LXN0cmVuZ3RoJ10pIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvck1peCA9IHRoZW1lVmFyaWFibGVzWyctLXczbS1jb2xvci1taXgnXTtcbiAgICAgICAgY29uc3Qgc3RyZW5ndGggPSB0aGVtZVZhcmlhYmxlc1snLS13M20tY29sb3ItbWl4LXN0cmVuZ3RoJ107XG4gICAgICAgIGlmICghc3RyZW5ndGggfHwgc3RyZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvclZhcmlhYmxlcyA9IE9iamVjdC5rZXlzKGFsbFZhcmlhYmxlcyB8fCB7fSkuZmlsdGVyKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0NvbG9yVG9rZW4gPSBrZXkuaW5jbHVkZXMoJy10b2tlbnMtY29yZS1iYWNrZ3JvdW5kJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtY29yZS10ZXh0JykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtY29yZS1ib3JkZXInKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy1jb3JlLWZvcmVncm91bmQnKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy1jb3JlLWljb24nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy10aGVtZS1iYWNrZ3JvdW5kJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtdGhlbWUtdGV4dCcpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLXRoZW1lLWJvcmRlcicpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLXRoZW1lLWZvcmVncm91bmQnKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy10aGVtZS1pY29uJyk7XG4gICAgICAgICAgICBjb25zdCBpc0RpbWVuc2lvbmFsID0ga2V5LmluY2x1ZGVzKCctYm9yZGVyUmFkaXVzLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctc3BhY2luZy0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRleHRTaXplLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctZm9udEZhbWlseS0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLWZvbnRXZWlnaHQtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10eXBvZ3JhcGh5LScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctZHVyYXRpb24tJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1lYXNlLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctcGF0aC0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXdpZHRoLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctaGVpZ2h0LScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdmlzdWFsLXNpemUtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1tb2RhbC13aWR0aCcpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctY292ZXInKTtcbiAgICAgICAgICAgIHJldHVybiBpc0NvbG9yVG9rZW4gJiYgIWlzRGltZW5zaW9uYWw7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29sb3JWYXJpYWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JNaXhWYXJpYWJsZXMgPSBjb2xvclZhcmlhYmxlc1xuICAgICAgICAgICAgLm1hcChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFsbFZhcmlhYmxlcz8uW2tleV0gfHwgJyc7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxWYWx1ZS5pbmNsdWRlcygnY29sb3ItbWl4JykgfHxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFZhbHVlLnN0YXJ0c1dpdGgoJyMnKSB8fFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsVmFsdWUuc3RhcnRzV2l0aCgncmdiJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7a2V5fTogY29sb3ItbWl4KGluIHNyZ2IsICR7Y29sb3JNaXh9ICR7c3RyZW5ndGh9JSwgJHtvcmlnaW5hbFZhbHVlfSk7YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBgJHtrZXl9OiBjb2xvci1taXgoaW4gc3JnYiwgJHtjb2xvck1peH0gJHtzdHJlbmd0aH0lLCB2YXIoJHtrZXl9LWJhc2UsICR7b3JpZ2luYWxWYWx1ZX0pKTtgO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gYCBAc3VwcG9ydHMgKGJhY2tncm91bmQ6IGNvbG9yLW1peChpbiBzcmdiLCB3aGl0ZSA1MCUsIGJsYWNrKSkge1xuICAgICAgOnJvb3Qge1xuICAgICAgICAke2NvbG9yTWl4VmFyaWFibGVzfVxuICAgICAgfVxuICAgIH1gO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVCYXNlVmFyaWFibGVzKGFzc2lnbmVkQ1NTVmFyaWFibGVzKSB7XG4gICAgICAgIGNvbnN0IGJhc2VWYXJpYWJsZXMgPSB7fTtcbiAgICAgICAgY29uc3QgdGhlbWVCYWNrZ3JvdW5kUHJpbWFyeSA9IGFzc2lnbmVkQ1NTVmFyaWFibGVzWyctLWFwa3QtdG9rZW5zLXRoZW1lLWJhY2tncm91bmRQcmltYXJ5J107XG4gICAgICAgIGlmICh0aGVtZUJhY2tncm91bmRQcmltYXJ5KSB7XG4gICAgICAgICAgICBiYXNlVmFyaWFibGVzWyctLWFwa3QtdG9rZW5zLXRoZW1lLWJhY2tncm91bmRQcmltYXJ5LWJhc2UnXSA9IHRoZW1lQmFja2dyb3VuZFByaW1hcnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29yZUJhY2tncm91bmRBY2NlbnRQcmltYXJ5ID0gYXNzaWduZWRDU1NWYXJpYWJsZXNbJy0tYXBrdC10b2tlbnMtY29yZS1iYWNrZ3JvdW5kQWNjZW50UHJpbWFyeSddO1xuICAgICAgICBpZiAoY29yZUJhY2tncm91bmRBY2NlbnRQcmltYXJ5KSB7XG4gICAgICAgICAgICBiYXNlVmFyaWFibGVzWyctLWFwa3QtdG9rZW5zLWNvcmUtYmFja2dyb3VuZEFjY2VudFByaW1hcnktYmFzZSddID0gY29yZUJhY2tncm91bmRBY2NlbnRQcmltYXJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVmFyaWFibGVzO1xuICAgIH0sXG4gICAgYXBwbHlDb2xvck1peFRvVmFyaWFibGVzKHRoZW1lVmFyaWFibGVzLCBhbGxWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgY29sb3JNaXhWYXJpYWJsZXMgPSB7fTtcbiAgICAgICAgaWYgKGFsbFZhcmlhYmxlcz8uWyctLWFwa3QtdG9rZW5zLXRoZW1lLWJhY2tncm91bmRQcmltYXJ5J10pIHtcbiAgICAgICAgICAgIGNvbG9yTWl4VmFyaWFibGVzWyctLWFwa3QtdG9rZW5zLXRoZW1lLWJhY2tncm91bmRQcmltYXJ5J10gPVxuICAgICAgICAgICAgICAgICd2YXIoLS1hcGt0LXRva2Vucy10aGVtZS1iYWNrZ3JvdW5kUHJpbWFyeS1iYXNlKSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbFZhcmlhYmxlcz8uWyctLWFwa3QtdG9rZW5zLWNvcmUtYmFja2dyb3VuZEFjY2VudFByaW1hcnknXSkge1xuICAgICAgICAgICAgY29sb3JNaXhWYXJpYWJsZXNbJy0tYXBrdC10b2tlbnMtY29yZS1iYWNrZ3JvdW5kQWNjZW50UHJpbWFyeSddID1cbiAgICAgICAgICAgICAgICAndmFyKC0tYXBrdC10b2tlbnMtY29yZS1iYWNrZ3JvdW5kQWNjZW50UHJpbWFyeS1iYXNlKSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGVtZVZhcmlhYmxlcz8uWyctLXczbS1jb2xvci1taXgnXSB8fCAhdGhlbWVWYXJpYWJsZXNbJy0tdzNtLWNvbG9yLW1peC1zdHJlbmd0aCddKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JNaXhWYXJpYWJsZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JNaXggPSB0aGVtZVZhcmlhYmxlc1snLS13M20tY29sb3ItbWl4J107XG4gICAgICAgIGNvbnN0IHN0cmVuZ3RoID0gdGhlbWVWYXJpYWJsZXNbJy0tdzNtLWNvbG9yLW1peC1zdHJlbmd0aCddO1xuICAgICAgICBpZiAoIXN0cmVuZ3RoIHx8IHN0cmVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JNaXhWYXJpYWJsZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sb3JWYXJpYWJsZXMgPSBPYmplY3Qua2V5cyhhbGxWYXJpYWJsZXMgfHwge30pLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNDb2xvclRva2VuID0ga2V5LmluY2x1ZGVzKCctdG9rZW5zLWNvcmUtYmFja2dyb3VuZCcpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLWNvcmUtdGV4dCcpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLWNvcmUtYm9yZGVyJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtY29yZS1mb3JlZ3JvdW5kJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtY29yZS1pY29uJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtdGhlbWUtYmFja2dyb3VuZCcpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLXRoZW1lLXRleHQnKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy10aGVtZS1ib3JkZXInKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXRva2Vucy10aGVtZS1mb3JlZ3JvdW5kJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy10b2tlbnMtdGhlbWUtaWNvbicpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdG9rZW5zLXRoZW1lLW92ZXJsYXknKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGltZW5zaW9uYWwgPSBrZXkuaW5jbHVkZXMoJy1ib3JkZXJSYWRpdXMtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1zcGFjaW5nLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctdGV4dFNpemUtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1mb250RmFtaWx5LScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctZm9udFdlaWdodC0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLXR5cG9ncmFwaHktJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1kdXJhdGlvbi0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLWVhc2UtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1wYXRoLScpIHx8XG4gICAgICAgICAgICAgICAga2V5LmluY2x1ZGVzKCctd2lkdGgtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1oZWlnaHQtJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy12aXN1YWwtc2l6ZS0nKSB8fFxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcygnLW1vZGFsLXdpZHRoJykgfHxcbiAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoJy1jb3ZlcicpO1xuICAgICAgICAgICAgcmV0dXJuIGlzQ29sb3JUb2tlbiAmJiAhaXNEaW1lbnNpb25hbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb2xvclZhcmlhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvck1peFZhcmlhYmxlcztcbiAgICAgICAgfVxuICAgICAgICBjb2xvclZhcmlhYmxlcy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gYWxsVmFyaWFibGVzPy5ba2V5XSB8fCAnJztcbiAgICAgICAgICAgIGlmIChrZXkuZW5kc1dpdGgoJy1iYXNlJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnLS1hcGt0LXRva2Vucy10aGVtZS1iYWNrZ3JvdW5kUHJpbWFyeScgfHxcbiAgICAgICAgICAgICAgICBrZXkgPT09ICctLWFwa3QtdG9rZW5zLWNvcmUtYmFja2dyb3VuZEFjY2VudFByaW1hcnknKSB7XG4gICAgICAgICAgICAgICAgY29sb3JNaXhWYXJpYWJsZXNba2V5XSA9IGBjb2xvci1taXgoaW4gc3JnYiwgJHtjb2xvck1peH0gJHtzdHJlbmd0aH0lLCB2YXIoJHtrZXl9LWJhc2UpKWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcmlnaW5hbFZhbHVlLmluY2x1ZGVzKCdjb2xvci1taXgnKSB8fFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsVmFsdWUuc3RhcnRzV2l0aCgnIycpIHx8XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxWYWx1ZS5zdGFydHNXaXRoKCdyZ2InKSkge1xuICAgICAgICAgICAgICAgIGNvbG9yTWl4VmFyaWFibGVzW2tleV0gPSBgY29sb3ItbWl4KGluIHNyZ2IsICR7Y29sb3JNaXh9ICR7c3RyZW5ndGh9JSwgJHtvcmlnaW5hbFZhbHVlfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sb3JNaXhWYXJpYWJsZXNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIGBjb2xvci1taXgoaW4gc3JnYiwgJHtjb2xvck1peH0gJHtzdHJlbmd0aH0lLCB2YXIoJHtrZXl9LWJhc2UsICR7b3JpZ2luYWxWYWx1ZX0pKWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sb3JNaXhWYXJpYWJsZXM7XG4gICAgfVxufTtcbmNvbnN0IHsgY3NzVmFyaWFibGVzVmFyUHJlZml4OiB2YXJzIH0gPSBUaGVtZUhlbHBlclV0aWwuY3JlYXRlQ1NTVmFyaWFibGVzKGFsbFN0eWxlcyk7XG5mdW5jdGlvbiBjc3Moc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gICAgcmV0dXJuIGxpdENTUyhzdHJpbmdzLCAuLi52YWx1ZXMubWFwKHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHVuc2FmZUNTUyh2YWx1ZSh2YXJzKSkgOiB1bnNhZmVDU1ModmFsdWUpKSk7XG59XG5leHBvcnQgeyBjc3MsIHZhcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRoZW1lSGVscGVyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeHelperUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeUtil.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeUtil.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRootStyles: () => (/* binding */ createRootStyles),\n/* harmony export */   elementStyles: () => (/* binding */ elementStyles),\n/* harmony export */   initializeTheming: () => (/* binding */ initializeTheming),\n/* harmony export */   resetStyles: () => (/* binding */ resetStyles),\n/* harmony export */   setColorTheme: () => (/* binding */ setColorTheme),\n/* harmony export */   setThemeVariables: () => (/* binding */ setThemeVariables)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(app-pages-browser)/./node_modules/lit/index.js\");\n/* harmony import */ var _ThemeHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThemeHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeHelperUtil.js\");\n\n\nlet apktTag = undefined;\nlet themeTag = undefined;\nlet darkModeTag = undefined;\nlet lightModeTag = undefined;\nlet currentThemeVariables = undefined;\nconst fonts = {\n    'KHTeka-500-woff2': 'https://fonts.reown.com/KHTeka-Medium.woff2',\n    'KHTeka-400-woff2': 'https://fonts.reown.com/KHTeka-Regular.woff2',\n    'KHTeka-300-woff2': 'https://fonts.reown.com/KHTeka-Light.woff2',\n    'KHTekaMono-400-woff2': 'https://fonts.reown.com/KHTekaMono-Regular.woff2',\n    'KHTeka-500-woff': 'https://fonts.reown.com/KHTeka-Light.woff',\n    'KHTeka-400-woff': 'https://fonts.reown.com/KHTeka-Regular.woff',\n    'KHTeka-300-woff': 'https://fonts.reown.com/KHTeka-Light.woff',\n    'KHTekaMono-400-woff': 'https://fonts.reown.com/KHTekaMono-Regular.woff'\n};\nfunction createAppKitTheme(themeVariables, theme = 'dark') {\n    if (apktTag) {\n        document.head.removeChild(apktTag);\n    }\n    apktTag = document.createElement('style');\n    apktTag.textContent = _ThemeHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.ThemeHelperUtil.createRootStyles(theme, themeVariables);\n    document.head.appendChild(apktTag);\n}\nfunction initializeTheming(themeVariables, themeMode = 'dark') {\n    currentThemeVariables = themeVariables;\n    themeTag = document.createElement('style');\n    darkModeTag = document.createElement('style');\n    lightModeTag = document.createElement('style');\n    themeTag.textContent = createRootStyles(themeVariables).core.cssText;\n    darkModeTag.textContent = createRootStyles(themeVariables).dark.cssText;\n    lightModeTag.textContent = createRootStyles(themeVariables).light.cssText;\n    document.head.appendChild(themeTag);\n    document.head.appendChild(darkModeTag);\n    document.head.appendChild(lightModeTag);\n    createAppKitTheme(themeVariables, themeMode);\n    setColorTheme(themeMode);\n    if (!themeVariables?.['--w3m-font-family']) {\n        for (const [key, url] of Object.entries(fonts)) {\n            const link = document.createElement('link');\n            link.rel = 'preload';\n            link.href = url;\n            link.as = 'font';\n            link.type = key.includes('woff2') ? 'font/woff2' : 'font/woff';\n            link.crossOrigin = 'anonymous';\n            document.head.appendChild(link);\n        }\n    }\n    setColorTheme(themeMode);\n}\nfunction setColorTheme(themeMode = 'dark') {\n    if (darkModeTag && lightModeTag && apktTag) {\n        if (themeMode === 'light') {\n            createAppKitTheme(currentThemeVariables, themeMode);\n            darkModeTag.removeAttribute('media');\n            lightModeTag.media = 'enabled';\n        }\n        else {\n            createAppKitTheme(currentThemeVariables, themeMode);\n            lightModeTag.removeAttribute('media');\n            darkModeTag.media = 'enabled';\n        }\n    }\n}\nfunction setThemeVariables(_themeVariables) {\n    currentThemeVariables = _themeVariables;\n    if (themeTag && darkModeTag && lightModeTag) {\n        themeTag.textContent = createRootStyles(_themeVariables).core.cssText;\n        darkModeTag.textContent = createRootStyles(_themeVariables).dark.cssText;\n        lightModeTag.textContent = createRootStyles(_themeVariables).light.cssText;\n        if (_themeVariables?.['--w3m-font-family']) {\n            const fontFamily = _themeVariables['--w3m-font-family'];\n            themeTag.textContent = themeTag.textContent?.replace('font-family: KHTeka', `font-family: ${fontFamily}`);\n            darkModeTag.textContent = darkModeTag.textContent?.replace('font-family: KHTeka', `font-family: ${fontFamily}`);\n            lightModeTag.textContent = lightModeTag.textContent?.replace('font-family: KHTeka', `font-family: ${fontFamily}`);\n        }\n    }\n    if (apktTag) {\n        const currentMode = lightModeTag?.media === 'enabled' ? 'light' : 'dark';\n        createAppKitTheme(_themeVariables, currentMode);\n    }\n}\nfunction createRootStyles(_themeVariables) {\n    const hasCustomFontFamily = Boolean(_themeVariables?.['--w3m-font-family']);\n    return {\n        core: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n      ${hasCustomFontFamily\n            ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) ``\n            : (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-400-woff2'])}) format('woff2'),\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-400-woff'])}) format('woff');\n              font-weight: 400;\n              font-style: normal;\n              font-display: swap;\n            }\n\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-300-woff2'])}) format('woff2'),\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-300-woff'])}) format('woff');\n              font-weight: 300;\n              font-style: normal;\n            }\n\n            @font-face {\n              font-family: 'KHTekaMono';\n              src:\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTekaMono-400-woff2'])}) format('woff2'),\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTekaMono-400-woff'])}) format('woff');\n              font-weight: 400;\n              font-style: normal;\n            }\n\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-400-woff2'])}) format('woff2'),\n                url(${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(fonts['KHTeka-400-woff'])}) format('woff');\n              font-weight: 400;\n              font-style: normal;\n            }\n          `}\n\n      @keyframes w3m-shake {\n        0% {\n          transform: scale(1) rotate(0deg);\n        }\n        20% {\n          transform: scale(1) rotate(-1deg);\n        }\n        40% {\n          transform: scale(1) rotate(1.5deg);\n        }\n        60% {\n          transform: scale(1) rotate(-1.5deg);\n        }\n        80% {\n          transform: scale(1) rotate(1deg);\n        }\n        100% {\n          transform: scale(1) rotate(0deg);\n        }\n      }\n      @keyframes w3m-iframe-fade-out {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in {\n        0% {\n          transform: translateY(50px);\n          opacity: 0;\n        }\n        100% {\n          transform: translateY(0px);\n          opacity: 1;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in-mobile {\n        0% {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      :root {\n        --apkt-modal-width: 370px;\n\n        --apkt-visual-size-inherit: inherit;\n        --apkt-visual-size-sm: 40px;\n        --apkt-visual-size-md: 55px;\n        --apkt-visual-size-lg: 80px;\n\n        --apkt-path-network-sm: path(\n          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'\n        );\n\n        --apkt-path-network-md: path(\n          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'\n        );\n\n        --apkt-path-network-lg: path(\n          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'\n        );\n\n        --apkt-width-network-sm: 36px;\n        --apkt-width-network-md: 48px;\n        --apkt-width-network-lg: 86px;\n\n        --apkt-duration-dynamic: 0ms;\n        --apkt-height-network-sm: 40px;\n        --apkt-height-network-md: 54px;\n        --apkt-height-network-lg: 96px;\n      }\n    `,\n        dark: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n      :root {\n      }\n    `,\n        light: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n      :root {\n      }\n    `\n    };\n}\nconst resetStyles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  div,\n  span,\n  iframe,\n  a,\n  img,\n  form,\n  button,\n  label,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-style: normal;\n    text-rendering: optimizeSpeed;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: transparent;\n    backface-visibility: hidden;\n  }\n\n  :host {\n    font-family: var(--apkt-fontFamily-regular);\n  }\n`;\nconst elementStyles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  button,\n  a {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;\n    outline: none;\n    border: none;\n    text-decoration: none;\n    transition:\n      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);\n    will-change:\n      background-color, color, border, box-shadow, width, height, transform, opacity, scale,\n      border-radius;\n  }\n\n  a:active:not([disabled]),\n  button:active:not([disabled]) {\n    scale: 0.975;\n    transform-origin: center;\n  }\n\n  button:disabled {\n    cursor: default;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    appearance: none;\n  }\n`;\n//# sourceMappingURL=ThemeUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9UaGVtZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDa0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBZTtBQUN6QztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLFdBQVc7QUFDbkgsOEdBQThHLFdBQVc7QUFDekgsZ0hBQWdILFdBQVc7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxjQUFjLHdDQUFHO0FBQ2pCLFFBQVE7QUFDUixjQUFjLHdDQUFHO0FBQ2pCLGNBQWMsd0NBQUc7QUFDakI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFTLDRCQUE0QjtBQUMzRCxzQkFBc0IsOENBQVMsMkJBQTJCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBUyw0QkFBNEI7QUFDM0Qsc0JBQXNCLDhDQUFTLDJCQUEyQjtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFTLGdDQUFnQztBQUMvRCxzQkFBc0IsOENBQVMsK0JBQStCO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQVMsNEJBQTRCO0FBQzNELHNCQUFzQiw4Q0FBUywyQkFBMkI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3Q0FBRztBQUNqQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdDQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQkFBb0Isd0NBQUc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQix3Q0FBRztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9UaGVtZVV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCB1bnNhZmVDU1MgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgVGhlbWVIZWxwZXJVdGlsIH0gZnJvbSAnLi9UaGVtZUhlbHBlclV0aWwuanMnO1xubGV0IGFwa3RUYWcgPSB1bmRlZmluZWQ7XG5sZXQgdGhlbWVUYWcgPSB1bmRlZmluZWQ7XG5sZXQgZGFya01vZGVUYWcgPSB1bmRlZmluZWQ7XG5sZXQgbGlnaHRNb2RlVGFnID0gdW5kZWZpbmVkO1xubGV0IGN1cnJlbnRUaGVtZVZhcmlhYmxlcyA9IHVuZGVmaW5lZDtcbmNvbnN0IGZvbnRzID0ge1xuICAgICdLSFRla2EtNTAwLXdvZmYyJzogJ2h0dHBzOi8vZm9udHMucmVvd24uY29tL0tIVGVrYS1NZWRpdW0ud29mZjInLFxuICAgICdLSFRla2EtNDAwLXdvZmYyJzogJ2h0dHBzOi8vZm9udHMucmVvd24uY29tL0tIVGVrYS1SZWd1bGFyLndvZmYyJyxcbiAgICAnS0hUZWthLTMwMC13b2ZmMic6ICdodHRwczovL2ZvbnRzLnJlb3duLmNvbS9LSFRla2EtTGlnaHQud29mZjInLFxuICAgICdLSFRla2FNb25vLTQwMC13b2ZmMic6ICdodHRwczovL2ZvbnRzLnJlb3duLmNvbS9LSFRla2FNb25vLVJlZ3VsYXIud29mZjInLFxuICAgICdLSFRla2EtNTAwLXdvZmYnOiAnaHR0cHM6Ly9mb250cy5yZW93bi5jb20vS0hUZWthLUxpZ2h0LndvZmYnLFxuICAgICdLSFRla2EtNDAwLXdvZmYnOiAnaHR0cHM6Ly9mb250cy5yZW93bi5jb20vS0hUZWthLVJlZ3VsYXIud29mZicsXG4gICAgJ0tIVGVrYS0zMDAtd29mZic6ICdodHRwczovL2ZvbnRzLnJlb3duLmNvbS9LSFRla2EtTGlnaHQud29mZicsXG4gICAgJ0tIVGVrYU1vbm8tNDAwLXdvZmYnOiAnaHR0cHM6Ly9mb250cy5yZW93bi5jb20vS0hUZWthTW9uby1SZWd1bGFyLndvZmYnXG59O1xuZnVuY3Rpb24gY3JlYXRlQXBwS2l0VGhlbWUodGhlbWVWYXJpYWJsZXMsIHRoZW1lID0gJ2RhcmsnKSB7XG4gICAgaWYgKGFwa3RUYWcpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChhcGt0VGFnKTtcbiAgICB9XG4gICAgYXBrdFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgYXBrdFRhZy50ZXh0Q29udGVudCA9IFRoZW1lSGVscGVyVXRpbC5jcmVhdGVSb290U3R5bGVzKHRoZW1lLCB0aGVtZVZhcmlhYmxlcyk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcGt0VGFnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplVGhlbWluZyh0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlID0gJ2RhcmsnKSB7XG4gICAgY3VycmVudFRoZW1lVmFyaWFibGVzID0gdGhlbWVWYXJpYWJsZXM7XG4gICAgdGhlbWVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGRhcmtNb2RlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBsaWdodE1vZGVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHRoZW1lVGFnLnRleHRDb250ZW50ID0gY3JlYXRlUm9vdFN0eWxlcyh0aGVtZVZhcmlhYmxlcykuY29yZS5jc3NUZXh0O1xuICAgIGRhcmtNb2RlVGFnLnRleHRDb250ZW50ID0gY3JlYXRlUm9vdFN0eWxlcyh0aGVtZVZhcmlhYmxlcykuZGFyay5jc3NUZXh0O1xuICAgIGxpZ2h0TW9kZVRhZy50ZXh0Q29udGVudCA9IGNyZWF0ZVJvb3RTdHlsZXModGhlbWVWYXJpYWJsZXMpLmxpZ2h0LmNzc1RleHQ7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGVtZVRhZyk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkYXJrTW9kZVRhZyk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaWdodE1vZGVUYWcpO1xuICAgIGNyZWF0ZUFwcEtpdFRoZW1lKHRoZW1lVmFyaWFibGVzLCB0aGVtZU1vZGUpO1xuICAgIHNldENvbG9yVGhlbWUodGhlbWVNb2RlKTtcbiAgICBpZiAoIXRoZW1lVmFyaWFibGVzPy5bJy0tdzNtLWZvbnQtZmFtaWx5J10pIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB1cmxdIG9mIE9iamVjdC5lbnRyaWVzKGZvbnRzKSkge1xuICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgIGxpbmsucmVsID0gJ3ByZWxvYWQnO1xuICAgICAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgbGluay5hcyA9ICdmb250JztcbiAgICAgICAgICAgIGxpbmsudHlwZSA9IGtleS5pbmNsdWRlcygnd29mZjInKSA/ICdmb250L3dvZmYyJyA6ICdmb250L3dvZmYnO1xuICAgICAgICAgICAgbGluay5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDb2xvclRoZW1lKHRoZW1lTW9kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0Q29sb3JUaGVtZSh0aGVtZU1vZGUgPSAnZGFyaycpIHtcbiAgICBpZiAoZGFya01vZGVUYWcgJiYgbGlnaHRNb2RlVGFnICYmIGFwa3RUYWcpIHtcbiAgICAgICAgaWYgKHRoZW1lTW9kZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgICAgICAgY3JlYXRlQXBwS2l0VGhlbWUoY3VycmVudFRoZW1lVmFyaWFibGVzLCB0aGVtZU1vZGUpO1xuICAgICAgICAgICAgZGFya01vZGVUYWcucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICAgICAgICAgICAgbGlnaHRNb2RlVGFnLm1lZGlhID0gJ2VuYWJsZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlQXBwS2l0VGhlbWUoY3VycmVudFRoZW1lVmFyaWFibGVzLCB0aGVtZU1vZGUpO1xuICAgICAgICAgICAgbGlnaHRNb2RlVGFnLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgICAgICAgICAgIGRhcmtNb2RlVGFnLm1lZGlhID0gJ2VuYWJsZWQnO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFRoZW1lVmFyaWFibGVzKF90aGVtZVZhcmlhYmxlcykge1xuICAgIGN1cnJlbnRUaGVtZVZhcmlhYmxlcyA9IF90aGVtZVZhcmlhYmxlcztcbiAgICBpZiAodGhlbWVUYWcgJiYgZGFya01vZGVUYWcgJiYgbGlnaHRNb2RlVGFnKSB7XG4gICAgICAgIHRoZW1lVGFnLnRleHRDb250ZW50ID0gY3JlYXRlUm9vdFN0eWxlcyhfdGhlbWVWYXJpYWJsZXMpLmNvcmUuY3NzVGV4dDtcbiAgICAgICAgZGFya01vZGVUYWcudGV4dENvbnRlbnQgPSBjcmVhdGVSb290U3R5bGVzKF90aGVtZVZhcmlhYmxlcykuZGFyay5jc3NUZXh0O1xuICAgICAgICBsaWdodE1vZGVUYWcudGV4dENvbnRlbnQgPSBjcmVhdGVSb290U3R5bGVzKF90aGVtZVZhcmlhYmxlcykubGlnaHQuY3NzVGV4dDtcbiAgICAgICAgaWYgKF90aGVtZVZhcmlhYmxlcz8uWyctLXczbS1mb250LWZhbWlseSddKSB7XG4gICAgICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gX3RoZW1lVmFyaWFibGVzWyctLXczbS1mb250LWZhbWlseSddO1xuICAgICAgICAgICAgdGhlbWVUYWcudGV4dENvbnRlbnQgPSB0aGVtZVRhZy50ZXh0Q29udGVudD8ucmVwbGFjZSgnZm9udC1mYW1pbHk6IEtIVGVrYScsIGBmb250LWZhbWlseTogJHtmb250RmFtaWx5fWApO1xuICAgICAgICAgICAgZGFya01vZGVUYWcudGV4dENvbnRlbnQgPSBkYXJrTW9kZVRhZy50ZXh0Q29udGVudD8ucmVwbGFjZSgnZm9udC1mYW1pbHk6IEtIVGVrYScsIGBmb250LWZhbWlseTogJHtmb250RmFtaWx5fWApO1xuICAgICAgICAgICAgbGlnaHRNb2RlVGFnLnRleHRDb250ZW50ID0gbGlnaHRNb2RlVGFnLnRleHRDb250ZW50Py5yZXBsYWNlKCdmb250LWZhbWlseTogS0hUZWthJywgYGZvbnQtZmFtaWx5OiAke2ZvbnRGYW1pbHl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFwa3RUYWcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE1vZGUgPSBsaWdodE1vZGVUYWc/Lm1lZGlhID09PSAnZW5hYmxlZCcgPyAnbGlnaHQnIDogJ2RhcmsnO1xuICAgICAgICBjcmVhdGVBcHBLaXRUaGVtZShfdGhlbWVWYXJpYWJsZXMsIGN1cnJlbnRNb2RlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm9vdFN0eWxlcyhfdGhlbWVWYXJpYWJsZXMpIHtcbiAgICBjb25zdCBoYXNDdXN0b21Gb250RmFtaWx5ID0gQm9vbGVhbihfdGhlbWVWYXJpYWJsZXM/LlsnLS13M20tZm9udC1mYW1pbHknXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29yZTogY3NzIGBcbiAgICAgICR7aGFzQ3VzdG9tRm9udEZhbWlseVxuICAgICAgICAgICAgPyBjc3MgYGBcbiAgICAgICAgICAgIDogY3NzIGBcbiAgICAgICAgICAgIEBmb250LWZhY2Uge1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0tIVGVrYSc7XG4gICAgICAgICAgICAgIHNyYzpcbiAgICAgICAgICAgICAgICB1cmwoJHt1bnNhZmVDU1MoZm9udHNbJ0tIVGVrYS00MDAtd29mZjInXSl9KSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICAgICAgICAgICAgdXJsKCR7dW5zYWZlQ1NTKGZvbnRzWydLSFRla2EtNDAwLXdvZmYnXSl9KSBmb3JtYXQoJ3dvZmYnKTtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgICAgICBmb250LWRpc3BsYXk6IHN3YXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBmb250LWZhY2Uge1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ0tIVGVrYSc7XG4gICAgICAgICAgICAgIHNyYzpcbiAgICAgICAgICAgICAgICB1cmwoJHt1bnNhZmVDU1MoZm9udHNbJ0tIVGVrYS0zMDAtd29mZjInXSl9KSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICAgICAgICAgICAgdXJsKCR7dW5zYWZlQ1NTKGZvbnRzWydLSFRla2EtMzAwLXdvZmYnXSl9KSBmb3JtYXQoJ3dvZmYnKTtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZm9udC1mYWNlIHtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdLSFRla2FNb25vJztcbiAgICAgICAgICAgICAgc3JjOlxuICAgICAgICAgICAgICAgIHVybCgke3Vuc2FmZUNTUyhmb250c1snS0hUZWthTW9uby00MDAtd29mZjInXSl9KSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICAgICAgICAgICAgdXJsKCR7dW5zYWZlQ1NTKGZvbnRzWydLSFRla2FNb25vLTQwMC13b2ZmJ10pfSkgZm9ybWF0KCd3b2ZmJyk7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGZvbnQtZmFjZSB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnS0hUZWthJztcbiAgICAgICAgICAgICAgc3JjOlxuICAgICAgICAgICAgICAgIHVybCgke3Vuc2FmZUNTUyhmb250c1snS0hUZWthLTQwMC13b2ZmMiddKX0pIGZvcm1hdCgnd29mZjInKSxcbiAgICAgICAgICAgICAgICB1cmwoJHt1bnNhZmVDU1MoZm9udHNbJ0tIVGVrYS00MDAtd29mZiddKX0pIGZvcm1hdCgnd29mZicpO1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cblxuICAgICAgQGtleWZyYW1lcyB3M20tc2hha2Uge1xuICAgICAgICAwJSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoMGRlZyk7XG4gICAgICAgIH1cbiAgICAgICAgMjAlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgtMWRlZyk7XG4gICAgICAgIH1cbiAgICAgICAgNDAlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgxLjVkZWcpO1xuICAgICAgICB9XG4gICAgICAgIDYwJSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoLTEuNWRlZyk7XG4gICAgICAgIH1cbiAgICAgICAgODAlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgxZGVnKTtcbiAgICAgICAgfVxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQGtleWZyYW1lcyB3M20taWZyYW1lLWZhZGUtb3V0IHtcbiAgICAgICAgMCUge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgICAgMTAwJSB7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQGtleWZyYW1lcyB3M20taWZyYW1lLXpvb20taW4ge1xuICAgICAgICAwJSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDUwcHgpO1xuICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIH1cbiAgICAgICAgMTAwJSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDBweCk7XG4gICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQGtleWZyYW1lcyB3M20taWZyYW1lLXpvb20taW4tbW9iaWxlIHtcbiAgICAgICAgMCUge1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45NSk7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgfVxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIDpyb290IHtcbiAgICAgICAgLS1hcGt0LW1vZGFsLXdpZHRoOiAzNzBweDtcblxuICAgICAgICAtLWFwa3QtdmlzdWFsLXNpemUtaW5oZXJpdDogaW5oZXJpdDtcbiAgICAgICAgLS1hcGt0LXZpc3VhbC1zaXplLXNtOiA0MHB4O1xuICAgICAgICAtLWFwa3QtdmlzdWFsLXNpemUtbWQ6IDU1cHg7XG4gICAgICAgIC0tYXBrdC12aXN1YWwtc2l6ZS1sZzogODBweDtcblxuICAgICAgICAtLWFwa3QtcGF0aC1uZXR3b3JrLXNtOiBwYXRoKFxuICAgICAgICAgICdNMTUuNCAyLjFhNS4yMSA1LjIxIDAgMCAxIDUuMiAwbDExLjYxIDYuN2E1LjIxIDUuMjEgMCAwIDEgMi42MSA0LjUydjEzLjRjMCAxLjg3LTEgMy41OS0yLjYgNC41MmwtMTEuNjEgNi43Yy0xLjYyLjkzLTMuNi45My01LjIyIDBsLTExLjYtNi43YTUuMjEgNS4yMSAwIDAgMS0yLjYxLTQuNTF2LTEzLjRjMC0xLjg3IDEtMy42IDIuNi00LjUyTDE1LjQgMi4xWidcbiAgICAgICAgKTtcblxuICAgICAgICAtLWFwa3QtcGF0aC1uZXR3b3JrLW1kOiBwYXRoKFxuICAgICAgICAgICdNNDMuNDYwNSAxMC43MjQ4TDI4LjA0ODUgMS42MTA4OUMyNS41NDM4IDAuMTI5NzA1IDIyLjQ1NjIgMC4xMjk3MDUgMTkuOTUxNSAxLjYxMDg4TDQuNTM5NTEgMTAuNzI0OEMyLjAzNjI2IDEyLjIwNTEgMC41IDE0LjkzNjUgMC41IDE3Ljg4NlYzNi4xMTM5QzAuNSAzOS4wNjM1IDIuMDM2MjYgNDEuNzk0OSA0LjUzOTUxIDQzLjI3NTJMMTkuOTUxNSA1Mi4zODkxQzIyLjQ1NjIgNTMuODcwMyAyNS41NDM4IDUzLjg3MDMgMjguMDQ4NSA1Mi4zODkxTDQzLjQ2MDUgNDMuMjc1MkM0NS45NjM3IDQxLjc5NDkgNDcuNSAzOS4wNjM1IDQ3LjUgMzYuMTE0VjE3Ljg4NjFDNDcuNSAxNC45MzY1IDQ1Ljk2MzcgMTIuMjA1MSA0My40NjA1IDEwLjcyNDhaJ1xuICAgICAgICApO1xuXG4gICAgICAgIC0tYXBrdC1wYXRoLW5ldHdvcmstbGc6IHBhdGgoXG4gICAgICAgICAgJ003OC4zMjQ0IDE4LjkyNkw1MC4xODA4IDIuNDUwNzhDNDUuNzM3NiAtMC4xNTAyNjEgNDAuMjYyNCAtMC4xNTAyNjIgMzUuODE5MiAyLjQ1MDc4TDcuNjc1NiAxOC45MjZDMy4yMzMyMiAyMS41MjY2IDAuNSAyNi4zMzAxIDAuNSAzMS41MjQ4VjY0LjQ3NTJDMC41IDY5LjY2OTkgMy4yMzMyMiA3NC40NzM0IDcuNjc1NiA3Ny4wNzRMMzUuODE5MiA5My41NDkyQzQwLjI2MjQgOTYuMTUwMyA0NS43Mzc2IDk2LjE1MDMgNTAuMTgwOCA5My41NDkyTDc4LjMyNDQgNzcuMDc0QzgyLjc2NjggNzQuNDczNCA4NS41IDY5LjY2OTkgODUuNSA2NC40NzUyVjMxLjUyNDhDODUuNSAyNi4zMzAxIDgyLjc2NjggMjEuNTI2NiA3OC4zMjQ0IDE4LjkyNlonXG4gICAgICAgICk7XG5cbiAgICAgICAgLS1hcGt0LXdpZHRoLW5ldHdvcmstc206IDM2cHg7XG4gICAgICAgIC0tYXBrdC13aWR0aC1uZXR3b3JrLW1kOiA0OHB4O1xuICAgICAgICAtLWFwa3Qtd2lkdGgtbmV0d29yay1sZzogODZweDtcblxuICAgICAgICAtLWFwa3QtZHVyYXRpb24tZHluYW1pYzogMG1zO1xuICAgICAgICAtLWFwa3QtaGVpZ2h0LW5ldHdvcmstc206IDQwcHg7XG4gICAgICAgIC0tYXBrdC1oZWlnaHQtbmV0d29yay1tZDogNTRweDtcbiAgICAgICAgLS1hcGt0LWhlaWdodC1uZXR3b3JrLWxnOiA5NnB4O1xuICAgICAgfVxuICAgIGAsXG4gICAgICAgIGRhcms6IGNzcyBgXG4gICAgICA6cm9vdCB7XG4gICAgICB9XG4gICAgYCxcbiAgICAgICAgbGlnaHQ6IGNzcyBgXG4gICAgICA6cm9vdCB7XG4gICAgICB9XG4gICAgYFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgcmVzZXRTdHlsZXMgPSBjc3MgYFxuICBkaXYsXG4gIHNwYW4sXG4gIGlmcmFtZSxcbiAgYSxcbiAgaW1nLFxuICBmb3JtLFxuICBidXR0b24sXG4gIGxhYmVsLFxuICAqOjphZnRlcixcbiAgKjo6YmVmb3JlIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVTcGVlZDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xuICB9XG5cbiAgOmhvc3Qge1xuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1hcGt0LWZvbnRGYW1pbHktcmVndWxhcik7XG4gIH1cbmA7XG5leHBvcnQgY29uc3QgZWxlbWVudFN0eWxlcyA9IGNzcyBgXG4gIGJ1dHRvbixcbiAgYSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICB3aWxsLWNoYW5nZTogYmFja2dyb3VuZC1jb2xvciwgY29sb3IsIGJvcmRlciwgYm94LXNoYWRvdywgd2lkdGgsIGhlaWdodCwgdHJhbnNmb3JtLCBvcGFjaXR5O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgYmFja2dyb3VuZC1jb2xvciB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgY29sb3IgdmFyKC0tYXBrdC1kdXJhdGlvbnMtbGcpIHZhcigtLWFwa3QtZWFzaW5ncy1lYXNlLW91dC1wb3dlci0yKSxcbiAgICAgIGJvcmRlciB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgYm94LXNoYWRvdyB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgd2lkdGggdmFyKC0tYXBrdC1kdXJhdGlvbnMtbGcpIHZhcigtLWFwa3QtZWFzaW5ncy1lYXNlLW91dC1wb3dlci0yKSxcbiAgICAgIGhlaWdodCB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgdHJhbnNmb3JtIHZhcigtLWFwa3QtZHVyYXRpb25zLWxnKSB2YXIoLS1hcGt0LWVhc2luZ3MtZWFzZS1vdXQtcG93ZXItMiksXG4gICAgICBvcGFjaXR5IHZhcigtLWFwa3QtZHVyYXRpb25zLWxnKSB2YXIoLS1hcGt0LWVhc2luZ3MtZWFzZS1vdXQtcG93ZXItMiksXG4gICAgICBzY2FsZSB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgYm9yZGVyLXJhZGl1cyB2YXIoLS1hcGt0LWR1cmF0aW9ucy1sZykgdmFyKC0tYXBrdC1lYXNpbmdzLWVhc2Utb3V0LXBvd2VyLTIpO1xuICAgIHdpbGwtY2hhbmdlOlxuICAgICAgYmFja2dyb3VuZC1jb2xvciwgY29sb3IsIGJvcmRlciwgYm94LXNoYWRvdywgd2lkdGgsIGhlaWdodCwgdHJhbnNmb3JtLCBvcGFjaXR5LCBzY2FsZSxcbiAgICAgIGJvcmRlci1yYWRpdXM7XG4gIH1cblxuICBhOmFjdGl2ZTpub3QoW2Rpc2FibGVkXSksXG4gIGJ1dHRvbjphY3RpdmU6bm90KFtkaXNhYmxlZF0pIHtcbiAgICBzY2FsZTogMC45NzU7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyO1xuICB9XG5cbiAgYnV0dG9uOmRpc2FibGVkIHtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gIH1cblxuICBpbnB1dCB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRoZW1lVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/ThemeUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/TransactionUtil.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/TransactionUtil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionUtil: () => (/* binding */ TransactionUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/DateUtil.js\");\n/* harmony import */ var _UiHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiHelperUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/UiHelperUtil.js\");\n\n\nconst FLOAT_FIXED_VALUE = 3;\nconst GAS_FEE_THRESHOLD = 0.1;\nconst plusTypes = ['receive', 'deposit', 'borrow', 'claim'];\nconst minusTypes = ['withdraw', 'repay', 'burn'];\nconst TransactionUtil = {\n    getTransactionGroupTitle(year, month) {\n        const currentYear = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.DateUtil.getYear();\n        const monthName = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.DateUtil.getMonthNameByIndex(month);\n        const isCurrentYear = year === currentYear;\n        const groupTitle = isCurrentYear ? monthName : `${monthName} ${year}`;\n        return groupTitle;\n    },\n    getTransactionImages(transfers) {\n        const [transfer] = transfers;\n        const hasMultipleTransfers = transfers?.length > 1;\n        if (hasMultipleTransfers) {\n            return transfers.map(item => this.getTransactionImage(item));\n        }\n        return [this.getTransactionImage(transfer)];\n    },\n    getTransactionImage(transfer) {\n        return {\n            type: TransactionUtil.getTransactionTransferTokenType(transfer),\n            url: TransactionUtil.getTransactionImageURL(transfer)\n        };\n    },\n    getTransactionImageURL(transfer) {\n        let imageURL = undefined;\n        const isNFT = Boolean(transfer?.nft_info);\n        const isFungible = Boolean(transfer?.fungible_info);\n        if (transfer && isNFT) {\n            imageURL = transfer?.nft_info?.content?.preview?.url;\n        }\n        else if (transfer && isFungible) {\n            imageURL = transfer?.fungible_info?.icon?.url;\n        }\n        return imageURL;\n    },\n    getTransactionTransferTokenType(transfer) {\n        if (transfer?.fungible_info) {\n            return 'FUNGIBLE';\n        }\n        else if (transfer?.nft_info) {\n            return 'NFT';\n        }\n        return undefined;\n    },\n    getTransactionDescriptions(transaction, mergedTransfers) {\n        const type = transaction?.metadata?.operationType;\n        const transfers = mergedTransfers || transaction?.transfers;\n        const hasTransfer = transfers?.length > 0;\n        const hasMultipleTransfers = transfers?.length > 1;\n        const isFungible = hasTransfer && transfers?.every(transfer => Boolean(transfer?.fungible_info));\n        const [firstTransfer, secondTransfer] = transfers;\n        let firstDescription = this.getTransferDescription(firstTransfer);\n        let secondDescription = this.getTransferDescription(secondTransfer);\n        if (!hasTransfer) {\n            const isSendOrReceive = type === 'send' || type === 'receive';\n            if (isSendOrReceive && isFungible) {\n                firstDescription = _UiHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.UiHelperUtil.getTruncateString({\n                    string: transaction?.metadata.sentFrom,\n                    charsStart: 4,\n                    charsEnd: 6,\n                    truncate: 'middle'\n                });\n                secondDescription = _UiHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.UiHelperUtil.getTruncateString({\n                    string: transaction?.metadata.sentTo,\n                    charsStart: 4,\n                    charsEnd: 6,\n                    truncate: 'middle'\n                });\n                return [firstDescription, secondDescription];\n            }\n            return [transaction.metadata.status];\n        }\n        if (hasMultipleTransfers) {\n            return transfers.map(item => this.getTransferDescription(item));\n        }\n        let prefix = '';\n        if (plusTypes.includes(type)) {\n            prefix = '+';\n        }\n        else if (minusTypes.includes(type)) {\n            prefix = '-';\n        }\n        firstDescription = prefix.concat(firstDescription);\n        return [firstDescription];\n    },\n    getTransferDescription(transfer) {\n        let description = '';\n        if (!transfer) {\n            return description;\n        }\n        if (transfer?.nft_info) {\n            description = transfer?.nft_info?.name || '-';\n        }\n        else if (transfer?.fungible_info) {\n            description = this.getFungibleTransferDescription(transfer) || '-';\n        }\n        return description;\n    },\n    getFungibleTransferDescription(transfer) {\n        if (!transfer) {\n            return null;\n        }\n        const quantity = this.getQuantityFixedValue(transfer?.quantity.numeric);\n        const description = [quantity, transfer?.fungible_info?.symbol].join(' ').trim();\n        return description;\n    },\n    mergeTransfers(transfers) {\n        if (transfers?.length <= 1) {\n            return transfers;\n        }\n        const filteredTransfers = this.filterGasFeeTransfers(transfers);\n        const mergedTransfers = filteredTransfers.reduce((acc, t) => {\n            const name = t?.fungible_info?.name;\n            const existingTransfer = acc.find(({ fungible_info, direction }) => name && name === fungible_info?.name && direction === t.direction);\n            if (existingTransfer) {\n                const quantity = Number(existingTransfer.quantity.numeric) + Number(t.quantity.numeric);\n                existingTransfer.quantity.numeric = quantity.toString();\n                existingTransfer.value = (existingTransfer.value || 0) + (t.value || 0);\n            }\n            else {\n                acc.push(t);\n            }\n            return acc;\n        }, []);\n        let finalTransfers = mergedTransfers;\n        if (mergedTransfers.length > 2) {\n            finalTransfers = mergedTransfers.sort((a, b) => (b.value || 0) - (a.value || 0)).slice(0, 2);\n        }\n        finalTransfers = finalTransfers.sort((a, b) => {\n            if (a.direction === 'out' && b.direction === 'in') {\n                return -1;\n            }\n            if (a.direction === 'in' && b.direction === 'out') {\n                return 1;\n            }\n            return 0;\n        });\n        return finalTransfers;\n    },\n    filterGasFeeTransfers(transfers) {\n        const tokenGroups = transfers.reduce((groups, transfer) => {\n            const tokenName = transfer?.fungible_info?.name;\n            if (tokenName) {\n                if (!groups[tokenName]) {\n                    groups[tokenName] = [];\n                }\n                groups[tokenName].push(transfer);\n            }\n            return groups;\n        }, {});\n        const filteredTransfers = [];\n        Object.values(tokenGroups).forEach(tokenTransfers => {\n            if (tokenTransfers.length === 1) {\n                const firstTransfer = tokenTransfers[0];\n                if (firstTransfer) {\n                    filteredTransfers.push(firstTransfer);\n                }\n            }\n            else {\n                const inTransfers = tokenTransfers.filter(t => t.direction === 'in');\n                const outTransfers = tokenTransfers.filter(t => t.direction === 'out');\n                if (inTransfers.length === 1 && outTransfers.length === 1) {\n                    const inTransfer = inTransfers[0];\n                    const outTransfer = outTransfers[0];\n                    let didApplyGasFeeFilter = false;\n                    if (inTransfer && outTransfer) {\n                        const inAmount = Number(inTransfer.quantity.numeric);\n                        const outAmount = Number(outTransfer.quantity.numeric);\n                        if (outAmount < inAmount * GAS_FEE_THRESHOLD) {\n                            filteredTransfers.push(inTransfer);\n                            didApplyGasFeeFilter = true;\n                        }\n                        else if (inAmount < outAmount * GAS_FEE_THRESHOLD) {\n                            filteredTransfers.push(outTransfer);\n                            didApplyGasFeeFilter = true;\n                        }\n                    }\n                    if (!didApplyGasFeeFilter) {\n                        filteredTransfers.push(...tokenTransfers);\n                    }\n                }\n                else {\n                    const significantTransfers = this.filterGasFeesFromTokenGroup(tokenTransfers);\n                    filteredTransfers.push(...significantTransfers);\n                }\n            }\n        });\n        transfers.forEach(transfer => {\n            if (!transfer?.fungible_info?.name) {\n                filteredTransfers.push(transfer);\n            }\n        });\n        return filteredTransfers;\n    },\n    filterGasFeesFromTokenGroup(tokenTransfers) {\n        if (tokenTransfers.length <= 1) {\n            return tokenTransfers;\n        }\n        const amounts = tokenTransfers.map(t => Number(t.quantity.numeric));\n        const maxAmount = Math.max(...amounts);\n        const minAmount = Math.min(...amounts);\n        const extremeGasThreshold = 0.01;\n        if (minAmount < maxAmount * extremeGasThreshold) {\n            const filtered = tokenTransfers.filter(t => {\n                const amount = Number(t.quantity.numeric);\n                return amount >= maxAmount * extremeGasThreshold;\n            });\n            return filtered;\n        }\n        const inTransfers = tokenTransfers.filter(t => t.direction === 'in');\n        const outTransfers = tokenTransfers.filter(t => t.direction === 'out');\n        if (inTransfers.length === 1 && outTransfers.length === 1) {\n            const inTransfer = inTransfers[0];\n            const outTransfer = outTransfers[0];\n            if (inTransfer && outTransfer) {\n                const inAmount = Number(inTransfer.quantity.numeric);\n                const outAmount = Number(outTransfer.quantity.numeric);\n                if (outAmount < inAmount * GAS_FEE_THRESHOLD) {\n                    return [inTransfer];\n                }\n                else if (inAmount < outAmount * GAS_FEE_THRESHOLD) {\n                    return [outTransfer];\n                }\n            }\n        }\n        return tokenTransfers;\n    },\n    getQuantityFixedValue(value) {\n        if (!value) {\n            return null;\n        }\n        const parsedValue = parseFloat(value);\n        return parsedValue.toFixed(FLOAT_FIXED_VALUE);\n    }\n};\n//# sourceMappingURL=TransactionUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9UcmFuc2FjdGlvblV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLDBEQUFRO0FBQ3BDLDBCQUEwQiwwREFBUTtBQUNsQztBQUNBLDBEQUEwRCxXQUFXLEVBQUUsS0FBSztBQUM1RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMERBQVk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsb0NBQW9DLDBEQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwwQkFBMEI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL3V0aWxzL1RyYW5zYWN0aW9uVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFVpSGVscGVyVXRpbCB9IGZyb20gJy4vVWlIZWxwZXJVdGlsLmpzJztcbmNvbnN0IEZMT0FUX0ZJWEVEX1ZBTFVFID0gMztcbmNvbnN0IEdBU19GRUVfVEhSRVNIT0xEID0gMC4xO1xuY29uc3QgcGx1c1R5cGVzID0gWydyZWNlaXZlJywgJ2RlcG9zaXQnLCAnYm9ycm93JywgJ2NsYWltJ107XG5jb25zdCBtaW51c1R5cGVzID0gWyd3aXRoZHJhdycsICdyZXBheScsICdidXJuJ107XG5leHBvcnQgY29uc3QgVHJhbnNhY3Rpb25VdGlsID0ge1xuICAgIGdldFRyYW5zYWN0aW9uR3JvdXBUaXRsZSh5ZWFyLCBtb250aCkge1xuICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IERhdGVVdGlsLmdldFllYXIoKTtcbiAgICAgICAgY29uc3QgbW9udGhOYW1lID0gRGF0ZVV0aWwuZ2V0TW9udGhOYW1lQnlJbmRleChtb250aCk7XG4gICAgICAgIGNvbnN0IGlzQ3VycmVudFllYXIgPSB5ZWFyID09PSBjdXJyZW50WWVhcjtcbiAgICAgICAgY29uc3QgZ3JvdXBUaXRsZSA9IGlzQ3VycmVudFllYXIgPyBtb250aE5hbWUgOiBgJHttb250aE5hbWV9ICR7eWVhcn1gO1xuICAgICAgICByZXR1cm4gZ3JvdXBUaXRsZTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uSW1hZ2VzKHRyYW5zZmVycykge1xuICAgICAgICBjb25zdCBbdHJhbnNmZXJdID0gdHJhbnNmZXJzO1xuICAgICAgICBjb25zdCBoYXNNdWx0aXBsZVRyYW5zZmVycyA9IHRyYW5zZmVycz8ubGVuZ3RoID4gMTtcbiAgICAgICAgaWYgKGhhc011bHRpcGxlVHJhbnNmZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmZXJzLm1hcChpdGVtID0+IHRoaXMuZ2V0VHJhbnNhY3Rpb25JbWFnZShpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmdldFRyYW5zYWN0aW9uSW1hZ2UodHJhbnNmZXIpXTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uSW1hZ2UodHJhbnNmZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFRyYW5zYWN0aW9uVXRpbC5nZXRUcmFuc2FjdGlvblRyYW5zZmVyVG9rZW5UeXBlKHRyYW5zZmVyKSxcbiAgICAgICAgICAgIHVybDogVHJhbnNhY3Rpb25VdGlsLmdldFRyYW5zYWN0aW9uSW1hZ2VVUkwodHJhbnNmZXIpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRUcmFuc2FjdGlvbkltYWdlVVJMKHRyYW5zZmVyKSB7XG4gICAgICAgIGxldCBpbWFnZVVSTCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaXNORlQgPSBCb29sZWFuKHRyYW5zZmVyPy5uZnRfaW5mbyk7XG4gICAgICAgIGNvbnN0IGlzRnVuZ2libGUgPSBCb29sZWFuKHRyYW5zZmVyPy5mdW5naWJsZV9pbmZvKTtcbiAgICAgICAgaWYgKHRyYW5zZmVyICYmIGlzTkZUKSB7XG4gICAgICAgICAgICBpbWFnZVVSTCA9IHRyYW5zZmVyPy5uZnRfaW5mbz8uY29udGVudD8ucHJldmlldz8udXJsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYW5zZmVyICYmIGlzRnVuZ2libGUpIHtcbiAgICAgICAgICAgIGltYWdlVVJMID0gdHJhbnNmZXI/LmZ1bmdpYmxlX2luZm8/Lmljb24/LnVybDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2VVUkw7XG4gICAgfSxcbiAgICBnZXRUcmFuc2FjdGlvblRyYW5zZmVyVG9rZW5UeXBlKHRyYW5zZmVyKSB7XG4gICAgICAgIGlmICh0cmFuc2Zlcj8uZnVuZ2libGVfaW5mbykge1xuICAgICAgICAgICAgcmV0dXJuICdGVU5HSUJMRSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhbnNmZXI/Lm5mdF9pbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gJ05GVCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uRGVzY3JpcHRpb25zKHRyYW5zYWN0aW9uLCBtZXJnZWRUcmFuc2ZlcnMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRyYW5zYWN0aW9uPy5tZXRhZGF0YT8ub3BlcmF0aW9uVHlwZTtcbiAgICAgICAgY29uc3QgdHJhbnNmZXJzID0gbWVyZ2VkVHJhbnNmZXJzIHx8IHRyYW5zYWN0aW9uPy50cmFuc2ZlcnM7XG4gICAgICAgIGNvbnN0IGhhc1RyYW5zZmVyID0gdHJhbnNmZXJzPy5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCBoYXNNdWx0aXBsZVRyYW5zZmVycyA9IHRyYW5zZmVycz8ubGVuZ3RoID4gMTtcbiAgICAgICAgY29uc3QgaXNGdW5naWJsZSA9IGhhc1RyYW5zZmVyICYmIHRyYW5zZmVycz8uZXZlcnkodHJhbnNmZXIgPT4gQm9vbGVhbih0cmFuc2Zlcj8uZnVuZ2libGVfaW5mbykpO1xuICAgICAgICBjb25zdCBbZmlyc3RUcmFuc2Zlciwgc2Vjb25kVHJhbnNmZXJdID0gdHJhbnNmZXJzO1xuICAgICAgICBsZXQgZmlyc3REZXNjcmlwdGlvbiA9IHRoaXMuZ2V0VHJhbnNmZXJEZXNjcmlwdGlvbihmaXJzdFRyYW5zZmVyKTtcbiAgICAgICAgbGV0IHNlY29uZERlc2NyaXB0aW9uID0gdGhpcy5nZXRUcmFuc2ZlckRlc2NyaXB0aW9uKHNlY29uZFRyYW5zZmVyKTtcbiAgICAgICAgaWYgKCFoYXNUcmFuc2Zlcikge1xuICAgICAgICAgICAgY29uc3QgaXNTZW5kT3JSZWNlaXZlID0gdHlwZSA9PT0gJ3NlbmQnIHx8IHR5cGUgPT09ICdyZWNlaXZlJztcbiAgICAgICAgICAgIGlmIChpc1NlbmRPclJlY2VpdmUgJiYgaXNGdW5naWJsZSkge1xuICAgICAgICAgICAgICAgIGZpcnN0RGVzY3JpcHRpb24gPSBVaUhlbHBlclV0aWwuZ2V0VHJ1bmNhdGVTdHJpbmcoe1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmc6IHRyYW5zYWN0aW9uPy5tZXRhZGF0YS5zZW50RnJvbSxcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNTdGFydDogNCxcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNFbmQ6IDYsXG4gICAgICAgICAgICAgICAgICAgIHRydW5jYXRlOiAnbWlkZGxlJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlY29uZERlc2NyaXB0aW9uID0gVWlIZWxwZXJVdGlsLmdldFRydW5jYXRlU3RyaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiB0cmFuc2FjdGlvbj8ubWV0YWRhdGEuc2VudFRvLFxuICAgICAgICAgICAgICAgICAgICBjaGFyc1N0YXJ0OiA0LFxuICAgICAgICAgICAgICAgICAgICBjaGFyc0VuZDogNixcbiAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGU6ICdtaWRkbGUnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtmaXJzdERlc2NyaXB0aW9uLCBzZWNvbmREZXNjcmlwdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3RyYW5zYWN0aW9uLm1ldGFkYXRhLnN0YXR1c107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc011bHRpcGxlVHJhbnNmZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmZXJzLm1hcChpdGVtID0+IHRoaXMuZ2V0VHJhbnNmZXJEZXNjcmlwdGlvbihpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZWZpeCA9ICcnO1xuICAgICAgICBpZiAocGx1c1R5cGVzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICBwcmVmaXggPSAnKyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWludXNUeXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICAgICAgcHJlZml4ID0gJy0nO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0RGVzY3JpcHRpb24gPSBwcmVmaXguY29uY2F0KGZpcnN0RGVzY3JpcHRpb24pO1xuICAgICAgICByZXR1cm4gW2ZpcnN0RGVzY3JpcHRpb25dO1xuICAgIH0sXG4gICAgZ2V0VHJhbnNmZXJEZXNjcmlwdGlvbih0cmFuc2Zlcikge1xuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgaWYgKCF0cmFuc2Zlcikge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2Zlcj8ubmZ0X2luZm8pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gdHJhbnNmZXI/Lm5mdF9pbmZvPy5uYW1lIHx8ICctJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFuc2Zlcj8uZnVuZ2libGVfaW5mbykge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldEZ1bmdpYmxlVHJhbnNmZXJEZXNjcmlwdGlvbih0cmFuc2ZlcikgfHwgJy0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9LFxuICAgIGdldEZ1bmdpYmxlVHJhbnNmZXJEZXNjcmlwdGlvbih0cmFuc2Zlcikge1xuICAgICAgICBpZiAoIXRyYW5zZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWFudGl0eSA9IHRoaXMuZ2V0UXVhbnRpdHlGaXhlZFZhbHVlKHRyYW5zZmVyPy5xdWFudGl0eS5udW1lcmljKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBbcXVhbnRpdHksIHRyYW5zZmVyPy5mdW5naWJsZV9pbmZvPy5zeW1ib2xdLmpvaW4oJyAnKS50cmltKCk7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9LFxuICAgIG1lcmdlVHJhbnNmZXJzKHRyYW5zZmVycykge1xuICAgICAgICBpZiAodHJhbnNmZXJzPy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZmVycztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJlZFRyYW5zZmVycyA9IHRoaXMuZmlsdGVyR2FzRmVlVHJhbnNmZXJzKHRyYW5zZmVycyk7XG4gICAgICAgIGNvbnN0IG1lcmdlZFRyYW5zZmVycyA9IGZpbHRlcmVkVHJhbnNmZXJzLnJlZHVjZSgoYWNjLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdD8uZnVuZ2libGVfaW5mbz8ubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVHJhbnNmZXIgPSBhY2MuZmluZCgoeyBmdW5naWJsZV9pbmZvLCBkaXJlY3Rpb24gfSkgPT4gbmFtZSAmJiBuYW1lID09PSBmdW5naWJsZV9pbmZvPy5uYW1lICYmIGRpcmVjdGlvbiA9PT0gdC5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWFudGl0eSA9IE51bWJlcihleGlzdGluZ1RyYW5zZmVyLnF1YW50aXR5Lm51bWVyaWMpICsgTnVtYmVyKHQucXVhbnRpdHkubnVtZXJpYyk7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUcmFuc2Zlci5xdWFudGl0eS5udW1lcmljID0gcXVhbnRpdHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1RyYW5zZmVyLnZhbHVlID0gKGV4aXN0aW5nVHJhbnNmZXIudmFsdWUgfHwgMCkgKyAodC52YWx1ZSB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjYy5wdXNoKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBsZXQgZmluYWxUcmFuc2ZlcnMgPSBtZXJnZWRUcmFuc2ZlcnM7XG4gICAgICAgIGlmIChtZXJnZWRUcmFuc2ZlcnMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgZmluYWxUcmFuc2ZlcnMgPSBtZXJnZWRUcmFuc2ZlcnMuc29ydCgoYSwgYikgPT4gKGIudmFsdWUgfHwgMCkgLSAoYS52YWx1ZSB8fCAwKSkuc2xpY2UoMCwgMik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxUcmFuc2ZlcnMgPSBmaW5hbFRyYW5zZmVycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5kaXJlY3Rpb24gPT09ICdvdXQnICYmIGIuZGlyZWN0aW9uID09PSAnaW4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGEuZGlyZWN0aW9uID09PSAnaW4nICYmIGIuZGlyZWN0aW9uID09PSAnb3V0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmluYWxUcmFuc2ZlcnM7XG4gICAgfSxcbiAgICBmaWx0ZXJHYXNGZWVUcmFuc2ZlcnModHJhbnNmZXJzKSB7XG4gICAgICAgIGNvbnN0IHRva2VuR3JvdXBzID0gdHJhbnNmZXJzLnJlZHVjZSgoZ3JvdXBzLCB0cmFuc2ZlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5OYW1lID0gdHJhbnNmZXI/LmZ1bmdpYmxlX2luZm8/Lm5hbWU7XG4gICAgICAgICAgICBpZiAodG9rZW5OYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFncm91cHNbdG9rZW5OYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBncm91cHNbdG9rZW5OYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cHNbdG9rZW5OYW1lXS5wdXNoKHRyYW5zZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cHM7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRUcmFuc2ZlcnMgPSBbXTtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0b2tlbkdyb3VwcykuZm9yRWFjaCh0b2tlblRyYW5zZmVycyA9PiB7XG4gICAgICAgICAgICBpZiAodG9rZW5UcmFuc2ZlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RUcmFuc2ZlciA9IHRva2VuVHJhbnNmZXJzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkVHJhbnNmZXJzLnB1c2goZmlyc3RUcmFuc2Zlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5UcmFuc2ZlcnMgPSB0b2tlblRyYW5zZmVycy5maWx0ZXIodCA9PiB0LmRpcmVjdGlvbiA9PT0gJ2luJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0VHJhbnNmZXJzID0gdG9rZW5UcmFuc2ZlcnMuZmlsdGVyKHQgPT4gdC5kaXJlY3Rpb24gPT09ICdvdXQnKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5UcmFuc2ZlcnMubGVuZ3RoID09PSAxICYmIG91dFRyYW5zZmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5UcmFuc2ZlciA9IGluVHJhbnNmZXJzWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRUcmFuc2ZlciA9IG91dFRyYW5zZmVyc1swXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZEFwcGx5R2FzRmVlRmlsdGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpblRyYW5zZmVyICYmIG91dFRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbkFtb3VudCA9IE51bWJlcihpblRyYW5zZmVyLnF1YW50aXR5Lm51bWVyaWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0QW1vdW50ID0gTnVtYmVyKG91dFRyYW5zZmVyLnF1YW50aXR5Lm51bWVyaWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dEFtb3VudCA8IGluQW1vdW50ICogR0FTX0ZFRV9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFRyYW5zZmVycy5wdXNoKGluVHJhbnNmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZEFwcGx5R2FzRmVlRmlsdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluQW1vdW50IDwgb3V0QW1vdW50ICogR0FTX0ZFRV9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFRyYW5zZmVycy5wdXNoKG91dFRyYW5zZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRBcHBseUdhc0ZlZUZpbHRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaWRBcHBseUdhc0ZlZUZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRUcmFuc2ZlcnMucHVzaCguLi50b2tlblRyYW5zZmVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25pZmljYW50VHJhbnNmZXJzID0gdGhpcy5maWx0ZXJHYXNGZWVzRnJvbVRva2VuR3JvdXAodG9rZW5UcmFuc2ZlcnMpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFRyYW5zZmVycy5wdXNoKC4uLnNpZ25pZmljYW50VHJhbnNmZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFuc2ZlcnMuZm9yRWFjaCh0cmFuc2ZlciA9PiB7XG4gICAgICAgICAgICBpZiAoIXRyYW5zZmVyPy5mdW5naWJsZV9pbmZvPy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRUcmFuc2ZlcnMucHVzaCh0cmFuc2Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRUcmFuc2ZlcnM7XG4gICAgfSxcbiAgICBmaWx0ZXJHYXNGZWVzRnJvbVRva2VuR3JvdXAodG9rZW5UcmFuc2ZlcnMpIHtcbiAgICAgICAgaWYgKHRva2VuVHJhbnNmZXJzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5UcmFuc2ZlcnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW1vdW50cyA9IHRva2VuVHJhbnNmZXJzLm1hcCh0ID0+IE51bWJlcih0LnF1YW50aXR5Lm51bWVyaWMpKTtcbiAgICAgICAgY29uc3QgbWF4QW1vdW50ID0gTWF0aC5tYXgoLi4uYW1vdW50cyk7XG4gICAgICAgIGNvbnN0IG1pbkFtb3VudCA9IE1hdGgubWluKC4uLmFtb3VudHMpO1xuICAgICAgICBjb25zdCBleHRyZW1lR2FzVGhyZXNob2xkID0gMC4wMTtcbiAgICAgICAgaWYgKG1pbkFtb3VudCA8IG1heEFtb3VudCAqIGV4dHJlbWVHYXNUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gdG9rZW5UcmFuc2ZlcnMuZmlsdGVyKHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IE51bWJlcih0LnF1YW50aXR5Lm51bWVyaWMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhbW91bnQgPj0gbWF4QW1vdW50ICogZXh0cmVtZUdhc1RocmVzaG9sZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluVHJhbnNmZXJzID0gdG9rZW5UcmFuc2ZlcnMuZmlsdGVyKHQgPT4gdC5kaXJlY3Rpb24gPT09ICdpbicpO1xuICAgICAgICBjb25zdCBvdXRUcmFuc2ZlcnMgPSB0b2tlblRyYW5zZmVycy5maWx0ZXIodCA9PiB0LmRpcmVjdGlvbiA9PT0gJ291dCcpO1xuICAgICAgICBpZiAoaW5UcmFuc2ZlcnMubGVuZ3RoID09PSAxICYmIG91dFRyYW5zZmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGluVHJhbnNmZXIgPSBpblRyYW5zZmVyc1swXTtcbiAgICAgICAgICAgIGNvbnN0IG91dFRyYW5zZmVyID0gb3V0VHJhbnNmZXJzWzBdO1xuICAgICAgICAgICAgaWYgKGluVHJhbnNmZXIgJiYgb3V0VHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbkFtb3VudCA9IE51bWJlcihpblRyYW5zZmVyLnF1YW50aXR5Lm51bWVyaWMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dEFtb3VudCA9IE51bWJlcihvdXRUcmFuc2Zlci5xdWFudGl0eS5udW1lcmljKTtcbiAgICAgICAgICAgICAgICBpZiAob3V0QW1vdW50IDwgaW5BbW91bnQgKiBHQVNfRkVFX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2luVHJhbnNmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbkFtb3VudCA8IG91dEFtb3VudCAqIEdBU19GRUVfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbb3V0VHJhbnNmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5UcmFuc2ZlcnM7XG4gICAgfSxcbiAgICBnZXRRdWFudGl0eUZpeGVkVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFZhbHVlLnRvRml4ZWQoRkxPQVRfRklYRURfVkFMVUUpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2FjdGlvblV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/TransactionUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/UiHelperUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/UiHelperUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UiHelperUtil: () => (/* binding */ UiHelperUtil)\n/* harmony export */ });\nconst DECIMAL_POINT = '.';\nconst UiHelperUtil = {\n    getSpacingStyles(spacing, index) {\n        if (Array.isArray(spacing)) {\n            return spacing[index] ? `var(--apkt-spacing-${spacing[index]})` : undefined;\n        }\n        else if (typeof spacing === 'string') {\n            return `var(--apkt-spacing-${spacing})`;\n        }\n        return undefined;\n    },\n    getFormattedDate(date) {\n        return new Intl.DateTimeFormat('en-US', { month: 'short', day: 'numeric' }).format(date);\n    },\n    formatCurrency(amount = 0, options = {}) {\n        const numericAmount = Number(amount);\n        if (isNaN(numericAmount)) {\n            return '$0.00';\n        }\n        const formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2,\n            ...options\n        });\n        return formatter.format(numericAmount);\n    },\n    getHostName(url) {\n        try {\n            const newUrl = new URL(url);\n            return newUrl.hostname;\n        }\n        catch (error) {\n            return '';\n        }\n    },\n    getTruncateString({ string, charsStart, charsEnd, truncate }) {\n        if (string.length <= charsStart + charsEnd) {\n            return string;\n        }\n        if (truncate === 'end') {\n            return `${string.substring(0, charsStart)}...`;\n        }\n        else if (truncate === 'start') {\n            return `...${string.substring(string.length - charsEnd)}`;\n        }\n        return `${string.substring(0, Math.floor(charsStart))}...${string.substring(string.length - Math.floor(charsEnd))}`;\n    },\n    generateAvatarColors(address) {\n        const hash = address\n            .toLowerCase()\n            .replace(/^0x/iu, '')\n            .replace(/[^a-f0-9]/gu, '');\n        const baseColor = hash.substring(0, 6).padEnd(6, '0');\n        const rgbColor = this.hexToRgb(baseColor);\n        const masterBorderRadius = getComputedStyle(document.documentElement).getPropertyValue('--w3m-border-radius-master');\n        const radius = Number(masterBorderRadius?.replace('px', ''));\n        const edge = 100 - 3 * radius;\n        const gradientCircle = `${edge}% ${edge}% at 65% 40%`;\n        const colors = [];\n        for (let i = 0; i < 5; i += 1) {\n            const tintedColor = this.tintColor(rgbColor, 0.15 * i);\n            colors.push(`rgb(${tintedColor[0]}, ${tintedColor[1]}, ${tintedColor[2]})`);\n        }\n        return `\n    --local-color-1: ${colors[0]};\n    --local-color-2: ${colors[1]};\n    --local-color-3: ${colors[2]};\n    --local-color-4: ${colors[3]};\n    --local-color-5: ${colors[4]};\n    --local-radial-circle: ${gradientCircle}\n   `;\n    },\n    hexToRgb(hex) {\n        const bigint = parseInt(hex, 16);\n        const r = (bigint >> 16) & 255;\n        const g = (bigint >> 8) & 255;\n        const b = bigint & 255;\n        return [r, g, b];\n    },\n    tintColor(rgb, tint) {\n        const [r, g, b] = rgb;\n        const tintedR = Math.round(r + (255 - r) * tint);\n        const tintedG = Math.round(g + (255 - g) * tint);\n        const tintedB = Math.round(b + (255 - b) * tint);\n        return [tintedR, tintedG, tintedB];\n    },\n    isNumber(character) {\n        const regex = {\n            number: /^[0-9]+$/u\n        };\n        return regex.number.test(character);\n    },\n    getColorTheme(theme) {\n        if (theme) {\n            return theme;\n        }\n        else if (typeof window !== 'undefined' &&\n            window.matchMedia &&\n            typeof window.matchMedia === 'function') {\n            if (window.matchMedia('(prefers-color-scheme: dark)')?.matches) {\n                return 'dark';\n            }\n            return 'light';\n        }\n        return 'dark';\n    },\n    splitBalance(input) {\n        const parts = input.split('.');\n        if (parts.length === 2) {\n            return [parts[0], parts[1]];\n        }\n        return ['0', '00'];\n    },\n    roundNumber(number, threshold, fixed) {\n        const roundedNumber = number.toString().length >= threshold ? Number(number).toFixed(fixed) : number;\n        return roundedNumber;\n    },\n    cssDurationToNumber(duration) {\n        if (duration.endsWith('s')) {\n            return Number(duration.replace('s', '')) * 1000;\n        }\n        else if (duration.endsWith('ms')) {\n            return Number(duration.replace('ms', ''));\n        }\n        return 0;\n    },\n    maskInput({ value, decimals, integers }) {\n        value = value.replace(',', '.');\n        if (value === DECIMAL_POINT) {\n            return `0${DECIMAL_POINT}`;\n        }\n        const [integerPart = '', decimalsPart] = value\n            .split(DECIMAL_POINT)\n            .map(p => p.replace(/[^0-9]/gu, ''));\n        const limitedInteger = integers ? integerPart.substring(0, integers) : integerPart;\n        const cleanIntegerPart = limitedInteger.length === 2 ? String(Number(limitedInteger)) : limitedInteger;\n        const cleanDecimalsPart = typeof decimals === 'number' ? decimalsPart?.substring(0, decimals) : decimalsPart;\n        const canIncludeDecimals = typeof decimals !== 'number' || decimals > 0;\n        const maskValue = typeof cleanDecimalsPart === 'string' && canIncludeDecimals\n            ? [cleanIntegerPart, cleanDecimalsPart].join(DECIMAL_POINT)\n            : cleanIntegerPart;\n        return maskValue ?? '';\n    },\n    capitalize(value) {\n        if (!value) {\n            return '';\n        }\n        return value.charAt(0).toUpperCase() + value.slice(1);\n    }\n};\n//# sourceMappingURL=UiHelperUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9VaUhlbHBlclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMERBQTBELGVBQWU7QUFDekU7QUFDQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrREFBa0QsZ0NBQWdDO0FBQ2xGLEtBQUs7QUFDTCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0Isd0NBQXdDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RDtBQUNBO0FBQ0EseUJBQXlCLDJDQUEyQztBQUNwRTtBQUNBLGtCQUFrQiw0Q0FBNEMsS0FBSyx1REFBdUQ7QUFDMUgsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLEtBQUssSUFBSSxLQUFLO0FBQ2hEO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQSwrQkFBK0IsZUFBZSxJQUFJLGVBQWUsSUFBSSxlQUFlO0FBQ3BGO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLHVCQUF1QjtBQUN2Qix1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGdCQUFnQiwyQkFBMkI7QUFDM0M7QUFDQTtBQUNBLHVCQUF1QixjQUFjO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL3V0aWxzL1VpSGVscGVyVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBERUNJTUFMX1BPSU5UID0gJy4nO1xuZXhwb3J0IGNvbnN0IFVpSGVscGVyVXRpbCA9IHtcbiAgICBnZXRTcGFjaW5nU3R5bGVzKHNwYWNpbmcsIGluZGV4KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNwYWNpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BhY2luZ1tpbmRleF0gPyBgdmFyKC0tYXBrdC1zcGFjaW5nLSR7c3BhY2luZ1tpbmRleF19KWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNwYWNpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gYHZhcigtLWFwa3Qtc3BhY2luZy0ke3NwYWNpbmd9KWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldEZvcm1hdHRlZERhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJ2VuLVVTJywgeyBtb250aDogJ3Nob3J0JywgZGF5OiAnbnVtZXJpYycgfSkuZm9ybWF0KGRhdGUpO1xuICAgIH0sXG4gICAgZm9ybWF0Q3VycmVuY3koYW1vdW50ID0gMCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG51bWVyaWNBbW91bnQgPSBOdW1iZXIoYW1vdW50KTtcbiAgICAgICAgaWYgKGlzTmFOKG51bWVyaWNBbW91bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gJyQwLjAwJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICAgICAgICAuLi5vcHRpb25zXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdChudW1lcmljQW1vdW50KTtcbiAgICB9LFxuICAgIGdldEhvc3ROYW1lKHVybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV3VXJsID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1VybC5ob3N0bmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VHJ1bmNhdGVTdHJpbmcoeyBzdHJpbmcsIGNoYXJzU3RhcnQsIGNoYXJzRW5kLCB0cnVuY2F0ZSB9KSB7XG4gICAgICAgIGlmIChzdHJpbmcubGVuZ3RoIDw9IGNoYXJzU3RhcnQgKyBjaGFyc0VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJ1bmNhdGUgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RyaW5nLnN1YnN0cmluZygwLCBjaGFyc1N0YXJ0KX0uLi5gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRydW5jYXRlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gYC4uLiR7c3RyaW5nLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoIC0gY2hhcnNFbmQpfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3N0cmluZy5zdWJzdHJpbmcoMCwgTWF0aC5mbG9vcihjaGFyc1N0YXJ0KSl9Li4uJHtzdHJpbmcuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGggLSBNYXRoLmZsb29yKGNoYXJzRW5kKSl9YDtcbiAgICB9LFxuICAgIGdlbmVyYXRlQXZhdGFyQ29sb3JzKGFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IGFkZHJlc3NcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAucmVwbGFjZSgvXjB4L2l1LCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtZjAtOV0vZ3UsICcnKTtcbiAgICAgICAgY29uc3QgYmFzZUNvbG9yID0gaGFzaC5zdWJzdHJpbmcoMCwgNikucGFkRW5kKDYsICcwJyk7XG4gICAgICAgIGNvbnN0IHJnYkNvbG9yID0gdGhpcy5oZXhUb1JnYihiYXNlQ29sb3IpO1xuICAgICAgICBjb25zdCBtYXN0ZXJCb3JkZXJSYWRpdXMgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS13M20tYm9yZGVyLXJhZGl1cy1tYXN0ZXInKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gTnVtYmVyKG1hc3RlckJvcmRlclJhZGl1cz8ucmVwbGFjZSgncHgnLCAnJykpO1xuICAgICAgICBjb25zdCBlZGdlID0gMTAwIC0gMyAqIHJhZGl1cztcbiAgICAgICAgY29uc3QgZ3JhZGllbnRDaXJjbGUgPSBgJHtlZGdlfSUgJHtlZGdlfSUgYXQgNjUlIDQwJWA7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdGludGVkQ29sb3IgPSB0aGlzLnRpbnRDb2xvcihyZ2JDb2xvciwgMC4xNSAqIGkpO1xuICAgICAgICAgICAgY29sb3JzLnB1c2goYHJnYigke3RpbnRlZENvbG9yWzBdfSwgJHt0aW50ZWRDb2xvclsxXX0sICR7dGludGVkQ29sb3JbMl19KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgXG4gICAgLS1sb2NhbC1jb2xvci0xOiAke2NvbG9yc1swXX07XG4gICAgLS1sb2NhbC1jb2xvci0yOiAke2NvbG9yc1sxXX07XG4gICAgLS1sb2NhbC1jb2xvci0zOiAke2NvbG9yc1syXX07XG4gICAgLS1sb2NhbC1jb2xvci00OiAke2NvbG9yc1szXX07XG4gICAgLS1sb2NhbC1jb2xvci01OiAke2NvbG9yc1s0XX07XG4gICAgLS1sb2NhbC1yYWRpYWwtY2lyY2xlOiAke2dyYWRpZW50Q2lyY2xlfVxuICAgYDtcbiAgICB9LFxuICAgIGhleFRvUmdiKGhleCkge1xuICAgICAgICBjb25zdCBiaWdpbnQgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgY29uc3QgciA9IChiaWdpbnQgPj4gMTYpICYgMjU1O1xuICAgICAgICBjb25zdCBnID0gKGJpZ2ludCA+PiA4KSAmIDI1NTtcbiAgICAgICAgY29uc3QgYiA9IGJpZ2ludCAmIDI1NTtcbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiXTtcbiAgICB9LFxuICAgIHRpbnRDb2xvcihyZ2IsIHRpbnQpIHtcbiAgICAgICAgY29uc3QgW3IsIGcsIGJdID0gcmdiO1xuICAgICAgICBjb25zdCB0aW50ZWRSID0gTWF0aC5yb3VuZChyICsgKDI1NSAtIHIpICogdGludCk7XG4gICAgICAgIGNvbnN0IHRpbnRlZEcgPSBNYXRoLnJvdW5kKGcgKyAoMjU1IC0gZykgKiB0aW50KTtcbiAgICAgICAgY29uc3QgdGludGVkQiA9IE1hdGgucm91bmQoYiArICgyNTUgLSBiKSAqIHRpbnQpO1xuICAgICAgICByZXR1cm4gW3RpbnRlZFIsIHRpbnRlZEcsIHRpbnRlZEJdO1xuICAgIH0sXG4gICAgaXNOdW1iZXIoY2hhcmFjdGVyKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0ge1xuICAgICAgICAgICAgbnVtYmVyOiAvXlswLTldKyQvdVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVnZXgubnVtYmVyLnRlc3QoY2hhcmFjdGVyKTtcbiAgICB9LFxuICAgIGdldENvbG9yVGhlbWUodGhlbWUpIHtcbiAgICAgICAgaWYgKHRoZW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhlbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIHdpbmRvdy5tYXRjaE1lZGlhICYmXG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpPy5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdkYXJrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnbGlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnZGFyayc7XG4gICAgfSxcbiAgICBzcGxpdEJhbGFuY2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBpbnB1dC5zcGxpdCgnLicpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gW3BhcnRzWzBdLCBwYXJ0c1sxXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsnMCcsICcwMCddO1xuICAgIH0sXG4gICAgcm91bmROdW1iZXIobnVtYmVyLCB0aHJlc2hvbGQsIGZpeGVkKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kZWROdW1iZXIgPSBudW1iZXIudG9TdHJpbmcoKS5sZW5ndGggPj0gdGhyZXNob2xkID8gTnVtYmVyKG51bWJlcikudG9GaXhlZChmaXhlZCkgOiBudW1iZXI7XG4gICAgICAgIHJldHVybiByb3VuZGVkTnVtYmVyO1xuICAgIH0sXG4gICAgY3NzRHVyYXRpb25Ub051bWJlcihkdXJhdGlvbikge1xuICAgICAgICBpZiAoZHVyYXRpb24uZW5kc1dpdGgoJ3MnKSkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihkdXJhdGlvbi5yZXBsYWNlKCdzJywgJycpKSAqIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHVyYXRpb24uZW5kc1dpdGgoJ21zJykpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoZHVyYXRpb24ucmVwbGFjZSgnbXMnLCAnJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgbWFza0lucHV0KHsgdmFsdWUsIGRlY2ltYWxzLCBpbnRlZ2VycyB9KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnLCcsICcuJyk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gREVDSU1BTF9QT0lOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGAwJHtERUNJTUFMX1BPSU5UfWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2ludGVnZXJQYXJ0ID0gJycsIGRlY2ltYWxzUGFydF0gPSB2YWx1ZVxuICAgICAgICAgICAgLnNwbGl0KERFQ0lNQUxfUE9JTlQpXG4gICAgICAgICAgICAubWFwKHAgPT4gcC5yZXBsYWNlKC9bXjAtOV0vZ3UsICcnKSk7XG4gICAgICAgIGNvbnN0IGxpbWl0ZWRJbnRlZ2VyID0gaW50ZWdlcnMgPyBpbnRlZ2VyUGFydC5zdWJzdHJpbmcoMCwgaW50ZWdlcnMpIDogaW50ZWdlclBhcnQ7XG4gICAgICAgIGNvbnN0IGNsZWFuSW50ZWdlclBhcnQgPSBsaW1pdGVkSW50ZWdlci5sZW5ndGggPT09IDIgPyBTdHJpbmcoTnVtYmVyKGxpbWl0ZWRJbnRlZ2VyKSkgOiBsaW1pdGVkSW50ZWdlcjtcbiAgICAgICAgY29uc3QgY2xlYW5EZWNpbWFsc1BhcnQgPSB0eXBlb2YgZGVjaW1hbHMgPT09ICdudW1iZXInID8gZGVjaW1hbHNQYXJ0Py5zdWJzdHJpbmcoMCwgZGVjaW1hbHMpIDogZGVjaW1hbHNQYXJ0O1xuICAgICAgICBjb25zdCBjYW5JbmNsdWRlRGVjaW1hbHMgPSB0eXBlb2YgZGVjaW1hbHMgIT09ICdudW1iZXInIHx8IGRlY2ltYWxzID4gMDtcbiAgICAgICAgY29uc3QgbWFza1ZhbHVlID0gdHlwZW9mIGNsZWFuRGVjaW1hbHNQYXJ0ID09PSAnc3RyaW5nJyAmJiBjYW5JbmNsdWRlRGVjaW1hbHNcbiAgICAgICAgICAgID8gW2NsZWFuSW50ZWdlclBhcnQsIGNsZWFuRGVjaW1hbHNQYXJ0XS5qb2luKERFQ0lNQUxfUE9JTlQpXG4gICAgICAgICAgICA6IGNsZWFuSW50ZWdlclBhcnQ7XG4gICAgICAgIHJldHVybiBtYXNrVmFsdWUgPz8gJyc7XG4gICAgfSxcbiAgICBjYXBpdGFsaXplKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2YWx1ZS5zbGljZSgxKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VWlIZWxwZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/UiHelperUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/WebComponentsUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reown/appkit-ui/dist/esm/src/utils/WebComponentsUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customElement: () => (/* binding */ customElement)\n/* harmony export */ });\nfunction standardCustomElement(tagName, descriptor) {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        finisher(clazz) {\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, clazz);\n            }\n        }\n    };\n}\nfunction legacyCustomElement(tagName, clazz) {\n    if (!customElements.get(tagName)) {\n        customElements.define(tagName, clazz);\n    }\n    return clazz;\n}\nfunction customElement(tagName) {\n    return function create(classOrDescriptor) {\n        return typeof classOrDescriptor === 'function'\n            ? legacyCustomElement(tagName, classOrDescriptor)\n            : standardCustomElement(tagName, classOrDescriptor);\n    };\n}\n//# sourceMappingURL=WebComponentsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy91dGlscy9XZWJDb21wb25lbnRzVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9zcmMvdXRpbHMvV2ViQ29tcG9uZW50c1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc3RhbmRhcmRDdXN0b21FbGVtZW50KHRhZ05hbWUsIGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCB7IGtpbmQsIGVsZW1lbnRzIH0gPSBkZXNjcmlwdG9yO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhenopIHtcbiAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIH1cbiAgICByZXR1cm4gY2xheno7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZShjbGFzc09yRGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGNsYXNzT3JEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpXG4gICAgICAgICAgICA6IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkNvbXBvbmVudHNVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/src/utils/WebComponentsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/CaipNetworkUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/CaipNetworkUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CaipNetworksUtil: () => (/* binding */ CaipNetworksUtil),\n/* harmony export */   getBlockchainApiRpcUrl: () => (/* binding */ getBlockchainApiRpcUrl)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/clients/transports/http.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/clients/transports/fallback.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _PresetsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PresetsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/PresetsUtil.js\");\n\n\n\n\nconst RPC_URL_HOST = 'rpc.walletconnect.org';\nfunction getBlockchainApiRpcUrl(caipNetworkId, projectId) {\n    const url = new URL('https://rpc.walletconnect.org/v1/');\n    url.searchParams.set('chainId', caipNetworkId);\n    url.searchParams.set('projectId', projectId);\n    return url.toString();\n}\nconst WC_HTTP_RPC_SUPPORTED_CHAINS = [\n    'near:mainnet',\n    'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    'eip155:1101',\n    'eip155:56',\n    'eip155:42161',\n    'eip155:7777777',\n    'eip155:59144',\n    'eip155:324',\n    'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1',\n    'eip155:5000',\n    'solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz',\n    'eip155:80084',\n    'eip155:5003',\n    'eip155:100',\n    'eip155:8453',\n    'eip155:42220',\n    'eip155:1313161555',\n    'eip155:17000',\n    'eip155:1',\n    'eip155:300',\n    'eip155:1313161554',\n    'eip155:1329',\n    'eip155:84532',\n    'eip155:421614',\n    'eip155:11155111',\n    'eip155:8217',\n    'eip155:43114',\n    'solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z',\n    'eip155:999999999',\n    'eip155:11155420',\n    'eip155:80002',\n    'eip155:97',\n    'eip155:43113',\n    'eip155:137',\n    'eip155:10',\n    'eip155:1301',\n    'eip155:80094',\n    'eip155:80069',\n    'eip155:560048',\n    'eip155:31',\n    'eip155:2818',\n    'eip155:57054',\n    'eip155:911867',\n    'eip155:534351',\n    'eip155:1112',\n    'eip155:534352',\n    'eip155:1111',\n    'eip155:146',\n    'eip155:130',\n    'eip155:1284',\n    'eip155:30',\n    'eip155:2810',\n    'bip122:000000000019d6689c085ae165831e93',\n    'bip122:000000000933ea01ad0ee984209779ba'\n];\nconst CaipNetworksUtil = {\n    /**\n     * Extends the RPC URL with the project ID if the RPC URL is a Reown URL\n     * @param rpcUrl - The RPC URL to extend\n     * @param projectId - The project ID to extend the RPC URL with\n     * @returns The extended RPC URL\n     */\n    extendRpcUrlWithProjectId(rpcUrl, projectId) {\n        let isReownUrl = false;\n        try {\n            const url = new URL(rpcUrl);\n            isReownUrl = url.host === RPC_URL_HOST;\n        }\n        catch (e) {\n            isReownUrl = false;\n        }\n        if (isReownUrl) {\n            const url = new URL(rpcUrl);\n            if (!url.searchParams.has('projectId')) {\n                url.searchParams.set('projectId', projectId);\n            }\n            return url.toString();\n        }\n        return rpcUrl;\n    },\n    isCaipNetwork(network) {\n        return 'chainNamespace' in network && 'caipNetworkId' in network;\n    },\n    getChainNamespace(network) {\n        if (this.isCaipNetwork(network)) {\n            return network.chainNamespace;\n        }\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM;\n    },\n    getCaipNetworkId(network) {\n        if (this.isCaipNetwork(network)) {\n            return network.caipNetworkId;\n        }\n        return `${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM}:${network.id}`;\n    },\n    // eslint-disable-next-line max-params\n    getDefaultRpcUrl(caipNetwork, caipNetworkId, projectId) {\n        const defaultRpcUrl = caipNetwork.rpcUrls?.default?.http?.[0];\n        if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetworkId)) {\n            return getBlockchainApiRpcUrl(caipNetworkId, projectId);\n        }\n        return defaultRpcUrl || '';\n    },\n    /**\n     * Extends the CaipNetwork object with the image ID and image URL if the image ID is not provided\n     * @param params - The parameters object\n     * @param params.caipNetwork - The CaipNetwork object to extend\n     * @param params.networkImageIds - The network image IDs\n     * @param params.customNetworkImageUrls - The custom network image URLs\n     * @param params.projectId - The project ID\n     * @param params.customRpc - Boolean to indicate if the custom RPC URL should be used\n     * @param params.customRpcUrls - The map of chain and custom RPC URLs to be used by the AppKit\n     * @returns The extended array of CaipNetwork objects\n     */\n    extendCaipNetwork(caipNetwork, { customNetworkImageUrls, projectId, customRpcUrls }) {\n        const chainNamespace = this.getChainNamespace(caipNetwork);\n        const caipNetworkId = this.getCaipNetworkId(caipNetwork);\n        const networkDefaultRpcUrl = caipNetwork.rpcUrls?.default?.http?.[0];\n        const reownRpcUrl = this.getDefaultRpcUrl(caipNetwork, caipNetworkId, projectId);\n        const chainDefaultRpcUrl = caipNetwork?.rpcUrls?.['chainDefault']?.http?.[0] || networkDefaultRpcUrl;\n        const customRpcUrlsOfNetwork = customRpcUrls?.[caipNetworkId]?.map(i => i.url) || [];\n        const rpcUrls = [...customRpcUrlsOfNetwork, ...(reownRpcUrl ? [reownRpcUrl] : [])];\n        const rpcUrlsWithoutReown = [...customRpcUrlsOfNetwork];\n        if (chainDefaultRpcUrl && !rpcUrlsWithoutReown.includes(chainDefaultRpcUrl)) {\n            rpcUrlsWithoutReown.push(chainDefaultRpcUrl);\n        }\n        return {\n            ...caipNetwork,\n            chainNamespace,\n            caipNetworkId,\n            assets: {\n                imageId: _PresetsUtil_js__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.NetworkImageIds[caipNetwork.id],\n                imageUrl: customNetworkImageUrls?.[caipNetwork.id]\n            },\n            rpcUrls: {\n                ...caipNetwork.rpcUrls,\n                default: {\n                    http: rpcUrls\n                },\n                // Save the networks original RPC URL default\n                chainDefault: {\n                    http: rpcUrlsWithoutReown\n                }\n            }\n        };\n    },\n    /**\n     * Extends the array of CaipNetwork objects with the image ID and image URL if the image ID is not provided\n     * @param caipNetworks - The array of CaipNetwork objects to extend\n     * @param params - The parameters object\n     * @param params.networkImageIds - The network image IDs\n     * @param params.customNetworkImageUrls - The custom network image URLs\n     * @param params.customRpcUrls - The map of chain and custom RPC URLs to be used by the AppKit\n     * @param params.projectId - The project ID\n     * @returns The extended array of CaipNetwork objects\n     */\n    extendCaipNetworks(caipNetworks, { customNetworkImageUrls, projectId, customRpcUrls }) {\n        return caipNetworks.map(caipNetwork => CaipNetworksUtil.extendCaipNetwork(caipNetwork, {\n            customNetworkImageUrls,\n            customRpcUrls,\n            projectId\n        }));\n    },\n    getViemTransport(caipNetwork, projectId, customRpcUrls) {\n        const transports = [];\n        // Add custom RPC URLs\n        customRpcUrls?.forEach(rpcUrl => {\n            transports.push((0,viem__WEBPACK_IMPORTED_MODULE_2__.http)(rpcUrl.url, rpcUrl.config));\n        });\n        // Add Reown RPC URL\n        if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)) {\n            transports.push((0,viem__WEBPACK_IMPORTED_MODULE_2__.http)(getBlockchainApiRpcUrl(caipNetwork.caipNetworkId, projectId), {\n                /*\n                 * The Blockchain API uses \"Content-Type: text/plain\" to avoid OPTIONS preflight requests\n                 * It will only work for viem >= 2.17.7\n                 */\n                fetchOptions: {\n                    headers: {\n                        'Content-Type': 'text/plain'\n                    }\n                }\n            }));\n        }\n        // Add original fallback transports\n        caipNetwork?.rpcUrls?.default?.http?.forEach(rpcUrl => {\n            transports.push((0,viem__WEBPACK_IMPORTED_MODULE_2__.http)(rpcUrl));\n        });\n        return (0,viem__WEBPACK_IMPORTED_MODULE_3__.fallback)(transports);\n    },\n    extendWagmiTransports(caipNetwork, projectId, transport) {\n        if (WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)) {\n            const reownRpcUrl = this.getDefaultRpcUrl(caipNetwork, caipNetwork.caipNetworkId, projectId);\n            return (0,viem__WEBPACK_IMPORTED_MODULE_3__.fallback)([transport, (0,viem__WEBPACK_IMPORTED_MODULE_2__.http)(reownRpcUrl)]);\n        }\n        return transport;\n    },\n    /**\n     * Generates the unsupported network object with the given CaipNetwork ID\n     * @param caipNetworkId - The CAIP network ID\n     * @returns The unsupported CAIP network object\n     */\n    getUnsupportedNetwork(caipNetworkId) {\n        return {\n            id: caipNetworkId.split(':')[1],\n            caipNetworkId,\n            name: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.UNSUPPORTED_NETWORK_NAME,\n            chainNamespace: caipNetworkId.split(':')[0],\n            nativeCurrency: {\n                name: '',\n                decimals: 0,\n                symbol: ''\n            },\n            rpcUrls: {\n                default: {\n                    http: []\n                }\n            }\n        };\n    },\n    /**\n     * Gets the CaipNetwork object from the storage if `@appkit/active_caip_network_id` is being set\n     * @returns CaipNetwork or undefined\n     */\n    getCaipNetworkFromStorage(defaultCaipNetwork) {\n        const caipNetworkIdFromStorage = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getActiveCaipNetworkId();\n        const caipNetworks = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAllRequestedCaipNetworks();\n        const availableNamespaces = Array.from(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains?.keys() || []);\n        const namespace = caipNetworkIdFromStorage?.split(':')[0];\n        const isNamespaceAvailable = namespace ? availableNamespaces.includes(namespace) : false;\n        const caipNetwork = caipNetworks?.find(cn => cn.caipNetworkId === caipNetworkIdFromStorage);\n        const isUnsupportedNetwork = isNamespaceAvailable && !caipNetwork && caipNetworkIdFromStorage;\n        if (isUnsupportedNetwork) {\n            return this.getUnsupportedNetwork(caipNetworkIdFromStorage);\n        }\n        if (caipNetwork) {\n            return caipNetwork;\n        }\n        if (defaultCaipNetwork) {\n            return defaultCaipNetwork;\n        }\n        return caipNetworks?.[0];\n    }\n};\n//# sourceMappingURL=CaipNetworkUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9DYWlwTmV0d29ya1V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0M7QUFDZTtBQUNvQjtBQUMxQjtBQUMvQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQWE7QUFDNUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtEQUFhLFdBQVcsR0FBRyxXQUFXO0FBQ3hELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtEQUFrRDtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3REFBVztBQUNwQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0RBQWtEO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwQ0FBSTtBQUNoQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUE0QiwwQ0FBSTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBDQUFJO0FBQ2hDLFNBQVM7QUFDVCxlQUFlLDhDQUFRO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOENBQVEsYUFBYSwwQ0FBSTtBQUM1QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrREFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGtFQUFXO0FBQ3BELDZCQUE2QixzRUFBZTtBQUM1QywrQ0FBK0Msc0VBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9DYWlwTmV0d29ya1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmFsbGJhY2ssIGh0dHAgfSBmcm9tICd2aWVtJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIsIFN0b3JhZ2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBQcmVzZXRzVXRpbCB9IGZyb20gJy4vUHJlc2V0c1V0aWwuanMnO1xuY29uc3QgUlBDX1VSTF9IT1NUID0gJ3JwYy53YWxsZXRjb25uZWN0Lm9yZyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tjaGFpbkFwaVJwY1VybChjYWlwTmV0d29ya0lkLCBwcm9qZWN0SWQpIHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKCdodHRwczovL3JwYy53YWxsZXRjb25uZWN0Lm9yZy92MS8nKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2hhaW5JZCcsIGNhaXBOZXR3b3JrSWQpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm9qZWN0SWQnLCBwcm9qZWN0SWQpO1xuICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbn1cbmNvbnN0IFdDX0hUVFBfUlBDX1NVUFBPUlRFRF9DSEFJTlMgPSBbXG4gICAgJ25lYXI6bWFpbm5ldCcsXG4gICAgJ3NvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcCcsXG4gICAgJ2VpcDE1NToxMTAxJyxcbiAgICAnZWlwMTU1OjU2JyxcbiAgICAnZWlwMTU1OjQyMTYxJyxcbiAgICAnZWlwMTU1Ojc3Nzc3NzcnLFxuICAgICdlaXAxNTU6NTkxNDQnLFxuICAgICdlaXAxNTU6MzI0JyxcbiAgICAnc29sYW5hOkV0V1RSQUJaYVlxNmlNZmVZS291UnUxNjZWVTJ4cWExJyxcbiAgICAnZWlwMTU1OjUwMDAnLFxuICAgICdzb2xhbmE6NHNnam13MXN1bmh6c3hnc3B1aHBxbGR4NndpeWpudHonLFxuICAgICdlaXAxNTU6ODAwODQnLFxuICAgICdlaXAxNTU6NTAwMycsXG4gICAgJ2VpcDE1NToxMDAnLFxuICAgICdlaXAxNTU6ODQ1MycsXG4gICAgJ2VpcDE1NTo0MjIyMCcsXG4gICAgJ2VpcDE1NToxMzEzMTYxNTU1JyxcbiAgICAnZWlwMTU1OjE3MDAwJyxcbiAgICAnZWlwMTU1OjEnLFxuICAgICdlaXAxNTU6MzAwJyxcbiAgICAnZWlwMTU1OjEzMTMxNjE1NTQnLFxuICAgICdlaXAxNTU6MTMyOScsXG4gICAgJ2VpcDE1NTo4NDUzMicsXG4gICAgJ2VpcDE1NTo0MjE2MTQnLFxuICAgICdlaXAxNTU6MTExNTUxMTEnLFxuICAgICdlaXAxNTU6ODIxNycsXG4gICAgJ2VpcDE1NTo0MzExNCcsXG4gICAgJ3NvbGFuYTo0dWhjVkp5VTlwSmt2UXlTODh1UkRpc3dIWFNDa1kzeicsXG4gICAgJ2VpcDE1NTo5OTk5OTk5OTknLFxuICAgICdlaXAxNTU6MTExNTU0MjAnLFxuICAgICdlaXAxNTU6ODAwMDInLFxuICAgICdlaXAxNTU6OTcnLFxuICAgICdlaXAxNTU6NDMxMTMnLFxuICAgICdlaXAxNTU6MTM3JyxcbiAgICAnZWlwMTU1OjEwJyxcbiAgICAnZWlwMTU1OjEzMDEnLFxuICAgICdlaXAxNTU6ODAwOTQnLFxuICAgICdlaXAxNTU6ODAwNjknLFxuICAgICdlaXAxNTU6NTYwMDQ4JyxcbiAgICAnZWlwMTU1OjMxJyxcbiAgICAnZWlwMTU1OjI4MTgnLFxuICAgICdlaXAxNTU6NTcwNTQnLFxuICAgICdlaXAxNTU6OTExODY3JyxcbiAgICAnZWlwMTU1OjUzNDM1MScsXG4gICAgJ2VpcDE1NToxMTEyJyxcbiAgICAnZWlwMTU1OjUzNDM1MicsXG4gICAgJ2VpcDE1NToxMTExJyxcbiAgICAnZWlwMTU1OjE0NicsXG4gICAgJ2VpcDE1NToxMzAnLFxuICAgICdlaXAxNTU6MTI4NCcsXG4gICAgJ2VpcDE1NTozMCcsXG4gICAgJ2VpcDE1NToyODEwJyxcbiAgICAnYmlwMTIyOjAwMDAwMDAwMDAxOWQ2Njg5YzA4NWFlMTY1ODMxZTkzJyxcbiAgICAnYmlwMTIyOjAwMDAwMDAwMDkzM2VhMDFhZDBlZTk4NDIwOTc3OWJhJ1xuXTtcbmV4cG9ydCBjb25zdCBDYWlwTmV0d29ya3NVdGlsID0ge1xuICAgIC8qKlxuICAgICAqIEV4dGVuZHMgdGhlIFJQQyBVUkwgd2l0aCB0aGUgcHJvamVjdCBJRCBpZiB0aGUgUlBDIFVSTCBpcyBhIFJlb3duIFVSTFxuICAgICAqIEBwYXJhbSBycGNVcmwgLSBUaGUgUlBDIFVSTCB0byBleHRlbmRcbiAgICAgKiBAcGFyYW0gcHJvamVjdElkIC0gVGhlIHByb2plY3QgSUQgdG8gZXh0ZW5kIHRoZSBSUEMgVVJMIHdpdGhcbiAgICAgKiBAcmV0dXJucyBUaGUgZXh0ZW5kZWQgUlBDIFVSTFxuICAgICAqL1xuICAgIGV4dGVuZFJwY1VybFdpdGhQcm9qZWN0SWQocnBjVXJsLCBwcm9qZWN0SWQpIHtcbiAgICAgICAgbGV0IGlzUmVvd25VcmwgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocnBjVXJsKTtcbiAgICAgICAgICAgIGlzUmVvd25VcmwgPSB1cmwuaG9zdCA9PT0gUlBDX1VSTF9IT1NUO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpc1Jlb3duVXJsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVvd25VcmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocnBjVXJsKTtcbiAgICAgICAgICAgIGlmICghdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3Byb2plY3RJZCcpKSB7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJwY1VybDtcbiAgICB9LFxuICAgIGlzQ2FpcE5ldHdvcmsobmV0d29yaykge1xuICAgICAgICByZXR1cm4gJ2NoYWluTmFtZXNwYWNlJyBpbiBuZXR3b3JrICYmICdjYWlwTmV0d29ya0lkJyBpbiBuZXR3b3JrO1xuICAgIH0sXG4gICAgZ2V0Q2hhaW5OYW1lc3BhY2UobmV0d29yaykge1xuICAgICAgICBpZiAodGhpcy5pc0NhaXBOZXR3b3JrKG5ldHdvcmspKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV0d29yay5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk07XG4gICAgfSxcbiAgICBnZXRDYWlwTmV0d29ya0lkKG5ldHdvcmspIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDYWlwTmV0d29yayhuZXR3b3JrKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldHdvcmsuY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7Q29uc3RhbnRzVXRpbC5DSEFJTi5FVk19OiR7bmV0d29yay5pZH1gO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgICBnZXREZWZhdWx0UnBjVXJsKGNhaXBOZXR3b3JrLCBjYWlwTmV0d29ya0lkLCBwcm9qZWN0SWQpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJwY1VybCA9IGNhaXBOZXR3b3JrLnJwY1VybHM/LmRlZmF1bHQ/Lmh0dHA/LlswXTtcbiAgICAgICAgaWYgKFdDX0hUVFBfUlBDX1NVUFBPUlRFRF9DSEFJTlMuaW5jbHVkZXMoY2FpcE5ldHdvcmtJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRCbG9ja2NoYWluQXBpUnBjVXJsKGNhaXBOZXR3b3JrSWQsIHByb2plY3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRScGNVcmwgfHwgJyc7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBFeHRlbmRzIHRoZSBDYWlwTmV0d29yayBvYmplY3Qgd2l0aCB0aGUgaW1hZ2UgSUQgYW5kIGltYWdlIFVSTCBpZiB0aGUgaW1hZ2UgSUQgaXMgbm90IHByb3ZpZGVkXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIG9iamVjdFxuICAgICAqIEBwYXJhbSBwYXJhbXMuY2FpcE5ldHdvcmsgLSBUaGUgQ2FpcE5ldHdvcmsgb2JqZWN0IHRvIGV4dGVuZFxuICAgICAqIEBwYXJhbSBwYXJhbXMubmV0d29ya0ltYWdlSWRzIC0gVGhlIG5ldHdvcmsgaW1hZ2UgSURzXG4gICAgICogQHBhcmFtIHBhcmFtcy5jdXN0b21OZXR3b3JrSW1hZ2VVcmxzIC0gVGhlIGN1c3RvbSBuZXR3b3JrIGltYWdlIFVSTHNcbiAgICAgKiBAcGFyYW0gcGFyYW1zLnByb2plY3RJZCAtIFRoZSBwcm9qZWN0IElEXG4gICAgICogQHBhcmFtIHBhcmFtcy5jdXN0b21ScGMgLSBCb29sZWFuIHRvIGluZGljYXRlIGlmIHRoZSBjdXN0b20gUlBDIFVSTCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSBwYXJhbXMuY3VzdG9tUnBjVXJscyAtIFRoZSBtYXAgb2YgY2hhaW4gYW5kIGN1c3RvbSBSUEMgVVJMcyB0byBiZSB1c2VkIGJ5IHRoZSBBcHBLaXRcbiAgICAgKiBAcmV0dXJucyBUaGUgZXh0ZW5kZWQgYXJyYXkgb2YgQ2FpcE5ldHdvcmsgb2JqZWN0c1xuICAgICAqL1xuICAgIGV4dGVuZENhaXBOZXR3b3JrKGNhaXBOZXR3b3JrLCB7IGN1c3RvbU5ldHdvcmtJbWFnZVVybHMsIHByb2plY3RJZCwgY3VzdG9tUnBjVXJscyB9KSB7XG4gICAgICAgIGNvbnN0IGNoYWluTmFtZXNwYWNlID0gdGhpcy5nZXRDaGFpbk5hbWVzcGFjZShjYWlwTmV0d29yayk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWQgPSB0aGlzLmdldENhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcmspO1xuICAgICAgICBjb25zdCBuZXR3b3JrRGVmYXVsdFJwY1VybCA9IGNhaXBOZXR3b3JrLnJwY1VybHM/LmRlZmF1bHQ/Lmh0dHA/LlswXTtcbiAgICAgICAgY29uc3QgcmVvd25ScGNVcmwgPSB0aGlzLmdldERlZmF1bHRScGNVcmwoY2FpcE5ldHdvcmssIGNhaXBOZXR3b3JrSWQsIHByb2plY3RJZCk7XG4gICAgICAgIGNvbnN0IGNoYWluRGVmYXVsdFJwY1VybCA9IGNhaXBOZXR3b3JrPy5ycGNVcmxzPy5bJ2NoYWluRGVmYXVsdCddPy5odHRwPy5bMF0gfHwgbmV0d29ya0RlZmF1bHRScGNVcmw7XG4gICAgICAgIGNvbnN0IGN1c3RvbVJwY1VybHNPZk5ldHdvcmsgPSBjdXN0b21ScGNVcmxzPy5bY2FpcE5ldHdvcmtJZF0/Lm1hcChpID0+IGkudXJsKSB8fCBbXTtcbiAgICAgICAgY29uc3QgcnBjVXJscyA9IFsuLi5jdXN0b21ScGNVcmxzT2ZOZXR3b3JrLCAuLi4ocmVvd25ScGNVcmwgPyBbcmVvd25ScGNVcmxdIDogW10pXTtcbiAgICAgICAgY29uc3QgcnBjVXJsc1dpdGhvdXRSZW93biA9IFsuLi5jdXN0b21ScGNVcmxzT2ZOZXR3b3JrXTtcbiAgICAgICAgaWYgKGNoYWluRGVmYXVsdFJwY1VybCAmJiAhcnBjVXJsc1dpdGhvdXRSZW93bi5pbmNsdWRlcyhjaGFpbkRlZmF1bHRScGNVcmwpKSB7XG4gICAgICAgICAgICBycGNVcmxzV2l0aG91dFJlb3duLnB1c2goY2hhaW5EZWZhdWx0UnBjVXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2FpcE5ldHdvcmssXG4gICAgICAgICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgICAgICAgIGNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICBhc3NldHM6IHtcbiAgICAgICAgICAgICAgICBpbWFnZUlkOiBQcmVzZXRzVXRpbC5OZXR3b3JrSW1hZ2VJZHNbY2FpcE5ldHdvcmsuaWRdLFxuICAgICAgICAgICAgICAgIGltYWdlVXJsOiBjdXN0b21OZXR3b3JrSW1hZ2VVcmxzPy5bY2FpcE5ldHdvcmsuaWRdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnBjVXJsczoge1xuICAgICAgICAgICAgICAgIC4uLmNhaXBOZXR3b3JrLnJwY1VybHMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBodHRwOiBycGNVcmxzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBuZXR3b3JrcyBvcmlnaW5hbCBSUEMgVVJMIGRlZmF1bHRcbiAgICAgICAgICAgICAgICBjaGFpbkRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDogcnBjVXJsc1dpdGhvdXRSZW93blxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEV4dGVuZHMgdGhlIGFycmF5IG9mIENhaXBOZXR3b3JrIG9iamVjdHMgd2l0aCB0aGUgaW1hZ2UgSUQgYW5kIGltYWdlIFVSTCBpZiB0aGUgaW1hZ2UgSUQgaXMgbm90IHByb3ZpZGVkXG4gICAgICogQHBhcmFtIGNhaXBOZXR3b3JrcyAtIFRoZSBhcnJheSBvZiBDYWlwTmV0d29yayBvYmplY3RzIHRvIGV4dGVuZFxuICAgICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBvYmplY3RcbiAgICAgKiBAcGFyYW0gcGFyYW1zLm5ldHdvcmtJbWFnZUlkcyAtIFRoZSBuZXR3b3JrIGltYWdlIElEc1xuICAgICAqIEBwYXJhbSBwYXJhbXMuY3VzdG9tTmV0d29ya0ltYWdlVXJscyAtIFRoZSBjdXN0b20gbmV0d29yayBpbWFnZSBVUkxzXG4gICAgICogQHBhcmFtIHBhcmFtcy5jdXN0b21ScGNVcmxzIC0gVGhlIG1hcCBvZiBjaGFpbiBhbmQgY3VzdG9tIFJQQyBVUkxzIHRvIGJlIHVzZWQgYnkgdGhlIEFwcEtpdFxuICAgICAqIEBwYXJhbSBwYXJhbXMucHJvamVjdElkIC0gVGhlIHByb2plY3QgSURcbiAgICAgKiBAcmV0dXJucyBUaGUgZXh0ZW5kZWQgYXJyYXkgb2YgQ2FpcE5ldHdvcmsgb2JqZWN0c1xuICAgICAqL1xuICAgIGV4dGVuZENhaXBOZXR3b3JrcyhjYWlwTmV0d29ya3MsIHsgY3VzdG9tTmV0d29ya0ltYWdlVXJscywgcHJvamVjdElkLCBjdXN0b21ScGNVcmxzIH0pIHtcbiAgICAgICAgcmV0dXJuIGNhaXBOZXR3b3Jrcy5tYXAoY2FpcE5ldHdvcmsgPT4gQ2FpcE5ldHdvcmtzVXRpbC5leHRlbmRDYWlwTmV0d29yayhjYWlwTmV0d29yaywge1xuICAgICAgICAgICAgY3VzdG9tTmV0d29ya0ltYWdlVXJscyxcbiAgICAgICAgICAgIGN1c3RvbVJwY1VybHMsXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgfSkpO1xuICAgIH0sXG4gICAgZ2V0VmllbVRyYW5zcG9ydChjYWlwTmV0d29yaywgcHJvamVjdElkLCBjdXN0b21ScGNVcmxzKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydHMgPSBbXTtcbiAgICAgICAgLy8gQWRkIGN1c3RvbSBSUEMgVVJMc1xuICAgICAgICBjdXN0b21ScGNVcmxzPy5mb3JFYWNoKHJwY1VybCA9PiB7XG4gICAgICAgICAgICB0cmFuc3BvcnRzLnB1c2goaHR0cChycGNVcmwudXJsLCBycGNVcmwuY29uZmlnKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZGQgUmVvd24gUlBDIFVSTFxuICAgICAgICBpZiAoV0NfSFRUUF9SUENfU1VQUE9SVEVEX0NIQUlOUy5pbmNsdWRlcyhjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKSkge1xuICAgICAgICAgICAgdHJhbnNwb3J0cy5wdXNoKGh0dHAoZ2V0QmxvY2tjaGFpbkFwaVJwY1VybChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkLCBwcm9qZWN0SWQpLCB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBUaGUgQmxvY2tjaGFpbiBBUEkgdXNlcyBcIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpblwiIHRvIGF2b2lkIE9QVElPTlMgcHJlZmxpZ2h0IHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgICogSXQgd2lsbCBvbmx5IHdvcmsgZm9yIHZpZW0gPj0gMi4xNy43XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgb3JpZ2luYWwgZmFsbGJhY2sgdHJhbnNwb3J0c1xuICAgICAgICBjYWlwTmV0d29yaz8ucnBjVXJscz8uZGVmYXVsdD8uaHR0cD8uZm9yRWFjaChycGNVcmwgPT4ge1xuICAgICAgICAgICAgdHJhbnNwb3J0cy5wdXNoKGh0dHAocnBjVXJsKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsbGJhY2sodHJhbnNwb3J0cyk7XG4gICAgfSxcbiAgICBleHRlbmRXYWdtaVRyYW5zcG9ydHMoY2FpcE5ldHdvcmssIHByb2plY3RJZCwgdHJhbnNwb3J0KSB7XG4gICAgICAgIGlmIChXQ19IVFRQX1JQQ19TVVBQT1JURURfQ0hBSU5TLmluY2x1ZGVzKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpKSB7XG4gICAgICAgICAgICBjb25zdCByZW93blJwY1VybCA9IHRoaXMuZ2V0RGVmYXVsdFJwY1VybChjYWlwTmV0d29yaywgY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCwgcHJvamVjdElkKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjayhbdHJhbnNwb3J0LCBodHRwKHJlb3duUnBjVXJsKV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIHVuc3VwcG9ydGVkIG5ldHdvcmsgb2JqZWN0IHdpdGggdGhlIGdpdmVuIENhaXBOZXR3b3JrIElEXG4gICAgICogQHBhcmFtIGNhaXBOZXR3b3JrSWQgLSBUaGUgQ0FJUCBuZXR3b3JrIElEXG4gICAgICogQHJldHVybnMgVGhlIHVuc3VwcG9ydGVkIENBSVAgbmV0d29yayBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRVbnN1cHBvcnRlZE5ldHdvcmsoY2FpcE5ldHdvcmtJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGNhaXBOZXR3b3JrSWQuc3BsaXQoJzonKVsxXSxcbiAgICAgICAgICAgIGNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICBuYW1lOiBDb25zdGFudHNVdGlsLlVOU1VQUE9SVEVEX05FVFdPUktfTkFNRSxcbiAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBjYWlwTmV0d29ya0lkLnNwbGl0KCc6JylbMF0sXG4gICAgICAgICAgICBuYXRpdmVDdXJyZW5jeToge1xuICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiAwLFxuICAgICAgICAgICAgICAgIHN5bWJvbDogJydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBycGNVcmxzOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBodHRwOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIENhaXBOZXR3b3JrIG9iamVjdCBmcm9tIHRoZSBzdG9yYWdlIGlmIGBAYXBwa2l0L2FjdGl2ZV9jYWlwX25ldHdvcmtfaWRgIGlzIGJlaW5nIHNldFxuICAgICAqIEByZXR1cm5zIENhaXBOZXR3b3JrIG9yIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldENhaXBOZXR3b3JrRnJvbVN0b3JhZ2UoZGVmYXVsdENhaXBOZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWRGcm9tU3RvcmFnZSA9IFN0b3JhZ2VVdGlsLmdldEFjdGl2ZUNhaXBOZXR3b3JrSWQoKTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zPy5rZXlzKCkgfHwgW10pO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBjYWlwTmV0d29ya0lkRnJvbVN0b3JhZ2U/LnNwbGl0KCc6JylbMF07XG4gICAgICAgIGNvbnN0IGlzTmFtZXNwYWNlQXZhaWxhYmxlID0gbmFtZXNwYWNlID8gYXZhaWxhYmxlTmFtZXNwYWNlcy5pbmNsdWRlcyhuYW1lc3BhY2UpIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gY2FpcE5ldHdvcmtzPy5maW5kKGNuID0+IGNuLmNhaXBOZXR3b3JrSWQgPT09IGNhaXBOZXR3b3JrSWRGcm9tU3RvcmFnZSk7XG4gICAgICAgIGNvbnN0IGlzVW5zdXBwb3J0ZWROZXR3b3JrID0gaXNOYW1lc3BhY2VBdmFpbGFibGUgJiYgIWNhaXBOZXR3b3JrICYmIGNhaXBOZXR3b3JrSWRGcm9tU3RvcmFnZTtcbiAgICAgICAgaWYgKGlzVW5zdXBwb3J0ZWROZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVbnN1cHBvcnRlZE5ldHdvcmsoY2FpcE5ldHdvcmtJZEZyb21TdG9yYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgIHJldHVybiBjYWlwTmV0d29yaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdENhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdENhaXBOZXR3b3JrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWlwTmV0d29ya3M/LlswXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FpcE5ldHdvcmtVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/CaipNetworkUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js":
/*!************************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n\nconst ConstantsUtil = {\n    /* Connector names */\n    METMASK_CONNECTOR_NAME: 'MetaMask',\n    TRUST_CONNECTOR_NAME: 'Trust Wallet',\n    SOLFLARE_CONNECTOR_NAME: 'Solflare',\n    PHANTOM_CONNECTOR_NAME: 'Phantom',\n    COIN98_CONNECTOR_NAME: 'Coin98',\n    MAGIC_EDEN_CONNECTOR_NAME: 'Magic Eden',\n    BACKPACK_CONNECTOR_NAME: 'Backpack',\n    BITGET_CONNECTOR_NAME: 'Bitget Wallet',\n    FRONTIER_CONNECTOR_NAME: 'Frontier',\n    XVERSE_CONNECTOR_NAME: 'Xverse Wallet',\n    LEATHER_CONNECTOR_NAME: 'Leather',\n    OKX_CONNECTOR_NAME: 'OKX Wallet',\n    EIP155: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n    ADD_CHAIN_METHOD: 'wallet_addEthereumChain',\n    EIP6963_ANNOUNCE_EVENT: 'eip6963:announceProvider',\n    EIP6963_REQUEST_EVENT: 'eip6963:requestProvider',\n    CONNECTOR_RDNS_MAP: {\n        coinbaseWallet: 'com.coinbase.wallet',\n        coinbaseWalletSDK: 'com.coinbase.wallet'\n    },\n    CONNECTOR_TYPE_EXTERNAL: 'EXTERNAL',\n    CONNECTOR_TYPE_WALLET_CONNECT: 'WALLET_CONNECT',\n    CONNECTOR_TYPE_INJECTED: 'INJECTED',\n    CONNECTOR_TYPE_ANNOUNCED: 'ANNOUNCED',\n    CONNECTOR_TYPE_AUTH: 'AUTH',\n    CONNECTOR_TYPE_MULTI_CHAIN: 'MULTI_CHAIN',\n    CONNECTOR_TYPE_W3M_AUTH: 'AUTH',\n    getSDKVersionWarningMessage(currentVersion, latestVersion) {\n        return `\n     @@@@@@@           @@@@@@@@@@@@@@@@@@      \n   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   \n  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@\n @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    \n @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    \n @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  \n  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  \n   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   \n      @@@@@            @@@@@@@@@@@@@@@@@@  \n      \nAppKit SDK version ${currentVersion} is outdated. Latest version is ${latestVersion}. Please update to the latest version for bug fixes and new features.\n            \nChangelog: https://github.com/reown-com/appkit/releases\nNPM Registry: https://www.npmjs.com/package/@reown/appkit`;\n    }\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRFO0FBQ3JFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0JBQWdCLGlDQUFpQyxjQUFjO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9Db25zdGFudHNVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmV4cG9ydCBjb25zdCBDb25zdGFudHNVdGlsID0ge1xuICAgIC8qIENvbm5lY3RvciBuYW1lcyAqL1xuICAgIE1FVE1BU0tfQ09OTkVDVE9SX05BTUU6ICdNZXRhTWFzaycsXG4gICAgVFJVU1RfQ09OTkVDVE9SX05BTUU6ICdUcnVzdCBXYWxsZXQnLFxuICAgIFNPTEZMQVJFX0NPTk5FQ1RPUl9OQU1FOiAnU29sZmxhcmUnLFxuICAgIFBIQU5UT01fQ09OTkVDVE9SX05BTUU6ICdQaGFudG9tJyxcbiAgICBDT0lOOThfQ09OTkVDVE9SX05BTUU6ICdDb2luOTgnLFxuICAgIE1BR0lDX0VERU5fQ09OTkVDVE9SX05BTUU6ICdNYWdpYyBFZGVuJyxcbiAgICBCQUNLUEFDS19DT05ORUNUT1JfTkFNRTogJ0JhY2twYWNrJyxcbiAgICBCSVRHRVRfQ09OTkVDVE9SX05BTUU6ICdCaXRnZXQgV2FsbGV0JyxcbiAgICBGUk9OVElFUl9DT05ORUNUT1JfTkFNRTogJ0Zyb250aWVyJyxcbiAgICBYVkVSU0VfQ09OTkVDVE9SX05BTUU6ICdYdmVyc2UgV2FsbGV0JyxcbiAgICBMRUFUSEVSX0NPTk5FQ1RPUl9OQU1FOiAnTGVhdGhlcicsXG4gICAgT0tYX0NPTk5FQ1RPUl9OQU1FOiAnT0tYIFdhbGxldCcsXG4gICAgRUlQMTU1OiBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICBBRERfQ0hBSU5fTUVUSE9EOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgIEVJUDY5NjNfQU5OT1VOQ0VfRVZFTlQ6ICdlaXA2OTYzOmFubm91bmNlUHJvdmlkZXInLFxuICAgIEVJUDY5NjNfUkVRVUVTVF9FVkVOVDogJ2VpcDY5NjM6cmVxdWVzdFByb3ZpZGVyJyxcbiAgICBDT05ORUNUT1JfUkROU19NQVA6IHtcbiAgICAgICAgY29pbmJhc2VXYWxsZXQ6ICdjb20uY29pbmJhc2Uud2FsbGV0JyxcbiAgICAgICAgY29pbmJhc2VXYWxsZXRTREs6ICdjb20uY29pbmJhc2Uud2FsbGV0J1xuICAgIH0sXG4gICAgQ09OTkVDVE9SX1RZUEVfRVhURVJOQUw6ICdFWFRFUk5BTCcsXG4gICAgQ09OTkVDVE9SX1RZUEVfV0FMTEVUX0NPTk5FQ1Q6ICdXQUxMRVRfQ09OTkVDVCcsXG4gICAgQ09OTkVDVE9SX1RZUEVfSU5KRUNURUQ6ICdJTkpFQ1RFRCcsXG4gICAgQ09OTkVDVE9SX1RZUEVfQU5OT1VOQ0VEOiAnQU5OT1VOQ0VEJyxcbiAgICBDT05ORUNUT1JfVFlQRV9BVVRIOiAnQVVUSCcsXG4gICAgQ09OTkVDVE9SX1RZUEVfTVVMVElfQ0hBSU46ICdNVUxUSV9DSEFJTicsXG4gICAgQ09OTkVDVE9SX1RZUEVfVzNNX0FVVEg6ICdBVVRIJyxcbiAgICBnZXRTREtWZXJzaW9uV2FybmluZ01lc3NhZ2UoY3VycmVudFZlcnNpb24sIGxhdGVzdFZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgQEBAQEBAQCAgICAgICAgICAgQEBAQEBAQEBAQEBAQEBAQEBAICAgICAgXG4gICBAQEBAQEBAQEBAQCAgICAgIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAgIFxuICBAQEBAQEBAQEBAQEBAICAgIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAICBcbiBAQEBAQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAgXG4gQEBAQEBAQEBAQEBAQEBAICBAQEBAQEBAQEBAQEBAQCAgIEBAQEBAQEBAQEBAIFxuIEBAQEBAQEBAQEBAQEBAQCAgQEBAQEBAQEBAQEBAQCAgIEBAQEBAQEBAQEBAQCBcbiBAQEBAQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEBAQEBcbiBAQEBAQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEBAQCAgIEBAQEBAQEBAQEBAQEAgICAgXG4gQEBAQEBAICAgQEBAQEBAICBAQEBAQEBAQEBAQCAgIEBAQEBAQEBAQEBAQEBAICAgIFxuIEBAQEBAQCAgIEBAQEBAQCAgQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEBAQEBAQCBcbiBAQEBAQEBAQEBAQEBAQEAgIEBAQEBAQEBAQEAgICBAQEBAQEBAQEBAQEBAQEAgXG4gQEBAQEBAQEBAQEBAQEBAICBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAgIFxuICBAQEBAQEBAQEBAQEBAICAgIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAICBcbiAgIEBAQEBAQEBAQEBAICAgICAgQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAICAgXG4gICAgICBAQEBAQCAgICAgICAgICAgIEBAQEBAQEBAQEBAQEBAQEBAQCAgXG4gICAgICBcbkFwcEtpdCBTREsgdmVyc2lvbiAke2N1cnJlbnRWZXJzaW9ufSBpcyBvdXRkYXRlZC4gTGF0ZXN0IHZlcnNpb24gaXMgJHtsYXRlc3RWZXJzaW9ufS4gUGxlYXNlIHVwZGF0ZSB0byB0aGUgbGF0ZXN0IHZlcnNpb24gZm9yIGJ1ZyBmaXhlcyBhbmQgbmV3IGZlYXR1cmVzLlxuICAgICAgICAgICAgXG5DaGFuZ2Vsb2c6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZW93bi1jb20vYXBwa2l0L3JlbGVhc2VzXG5OUE0gUmVnaXN0cnk6IGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL0ByZW93bi9hcHBraXRgO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25zdGFudHNVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ErrorUtil.js":
/*!********************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/ErrorUtil.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorUtil: () => (/* binding */ ErrorUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\nconst abortController = new AbortController();\nconst ErrorUtil = {\n    EmbeddedWalletAbortController: abortController,\n    /**\n     * Universal Provider errors. Make sure the `message` is matching with the errors thrown by the Universal Provider.\n     * We use the `alertErrorKey` to map the error to the correct AppKit alert error.\n     */\n    UniversalProviderErrors: {\n        UNAUTHORIZED_DOMAIN_NOT_ALLOWED: {\n            message: 'Unauthorized: origin not allowed',\n            alertErrorKey: 'ORIGIN_NOT_ALLOWED'\n        },\n        JWT_VALIDATION_ERROR: {\n            message: 'JWT validation error: JWT Token is not yet valid',\n            alertErrorKey: 'JWT_TOKEN_NOT_VALID'\n        },\n        INVALID_KEY: {\n            message: 'Unauthorized: invalid key',\n            alertErrorKey: 'INVALID_PROJECT_ID'\n        }\n    },\n    ALERT_ERRORS: {\n        SWITCH_NETWORK_NOT_FOUND: {\n            code: 'APKT001',\n            displayMessage: 'Network Not Found',\n            debugMessage: 'The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration.'\n        },\n        ORIGIN_NOT_ALLOWED: {\n            code: 'APKT002',\n            displayMessage: 'Invalid App Configuration',\n            debugMessage: () => `The origin ${(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.isSafe)() ? window.origin : 'unknown'} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.projectId}]`\n        },\n        IFRAME_LOAD_FAILED: {\n            code: 'APKT003',\n            displayMessage: 'Network Error: Wallet Load Failed',\n            debugMessage: () => 'Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists.'\n        },\n        IFRAME_REQUEST_TIMEOUT: {\n            code: 'APKT004',\n            displayMessage: 'Wallet Request Timeout',\n            debugMessage: () => 'The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists.'\n        },\n        UNVERIFIED_DOMAIN: {\n            code: 'APKT005',\n            displayMessage: 'Unverified Domain',\n            debugMessage: () => 'Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com.'\n        },\n        JWT_TOKEN_NOT_VALID: {\n            code: 'APKT006',\n            displayMessage: 'Session Expired',\n            debugMessage: 'Your session is invalid or expired. Please check your systems date and time settings, then reconnect.'\n        },\n        INVALID_PROJECT_ID: {\n            code: 'APKT007',\n            displayMessage: 'Invalid Project ID',\n            debugMessage: 'The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID.'\n        },\n        PROJECT_ID_NOT_CONFIGURED: {\n            code: 'APKT008',\n            displayMessage: 'Project ID Missing',\n            debugMessage: 'No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com.'\n        },\n        SERVER_ERROR_APP_CONFIGURATION: {\n            code: 'APKT009',\n            displayMessage: 'Server Error',\n            debugMessage: (errorMessage) => `Unable to fetch App Configuration. ${errorMessage}. Please check your network connection and try again shortly. Contact support if the issue persists.`\n        },\n        RATE_LIMITED_APP_CONFIGURATION: {\n            code: 'APKT010',\n            displayMessage: 'Rate Limited',\n            debugMessage: 'You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists.'\n        }\n    },\n    ALERT_WARNINGS: {\n        LOCAL_CONFIGURATION_IGNORED: {\n            debugMessage: (warningMessage) => `[Reown Config Notice] ${warningMessage}`\n        },\n        INACTIVE_NAMESPACE_NOT_CONNECTED: {\n            code: 'APKTW001',\n            displayMessage: 'Inactive Namespace Not Connected',\n            debugMessage: (namespace, errorMessage) => `An error occurred while connecting an inactive namespace ${namespace}: \"${errorMessage}\"`\n        },\n        INVALID_EMAIL: {\n            code: 'APKTW002',\n            displayMessage: 'Invalid Email Address',\n            debugMessage: 'Please enter a valid email address'\n        }\n    }\n};\n//# sourceMappingURL=ErrorUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9FcnJvclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQ2dCO0FBQzlEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDREQUFNLGdDQUFnQyxzR0FBc0csd0VBQWlCLGlCQUFpQjtBQUM1TixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLGFBQWE7QUFDL0YsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVFQUF1RSxlQUFlO0FBQ3RGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsVUFBVSxLQUFLLGFBQWE7QUFDL0ksU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11dGlscy9kaXN0L2VzbS9zcmMvRXJyb3JVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU2FmZSB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5jb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5leHBvcnQgY29uc3QgRXJyb3JVdGlsID0ge1xuICAgIEVtYmVkZGVkV2FsbGV0QWJvcnRDb250cm9sbGVyOiBhYm9ydENvbnRyb2xsZXIsXG4gICAgLyoqXG4gICAgICogVW5pdmVyc2FsIFByb3ZpZGVyIGVycm9ycy4gTWFrZSBzdXJlIHRoZSBgbWVzc2FnZWAgaXMgbWF0Y2hpbmcgd2l0aCB0aGUgZXJyb3JzIHRocm93biBieSB0aGUgVW5pdmVyc2FsIFByb3ZpZGVyLlxuICAgICAqIFdlIHVzZSB0aGUgYGFsZXJ0RXJyb3JLZXlgIHRvIG1hcCB0aGUgZXJyb3IgdG8gdGhlIGNvcnJlY3QgQXBwS2l0IGFsZXJ0IGVycm9yLlxuICAgICAqL1xuICAgIFVuaXZlcnNhbFByb3ZpZGVyRXJyb3JzOiB7XG4gICAgICAgIFVOQVVUSE9SSVpFRF9ET01BSU5fTk9UX0FMTE9XRUQ6IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQ6IG9yaWdpbiBub3QgYWxsb3dlZCcsXG4gICAgICAgICAgICBhbGVydEVycm9yS2V5OiAnT1JJR0lOX05PVF9BTExPV0VEJ1xuICAgICAgICB9LFxuICAgICAgICBKV1RfVkFMSURBVElPTl9FUlJPUjoge1xuICAgICAgICAgICAgbWVzc2FnZTogJ0pXVCB2YWxpZGF0aW9uIGVycm9yOiBKV1QgVG9rZW4gaXMgbm90IHlldCB2YWxpZCcsXG4gICAgICAgICAgICBhbGVydEVycm9yS2V5OiAnSldUX1RPS0VOX05PVF9WQUxJRCdcbiAgICAgICAgfSxcbiAgICAgICAgSU5WQUxJRF9LRVk6IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQ6IGludmFsaWQga2V5JyxcbiAgICAgICAgICAgIGFsZXJ0RXJyb3JLZXk6ICdJTlZBTElEX1BST0pFQ1RfSUQnXG4gICAgICAgIH1cbiAgICB9LFxuICAgIEFMRVJUX0VSUk9SUzoge1xuICAgICAgICBTV0lUQ0hfTkVUV09SS19OT1RfRk9VTkQ6IHtcbiAgICAgICAgICAgIGNvZGU6ICdBUEtUMDAxJyxcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiAnTmV0d29yayBOb3QgRm91bmQnLFxuICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAnVGhlIHNwZWNpZmllZCBuZXR3b3JrIGlzIG5vdCByZWNvZ25pemVkLiBQbGVhc2UgZW5zdXJlIGl0IGlzIGluY2x1ZGVkIGluIHRoZSBgbmV0d29ya3NgIGFycmF5IG9mIHlvdXIgYGNyZWF0ZUFwcEtpdGAgY29uZmlndXJhdGlvbi4nXG4gICAgICAgIH0sXG4gICAgICAgIE9SSUdJTl9OT1RfQUxMT1dFRDoge1xuICAgICAgICAgICAgY29kZTogJ0FQS1QwMDInLFxuICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2U6ICdJbnZhbGlkIEFwcCBDb25maWd1cmF0aW9uJyxcbiAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogKCkgPT4gYFRoZSBvcmlnaW4gJHtpc1NhZmUoKSA/IHdpbmRvdy5vcmlnaW4gOiAndW5rbm93bid9IGlzIG5vdCBpbiB5b3VyIGFsbG93IGxpc3QuIFBsZWFzZSB1cGRhdGUgeW91ciBhbGxvd2VkIGRvbWFpbnMgYXQgaHR0cHM6Ly9kYXNoYm9hcmQucmVvd24uY29tLiBbUElEOiAke09wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZH1dYFxuICAgICAgICB9LFxuICAgICAgICBJRlJBTUVfTE9BRF9GQUlMRUQ6IHtcbiAgICAgICAgICAgIGNvZGU6ICdBUEtUMDAzJyxcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiAnTmV0d29yayBFcnJvcjogV2FsbGV0IExvYWQgRmFpbGVkJyxcbiAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogKCkgPT4gJ0ZhaWxlZCB0byBsb2FkIHRoZSBlbWJlZGRlZCB3YWxsZXQuIFRoaXMgbWF5IGJlIGR1ZSB0byBuZXR3b3JrIGlzc3VlcyBvciBzZXJ2ZXIgZG93bnRpbWUuIFBsZWFzZSBjaGVjayB5b3VyIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluIHNob3J0bHkuIENvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgaXNzdWUgcGVyc2lzdHMuJ1xuICAgICAgICB9LFxuICAgICAgICBJRlJBTUVfUkVRVUVTVF9USU1FT1VUOiB7XG4gICAgICAgICAgICBjb2RlOiAnQVBLVDAwNCcsXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ1dhbGxldCBSZXF1ZXN0IFRpbWVvdXQnLFxuICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAoKSA9PiAnVGhlIHJlcXVlc3QgdG8gdGhlIGVtYmVkZGVkIHdhbGxldCB0aW1lZCBvdXQuIFBsZWFzZSBjaGVjayB5b3VyIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluIHNob3J0bHkuIENvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgaXNzdWUgcGVyc2lzdHMuJ1xuICAgICAgICB9LFxuICAgICAgICBVTlZFUklGSUVEX0RPTUFJTjoge1xuICAgICAgICAgICAgY29kZTogJ0FQS1QwMDUnLFxuICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2U6ICdVbnZlcmlmaWVkIERvbWFpbicsXG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICgpID0+ICdFbWJlZGRlZCB3YWxsZXQgbG9hZCBmYWlsZWQuIEVuc3VyZSB5b3VyIGRvbWFpbiBpcyB2ZXJpZmllZCBpbiBodHRwczovL2Rhc2hib2FyZC5yZW93bi5jb20uJ1xuICAgICAgICB9LFxuICAgICAgICBKV1RfVE9LRU5fTk9UX1ZBTElEOiB7XG4gICAgICAgICAgICBjb2RlOiAnQVBLVDAwNicsXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ1Nlc3Npb24gRXhwaXJlZCcsXG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICdZb3VyIHNlc3Npb24gaXMgaW52YWxpZCBvciBleHBpcmVkLiBQbGVhc2UgY2hlY2sgeW91ciBzeXN0ZW3igJlzIGRhdGUgYW5kIHRpbWUgc2V0dGluZ3MsIHRoZW4gcmVjb25uZWN0LidcbiAgICAgICAgfSxcbiAgICAgICAgSU5WQUxJRF9QUk9KRUNUX0lEOiB7XG4gICAgICAgICAgICBjb2RlOiAnQVBLVDAwNycsXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ0ludmFsaWQgUHJvamVjdCBJRCcsXG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICdUaGUgc3BlY2lmaWVkIHByb2plY3QgSUQgaXMgaW52YWxpZC4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZGFzaGJvYXJkLnJlb3duLmNvbSB0byBvYnRhaW4gYSB2YWxpZCBwcm9qZWN0IElELidcbiAgICAgICAgfSxcbiAgICAgICAgUFJPSkVDVF9JRF9OT1RfQ09ORklHVVJFRDoge1xuICAgICAgICAgICAgY29kZTogJ0FQS1QwMDgnLFxuICAgICAgICAgICAgZGlzcGxheU1lc3NhZ2U6ICdQcm9qZWN0IElEIE1pc3NpbmcnLFxuICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAnTm8gcHJvamVjdCBJRCBpcyBjb25maWd1cmVkLiBZb3UgY2FuIGNyZWF0ZSBhbmQgY29uZmlndXJlIGEgcHJvamVjdCBJRCBhdCBodHRwczovL2Rhc2hib2FyZC5yZW93bi5jb20uJ1xuICAgICAgICB9LFxuICAgICAgICBTRVJWRVJfRVJST1JfQVBQX0NPTkZJR1VSQVRJT046IHtcbiAgICAgICAgICAgIGNvZGU6ICdBUEtUMDA5JyxcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiAnU2VydmVyIEVycm9yJyxcbiAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogKGVycm9yTWVzc2FnZSkgPT4gYFVuYWJsZSB0byBmZXRjaCBBcHAgQ29uZmlndXJhdGlvbi4gJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgY2hlY2sgeW91ciBuZXR3b3JrIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2FpbiBzaG9ydGx5LiBDb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzLmBcbiAgICAgICAgfSxcbiAgICAgICAgUkFURV9MSU1JVEVEX0FQUF9DT05GSUdVUkFUSU9OOiB7XG4gICAgICAgICAgICBjb2RlOiAnQVBLVDAxMCcsXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ1JhdGUgTGltaXRlZCcsXG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICdZb3UgaGF2ZSBiZWVuIHJhdGUgbGltaXRlZCB3aGlsZSByZXRyaWV2aW5nIEFwcCBDb25maWd1cmF0aW9uLiBQbGVhc2Ugd2FpdCBhIGZldyBtaW51dGVzIGFuZCB0cnkgYWdhaW4uIENvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgaXNzdWUgcGVyc2lzdHMuJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBBTEVSVF9XQVJOSU5HUzoge1xuICAgICAgICBMT0NBTF9DT05GSUdVUkFUSU9OX0lHTk9SRUQ6IHtcbiAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogKHdhcm5pbmdNZXNzYWdlKSA9PiBgW1Jlb3duIENvbmZpZyBOb3RpY2VdICR7d2FybmluZ01lc3NhZ2V9YFxuICAgICAgICB9LFxuICAgICAgICBJTkFDVElWRV9OQU1FU1BBQ0VfTk9UX0NPTk5FQ1RFRDoge1xuICAgICAgICAgICAgY29kZTogJ0FQS1RXMDAxJyxcbiAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiAnSW5hY3RpdmUgTmFtZXNwYWNlIE5vdCBDb25uZWN0ZWQnLFxuICAgICAgICAgICAgZGVidWdNZXNzYWdlOiAobmFtZXNwYWNlLCBlcnJvck1lc3NhZ2UpID0+IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb25uZWN0aW5nIGFuIGluYWN0aXZlIG5hbWVzcGFjZSAke25hbWVzcGFjZX06IFwiJHtlcnJvck1lc3NhZ2V9XCJgXG4gICAgICAgIH0sXG4gICAgICAgIElOVkFMSURfRU1BSUw6IHtcbiAgICAgICAgICAgIGNvZGU6ICdBUEtUVzAwMicsXG4gICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ0ludmFsaWQgRW1haWwgQWRkcmVzcycsXG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJ1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVycm9yVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ErrorUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HelpersUtil: () => (/* binding */ HelpersUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js\");\n\n\n\nconst HelpersUtil = {\n    getCaipTokens(tokens) {\n        if (!tokens) {\n            return undefined;\n        }\n        const caipTokens = {};\n        Object.entries(tokens).forEach(([id, token]) => {\n            caipTokens[`${_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.EIP155}:${id}`] = token;\n        });\n        return caipTokens;\n    },\n    isLowerCaseMatch(str1, str2) {\n        return str1?.toLowerCase() === str2?.toLowerCase();\n    },\n    /**\n     * Iterates the Auth connector supported chains and returns the namespace that is last connected to the active chain.\n     * @returns ChainNamespace | undefined\n     */\n    getActiveNamespaceConnectedToAuth() {\n        const activeChain = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeChain;\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(chain => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getConnectorId(chain) === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH &&\n            chain === activeChain);\n    },\n    /**\n     * Runs a condition function again and again until it returns true or the max number of tries is reached.\n     *\n     * @param conditionFn - A function (can be async) that returns true when the condition is met.\n     * @param intervalMs - Time to wait between tries, in milliseconds.\n     * @param maxRetries - Maximum number of times to try before stopping.\n     * @returns A Promise that resolves to true if the condition becomes true in time, or false if it doesn't.\n     */\n    withRetry({ conditionFn, intervalMs, maxRetries }) {\n        let attempts = 0;\n        return new Promise(resolve => {\n            async function tryCheck() {\n                attempts += 1;\n                const result = await conditionFn();\n                if (result) {\n                    return resolve(true);\n                }\n                if (attempts >= maxRetries) {\n                    return resolve(false);\n                }\n                setTimeout(tryCheck, intervalMs);\n                return null;\n            }\n            tryCheck();\n        });\n    },\n    /**\n     * Returns the chain namespace from user's chainId which is returned from Auth provider.\n     * @param chainId - The chainId to parse.\n     * @returns The chain namespace.\n     */\n    userChainIdToChainNamespace(chainId) {\n        if (typeof chainId === 'number') {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN.EVM;\n        }\n        const [namespace] = chainId.split(':');\n        return namespace;\n    },\n    /**\n     * Get all auth namespaces except the active one\n     * @param activeNamespace - The active namespace\n     * @returns All auth namespaces except the active one\n     */\n    getOtherAuthNamespaces(activeNamespace) {\n        if (!activeNamespace) {\n            return [];\n        }\n        const authNamespaces = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS;\n        const otherAuthNamespaces = authNamespaces.filter(ns => ns !== activeNamespace);\n        return otherAuthNamespaces;\n    },\n    /**\n     * Gets the storage info for a connector\n     * @param connectorId - The ID of the connector\n     * @param namespace - The namespace of the connector\n     * @returns\n     */\n    getConnectorStorageInfo(connectorId, namespace) {\n        const storageConnectionsByNamespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getConnections();\n        const storageConnections = storageConnectionsByNamespace[namespace] ?? [];\n        return {\n            hasDisconnected: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.isConnectorDisconnected(connectorId, namespace),\n            hasConnected: storageConnections.some(c => HelpersUtil.isLowerCaseMatch(c.connectorId, connectorId))\n        };\n    }\n};\n//# sourceMappingURL=HelpersUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9IZWxwZXJzVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEU7QUFDa0I7QUFDM0M7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQWEsUUFBUSxHQUFHLEdBQUc7QUFDckQsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzRUFBZTtBQUMzQyxlQUFlLCtEQUFtQiwrQ0FBK0MsMEVBQW1CLDJCQUEyQiwrREFBbUI7QUFDbEo7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQ0FBcUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBbUI7QUFDbEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxrRUFBVztBQUN6RDtBQUNBO0FBQ0EsNkJBQTZCLGtFQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11dGlscy9kaXN0L2VzbS9zcmMvSGVscGVyc1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyLCBDb25uZWN0b3JDb250cm9sbGVyLCBTdG9yYWdlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4vQ29uc3RhbnRzVXRpbC5qcyc7XG5leHBvcnQgY29uc3QgSGVscGVyc1V0aWwgPSB7XG4gICAgZ2V0Q2FpcFRva2Vucyh0b2tlbnMpIHtcbiAgICAgICAgaWYgKCF0b2tlbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcFRva2VucyA9IHt9O1xuICAgICAgICBPYmplY3QuZW50cmllcyh0b2tlbnMpLmZvckVhY2goKFtpZCwgdG9rZW5dKSA9PiB7XG4gICAgICAgICAgICBjYWlwVG9rZW5zW2Ake0NvbnN0YW50c1V0aWwuRUlQMTU1fToke2lkfWBdID0gdG9rZW47XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FpcFRva2VucztcbiAgICB9LFxuICAgIGlzTG93ZXJDYXNlTWF0Y2goc3RyMSwgc3RyMikge1xuICAgICAgICByZXR1cm4gc3RyMT8udG9Mb3dlckNhc2UoKSA9PT0gc3RyMj8udG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRoZSBBdXRoIGNvbm5lY3RvciBzdXBwb3J0ZWQgY2hhaW5zIGFuZCByZXR1cm5zIHRoZSBuYW1lc3BhY2UgdGhhdCBpcyBsYXN0IGNvbm5lY3RlZCB0byB0aGUgYWN0aXZlIGNoYWluLlxuICAgICAqIEByZXR1cm5zIENoYWluTmFtZXNwYWNlIHwgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZ2V0QWN0aXZlTmFtZXNwYWNlQ29ubmVjdGVkVG9BdXRoKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50c1V0aWwuQVVUSF9DT05ORUNUT1JfU1VQUE9SVEVEX0NIQUlOUy5maW5kKGNoYWluID0+IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQoY2hhaW4pID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIICYmXG4gICAgICAgICAgICBjaGFpbiA9PT0gYWN0aXZlQ2hhaW4pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUnVucyBhIGNvbmRpdGlvbiBmdW5jdGlvbiBhZ2FpbiBhbmQgYWdhaW4gdW50aWwgaXQgcmV0dXJucyB0cnVlIG9yIHRoZSBtYXggbnVtYmVyIG9mIHRyaWVzIGlzIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uRm4gLSBBIGZ1bmN0aW9uIChjYW4gYmUgYXN5bmMpIHRoYXQgcmV0dXJucyB0cnVlIHdoZW4gdGhlIGNvbmRpdGlvbiBpcyBtZXQuXG4gICAgICogQHBhcmFtIGludGVydmFsTXMgLSBUaW1lIHRvIHdhaXQgYmV0d2VlbiB0cmllcywgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAqIEBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdHJ5IGJlZm9yZSBzdG9wcGluZy5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSBjb25kaXRpb24gYmVjb21lcyB0cnVlIGluIHRpbWUsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QuXG4gICAgICovXG4gICAgd2l0aFJldHJ5KHsgY29uZGl0aW9uRm4sIGludGVydmFsTXMsIG1heFJldHJpZXMgfSkge1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBhc3luYyBmdW5jdGlvbiB0cnlDaGVjaygpIHtcbiAgICAgICAgICAgICAgICBhdHRlbXB0cyArPSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbmRpdGlvbkZuKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRyeUNoZWNrLCBpbnRlcnZhbE1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeUNoZWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hhaW4gbmFtZXNwYWNlIGZyb20gdXNlcidzIGNoYWluSWQgd2hpY2ggaXMgcmV0dXJuZWQgZnJvbSBBdXRoIHByb3ZpZGVyLlxuICAgICAqIEBwYXJhbSBjaGFpbklkIC0gVGhlIGNoYWluSWQgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMgVGhlIGNoYWluIG5hbWVzcGFjZS5cbiAgICAgKi9cbiAgICB1c2VyQ2hhaW5JZFRvQ2hhaW5OYW1lc3BhY2UoY2hhaW5JZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNoYWluSWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW25hbWVzcGFjZV0gPSBjaGFpbklkLnNwbGl0KCc6Jyk7XG4gICAgICAgIHJldHVybiBuYW1lc3BhY2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGF1dGggbmFtZXNwYWNlcyBleGNlcHQgdGhlIGFjdGl2ZSBvbmVcbiAgICAgKiBAcGFyYW0gYWN0aXZlTmFtZXNwYWNlIC0gVGhlIGFjdGl2ZSBuYW1lc3BhY2VcbiAgICAgKiBAcmV0dXJucyBBbGwgYXV0aCBuYW1lc3BhY2VzIGV4Y2VwdCB0aGUgYWN0aXZlIG9uZVxuICAgICAqL1xuICAgIGdldE90aGVyQXV0aE5hbWVzcGFjZXMoYWN0aXZlTmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghYWN0aXZlTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aE5hbWVzcGFjZXMgPSBDb21tb25Db25zdGFudHNVdGlsLkFVVEhfQ09OTkVDVE9SX1NVUFBPUlRFRF9DSEFJTlM7XG4gICAgICAgIGNvbnN0IG90aGVyQXV0aE5hbWVzcGFjZXMgPSBhdXRoTmFtZXNwYWNlcy5maWx0ZXIobnMgPT4gbnMgIT09IGFjdGl2ZU5hbWVzcGFjZSk7XG4gICAgICAgIHJldHVybiBvdGhlckF1dGhOYW1lc3BhY2VzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RvcmFnZSBpbmZvIGZvciBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yU3RvcmFnZUluZm8oY29ubmVjdG9ySWQsIG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBzdG9yYWdlQ29ubmVjdGlvbnNCeU5hbWVzcGFjZSA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb25uZWN0aW9ucyA9IHN0b3JhZ2VDb25uZWN0aW9uc0J5TmFtZXNwYWNlW25hbWVzcGFjZV0gPz8gW107XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNEaXNjb25uZWN0ZWQ6IFN0b3JhZ2VVdGlsLmlzQ29ubmVjdG9yRGlzY29ubmVjdGVkKGNvbm5lY3RvcklkLCBuYW1lc3BhY2UpLFxuICAgICAgICAgICAgaGFzQ29ubmVjdGVkOiBzdG9yYWdlQ29ubmVjdGlvbnMuc29tZShjID0+IEhlbHBlcnNVdGlsLmlzTG93ZXJDYXNlTWF0Y2goYy5jb25uZWN0b3JJZCwgY29ubmVjdG9ySWQpKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWxwZXJzVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/LoggerUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/LoggerUtil.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LoggerUtil: () => (/* binding */ LoggerUtil)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n\nconst LoggerUtil = {\n    createLogger(onError, level = 'error') {\n        const loggerOptions = (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({\n            level\n        });\n        const { logger } = (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generatePlatformLogger)({\n            opts: loggerOptions\n        });\n        logger.error = (...args) => {\n            for (const arg of args) {\n                if (arg instanceof Error) {\n                    onError(arg, ...args);\n                    return;\n                }\n            }\n            onError(undefined, ...args);\n        };\n        return logger;\n    }\n};\n//# sourceMappingURL=LoggerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9Mb2dnZXJVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdGO0FBQ2pGO0FBQ1A7QUFDQSw4QkFBOEIsOEVBQXVCO0FBQ3JEO0FBQ0EsU0FBUztBQUNULGdCQUFnQixTQUFTLEVBQUUsNkVBQXNCO0FBQ2pEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdXRpbHMvZGlzdC9lc20vc3JjL0xvZ2dlclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciwgZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgfSBmcm9tICdAd2FsbGV0Y29ubmVjdC9sb2dnZXInO1xuZXhwb3J0IGNvbnN0IExvZ2dlclV0aWwgPSB7XG4gICAgY3JlYXRlTG9nZ2VyKG9uRXJyb3IsIGxldmVsID0gJ2Vycm9yJykge1xuICAgICAgICBjb25zdCBsb2dnZXJPcHRpb25zID0gZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMoe1xuICAgICAgICAgICAgbGV2ZWxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyKHtcbiAgICAgICAgICAgIG9wdHM6IGxvZ2dlck9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIGxvZ2dlci5lcnJvciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFyZyBvZiBhcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoYXJnLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uRXJyb3IodW5kZWZpbmVkLCAuLi5hcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TG9nZ2VyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/LoggerUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/PresetsUtil.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/PresetsUtil.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PresetsUtil: () => (/* binding */ PresetsUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js\");\n\n\nconst PresetsUtil = {\n    ConnectorExplorerIds: {\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE]: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.SAFE]: '225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.LEDGER]: '19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.OKX]: '971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709',\n        /* Connector names */\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.METMASK_CONNECTOR_NAME]: 'c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.TRUST_CONNECTOR_NAME]: '4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.SOLFLARE_CONNECTOR_NAME]: '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.PHANTOM_CONNECTOR_NAME]: 'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.COIN98_CONNECTOR_NAME]: '2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.MAGIC_EDEN_CONNECTOR_NAME]: '8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.BACKPACK_CONNECTOR_NAME]: '2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.BITGET_CONNECTOR_NAME]: '38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.FRONTIER_CONNECTOR_NAME]: '85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.XVERSE_CONNECTOR_NAME]: '2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.LEATHER_CONNECTOR_NAME]: '483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.OKX_CONNECTOR_NAME]: '971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709'\n    },\n    NetworkImageIds: {\n        // Ethereum\n        1: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',\n        // Arbitrum\n        42161: '3bff954d-5cb0-47a0-9a23-d20192e74600',\n        // Avalanche\n        43114: '30c46e53-e989-45fb-4549-be3bd4eb3b00',\n        // Binance Smart Chain\n        56: '93564157-2e8e-4ce7-81df-b264dbee9b00',\n        // Fantom\n        250: '06b26297-fe0c-4733-5d6b-ffa5498aac00',\n        // Optimism\n        10: 'ab9c186a-c52f-464b-2906-ca59d760a400',\n        // Polygon\n        137: '41d04d42-da3b-4453-8506-668cc0727900',\n        // Mantle\n        5000: 'e86fae9b-b770-4eea-e520-150e12c81100',\n        // Hedera Mainnet\n        295: '6a97d510-cac8-4e58-c7ce-e8681b044c00',\n        // Sepolia\n        11_155_111: 'e909ea0a-f92a-4512-c8fc-748044ea6800',\n        // Base Sepolia\n        84532: 'a18a7ecd-e307-4360-4746-283182228e00',\n        // Unichain Sepolia\n        1301: '4eeea7ef-0014-4649-5d1d-07271a80f600',\n        // Unichain Mainnet\n        130: '2257980a-3463-48c6-cbac-a42d2a956e00',\n        // Monad Testnet\n        10_143: '0a728e83-bacb-46db-7844-948f05434900',\n        // Gnosis\n        100: '02b53f6a-e3d4-479e-1cb4-21178987d100',\n        // EVMos\n        9001: 'f926ff41-260d-4028-635e-91913fc28e00',\n        // ZkSync\n        324: 'b310f07f-4ef7-49f3-7073-2a0a39685800',\n        // Filecoin\n        314: '5a73b3dd-af74-424e-cae0-0de859ee9400',\n        // Iotx\n        4689: '34e68754-e536-40da-c153-6ef2e7188a00',\n        // Metis,\n        1088: '3897a66d-40b9-4833-162f-a2c90531c900',\n        // Moonbeam\n        1284: '161038da-44ae-4ec7-1208-0ea569454b00',\n        // Moonriver\n        1285: 'f1d73bb6-5450-4e18-38f7-fb6484264a00',\n        // Zora\n        7777777: '845c60df-d429-4991-e687-91ae45791600',\n        // Celo\n        42220: 'ab781bbc-ccc6-418d-d32d-789b15da1f00',\n        // Base\n        8453: '7289c336-3981-4081-c5f4-efc26ac64a00',\n        // Aurora\n        1313161554: '3ff73439-a619-4894-9262-4470c773a100',\n        // Ronin Mainnet\n        2020: 'b8101fc0-9c19-4b6f-ec65-f6dfff106e00',\n        // Saigon Testnet (a.k.a. Ronin)\n        2021: 'b8101fc0-9c19-4b6f-ec65-f6dfff106e00',\n        // Berachain Mainnet\n        80094: 'e329c2c9-59b0-4a02-83e4-212ff3779900',\n        // Abstract Mainnet\n        2741: 'fc2427d1-5af9-4a9c-8da5-6f94627cd900',\n        // Solana networks\n        '5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp': 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n        '4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z': 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n        EtWTRABZaYq6iMfeYKouRu166VU2xqa1: 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n        // Bitcoin\n        '000000000019d6689c085ae165831e93': '0b4838db-0161-4ffe-022d-532bf03dba00',\n        // Bitcoin Testnet\n        '000000000933ea01ad0ee984209779ba': '39354064-d79b-420b-065d-f980c4b78200',\n        // Bitcoin Signet\n        '00000008819873e925422c1ff0f99f7c': 'b3406e4a-bbfc-44fb-e3a6-89673c78b700'\n    },\n    ConnectorImageIds: {\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE]: '0c2840c3-5b04-4c44-9661-fbd4b49e1800',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]: '0c2840c3-5b04-4c44-9661-fbd4b49e1800',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.SAFE]: '461db637-8616-43ce-035a-d89b8a1d5800',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.LEDGER]: '54a1aa77-d202-4f8d-0fb2-5d2bb6db0300',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]: 'ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.INJECTED]: '07ba87ed-43aa-4adf-4540-9e6a2b9cae00'\n    },\n    ConnectorNamesMap: {\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.INJECTED]: 'Browser Wallet',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]: 'WalletConnect',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE]: 'Coinbase',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]: 'Coinbase',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.LEDGER]: 'Ledger',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.SAFE]: 'Safe'\n    },\n    ConnectorTypesMap: {\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.INJECTED]: 'INJECTED',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]: 'WALLET_CONNECT',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.EIP6963]: 'ANNOUNCED',\n        [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.AUTH]: 'AUTH',\n        [_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_TYPE_AUTH]: 'AUTH'\n    },\n    WalletConnectRpcChainIds: [\n        // Ethereum\n        1,\n        // Ethereum Goerli\n        5,\n        // Ethereum Sepolia\n        11155111,\n        // Optimism\n        10,\n        // Optimism Goerli\n        420,\n        // Arbitrum\n        42161,\n        // Arbitrum Goerli\n        421613,\n        // Polygon\n        137,\n        // Polygon Mumbai\n        80001,\n        // Celo Mainnet\n        42220,\n        // Aurora\n        1313161554,\n        // Aurora Testnet\n        1313161555,\n        // Binance Smart Chain\n        56,\n        // Binance Smart Chain Testnet\n        97,\n        // Avalanche C-Chain\n        43114,\n        // Avalanche Fuji Testnet\n        43113,\n        // Gnosis Chain\n        100,\n        // Base\n        8453,\n        // Base Goerli\n        84531,\n        // Zora\n        7777777,\n        // Zora Goerli\n        999,\n        // ZkSync Era Mainnet\n        324,\n        // ZkSync Era Testnet\n        280\n    ]\n};\n//# sourceMappingURL=PresetsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9QcmVzZXRzVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEU7QUFDekI7QUFDNUM7QUFDUDtBQUNBLFNBQVMsK0RBQW1CO0FBQzVCLFNBQVMsK0RBQW1CO0FBQzVCLFNBQVMsK0RBQW1CO0FBQzVCLFNBQVMsK0RBQW1CO0FBQzVCLFNBQVMsK0RBQW1CO0FBQzVCO0FBQ0EsU0FBUyw0REFBYTtBQUN0QixTQUFTLDREQUFhO0FBQ3RCLFNBQVMsNERBQWE7QUFDdEIsU0FBUyw0REFBYTtBQUN0QixTQUFTLDREQUFhO0FBQ3RCLFNBQVMsNERBQWE7QUFDdEIsU0FBUyw0REFBYTtBQUN0QixTQUFTLDREQUFhO0FBQ3RCLFNBQVMsNERBQWE7QUFDdEIsU0FBUyw0REFBYTtBQUN0QixTQUFTLDREQUFhO0FBQ3RCLFNBQVMsNERBQWE7QUFDdEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixLQUFLO0FBQ0w7QUFDQSxTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixLQUFLO0FBQ0w7QUFDQSxTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLCtEQUFtQjtBQUM1QixTQUFTLDREQUFhO0FBQ3RCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdXRpbHMvZGlzdC9lc20vc3JjL1ByZXNldHNVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuZXhwb3J0IGNvbnN0IFByZXNldHNVdGlsID0ge1xuICAgIENvbm5lY3RvckV4cGxvcmVySWRzOiB7XG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV06ICdmZDIwZGM0MjZmYjM3NTY2ZDgwMzIwNWIxOWJiYzFkNDA5NmIyNDhhYzA0NTQ4ZTNjZmI2YjNhMzhiZDAzM2FhJyxcbiAgICAgICAgW0NvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkNPSU5CQVNFX1NES106ICdmZDIwZGM0MjZmYjM3NTY2ZDgwMzIwNWIxOWJiYzFkNDA5NmIyNDhhYzA0NTQ4ZTNjZmI2YjNhMzhiZDAzM2FhJyxcbiAgICAgICAgW0NvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELlNBRkVdOiAnMjI1YWZmYjE3Njc3ODU2OTI3NmU0ODRlMWI5MjYzN2FkMDYxYjAxZTEzYTA0OGIzNWE5ZDI4MGMzYjU4OTcwZicsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5MRURHRVJdOiAnMTkxNzdhOTgyNTJlMDdkZGZjOWFmMjA4M2JhOGUwN2VmNjI3Y2I2MTAzNDY3ZmZlYmIzZjhmNDIwNWZkNzkyNycsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5PS1hdOiAnOTcxZTY4OWQwYTViZTUyN2JhYzc5NjI5YjRlZTliOTI1ZTgyMjA4ZTUxNjhiNzMzNDk2YTA5YzBmYWVkMDcwOScsXG4gICAgICAgIC8qIENvbm5lY3RvciBuYW1lcyAqL1xuICAgICAgICBbQ29uc3RhbnRzVXRpbC5NRVRNQVNLX0NPTk5FQ1RPUl9OQU1FXTogJ2M1N2NhOTViNDc1Njk3NzhhODI4ZDE5MTc4MTE0ZjRkYjE4OGI4OWI3NjNjODk5YmEwYmUyNzRlOTcyNjdkOTYnLFxuICAgICAgICBbQ29uc3RhbnRzVXRpbC5UUlVTVF9DT05ORUNUT1JfTkFNRV06ICc0NjIyYTJiMmQ2YWYxYzk4NDQ5NDQyOTFlNWU3MzUxYTZhYTI0Y2Q3YjIzMDk5ZWZhYzFiMmZkODc1ZGEzMWEwJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuU09MRkxBUkVfQ09OTkVDVE9SX05BTUVdOiAnMWNhMGJkZDQ3NDc1Nzg3MDViMTkzOWFmMDIzZDEyMDY3N2M2NGZlNmNhNzZhZGQ4MWZkYTM2ZTM1MDYwNWU3OScsXG4gICAgICAgIFtDb25zdGFudHNVdGlsLlBIQU5UT01fQ09OTkVDVE9SX05BTUVdOiAnYTc5N2FhMzVjMGZhZGJmYzFhNTNlN2Y2NzUxNjJlZDUyMjY5NjhiNDRhMTllZTNkMjQzODVjNjRkMWQzYzM5MycsXG4gICAgICAgIFtDb25zdGFudHNVdGlsLkNPSU45OF9DT05ORUNUT1JfTkFNRV06ICcyYTNjODkwNDBhYzNiNzIzYTE5NzJhMzNhMTI1YjFkYjExZTI1OGE2OTc1ZDNhNjEyNTJjZDY0ZTZlYTVlYTAxJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuTUFHSUNfRURFTl9DT05ORUNUT1JfTkFNRV06ICc4YjgzMGEyYjcyNGE5YzNmYmFiNjNhZjZmNTVlZDI5YzlkZmE4YTU1ZTczMmRjODhjODBhMTk2YTJiYTEzNmM2JyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuQkFDS1BBQ0tfQ09OTkVDVE9SX05BTUVdOiAnMmJkOGMxNGUwMzVjMmQ0OGYxODRhYWExNjg1NTllODZiMGUzNDMzMjI4ZDNjNDA3NTkwMGEyMjE3ODUwMTliMCcsXG4gICAgICAgIFtDb25zdGFudHNVdGlsLkJJVEdFVF9DT05ORUNUT1JfTkFNRV06ICczOGY1ZDE4YmQ4NTIyYzI0NGJkZDcwY2I0YTY4ZTBlNzE4ODY1MTU1ODExYzA0M2YwNTJmYjlmMWM1MWRlNjYyJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuRlJPTlRJRVJfQ09OTkVDVE9SX05BTUVdOiAnODVkYjQzMTQ5MmFhMmU4NjcyZTkzZjRlYTdhY2YxMGM4OGI5N2I4NjdiMGQzNzMxMDdhZjYzZGM0ODgwZjA0MScsXG4gICAgICAgIFtDb25zdGFudHNVdGlsLlhWRVJTRV9DT05ORUNUT1JfTkFNRV06ICcyYTg3ZDc0YWUwMmUxMGJkZDFmNTFmN2NlNmM0ZTFjYzUzY2Q1ZjJjMGI2YjVhZDBkN2IzMDA3ZDJiMTNkZTdiJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuTEVBVEhFUl9DT05ORUNUT1JfTkFNRV06ICc0ODNhZmUxZGYxZGY2M2RhZjMxMzEwOTk3MWZmM2VmODM1NmRkZjFjYzRlNDU4NzdkMjA1ZWVlMGI3ODkzYTEzJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuT0tYX0NPTk5FQ1RPUl9OQU1FXTogJzk3MWU2ODlkMGE1YmU1MjdiYWM3OTYyOWI0ZWU5YjkyNWU4MjIwOGU1MTY4YjczMzQ5NmEwOWMwZmFlZDA3MDknXG4gICAgfSxcbiAgICBOZXR3b3JrSW1hZ2VJZHM6IHtcbiAgICAgICAgLy8gRXRoZXJldW1cbiAgICAgICAgMTogJ2JhMGJhMGNkLTE3YzYtNDgwNi1hZDkzLWY5ZDE3NGYxNzkwMCcsXG4gICAgICAgIC8vIEFyYml0cnVtXG4gICAgICAgIDQyMTYxOiAnM2JmZjk1NGQtNWNiMC00N2EwLTlhMjMtZDIwMTkyZTc0NjAwJyxcbiAgICAgICAgLy8gQXZhbGFuY2hlXG4gICAgICAgIDQzMTE0OiAnMzBjNDZlNTMtZTk4OS00NWZiLTQ1NDktYmUzYmQ0ZWIzYjAwJyxcbiAgICAgICAgLy8gQmluYW5jZSBTbWFydCBDaGFpblxuICAgICAgICA1NjogJzkzNTY0MTU3LTJlOGUtNGNlNy04MWRmLWIyNjRkYmVlOWIwMCcsXG4gICAgICAgIC8vIEZhbnRvbVxuICAgICAgICAyNTA6ICcwNmIyNjI5Ny1mZTBjLTQ3MzMtNWQ2Yi1mZmE1NDk4YWFjMDAnLFxuICAgICAgICAvLyBPcHRpbWlzbVxuICAgICAgICAxMDogJ2FiOWMxODZhLWM1MmYtNDY0Yi0yOTA2LWNhNTlkNzYwYTQwMCcsXG4gICAgICAgIC8vIFBvbHlnb25cbiAgICAgICAgMTM3OiAnNDFkMDRkNDItZGEzYi00NDUzLTg1MDYtNjY4Y2MwNzI3OTAwJyxcbiAgICAgICAgLy8gTWFudGxlXG4gICAgICAgIDUwMDA6ICdlODZmYWU5Yi1iNzcwLTRlZWEtZTUyMC0xNTBlMTJjODExMDAnLFxuICAgICAgICAvLyBIZWRlcmEgTWFpbm5ldFxuICAgICAgICAyOTU6ICc2YTk3ZDUxMC1jYWM4LTRlNTgtYzdjZS1lODY4MWIwNDRjMDAnLFxuICAgICAgICAvLyBTZXBvbGlhXG4gICAgICAgIDExXzE1NV8xMTE6ICdlOTA5ZWEwYS1mOTJhLTQ1MTItYzhmYy03NDgwNDRlYTY4MDAnLFxuICAgICAgICAvLyBCYXNlIFNlcG9saWFcbiAgICAgICAgODQ1MzI6ICdhMThhN2VjZC1lMzA3LTQzNjAtNDc0Ni0yODMxODIyMjhlMDAnLFxuICAgICAgICAvLyBVbmljaGFpbiBTZXBvbGlhXG4gICAgICAgIDEzMDE6ICc0ZWVlYTdlZi0wMDE0LTQ2NDktNWQxZC0wNzI3MWE4MGY2MDAnLFxuICAgICAgICAvLyBVbmljaGFpbiBNYWlubmV0XG4gICAgICAgIDEzMDogJzIyNTc5ODBhLTM0NjMtNDhjNi1jYmFjLWE0MmQyYTk1NmUwMCcsXG4gICAgICAgIC8vIE1vbmFkIFRlc3RuZXRcbiAgICAgICAgMTBfMTQzOiAnMGE3MjhlODMtYmFjYi00NmRiLTc4NDQtOTQ4ZjA1NDM0OTAwJyxcbiAgICAgICAgLy8gR25vc2lzXG4gICAgICAgIDEwMDogJzAyYjUzZjZhLWUzZDQtNDc5ZS0xY2I0LTIxMTc4OTg3ZDEwMCcsXG4gICAgICAgIC8vIEVWTW9zXG4gICAgICAgIDkwMDE6ICdmOTI2ZmY0MS0yNjBkLTQwMjgtNjM1ZS05MTkxM2ZjMjhlMDAnLFxuICAgICAgICAvLyBaa1N5bmNcbiAgICAgICAgMzI0OiAnYjMxMGYwN2YtNGVmNy00OWYzLTcwNzMtMmEwYTM5Njg1ODAwJyxcbiAgICAgICAgLy8gRmlsZWNvaW5cbiAgICAgICAgMzE0OiAnNWE3M2IzZGQtYWY3NC00MjRlLWNhZTAtMGRlODU5ZWU5NDAwJyxcbiAgICAgICAgLy8gSW90eFxuICAgICAgICA0Njg5OiAnMzRlNjg3NTQtZTUzNi00MGRhLWMxNTMtNmVmMmU3MTg4YTAwJyxcbiAgICAgICAgLy8gTWV0aXMsXG4gICAgICAgIDEwODg6ICczODk3YTY2ZC00MGI5LTQ4MzMtMTYyZi1hMmM5MDUzMWM5MDAnLFxuICAgICAgICAvLyBNb29uYmVhbVxuICAgICAgICAxMjg0OiAnMTYxMDM4ZGEtNDRhZS00ZWM3LTEyMDgtMGVhNTY5NDU0YjAwJyxcbiAgICAgICAgLy8gTW9vbnJpdmVyXG4gICAgICAgIDEyODU6ICdmMWQ3M2JiNi01NDUwLTRlMTgtMzhmNy1mYjY0ODQyNjRhMDAnLFxuICAgICAgICAvLyBab3JhXG4gICAgICAgIDc3Nzc3Nzc6ICc4NDVjNjBkZi1kNDI5LTQ5OTEtZTY4Ny05MWFlNDU3OTE2MDAnLFxuICAgICAgICAvLyBDZWxvXG4gICAgICAgIDQyMjIwOiAnYWI3ODFiYmMtY2NjNi00MThkLWQzMmQtNzg5YjE1ZGExZjAwJyxcbiAgICAgICAgLy8gQmFzZVxuICAgICAgICA4NDUzOiAnNzI4OWMzMzYtMzk4MS00MDgxLWM1ZjQtZWZjMjZhYzY0YTAwJyxcbiAgICAgICAgLy8gQXVyb3JhXG4gICAgICAgIDEzMTMxNjE1NTQ6ICczZmY3MzQzOS1hNjE5LTQ4OTQtOTI2Mi00NDcwYzc3M2ExMDAnLFxuICAgICAgICAvLyBSb25pbiBNYWlubmV0XG4gICAgICAgIDIwMjA6ICdiODEwMWZjMC05YzE5LTRiNmYtZWM2NS1mNmRmZmYxMDZlMDAnLFxuICAgICAgICAvLyBTYWlnb24gVGVzdG5ldCAoYS5rLmEuIFJvbmluKVxuICAgICAgICAyMDIxOiAnYjgxMDFmYzAtOWMxOS00YjZmLWVjNjUtZjZkZmZmMTA2ZTAwJyxcbiAgICAgICAgLy8gQmVyYWNoYWluIE1haW5uZXRcbiAgICAgICAgODAwOTQ6ICdlMzI5YzJjOS01OWIwLTRhMDItODNlNC0yMTJmZjM3Nzk5MDAnLFxuICAgICAgICAvLyBBYnN0cmFjdCBNYWlubmV0XG4gICAgICAgIDI3NDE6ICdmYzI0MjdkMS01YWY5LTRhOWMtOGRhNS02Zjk0NjI3Y2Q5MDAnLFxuICAgICAgICAvLyBTb2xhbmEgbmV0d29ya3NcbiAgICAgICAgJzVleWt0NFVzRnY4UDhOSmRUUkVwWTF2enFLcVpLdmRwJzogJ2ExYjU4ODk5LWY2NzEtNDI3Ni02YTVlLTU2Y2E1YmQ1OTcwMCcsXG4gICAgICAgICc0dWhjVkp5VTlwSmt2UXlTODh1UkRpc3dIWFNDa1kzeic6ICdhMWI1ODg5OS1mNjcxLTQyNzYtNmE1ZS01NmNhNWJkNTk3MDAnLFxuICAgICAgICBFdFdUUkFCWmFZcTZpTWZlWUtvdVJ1MTY2VlUyeHFhMTogJ2ExYjU4ODk5LWY2NzEtNDI3Ni02YTVlLTU2Y2E1YmQ1OTcwMCcsXG4gICAgICAgIC8vIEJpdGNvaW5cbiAgICAgICAgJzAwMDAwMDAwMDAxOWQ2Njg5YzA4NWFlMTY1ODMxZTkzJzogJzBiNDgzOGRiLTAxNjEtNGZmZS0wMjJkLTUzMmJmMDNkYmEwMCcsXG4gICAgICAgIC8vIEJpdGNvaW4gVGVzdG5ldFxuICAgICAgICAnMDAwMDAwMDAwOTMzZWEwMWFkMGVlOTg0MjA5Nzc5YmEnOiAnMzkzNTQwNjQtZDc5Yi00MjBiLTA2NWQtZjk4MGM0Yjc4MjAwJyxcbiAgICAgICAgLy8gQml0Y29pbiBTaWduZXRcbiAgICAgICAgJzAwMDAwMDA4ODE5ODczZTkyNTQyMmMxZmYwZjk5ZjdjJzogJ2IzNDA2ZTRhLWJiZmMtNDRmYi1lM2E2LTg5NjczYzc4YjcwMCdcbiAgICB9LFxuICAgIENvbm5lY3RvckltYWdlSWRzOiB7XG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV06ICcwYzI4NDBjMy01YjA0LTRjNDQtOTY2MS1mYmQ0YjQ5ZTE4MDAnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQ09JTkJBU0VfU0RLXTogJzBjMjg0MGMzLTViMDQtNGM0NC05NjYxLWZiZDRiNDllMTgwMCcsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5TQUZFXTogJzQ2MWRiNjM3LTg2MTYtNDNjZS0wMzVhLWQ4OWI4YTFkNTgwMCcsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5MRURHRVJdOiAnNTRhMWFhNzctZDIwMi00ZjhkLTBmYjItNWQyYmI2ZGIwMzAwJyxcbiAgICAgICAgW0NvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUXTogJ2VmMWExZmNmLTdmZTgtNGQ2OS1iZDZkLWZkYTEzNDViNDQwMCcsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5JTkpFQ1RFRF06ICcwN2JhODdlZC00M2FhLTRhZGYtNDU0MC05ZTZhMmI5Y2FlMDAnXG4gICAgfSxcbiAgICBDb25uZWN0b3JOYW1lc01hcDoge1xuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuSU5KRUNURURdOiAnQnJvd3NlciBXYWxsZXQnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1RdOiAnV2FsbGV0Q29ubmVjdCcsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV06ICdDb2luYmFzZScsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV9TREtdOiAnQ29pbmJhc2UnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuTEVER0VSXTogJ0xlZGdlcicsXG4gICAgICAgIFtDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5TQUZFXTogJ1NhZmUnXG4gICAgfSxcbiAgICBDb25uZWN0b3JUeXBlc01hcDoge1xuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuSU5KRUNURURdOiAnSU5KRUNURUQnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1RdOiAnV0FMTEVUX0NPTk5FQ1QnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuRUlQNjk2M106ICdBTk5PVU5DRUQnLFxuICAgICAgICBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSF06ICdBVVRIJyxcbiAgICAgICAgW0NvbnN0YW50c1V0aWwuQ09OTkVDVE9SX1RZUEVfQVVUSF06ICdBVVRIJ1xuICAgIH0sXG4gICAgV2FsbGV0Q29ubmVjdFJwY0NoYWluSWRzOiBbXG4gICAgICAgIC8vIEV0aGVyZXVtXG4gICAgICAgIDEsXG4gICAgICAgIC8vIEV0aGVyZXVtIEdvZXJsaVxuICAgICAgICA1LFxuICAgICAgICAvLyBFdGhlcmV1bSBTZXBvbGlhXG4gICAgICAgIDExMTU1MTExLFxuICAgICAgICAvLyBPcHRpbWlzbVxuICAgICAgICAxMCxcbiAgICAgICAgLy8gT3B0aW1pc20gR29lcmxpXG4gICAgICAgIDQyMCxcbiAgICAgICAgLy8gQXJiaXRydW1cbiAgICAgICAgNDIxNjEsXG4gICAgICAgIC8vIEFyYml0cnVtIEdvZXJsaVxuICAgICAgICA0MjE2MTMsXG4gICAgICAgIC8vIFBvbHlnb25cbiAgICAgICAgMTM3LFxuICAgICAgICAvLyBQb2x5Z29uIE11bWJhaVxuICAgICAgICA4MDAwMSxcbiAgICAgICAgLy8gQ2VsbyBNYWlubmV0XG4gICAgICAgIDQyMjIwLFxuICAgICAgICAvLyBBdXJvcmFcbiAgICAgICAgMTMxMzE2MTU1NCxcbiAgICAgICAgLy8gQXVyb3JhIFRlc3RuZXRcbiAgICAgICAgMTMxMzE2MTU1NSxcbiAgICAgICAgLy8gQmluYW5jZSBTbWFydCBDaGFpblxuICAgICAgICA1NixcbiAgICAgICAgLy8gQmluYW5jZSBTbWFydCBDaGFpbiBUZXN0bmV0XG4gICAgICAgIDk3LFxuICAgICAgICAvLyBBdmFsYW5jaGUgQy1DaGFpblxuICAgICAgICA0MzExNCxcbiAgICAgICAgLy8gQXZhbGFuY2hlIEZ1amkgVGVzdG5ldFxuICAgICAgICA0MzExMyxcbiAgICAgICAgLy8gR25vc2lzIENoYWluXG4gICAgICAgIDEwMCxcbiAgICAgICAgLy8gQmFzZVxuICAgICAgICA4NDUzLFxuICAgICAgICAvLyBCYXNlIEdvZXJsaVxuICAgICAgICA4NDUzMSxcbiAgICAgICAgLy8gWm9yYVxuICAgICAgICA3Nzc3Nzc3LFxuICAgICAgICAvLyBab3JhIEdvZXJsaVxuICAgICAgICA5OTksXG4gICAgICAgIC8vIFprU3luYyBFcmEgTWFpbm5ldFxuICAgICAgICAzMjQsXG4gICAgICAgIC8vIFprU3luYyBFcmEgVGVzdG5ldFxuICAgICAgICAyODBcbiAgICBdXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJlc2V0c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/PresetsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/TokenUtil.js":
/*!********************************************************************!*\
  !*** ./node_modules/@reown/appkit-utils/dist/esm/src/TokenUtil.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenUtil: () => (/* binding */ TokenUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js\");\n\nconst TokenUtil = {\n    TOKEN_ADDRESSES_BY_SYMBOL: {\n        USDC: {\n            8453: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.baseUSDC.asset,\n            84532: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.baseSepoliaUSDC.asset\n        }\n    },\n    getTokenSymbolByAddress(tokenAddress) {\n        if (!tokenAddress) {\n            return undefined;\n        }\n        const [symbol] = Object.entries(TokenUtil.TOKEN_ADDRESSES_BY_SYMBOL).find(([_, addressesByChain]) => Object.values(addressesByChain).includes(tokenAddress)) ?? [];\n        return symbol;\n    }\n};\n//# sourceMappingURL=TokenUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXV0aWxzL2Rpc3QvZXNtL3NyYy9Ub2tlblV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0U7QUFDL0Q7QUFDUDtBQUNBO0FBQ0Esa0JBQWtCLCtEQUFRO0FBQzFCLG1CQUFtQixzRUFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11dGlscy9kaXN0L2VzbS9zcmMvVG9rZW5VdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VTZXBvbGlhVVNEQywgYmFzZVVTREMgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmV4cG9ydCBjb25zdCBUb2tlblV0aWwgPSB7XG4gICAgVE9LRU5fQUREUkVTU0VTX0JZX1NZTUJPTDoge1xuICAgICAgICBVU0RDOiB7XG4gICAgICAgICAgICA4NDUzOiBiYXNlVVNEQy5hc3NldCxcbiAgICAgICAgICAgIDg0NTMyOiBiYXNlU2Vwb2xpYVVTREMuYXNzZXRcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VG9rZW5TeW1ib2xCeUFkZHJlc3ModG9rZW5BZGRyZXNzKSB7XG4gICAgICAgIGlmICghdG9rZW5BZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtzeW1ib2xdID0gT2JqZWN0LmVudHJpZXMoVG9rZW5VdGlsLlRPS0VOX0FERFJFU1NFU19CWV9TWU1CT0wpLmZpbmQoKFtfLCBhZGRyZXNzZXNCeUNoYWluXSkgPT4gT2JqZWN0LnZhbHVlcyhhZGRyZXNzZXNCeUNoYWluKS5pbmNsdWRlcyh0b2tlbkFkZHJlc3MpKSA/PyBbXTtcbiAgICAgICAgcmV0dXJuIHN5bWJvbDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9rZW5VdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/TokenUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/RegexUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@reown/appkit-wallet/dist/esm/src/RegexUtil.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RegexUtil: () => (/* binding */ RegexUtil)\n/* harmony export */ });\nconst RegexUtil = {\n    address: /^0x(?:[A-Fa-f0-9]{40})$/u,\n    transactionHash: /^0x(?:[A-Fa-f0-9]{64})$/u,\n    signedMessage: /^0x(?:[a-fA-F0-9]{62,})$/u\n};\n//# sourceMappingURL=RegexUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXdhbGxldC9kaXN0L2VzbS9zcmMvUmVnZXhVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQLGdDQUFnQyxHQUFHO0FBQ25DLHdDQUF3QyxHQUFHO0FBQzNDLHNDQUFzQyxJQUFJO0FBQzFDO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC13YWxsZXQvZGlzdC9lc20vc3JjL1JlZ2V4VXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUmVnZXhVdGlsID0ge1xuICAgIGFkZHJlc3M6IC9eMHgoPzpbQS1GYS1mMC05XXs0MH0pJC91LFxuICAgIHRyYW5zYWN0aW9uSGFzaDogL14weCg/OltBLUZhLWYwLTldezY0fSkkL3UsXG4gICAgc2lnbmVkTWVzc2FnZTogL14weCg/OlthLWZBLUYwLTldezYyLH0pJC91XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVnZXhVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/RegexUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_LOG_LEVEL: () => (/* binding */ DEFAULT_LOG_LEVEL),\n/* harmony export */   SECURE_SITE_SDK: () => (/* binding */ SECURE_SITE_SDK),\n/* harmony export */   SECURE_SITE_SDK_VERSION: () => (/* binding */ SECURE_SITE_SDK_VERSION),\n/* harmony export */   W3mFrameConstants: () => (/* binding */ W3mFrameConstants),\n/* harmony export */   W3mFrameRpcConstants: () => (/* binding */ W3mFrameRpcConstants)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\nconst DEFAULT_SDK_URL = 'https://secure.walletconnect.org/sdk';\nconst SECURE_SITE_SDK = (typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_SECURE_SITE_SDK_URL']\n    : undefined) || DEFAULT_SDK_URL;\nconst DEFAULT_LOG_LEVEL = (typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_DEFAULT_LOG_LEVEL']\n    : undefined) || 'error';\nconst SECURE_SITE_SDK_VERSION = (typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_SECURE_SITE_SDK_VERSION']\n    : undefined) || '4';\nconst W3mFrameConstants = {\n    APP_EVENT_KEY: '@w3m-app/',\n    FRAME_EVENT_KEY: '@w3m-frame/',\n    RPC_METHOD_KEY: 'RPC_',\n    STORAGE_KEY: '@appkit-wallet/',\n    SESSION_TOKEN_KEY: 'SESSION_TOKEN_KEY',\n    EMAIL_LOGIN_USED_KEY: 'EMAIL_LOGIN_USED_KEY',\n    LAST_USED_CHAIN_KEY: 'LAST_USED_CHAIN_KEY',\n    LAST_EMAIL_LOGIN_TIME: 'LAST_EMAIL_LOGIN_TIME',\n    EMAIL: 'EMAIL',\n    PREFERRED_ACCOUNT_TYPE: 'PREFERRED_ACCOUNT_TYPE',\n    SMART_ACCOUNT_ENABLED: 'SMART_ACCOUNT_ENABLED',\n    SMART_ACCOUNT_ENABLED_NETWORKS: 'SMART_ACCOUNT_ENABLED_NETWORKS',\n    SOCIAL_USERNAME: 'SOCIAL_USERNAME',\n    APP_SWITCH_NETWORK: '@w3m-app/SWITCH_NETWORK',\n    APP_CONNECT_EMAIL: '@w3m-app/CONNECT_EMAIL',\n    APP_CONNECT_DEVICE: '@w3m-app/CONNECT_DEVICE',\n    APP_CONNECT_OTP: '@w3m-app/CONNECT_OTP',\n    APP_CONNECT_SOCIAL: '@w3m-app/CONNECT_SOCIAL',\n    APP_GET_SOCIAL_REDIRECT_URI: '@w3m-app/GET_SOCIAL_REDIRECT_URI',\n    APP_GET_USER: '@w3m-app/GET_USER',\n    APP_SIGN_OUT: '@w3m-app/SIGN_OUT',\n    APP_IS_CONNECTED: '@w3m-app/IS_CONNECTED',\n    APP_GET_CHAIN_ID: '@w3m-app/GET_CHAIN_ID',\n    APP_RPC_REQUEST: '@w3m-app/RPC_REQUEST',\n    APP_UPDATE_EMAIL: '@w3m-app/UPDATE_EMAIL',\n    APP_UPDATE_EMAIL_PRIMARY_OTP: '@w3m-app/UPDATE_EMAIL_PRIMARY_OTP',\n    APP_UPDATE_EMAIL_SECONDARY_OTP: '@w3m-app/UPDATE_EMAIL_SECONDARY_OTP',\n    APP_AWAIT_UPDATE_EMAIL: '@w3m-app/AWAIT_UPDATE_EMAIL',\n    APP_SYNC_THEME: '@w3m-app/SYNC_THEME',\n    APP_SYNC_DAPP_DATA: '@w3m-app/SYNC_DAPP_DATA',\n    APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS: '@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS',\n    APP_INIT_SMART_ACCOUNT: '@w3m-app/INIT_SMART_ACCOUNT',\n    APP_SET_PREFERRED_ACCOUNT: '@w3m-app/SET_PREFERRED_ACCOUNT',\n    APP_CONNECT_FARCASTER: '@w3m-app/CONNECT_FARCASTER',\n    APP_GET_FARCASTER_URI: '@w3m-app/GET_FARCASTER_URI',\n    APP_RELOAD: '@w3m-app/RELOAD',\n    APP_RPC_ABORT: '@w3m-app/RPC_ABORT',\n    FRAME_SWITCH_NETWORK_ERROR: '@w3m-frame/SWITCH_NETWORK_ERROR',\n    FRAME_SWITCH_NETWORK_SUCCESS: '@w3m-frame/SWITCH_NETWORK_SUCCESS',\n    FRAME_CONNECT_EMAIL_ERROR: '@w3m-frame/CONNECT_EMAIL_ERROR',\n    FRAME_CONNECT_EMAIL_SUCCESS: '@w3m-frame/CONNECT_EMAIL_SUCCESS',\n    FRAME_CONNECT_DEVICE_ERROR: '@w3m-frame/CONNECT_DEVICE_ERROR',\n    FRAME_CONNECT_DEVICE_SUCCESS: '@w3m-frame/CONNECT_DEVICE_SUCCESS',\n    FRAME_CONNECT_OTP_SUCCESS: '@w3m-frame/CONNECT_OTP_SUCCESS',\n    FRAME_CONNECT_OTP_ERROR: '@w3m-frame/CONNECT_OTP_ERROR',\n    FRAME_CONNECT_SOCIAL_SUCCESS: '@w3m-frame/CONNECT_SOCIAL_SUCCESS',\n    FRAME_CONNECT_SOCIAL_ERROR: '@w3m-frame/CONNECT_SOCIAL_ERROR',\n    FRAME_CONNECT_FARCASTER_SUCCESS: '@w3m-frame/CONNECT_FARCASTER_SUCCESS',\n    FRAME_CONNECT_FARCASTER_ERROR: '@w3m-frame/CONNECT_FARCASTER_ERROR',\n    FRAME_GET_FARCASTER_URI_SUCCESS: '@w3m-frame/GET_FARCASTER_URI_SUCCESS',\n    FRAME_GET_FARCASTER_URI_ERROR: '@w3m-frame/GET_FARCASTER_URI_ERROR',\n    FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS: '@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS',\n    FRAME_GET_SOCIAL_REDIRECT_URI_ERROR: '@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR',\n    FRAME_GET_USER_SUCCESS: '@w3m-frame/GET_USER_SUCCESS',\n    FRAME_GET_USER_ERROR: '@w3m-frame/GET_USER_ERROR',\n    FRAME_SIGN_OUT_SUCCESS: '@w3m-frame/SIGN_OUT_SUCCESS',\n    FRAME_SIGN_OUT_ERROR: '@w3m-frame/SIGN_OUT_ERROR',\n    FRAME_IS_CONNECTED_SUCCESS: '@w3m-frame/IS_CONNECTED_SUCCESS',\n    FRAME_IS_CONNECTED_ERROR: '@w3m-frame/IS_CONNECTED_ERROR',\n    FRAME_GET_CHAIN_ID_SUCCESS: '@w3m-frame/GET_CHAIN_ID_SUCCESS',\n    FRAME_GET_CHAIN_ID_ERROR: '@w3m-frame/GET_CHAIN_ID_ERROR',\n    FRAME_RPC_REQUEST_SUCCESS: '@w3m-frame/RPC_REQUEST_SUCCESS',\n    FRAME_RPC_REQUEST_ERROR: '@w3m-frame/RPC_REQUEST_ERROR',\n    FRAME_SESSION_UPDATE: '@w3m-frame/SESSION_UPDATE',\n    FRAME_UPDATE_EMAIL_SUCCESS: '@w3m-frame/UPDATE_EMAIL_SUCCESS',\n    FRAME_UPDATE_EMAIL_ERROR: '@w3m-frame/UPDATE_EMAIL_ERROR',\n    FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS: '@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS',\n    FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR: '@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR',\n    FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS: '@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS',\n    FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR: '@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR',\n    FRAME_SYNC_THEME_SUCCESS: '@w3m-frame/SYNC_THEME_SUCCESS',\n    FRAME_SYNC_THEME_ERROR: '@w3m-frame/SYNC_THEME_ERROR',\n    FRAME_SYNC_DAPP_DATA_SUCCESS: '@w3m-frame/SYNC_DAPP_DATA_SUCCESS',\n    FRAME_SYNC_DAPP_DATA_ERROR: '@w3m-frame/SYNC_DAPP_DATA_ERROR',\n    FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS: '@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS',\n    FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR: '@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR',\n    FRAME_INIT_SMART_ACCOUNT_SUCCESS: '@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS',\n    FRAME_INIT_SMART_ACCOUNT_ERROR: '@w3m-frame/INIT_SMART_ACCOUNT_ERROR',\n    FRAME_SET_PREFERRED_ACCOUNT_SUCCESS: '@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS',\n    FRAME_SET_PREFERRED_ACCOUNT_ERROR: '@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR',\n    FRAME_READY: '@w3m-frame/READY',\n    FRAME_RELOAD_SUCCESS: '@w3m-frame/RELOAD_SUCCESS',\n    FRAME_RELOAD_ERROR: '@w3m-frame/RELOAD_ERROR',\n    FRAME_RPC_ABORT_SUCCESS: '@w3m-frame/RPC_ABORT_SUCCESS',\n    FRAME_RPC_ABORT_ERROR: '@w3m-frame/RPC_ABORT_ERROR',\n    RPC_RESPONSE_TYPE_ERROR: 'RPC_RESPONSE_ERROR',\n    RPC_RESPONSE_TYPE_TX: 'RPC_RESPONSE_TRANSACTION_HASH',\n    RPC_RESPONSE_TYPE_OBJECT: 'RPC_RESPONSE_OBJECT'\n};\nconst W3mFrameRpcConstants = {\n    SAFE_RPC_METHODS: [\n        'eth_accounts',\n        'eth_blockNumber',\n        'eth_call',\n        'eth_chainId',\n        'eth_estimateGas',\n        'eth_feeHistory',\n        'eth_gasPrice',\n        'eth_getAccount',\n        'eth_getBalance',\n        'eth_getBlockByHash',\n        'eth_getBlockByNumber',\n        'eth_getBlockReceipts',\n        'eth_getBlockTransactionCountByHash',\n        'eth_getBlockTransactionCountByNumber',\n        'eth_getCode',\n        'eth_getFilterChanges',\n        'eth_getFilterLogs',\n        'eth_getLogs',\n        'eth_getProof',\n        'eth_getStorageAt',\n        'eth_getTransactionByBlockHashAndIndex',\n        'eth_getTransactionByBlockNumberAndIndex',\n        'eth_getTransactionByHash',\n        'eth_getTransactionCount',\n        'eth_getTransactionReceipt',\n        'eth_getUncleCountByBlockHash',\n        'eth_getUncleCountByBlockNumber',\n        'eth_maxPriorityFeePerGas',\n        'eth_newBlockFilter',\n        'eth_newFilter',\n        'eth_newPendingTransactionFilter',\n        'eth_sendRawTransaction',\n        'eth_syncing',\n        'eth_uninstallFilter',\n        'wallet_getCapabilities',\n        'wallet_getCallsStatus',\n        'eth_getUserOperationReceipt',\n        'eth_estimateUserOperationGas',\n        'eth_getUserOperationByHash',\n        'eth_supportedEntryPoints',\n        'wallet_getAssets'\n    ],\n    NOT_SAFE_RPC_METHODS: [\n        'personal_sign',\n        'eth_signTypedData_v4',\n        'eth_sendTransaction',\n        'solana_signMessage',\n        'solana_signTransaction',\n        'solana_signAllTransactions',\n        'solana_signAndSendTransaction',\n        'wallet_sendCalls',\n        'wallet_grantPermissions',\n        'wallet_revokePermissions',\n        'eth_sendUserOperation'\n    ],\n    GET_CHAIN_ID: 'eth_chainId',\n    RPC_METHOD_NOT_ALLOWED_MESSAGE: 'Requested RPC call is not allowed',\n    RPC_METHOD_NOT_ALLOWED_UI_MESSAGE: 'Action not allowed',\n    ACCOUNT_TYPES: {\n        EOA: 'eoa',\n        SMART_ACCOUNT: 'smartAccount'\n    }\n};\n//# sourceMappingURL=W3mFrameConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXdhbGxldC9kaXN0L2VzbS9zcmMvVzNtRnJhbWVDb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDTyxnQ0FBZ0MsT0FBTywyQkFBMkIsT0FBTztBQUNoRixNQUFNLE9BQU87QUFDYjtBQUNPLGtDQUFrQyxPQUFPLDJCQUEyQixPQUFPO0FBQ2xGLE1BQU0sT0FBTztBQUNiO0FBQ08sd0NBQXdDLE9BQU8sMkJBQTJCLE9BQU87QUFDeEYsTUFBTSxPQUFPO0FBQ2I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC13YWxsZXQvZGlzdC9lc20vc3JjL1czbUZyYW1lQ29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERFRkFVTFRfU0RLX1VSTCA9ICdodHRwczovL3NlY3VyZS53YWxsZXRjb25uZWN0Lm9yZy9zZGsnO1xuZXhwb3J0IGNvbnN0IFNFQ1VSRV9TSVRFX1NESyA9ICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gcHJvY2Vzcy5lbnZbJ05FWFRfUFVCTElDX1NFQ1VSRV9TSVRFX1NES19VUkwnXVxuICAgIDogdW5kZWZpbmVkKSB8fCBERUZBVUxUX1NES19VUkw7XG5leHBvcnQgY29uc3QgREVGQVVMVF9MT0dfTEVWRUwgPSAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLmVudiAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19ERUZBVUxUX0xPR19MRVZFTCddXG4gICAgOiB1bmRlZmluZWQpIHx8ICdlcnJvcic7XG5leHBvcnQgY29uc3QgU0VDVVJFX1NJVEVfU0RLX1ZFUlNJT04gPSAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLmVudiAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19TRUNVUkVfU0lURV9TREtfVkVSU0lPTiddXG4gICAgOiB1bmRlZmluZWQpIHx8ICc0JztcbmV4cG9ydCBjb25zdCBXM21GcmFtZUNvbnN0YW50cyA9IHtcbiAgICBBUFBfRVZFTlRfS0VZOiAnQHczbS1hcHAvJyxcbiAgICBGUkFNRV9FVkVOVF9LRVk6ICdAdzNtLWZyYW1lLycsXG4gICAgUlBDX01FVEhPRF9LRVk6ICdSUENfJyxcbiAgICBTVE9SQUdFX0tFWTogJ0BhcHBraXQtd2FsbGV0LycsXG4gICAgU0VTU0lPTl9UT0tFTl9LRVk6ICdTRVNTSU9OX1RPS0VOX0tFWScsXG4gICAgRU1BSUxfTE9HSU5fVVNFRF9LRVk6ICdFTUFJTF9MT0dJTl9VU0VEX0tFWScsXG4gICAgTEFTVF9VU0VEX0NIQUlOX0tFWTogJ0xBU1RfVVNFRF9DSEFJTl9LRVknLFxuICAgIExBU1RfRU1BSUxfTE9HSU5fVElNRTogJ0xBU1RfRU1BSUxfTE9HSU5fVElNRScsXG4gICAgRU1BSUw6ICdFTUFJTCcsXG4gICAgUFJFRkVSUkVEX0FDQ09VTlRfVFlQRTogJ1BSRUZFUlJFRF9BQ0NPVU5UX1RZUEUnLFxuICAgIFNNQVJUX0FDQ09VTlRfRU5BQkxFRDogJ1NNQVJUX0FDQ09VTlRfRU5BQkxFRCcsXG4gICAgU01BUlRfQUNDT1VOVF9FTkFCTEVEX05FVFdPUktTOiAnU01BUlRfQUNDT1VOVF9FTkFCTEVEX05FVFdPUktTJyxcbiAgICBTT0NJQUxfVVNFUk5BTUU6ICdTT0NJQUxfVVNFUk5BTUUnLFxuICAgIEFQUF9TV0lUQ0hfTkVUV09SSzogJ0B3M20tYXBwL1NXSVRDSF9ORVRXT1JLJyxcbiAgICBBUFBfQ09OTkVDVF9FTUFJTDogJ0B3M20tYXBwL0NPTk5FQ1RfRU1BSUwnLFxuICAgIEFQUF9DT05ORUNUX0RFVklDRTogJ0B3M20tYXBwL0NPTk5FQ1RfREVWSUNFJyxcbiAgICBBUFBfQ09OTkVDVF9PVFA6ICdAdzNtLWFwcC9DT05ORUNUX09UUCcsXG4gICAgQVBQX0NPTk5FQ1RfU09DSUFMOiAnQHczbS1hcHAvQ09OTkVDVF9TT0NJQUwnLFxuICAgIEFQUF9HRVRfU09DSUFMX1JFRElSRUNUX1VSSTogJ0B3M20tYXBwL0dFVF9TT0NJQUxfUkVESVJFQ1RfVVJJJyxcbiAgICBBUFBfR0VUX1VTRVI6ICdAdzNtLWFwcC9HRVRfVVNFUicsXG4gICAgQVBQX1NJR05fT1VUOiAnQHczbS1hcHAvU0lHTl9PVVQnLFxuICAgIEFQUF9JU19DT05ORUNURUQ6ICdAdzNtLWFwcC9JU19DT05ORUNURUQnLFxuICAgIEFQUF9HRVRfQ0hBSU5fSUQ6ICdAdzNtLWFwcC9HRVRfQ0hBSU5fSUQnLFxuICAgIEFQUF9SUENfUkVRVUVTVDogJ0B3M20tYXBwL1JQQ19SRVFVRVNUJyxcbiAgICBBUFBfVVBEQVRFX0VNQUlMOiAnQHczbS1hcHAvVVBEQVRFX0VNQUlMJyxcbiAgICBBUFBfVVBEQVRFX0VNQUlMX1BSSU1BUllfT1RQOiAnQHczbS1hcHAvVVBEQVRFX0VNQUlMX1BSSU1BUllfT1RQJyxcbiAgICBBUFBfVVBEQVRFX0VNQUlMX1NFQ09OREFSWV9PVFA6ICdAdzNtLWFwcC9VUERBVEVfRU1BSUxfU0VDT05EQVJZX09UUCcsXG4gICAgQVBQX0FXQUlUX1VQREFURV9FTUFJTDogJ0B3M20tYXBwL0FXQUlUX1VQREFURV9FTUFJTCcsXG4gICAgQVBQX1NZTkNfVEhFTUU6ICdAdzNtLWFwcC9TWU5DX1RIRU1FJyxcbiAgICBBUFBfU1lOQ19EQVBQX0RBVEE6ICdAdzNtLWFwcC9TWU5DX0RBUFBfREFUQScsXG4gICAgQVBQX0dFVF9TTUFSVF9BQ0NPVU5UX0VOQUJMRURfTkVUV09SS1M6ICdAdzNtLWFwcC9HRVRfU01BUlRfQUNDT1VOVF9FTkFCTEVEX05FVFdPUktTJyxcbiAgICBBUFBfSU5JVF9TTUFSVF9BQ0NPVU5UOiAnQHczbS1hcHAvSU5JVF9TTUFSVF9BQ0NPVU5UJyxcbiAgICBBUFBfU0VUX1BSRUZFUlJFRF9BQ0NPVU5UOiAnQHczbS1hcHAvU0VUX1BSRUZFUlJFRF9BQ0NPVU5UJyxcbiAgICBBUFBfQ09OTkVDVF9GQVJDQVNURVI6ICdAdzNtLWFwcC9DT05ORUNUX0ZBUkNBU1RFUicsXG4gICAgQVBQX0dFVF9GQVJDQVNURVJfVVJJOiAnQHczbS1hcHAvR0VUX0ZBUkNBU1RFUl9VUkknLFxuICAgIEFQUF9SRUxPQUQ6ICdAdzNtLWFwcC9SRUxPQUQnLFxuICAgIEFQUF9SUENfQUJPUlQ6ICdAdzNtLWFwcC9SUENfQUJPUlQnLFxuICAgIEZSQU1FX1NXSVRDSF9ORVRXT1JLX0VSUk9SOiAnQHczbS1mcmFtZS9TV0lUQ0hfTkVUV09SS19FUlJPUicsXG4gICAgRlJBTUVfU1dJVENIX05FVFdPUktfU1VDQ0VTUzogJ0B3M20tZnJhbWUvU1dJVENIX05FVFdPUktfU1VDQ0VTUycsXG4gICAgRlJBTUVfQ09OTkVDVF9FTUFJTF9FUlJPUjogJ0B3M20tZnJhbWUvQ09OTkVDVF9FTUFJTF9FUlJPUicsXG4gICAgRlJBTUVfQ09OTkVDVF9FTUFJTF9TVUNDRVNTOiAnQHczbS1mcmFtZS9DT05ORUNUX0VNQUlMX1NVQ0NFU1MnLFxuICAgIEZSQU1FX0NPTk5FQ1RfREVWSUNFX0VSUk9SOiAnQHczbS1mcmFtZS9DT05ORUNUX0RFVklDRV9FUlJPUicsXG4gICAgRlJBTUVfQ09OTkVDVF9ERVZJQ0VfU1VDQ0VTUzogJ0B3M20tZnJhbWUvQ09OTkVDVF9ERVZJQ0VfU1VDQ0VTUycsXG4gICAgRlJBTUVfQ09OTkVDVF9PVFBfU1VDQ0VTUzogJ0B3M20tZnJhbWUvQ09OTkVDVF9PVFBfU1VDQ0VTUycsXG4gICAgRlJBTUVfQ09OTkVDVF9PVFBfRVJST1I6ICdAdzNtLWZyYW1lL0NPTk5FQ1RfT1RQX0VSUk9SJyxcbiAgICBGUkFNRV9DT05ORUNUX1NPQ0lBTF9TVUNDRVNTOiAnQHczbS1mcmFtZS9DT05ORUNUX1NPQ0lBTF9TVUNDRVNTJyxcbiAgICBGUkFNRV9DT05ORUNUX1NPQ0lBTF9FUlJPUjogJ0B3M20tZnJhbWUvQ09OTkVDVF9TT0NJQUxfRVJST1InLFxuICAgIEZSQU1FX0NPTk5FQ1RfRkFSQ0FTVEVSX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL0NPTk5FQ1RfRkFSQ0FTVEVSX1NVQ0NFU1MnLFxuICAgIEZSQU1FX0NPTk5FQ1RfRkFSQ0FTVEVSX0VSUk9SOiAnQHczbS1mcmFtZS9DT05ORUNUX0ZBUkNBU1RFUl9FUlJPUicsXG4gICAgRlJBTUVfR0VUX0ZBUkNBU1RFUl9VUklfU1VDQ0VTUzogJ0B3M20tZnJhbWUvR0VUX0ZBUkNBU1RFUl9VUklfU1VDQ0VTUycsXG4gICAgRlJBTUVfR0VUX0ZBUkNBU1RFUl9VUklfRVJST1I6ICdAdzNtLWZyYW1lL0dFVF9GQVJDQVNURVJfVVJJX0VSUk9SJyxcbiAgICBGUkFNRV9HRVRfU09DSUFMX1JFRElSRUNUX1VSSV9TVUNDRVNTOiAnQHczbS1mcmFtZS9HRVRfU09DSUFMX1JFRElSRUNUX1VSSV9TVUNDRVNTJyxcbiAgICBGUkFNRV9HRVRfU09DSUFMX1JFRElSRUNUX1VSSV9FUlJPUjogJ0B3M20tZnJhbWUvR0VUX1NPQ0lBTF9SRURJUkVDVF9VUklfRVJST1InLFxuICAgIEZSQU1FX0dFVF9VU0VSX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL0dFVF9VU0VSX1NVQ0NFU1MnLFxuICAgIEZSQU1FX0dFVF9VU0VSX0VSUk9SOiAnQHczbS1mcmFtZS9HRVRfVVNFUl9FUlJPUicsXG4gICAgRlJBTUVfU0lHTl9PVVRfU1VDQ0VTUzogJ0B3M20tZnJhbWUvU0lHTl9PVVRfU1VDQ0VTUycsXG4gICAgRlJBTUVfU0lHTl9PVVRfRVJST1I6ICdAdzNtLWZyYW1lL1NJR05fT1VUX0VSUk9SJyxcbiAgICBGUkFNRV9JU19DT05ORUNURURfU1VDQ0VTUzogJ0B3M20tZnJhbWUvSVNfQ09OTkVDVEVEX1NVQ0NFU1MnLFxuICAgIEZSQU1FX0lTX0NPTk5FQ1RFRF9FUlJPUjogJ0B3M20tZnJhbWUvSVNfQ09OTkVDVEVEX0VSUk9SJyxcbiAgICBGUkFNRV9HRVRfQ0hBSU5fSURfU1VDQ0VTUzogJ0B3M20tZnJhbWUvR0VUX0NIQUlOX0lEX1NVQ0NFU1MnLFxuICAgIEZSQU1FX0dFVF9DSEFJTl9JRF9FUlJPUjogJ0B3M20tZnJhbWUvR0VUX0NIQUlOX0lEX0VSUk9SJyxcbiAgICBGUkFNRV9SUENfUkVRVUVTVF9TVUNDRVNTOiAnQHczbS1mcmFtZS9SUENfUkVRVUVTVF9TVUNDRVNTJyxcbiAgICBGUkFNRV9SUENfUkVRVUVTVF9FUlJPUjogJ0B3M20tZnJhbWUvUlBDX1JFUVVFU1RfRVJST1InLFxuICAgIEZSQU1FX1NFU1NJT05fVVBEQVRFOiAnQHczbS1mcmFtZS9TRVNTSU9OX1VQREFURScsXG4gICAgRlJBTUVfVVBEQVRFX0VNQUlMX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL1VQREFURV9FTUFJTF9TVUNDRVNTJyxcbiAgICBGUkFNRV9VUERBVEVfRU1BSUxfRVJST1I6ICdAdzNtLWZyYW1lL1VQREFURV9FTUFJTF9FUlJPUicsXG4gICAgRlJBTUVfVVBEQVRFX0VNQUlMX1BSSU1BUllfT1RQX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL1VQREFURV9FTUFJTF9QUklNQVJZX09UUF9TVUNDRVNTJyxcbiAgICBGUkFNRV9VUERBVEVfRU1BSUxfUFJJTUFSWV9PVFBfRVJST1I6ICdAdzNtLWZyYW1lL1VQREFURV9FTUFJTF9QUklNQVJZX09UUF9FUlJPUicsXG4gICAgRlJBTUVfVVBEQVRFX0VNQUlMX1NFQ09OREFSWV9PVFBfU1VDQ0VTUzogJ0B3M20tZnJhbWUvVVBEQVRFX0VNQUlMX1NFQ09OREFSWV9PVFBfU1VDQ0VTUycsXG4gICAgRlJBTUVfVVBEQVRFX0VNQUlMX1NFQ09OREFSWV9PVFBfRVJST1I6ICdAdzNtLWZyYW1lL1VQREFURV9FTUFJTF9TRUNPTkRBUllfT1RQX0VSUk9SJyxcbiAgICBGUkFNRV9TWU5DX1RIRU1FX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL1NZTkNfVEhFTUVfU1VDQ0VTUycsXG4gICAgRlJBTUVfU1lOQ19USEVNRV9FUlJPUjogJ0B3M20tZnJhbWUvU1lOQ19USEVNRV9FUlJPUicsXG4gICAgRlJBTUVfU1lOQ19EQVBQX0RBVEFfU1VDQ0VTUzogJ0B3M20tZnJhbWUvU1lOQ19EQVBQX0RBVEFfU1VDQ0VTUycsXG4gICAgRlJBTUVfU1lOQ19EQVBQX0RBVEFfRVJST1I6ICdAdzNtLWZyYW1lL1NZTkNfREFQUF9EQVRBX0VSUk9SJyxcbiAgICBGUkFNRV9HRVRfU01BUlRfQUNDT1VOVF9FTkFCTEVEX05FVFdPUktTX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL0dFVF9TTUFSVF9BQ0NPVU5UX0VOQUJMRURfTkVUV09SS1NfU1VDQ0VTUycsXG4gICAgRlJBTUVfR0VUX1NNQVJUX0FDQ09VTlRfRU5BQkxFRF9ORVRXT1JLU19FUlJPUjogJ0B3M20tZnJhbWUvR0VUX1NNQVJUX0FDQ09VTlRfRU5BQkxFRF9ORVRXT1JLU19FUlJPUicsXG4gICAgRlJBTUVfSU5JVF9TTUFSVF9BQ0NPVU5UX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL0lOSVRfU01BUlRfQUNDT1VOVF9TVUNDRVNTJyxcbiAgICBGUkFNRV9JTklUX1NNQVJUX0FDQ09VTlRfRVJST1I6ICdAdzNtLWZyYW1lL0lOSVRfU01BUlRfQUNDT1VOVF9FUlJPUicsXG4gICAgRlJBTUVfU0VUX1BSRUZFUlJFRF9BQ0NPVU5UX1NVQ0NFU1M6ICdAdzNtLWZyYW1lL1NFVF9QUkVGRVJSRURfQUNDT1VOVF9TVUNDRVNTJyxcbiAgICBGUkFNRV9TRVRfUFJFRkVSUkVEX0FDQ09VTlRfRVJST1I6ICdAdzNtLWZyYW1lL1NFVF9QUkVGRVJSRURfQUNDT1VOVF9FUlJPUicsXG4gICAgRlJBTUVfUkVBRFk6ICdAdzNtLWZyYW1lL1JFQURZJyxcbiAgICBGUkFNRV9SRUxPQURfU1VDQ0VTUzogJ0B3M20tZnJhbWUvUkVMT0FEX1NVQ0NFU1MnLFxuICAgIEZSQU1FX1JFTE9BRF9FUlJPUjogJ0B3M20tZnJhbWUvUkVMT0FEX0VSUk9SJyxcbiAgICBGUkFNRV9SUENfQUJPUlRfU1VDQ0VTUzogJ0B3M20tZnJhbWUvUlBDX0FCT1JUX1NVQ0NFU1MnLFxuICAgIEZSQU1FX1JQQ19BQk9SVF9FUlJPUjogJ0B3M20tZnJhbWUvUlBDX0FCT1JUX0VSUk9SJyxcbiAgICBSUENfUkVTUE9OU0VfVFlQRV9FUlJPUjogJ1JQQ19SRVNQT05TRV9FUlJPUicsXG4gICAgUlBDX1JFU1BPTlNFX1RZUEVfVFg6ICdSUENfUkVTUE9OU0VfVFJBTlNBQ1RJT05fSEFTSCcsXG4gICAgUlBDX1JFU1BPTlNFX1RZUEVfT0JKRUNUOiAnUlBDX1JFU1BPTlNFX09CSkVDVCdcbn07XG5leHBvcnQgY29uc3QgVzNtRnJhbWVScGNDb25zdGFudHMgPSB7XG4gICAgU0FGRV9SUENfTUVUSE9EUzogW1xuICAgICAgICAnZXRoX2FjY291bnRzJyxcbiAgICAgICAgJ2V0aF9ibG9ja051bWJlcicsXG4gICAgICAgICdldGhfY2FsbCcsXG4gICAgICAgICdldGhfY2hhaW5JZCcsXG4gICAgICAgICdldGhfZXN0aW1hdGVHYXMnLFxuICAgICAgICAnZXRoX2ZlZUhpc3RvcnknLFxuICAgICAgICAnZXRoX2dhc1ByaWNlJyxcbiAgICAgICAgJ2V0aF9nZXRBY2NvdW50JyxcbiAgICAgICAgJ2V0aF9nZXRCYWxhbmNlJyxcbiAgICAgICAgJ2V0aF9nZXRCbG9ja0J5SGFzaCcsXG4gICAgICAgICdldGhfZ2V0QmxvY2tCeU51bWJlcicsXG4gICAgICAgICdldGhfZ2V0QmxvY2tSZWNlaXB0cycsXG4gICAgICAgICdldGhfZ2V0QmxvY2tUcmFuc2FjdGlvbkNvdW50QnlIYXNoJyxcbiAgICAgICAgJ2V0aF9nZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRCeU51bWJlcicsXG4gICAgICAgICdldGhfZ2V0Q29kZScsXG4gICAgICAgICdldGhfZ2V0RmlsdGVyQ2hhbmdlcycsXG4gICAgICAgICdldGhfZ2V0RmlsdGVyTG9ncycsXG4gICAgICAgICdldGhfZ2V0TG9ncycsXG4gICAgICAgICdldGhfZ2V0UHJvb2YnLFxuICAgICAgICAnZXRoX2dldFN0b3JhZ2VBdCcsXG4gICAgICAgICdldGhfZ2V0VHJhbnNhY3Rpb25CeUJsb2NrSGFzaEFuZEluZGV4JyxcbiAgICAgICAgJ2V0aF9nZXRUcmFuc2FjdGlvbkJ5QmxvY2tOdW1iZXJBbmRJbmRleCcsXG4gICAgICAgICdldGhfZ2V0VHJhbnNhY3Rpb25CeUhhc2gnLFxuICAgICAgICAnZXRoX2dldFRyYW5zYWN0aW9uQ291bnQnLFxuICAgICAgICAnZXRoX2dldFRyYW5zYWN0aW9uUmVjZWlwdCcsXG4gICAgICAgICdldGhfZ2V0VW5jbGVDb3VudEJ5QmxvY2tIYXNoJyxcbiAgICAgICAgJ2V0aF9nZXRVbmNsZUNvdW50QnlCbG9ja051bWJlcicsXG4gICAgICAgICdldGhfbWF4UHJpb3JpdHlGZWVQZXJHYXMnLFxuICAgICAgICAnZXRoX25ld0Jsb2NrRmlsdGVyJyxcbiAgICAgICAgJ2V0aF9uZXdGaWx0ZXInLFxuICAgICAgICAnZXRoX25ld1BlbmRpbmdUcmFuc2FjdGlvbkZpbHRlcicsXG4gICAgICAgICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJyxcbiAgICAgICAgJ2V0aF9zeW5jaW5nJyxcbiAgICAgICAgJ2V0aF91bmluc3RhbGxGaWx0ZXInLFxuICAgICAgICAnd2FsbGV0X2dldENhcGFiaWxpdGllcycsXG4gICAgICAgICd3YWxsZXRfZ2V0Q2FsbHNTdGF0dXMnLFxuICAgICAgICAnZXRoX2dldFVzZXJPcGVyYXRpb25SZWNlaXB0JyxcbiAgICAgICAgJ2V0aF9lc3RpbWF0ZVVzZXJPcGVyYXRpb25HYXMnLFxuICAgICAgICAnZXRoX2dldFVzZXJPcGVyYXRpb25CeUhhc2gnLFxuICAgICAgICAnZXRoX3N1cHBvcnRlZEVudHJ5UG9pbnRzJyxcbiAgICAgICAgJ3dhbGxldF9nZXRBc3NldHMnXG4gICAgXSxcbiAgICBOT1RfU0FGRV9SUENfTUVUSE9EUzogW1xuICAgICAgICAncGVyc29uYWxfc2lnbicsXG4gICAgICAgICdldGhfc2lnblR5cGVkRGF0YV92NCcsXG4gICAgICAgICdldGhfc2VuZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ3NvbGFuYV9zaWduTWVzc2FnZScsXG4gICAgICAgICdzb2xhbmFfc2lnblRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ3NvbGFuYV9zaWduQWxsVHJhbnNhY3Rpb25zJyxcbiAgICAgICAgJ3NvbGFuYV9zaWduQW5kU2VuZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ3dhbGxldF9zZW5kQ2FsbHMnLFxuICAgICAgICAnd2FsbGV0X2dyYW50UGVybWlzc2lvbnMnLFxuICAgICAgICAnd2FsbGV0X3Jldm9rZVBlcm1pc3Npb25zJyxcbiAgICAgICAgJ2V0aF9zZW5kVXNlck9wZXJhdGlvbidcbiAgICBdLFxuICAgIEdFVF9DSEFJTl9JRDogJ2V0aF9jaGFpbklkJyxcbiAgICBSUENfTUVUSE9EX05PVF9BTExPV0VEX01FU1NBR0U6ICdSZXF1ZXN0ZWQgUlBDIGNhbGwgaXMgbm90IGFsbG93ZWQnLFxuICAgIFJQQ19NRVRIT0RfTk9UX0FMTE9XRURfVUlfTUVTU0FHRTogJ0FjdGlvbiBub3QgYWxsb3dlZCcsXG4gICAgQUNDT1VOVF9UWVBFUzoge1xuICAgICAgICBFT0E6ICdlb2EnLFxuICAgICAgICBTTUFSVF9BQ0NPVU5UOiAnc21hcnRBY2NvdW50J1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XM21GcmFtZUNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameHelpers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameHelpers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   W3mFrameHelpers: () => (/* binding */ W3mFrameHelpers)\n/* harmony export */ });\n/* harmony import */ var _RegexUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RegexUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/RegexUtil.js\");\n/* harmony import */ var _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./W3mFrameConstants.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _W3mFrameStorage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./W3mFrameStorage.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js\");\n\n\n\nconst EMAIL_MINIMUM_TIMEOUT = 30 * 1000;\nconst W3mFrameHelpers = {\n    checkIfAllowedToTriggerEmail() {\n        const lastEmailLoginTime = _W3mFrameStorage_js__WEBPACK_IMPORTED_MODULE_0__.W3mFrameStorage.get(_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);\n        if (lastEmailLoginTime) {\n            const difference = Date.now() - Number(lastEmailLoginTime);\n            if (difference < EMAIL_MINIMUM_TIMEOUT) {\n                const cooldownSec = Math.ceil((EMAIL_MINIMUM_TIMEOUT - difference) / 1000);\n                throw new Error(`Please try again after ${cooldownSec} seconds`);\n            }\n        }\n    },\n    getTimeToNextEmailLogin() {\n        const lastEmailLoginTime = _W3mFrameStorage_js__WEBPACK_IMPORTED_MODULE_0__.W3mFrameStorage.get(_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);\n        if (lastEmailLoginTime) {\n            const difference = Date.now() - Number(lastEmailLoginTime);\n            if (difference < EMAIL_MINIMUM_TIMEOUT) {\n                return Math.ceil((EMAIL_MINIMUM_TIMEOUT - difference) / 1000);\n            }\n        }\n        return 0;\n    },\n    checkIfRequestExists(request) {\n        return (_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(request.method) ||\n            _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(request.method));\n    },\n    getResponseType(response) {\n        const isPayloadString = typeof response === 'string';\n        const isTransactionHash = isPayloadString &&\n            (response?.match(_RegexUtil_js__WEBPACK_IMPORTED_MODULE_2__.RegexUtil.transactionHash) || response?.match(_RegexUtil_js__WEBPACK_IMPORTED_MODULE_2__.RegexUtil.signedMessage));\n        if (isTransactionHash) {\n            return _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.RPC_RESPONSE_TYPE_TX;\n        }\n        return _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT;\n    },\n    checkIfRequestIsSafe(request) {\n        return _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(request.method);\n    },\n    isClient: typeof window !== 'undefined'\n};\n//# sourceMappingURL=W3mFrameHelpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXdhbGxldC9kaXN0L2VzbS9zcmMvVzNtRnJhbWVIZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDc0M7QUFDMUI7QUFDdkQ7QUFDTztBQUNQO0FBQ0EsbUNBQW1DLGdFQUFlLEtBQUssb0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGFBQWE7QUFDdkU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1DQUFtQyxnRUFBZSxLQUFLLG9FQUFpQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQix1RUFBb0I7QUFDcEMsWUFBWSx1RUFBb0I7QUFDaEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBUyxxQ0FBcUMsb0RBQVM7QUFDcEY7QUFDQSxtQkFBbUIsb0VBQWlCO0FBQ3BDO0FBQ0EsZUFBZSxvRUFBaUI7QUFDaEMsS0FBSztBQUNMO0FBQ0EsZUFBZSx1RUFBb0I7QUFDbkMsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXdhbGxldC9kaXN0L2VzbS9zcmMvVzNtRnJhbWVIZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZ2V4VXRpbCB9IGZyb20gJy4vUmVnZXhVdGlsLmpzJztcbmltcG9ydCB7IFczbUZyYW1lQ29uc3RhbnRzLCBXM21GcmFtZVJwY0NvbnN0YW50cyB9IGZyb20gJy4vVzNtRnJhbWVDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgVzNtRnJhbWVTdG9yYWdlIH0gZnJvbSAnLi9XM21GcmFtZVN0b3JhZ2UuanMnO1xuY29uc3QgRU1BSUxfTUlOSU1VTV9USU1FT1VUID0gMzAgKiAxMDAwO1xuZXhwb3J0IGNvbnN0IFczbUZyYW1lSGVscGVycyA9IHtcbiAgICBjaGVja0lmQWxsb3dlZFRvVHJpZ2dlckVtYWlsKCkge1xuICAgICAgICBjb25zdCBsYXN0RW1haWxMb2dpblRpbWUgPSBXM21GcmFtZVN0b3JhZ2UuZ2V0KFczbUZyYW1lQ29uc3RhbnRzLkxBU1RfRU1BSUxfTE9HSU5fVElNRSk7XG4gICAgICAgIGlmIChsYXN0RW1haWxMb2dpblRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBEYXRlLm5vdygpIC0gTnVtYmVyKGxhc3RFbWFpbExvZ2luVGltZSk7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZSA8IEVNQUlMX01JTklNVU1fVElNRU9VVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb2xkb3duU2VjID0gTWF0aC5jZWlsKChFTUFJTF9NSU5JTVVNX1RJTUVPVVQgLSBkaWZmZXJlbmNlKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciAke2Nvb2xkb3duU2VjfSBzZWNvbmRzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFRpbWVUb05leHRFbWFpbExvZ2luKCkge1xuICAgICAgICBjb25zdCBsYXN0RW1haWxMb2dpblRpbWUgPSBXM21GcmFtZVN0b3JhZ2UuZ2V0KFczbUZyYW1lQ29uc3RhbnRzLkxBU1RfRU1BSUxfTE9HSU5fVElNRSk7XG4gICAgICAgIGlmIChsYXN0RW1haWxMb2dpblRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBEYXRlLm5vdygpIC0gTnVtYmVyKGxhc3RFbWFpbExvZ2luVGltZSk7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZSA8IEVNQUlMX01JTklNVU1fVElNRU9VVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoKEVNQUlMX01JTklNVU1fVElNRU9VVCAtIGRpZmZlcmVuY2UpIC8gMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBjaGVja0lmUmVxdWVzdEV4aXN0cyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiAoVzNtRnJhbWVScGNDb25zdGFudHMuTk9UX1NBRkVfUlBDX01FVEhPRFMuaW5jbHVkZXMocmVxdWVzdC5tZXRob2QpIHx8XG4gICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5TQUZFX1JQQ19NRVRIT0RTLmluY2x1ZGVzKHJlcXVlc3QubWV0aG9kKSk7XG4gICAgfSxcbiAgICBnZXRSZXNwb25zZVR5cGUocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgaXNQYXlsb2FkU3RyaW5nID0gdHlwZW9mIHJlc3BvbnNlID09PSAnc3RyaW5nJztcbiAgICAgICAgY29uc3QgaXNUcmFuc2FjdGlvbkhhc2ggPSBpc1BheWxvYWRTdHJpbmcgJiZcbiAgICAgICAgICAgIChyZXNwb25zZT8ubWF0Y2goUmVnZXhVdGlsLnRyYW5zYWN0aW9uSGFzaCkgfHwgcmVzcG9uc2U/Lm1hdGNoKFJlZ2V4VXRpbC5zaWduZWRNZXNzYWdlKSk7XG4gICAgICAgIGlmIChpc1RyYW5zYWN0aW9uSGFzaCkge1xuICAgICAgICAgICAgcmV0dXJuIFczbUZyYW1lQ29uc3RhbnRzLlJQQ19SRVNQT05TRV9UWVBFX1RYO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBXM21GcmFtZUNvbnN0YW50cy5SUENfUkVTUE9OU0VfVFlQRV9PQkpFQ1Q7XG4gICAgfSxcbiAgICBjaGVja0lmUmVxdWVzdElzU2FmZShyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBXM21GcmFtZVJwY0NvbnN0YW50cy5TQUZFX1JQQ19NRVRIT0RTLmluY2x1ZGVzKHJlcXVlc3QubWV0aG9kKTtcbiAgICB9LFxuICAgIGlzQ2xpZW50OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVczbUZyYW1lSGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameHelpers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   W3mFrameStorage: () => (/* binding */ W3mFrameStorage)\n/* harmony export */ });\n/* harmony import */ var _W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./W3mFrameConstants.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _W3mFrameHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./W3mFrameHelpers.js */ \"(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameHelpers.js\");\n\n\nconst W3mFrameStorage = {\n    set(key, value) {\n        if (_W3mFrameHelpers_js__WEBPACK_IMPORTED_MODULE_0__.W3mFrameHelpers.isClient) {\n            localStorage.setItem(`${_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.STORAGE_KEY}${key}`, value);\n        }\n    },\n    get(key) {\n        if (_W3mFrameHelpers_js__WEBPACK_IMPORTED_MODULE_0__.W3mFrameHelpers.isClient) {\n            return localStorage.getItem(`${_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.STORAGE_KEY}${key}`);\n        }\n        return null;\n    },\n    delete(key, social) {\n        if (_W3mFrameHelpers_js__WEBPACK_IMPORTED_MODULE_0__.W3mFrameHelpers.isClient) {\n            if (social) {\n                localStorage.removeItem(key);\n            }\n            else {\n                localStorage.removeItem(`${_W3mFrameConstants_js__WEBPACK_IMPORTED_MODULE_1__.W3mFrameConstants.STORAGE_KEY}${key}`);\n            }\n        }\n    }\n};\n//# sourceMappingURL=W3mFrameStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXdhbGxldC9kaXN0L2VzbS9zcmMvVzNtRnJhbWVTdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyRDtBQUNKO0FBQ2hEO0FBQ1A7QUFDQSxZQUFZLGdFQUFlO0FBQzNCLG9DQUFvQyxvRUFBaUIsYUFBYSxFQUFFLElBQUk7QUFDeEU7QUFDQSxLQUFLO0FBQ0w7QUFDQSxZQUFZLGdFQUFlO0FBQzNCLDJDQUEyQyxvRUFBaUIsYUFBYSxFQUFFLElBQUk7QUFDL0U7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsb0VBQWlCLGFBQWEsRUFBRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC13YWxsZXQvZGlzdC9lc20vc3JjL1czbUZyYW1lU3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXM21GcmFtZUNvbnN0YW50cyB9IGZyb20gJy4vVzNtRnJhbWVDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgVzNtRnJhbWVIZWxwZXJzIH0gZnJvbSAnLi9XM21GcmFtZUhlbHBlcnMuanMnO1xuZXhwb3J0IGNvbnN0IFczbUZyYW1lU3RvcmFnZSA9IHtcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoVzNtRnJhbWVIZWxwZXJzLmlzQ2xpZW50KSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtXM21GcmFtZUNvbnN0YW50cy5TVE9SQUdFX0tFWX0ke2tleX1gLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldChrZXkpIHtcbiAgICAgICAgaWYgKFczbUZyYW1lSGVscGVycy5pc0NsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke1czbUZyYW1lQ29uc3RhbnRzLlNUT1JBR0VfS0VZfSR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZGVsZXRlKGtleSwgc29jaWFsKSB7XG4gICAgICAgIGlmIChXM21GcmFtZUhlbHBlcnMuaXNDbGllbnQpIHtcbiAgICAgICAgICAgIGlmIChzb2NpYWwpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7VzNtRnJhbWVDb25zdGFudHMuU1RPUkFHRV9LRVl9JHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VzNtRnJhbWVTdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/exports/constants.js":
/*!******************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/exports/constants.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PACKAGE_VERSION: () => (/* binding */ PACKAGE_VERSION)\n/* harmony export */ });\nconst PACKAGE_VERSION = '1.8.11';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL2V4cG9ydHMvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQvZGlzdC9lc20vZXhwb3J0cy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBBQ0tBR0VfVkVSU0lPTiA9ICcxLjguMTEnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/exports/constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/exports/core.js":
/*!*************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/exports/core.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKit: () => (/* reexport safe */ _src_client_appkit_core_js__WEBPACK_IMPORTED_MODULE_0__.AppKit),\n/* harmony export */   createAppKit: () => (/* binding */ createAppKit)\n/* harmony export */ });\n/* harmony import */ var _src_client_appkit_core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/client/appkit-core.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-core.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/exports/constants.js\");\n\n\nfunction createAppKit(options) {\n    return new _src_client_appkit_core_js__WEBPACK_IMPORTED_MODULE_0__.AppKit({\n        ...options,\n        basic: true,\n        sdkVersion: `html-core-${_constants_js__WEBPACK_IMPORTED_MODULE_1__.PACKAGE_VERSION}`\n    });\n}\n\n//# sourceMappingURL=core.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL2V4cG9ydHMvY29yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNEO0FBQ0w7QUFDMUM7QUFDUCxlQUFlLDhEQUFNO0FBQ3JCO0FBQ0E7QUFDQSxpQ0FBaUMsMERBQWUsQ0FBQztBQUNqRCxLQUFLO0FBQ0w7QUFDa0I7QUFDbEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC9kaXN0L2VzbS9leHBvcnRzL2NvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwS2l0IH0gZnJvbSAnLi4vc3JjL2NsaWVudC9hcHBraXQtY29yZS5qcyc7XG5pbXBvcnQgeyBQQUNLQUdFX1ZFUlNJT04gfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXBwS2l0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEFwcEtpdCh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGJhc2ljOiB0cnVlLFxuICAgICAgICBzZGtWZXJzaW9uOiBgaHRtbC1jb3JlLSR7UEFDS0FHRV9WRVJTSU9OfWBcbiAgICB9KTtcbn1cbmV4cG9ydCB7IEFwcEtpdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/exports/core.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-base-client.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/src/client/appkit-base-client.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKitBaseClient: () => (/* binding */ AppKitBaseClient)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n/* harmony import */ var _reown_appkit_scaffold_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-scaffold-ui/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/utils.js\");\n/* harmony import */ var _reown_appkit_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-ui */ \"(app-pages-browser)/./node_modules/@reown/appkit-ui/dist/esm/exports/index.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/TokenUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ErrorUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/CaipNetworkUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/HelpersUtil.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/LoggerUtil.js\");\n/* harmony import */ var _universal_adapter_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../universal-adapter/client.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/universal-adapter/client.js\");\n/* harmony import */ var _utils_ConfigUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ConfigUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConfigUtil.js\");\n\n\n\n\n\n\n\n\nclass AppKitBaseClient {\n    constructor(options) {\n        this.chainNamespaces = [];\n        this.features = {};\n        this.remoteFeatures = {};\n        this.reportedAlertErrors = {};\n        // -- Public Internal ---------------------------------------------------\n        this.getCaipNetwork = (chainNamespace, id) => {\n            if (chainNamespace) {\n                const caipNetworkWithId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getCaipNetworks(chainNamespace)?.find(c => c.id === id);\n                if (caipNetworkWithId) {\n                    return caipNetworkWithId;\n                }\n                const namespaceCaipNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getNetworkData(chainNamespace)?.caipNetwork;\n                if (namespaceCaipNetwork) {\n                    return namespaceCaipNetwork;\n                }\n                const requestedCaipNetworks = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getRequestedCaipNetworks(chainNamespace);\n                return requestedCaipNetworks.filter(c => c.chainNamespace === chainNamespace)?.[0];\n            }\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork || this.defaultCaipNetwork;\n        };\n        this.getCaipNetworkId = () => {\n            const network = this.getCaipNetwork();\n            if (network) {\n                return network.id;\n            }\n            return undefined;\n        };\n        this.getCaipNetworks = (namespace) => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getCaipNetworks(namespace);\n        this.getActiveChainNamespace = () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        this.setRequestedCaipNetworks = (requestedCaipNetworks, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setRequestedCaipNetworks(requestedCaipNetworks, chain);\n        };\n        this.getApprovedCaipNetworkIds = () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAllApprovedCaipNetworkIds();\n        this.getCaipAddress = (chainNamespace) => {\n            if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain === chainNamespace || !chainNamespace) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress;\n            }\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.get(chainNamespace)?.accountState?.caipAddress;\n        };\n        this.setClientId = clientId => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.setClientId(clientId);\n        };\n        this.getProvider = (namespace) => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(namespace);\n        this.getProviderType = (namespace) => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(namespace);\n        this.getPreferredAccountType = (namespace) => (0,_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.getPreferredAccountType)(namespace);\n        this.setCaipAddress = (caipAddress, chain, shouldRefresh = false) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('caipAddress', caipAddress, chain, shouldRefresh);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('address', _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(caipAddress), chain, shouldRefresh);\n        };\n        this.setBalance = (balance, balanceSymbol, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('balance', balance, chain);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('balanceSymbol', balanceSymbol, chain);\n        };\n        this.setProfileName = (profileName, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('profileName', profileName, chain);\n        };\n        this.setProfileImage = (profileImage, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('profileImage', profileImage, chain);\n        };\n        this.setUser = (user, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('user', user, chain);\n        };\n        this.resetAccount = (chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.resetAccount(chain);\n        };\n        this.setCaipNetwork = caipNetwork => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setActiveCaipNetwork(caipNetwork);\n        };\n        this.setCaipNetworkOfNamespace = (caipNetwork, chainNamespace) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setChainNetworkData(chainNamespace, { caipNetwork });\n        };\n        this.setStatus = (status, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('status', status, chain);\n            // If at least one namespace is connected, set the connection status\n            if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.isConnected()) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.setConnectionStatus('connected');\n            }\n            else {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.setConnectionStatus('disconnected');\n            }\n        };\n        this.getAddressByChainNamespace = (chainNamespace) => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(chainNamespace)?.address;\n        this.setConnectors = connectors => {\n            const allConnectors = [..._reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.allConnectors, ...connectors];\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.setConnectors(allConnectors);\n        };\n        this.setConnections = (connections, chainNamespace) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.setConnections(connections, chainNamespace);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.setConnections(connections, chainNamespace);\n        };\n        this.fetchIdentity = request => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.fetchIdentity(request);\n        this.getReownName = address => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_13__.EnsController.getNamesForAddress(address);\n        this.getConnectors = () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectors();\n        this.getConnectorImage = connector => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_14__.AssetUtil.getConnectorImage(connector);\n        this.getConnections = (namespace) => {\n            if (!this.remoteFeatures.multiWallet) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT, 'info');\n                return [];\n            }\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_17__.ConnectionControllerUtil.getConnectionsData(namespace).connections;\n        };\n        this.getRecentConnections = (namespace) => {\n            if (!this.remoteFeatures.multiWallet) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT, 'info');\n                return [];\n            }\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_17__.ConnectionControllerUtil.getConnectionsData(namespace).recentConnections;\n        };\n        this.switchConnection = async (params) => {\n            if (!this.remoteFeatures.multiWallet) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT, 'info');\n                return;\n            }\n            await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.switchConnection(params);\n        };\n        this.deleteConnection = params => {\n            if (!this.remoteFeatures.multiWallet) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT, 'info');\n                return;\n            }\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.deleteAddressFromConnection(params);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.syncStorageConnections();\n        };\n        this.setConnectedWalletInfo = (connectedWalletInfo, chain) => {\n            const type = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(chain);\n            const walletInfo = connectedWalletInfo ? { ...connectedWalletInfo, type } : undefined;\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('connectedWalletInfo', walletInfo, chain);\n        };\n        this.getIsConnectedState = () => Boolean(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress);\n        this.addAddressLabel = (address, label, chain) => {\n            const addressLabels = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(chain)?.addressLabels || {};\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('addressLabels', { ...addressLabels, [address]: label }, chain);\n        };\n        this.removeAddressLabel = (address, chain) => {\n            const addressLabels = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(chain)?.addressLabels || {};\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('addressLabels', { ...addressLabels, [address]: undefined }, chain);\n        };\n        this.getAddress = (chainNamespace) => {\n            const namespace = chainNamespace || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(namespace)?.address;\n        };\n        this.resetNetwork = (namespace) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.resetNetwork(namespace);\n        };\n        this.addConnector = connector => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.addConnector(connector);\n        };\n        this.resetWcConnection = () => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.resetWcConnection();\n        };\n        this.setAddressExplorerUrl = (addressExplorerUrl, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('addressExplorerUrl', addressExplorerUrl, chain);\n        };\n        this.setSmartAccountDeployed = (isDeployed, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('smartAccountDeployed', isDeployed, chain);\n        };\n        this.setPreferredAccountType = (preferredAccountType, chain) => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('preferredAccountType', preferredAccountType, chain);\n        };\n        this.setEIP6963Enabled = enabled => {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEIP6963Enabled(enabled);\n        };\n        this.handleUnsafeRPCRequest = () => {\n            if (this.isOpen()) {\n                // If we are on the modal but there is no transaction stack, close the modal\n                if (this.isTransactionStackEmpty()) {\n                    return;\n                }\n                // Check if we need to replace or redirect\n                this.redirect('ApproveTransaction');\n            }\n            else {\n                // If called from outside the modal, open ApproveTransaction\n                this.open({ view: 'ApproveTransaction' });\n            }\n        };\n        this.options = options;\n        this.version = options.sdkVersion;\n        this.caipNetworks = this.extendCaipNetworks(options);\n        this.chainNamespaces = this.getChainNamespacesSet(options.adapters, this.caipNetworks);\n        this.defaultCaipNetwork = this.extendDefaultCaipNetwork(options);\n        this.chainAdapters = this.createAdapters(options.adapters);\n        this.readyPromise = this.initialize(options);\n    }\n    getChainNamespacesSet(adapters, caipNetworks) {\n        const adapterNamespaces = adapters\n            ?.map(adapter => adapter.namespace)\n            .filter((namespace) => Boolean(namespace));\n        if (adapterNamespaces?.length) {\n            return [...new Set(adapterNamespaces)];\n        }\n        const networkNamespaces = caipNetworks?.map(network => network.chainNamespace);\n        return [...new Set(networkNamespaces)];\n    }\n    async initialize(options) {\n        this.initializeProjectSettings(options);\n        this.initControllers(options);\n        await this.initChainAdapters();\n        this.sendInitializeEvent(options);\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.enableReconnect) {\n            await this.syncExistingConnection();\n            await this.syncAdapterConnections();\n        }\n        else {\n            await this.unSyncExistingConnection();\n        }\n        this.remoteFeatures = await _utils_ConfigUtil_js__WEBPACK_IMPORTED_MODULE_4__.ConfigUtil.fetchRemoteFeatures(options);\n        await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_19__.ApiController.fetchUsage();\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setRemoteFeatures(this.remoteFeatures);\n        if (this.remoteFeatures.onramp) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_20__.OnRampController.setOnrampProviders(this.remoteFeatures.onramp);\n        }\n        // Check allowed origins only if email or social features are enabled\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures?.email ||\n            (Array.isArray(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures?.socials) &&\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures?.socials.length > 0)) {\n            await this.checkAllowedOrigins();\n        }\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.features?.reownAuthentication ||\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures?.reownAuthentication) {\n            const { ReownAuthentication } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_reown_appkit-controllers_dist_esm_exports_features_js\").then(__webpack_require__.bind(__webpack_require__, /*! @reown/appkit-controllers/features */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/exports/features.js\"));\n            const currentSIWX = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.siwx;\n            if (!(currentSIWX instanceof ReownAuthentication)) {\n                if (currentSIWX) {\n                    console.warn('ReownAuthentication option is enabled, SIWX configuration will be overridden.');\n                }\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setSIWX(new ReownAuthentication());\n            }\n            // If siwx is already configured for ReownAuthentication we keep the current instance\n        }\n    }\n    async openSend(args) {\n        const namespaceToUse = args.namespace || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const caipAddress = this.getCaipAddress(namespaceToUse);\n        const chainId = this.getCaipNetwork(namespaceToUse)?.id;\n        if (!caipAddress) {\n            throw new Error('openSend: caipAddress not found');\n        }\n        if (chainId?.toString() !== args.chainId.toString()) {\n            const caipNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getCaipNetworkById(args.chainId, namespaceToUse);\n            if (!caipNetwork) {\n                throw new Error(`openSend: caipNetwork with chainId ${args.chainId} not found`);\n            }\n            await this.switchNetwork(caipNetwork, { throwOnFailure: true });\n        }\n        try {\n            const symbol = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_21__.TokenUtil.getTokenSymbolByAddress(args.assetAddress);\n            if (symbol) {\n                await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_19__.ApiController.fetchTokenImages([symbol]);\n            }\n        }\n        catch {\n            /* Ignore */\n        }\n        await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.open({\n            view: 'WalletSend',\n            data: { send: args }\n        });\n        return new Promise((resolve, reject) => {\n            const unsubscribe = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_23__.SendController.subscribeKey('hash', hash => {\n                if (hash) {\n                    cleanup();\n                    resolve({ hash });\n                }\n            });\n            const unsubscribeModal = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.subscribe(modal => {\n                if (!modal.open) {\n                    cleanup();\n                    reject(new Error('Modal closed'));\n                }\n            });\n            const cleanup = this.createCleanupHandler([unsubscribe, unsubscribeModal]);\n        });\n    }\n    toModalOptions() {\n        function isSwap(options) {\n            return options?.view === 'Swap';\n        }\n        function isSend(options) {\n            return options?.view === 'WalletSend';\n        }\n        return {\n            isSwap,\n            isSend\n        };\n    }\n    async checkAllowedOrigins() {\n        try {\n            const allowedOrigins = await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_19__.ApiController.fetchAllowedOrigins();\n            if (!_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isClient()) {\n                return;\n            }\n            const currentOrigin = window.location.origin;\n            const isOriginAllowed = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_24__.WcHelpersUtil.isOriginAllowed(currentOrigin, allowedOrigins, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.DEFAULT_ALLOWED_ANCESTORS);\n            if (!isOriginAllowed) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.ORIGIN_NOT_ALLOWED, 'error');\n            }\n        }\n        catch (error) {\n            if (!(error instanceof Error)) {\n                return;\n            }\n            switch (error.message) {\n                case 'RATE_LIMITED':\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION, 'error');\n                    break;\n                case 'SERVER_ERROR': {\n                    const originalError = error.cause instanceof Error ? error.cause : error;\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open({\n                        displayMessage: _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,\n                        debugMessage: _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(originalError.message)\n                    }, 'error');\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n    }\n    createCleanupHandler(unsubscribeFunctions) {\n        return () => {\n            unsubscribeFunctions.forEach(unsubscribe => {\n                try {\n                    unsubscribe();\n                }\n                catch {\n                    // Ignore cleanup errors\n                }\n            });\n        };\n    }\n    sendInitializeEvent(options) {\n        const { ...optionsCopy } = options;\n        delete optionsCopy.adapters;\n        delete optionsCopy.universalProvider;\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.sendEvent({\n            type: 'track',\n            event: 'INITIALIZE',\n            properties: {\n                ...optionsCopy,\n                networks: options.networks.map(n => n.id),\n                siweConfig: {\n                    options: options.siweConfig?.options || {}\n                }\n            }\n        });\n    }\n    // -- Controllers initialization ---------------------------------------------------\n    initControllers(options) {\n        this.initializeOptionsController(options);\n        this.initializeChainController(options);\n        this.initializeThemeController(options);\n        this.initializeConnectionController(options);\n        this.initializeConnectorController();\n    }\n    initAdapterController() {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_27__.AdapterController.initialize(this.chainAdapters);\n    }\n    initializeThemeController(options) {\n        if (options.themeMode) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.setThemeMode(options.themeMode);\n        }\n        if (options.themeVariables) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.setThemeVariables(options.themeVariables);\n        }\n    }\n    initializeChainController(options) {\n        if (!this.connectionControllerClient) {\n            throw new Error('ConnectionControllerClient must be set');\n        }\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.initialize(options.adapters ?? [], this.caipNetworks, {\n            connectionControllerClient: this.connectionControllerClient\n        });\n        const network = this.getDefaultNetwork();\n        if (network) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setActiveCaipNetwork(network);\n        }\n    }\n    initializeConnectionController(options) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.initialize(options.adapters ?? []);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.setWcBasic(options.basic ?? false);\n    }\n    initializeConnectorController() {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.initialize(this.chainNamespaces);\n    }\n    initializeProjectSettings(options) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setProjectId(options.projectId);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setSdkVersion(options.sdkVersion);\n    }\n    initializeOptionsController(options) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setDebug(options.debug !== false);\n        // On by default\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableWalletGuide(options.enableWalletGuide !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableWallets(options.enableWallets !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEIP6963Enabled(options.enableEIP6963 !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableNetworkSwitch(options.enableNetworkSwitch !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableReconnect(options.enableReconnect !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableMobileFullScreen(options.enableMobileFullScreen === true);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setCoinbasePreference(options.coinbasePreference);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableAuthLogger(options.enableAuthLogger !== false);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setCustomRpcUrls(options.customRpcUrls);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableEmbedded(options.enableEmbedded);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setAllWallets(options.allWallets);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setIncludeWalletIds(options.includeWalletIds);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setExcludeWalletIds(options.excludeWalletIds);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setFeaturedWalletIds(options.featuredWalletIds);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setTokens(options.tokens);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setTermsConditionsUrl(options.termsConditionsUrl);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setPrivacyPolicyUrl(options.privacyPolicyUrl);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setCustomWallets(options.customWallets);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setFeatures(options.features);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setAllowUnsupportedChain(options.allowUnsupportedChain);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setUniversalProviderConfigOverride(options.universalProviderConfigOverride);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setPreferUniversalLinks(options.experimental_preferUniversalLinks);\n        // Save option in controller\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setDefaultAccountTypes(options.defaultAccountTypes);\n        const defaultMetaData = this.getDefaultMetaData();\n        if (!options.metadata && defaultMetaData) {\n            options.metadata = defaultMetaData;\n        }\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setMetadata(options.metadata);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setDisableAppend(options.disableAppend);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setEnableEmbedded(options.enableEmbedded);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setSIWX(options.siwx);\n        this.features = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.features ?? {};\n        if (!options.projectId) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED, 'error');\n            return;\n        }\n        const evmAdapter = options.adapters?.find(adapter => adapter.namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CHAIN.EVM);\n        // Set the SIWE client for EVM chains\n        if (evmAdapter) {\n            if (options.siweConfig) {\n                if (options.siwx) {\n                    throw new Error('Cannot set both `siweConfig` and `siwx` options');\n                }\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setSIWX(options.siweConfig.mapToSIWX());\n            }\n        }\n    }\n    getDefaultMetaData() {\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isClient()) {\n            return {\n                name: document.getElementsByTagName('title')?.[0]?.textContent || '',\n                description: document.querySelector('meta[property=\"og:description\"]')?.content || '',\n                url: window.location.origin,\n                icons: [document.querySelector('link[rel~=\"icon\"]')?.href || '']\n            };\n        }\n        return null;\n    }\n    // -- Network Initialization ---------------------------------------------------\n    setUnsupportedNetwork(chainId) {\n        const namespace = this.getActiveChainNamespace();\n        if (namespace) {\n            const unsupportedNetwork = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__.CaipNetworksUtil.getUnsupportedNetwork(`${namespace}:${chainId}`);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setActiveCaipNetwork(unsupportedNetwork);\n        }\n    }\n    getDefaultNetwork() {\n        return _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__.CaipNetworksUtil.getCaipNetworkFromStorage(this.defaultCaipNetwork);\n    }\n    extendCaipNetwork(network, options) {\n        const extendedNetwork = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__.CaipNetworksUtil.extendCaipNetwork(network, {\n            customNetworkImageUrls: options.chainImages,\n            projectId: options.projectId\n        });\n        return extendedNetwork;\n    }\n    extendCaipNetworks(options) {\n        const extendedNetworks = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__.CaipNetworksUtil.extendCaipNetworks(options.networks, {\n            customNetworkImageUrls: options.chainImages,\n            customRpcUrls: options.customRpcUrls,\n            projectId: options.projectId\n        });\n        return extendedNetworks;\n    }\n    extendDefaultCaipNetwork(options) {\n        const defaultNetwork = options.networks.find(n => n.id === options.defaultNetwork?.id);\n        const extendedNetwork = defaultNetwork\n            ? _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_29__.CaipNetworksUtil.extendCaipNetwork(defaultNetwork, {\n                customNetworkImageUrls: options.chainImages,\n                customRpcUrls: options.customRpcUrls,\n                projectId: options.projectId\n            })\n            : undefined;\n        return extendedNetwork;\n    }\n    /**\n     * Disconnects a connector with the given namespace and id. If the connector id is not provided, disconnects the adapter (namespace).\n     * @param namespace ChainNamespace\n     * @param id string\n     * @returns\n     */\n    async disconnectConnector(namespace, id) {\n        try {\n            this.setLoading(true, namespace);\n            let disconnectResult = {\n                connections: []\n            };\n            const adapter = this.getAdapter(namespace);\n            const caipAddress = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.get(namespace)?.accountState?.caipAddress;\n            /**\n             * When the page loaded, the controller doesn't have address yet.\n             * To disconnect, we are checking enableReconnect flag to disconnect the namespace.\n             */\n            if ((caipAddress || !_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.enableReconnect) && adapter?.disconnect) {\n                disconnectResult = await adapter.disconnect({ id });\n            }\n            this.setLoading(false, namespace);\n            return disconnectResult;\n        }\n        catch (error) {\n            this.setLoading(false, namespace);\n            throw new Error(`Failed to disconnect chains: ${error.message}`);\n        }\n    }\n    // -- Client Initialization ---------------------------------------------------\n    createClients() {\n        this.connectionControllerClient = {\n            connectWalletConnect: async () => {\n                const activeChain = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                const adapter = this.getAdapter(activeChain);\n                const chainId = this.getCaipNetwork(activeChain)?.id;\n                const connections = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.getConnections(activeChain);\n                const isMultiWallet = this.remoteFeatures.multiWallet;\n                const hasConnections = connections.length > 0;\n                if (!adapter) {\n                    throw new Error('Adapter not found');\n                }\n                const result = await adapter.connectWalletConnect(chainId);\n                const shouldClose = !hasConnections || !isMultiWallet;\n                if (shouldClose) {\n                    this.close();\n                }\n                this.setClientId(result?.clientId || null);\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.setConnectedNamespaces([..._reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.keys()]);\n                await this.syncWalletConnectAccount();\n                await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_30__.SIWXUtil.initializeIfEnabled();\n            },\n            connectExternal: async (params) => {\n                const connectResult = await this.onConnectExternal(params);\n                await this.connectInactiveNamespaces(params, connectResult);\n                return connectResult ? { address: connectResult.address } : undefined;\n            },\n            reconnectExternal: async ({ id, info, type, provider }) => {\n                const namespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                const adapter = this.getAdapter(namespace);\n                if (!namespace) {\n                    throw new Error('reconnectExternal: namespace not found');\n                }\n                if (!adapter) {\n                    throw new Error('reconnectExternal: adapter not found');\n                }\n                if (adapter?.reconnect) {\n                    await adapter?.reconnect({ id, info, type, provider, chainId: this.getCaipNetwork()?.id });\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addConnectedNamespace(namespace);\n                    this.syncConnectedWalletInfo(namespace);\n                }\n            },\n            disconnectConnector: async (params) => {\n                await this.disconnectConnector(params.namespace, params.id);\n            },\n            disconnect: async (params) => {\n                const { id: connectorIdParam, chainNamespace, initialDisconnect } = params || {};\n                const namespace = chainNamespace || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                const namespaceConnectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(namespace);\n                const isAuth = connectorIdParam === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.AUTH ||\n                    namespaceConnectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.AUTH;\n                const isWalletConnect = connectorIdParam === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT ||\n                    namespaceConnectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n                try {\n                    const namespaces = Array.from(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.keys());\n                    let namespacesToDisconnect = chainNamespace ? [chainNamespace] : namespaces;\n                    /*\n                     * If the connector is WalletConnect or Auth, disconnect all namespaces\n                     * since they share a single connector instance across all adapters\n                     */\n                    if (isWalletConnect || isAuth) {\n                        namespacesToDisconnect = namespaces;\n                    }\n                    const disconnectPromises = namespacesToDisconnect.map(async (ns) => {\n                        const currentConnectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(ns);\n                        const connectorIdToDisconnect = connectorIdParam || currentConnectorId;\n                        const disconnectData = await this.disconnectConnector(ns, connectorIdToDisconnect);\n                        if (disconnectData) {\n                            if (isAuth) {\n                                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.deleteConnectedSocialProvider();\n                            }\n                            disconnectData.connections.forEach(connection => {\n                                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addDisconnectedConnectorId(connection.connectorId, ns);\n                            });\n                        }\n                        if (initialDisconnect) {\n                            this.onDisconnectNamespace({ chainNamespace: ns, closeModal: false });\n                        }\n                    });\n                    const disconnectResults = await Promise.allSettled(disconnectPromises);\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_23__.SendController.resetSend();\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.resetWcConnection();\n                    if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_30__.SIWXUtil.getSIWX()?.signOutOnDisconnect) {\n                        await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_30__.SIWXUtil.clearSessions();\n                    }\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.setFilterByNamespace(undefined);\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.syncStorageConnections();\n                    const failures = disconnectResults.filter((result) => result.status === 'rejected');\n                    if (failures.length > 0) {\n                        throw new Error(failures.map(f => f.reason.message).join(', '));\n                    }\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.sendEvent({\n                        type: 'track',\n                        event: 'DISCONNECT_SUCCESS',\n                        properties: {\n                            namespace: chainNamespace || 'all'\n                        }\n                    });\n                }\n                catch (error) {\n                    throw new Error(`Failed to disconnect chains: ${error.message}`);\n                }\n            },\n            checkInstalled: (ids) => {\n                if (!ids) {\n                    return Boolean(window.ethereum);\n                }\n                return ids.some(id => Boolean(window.ethereum?.[String(id)]));\n            },\n            signMessage: async (message) => {\n                const namespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!namespace) {\n                    throw new Error('signMessage: namespace not found');\n                }\n                if (!adapter) {\n                    throw new Error('signMessage: adapter not found');\n                }\n                const address = this.getAddress(namespace);\n                if (!address) {\n                    throw new Error('signMessage: address not found');\n                }\n                const result = await adapter?.signMessage({\n                    message,\n                    address,\n                    provider: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(namespace)\n                });\n                return result?.signature || '';\n            },\n            sendTransaction: async (args) => {\n                const namespace = args.chainNamespace;\n                if (!namespace) {\n                    throw new Error('sendTransaction: namespace not found');\n                }\n                if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_31__.ConstantsUtil.SEND_SUPPORTED_NAMESPACES.includes(namespace)) {\n                    const adapter = this.getAdapter(namespace);\n                    if (!adapter) {\n                        throw new Error('sendTransaction: adapter not found');\n                    }\n                    const provider = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(namespace);\n                    const result = await adapter?.sendTransaction({\n                        ...args,\n                        caipNetwork: this.getCaipNetwork(),\n                        provider\n                    });\n                    return result?.hash || '';\n                }\n                return '';\n            },\n            estimateGas: async (args) => {\n                const namespace = args.chainNamespace;\n                if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CHAIN.EVM) {\n                    const adapter = this.getAdapter(namespace);\n                    if (!adapter) {\n                        throw new Error('estimateGas: adapter is required but got undefined');\n                    }\n                    const provider = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(namespace);\n                    const caipNetwork = this.getCaipNetwork();\n                    if (!caipNetwork) {\n                        throw new Error('estimateGas: caipNetwork is required but got undefined');\n                    }\n                    const result = await adapter?.estimateGas({ ...args, provider, caipNetwork });\n                    return result?.gas || 0n;\n                }\n                return 0n;\n            },\n            getEnsAvatar: async () => {\n                const namespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                if (!namespace) {\n                    throw new Error('getEnsAvatar: namespace is required but got undefined');\n                }\n                const address = this.getAddress(namespace);\n                if (!address) {\n                    throw new Error('getEnsAvatar: address not found');\n                }\n                await this.syncIdentity({\n                    address,\n                    chainId: Number(this.getCaipNetwork()?.id),\n                    chainNamespace: namespace\n                });\n                const accountData = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData();\n                return accountData?.profileImage || false;\n            },\n            getEnsAddress: async (name) => await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_24__.WcHelpersUtil.resolveReownName(name),\n            writeContract: async (args) => {\n                const namespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                const adapter = this.getAdapter(namespace);\n                if (!namespace) {\n                    throw new Error('writeContract: namespace is required but got undefined');\n                }\n                if (!adapter) {\n                    throw new Error('writeContract: adapter is required but got undefined');\n                }\n                const caipNetwork = this.getCaipNetwork();\n                const caipAddress = this.getCaipAddress();\n                const provider = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(namespace);\n                if (!caipNetwork || !caipAddress) {\n                    throw new Error('writeContract: caipNetwork or caipAddress is required but got undefined');\n                }\n                const result = await adapter?.writeContract({ ...args, caipNetwork, provider, caipAddress });\n                return result?.hash;\n            },\n            parseUnits: (value, decimals) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('parseUnits: adapter is required but got undefined');\n                }\n                return adapter?.parseUnits({ value, decimals }) ?? 0n;\n            },\n            formatUnits: (value, decimals) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('formatUnits: adapter is required but got undefined');\n                }\n                return adapter?.formatUnits({ value, decimals }) ?? '0';\n            },\n            getCapabilities: async (params) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('getCapabilities: adapter is required but got undefined');\n                }\n                return await adapter?.getCapabilities(params);\n            },\n            grantPermissions: async (params) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('grantPermissions: adapter is required but got undefined');\n                }\n                return await adapter?.grantPermissions(params);\n            },\n            revokePermissions: async (params) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('revokePermissions: adapter is required but got undefined');\n                }\n                if (adapter?.revokePermissions) {\n                    return await adapter.revokePermissions(params);\n                }\n                return '0x';\n            },\n            walletGetAssets: async (params) => {\n                const adapter = this.getAdapter(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n                if (!adapter) {\n                    throw new Error('walletGetAssets: adapter is required but got undefined');\n                }\n                return (await adapter?.walletGetAssets(params)) ?? {};\n            },\n            updateBalance: (namespace) => {\n                const address = this.getAddress(namespace);\n                const caipNetwork = this.getCaipNetwork(namespace);\n                if (!caipNetwork || !address) {\n                    return;\n                }\n                this.updateNativeBalance(address, caipNetwork?.id, namespace);\n            }\n        };\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.setClient(this.connectionControllerClient);\n    }\n    async onConnectExternal(params) {\n        const activeChain = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const namespace = params.chain || activeChain;\n        const adapter = this.getAdapter(namespace);\n        let shouldUpdateNetwork = true;\n        if (params.type === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_AUTH) {\n            const authNamespaces = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS;\n            const hasConnectedAuthNamespace = authNamespaces.some(namespace => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(namespace) === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.AUTH);\n            if (hasConnectedAuthNamespace && params.chain !== activeChain) {\n                shouldUpdateNetwork = false;\n            }\n        }\n        if (params.chain && params.chain !== activeChain && !params.caipNetwork) {\n            const toConnectNetwork = this.getCaipNetworks().find(network => network.chainNamespace === params.chain);\n            if (toConnectNetwork && shouldUpdateNetwork) {\n                this.setCaipNetwork(toConnectNetwork);\n            }\n        }\n        if (!namespace) {\n            throw new Error('connectExternal: namespace not found');\n        }\n        if (!adapter) {\n            throw new Error('connectExternal: adapter not found');\n        }\n        const fallbackCaipNetwork = this.getCaipNetwork(namespace);\n        const caipNetworkToUse = params.caipNetwork || fallbackCaipNetwork;\n        const res = await adapter.connect({\n            id: params.id,\n            address: params.address,\n            info: params.info,\n            type: params.type,\n            provider: params.provider,\n            socialUri: params.socialUri,\n            chainId: params.caipNetwork?.id || fallbackCaipNetwork?.id,\n            rpcUrl: params.caipNetwork?.rpcUrls?.default?.http?.[0] ||\n                fallbackCaipNetwork?.rpcUrls?.default?.http?.[0]\n        });\n        if (!res) {\n            return undefined;\n        }\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addConnectedNamespace(namespace);\n        this.syncProvider({ ...res, chainNamespace: namespace });\n        this.setStatus('connected', namespace);\n        this.syncConnectedWalletInfo(namespace);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.removeDisconnectedConnectorId(params.id, namespace);\n        return { address: res.address, connectedCaipNetwork: caipNetworkToUse };\n    }\n    async connectInactiveNamespaces(params, connectResult) {\n        const isConnectingToAuth = params.type === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_AUTH;\n        const otherAuthNamespaces = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_33__.HelpersUtil.getOtherAuthNamespaces(connectResult?.connectedCaipNetwork?.chainNamespace);\n        const activeCaipNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork;\n        const activeAdapter = this.getAdapter(activeCaipNetwork?.chainNamespace);\n        if (isConnectingToAuth) {\n            await Promise.all(otherAuthNamespaces.map(async (ns) => {\n                try {\n                    const provider = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(ns);\n                    const caipNetworkToUse = this.getCaipNetwork(ns);\n                    const adapter = this.getAdapter(ns);\n                    const res = await adapter?.connect({\n                        ...params,\n                        provider,\n                        socialUri: undefined,\n                        chainId: caipNetworkToUse?.id,\n                        rpcUrl: caipNetworkToUse?.rpcUrls?.default?.http?.[0]\n                    });\n                    if (res) {\n                        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addConnectedNamespace(ns);\n                        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.removeDisconnectedConnectorId(params.id, ns);\n                        this.setStatus('connected', ns);\n                        this.syncConnectedWalletInfo(ns);\n                    }\n                }\n                catch (error) {\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.warn(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage, _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(ns, error instanceof Error ? error.message : undefined), _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code);\n                }\n            }));\n            // Make the secure site back to current network after reconnecting the other namespaces\n            if (activeCaipNetwork) {\n                await activeAdapter?.switchNetwork({\n                    caipNetwork: activeCaipNetwork\n                });\n            }\n        }\n    }\n    getApprovedCaipNetworksData() {\n        const providerType = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n        if (providerType === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_WALLET_CONNECT) {\n            const namespaces = this.universalProvider?.session?.namespaces;\n            return {\n                /*\n                 * MetaMask Wallet only returns 1 namespace in the session object. This makes it imposible\n                 * to switch to other networks. Setting supportsAllNetworks to true for MetaMask Wallet\n                 * will make it possible to switch to other networks.\n                 */\n                supportsAllNetworks: this.universalProvider?.session?.peer?.metadata.name === 'MetaMask Wallet',\n                approvedCaipNetworkIds: this.getChainsFromNamespaces(namespaces)\n            };\n        }\n        return { supportsAllNetworks: true, approvedCaipNetworkIds: [] };\n    }\n    async switchCaipNetwork(caipNetwork) {\n        const networkNamespace = caipNetwork.chainNamespace;\n        const namespaceAddress = this.getAddressByChainNamespace(caipNetwork.chainNamespace);\n        if (namespaceAddress) {\n            const providerType = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(networkNamespace);\n            if (caipNetwork.chainNamespace === _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain) {\n                const adapter = this.getAdapter(networkNamespace);\n                await adapter?.switchNetwork({ caipNetwork });\n            }\n            else {\n                this.setCaipNetwork(caipNetwork);\n                if (providerType === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_WALLET_CONNECT) {\n                    this.syncWalletConnectAccount();\n                }\n                else {\n                    const address = this.getAddressByChainNamespace(networkNamespace);\n                    if (address) {\n                        this.syncAccount({\n                            address,\n                            chainId: caipNetwork.id,\n                            chainNamespace: networkNamespace\n                        });\n                    }\n                }\n            }\n        }\n        else {\n            this.setCaipNetwork(caipNetwork);\n        }\n    }\n    getChainsFromNamespaces(namespaces = {}) {\n        return Object.values(namespaces).flatMap((namespace) => {\n            const chains = (namespace.chains || []);\n            const accountsChains = namespace.accounts.map(account => {\n                const { chainId, chainNamespace } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.parseCaipAddress(account);\n                return `${chainNamespace}:${chainId}`;\n            });\n            return Array.from(new Set([...chains, ...accountsChains]));\n        });\n    }\n    // -- Adapter Initialization ---------------------------------------------------\n    createAdapters(blueprints) {\n        this.createClients();\n        return this.chainNamespaces.reduce((adapters, namespace) => {\n            const blueprint = blueprints?.find(b => b.namespace === namespace);\n            if (blueprint) {\n                blueprint.construct({\n                    namespace,\n                    projectId: this.options?.projectId,\n                    networks: this.caipNetworks?.filter(({ chainNamespace }) => chainNamespace === namespace)\n                });\n                adapters[namespace] = blueprint;\n            }\n            else {\n                adapters[namespace] = new _universal_adapter_client_js__WEBPACK_IMPORTED_MODULE_3__.UniversalAdapter({\n                    namespace,\n                    networks: this.getCaipNetworks()\n                });\n            }\n            return adapters;\n            // eslint-disable-next-line @typescript-eslint/prefer-reduce-type-parameter\n        }, {});\n    }\n    async initChainAdapter(namespace) {\n        this.onConnectors(namespace);\n        this.listenAdapter(namespace);\n        const adapter = this.getAdapter(namespace);\n        if (!adapter) {\n            throw new Error('adapter not found');\n        }\n        await adapter.syncConnectors();\n        await this.createUniversalProviderForAdapter(namespace);\n    }\n    async initChainAdapters() {\n        await Promise.all(this.chainNamespaces.map(async (namespace) => {\n            await this.initChainAdapter(namespace);\n        }));\n        this.initAdapterController();\n    }\n    onConnectors(chainNamespace) {\n        const adapter = this.getAdapter(chainNamespace);\n        adapter?.on('connectors', this.setConnectors.bind(this));\n    }\n    listenAdapter(chainNamespace) {\n        const adapter = this.getAdapter(chainNamespace);\n        if (!adapter) {\n            return;\n        }\n        const connectionStatus = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getConnectionStatus();\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.enableReconnect === false) {\n            this.setStatus('disconnected', chainNamespace);\n        }\n        else if (connectionStatus === 'connected') {\n            this.setStatus('connecting', chainNamespace);\n        }\n        else if (connectionStatus === 'disconnected') {\n            /*\n             * Address cache is kept after disconnecting from the wallet\n             * but should be cleared if appkit is launched in disconnected state\n             */\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.clearAddressCache();\n            this.setStatus(connectionStatus, chainNamespace);\n        }\n        else {\n            this.setStatus(connectionStatus, chainNamespace);\n        }\n        adapter.on('switchNetwork', ({ address, chainId }) => {\n            const caipNetwork = this.getCaipNetworks().find(n => n.id.toString() === chainId.toString() ||\n                n.caipNetworkId.toString() === chainId.toString());\n            const isSameNamespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain === chainNamespace;\n            const accountAddress = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.get(chainNamespace)?.accountState?.address;\n            if (caipNetwork) {\n                const account = isSameNamespace && address ? address : accountAddress;\n                if (account) {\n                    this.syncAccount({ address: account, chainId: caipNetwork.id, chainNamespace });\n                }\n            }\n            else {\n                this.setUnsupportedNetwork(chainId);\n            }\n        });\n        adapter.on('disconnect', () => {\n            const isMultiWallet = this.remoteFeatures.multiWallet;\n            const allConnections = Array.from(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.state.connections.values()).flat();\n            this.onDisconnectNamespace({\n                chainNamespace,\n                closeModal: !isMultiWallet || allConnections.length === 0\n            });\n        });\n        adapter.on('connections', connections => {\n            this.setConnections(connections, chainNamespace);\n        });\n        adapter.on('pendingTransactions', () => {\n            const address = this.getAddress(chainNamespace);\n            const activeCaipNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork;\n            if (!address || !activeCaipNetwork?.id) {\n                return;\n            }\n            this.updateNativeBalance(address, activeCaipNetwork.id, activeCaipNetwork.chainNamespace);\n        });\n        adapter.on('accountChanged', ({ address, chainId, connector }) => {\n            this.handlePreviousConnectorConnection(connector);\n            const isActiveChain = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain === chainNamespace;\n            if (connector?.provider) {\n                this.syncProvider({\n                    id: connector.id,\n                    type: connector.type,\n                    provider: connector?.provider,\n                    chainNamespace\n                });\n                this.syncConnectedWalletInfo(chainNamespace);\n            }\n            const namespaceNetworkId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getNetworkData(chainNamespace)?.caipNetwork?.id;\n            const syncAccountChainId = chainId || namespaceNetworkId;\n            if (isActiveChain && syncAccountChainId) {\n                this.syncAccount({\n                    address,\n                    chainId: syncAccountChainId,\n                    chainNamespace\n                });\n            }\n            else if (!isActiveChain && syncAccountChainId) {\n                this.syncAccountInfo(address, syncAccountChainId, chainNamespace);\n                this.syncBalance({ address, chainId: syncAccountChainId, chainNamespace });\n            }\n            else {\n                this.syncAccountInfo(address, chainId, chainNamespace);\n            }\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addConnectedNamespace(chainNamespace);\n        });\n    }\n    /**\n     * Checks the incoming connector and handles the previous connection in the connector's namespace, and if necessary (i.e multi-wallet is disabled) disconnects the previous connector\n     * @param connector\n     */\n    async handlePreviousConnectorConnection(connector) {\n        const namespace = connector?.chain;\n        const newConnectorId = connector?.id;\n        const currentConnectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(namespace);\n        const isMultiWalletEnabled = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures?.multiWallet;\n        const hasNewConnectorConnected = currentConnectorId !== newConnectorId;\n        const shouldDisconnectPreviousConnector = namespace &&\n            newConnectorId &&\n            currentConnectorId &&\n            hasNewConnectorConnected &&\n            !isMultiWalletEnabled;\n        try {\n            if (shouldDisconnectPreviousConnector) {\n                await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.disconnect({ id: currentConnectorId, namespace });\n            }\n        }\n        catch (error) {\n            console.warn('Error disconnecting previous connector', error);\n        }\n    }\n    async createUniversalProviderForAdapter(chainNamespace) {\n        await this.getUniversalProvider();\n        if (this.universalProvider) {\n            await this.chainAdapters?.[chainNamespace]?.setUniversalProvider?.(this.universalProvider);\n        }\n    }\n    // -- Connection Sync ---------------------------------------------------\n    async syncExistingConnection() {\n        await Promise.allSettled(this.chainNamespaces.map(namespace => this.syncNamespaceConnection(namespace)));\n    }\n    async unSyncExistingConnection() {\n        try {\n            await Promise.allSettled(this.chainNamespaces.map(namespace => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.disconnect({ namespace, initialDisconnect: true })));\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('Error disconnecting existing connections:', error);\n        }\n    }\n    async reconnectWalletConnect() {\n        await this.syncWalletConnectAccount();\n        const address = this.getAddress();\n        if (!this.getCaipAddress()) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.deleteRecentWallet();\n        }\n        const recentWallet = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getRecentWallet();\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.sendEvent({\n            type: 'track',\n            event: 'CONNECT_SUCCESS',\n            address,\n            properties: {\n                method: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isMobile() ? 'mobile' : 'qrcode',\n                name: recentWallet?.name || 'Unknown',\n                reconnect: true,\n                view: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.state.view,\n                walletRank: recentWallet?.order\n            }\n        });\n    }\n    async syncNamespaceConnection(namespace) {\n        try {\n            if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CHAIN.EVM && _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isSafeApp()) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.setConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.SAFE, namespace);\n            }\n            const connectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(namespace);\n            this.setStatus('connecting', namespace);\n            switch (connectorId) {\n                case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT:\n                    await this.reconnectWalletConnect();\n                    break;\n                case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.AUTH:\n                    // Handled during initialization of adapters' auth provider\n                    break;\n                default:\n                    await this.syncAdapterConnection(namespace);\n            }\n        }\n        catch (err) {\n            console.warn(\"AppKit couldn't sync existing connection\", err);\n            this.setStatus('disconnected', namespace);\n        }\n    }\n    onDisconnectNamespace(options) {\n        const { chainNamespace, closeModal } = options || {};\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.resetAccount(chainNamespace);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.resetNetwork(chainNamespace);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.removeConnectedNamespace(chainNamespace);\n        const namespaces = Array.from(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.keys());\n        const namespacesToDisconnect = chainNamespace ? [chainNamespace] : namespaces;\n        namespacesToDisconnect.forEach(ns => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addDisconnectedConnectorId(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(ns) || '', ns));\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.removeConnectorId(chainNamespace);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.resetChain(chainNamespace);\n        this.setUser(null, chainNamespace);\n        this.setStatus('disconnected', chainNamespace);\n        this.setConnectedWalletInfo(null, chainNamespace);\n        if (closeModal !== false) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.close();\n        }\n    }\n    async syncAdapterConnections() {\n        await Promise.allSettled(this.chainNamespaces.map(namespace => {\n            const adapter = this.getAdapter(namespace);\n            const caipAddress = this.getCaipAddress(namespace);\n            const caipNetwork = this.getCaipNetwork(namespace);\n            return adapter?.syncConnections({\n                connectToFirstConnector: !caipAddress,\n                caipNetwork\n            });\n        }));\n    }\n    async syncAdapterConnection(namespace) {\n        const adapter = this.getAdapter(namespace);\n        const caipNetwork = this.getCaipNetwork(namespace);\n        const connectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(namespace);\n        const connectors = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectors(namespace);\n        const connector = connectors.find(c => c.id === connectorId);\n        try {\n            if (!adapter || !connector) {\n                throw new Error(`Adapter or connector not found for namespace ${namespace}`);\n            }\n            if (!caipNetwork?.id) {\n                throw new Error('CaipNetwork not found');\n            }\n            const connection = await adapter?.syncConnection({\n                namespace,\n                id: connector.id,\n                chainId: caipNetwork.id,\n                rpcUrl: caipNetwork?.rpcUrls?.default?.http?.[0]\n            });\n            if (connection) {\n                this.syncProvider({ ...connection, chainNamespace: namespace });\n                await this.syncAccount({ ...connection, chainNamespace: namespace });\n                this.setStatus('connected', namespace);\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'CONNECT_SUCCESS',\n                    address: connection.address,\n                    properties: {\n                        method: 'browser',\n                        name: connector.info?.name || connector.name || 'Unknown',\n                        reconnect: true,\n                        view: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.state.view,\n                        walletRank: undefined\n                    }\n                });\n            }\n            else {\n                this.setStatus('disconnected', namespace);\n            }\n        }\n        catch (e) {\n            this.onDisconnectNamespace({ chainNamespace: namespace, closeModal: false });\n        }\n    }\n    async syncWalletConnectAccount() {\n        const sessionNamespaces = Object.keys(this.universalProvider?.session?.namespaces || {});\n        const syncTasks = this.chainNamespaces.map(async (chainNamespace) => {\n            const adapter = this.getAdapter(chainNamespace);\n            if (!adapter) {\n                return;\n            }\n            const namespaceAccounts = this.universalProvider?.session?.namespaces?.[chainNamespace]?.accounts || [];\n            // We try and find the address for this network in the session object.\n            const activeChainId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.id;\n            const sessionAddress = namespaceAccounts.find(account => {\n                const { chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.parseCaipAddress(account);\n                return chainId === activeChainId?.toString();\n            }) || namespaceAccounts[0];\n            if (sessionAddress) {\n                const caipAddress = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.validateCaipAddress(sessionAddress);\n                const { chainId, address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.parseCaipAddress(caipAddress);\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.setProviderId(chainNamespace, _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_WALLET_CONNECT);\n                if (this.caipNetworks &&\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork &&\n                    adapter.namespace !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CHAIN.EVM) {\n                    const provider = adapter.getWalletConnectProvider({\n                        caipNetworks: this.getCaipNetworks(),\n                        provider: this.universalProvider,\n                        activeCaipNetwork: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork\n                    });\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.setProvider(chainNamespace, provider);\n                }\n                else {\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.setProvider(chainNamespace, this.universalProvider);\n                }\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.setConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT, chainNamespace);\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.addConnectedNamespace(chainNamespace);\n                await this.syncAccount({\n                    address,\n                    chainId,\n                    chainNamespace\n                });\n            }\n            else if (sessionNamespaces.includes(chainNamespace)) {\n                this.setStatus('disconnected', chainNamespace);\n            }\n            const data = this.getApprovedCaipNetworksData();\n            this.syncConnectedWalletInfo(chainNamespace);\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.setApprovedCaipNetworksData(chainNamespace, {\n                approvedCaipNetworkIds: data.approvedCaipNetworkIds,\n                supportsAllNetworks: data.supportsAllNetworks\n            });\n        });\n        await Promise.all(syncTasks);\n    }\n    syncProvider({ type, provider, id, chainNamespace }) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.setProviderId(chainNamespace, type);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.setProvider(chainNamespace, provider);\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.setConnectorId(id, chainNamespace);\n    }\n    async syncAccount(params) {\n        const isActiveNamespace = params.chainNamespace === _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const networkOfChain = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getCaipNetworkByNamespace(params.chainNamespace, params.chainId);\n        const { address, chainId, chainNamespace } = params;\n        const { chainId: activeChainId } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getActiveNetworkProps();\n        const chainIdToUse = networkOfChain?.id || activeChainId;\n        const isUnsupportedNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.name === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.UNSUPPORTED_NETWORK_NAME;\n        const shouldSupportAllNetworks = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getNetworkProp('supportsAllNetworks', chainNamespace);\n        this.setStatus('connected', chainNamespace);\n        if (isUnsupportedNetwork && !shouldSupportAllNetworks) {\n            return;\n        }\n        if (chainIdToUse) {\n            let caipNetwork = this.getCaipNetworks().find(n => n.id.toString() === chainIdToUse.toString());\n            let fallbackCaipNetwork = this.getCaipNetworks().find(n => n.chainNamespace === chainNamespace);\n            // If doesn't support all networks, we need to use approved networks\n            if (!shouldSupportAllNetworks && !caipNetwork && !fallbackCaipNetwork) {\n                // Connection can be requested for a chain that is not supported by the wallet so we need to use approved networks here\n                const caipNetworkIds = this.getApprovedCaipNetworkIds() || [];\n                const caipNetworkId = caipNetworkIds.find(id => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.parseCaipNetworkId(id)?.chainId === chainIdToUse.toString());\n                const fallBackCaipNetworkId = caipNetworkIds.find(id => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_34__.ParseUtil.parseCaipNetworkId(id)?.chainNamespace === chainNamespace);\n                caipNetwork = this.getCaipNetworks().find(n => n.caipNetworkId === caipNetworkId);\n                fallbackCaipNetwork = this.getCaipNetworks().find(n => n.caipNetworkId === fallBackCaipNetworkId ||\n                    // This is a workaround used in Solana network to support deprecated caipNetworkId\n                    ('deprecatedCaipNetworkId' in n && n.deprecatedCaipNetworkId === fallBackCaipNetworkId));\n            }\n            const network = caipNetwork || fallbackCaipNetwork;\n            if (network?.chainNamespace === _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain) {\n                // If the network is unsupported and the user doesn't allow unsupported chains, we show the unsupported chain UI\n                if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.enableNetworkSwitch &&\n                    !_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.allowUnsupportedChain &&\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.name === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.UNSUPPORTED_NETWORK_NAME) {\n                    _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.showUnsupportedChainUI();\n                }\n                else {\n                    this.setCaipNetwork(network);\n                }\n            }\n            else if (!isActiveNamespace) {\n                if (networkOfChain) {\n                    this.setCaipNetworkOfNamespace(networkOfChain, chainNamespace);\n                }\n            }\n            this.syncConnectedWalletInfo(chainNamespace);\n            const currentAddress = this.getAddress(chainNamespace);\n            if (!_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_33__.HelpersUtil.isLowerCaseMatch(address, currentAddress)) {\n                this.syncAccountInfo(address, network?.id, chainNamespace);\n            }\n            if (isActiveNamespace) {\n                await this.syncBalance({ address, chainId: network?.id, chainNamespace });\n            }\n            else {\n                await this.syncBalance({ address, chainId: networkOfChain?.id, chainNamespace });\n            }\n            this.syncIdentity({\n                address,\n                chainId,\n                chainNamespace\n            });\n        }\n    }\n    async syncAccountInfo(address, chainId, chainNamespace) {\n        const caipAddress = this.getCaipAddress(chainNamespace);\n        const newChainId = chainId || caipAddress?.split(':')[1];\n        if (!newChainId) {\n            return;\n        }\n        const newCaipAddress = `${chainNamespace}:${newChainId}:${address}`;\n        this.setCaipAddress(newCaipAddress, chainNamespace, true);\n        await this.syncIdentity({\n            address,\n            chainId: newChainId,\n            chainNamespace\n        });\n    }\n    async syncReownName(address, chainNamespace) {\n        try {\n            const registeredWcNames = await this.getReownName(address);\n            if (registeredWcNames[0]) {\n                const wcName = registeredWcNames[0];\n                this.setProfileName(wcName.name, chainNamespace);\n            }\n            else {\n                this.setProfileName(null, chainNamespace);\n            }\n        }\n        catch {\n            this.setProfileName(null, chainNamespace);\n        }\n    }\n    syncConnectedWalletInfo(chainNamespace) {\n        const connectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectorId(chainNamespace);\n        const providerType = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(chainNamespace);\n        if (providerType === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_ANNOUNCED ||\n            providerType === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_INJECTED) {\n            if (connectorId) {\n                const connectors = this.getConnectors();\n                const connector = connectors.find(c => {\n                    const isConnectorId = c.id === connectorId;\n                    const isRdns = c.info?.rdns === connectorId;\n                    const hasMultiChainConnector = c.connectors?.some(_c => _c.id === connectorId || _c.info?.rdns === connectorId);\n                    return isConnectorId || isRdns || Boolean(hasMultiChainConnector);\n                });\n                if (connector) {\n                    const { info, name, imageUrl } = connector;\n                    const icon = imageUrl || this.getConnectorImage(connector);\n                    this.setConnectedWalletInfo({ name, icon, ...info }, chainNamespace);\n                }\n            }\n        }\n        else if (providerType === _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_32__.ConstantsUtil.CONNECTOR_TYPE_WALLET_CONNECT) {\n            const provider = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProvider(chainNamespace);\n            if (provider?.session) {\n                this.setConnectedWalletInfo({\n                    ...provider.session.peer.metadata,\n                    name: provider.session.peer.metadata.name,\n                    icon: provider.session.peer.metadata.icons?.[0]\n                }, chainNamespace);\n            }\n        }\n        else if (connectorId) {\n            if (connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK ||\n                connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.COINBASE) {\n                const connector = this.getConnectors().find(c => c.id === connectorId);\n                const name = connector?.name || 'Coinbase Wallet';\n                const icon = connector?.imageUrl || this.getConnectorImage(connector);\n                const info = connector?.info;\n                this.setConnectedWalletInfo({\n                    ...info,\n                    name,\n                    icon\n                }, chainNamespace);\n            }\n        }\n    }\n    async syncBalance(params) {\n        const caipNetwork = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_36__.NetworkUtil.getNetworksByNamespace(this.getCaipNetworks(), params.chainNamespace).find(n => n.id.toString() === params.chainId?.toString());\n        if (!caipNetwork || !params.chainId) {\n            return;\n        }\n        await this.updateNativeBalance(params.address, params.chainId, params.chainNamespace);\n    }\n    async ready() {\n        await this.readyPromise;\n    }\n    async updateNativeBalance(address, chainId, namespace) {\n        const adapter = this.getAdapter(namespace);\n        const caipNetwork = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getCaipNetworkByNamespace(namespace, chainId);\n        if (adapter) {\n            const balance = await adapter.getBalance({\n                address,\n                chainId,\n                caipNetwork,\n                tokens: this.options.tokens\n            });\n            this.setBalance(balance.balance, balance.symbol, namespace);\n            return balance;\n        }\n        return undefined;\n    }\n    // -- Universal Provider ---------------------------------------------------\n    async initializeUniversalAdapter() {\n        const logger = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_37__.LoggerUtil.createLogger((error, ...args) => {\n            if (error) {\n                this.handleAlertError(error);\n            }\n            // eslint-disable-next-line no-console\n            console.error(...args);\n        });\n        const universalProviderOptions = {\n            projectId: this.options?.projectId,\n            metadata: {\n                name: this.options?.metadata ? this.options?.metadata.name : '',\n                description: this.options?.metadata ? this.options?.metadata.description : '',\n                url: this.options?.metadata ? this.options?.metadata.url : '',\n                icons: this.options?.metadata ? this.options?.metadata.icons : ['']\n            },\n            logger\n        };\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setManualWCControl(Boolean(this.options?.manualWCControl));\n        this.universalProvider =\n            this.options.universalProvider ?? (await _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(universalProviderOptions));\n        // Clear the session if we don't want to reconnect on init\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.enableReconnect === false && this.universalProvider.session) {\n            await this.universalProvider.disconnect();\n        }\n        this.listenWalletConnect();\n    }\n    listenWalletConnect() {\n        if (this.universalProvider) {\n            this.chainNamespaces.forEach(namespace => {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_24__.WcHelpersUtil.listenWcProvider({\n                    universalProvider: this.universalProvider,\n                    namespace,\n                    onDisplayUri: uri => {\n                        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.setUri(uri);\n                    },\n                    onConnect: accounts => {\n                        const { address } = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getAccount(accounts[0]);\n                        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.finalizeWcConnection(address);\n                    },\n                    onDisconnect: () => {\n                        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.noAdapters) {\n                            this.resetAccount(namespace);\n                        }\n                        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.resetWcConnection();\n                    },\n                    onChainChanged: chainId => {\n                        const activeNamespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                        const isCurrentConnectorWalletConnect = activeNamespace &&\n                            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.activeConnectorIds[activeNamespace] ===\n                                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n                        if (activeNamespace === namespace &&\n                            (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.noAdapters || isCurrentConnectorWalletConnect)) {\n                            const caipNetwork = this.getCaipNetworks().find(n => n.id.toString() === chainId.toString() ||\n                                n.caipNetworkId.toString() === chainId.toString());\n                            const currentCaipNetwork = this.getCaipNetwork();\n                            if (!caipNetwork) {\n                                this.setUnsupportedNetwork(chainId);\n                                return;\n                            }\n                            if (currentCaipNetwork?.id.toString() !== caipNetwork?.id.toString() &&\n                                currentCaipNetwork?.chainNamespace === caipNetwork?.chainNamespace) {\n                                this.setCaipNetwork(caipNetwork);\n                            }\n                        }\n                    },\n                    onAccountsChanged: accounts => {\n                        const activeNamespace = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n                        const isCurrentConnectorWalletConnect = activeNamespace &&\n                            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.activeConnectorIds[activeNamespace] ===\n                                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n                        if (activeNamespace === namespace &&\n                            (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.noAdapters || isCurrentConnectorWalletConnect)) {\n                            const account = accounts?.[0];\n                            if (account) {\n                                this.syncAccount({\n                                    address: account.address,\n                                    chainId: account.chainId,\n                                    chainNamespace: account.chainNamespace\n                                });\n                            }\n                        }\n                    }\n                });\n            });\n        }\n    }\n    createUniversalProvider() {\n        if (!this.universalProviderInitPromise &&\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isClient() &&\n            this.options?.projectId) {\n            this.universalProviderInitPromise = this.initializeUniversalAdapter();\n        }\n        return this.universalProviderInitPromise;\n    }\n    async getUniversalProvider() {\n        if (!this.universalProvider) {\n            try {\n                await this.createUniversalProvider();\n            }\n            catch (err) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.sendEvent({\n                    type: 'error',\n                    event: 'INTERNAL_SDK_ERROR',\n                    properties: {\n                        errorType: 'UniversalProviderInitError',\n                        errorMessage: err instanceof Error ? err.message : 'Unknown',\n                        uncaught: false\n                    }\n                });\n                // eslint-disable-next-line no-console\n                console.error('AppKit:getUniversalProvider - Cannot create provider', err);\n            }\n        }\n        return this.universalProvider;\n    }\n    getDisabledCaipNetworks() {\n        const approvedCaipNetworkIds = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAllApprovedCaipNetworkIds();\n        const requestedCaipNetworks = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAllRequestedCaipNetworks();\n        const sortedNetworks = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds, requestedCaipNetworks);\n        return sortedNetworks.filter(network => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.isCaipNetworkDisabled(network));\n    }\n    // - Utils -------------------------------------------------------------------\n    handleAlertError(error) {\n        const matchedUniversalProviderError = Object.entries(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.UniversalProviderErrors).find(([, { message }]) => error.message.includes(message));\n        const [errorKey, errorValue] = matchedUniversalProviderError ?? [];\n        const { message, alertErrorKey } = errorValue ?? {};\n        if (errorKey && message && !this.reportedAlertErrors[errorKey]) {\n            const alertError = _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS[alertErrorKey];\n            if (alertError) {\n                _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(alertError, 'error');\n                this.reportedAlertErrors[errorKey] = true;\n            }\n        }\n    }\n    getAdapter(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        return this.chainAdapters?.[namespace];\n    }\n    createAdapter(blueprint) {\n        if (!blueprint) {\n            return;\n        }\n        const namespace = blueprint.namespace;\n        if (!namespace) {\n            return;\n        }\n        this.createClients();\n        const adapterBlueprint = blueprint;\n        adapterBlueprint.namespace = namespace;\n        adapterBlueprint.construct({\n            namespace,\n            projectId: this.options?.projectId,\n            networks: this.caipNetworks?.filter(({ chainNamespace }) => chainNamespace === namespace)\n        });\n        if (!this.chainNamespaces.includes(namespace)) {\n            this.chainNamespaces.push(namespace);\n        }\n        if (this.chainAdapters) {\n            this.chainAdapters[namespace] = adapterBlueprint;\n        }\n    }\n    // -- Public -------------------------------------------------------------------\n    async open(options) {\n        await this.injectModalUi();\n        if (options?.uri) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.setUri(options.uri);\n        }\n        const { isSwap, isSend } = this.toModalOptions();\n        if (isSwap(options)) {\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.open({\n                ...options,\n                data: { swap: options.arguments }\n            });\n        }\n        else if (isSend(options)) {\n            if (options.arguments) {\n                return this.openSend(options.arguments);\n            }\n        }\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.open(options);\n    }\n    async close() {\n        await this.injectModalUi();\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.close();\n    }\n    setLoading(loading, namespace) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.setLoading(loading, namespace);\n    }\n    async disconnect(chainNamespace) {\n        await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.disconnect({ namespace: chainNamespace });\n    }\n    getSIWX() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.siwx;\n    }\n    // -- review these -------------------------------------------------------------------\n    getError() {\n        return '';\n    }\n    getChainId() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.id;\n    }\n    async switchNetwork(appKitNetwork, { throwOnFailure = false } = {}) {\n        const network = this.getCaipNetworks().find(n => n.id === appKitNetwork.id);\n        if (!network) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_utils__WEBPACK_IMPORTED_MODULE_25__.ErrorUtil.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND, 'error');\n            return;\n        }\n        await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.switchActiveNetwork(network, { throwOnFailure });\n    }\n    getWalletProvider() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain\n            ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.state.providers[_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain]\n            : null;\n    }\n    getWalletProviderType() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.getProviderId(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n    }\n    subscribeProviders(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_7__.ProviderController.subscribeProviders(callback);\n    }\n    getThemeMode() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.state.themeMode;\n    }\n    getThemeVariables() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.state.themeVariables;\n    }\n    setThemeMode(themeMode) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.setThemeMode(themeMode);\n        (0,_reown_appkit_ui__WEBPACK_IMPORTED_MODULE_2__.setColorTheme)(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.state.themeMode);\n    }\n    setTermsConditionsUrl(termsConditionsUrl) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setTermsConditionsUrl(termsConditionsUrl);\n    }\n    setPrivacyPolicyUrl(privacyPolicyUrl) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setPrivacyPolicyUrl(privacyPolicyUrl);\n    }\n    setThemeVariables(themeVariables) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.setThemeVariables(themeVariables);\n        (0,_reown_appkit_ui__WEBPACK_IMPORTED_MODULE_2__.setThemeVariables)(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.state.themeVariables);\n    }\n    subscribeTheme(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_28__.ThemeController.subscribe(callback);\n    }\n    subscribeConnections(callback) {\n        if (!this.remoteFeatures.multiWallet) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_15__.AlertController.open(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT, 'info');\n            return () => undefined;\n        }\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.subscribe(callback);\n    }\n    getWalletInfo(namespace) {\n        if (namespace) {\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.chains.get(namespace)?.accountState?.connectedWalletInfo;\n        }\n        const accountData = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData();\n        return accountData?.connectedWalletInfo;\n    }\n    getAccount(_namespace) {\n        const namespace = _namespace || _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const authConnector = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getAuthConnector(namespace);\n        const accountState = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(namespace);\n        const activeConnectorId = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getConnectedConnectorId(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n        const connections = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_12__.ConnectionController.getConnections(namespace);\n        if (!namespace) {\n            throw new Error('AppKit:getAccount - namespace is required');\n        }\n        const allAccounts = connections.flatMap(connection => connection.accounts.map(({ address, type, publicKey }) => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.createAccount(namespace, address, (type || 'eoa'), publicKey)));\n        if (!accountState) {\n            return undefined;\n        }\n        return {\n            allAccounts,\n            caipAddress: accountState.caipAddress,\n            address: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(accountState.caipAddress),\n            isConnected: Boolean(accountState.caipAddress),\n            status: accountState.status,\n            embeddedWalletInfo: authConnector && activeConnectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ConstantsUtil.CONNECTOR_ID.AUTH\n                ? {\n                    user: accountState.user\n                        ? {\n                            ...accountState.user,\n                            /*\n                             * Getting the username from the chain controller works well for social logins,\n                             * but Farcaster uses a different connection flow and doesn't emit the username via events.\n                             * Since the username is stored in local storage before the chain controller updates,\n                             * it's safe to use the local storage value here.\n                             */\n                            username: _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getConnectedSocialUsername()\n                        }\n                        : undefined,\n                    authProvider: accountState.socialProvider || 'email',\n                    accountType: (0,_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_8__.getPreferredAccountType)(namespace),\n                    isSmartAccountDeployed: Boolean(accountState.smartAccountDeployed)\n                }\n                : undefined\n        };\n    }\n    subscribeAccount(callback, namespace) {\n        const updateVal = () => {\n            const account = this.getAccount(namespace);\n            if (!account) {\n                return;\n            }\n            callback(account);\n        };\n        if (namespace) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeChainProp('accountState', updateVal, namespace);\n        }\n        else {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribe(updateVal);\n        }\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.subscribe(updateVal);\n    }\n    subscribeNetwork(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribe(({ activeCaipNetwork }) => {\n            callback({\n                caipNetwork: activeCaipNetwork,\n                chainId: activeCaipNetwork?.id,\n                caipNetworkId: activeCaipNetwork?.caipNetworkId\n            });\n        });\n    }\n    subscribeWalletInfo(callback, namespace) {\n        if (namespace) {\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeChainProp('accountState', accountState => callback(accountState?.connectedWalletInfo), namespace);\n        }\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeChainProp('accountState', accountState => callback(accountState?.connectedWalletInfo));\n    }\n    subscribeShouldUpdateToAddress(callback) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeChainProp('accountState', accountState => callback(accountState?.shouldUpdateToAddress));\n    }\n    subscribeCaipNetworkChange(callback) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipNetwork', callback);\n    }\n    getState() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_38__.PublicStateController.state;\n    }\n    getRemoteFeatures() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.remoteFeatures;\n    }\n    subscribeState(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_38__.PublicStateController.subscribe(callback);\n    }\n    subscribeRemoteFeatures(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.subscribeKey('remoteFeatures', callback);\n    }\n    showErrorMessage(message) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_39__.SnackController.showError(message);\n    }\n    showSuccessMessage(message) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_39__.SnackController.showSuccess(message);\n    }\n    getEvent() {\n        return { ..._reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.state };\n    }\n    subscribeEvents(callback) {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_26__.EventsController.subscribe(callback);\n    }\n    replace(route) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.replace(route);\n    }\n    redirect(route) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.push(route);\n    }\n    popTransactionStack(status) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.popTransactionStack(status);\n    }\n    isOpen() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_22__.ModalController.state.open;\n    }\n    isTransactionStackEmpty() {\n        return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_35__.RouterController.state.transactionStack.length === 0;\n    }\n    static getInstance() {\n        return this.instance;\n    }\n    updateFeatures(newFeatures) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setFeatures(newFeatures);\n    }\n    updateRemoteFeatures(newRemoteFeatures) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setRemoteFeatures(newRemoteFeatures);\n    }\n    updateOptions(newOptions) {\n        const currentOptions = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state || {};\n        const updatedOptions = { ...currentOptions, ...newOptions };\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setOptions(updatedOptions);\n    }\n    setConnectMethodsOrder(connectMethodsOrder) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setConnectMethodsOrder(connectMethodsOrder);\n    }\n    setWalletFeaturesOrder(walletFeaturesOrder) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setWalletFeaturesOrder(walletFeaturesOrder);\n    }\n    setCollapseWallets(collapseWallets) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setCollapseWallets(collapseWallets);\n    }\n    setSocialsOrder(socialsOrder) {\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.setSocialsOrder(socialsOrder);\n    }\n    getConnectMethodsOrder() {\n        return _reown_appkit_scaffold_ui_utils__WEBPACK_IMPORTED_MODULE_1__.WalletUtil.getConnectOrderMethod(_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_18__.OptionsController.state.features, _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.getConnectors());\n    }\n    /**\n     * Adds a network to an existing adapter in AppKit.\n     * @param namespace - The chain namespace to add the network to (e.g. 'eip155', 'solana')\n     * @param network - The network configuration to add\n     * @throws Error if adapter for namespace doesn't exist\n     */\n    addNetwork(namespace, network) {\n        if (this.chainAdapters && !this.chainAdapters[namespace]) {\n            throw new Error(`Adapter for namespace ${namespace} doesn't exist`);\n        }\n        const extendedNetwork = this.extendCaipNetwork(network, this.options);\n        if (!this.getCaipNetworks().find(n => n.id === extendedNetwork.id)) {\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.addNetwork(extendedNetwork);\n        }\n    }\n    /**\n     * Removes a network from an existing adapter in AppKit.\n     * @param namespace - The chain namespace the network belongs to\n     * @param networkId - The network ID to remove\n     * @throws Error if adapter for namespace doesn't exist or if removing last network\n     */\n    removeNetwork(namespace, networkId) {\n        if (this.chainAdapters && !this.chainAdapters[namespace]) {\n            throw new Error(`Adapter for namespace ${namespace} doesn't exist`);\n        }\n        const networkToRemove = this.getCaipNetworks().find(n => n.id === networkId);\n        if (!networkToRemove) {\n            return;\n        }\n        _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ChainController.removeNetwork(namespace, networkId);\n    }\n}\n//# sourceMappingURL=appkit-base-client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy9jbGllbnQvYXBwa2l0LWJhc2UtY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtFO0FBQ1c7QUFDb2M7QUFDcGQ7QUFDTztBQUNzRTtBQUN4RTtBQUNkO0FBQzdDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxzRUFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsc0VBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHNFQUFlO0FBQzdEO0FBQ0E7QUFDQSxtQkFBbUIsc0VBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzRUFBZTtBQUM3RCw2Q0FBNkMsc0VBQWU7QUFDNUQ7QUFDQSxZQUFZLHNFQUFlO0FBQzNCO0FBQ0EsK0NBQStDLHNFQUFlO0FBQzlEO0FBQ0EsZ0JBQWdCLHNFQUFlO0FBQy9CLHVCQUF1QixzRUFBZTtBQUN0QztBQUNBLG1CQUFtQixzRUFBZTtBQUNsQztBQUNBO0FBQ0EsWUFBWSw4RUFBdUI7QUFDbkM7QUFDQSwwQ0FBMEMseUVBQWtCO0FBQzVELDhDQUE4Qyx5RUFBa0I7QUFDaEUsc0RBQXNELGtGQUF1QjtBQUM3RTtBQUNBLFlBQVksc0VBQWU7QUFDM0IsWUFBWSxzRUFBZSwyQkFBMkIscUVBQWM7QUFDcEU7QUFDQTtBQUNBLFlBQVksc0VBQWU7QUFDM0IsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNB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QUN6QjtBQUNBO0FBQ0EsZUFBZSx1RUFBVSx1QkFBdUIseUVBQWlCLGlCQUFpQiwyRUFBbUI7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFdBQVc7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxXQUFXO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNFQUFlO0FBQ3ZCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy9jbGllbnQvYXBwa2l0LWJhc2UtY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml2ZXJzYWxQcm92aWRlciBmcm9tICdAd2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXInO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCwgTmV0d29ya1V0aWwsIFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEFkYXB0ZXJDb250cm9sbGVyLCBBbGVydENvbnRyb2xsZXIsIEFwaUNvbnRyb2xsZXIsIEFzc2V0VXRpbCwgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIsIENoYWluQ29udHJvbGxlciwgQ29ubmVjdGlvbkNvbnRyb2xsZXIsIENvbm5lY3Rpb25Db250cm9sbGVyVXRpbCwgQ29ubmVjdG9yQ29udHJvbGxlciwgQ29uc3RhbnRzVXRpbCBhcyBDb3JlQ29uc3RhbnRzVXRpbCwgQ29yZUhlbHBlclV0aWwsIEVuc0NvbnRyb2xsZXIsIEV2ZW50c0NvbnRyb2xsZXIsIE1vZGFsQ29udHJvbGxlciwgT25SYW1wQ29udHJvbGxlciwgT3B0aW9uc0NvbnRyb2xsZXIsIFByb3ZpZGVyQ29udHJvbGxlciwgUHVibGljU3RhdGVDb250cm9sbGVyLCBSb3V0ZXJDb250cm9sbGVyLCBTSVdYVXRpbCwgU2VuZENvbnRyb2xsZXIsIFNuYWNrQ29udHJvbGxlciwgU3RvcmFnZVV0aWwsIFRoZW1lQ29udHJvbGxlciwgV2NIZWxwZXJzVXRpbCwgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IFdhbGxldFV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL3V0aWxzJztcbmltcG9ydCB7IHNldENvbG9yVGhlbWUsIHNldFRoZW1lVmFyaWFibGVzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgeyBDYWlwTmV0d29ya3NVdGlsLCBFcnJvclV0aWwsIEhlbHBlcnNVdGlsLCBMb2dnZXJVdGlsLCBUb2tlblV0aWwsIENvbnN0YW50c1V0aWwgYXMgVXRpbENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LXV0aWxzJztcbmltcG9ydCB7IFVuaXZlcnNhbEFkYXB0ZXIgfSBmcm9tICcuLi91bml2ZXJzYWwtYWRhcHRlci9jbGllbnQuanMnO1xuaW1wb3J0IHsgQ29uZmlnVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbmZpZ1V0aWwuanMnO1xuZXhwb3J0IGNsYXNzIEFwcEtpdEJhc2VDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jaGFpbk5hbWVzcGFjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IHt9O1xuICAgICAgICB0aGlzLnJlbW90ZUZlYXR1cmVzID0ge307XG4gICAgICAgIHRoaXMucmVwb3J0ZWRBbGVydEVycm9ycyA9IHt9O1xuICAgICAgICAvLyAtLSBQdWJsaWMgSW50ZXJuYWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuZ2V0Q2FpcE5ldHdvcmsgPSAoY2hhaW5OYW1lc3BhY2UsIGlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya1dpdGhJZCA9IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya3MoY2hhaW5OYW1lc3BhY2UpPy5maW5kKGMgPT4gYy5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgICAgIGlmIChjYWlwTmV0d29ya1dpdGhJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FpcE5ldHdvcmtXaXRoSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZUNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLmdldE5ldHdvcmtEYXRhKGNoYWluTmFtZXNwYWNlKT8uY2FpcE5ldHdvcms7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVzcGFjZUNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2VDYWlwTmV0d29yaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENhaXBOZXR3b3Jrcy5maWx0ZXIoYyA9PiBjLmNoYWluTmFtZXNwYWNlID09PSBjaGFpbk5hbWVzcGFjZSk/LlswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmsgfHwgdGhpcy5kZWZhdWx0Q2FpcE5ldHdvcms7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0Q2FpcE5ldHdvcmtJZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrKCk7XG4gICAgICAgICAgICBpZiAobmV0d29yaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXR3b3JrLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDYWlwTmV0d29ya3MgPSAobmFtZXNwYWNlKSA9PiBDaGFpbkNvbnRyb2xsZXIuZ2V0Q2FpcE5ldHdvcmtzKG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlQ2hhaW5OYW1lc3BhY2UgPSAoKSA9PiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIHRoaXMuc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gKHJlcXVlc3RlZENhaXBOZXR3b3JrcywgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MocmVxdWVzdGVkQ2FpcE5ldHdvcmtzLCBjaGFpbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QXBwcm92ZWRDYWlwTmV0d29ya0lkcyA9ICgpID0+IENoYWluQ29udHJvbGxlci5nZXRBbGxBcHByb3ZlZENhaXBOZXR3b3JrSWRzKCk7XG4gICAgICAgIHRoaXMuZ2V0Q2FpcEFkZHJlc3MgPSAoY2hhaW5OYW1lc3BhY2UpID0+IHtcbiAgICAgICAgICAgIGlmIChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4gPT09IGNoYWluTmFtZXNwYWNlIHx8ICFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQoY2hhaW5OYW1lc3BhY2UpPy5hY2NvdW50U3RhdGU/LmNhaXBBZGRyZXNzO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENsaWVudElkID0gY2xpZW50SWQgPT4ge1xuICAgICAgICAgICAgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuc2V0Q2xpZW50SWQoY2xpZW50SWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFByb3ZpZGVyID0gKG5hbWVzcGFjZSkgPT4gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVyKG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuZ2V0UHJvdmlkZXJUeXBlID0gKG5hbWVzcGFjZSkgPT4gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVySWQobmFtZXNwYWNlKTtcbiAgICAgICAgdGhpcy5nZXRQcmVmZXJyZWRBY2NvdW50VHlwZSA9IChuYW1lc3BhY2UpID0+IGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc2V0Q2FpcEFkZHJlc3MgPSAoY2FpcEFkZHJlc3MsIGNoYWluLCBzaG91bGRSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnY2FpcEFkZHJlc3MnLCBjYWlwQWRkcmVzcywgY2hhaW4sIHNob3VsZFJlZnJlc2gpO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdhZGRyZXNzJywgQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKGNhaXBBZGRyZXNzKSwgY2hhaW4sIHNob3VsZFJlZnJlc2gpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEJhbGFuY2UgPSAoYmFsYW5jZSwgYmFsYW5jZVN5bWJvbCwgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZScsIGJhbGFuY2UsIGNoYWluKTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZVN5bWJvbCcsIGJhbGFuY2VTeW1ib2wsIGNoYWluKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRQcm9maWxlTmFtZSA9IChwcm9maWxlTmFtZSwgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgncHJvZmlsZU5hbWUnLCBwcm9maWxlTmFtZSwgY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFByb2ZpbGVJbWFnZSA9IChwcm9maWxlSW1hZ2UsIGNoYWluKSA9PiB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3Byb2ZpbGVJbWFnZScsIHByb2ZpbGVJbWFnZSwgY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFVzZXIgPSAodXNlciwgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgndXNlcicsIHVzZXIsIGNoYWluKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldEFjY291bnQgPSAoY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5yZXNldEFjY291bnQoY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENhaXBOZXR3b3JrID0gY2FpcE5ldHdvcmsgPT4ge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjdGl2ZUNhaXBOZXR3b3JrKGNhaXBOZXR3b3JrKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRDYWlwTmV0d29ya09mTmFtZXNwYWNlID0gKGNhaXBOZXR3b3JrLCBjaGFpbk5hbWVzcGFjZSkgPT4ge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluTmV0d29ya0RhdGEoY2hhaW5OYW1lc3BhY2UsIHsgY2FpcE5ldHdvcmsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzID0gKHN0YXR1cywgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnc3RhdHVzJywgc3RhdHVzLCBjaGFpbik7XG4gICAgICAgICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgbmFtZXNwYWNlIGlzIGNvbm5lY3RlZCwgc2V0IHRoZSBjb25uZWN0aW9uIHN0YXR1c1xuICAgICAgICAgICAgaWYgKENvbm5lY3RvckNvbnRyb2xsZXIuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldENvbm5lY3Rpb25TdGF0dXMoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QWRkcmVzc0J5Q2hhaW5OYW1lc3BhY2UgPSAoY2hhaW5OYW1lc3BhY2UpID0+IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShjaGFpbk5hbWVzcGFjZSk/LmFkZHJlc3M7XG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdG9ycyA9IGNvbm5lY3RvcnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxsQ29ubmVjdG9ycyA9IFsuLi5Db25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmFsbENvbm5lY3RvcnMsIC4uLmNvbm5lY3RvcnNdO1xuICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JzKGFsbENvbm5lY3RvcnMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldENvbm5lY3Rpb25zID0gKGNvbm5lY3Rpb25zLCBjaGFpbk5hbWVzcGFjZSkgPT4ge1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGlvbnMoY29ubmVjdGlvbnMsIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnNldENvbm5lY3Rpb25zKGNvbm5lY3Rpb25zLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hJZGVudGl0eSA9IHJlcXVlc3QgPT4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hJZGVudGl0eShyZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5nZXRSZW93bk5hbWUgPSBhZGRyZXNzID0+IEVuc0NvbnRyb2xsZXIuZ2V0TmFtZXNGb3JBZGRyZXNzKGFkZHJlc3MpO1xuICAgICAgICB0aGlzLmdldENvbm5lY3RvcnMgPSAoKSA9PiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnMoKTtcbiAgICAgICAgdGhpcy5nZXRDb25uZWN0b3JJbWFnZSA9IGNvbm5lY3RvciA9PiBBc3NldFV0aWwuZ2V0Q29ubmVjdG9ySW1hZ2UoY29ubmVjdG9yKTtcbiAgICAgICAgdGhpcy5nZXRDb25uZWN0aW9ucyA9IChuYW1lc3BhY2UpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVGZWF0dXJlcy5tdWx0aVdhbGxldCkge1xuICAgICAgICAgICAgICAgIEFsZXJ0Q29udHJvbGxlci5vcGVuKENvbnN0YW50c1V0aWwuUkVNT1RFX0ZFQVRVUkVTX0FMRVJUUy5NVUxUSV9XQUxMRVRfTk9UX0VOQUJMRUQuREVGQVVMVCwgJ2luZm8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsLmdldENvbm5lY3Rpb25zRGF0YShuYW1lc3BhY2UpLmNvbm5lY3Rpb25zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJlY2VudENvbm5lY3Rpb25zID0gKG5hbWVzcGFjZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlbW90ZUZlYXR1cmVzLm11bHRpV2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgQWxlcnRDb250cm9sbGVyLm9wZW4oQ29uc3RhbnRzVXRpbC5SRU1PVEVfRkVBVFVSRVNfQUxFUlRTLk1VTFRJX1dBTExFVF9OT1RfRU5BQkxFRC5ERUZBVUxULCAnaW5mbycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlclV0aWwuZ2V0Q29ubmVjdGlvbnNEYXRhKG5hbWVzcGFjZSkucmVjZW50Q29ubmVjdGlvbnM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3dpdGNoQ29ubmVjdGlvbiA9IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVGZWF0dXJlcy5tdWx0aVdhbGxldCkge1xuICAgICAgICAgICAgICAgIEFsZXJ0Q29udHJvbGxlci5vcGVuKENvbnN0YW50c1V0aWwuUkVNT1RFX0ZFQVRVUkVTX0FMRVJUUy5NVUxUSV9XQUxMRVRfTk9UX0VOQUJMRUQuREVGQVVMVCwgJ2luZm8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zd2l0Y2hDb25uZWN0aW9uKHBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlQ29ubmVjdGlvbiA9IHBhcmFtcyA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVtb3RlRmVhdHVyZXMubXVsdGlXYWxsZXQpIHtcbiAgICAgICAgICAgICAgICBBbGVydENvbnRyb2xsZXIub3BlbihDb25zdGFudHNVdGlsLlJFTU9URV9GRUFUVVJFU19BTEVSVFMuTVVMVElfV0FMTEVUX05PVF9FTkFCTEVELkRFRkFVTFQsICdpbmZvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlQWRkcmVzc0Zyb21Db25uZWN0aW9uKHBhcmFtcyk7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zeW5jU3RvcmFnZUNvbm5lY3Rpb25zKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGVkV2FsbGV0SW5mbyA9IChjb25uZWN0ZWRXYWxsZXRJbmZvLCBjaGFpbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKGNoYWluKTtcbiAgICAgICAgICAgIGNvbnN0IHdhbGxldEluZm8gPSBjb25uZWN0ZWRXYWxsZXRJbmZvID8geyAuLi5jb25uZWN0ZWRXYWxsZXRJbmZvLCB0eXBlIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2Nvbm5lY3RlZFdhbGxldEluZm8nLCB3YWxsZXRJbmZvLCBjaGFpbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0SXNDb25uZWN0ZWRTdGF0ZSA9ICgpID0+IEJvb2xlYW4oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzKTtcbiAgICAgICAgdGhpcy5hZGRBZGRyZXNzTGFiZWwgPSAoYWRkcmVzcywgbGFiZWwsIGNoYWluKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzTGFiZWxzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKGNoYWluKT8uYWRkcmVzc0xhYmVscyB8fCB7fTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYWRkcmVzc0xhYmVscycsIHsgLi4uYWRkcmVzc0xhYmVscywgW2FkZHJlc3NdOiBsYWJlbCB9LCBjaGFpbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVtb3ZlQWRkcmVzc0xhYmVsID0gKGFkZHJlc3MsIGNoYWluKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzTGFiZWxzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKGNoYWluKT8uYWRkcmVzc0xhYmVscyB8fCB7fTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYWRkcmVzc0xhYmVscycsIHsgLi4uYWRkcmVzc0xhYmVscywgW2FkZHJlc3NdOiB1bmRlZmluZWQgfSwgY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEFkZHJlc3MgPSAoY2hhaW5OYW1lc3BhY2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGNoYWluTmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8uYWRkcmVzcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldE5ldHdvcmsgPSAobmFtZXNwYWNlKSA9PiB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIucmVzZXROZXR3b3JrKG5hbWVzcGFjZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkQ29ubmVjdG9yID0gY29ubmVjdG9yID0+IHtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuYWRkQ29ubmVjdG9yKGNvbm5lY3Rvcik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXRXY0Nvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5yZXNldFdjQ29ubmVjdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEFkZHJlc3NFeHBsb3JlclVybCA9IChhZGRyZXNzRXhwbG9yZXJVcmwsIGNoYWluKSA9PiB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2FkZHJlc3NFeHBsb3JlclVybCcsIGFkZHJlc3NFeHBsb3JlclVybCwgY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFNtYXJ0QWNjb3VudERlcGxveWVkID0gKGlzRGVwbG95ZWQsIGNoYWluKSA9PiB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3NtYXJ0QWNjb3VudERlcGxveWVkJywgaXNEZXBsb3llZCwgY2hhaW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFByZWZlcnJlZEFjY291bnRUeXBlID0gKHByZWZlcnJlZEFjY291bnRUeXBlLCBjaGFpbikgPT4ge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdwcmVmZXJyZWRBY2NvdW50VHlwZScsIHByZWZlcnJlZEFjY291bnRUeXBlLCBjaGFpbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0RUlQNjk2M0VuYWJsZWQgPSBlbmFibGVkID0+IHtcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEVJUDY5NjNFbmFibGVkKGVuYWJsZWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVVuc2FmZVJQQ1JlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBvbiB0aGUgbW9kYWwgYnV0IHRoZXJlIGlzIG5vIHRyYW5zYWN0aW9uIHN0YWNrLCBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1RyYW5zYWN0aW9uU3RhY2tFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byByZXBsYWNlIG9yIHJlZGlyZWN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRpcmVjdCgnQXBwcm92ZVRyYW5zYWN0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjYWxsZWQgZnJvbSBvdXRzaWRlIHRoZSBtb2RhbCwgb3BlbiBBcHByb3ZlVHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4oeyB2aWV3OiAnQXBwcm92ZVRyYW5zYWN0aW9uJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gb3B0aW9ucy5zZGtWZXJzaW9uO1xuICAgICAgICB0aGlzLmNhaXBOZXR3b3JrcyA9IHRoaXMuZXh0ZW5kQ2FpcE5ldHdvcmtzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNoYWluTmFtZXNwYWNlcyA9IHRoaXMuZ2V0Q2hhaW5OYW1lc3BhY2VzU2V0KG9wdGlvbnMuYWRhcHRlcnMsIHRoaXMuY2FpcE5ldHdvcmtzKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Q2FpcE5ldHdvcmsgPSB0aGlzLmV4dGVuZERlZmF1bHRDYWlwTmV0d29yayhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jaGFpbkFkYXB0ZXJzID0gdGhpcy5jcmVhdGVBZGFwdGVycyhvcHRpb25zLmFkYXB0ZXJzKTtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2UgPSB0aGlzLmluaXRpYWxpemUob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldENoYWluTmFtZXNwYWNlc1NldChhZGFwdGVycywgY2FpcE5ldHdvcmtzKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXJOYW1lc3BhY2VzID0gYWRhcHRlcnNcbiAgICAgICAgICAgID8ubWFwKGFkYXB0ZXIgPT4gYWRhcHRlci5uYW1lc3BhY2UpXG4gICAgICAgICAgICAuZmlsdGVyKChuYW1lc3BhY2UpID0+IEJvb2xlYW4obmFtZXNwYWNlKSk7XG4gICAgICAgIGlmIChhZGFwdGVyTmFtZXNwYWNlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQoYWRhcHRlck5hbWVzcGFjZXMpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXR3b3JrTmFtZXNwYWNlcyA9IGNhaXBOZXR3b3Jrcz8ubWFwKG5ldHdvcmsgPT4gbmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldChuZXR3b3JrTmFtZXNwYWNlcyldO1xuICAgIH1cbiAgICBhc3luYyBpbml0aWFsaXplKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplUHJvamVjdFNldHRpbmdzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRDb250cm9sbGVycyhvcHRpb25zKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0Q2hhaW5BZGFwdGVycygpO1xuICAgICAgICB0aGlzLnNlbmRJbml0aWFsaXplRXZlbnQob3B0aW9ucyk7XG4gICAgICAgIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVSZWNvbm5lY3QpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY0V4aXN0aW5nQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jQWRhcHRlckNvbm5lY3Rpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVuU3luY0V4aXN0aW5nQ29ubmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3RlRmVhdHVyZXMgPSBhd2FpdCBDb25maWdVdGlsLmZldGNoUmVtb3RlRmVhdHVyZXMob3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hVc2FnZSgpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRSZW1vdGVGZWF0dXJlcyh0aGlzLnJlbW90ZUZlYXR1cmVzKTtcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlRmVhdHVyZXMub25yYW1wKSB7XG4gICAgICAgICAgICBPblJhbXBDb250cm9sbGVyLnNldE9ucmFtcFByb3ZpZGVycyh0aGlzLnJlbW90ZUZlYXR1cmVzLm9ucmFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgYWxsb3dlZCBvcmlnaW5zIG9ubHkgaWYgZW1haWwgb3Igc29jaWFsIGZlYXR1cmVzIGFyZSBlbmFibGVkXG4gICAgICAgIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5yZW1vdGVGZWF0dXJlcz8uZW1haWwgfHxcbiAgICAgICAgICAgIChBcnJheS5pc0FycmF5KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5zb2NpYWxzKSAmJlxuICAgICAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5zb2NpYWxzLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrQWxsb3dlZE9yaWdpbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LnJlb3duQXV0aGVudGljYXRpb24gfHxcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5yZW93bkF1dGhlbnRpY2F0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IFJlb3duQXV0aGVudGljYXRpb24gfSA9IGF3YWl0IGltcG9ydCgnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9mZWF0dXJlcycpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNJV1ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICAgICAgaWYgKCEoY3VycmVudFNJV1ggaW5zdGFuY2VvZiBSZW93bkF1dGhlbnRpY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U0lXWCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Jlb3duQXV0aGVudGljYXRpb24gb3B0aW9uIGlzIGVuYWJsZWQsIFNJV1ggY29uZmlndXJhdGlvbiB3aWxsIGJlIG92ZXJyaWRkZW4uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFNJV1gobmV3IFJlb3duQXV0aGVudGljYXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBzaXd4IGlzIGFscmVhZHkgY29uZmlndXJlZCBmb3IgUmVvd25BdXRoZW50aWNhdGlvbiB3ZSBrZWVwIHRoZSBjdXJyZW50IGluc3RhbmNlXG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb3BlblNlbmQoYXJncykge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VUb1VzZSA9IGFyZ3MubmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSB0aGlzLmdldENhaXBBZGRyZXNzKG5hbWVzcGFjZVRvVXNlKTtcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsobmFtZXNwYWNlVG9Vc2UpPy5pZDtcbiAgICAgICAgaWYgKCFjYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvcGVuU2VuZDogY2FpcEFkZHJlc3Mgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYWluSWQ/LnRvU3RyaW5nKCkgIT09IGFyZ3MuY2hhaW5JZC50b1N0cmluZygpKSB7XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya0J5SWQoYXJncy5jaGFpbklkLCBuYW1lc3BhY2VUb1VzZSk7XG4gICAgICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvcGVuU2VuZDogY2FpcE5ldHdvcmsgd2l0aCBjaGFpbklkICR7YXJncy5jaGFpbklkfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3dpdGNoTmV0d29yayhjYWlwTmV0d29yaywgeyB0aHJvd09uRmFpbHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gVG9rZW5VdGlsLmdldFRva2VuU3ltYm9sQnlBZGRyZXNzKGFyZ3MuYXNzZXRBZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChzeW1ib2wpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoVG9rZW5JbWFnZXMoW3N5bWJvbF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIElnbm9yZSAqL1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IE1vZGFsQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgIHZpZXc6ICdXYWxsZXRTZW5kJyxcbiAgICAgICAgICAgIGRhdGE6IHsgc2VuZDogYXJncyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBTZW5kQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2hhc2gnLCBoYXNoID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBoYXNoIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbCA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmUobW9kYWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbW9kYWwub3Blbikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01vZGFsIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFudXAgPSB0aGlzLmNyZWF0ZUNsZWFudXBIYW5kbGVyKFt1bnN1YnNjcmliZSwgdW5zdWJzY3JpYmVNb2RhbF0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Nb2RhbE9wdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGlzU3dhcChvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucz8udmlldyA9PT0gJ1N3YXAnO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzU2VuZChvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucz8udmlldyA9PT0gJ1dhbGxldFNlbmQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1N3YXAsXG4gICAgICAgICAgICBpc1NlbmRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgY2hlY2tBbGxvd2VkT3JpZ2lucygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRPcmlnaW5zID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaEFsbG93ZWRPcmlnaW5zKCk7XG4gICAgICAgICAgICBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzQ2xpZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgICAgICAgICAgIGNvbnN0IGlzT3JpZ2luQWxsb3dlZCA9IFdjSGVscGVyc1V0aWwuaXNPcmlnaW5BbGxvd2VkKGN1cnJlbnRPcmlnaW4sIGFsbG93ZWRPcmlnaW5zLCBDb25zdGFudHNVdGlsLkRFRkFVTFRfQUxMT1dFRF9BTkNFU1RPUlMpO1xuICAgICAgICAgICAgaWYgKCFpc09yaWdpbkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICBBbGVydENvbnRyb2xsZXIub3BlbihFcnJvclV0aWwuQUxFUlRfRVJST1JTLk9SSUdJTl9OT1RfQUxMT1dFRCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1JBVEVfTElNSVRFRCc6XG4gICAgICAgICAgICAgICAgICAgIEFsZXJ0Q29udHJvbGxlci5vcGVuKEVycm9yVXRpbC5BTEVSVF9FUlJPUlMuUkFURV9MSU1JVEVEX0FQUF9DT05GSUdVUkFUSU9OLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnU0VSVkVSX0VSUk9SJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEVycm9yID0gZXJyb3IuY2F1c2UgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLmNhdXNlIDogZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIEFsZXJ0Q29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiBFcnJvclV0aWwuQUxFUlRfRVJST1JTLlNFUlZFUl9FUlJPUl9BUFBfQ09ORklHVVJBVElPTi5kaXNwbGF5TWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogRXJyb3JVdGlsLkFMRVJUX0VSUk9SUy5TRVJWRVJfRVJST1JfQVBQX0NPTkZJR1VSQVRJT04uZGVidWdNZXNzYWdlKG9yaWdpbmFsRXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgfSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVDbGVhbnVwSGFuZGxlcih1bnN1YnNjcmliZUZ1bmN0aW9ucykge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmVGdW5jdGlvbnMuZm9yRWFjaCh1bnN1YnNjcmliZSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgY2xlYW51cCBlcnJvcnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2VuZEluaXRpYWxpemVFdmVudChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgLi4ub3B0aW9uc0NvcHkgfSA9IG9wdGlvbnM7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zQ29weS5hZGFwdGVycztcbiAgICAgICAgZGVsZXRlIG9wdGlvbnNDb3B5LnVuaXZlcnNhbFByb3ZpZGVyO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdJTklUSUFMSVpFJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zQ29weSxcbiAgICAgICAgICAgICAgICBuZXR3b3Jrczogb3B0aW9ucy5uZXR3b3Jrcy5tYXAobiA9PiBuLmlkKSxcbiAgICAgICAgICAgICAgICBzaXdlQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMuc2l3ZUNvbmZpZz8ub3B0aW9ucyB8fCB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIC0tIENvbnRyb2xsZXJzIGluaXRpYWxpemF0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGluaXRDb250cm9sbGVycyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU9wdGlvbnNDb250cm9sbGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDaGFpbkNvbnRyb2xsZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVRoZW1lQ29udHJvbGxlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29ubmVjdGlvbkNvbnRyb2xsZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbm5lY3RvckNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgaW5pdEFkYXB0ZXJDb250cm9sbGVyKCkge1xuICAgICAgICBBZGFwdGVyQ29udHJvbGxlci5pbml0aWFsaXplKHRoaXMuY2hhaW5BZGFwdGVycyk7XG4gICAgfVxuICAgIGluaXRpYWxpemVUaGVtZUNvbnRyb2xsZXIob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy50aGVtZU1vZGUpIHtcbiAgICAgICAgICAgIFRoZW1lQ29udHJvbGxlci5zZXRUaGVtZU1vZGUob3B0aW9ucy50aGVtZU1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnRoZW1lVmFyaWFibGVzKSB7XG4gICAgICAgICAgICBUaGVtZUNvbnRyb2xsZXIuc2V0VGhlbWVWYXJpYWJsZXMob3B0aW9ucy50aGVtZVZhcmlhYmxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbGl6ZUNoYWluQ29udHJvbGxlcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCBtdXN0IGJlIHNldCcpO1xuICAgICAgICB9XG4gICAgICAgIENoYWluQ29udHJvbGxlci5pbml0aWFsaXplKG9wdGlvbnMuYWRhcHRlcnMgPz8gW10sIHRoaXMuY2FpcE5ldHdvcmtzLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlckNsaWVudDogdGhpcy5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IHRoaXMuZ2V0RGVmYXVsdE5ldHdvcmsoKTtcbiAgICAgICAgaWYgKG5ldHdvcmspIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY3RpdmVDYWlwTmV0d29yayhuZXR3b3JrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0aWFsaXplQ29ubmVjdGlvbkNvbnRyb2xsZXIob3B0aW9ucykge1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5pbml0aWFsaXplKG9wdGlvbnMuYWRhcHRlcnMgPz8gW10pO1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRXY0Jhc2ljKG9wdGlvbnMuYmFzaWMgPz8gZmFsc2UpO1xuICAgIH1cbiAgICBpbml0aWFsaXplQ29ubmVjdG9yQ29udHJvbGxlcigpIHtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5pbml0aWFsaXplKHRoaXMuY2hhaW5OYW1lc3BhY2VzKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVByb2plY3RTZXR0aW5ncyhvcHRpb25zKSB7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFByb2plY3RJZChvcHRpb25zLnByb2plY3RJZCk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFNka1ZlcnNpb24ob3B0aW9ucy5zZGtWZXJzaW9uKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZU9wdGlvbnNDb250cm9sbGVyKG9wdGlvbnMpIHtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RGVidWcob3B0aW9ucy5kZWJ1ZyAhPT0gZmFsc2UpO1xuICAgICAgICAvLyBPbiBieSBkZWZhdWx0XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEVuYWJsZVdhbGxldEd1aWRlKG9wdGlvbnMuZW5hYmxlV2FsbGV0R3VpZGUgIT09IGZhbHNlKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RW5hYmxlV2FsbGV0cyhvcHRpb25zLmVuYWJsZVdhbGxldHMgIT09IGZhbHNlKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RUlQNjk2M0VuYWJsZWQob3B0aW9ucy5lbmFibGVFSVA2OTYzICE9PSBmYWxzZSk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEVuYWJsZU5ldHdvcmtTd2l0Y2gob3B0aW9ucy5lbmFibGVOZXR3b3JrU3dpdGNoICE9PSBmYWxzZSk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEVuYWJsZVJlY29ubmVjdChvcHRpb25zLmVuYWJsZVJlY29ubmVjdCAhPT0gZmFsc2UpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRFbmFibGVNb2JpbGVGdWxsU2NyZWVuKG9wdGlvbnMuZW5hYmxlTW9iaWxlRnVsbFNjcmVlbiA9PT0gdHJ1ZSk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldENvaW5iYXNlUHJlZmVyZW5jZShvcHRpb25zLmNvaW5iYXNlUHJlZmVyZW5jZSk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEVuYWJsZUF1dGhMb2dnZXIob3B0aW9ucy5lbmFibGVBdXRoTG9nZ2VyICE9PSBmYWxzZSk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEN1c3RvbVJwY1VybHMob3B0aW9ucy5jdXN0b21ScGNVcmxzKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RW5hYmxlRW1iZWRkZWQob3B0aW9ucy5lbmFibGVFbWJlZGRlZCk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEFsbFdhbGxldHMob3B0aW9ucy5hbGxXYWxsZXRzKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0SW5jbHVkZVdhbGxldElkcyhvcHRpb25zLmluY2x1ZGVXYWxsZXRJZHMpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRFeGNsdWRlV2FsbGV0SWRzKG9wdGlvbnMuZXhjbHVkZVdhbGxldElkcyk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEZlYXR1cmVkV2FsbGV0SWRzKG9wdGlvbnMuZmVhdHVyZWRXYWxsZXRJZHMpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRUb2tlbnMob3B0aW9ucy50b2tlbnMpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRUZXJtc0NvbmRpdGlvbnNVcmwob3B0aW9ucy50ZXJtc0NvbmRpdGlvbnNVcmwpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRQcml2YWN5UG9saWN5VXJsKG9wdGlvbnMucHJpdmFjeVBvbGljeVVybCk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEN1c3RvbVdhbGxldHMob3B0aW9ucy5jdXN0b21XYWxsZXRzKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RmVhdHVyZXMob3B0aW9ucy5mZWF0dXJlcyk7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEFsbG93VW5zdXBwb3J0ZWRDaGFpbihvcHRpb25zLmFsbG93VW5zdXBwb3J0ZWRDaGFpbik7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUob3B0aW9ucy51bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0UHJlZmVyVW5pdmVyc2FsTGlua3Mob3B0aW9ucy5leHBlcmltZW50YWxfcHJlZmVyVW5pdmVyc2FsTGlua3MpO1xuICAgICAgICAvLyBTYXZlIG9wdGlvbiBpbiBjb250cm9sbGVyXG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldERlZmF1bHRBY2NvdW50VHlwZXMob3B0aW9ucy5kZWZhdWx0QWNjb3VudFR5cGVzKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdE1ldGFEYXRhID0gdGhpcy5nZXREZWZhdWx0TWV0YURhdGEoKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLm1ldGFkYXRhICYmIGRlZmF1bHRNZXRhRGF0YSkge1xuICAgICAgICAgICAgb3B0aW9ucy5tZXRhZGF0YSA9IGRlZmF1bHRNZXRhRGF0YTtcbiAgICAgICAgfVxuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRNZXRhZGF0YShvcHRpb25zLm1ldGFkYXRhKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RGlzYWJsZUFwcGVuZChvcHRpb25zLmRpc2FibGVBcHBlbmQpO1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRFbmFibGVFbWJlZGRlZChvcHRpb25zLmVuYWJsZUVtYmVkZGVkKTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0U0lXWChvcHRpb25zLnNpd3gpO1xuICAgICAgICB0aGlzLmZlYXR1cmVzID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXMgPz8ge307XG4gICAgICAgIGlmICghb3B0aW9ucy5wcm9qZWN0SWQpIHtcbiAgICAgICAgICAgIEFsZXJ0Q29udHJvbGxlci5vcGVuKEVycm9yVXRpbC5BTEVSVF9FUlJPUlMuUFJPSkVDVF9JRF9OT1RfQ09ORklHVVJFRCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZtQWRhcHRlciA9IG9wdGlvbnMuYWRhcHRlcnM/LmZpbmQoYWRhcHRlciA9PiBhZGFwdGVyLm5hbWVzcGFjZSA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pO1xuICAgICAgICAvLyBTZXQgdGhlIFNJV0UgY2xpZW50IGZvciBFVk0gY2hhaW5zXG4gICAgICAgIGlmIChldm1BZGFwdGVyKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaXdlQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2l3eCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgYm90aCBgc2l3ZUNvbmZpZ2AgYW5kIGBzaXd4YCBvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFNJV1gob3B0aW9ucy5zaXdlQ29uZmlnLm1hcFRvU0lXWCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXREZWZhdWx0TWV0YURhdGEoKSB7XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0NsaWVudCgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpPy5bMF0/LnRleHRDb250ZW50IHx8ICcnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIl0nKT8uY29udGVudCB8fCAnJyxcbiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sXG4gICAgICAgICAgICAgICAgaWNvbnM6IFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbH49XCJpY29uXCJdJyk/LmhyZWYgfHwgJyddXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyAtLSBOZXR3b3JrIEluaXRpYWxpemF0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHNldFVuc3VwcG9ydGVkTmV0d29yayhjaGFpbklkKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IHRoaXMuZ2V0QWN0aXZlQ2hhaW5OYW1lc3BhY2UoKTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgY29uc3QgdW5zdXBwb3J0ZWROZXR3b3JrID0gQ2FpcE5ldHdvcmtzVXRpbC5nZXRVbnN1cHBvcnRlZE5ldHdvcmsoYCR7bmFtZXNwYWNlfToke2NoYWluSWR9YCk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWN0aXZlQ2FpcE5ldHdvcmsodW5zdXBwb3J0ZWROZXR3b3JrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXREZWZhdWx0TmV0d29yaygpIHtcbiAgICAgICAgcmV0dXJuIENhaXBOZXR3b3Jrc1V0aWwuZ2V0Q2FpcE5ldHdvcmtGcm9tU3RvcmFnZSh0aGlzLmRlZmF1bHRDYWlwTmV0d29yayk7XG4gICAgfVxuICAgIGV4dGVuZENhaXBOZXR3b3JrKG5ldHdvcmssIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWROZXR3b3JrID0gQ2FpcE5ldHdvcmtzVXRpbC5leHRlbmRDYWlwTmV0d29yayhuZXR3b3JrLCB7XG4gICAgICAgICAgICBjdXN0b21OZXR3b3JrSW1hZ2VVcmxzOiBvcHRpb25zLmNoYWluSW1hZ2VzLFxuICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zLnByb2plY3RJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZGVkTmV0d29yaztcbiAgICB9XG4gICAgZXh0ZW5kQ2FpcE5ldHdvcmtzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWROZXR3b3JrcyA9IENhaXBOZXR3b3Jrc1V0aWwuZXh0ZW5kQ2FpcE5ldHdvcmtzKG9wdGlvbnMubmV0d29ya3MsIHtcbiAgICAgICAgICAgIGN1c3RvbU5ldHdvcmtJbWFnZVVybHM6IG9wdGlvbnMuY2hhaW5JbWFnZXMsXG4gICAgICAgICAgICBjdXN0b21ScGNVcmxzOiBvcHRpb25zLmN1c3RvbVJwY1VybHMsXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IG9wdGlvbnMucHJvamVjdElkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXh0ZW5kZWROZXR3b3JrcztcbiAgICB9XG4gICAgZXh0ZW5kRGVmYXVsdENhaXBOZXR3b3JrKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdE5ldHdvcmsgPSBvcHRpb25zLm5ldHdvcmtzLmZpbmQobiA9PiBuLmlkID09PSBvcHRpb25zLmRlZmF1bHROZXR3b3JrPy5pZCk7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkTmV0d29yayA9IGRlZmF1bHROZXR3b3JrXG4gICAgICAgICAgICA/IENhaXBOZXR3b3Jrc1V0aWwuZXh0ZW5kQ2FpcE5ldHdvcmsoZGVmYXVsdE5ldHdvcmssIHtcbiAgICAgICAgICAgICAgICBjdXN0b21OZXR3b3JrSW1hZ2VVcmxzOiBvcHRpb25zLmNoYWluSW1hZ2VzLFxuICAgICAgICAgICAgICAgIGN1c3RvbVJwY1VybHM6IG9wdGlvbnMuY3VzdG9tUnBjVXJscyxcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IG9wdGlvbnMucHJvamVjdElkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBleHRlbmRlZE5ldHdvcms7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIGEgY29ubmVjdG9yIHdpdGggdGhlIGdpdmVuIG5hbWVzcGFjZSBhbmQgaWQuIElmIHRoZSBjb25uZWN0b3IgaWQgaXMgbm90IHByb3ZpZGVkLCBkaXNjb25uZWN0cyB0aGUgYWRhcHRlciAobmFtZXNwYWNlKS5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIENoYWluTmFtZXNwYWNlXG4gICAgICogQHBhcmFtIGlkIHN0cmluZ1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgZGlzY29ubmVjdENvbm5lY3RvcihuYW1lc3BhY2UsIGlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnNldExvYWRpbmcodHJ1ZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGxldCBkaXNjb25uZWN0UmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmdldEFkYXB0ZXIobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKT8uYWNjb3VudFN0YXRlPy5jYWlwQWRkcmVzcztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiB0aGUgcGFnZSBsb2FkZWQsIHRoZSBjb250cm9sbGVyIGRvZXNuJ3QgaGF2ZSBhZGRyZXNzIHlldC5cbiAgICAgICAgICAgICAqIFRvIGRpc2Nvbm5lY3QsIHdlIGFyZSBjaGVja2luZyBlbmFibGVSZWNvbm5lY3QgZmxhZyB0byBkaXNjb25uZWN0IHRoZSBuYW1lc3BhY2UuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICgoY2FpcEFkZHJlc3MgfHwgIU9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZVJlY29ubmVjdCkgJiYgYWRhcHRlcj8uZGlzY29ubmVjdCkge1xuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RSZXN1bHQgPSBhd2FpdCBhZGFwdGVyLmRpc2Nvbm5lY3QoeyBpZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0TG9hZGluZyhmYWxzZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBkaXNjb25uZWN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGlzY29ubmVjdCBjaGFpbnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAtLSBDbGllbnQgSW5pdGlhbGl6YXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY3JlYXRlQ2xpZW50cygpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCA9IHtcbiAgICAgICAgICAgIGNvbm5lY3RXYWxsZXRDb25uZWN0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihhY3RpdmVDaGFpbik7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhaW5JZCA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsoYWN0aXZlQ2hhaW4pPy5pZDtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyLmdldENvbm5lY3Rpb25zKGFjdGl2ZUNoYWluKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc011bHRpV2FsbGV0ID0gdGhpcy5yZW1vdGVGZWF0dXJlcy5tdWx0aVdhbGxldDtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWRhcHRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRhcHRlci5jb25uZWN0V2FsbGV0Q29ubmVjdChjaGFpbklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRDbG9zZSA9ICFoYXNDb25uZWN0aW9ucyB8fCAhaXNNdWx0aVdhbGxldDtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldENsaWVudElkKHJlc3VsdD8uY2xpZW50SWQgfHwgbnVsbCk7XG4gICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhbLi4uQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5rZXlzKCldKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmNXYWxsZXRDb25uZWN0QWNjb3VudCgpO1xuICAgICAgICAgICAgICAgIGF3YWl0IFNJV1hVdGlsLmluaXRpYWxpemVJZkVuYWJsZWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25uZWN0RXh0ZXJuYWw6IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0UmVzdWx0ID0gYXdhaXQgdGhpcy5vbkNvbm5lY3RFeHRlcm5hbChwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdEluYWN0aXZlTmFtZXNwYWNlcyhwYXJhbXMsIGNvbm5lY3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25uZWN0UmVzdWx0ID8geyBhZGRyZXNzOiBjb25uZWN0UmVzdWx0LmFkZHJlc3MgfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNvbm5lY3RFeHRlcm5hbDogYXN5bmMgKHsgaWQsIGluZm8sIHR5cGUsIHByb3ZpZGVyIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb25uZWN0RXh0ZXJuYWw6IG5hbWVzcGFjZSBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb25uZWN0RXh0ZXJuYWw6IGFkYXB0ZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhZGFwdGVyPy5yZWNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWRhcHRlcj8ucmVjb25uZWN0KHsgaWQsIGluZm8sIHR5cGUsIHByb3ZpZGVyLCBjaGFpbklkOiB0aGlzLmdldENhaXBOZXR3b3JrKCk/LmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5hZGRDb25uZWN0ZWROYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jQ29ubmVjdGVkV2FsbGV0SW5mbyhuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNjb25uZWN0Q29ubmVjdG9yOiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNjb25uZWN0Q29ubmVjdG9yKHBhcmFtcy5uYW1lc3BhY2UsIHBhcmFtcy5pZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzY29ubmVjdDogYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQ6IGNvbm5lY3RvcklkUGFyYW0sIGNoYWluTmFtZXNwYWNlLCBpbml0aWFsRGlzY29ubmVjdCB9ID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGNoYWluTmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VDb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F1dGggPSBjb25uZWN0b3JJZFBhcmFtID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIIHx8XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZUNvbm5lY3RvcklkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzV2FsbGV0Q29ubmVjdCA9IGNvbm5lY3RvcklkUGFyYW0gPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUIHx8XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZUNvbm5lY3RvcklkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmtleXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lc3BhY2VzVG9EaXNjb25uZWN0ID0gY2hhaW5OYW1lc3BhY2UgPyBbY2hhaW5OYW1lc3BhY2VdIDogbmFtZXNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICogSWYgdGhlIGNvbm5lY3RvciBpcyBXYWxsZXRDb25uZWN0IG9yIEF1dGgsIGRpc2Nvbm5lY3QgYWxsIG5hbWVzcGFjZXNcbiAgICAgICAgICAgICAgICAgICAgICogc2luY2UgdGhleSBzaGFyZSBhIHNpbmdsZSBjb25uZWN0b3IgaW5zdGFuY2UgYWNyb3NzIGFsbCBhZGFwdGVyc1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2FsbGV0Q29ubmVjdCB8fCBpc0F1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZXNUb0Rpc2Nvbm5lY3QgPSBuYW1lc3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RQcm9taXNlcyA9IG5hbWVzcGFjZXNUb0Rpc2Nvbm5lY3QubWFwKGFzeW5jIChucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0b3JJZFRvRGlzY29ubmVjdCA9IGNvbm5lY3RvcklkUGFyYW0gfHwgY3VycmVudENvbm5lY3RvcklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY29ubmVjdERhdGEgPSBhd2FpdCB0aGlzLmRpc2Nvbm5lY3RDb25uZWN0b3IobnMsIGNvbm5lY3RvcklkVG9EaXNjb25uZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb25uZWN0RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0F1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlQ29ubmVjdGVkU29jaWFsUHJvdmlkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdERhdGEuY29ubmVjdGlvbnMuZm9yRWFjaChjb25uZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuYWRkRGlzY29ubmVjdGVkQ29ubmVjdG9ySWQoY29ubmVjdGlvbi5jb25uZWN0b3JJZCwgbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxEaXNjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRpc2Nvbm5lY3ROYW1lc3BhY2UoeyBjaGFpbk5hbWVzcGFjZTogbnMsIGNsb3NlTW9kYWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzY29ubmVjdFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZGlzY29ubmVjdFByb21pc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgU2VuZENvbnRyb2xsZXIucmVzZXRTZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnJlc2V0V2NDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChTSVdYVXRpbC5nZXRTSVdYKCk/LnNpZ25PdXRPbkRpc2Nvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFNJV1hVdGlsLmNsZWFyU2Vzc2lvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldEZpbHRlckJ5TmFtZXNwYWNlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnN5bmNTdG9yYWdlQ29ubmVjdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFpbHVyZXMgPSBkaXNjb25uZWN0UmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsdXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmFpbHVyZXMubWFwKGYgPT4gZi5yZWFzb24ubWVzc2FnZSkuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnRElTQ09OTkVDVF9TVUNDRVNTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGNoYWluTmFtZXNwYWNlIHx8ICdhbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGlzY29ubmVjdCBjaGFpbnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hlY2tJbnN0YWxsZWQ6IChpZHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlkcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4gQm9vbGVhbih3aW5kb3cuZXRoZXJldW0/LltTdHJpbmcoaWQpXSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25NZXNzYWdlOiBhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduTWVzc2FnZTogbmFtZXNwYWNlIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduTWVzc2FnZTogYWRhcHRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMuZ2V0QWRkcmVzcyhuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25NZXNzYWdlOiBhZGRyZXNzIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGFwdGVyPy5zaWduTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBQcm92aWRlckNvbnRyb2xsZXIuZ2V0UHJvdmlkZXIobmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ/LnNpZ25hdHVyZSB8fCAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZW5kVHJhbnNhY3Rpb246IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gYXJncy5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlbmRUcmFuc2FjdGlvbjogbmFtZXNwYWNlIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQ29yZUNvbnN0YW50c1V0aWwuU0VORF9TVVBQT1JURURfTkFNRVNQQUNFUy5pbmNsdWRlcyhuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmdldEFkYXB0ZXIobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlbmRUcmFuc2FjdGlvbjogYWRhcHRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGFwdGVyPy5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrOiB0aGlzLmdldENhaXBOZXR3b3JrKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdD8uaGFzaCB8fCAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVzdGltYXRlR2FzOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGFyZ3MuY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXN0aW1hdGVHYXM6IGFkYXB0ZXIgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlc3RpbWF0ZUdhczogY2FpcE5ldHdvcmsgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGFwdGVyPy5lc3RpbWF0ZUdhcyh7IC4uLmFyZ3MsIHByb3ZpZGVyLCBjYWlwTmV0d29yayB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdD8uZ2FzIHx8IDBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMG47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0RW5zQXZhdGFyOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICAgICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0RW5zQXZhdGFyOiBuYW1lc3BhY2UgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMuZ2V0QWRkcmVzcyhuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEVuc0F2YXRhcjogYWRkcmVzcyBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jSWRlbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiBOdW1iZXIodGhpcy5nZXRDYWlwTmV0d29yaygpPy5pZCksXG4gICAgICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50RGF0YSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2NvdW50RGF0YT8ucHJvZmlsZUltYWdlIHx8IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEVuc0FkZHJlc3M6IGFzeW5jIChuYW1lKSA9PiBhd2FpdCBXY0hlbHBlcnNVdGlsLnJlc29sdmVSZW93bk5hbWUobmFtZSksXG4gICAgICAgICAgICB3cml0ZUNvbnRyYWN0OiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cml0ZUNvbnRyYWN0OiBuYW1lc3BhY2UgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignd3JpdGVDb250cmFjdDogYWRhcHRlciBpcyByZXF1aXJlZCBidXQgZ290IHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IHRoaXMuZ2V0Q2FpcEFkZHJlc3MoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghY2FpcE5ldHdvcmsgfHwgIWNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignd3JpdGVDb250cmFjdDogY2FpcE5ldHdvcmsgb3IgY2FpcEFkZHJlc3MgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRhcHRlcj8ud3JpdGVDb250cmFjdCh7IC4uLmFyZ3MsIGNhaXBOZXR3b3JrLCBwcm92aWRlciwgY2FpcEFkZHJlc3MgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdD8uaGFzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJzZVVuaXRzOiAodmFsdWUsIGRlY2ltYWxzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICAgICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcnNlVW5pdHM6IGFkYXB0ZXIgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXI/LnBhcnNlVW5pdHMoeyB2YWx1ZSwgZGVjaW1hbHMgfSkgPz8gMG47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0VW5pdHM6ICh2YWx1ZSwgZGVjaW1hbHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZm9ybWF0VW5pdHM6IGFkYXB0ZXIgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXI/LmZvcm1hdFVuaXRzKHsgdmFsdWUsIGRlY2ltYWxzIH0pID8/ICcwJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRDYXBhYmlsaXRpZXM6IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q2FwYWJpbGl0aWVzOiBhZGFwdGVyIGlzIHJlcXVpcmVkIGJ1dCBnb3QgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBhZGFwdGVyPy5nZXRDYXBhYmlsaXRpZXMocGFyYW1zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmFudFBlcm1pc3Npb25zOiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICAgICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dyYW50UGVybWlzc2lvbnM6IGFkYXB0ZXIgaXMgcmVxdWlyZWQgYnV0IGdvdCB1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFkYXB0ZXI/LmdyYW50UGVybWlzc2lvbnMocGFyYW1zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXZva2VQZXJtaXNzaW9uczogYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmdldEFkYXB0ZXIoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZXZva2VQZXJtaXNzaW9uczogYWRhcHRlciBpcyByZXF1aXJlZCBidXQgZ290IHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWRhcHRlcj8ucmV2b2tlUGVybWlzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFkYXB0ZXIucmV2b2tlUGVybWlzc2lvbnMocGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICcweCc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2FsbGV0R2V0QXNzZXRzOiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICAgICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dhbGxldEdldEFzc2V0czogYWRhcHRlciBpcyByZXF1aXJlZCBidXQgZ290IHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IGFkYXB0ZXI/LndhbGxldEdldEFzc2V0cyhwYXJhbXMpKSA/PyB7fTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVCYWxhbmNlOiAobmFtZXNwYWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMuZ2V0QWRkcmVzcyhuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29yayhuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmICghY2FpcE5ldHdvcmsgfHwgIWFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5hdGl2ZUJhbGFuY2UoYWRkcmVzcywgY2FpcE5ldHdvcms/LmlkLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRDbGllbnQodGhpcy5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCk7XG4gICAgfVxuICAgIGFzeW5jIG9uQ29ubmVjdEV4dGVybmFsKHBhcmFtcykge1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gcGFyYW1zLmNoYWluIHx8IGFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKG5hbWVzcGFjZSk7XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVOZXR3b3JrID0gdHJ1ZTtcbiAgICAgICAgaWYgKHBhcmFtcy50eXBlID09PSBVdGlsQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfVFlQRV9BVVRIKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoTmFtZXNwYWNlcyA9IENvbnN0YW50c1V0aWwuQVVUSF9DT05ORUNUT1JfU1VQUE9SVEVEX0NIQUlOUztcbiAgICAgICAgICAgIGNvbnN0IGhhc0Nvbm5lY3RlZEF1dGhOYW1lc3BhY2UgPSBhdXRoTmFtZXNwYWNlcy5zb21lKG5hbWVzcGFjZSA9PiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5hbWVzcGFjZSkgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpO1xuICAgICAgICAgICAgaWYgKGhhc0Nvbm5lY3RlZEF1dGhOYW1lc3BhY2UgJiYgcGFyYW1zLmNoYWluICE9PSBhY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZU5ldHdvcmsgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmNoYWluICYmIHBhcmFtcy5jaGFpbiAhPT0gYWN0aXZlQ2hhaW4gJiYgIXBhcmFtcy5jYWlwTmV0d29yaykge1xuICAgICAgICAgICAgY29uc3QgdG9Db25uZWN0TmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCkuZmluZChuZXR3b3JrID0+IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IHBhcmFtcy5jaGFpbik7XG4gICAgICAgICAgICBpZiAodG9Db25uZWN0TmV0d29yayAmJiBzaG91bGRVcGRhdGVOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDYWlwTmV0d29yayh0b0Nvbm5lY3ROZXR3b3JrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb25uZWN0RXh0ZXJuYWw6IG5hbWVzcGFjZSBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY29ubmVjdEV4dGVybmFsOiBhZGFwdGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrQ2FpcE5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrKG5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrVG9Vc2UgPSBwYXJhbXMuY2FpcE5ldHdvcmsgfHwgZmFsbGJhY2tDYWlwTmV0d29yaztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWRhcHRlci5jb25uZWN0KHtcbiAgICAgICAgICAgIGlkOiBwYXJhbXMuaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiBwYXJhbXMuYWRkcmVzcyxcbiAgICAgICAgICAgIGluZm86IHBhcmFtcy5pbmZvLFxuICAgICAgICAgICAgdHlwZTogcGFyYW1zLnR5cGUsXG4gICAgICAgICAgICBwcm92aWRlcjogcGFyYW1zLnByb3ZpZGVyLFxuICAgICAgICAgICAgc29jaWFsVXJpOiBwYXJhbXMuc29jaWFsVXJpLFxuICAgICAgICAgICAgY2hhaW5JZDogcGFyYW1zLmNhaXBOZXR3b3JrPy5pZCB8fCBmYWxsYmFja0NhaXBOZXR3b3JrPy5pZCxcbiAgICAgICAgICAgIHJwY1VybDogcGFyYW1zLmNhaXBOZXR3b3JrPy5ycGNVcmxzPy5kZWZhdWx0Py5odHRwPy5bMF0gfHxcbiAgICAgICAgICAgICAgICBmYWxsYmFja0NhaXBOZXR3b3JrPy5ycGNVcmxzPy5kZWZhdWx0Py5odHRwPy5bMF1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIFN0b3JhZ2VVdGlsLmFkZENvbm5lY3RlZE5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgICAgICB0aGlzLnN5bmNQcm92aWRlcih7IC4uLnJlcywgY2hhaW5OYW1lc3BhY2U6IG5hbWVzcGFjZSB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Nvbm5lY3RlZCcsIG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc3luY0Nvbm5lY3RlZFdhbGxldEluZm8obmFtZXNwYWNlKTtcbiAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlRGlzY29ubmVjdGVkQ29ubmVjdG9ySWQocGFyYW1zLmlkLCBuYW1lc3BhY2UpO1xuICAgICAgICByZXR1cm4geyBhZGRyZXNzOiByZXMuYWRkcmVzcywgY29ubmVjdGVkQ2FpcE5ldHdvcms6IGNhaXBOZXR3b3JrVG9Vc2UgfTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdEluYWN0aXZlTmFtZXNwYWNlcyhwYXJhbXMsIGNvbm5lY3RSZXN1bHQpIHtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0aW5nVG9BdXRoID0gcGFyYW1zLnR5cGUgPT09IFV0aWxDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9UWVBFX0FVVEg7XG4gICAgICAgIGNvbnN0IG90aGVyQXV0aE5hbWVzcGFjZXMgPSBIZWxwZXJzVXRpbC5nZXRPdGhlckF1dGhOYW1lc3BhY2VzKGNvbm5lY3RSZXN1bHQ/LmNvbm5lY3RlZENhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBjb25zdCBhY3RpdmVBZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKGFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChpc0Nvbm5lY3RpbmdUb0F1dGgpIHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG90aGVyQXV0aE5hbWVzcGFjZXMubWFwKGFzeW5jIChucykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVyKG5zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtUb1VzZSA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsobnMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKG5zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWRhcHRlcj8uY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2lhbFVyaTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmtUb1VzZT8uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBycGNVcmw6IGNhaXBOZXR3b3JrVG9Vc2U/LnJwY1VybHM/LmRlZmF1bHQ/Lmh0dHA/LlswXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuYWRkQ29ubmVjdGVkTmFtZXNwYWNlKG5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZURpc2Nvbm5lY3RlZENvbm5lY3RvcklkKHBhcmFtcy5pZCwgbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Nvbm5lY3RlZCcsIG5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0Nvbm5lY3RlZFdhbGxldEluZm8obnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBBbGVydENvbnRyb2xsZXIud2FybihFcnJvclV0aWwuQUxFUlRfV0FSTklOR1MuSU5BQ1RJVkVfTkFNRVNQQUNFX05PVF9DT05ORUNURUQuZGlzcGxheU1lc3NhZ2UsIEVycm9yVXRpbC5BTEVSVF9XQVJOSU5HUy5JTkFDVElWRV9OQU1FU1BBQ0VfTk9UX0NPTk5FQ1RFRC5kZWJ1Z01lc3NhZ2UobnMsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkKSwgRXJyb3JVdGlsLkFMRVJUX1dBUk5JTkdTLklOQUNUSVZFX05BTUVTUEFDRV9OT1RfQ09OTkVDVEVELmNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIE1ha2UgdGhlIHNlY3VyZSBzaXRlIGJhY2sgdG8gY3VycmVudCBuZXR3b3JrIGFmdGVyIHJlY29ubmVjdGluZyB0aGUgb3RoZXIgbmFtZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWN0aXZlQWRhcHRlcj8uc3dpdGNoTmV0d29yayh7XG4gICAgICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrOiBhY3RpdmVDYWlwTmV0d29ya1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldEFwcHJvdmVkQ2FpcE5ldHdvcmtzRGF0YSgpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJUeXBlID0gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVySWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgaWYgKHByb3ZpZGVyVHlwZSA9PT0gVXRpbENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX1RZUEVfV0FMTEVUX0NPTk5FQ1QpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSB0aGlzLnVuaXZlcnNhbFByb3ZpZGVyPy5zZXNzaW9uPy5uYW1lc3BhY2VzO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIE1ldGFNYXNrIFdhbGxldCBvbmx5IHJldHVybnMgMSBuYW1lc3BhY2UgaW4gdGhlIHNlc3Npb24gb2JqZWN0LiBUaGlzIG1ha2VzIGl0IGltcG9zaWJsZVxuICAgICAgICAgICAgICAgICAqIHRvIHN3aXRjaCB0byBvdGhlciBuZXR3b3Jrcy4gU2V0dGluZyBzdXBwb3J0c0FsbE5ldHdvcmtzIHRvIHRydWUgZm9yIE1ldGFNYXNrIFdhbGxldFxuICAgICAgICAgICAgICAgICAqIHdpbGwgbWFrZSBpdCBwb3NzaWJsZSB0byBzd2l0Y2ggdG8gb3RoZXIgbmV0d29ya3MuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3VwcG9ydHNBbGxOZXR3b3JrczogdGhpcy51bml2ZXJzYWxQcm92aWRlcj8uc2Vzc2lvbj8ucGVlcj8ubWV0YWRhdGEubmFtZSA9PT0gJ01ldGFNYXNrIFdhbGxldCcsXG4gICAgICAgICAgICAgICAgYXBwcm92ZWRDYWlwTmV0d29ya0lkczogdGhpcy5nZXRDaGFpbnNGcm9tTmFtZXNwYWNlcyhuYW1lc3BhY2VzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdXBwb3J0c0FsbE5ldHdvcmtzOiB0cnVlLCBhcHByb3ZlZENhaXBOZXR3b3JrSWRzOiBbXSB9O1xuICAgIH1cbiAgICBhc3luYyBzd2l0Y2hDYWlwTmV0d29yayhjYWlwTmV0d29yaykge1xuICAgICAgICBjb25zdCBuZXR3b3JrTmFtZXNwYWNlID0gY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZUFkZHJlc3MgPSB0aGlzLmdldEFkZHJlc3NCeUNoYWluTmFtZXNwYWNlKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZUFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKG5ldHdvcmtOYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKG5ldHdvcmtOYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFkYXB0ZXI/LnN3aXRjaE5ldHdvcmsoeyBjYWlwTmV0d29yayB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FpcE5ldHdvcmsoY2FpcE5ldHdvcmspO1xuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlclR5cGUgPT09IFV0aWxDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9UWVBFX1dBTExFVF9DT05ORUNUKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY1dhbGxldENvbm5lY3RBY2NvdW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gdGhpcy5nZXRBZGRyZXNzQnlDaGFpbk5hbWVzcGFjZShuZXR3b3JrTmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0FjY291bnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IG5ldHdvcmtOYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRDYWlwTmV0d29yayhjYWlwTmV0d29yayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZXMobmFtZXNwYWNlcyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG5hbWVzcGFjZXMpLmZsYXRNYXAoKG5hbWVzcGFjZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhaW5zID0gKG5hbWVzcGFjZS5jaGFpbnMgfHwgW10pO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudHNDaGFpbnMgPSBuYW1lc3BhY2UuYWNjb3VudHMubWFwKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgY2hhaW5OYW1lc3BhY2UgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGFjY291bnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtjaGFpbk5hbWVzcGFjZX06JHtjaGFpbklkfWA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmNoYWlucywgLi4uYWNjb3VudHNDaGFpbnNdKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyAtLSBBZGFwdGVyIEluaXRpYWxpemF0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNyZWF0ZUFkYXB0ZXJzKGJsdWVwcmludHMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVDbGllbnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYWluTmFtZXNwYWNlcy5yZWR1Y2UoKGFkYXB0ZXJzLCBuYW1lc3BhY2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsdWVwcmludCA9IGJsdWVwcmludHM/LmZpbmQoYiA9PiBiLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChibHVlcHJpbnQpIHtcbiAgICAgICAgICAgICAgICBibHVlcHJpbnQuY29uc3RydWN0KHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHRoaXMub3B0aW9ucz8ucHJvamVjdElkLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrczogdGhpcy5jYWlwTmV0d29ya3M/LmZpbHRlcigoeyBjaGFpbk5hbWVzcGFjZSB9KSA9PiBjaGFpbk5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFkYXB0ZXJzW25hbWVzcGFjZV0gPSBibHVlcHJpbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGFwdGVyc1tuYW1lc3BhY2VdID0gbmV3IFVuaXZlcnNhbEFkYXB0ZXIoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcmtzOiB0aGlzLmdldENhaXBOZXR3b3JrcygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWRhcHRlcnM7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1yZWR1Y2UtdHlwZS1wYXJhbWV0ZXJcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICBhc3luYyBpbml0Q2hhaW5BZGFwdGVyKG5hbWVzcGFjZSkge1xuICAgICAgICB0aGlzLm9uQ29ubmVjdG9ycyhuYW1lc3BhY2UpO1xuICAgICAgICB0aGlzLmxpc3RlbkFkYXB0ZXIobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYWRhcHRlciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBhZGFwdGVyLnN5bmNDb25uZWN0b3JzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlVW5pdmVyc2FsUHJvdmlkZXJGb3JBZGFwdGVyKG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGFzeW5jIGluaXRDaGFpbkFkYXB0ZXJzKCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmNoYWluTmFtZXNwYWNlcy5tYXAoYXN5bmMgKG5hbWVzcGFjZSkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0Q2hhaW5BZGFwdGVyKG5hbWVzcGFjZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5pbml0QWRhcHRlckNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgb25Db25uZWN0b3JzKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmdldEFkYXB0ZXIoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBhZGFwdGVyPy5vbignY29ubmVjdG9ycycsIHRoaXMuc2V0Q29ubmVjdG9ycy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgbGlzdGVuQWRhcHRlcihjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29ubmVjdGlvblN0YXR1cyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25TdGF0dXMoKTtcbiAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZVJlY29ubmVjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCdkaXNjb25uZWN0ZWQnLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCdjb25uZWN0aW5nJywgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbm5lY3Rpb25TdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogQWRkcmVzcyBjYWNoZSBpcyBrZXB0IGFmdGVyIGRpc2Nvbm5lY3RpbmcgZnJvbSB0aGUgd2FsbGV0XG4gICAgICAgICAgICAgKiBidXQgc2hvdWxkIGJlIGNsZWFyZWQgaWYgYXBwa2l0IGlzIGxhdW5jaGVkIGluIGRpc2Nvbm5lY3RlZCBzdGF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5jbGVhckFkZHJlc3NDYWNoZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoY29ubmVjdGlvblN0YXR1cywgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoY29ubmVjdGlvblN0YXR1cywgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGFkYXB0ZXIub24oJ3N3aXRjaE5ldHdvcmsnLCAoeyBhZGRyZXNzLCBjaGFpbklkIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBjaGFpbklkLnRvU3RyaW5nKCkgfHxcbiAgICAgICAgICAgICAgICBuLmNhaXBOZXR3b3JrSWQudG9TdHJpbmcoKSA9PT0gY2hhaW5JZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGlzU2FtZU5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbiA9PT0gY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50QWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KGNoYWluTmFtZXNwYWNlKT8uYWNjb3VudFN0YXRlPy5hZGRyZXNzO1xuICAgICAgICAgICAgaWYgKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGlzU2FtZU5hbWVzcGFjZSAmJiBhZGRyZXNzID8gYWRkcmVzcyA6IGFjY291bnRBZGRyZXNzO1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0FjY291bnQoeyBhZGRyZXNzOiBhY2NvdW50LCBjaGFpbklkOiBjYWlwTmV0d29yay5pZCwgY2hhaW5OYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVbnN1cHBvcnRlZE5ldHdvcmsoY2hhaW5JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZGFwdGVyLm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNNdWx0aVdhbGxldCA9IHRoaXMucmVtb3RlRmVhdHVyZXMubXVsdGlXYWxsZXQ7XG4gICAgICAgICAgICBjb25zdCBhbGxDb25uZWN0aW9ucyA9IEFycmF5LmZyb20oQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdGlvbnMudmFsdWVzKCkpLmZsYXQoKTtcbiAgICAgICAgICAgIHRoaXMub25EaXNjb25uZWN0TmFtZXNwYWNlKHtcbiAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsOiAhaXNNdWx0aVdhbGxldCB8fCBhbGxDb25uZWN0aW9ucy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYWRhcHRlci5vbignY29ubmVjdGlvbnMnLCBjb25uZWN0aW9ucyA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldENvbm5lY3Rpb25zKGNvbm5lY3Rpb25zLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhZGFwdGVyLm9uKCdwZW5kaW5nVHJhbnNhY3Rpb25zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMuZ2V0QWRkcmVzcyhjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgICAgIGlmICghYWRkcmVzcyB8fCAhYWN0aXZlQ2FpcE5ldHdvcms/LmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVOYXRpdmVCYWxhbmNlKGFkZHJlc3MsIGFjdGl2ZUNhaXBOZXR3b3JrLmlkLCBhY3RpdmVDYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhZGFwdGVyLm9uKCdhY2NvdW50Q2hhbmdlZCcsICh7IGFkZHJlc3MsIGNoYWluSWQsIGNvbm5lY3RvciB9KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVByZXZpb3VzQ29ubmVjdG9yQ29ubmVjdGlvbihjb25uZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmVDaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbiA9PT0gY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yPy5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3luY1Byb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbm5lY3Rvci5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY29ubmVjdG9yLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBjb25uZWN0b3I/LnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3luY0Nvbm5lY3RlZFdhbGxldEluZm8oY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlTmV0d29ya0lkID0gQ2hhaW5Db250cm9sbGVyLmdldE5ldHdvcmtEYXRhKGNoYWluTmFtZXNwYWNlKT8uY2FpcE5ldHdvcms/LmlkO1xuICAgICAgICAgICAgY29uc3Qgc3luY0FjY291bnRDaGFpbklkID0gY2hhaW5JZCB8fCBuYW1lc3BhY2VOZXR3b3JrSWQ7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmVDaGFpbiAmJiBzeW5jQWNjb3VudENoYWluSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNBY2NvdW50KHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogc3luY0FjY291bnRDaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzQWN0aXZlQ2hhaW4gJiYgc3luY0FjY291bnRDaGFpbklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jQWNjb3VudEluZm8oYWRkcmVzcywgc3luY0FjY291bnRDaGFpbklkLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jQmFsYW5jZSh7IGFkZHJlc3MsIGNoYWluSWQ6IHN5bmNBY2NvdW50Q2hhaW5JZCwgY2hhaW5OYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNBY2NvdW50SW5mbyhhZGRyZXNzLCBjaGFpbklkLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5hZGRDb25uZWN0ZWROYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBpbmNvbWluZyBjb25uZWN0b3IgYW5kIGhhbmRsZXMgdGhlIHByZXZpb3VzIGNvbm5lY3Rpb24gaW4gdGhlIGNvbm5lY3RvcidzIG5hbWVzcGFjZSwgYW5kIGlmIG5lY2Vzc2FyeSAoaS5lIG11bHRpLXdhbGxldCBpcyBkaXNhYmxlZCkgZGlzY29ubmVjdHMgdGhlIHByZXZpb3VzIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICBhc3luYyBoYW5kbGVQcmV2aW91c0Nvbm5lY3RvckNvbm5lY3Rpb24oY29ubmVjdG9yKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGNvbm5lY3Rvcj8uY2hhaW47XG4gICAgICAgIGNvbnN0IG5ld0Nvbm5lY3RvcklkID0gY29ubmVjdG9yPy5pZDtcbiAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBpc011bHRpV2FsbGV0RW5hYmxlZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5tdWx0aVdhbGxldDtcbiAgICAgICAgY29uc3QgaGFzTmV3Q29ubmVjdG9yQ29ubmVjdGVkID0gY3VycmVudENvbm5lY3RvcklkICE9PSBuZXdDb25uZWN0b3JJZDtcbiAgICAgICAgY29uc3Qgc2hvdWxkRGlzY29ubmVjdFByZXZpb3VzQ29ubmVjdG9yID0gbmFtZXNwYWNlICYmXG4gICAgICAgICAgICBuZXdDb25uZWN0b3JJZCAmJlxuICAgICAgICAgICAgY3VycmVudENvbm5lY3RvcklkICYmXG4gICAgICAgICAgICBoYXNOZXdDb25uZWN0b3JDb25uZWN0ZWQgJiZcbiAgICAgICAgICAgICFpc011bHRpV2FsbGV0RW5hYmxlZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaG91bGREaXNjb25uZWN0UHJldmlvdXNDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5kaXNjb25uZWN0KHsgaWQ6IGN1cnJlbnRDb25uZWN0b3JJZCwgbmFtZXNwYWNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBkaXNjb25uZWN0aW5nIHByZXZpb3VzIGNvbm5lY3RvcicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVVbml2ZXJzYWxQcm92aWRlckZvckFkYXB0ZXIoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRVbml2ZXJzYWxQcm92aWRlcigpO1xuICAgICAgICBpZiAodGhpcy51bml2ZXJzYWxQcm92aWRlcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGFpbkFkYXB0ZXJzPy5bY2hhaW5OYW1lc3BhY2VdPy5zZXRVbml2ZXJzYWxQcm92aWRlcj8uKHRoaXMudW5pdmVyc2FsUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tIENvbm5lY3Rpb24gU3luYyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBhc3luYyBzeW5jRXhpc3RpbmdDb25uZWN0aW9uKCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodGhpcy5jaGFpbk5hbWVzcGFjZXMubWFwKG5hbWVzcGFjZSA9PiB0aGlzLnN5bmNOYW1lc3BhY2VDb25uZWN0aW9uKG5hbWVzcGFjZSkpKTtcbiAgICB9XG4gICAgYXN5bmMgdW5TeW5jRXhpc3RpbmdDb25uZWN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHRoaXMuY2hhaW5OYW1lc3BhY2VzLm1hcChuYW1lc3BhY2UgPT4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuZGlzY29ubmVjdCh7IG5hbWVzcGFjZSwgaW5pdGlhbERpc2Nvbm5lY3Q6IHRydWUgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkaXNjb25uZWN0aW5nIGV4aXN0aW5nIGNvbm5lY3Rpb25zOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWNvbm5lY3RXYWxsZXRDb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLnN5bmNXYWxsZXRDb25uZWN0QWNjb3VudCgpO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gdGhpcy5nZXRBZGRyZXNzKCk7XG4gICAgICAgIGlmICghdGhpcy5nZXRDYWlwQWRkcmVzcygpKSB7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVSZWNlbnRXYWxsZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNlbnRXYWxsZXQgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXQoKTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnQ09OTkVDVF9TVUNDRVNTJyxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpID8gJ21vYmlsZScgOiAncXJjb2RlJyxcbiAgICAgICAgICAgICAgICBuYW1lOiByZWNlbnRXYWxsZXQ/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgIHJlY29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2aWV3OiBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcsXG4gICAgICAgICAgICAgICAgd2FsbGV0UmFuazogcmVjZW50V2FsbGV0Py5vcmRlclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc3luY05hbWVzcGFjZUNvbm5lY3Rpb24obmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSBDb25zdGFudHNVdGlsLkNIQUlOLkVWTSAmJiBDb3JlSGVscGVyVXRpbC5pc1NhZmVBcHAoKSkge1xuICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ySWQoQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuU0FGRSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Nvbm5lY3RpbmcnLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgc3dpdGNoIChjb25uZWN0b3JJZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0V2FsbGV0Q29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg6XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uIG9mIGFkYXB0ZXJzJyBhdXRoIHByb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY0FkYXB0ZXJDb25uZWN0aW9uKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQXBwS2l0IGNvdWxkbid0IHN5bmMgZXhpc3RpbmcgY29ubmVjdGlvblwiLCBlcnIpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EaXNjb25uZWN0TmFtZXNwYWNlKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBjaGFpbk5hbWVzcGFjZSwgY2xvc2VNb2RhbCB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnJlc2V0QWNjb3VudChjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5yZXNldE5ldHdvcmsoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVDb25uZWN0ZWROYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmtleXMoKSk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXNUb0Rpc2Nvbm5lY3QgPSBjaGFpbk5hbWVzcGFjZSA/IFtjaGFpbk5hbWVzcGFjZV0gOiBuYW1lc3BhY2VzO1xuICAgICAgICBuYW1lc3BhY2VzVG9EaXNjb25uZWN0LmZvckVhY2gobnMgPT4gU3RvcmFnZVV0aWwuYWRkRGlzY29ubmVjdGVkQ29ubmVjdG9ySWQoQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChucykgfHwgJycsIG5zKSk7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIucmVtb3ZlQ29ubmVjdG9ySWQoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBQcm92aWRlckNvbnRyb2xsZXIucmVzZXRDaGFpbihjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc2V0VXNlcihudWxsLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKCdkaXNjb25uZWN0ZWQnLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGVkV2FsbGV0SW5mbyhudWxsLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChjbG9zZU1vZGFsICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc3luY0FkYXB0ZXJDb25uZWN0aW9ucygpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHRoaXMuY2hhaW5OYW1lc3BhY2VzLm1hcChuYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSB0aGlzLmdldENhaXBBZGRyZXNzKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBhZGFwdGVyPy5zeW5jQ29ubmVjdGlvbnMoe1xuICAgICAgICAgICAgICAgIGNvbm5lY3RUb0ZpcnN0Q29ubmVjdG9yOiAhY2FpcEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIHN5bmNBZGFwdGVyQ29ubmVjdGlvbihuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmsobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnMobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gY29ubmVjdG9ySWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFhZGFwdGVyIHx8ICFjb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFkYXB0ZXIgb3IgY29ubmVjdG9yIG5vdCBmb3VuZCBmb3IgbmFtZXNwYWNlICR7bmFtZXNwYWNlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjYWlwTmV0d29yaz8uaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhaXBOZXR3b3JrIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGFkYXB0ZXI/LnN5bmNDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgaWQ6IGNvbm5lY3Rvci5pZCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiBjYWlwTmV0d29yay5pZCxcbiAgICAgICAgICAgICAgICBycGNVcmw6IGNhaXBOZXR3b3JrPy5ycGNVcmxzPy5kZWZhdWx0Py5odHRwPy5bMF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNQcm92aWRlcih7IC4uLmNvbm5lY3Rpb24sIGNoYWluTmFtZXNwYWNlOiBuYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jQWNjb3VudCh7IC4uLmNvbm5lY3Rpb24sIGNoYWluTmFtZXNwYWNlOiBuYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Nvbm5lY3RlZCcsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ0NPTk5FQ1RfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGNvbm5lY3Rpb24uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb25uZWN0b3IuaW5mbz8ubmFtZSB8fCBjb25uZWN0b3IubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXRSYW5rOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25EaXNjb25uZWN0TmFtZXNwYWNlKHsgY2hhaW5OYW1lc3BhY2U6IG5hbWVzcGFjZSwgY2xvc2VNb2RhbDogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc3luY1dhbGxldENvbm5lY3RBY2NvdW50KCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uTmFtZXNwYWNlcyA9IE9iamVjdC5rZXlzKHRoaXMudW5pdmVyc2FsUHJvdmlkZXI/LnNlc3Npb24/Lm5hbWVzcGFjZXMgfHwge30pO1xuICAgICAgICBjb25zdCBzeW5jVGFza3MgPSB0aGlzLmNoYWluTmFtZXNwYWNlcy5tYXAoYXN5bmMgKGNoYWluTmFtZXNwYWNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5nZXRBZGFwdGVyKGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZUFjY291bnRzID0gdGhpcy51bml2ZXJzYWxQcm92aWRlcj8uc2Vzc2lvbj8ubmFtZXNwYWNlcz8uW2NoYWluTmFtZXNwYWNlXT8uYWNjb3VudHMgfHwgW107XG4gICAgICAgICAgICAvLyBXZSB0cnkgYW5kIGZpbmQgdGhlIGFkZHJlc3MgZm9yIHRoaXMgbmV0d29yayBpbiB0aGUgc2Vzc2lvbiBvYmplY3QuXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25BZGRyZXNzID0gbmFtZXNwYWNlQWNjb3VudHMuZmluZChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNoYWluSWQgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGFjY291bnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbklkID09PSBhY3RpdmVDaGFpbklkPy50b1N0cmluZygpO1xuICAgICAgICAgICAgfSkgfHwgbmFtZXNwYWNlQWNjb3VudHNbMF07XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IFBhcnNlVXRpbC52YWxpZGF0ZUNhaXBBZGRyZXNzKHNlc3Npb25BZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNoYWluSWQsIGFkZHJlc3MgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBQcm92aWRlckNvbnRyb2xsZXIuc2V0UHJvdmlkZXJJZChjaGFpbk5hbWVzcGFjZSwgVXRpbENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX1RZUEVfV0FMTEVUX0NPTk5FQ1QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhaXBOZXR3b3JrcyAmJlxuICAgICAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmsgJiZcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRlci5uYW1lc3BhY2UgIT09IENvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gYWRhcHRlci5nZXRXYWxsZXRDb25uZWN0UHJvdmlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtzOiB0aGlzLmdldENhaXBOZXR3b3JrcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMudW5pdmVyc2FsUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWlwTmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBQcm92aWRlckNvbnRyb2xsZXIuc2V0UHJvdmlkZXIoY2hhaW5OYW1lc3BhY2UsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFByb3ZpZGVyQ29udHJvbGxlci5zZXRQcm92aWRlcihjaGFpbk5hbWVzcGFjZSwgdGhpcy51bml2ZXJzYWxQcm92aWRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ySWQoQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1QsIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5hZGRDb25uZWN0ZWROYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY0FjY291bnQoe1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2Vzc2lvbk5hbWVzcGFjZXMuaW5jbHVkZXMoY2hhaW5OYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcsIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEFwcHJvdmVkQ2FpcE5ldHdvcmtzRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5zeW5jQ29ubmVjdGVkV2FsbGV0SW5mbyhjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QXBwcm92ZWRDYWlwTmV0d29ya3NEYXRhKGNoYWluTmFtZXNwYWNlLCB7XG4gICAgICAgICAgICAgICAgYXBwcm92ZWRDYWlwTmV0d29ya0lkczogZGF0YS5hcHByb3ZlZENhaXBOZXR3b3JrSWRzLFxuICAgICAgICAgICAgICAgIHN1cHBvcnRzQWxsTmV0d29ya3M6IGRhdGEuc3VwcG9ydHNBbGxOZXR3b3Jrc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChzeW5jVGFza3MpO1xuICAgIH1cbiAgICBzeW5jUHJvdmlkZXIoeyB0eXBlLCBwcm92aWRlciwgaWQsIGNoYWluTmFtZXNwYWNlIH0pIHtcbiAgICAgICAgUHJvdmlkZXJDb250cm9sbGVyLnNldFByb3ZpZGVySWQoY2hhaW5OYW1lc3BhY2UsIHR5cGUpO1xuICAgICAgICBQcm92aWRlckNvbnRyb2xsZXIuc2V0UHJvdmlkZXIoY2hhaW5OYW1lc3BhY2UsIHByb3ZpZGVyKTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JJZChpZCwgY2hhaW5OYW1lc3BhY2UpO1xuICAgIH1cbiAgICBhc3luYyBzeW5jQWNjb3VudChwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmVOYW1lc3BhY2UgPSBwYXJhbXMuY2hhaW5OYW1lc3BhY2UgPT09IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgbmV0d29ya09mQ2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuZ2V0Q2FpcE5ldHdvcmtCeU5hbWVzcGFjZShwYXJhbXMuY2hhaW5OYW1lc3BhY2UsIHBhcmFtcy5jaGFpbklkKTtcbiAgICAgICAgY29uc3QgeyBhZGRyZXNzLCBjaGFpbklkLCBjaGFpbk5hbWVzcGFjZSB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCB7IGNoYWluSWQ6IGFjdGl2ZUNoYWluSWQgfSA9IFN0b3JhZ2VVdGlsLmdldEFjdGl2ZU5ldHdvcmtQcm9wcygpO1xuICAgICAgICBjb25zdCBjaGFpbklkVG9Vc2UgPSBuZXR3b3JrT2ZDaGFpbj8uaWQgfHwgYWN0aXZlQ2hhaW5JZDtcbiAgICAgICAgY29uc3QgaXNVbnN1cHBvcnRlZE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/Lm5hbWUgPT09IENvbnN0YW50c1V0aWwuVU5TVVBQT1JURURfTkVUV09SS19OQU1FO1xuICAgICAgICBjb25zdCBzaG91bGRTdXBwb3J0QWxsTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0TmV0d29ya1Byb3AoJ3N1cHBvcnRzQWxsTmV0d29ya3MnLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKCdjb25uZWN0ZWQnLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChpc1Vuc3VwcG9ydGVkTmV0d29yayAmJiAhc2hvdWxkU3VwcG9ydEFsbE5ldHdvcmtzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYWluSWRUb1VzZSkge1xuICAgICAgICAgICAgbGV0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBjaGFpbklkVG9Vc2UudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBsZXQgZmFsbGJhY2tDYWlwTmV0d29yayA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCkuZmluZChuID0+IG4uY2hhaW5OYW1lc3BhY2UgPT09IGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIC8vIElmIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgbmV0d29ya3MsIHdlIG5lZWQgdG8gdXNlIGFwcHJvdmVkIG5ldHdvcmtzXG4gICAgICAgICAgICBpZiAoIXNob3VsZFN1cHBvcnRBbGxOZXR3b3JrcyAmJiAhY2FpcE5ldHdvcmsgJiYgIWZhbGxiYWNrQ2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uIGNhbiBiZSByZXF1ZXN0ZWQgZm9yIGEgY2hhaW4gdGhhdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSB3YWxsZXQgc28gd2UgbmVlZCB0byB1c2UgYXBwcm92ZWQgbmV0d29ya3MgaGVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWRzID0gdGhpcy5nZXRBcHByb3ZlZENhaXBOZXR3b3JrSWRzKCkgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZCA9IGNhaXBOZXR3b3JrSWRzLmZpbmQoaWQgPT4gUGFyc2VVdGlsLnBhcnNlQ2FpcE5ldHdvcmtJZChpZCk/LmNoYWluSWQgPT09IGNoYWluSWRUb1VzZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWxsQmFja0NhaXBOZXR3b3JrSWQgPSBjYWlwTmV0d29ya0lkcy5maW5kKGlkID0+IFBhcnNlVXRpbC5wYXJzZUNhaXBOZXR3b3JrSWQoaWQpPy5jaGFpbk5hbWVzcGFjZSA9PT0gY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5jYWlwTmV0d29ya0lkID09PSBjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgICAgICBmYWxsYmFja0NhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5jYWlwTmV0d29ya0lkID09PSBmYWxsQmFja0NhaXBOZXR3b3JrSWQgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmthcm91bmQgdXNlZCBpbiBTb2xhbmEgbmV0d29yayB0byBzdXBwb3J0IGRlcHJlY2F0ZWQgY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgICAgICAgICAoJ2RlcHJlY2F0ZWRDYWlwTmV0d29ya0lkJyBpbiBuICYmIG4uZGVwcmVjYXRlZENhaXBOZXR3b3JrSWQgPT09IGZhbGxCYWNrQ2FpcE5ldHdvcmtJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV0d29yayA9IGNhaXBOZXR3b3JrIHx8IGZhbGxiYWNrQ2FpcE5ldHdvcms7XG4gICAgICAgICAgICBpZiAobmV0d29yaz8uY2hhaW5OYW1lc3BhY2UgPT09IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBuZXR3b3JrIGlzIHVuc3VwcG9ydGVkIGFuZCB0aGUgdXNlciBkb2Vzbid0IGFsbG93IHVuc3VwcG9ydGVkIGNoYWlucywgd2Ugc2hvdyB0aGUgdW5zdXBwb3J0ZWQgY2hhaW4gVUlcbiAgICAgICAgICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlTmV0d29ya1N3aXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAhT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuYWxsb3dVbnN1cHBvcnRlZENoYWluICYmXG4gICAgICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8ubmFtZSA9PT0gQ29uc3RhbnRzVXRpbC5VTlNVUFBPUlRFRF9ORVRXT1JLX05BTUUpIHtcbiAgICAgICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNob3dVbnN1cHBvcnRlZENoYWluVUkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzQWN0aXZlTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ldHdvcmtPZkNoYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FpcE5ldHdvcmtPZk5hbWVzcGFjZShuZXR3b3JrT2ZDaGFpbiwgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3luY0Nvbm5lY3RlZFdhbGxldEluZm8oY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFkZHJlc3MgPSB0aGlzLmdldEFkZHJlc3MoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKCFIZWxwZXJzVXRpbC5pc0xvd2VyQ2FzZU1hdGNoKGFkZHJlc3MsIGN1cnJlbnRBZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3luY0FjY291bnRJbmZvKGFkZHJlc3MsIG5ldHdvcms/LmlkLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmVOYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmNCYWxhbmNlKHsgYWRkcmVzcywgY2hhaW5JZDogbmV0d29yaz8uaWQsIGNoYWluTmFtZXNwYWNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zeW5jQmFsYW5jZSh7IGFkZHJlc3MsIGNoYWluSWQ6IG5ldHdvcmtPZkNoYWluPy5pZCwgY2hhaW5OYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN5bmNJZGVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzeW5jQWNjb3VudEluZm8oYWRkcmVzcywgY2hhaW5JZCwgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSB0aGlzLmdldENhaXBBZGRyZXNzKGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgbmV3Q2hhaW5JZCA9IGNoYWluSWQgfHwgY2FpcEFkZHJlc3M/LnNwbGl0KCc6JylbMV07XG4gICAgICAgIGlmICghbmV3Q2hhaW5JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0NhaXBBZGRyZXNzID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7bmV3Q2hhaW5JZH06JHthZGRyZXNzfWA7XG4gICAgICAgIHRoaXMuc2V0Q2FpcEFkZHJlc3MobmV3Q2FpcEFkZHJlc3MsIGNoYWluTmFtZXNwYWNlLCB0cnVlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zeW5jSWRlbnRpdHkoe1xuICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IG5ld0NoYWluSWQsXG4gICAgICAgICAgICBjaGFpbk5hbWVzcGFjZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc3luY1Jlb3duTmFtZShhZGRyZXNzLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFdjTmFtZXMgPSBhd2FpdCB0aGlzLmdldFJlb3duTmFtZShhZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChyZWdpc3RlcmVkV2NOYW1lc1swXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdjTmFtZSA9IHJlZ2lzdGVyZWRXY05hbWVzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZmlsZU5hbWUod2NOYW1lLm5hbWUsIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvZmlsZU5hbWUobnVsbCwgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvZmlsZU5hbWUobnVsbCwgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN5bmNDb25uZWN0ZWRXYWxsZXRJbmZvKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKHByb3ZpZGVyVHlwZSA9PT0gVXRpbENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX1RZUEVfQU5OT1VOQ0VEIHx8XG4gICAgICAgICAgICBwcm92aWRlclR5cGUgPT09IFV0aWxDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9UWVBFX0lOSkVDVEVEKSB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0b3JzID0gdGhpcy5nZXRDb25uZWN0b3JzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gY29ubmVjdG9ycy5maW5kKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Nvbm5lY3RvcklkID0gYy5pZCA9PT0gY29ubmVjdG9ySWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUmRucyA9IGMuaW5mbz8ucmRucyA9PT0gY29ubmVjdG9ySWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc011bHRpQ2hhaW5Db25uZWN0b3IgPSBjLmNvbm5lY3RvcnM/LnNvbWUoX2MgPT4gX2MuaWQgPT09IGNvbm5lY3RvcklkIHx8IF9jLmluZm8/LnJkbnMgPT09IGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQ29ubmVjdG9ySWQgfHwgaXNSZG5zIHx8IEJvb2xlYW4oaGFzTXVsdGlDaGFpbkNvbm5lY3Rvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGluZm8sIG5hbWUsIGltYWdlVXJsIH0gPSBjb25uZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBpbWFnZVVybCB8fCB0aGlzLmdldENvbm5lY3RvckltYWdlKGNvbm5lY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29ubmVjdGVkV2FsbGV0SW5mbyh7IG5hbWUsIGljb24sIC4uLmluZm8gfSwgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm92aWRlclR5cGUgPT09IFV0aWxDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9UWVBFX1dBTExFVF9DT05ORUNUKSB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcihjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXI/LnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbm5lY3RlZFdhbGxldEluZm8oe1xuICAgICAgICAgICAgICAgICAgICAuLi5wcm92aWRlci5zZXNzaW9uLnBlZXIubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3ZpZGVyLnNlc3Npb24ucGVlci5tZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBwcm92aWRlci5zZXNzaW9uLnBlZXIubWV0YWRhdGEuaWNvbnM/LlswXVxuICAgICAgICAgICAgICAgIH0sIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25uZWN0b3JJZCkge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RvcklkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV9TREsgfHxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JJZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQ09JTkJBU0UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSB0aGlzLmdldENvbm5lY3RvcnMoKS5maW5kKGMgPT4gYy5pZCA9PT0gY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjb25uZWN0b3I/Lm5hbWUgfHwgJ0NvaW5iYXNlIFdhbGxldCc7XG4gICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IGNvbm5lY3Rvcj8uaW1hZ2VVcmwgfHwgdGhpcy5nZXRDb25uZWN0b3JJbWFnZShjb25uZWN0b3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBjb25uZWN0b3I/LmluZm87XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb25uZWN0ZWRXYWxsZXRJbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaW5mbyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgIH0sIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzeW5jQmFsYW5jZShwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSBOZXR3b3JrVXRpbC5nZXROZXR3b3Jrc0J5TmFtZXNwYWNlKHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCksIHBhcmFtcy5jaGFpbk5hbWVzcGFjZSkuZmluZChuID0+IG4uaWQudG9TdHJpbmcoKSA9PT0gcGFyYW1zLmNoYWluSWQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrIHx8ICFwYXJhbXMuY2hhaW5JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlTmF0aXZlQmFsYW5jZShwYXJhbXMuYWRkcmVzcywgcGFyYW1zLmNoYWluSWQsIHBhcmFtcy5jaGFpbk5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGFzeW5jIHJlYWR5KCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5UHJvbWlzZTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlTmF0aXZlQmFsYW5jZShhZGRyZXNzLCBjaGFpbklkLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QWRhcHRlcihuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5nZXRDYWlwTmV0d29ya0J5TmFtZXNwYWNlKG5hbWVzcGFjZSwgY2hhaW5JZCk7XG4gICAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgYWRhcHRlci5nZXRCYWxhbmNlKHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcmssXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLm9wdGlvbnMudG9rZW5zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0QmFsYW5jZShiYWxhbmNlLmJhbGFuY2UsIGJhbGFuY2Uuc3ltYm9sLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gLS0gVW5pdmVyc2FsIFByb3ZpZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGFzeW5jIGluaXRpYWxpemVVbml2ZXJzYWxBZGFwdGVyKCkge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBMb2dnZXJVdGlsLmNyZWF0ZUxvZ2dlcigoZXJyb3IsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQWxlcnRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVuaXZlcnNhbFByb3ZpZGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHByb2plY3RJZDogdGhpcy5vcHRpb25zPy5wcm9qZWN0SWQsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMub3B0aW9ucz8ubWV0YWRhdGEgPyB0aGlzLm9wdGlvbnM/Lm1ldGFkYXRhLm5hbWUgOiAnJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5vcHRpb25zPy5tZXRhZGF0YSA/IHRoaXMub3B0aW9ucz8ubWV0YWRhdGEuZGVzY3JpcHRpb24gOiAnJyxcbiAgICAgICAgICAgICAgICB1cmw6IHRoaXMub3B0aW9ucz8ubWV0YWRhdGEgPyB0aGlzLm9wdGlvbnM/Lm1ldGFkYXRhLnVybCA6ICcnLFxuICAgICAgICAgICAgICAgIGljb25zOiB0aGlzLm9wdGlvbnM/Lm1ldGFkYXRhID8gdGhpcy5vcHRpb25zPy5tZXRhZGF0YS5pY29ucyA6IFsnJ11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb2dnZXJcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0TWFudWFsV0NDb250cm9sKEJvb2xlYW4odGhpcy5vcHRpb25zPy5tYW51YWxXQ0NvbnRyb2wpKTtcbiAgICAgICAgdGhpcy51bml2ZXJzYWxQcm92aWRlciA9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudW5pdmVyc2FsUHJvdmlkZXIgPz8gKGF3YWl0IFVuaXZlcnNhbFByb3ZpZGVyLmluaXQodW5pdmVyc2FsUHJvdmlkZXJPcHRpb25zKSk7XG4gICAgICAgIC8vIENsZWFyIHRoZSBzZXNzaW9uIGlmIHdlIGRvbid0IHdhbnQgdG8gcmVjb25uZWN0IG9uIGluaXRcbiAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZVJlY29ubmVjdCA9PT0gZmFsc2UgJiYgdGhpcy51bml2ZXJzYWxQcm92aWRlci5zZXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVuaXZlcnNhbFByb3ZpZGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbldhbGxldENvbm5lY3QoKTtcbiAgICB9XG4gICAgbGlzdGVuV2FsbGV0Q29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5pdmVyc2FsUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhaW5OYW1lc3BhY2VzLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgICAgICBXY0hlbHBlcnNVdGlsLmxpc3RlbldjUHJvdmlkZXIoe1xuICAgICAgICAgICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlcjogdGhpcy51bml2ZXJzYWxQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICBvbkRpc3BsYXlVcmk6IHVyaSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRVcmkodXJpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0OiBhY2NvdW50cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFkZHJlc3MgfSA9IENvcmVIZWxwZXJVdGlsLmdldEFjY291bnQoYWNjb3VudHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuZmluYWxpemVXY0Nvbm5lY3Rpb24oYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uRGlzY29ubmVjdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENoYWluQ29udHJvbGxlci5zdGF0ZS5ub0FkYXB0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEFjY291bnQobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnJlc2V0V2NDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhaW5DaGFuZ2VkOiBjaGFpbklkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZU5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudENvbm5lY3RvcldhbGxldENvbm5lY3QgPSBhY3RpdmVOYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1thY3RpdmVOYW1lc3BhY2VdID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVOYW1lc3BhY2UgPT09IG5hbWVzcGFjZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChDaGFpbkNvbnRyb2xsZXIuc3RhdGUubm9BZGFwdGVycyB8fCBpc0N1cnJlbnRDb25uZWN0b3JXYWxsZXRDb25uZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBjaGFpbklkLnRvU3RyaW5nKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5jYWlwTmV0d29ya0lkLnRvU3RyaW5nKCkgPT09IGNoYWluSWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29yaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVbnN1cHBvcnRlZE5ldHdvcmsoY2hhaW5JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDYWlwTmV0d29yaz8uaWQudG9TdHJpbmcoKSAhPT0gY2FpcE5ldHdvcms/LmlkLnRvU3RyaW5nKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSA9PT0gY2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FpcE5ldHdvcmsoY2FpcE5ldHdvcmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25BY2NvdW50c0NoYW5nZWQ6IGFjY291bnRzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZU5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudENvbm5lY3RvcldhbGxldENvbm5lY3QgPSBhY3RpdmVOYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1thY3RpdmVOYW1lc3BhY2VdID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVOYW1lc3BhY2UgPT09IG5hbWVzcGFjZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChDaGFpbkNvbnRyb2xsZXIuc3RhdGUubm9BZGFwdGVycyB8fCBpc0N1cnJlbnRDb25uZWN0b3JXYWxsZXRDb25uZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50cz8uWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0FjY291bnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogYWNjb3VudC5jaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IGFjY291bnQuY2hhaW5OYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVVbml2ZXJzYWxQcm92aWRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVuaXZlcnNhbFByb3ZpZGVySW5pdFByb21pc2UgJiZcbiAgICAgICAgICAgIENvcmVIZWxwZXJVdGlsLmlzQ2xpZW50KCkgJiZcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucz8ucHJvamVjdElkKSB7XG4gICAgICAgICAgICB0aGlzLnVuaXZlcnNhbFByb3ZpZGVySW5pdFByb21pc2UgPSB0aGlzLmluaXRpYWxpemVVbml2ZXJzYWxBZGFwdGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudW5pdmVyc2FsUHJvdmlkZXJJbml0UHJvbWlzZTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0VW5pdmVyc2FsUHJvdmlkZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy51bml2ZXJzYWxQcm92aWRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVVuaXZlcnNhbFByb3ZpZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ0lOVEVSTkFMX1NES19FUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yVHlwZTogJ1VuaXZlcnNhbFByb3ZpZGVySW5pdEVycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY2F1Z2h0OiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBcHBLaXQ6Z2V0VW5pdmVyc2FsUHJvdmlkZXIgLSBDYW5ub3QgY3JlYXRlIHByb3ZpZGVyJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51bml2ZXJzYWxQcm92aWRlcjtcbiAgICB9XG4gICAgZ2V0RGlzYWJsZWRDYWlwTmV0d29ya3MoKSB7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsQXBwcm92ZWRDYWlwTmV0d29ya0lkcygpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCk7XG4gICAgICAgIGNvbnN0IHNvcnRlZE5ldHdvcmtzID0gQ29yZUhlbHBlclV0aWwuc29ydFJlcXVlc3RlZE5ldHdvcmtzKGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMsIHJlcXVlc3RlZENhaXBOZXR3b3Jrcyk7XG4gICAgICAgIHJldHVybiBzb3J0ZWROZXR3b3Jrcy5maWx0ZXIobmV0d29yayA9PiBDaGFpbkNvbnRyb2xsZXIuaXNDYWlwTmV0d29ya0Rpc2FibGVkKG5ldHdvcmspKTtcbiAgICB9XG4gICAgLy8gLSBVdGlscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgaGFuZGxlQWxlcnRFcnJvcihlcnJvcikge1xuICAgICAgICBjb25zdCBtYXRjaGVkVW5pdmVyc2FsUHJvdmlkZXJFcnJvciA9IE9iamVjdC5lbnRyaWVzKEVycm9yVXRpbC5Vbml2ZXJzYWxQcm92aWRlckVycm9ycykuZmluZCgoWywgeyBtZXNzYWdlIH1dKSA9PiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKG1lc3NhZ2UpKTtcbiAgICAgICAgY29uc3QgW2Vycm9yS2V5LCBlcnJvclZhbHVlXSA9IG1hdGNoZWRVbml2ZXJzYWxQcm92aWRlckVycm9yID8/IFtdO1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UsIGFsZXJ0RXJyb3JLZXkgfSA9IGVycm9yVmFsdWUgPz8ge307XG4gICAgICAgIGlmIChlcnJvcktleSAmJiBtZXNzYWdlICYmICF0aGlzLnJlcG9ydGVkQWxlcnRFcnJvcnNbZXJyb3JLZXldKSB7XG4gICAgICAgICAgICBjb25zdCBhbGVydEVycm9yID0gRXJyb3JVdGlsLkFMRVJUX0VSUk9SU1thbGVydEVycm9yS2V5XTtcbiAgICAgICAgICAgIGlmIChhbGVydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgQWxlcnRDb250cm9sbGVyLm9wZW4oYWxlcnRFcnJvciwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRlZEFsZXJ0RXJyb3JzW2Vycm9yS2V5XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QWRhcHRlcihuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhaW5BZGFwdGVycz8uW25hbWVzcGFjZV07XG4gICAgfVxuICAgIGNyZWF0ZUFkYXB0ZXIoYmx1ZXByaW50KSB7XG4gICAgICAgIGlmICghYmx1ZXByaW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gYmx1ZXByaW50Lm5hbWVzcGFjZTtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZUNsaWVudHMoKTtcbiAgICAgICAgY29uc3QgYWRhcHRlckJsdWVwcmludCA9IGJsdWVwcmludDtcbiAgICAgICAgYWRhcHRlckJsdWVwcmludC5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgICAgIGFkYXB0ZXJCbHVlcHJpbnQuY29uc3RydWN0KHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHByb2plY3RJZDogdGhpcy5vcHRpb25zPy5wcm9qZWN0SWQsXG4gICAgICAgICAgICBuZXR3b3JrczogdGhpcy5jYWlwTmV0d29ya3M/LmZpbHRlcigoeyBjaGFpbk5hbWVzcGFjZSB9KSA9PiBjaGFpbk5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLmNoYWluTmFtZXNwYWNlcy5pbmNsdWRlcyhuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICB0aGlzLmNoYWluTmFtZXNwYWNlcy5wdXNoKG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhaW5BZGFwdGVycykge1xuICAgICAgICAgICAgdGhpcy5jaGFpbkFkYXB0ZXJzW25hbWVzcGFjZV0gPSBhZGFwdGVyQmx1ZXByaW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tIFB1YmxpYyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgb3BlbihvcHRpb25zKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5qZWN0TW9kYWxVaSgpO1xuICAgICAgICBpZiAob3B0aW9ucz8udXJpKSB7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRVcmkob3B0aW9ucy51cmkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaXNTd2FwLCBpc1NlbmQgfSA9IHRoaXMudG9Nb2RhbE9wdGlvbnMoKTtcbiAgICAgICAgaWYgKGlzU3dhcChvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIE1vZGFsQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgc3dhcDogb3B0aW9ucy5hcmd1bWVudHMgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTZW5kKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuU2VuZChvcHRpb25zLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1vZGFsQ29udHJvbGxlci5vcGVuKG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbmplY3RNb2RhbFVpKCk7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgIH1cbiAgICBzZXRMb2FkaW5nKGxvYWRpbmcsIG5hbWVzcGFjZSkge1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyhsb2FkaW5nLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBhc3luYyBkaXNjb25uZWN0KGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmRpc2Nvbm5lY3QoeyBuYW1lc3BhY2U6IGNoYWluTmFtZXNwYWNlIH0pO1xuICAgIH1cbiAgICBnZXRTSVdYKCkge1xuICAgICAgICByZXR1cm4gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICB9XG4gICAgLy8gLS0gcmV2aWV3IHRoZXNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBnZXRFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXRDaGFpbklkKCkge1xuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5pZDtcbiAgICB9XG4gICAgYXN5bmMgc3dpdGNoTmV0d29yayhhcHBLaXROZXR3b3JrLCB7IHRocm93T25GYWlsdXJlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpLmZpbmQobiA9PiBuLmlkID09PSBhcHBLaXROZXR3b3JrLmlkKTtcbiAgICAgICAgaWYgKCFuZXR3b3JrKSB7XG4gICAgICAgICAgICBBbGVydENvbnRyb2xsZXIub3BlbihFcnJvclV0aWwuQUxFUlRfRVJST1JTLlNXSVRDSF9ORVRXT1JLX05PVF9GT1VORCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgQ2hhaW5Db250cm9sbGVyLnN3aXRjaEFjdGl2ZU5ldHdvcmsobmV0d29yaywgeyB0aHJvd09uRmFpbHVyZSB9KTtcbiAgICB9XG4gICAgZ2V0V2FsbGV0UHJvdmlkZXIoKSB7XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW5cbiAgICAgICAgICAgID8gUHJvdmlkZXJDb250cm9sbGVyLnN0YXRlLnByb3ZpZGVyc1tDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW5dXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGdldFdhbGxldFByb3ZpZGVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgfVxuICAgIHN1YnNjcmliZVByb3ZpZGVycyhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gUHJvdmlkZXJDb250cm9sbGVyLnN1YnNjcmliZVByb3ZpZGVycyhjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldFRoZW1lTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIFRoZW1lQ29udHJvbGxlci5zdGF0ZS50aGVtZU1vZGU7XG4gICAgfVxuICAgIGdldFRoZW1lVmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gVGhlbWVDb250cm9sbGVyLnN0YXRlLnRoZW1lVmFyaWFibGVzO1xuICAgIH1cbiAgICBzZXRUaGVtZU1vZGUodGhlbWVNb2RlKSB7XG4gICAgICAgIFRoZW1lQ29udHJvbGxlci5zZXRUaGVtZU1vZGUodGhlbWVNb2RlKTtcbiAgICAgICAgc2V0Q29sb3JUaGVtZShUaGVtZUNvbnRyb2xsZXIuc3RhdGUudGhlbWVNb2RlKTtcbiAgICB9XG4gICAgc2V0VGVybXNDb25kaXRpb25zVXJsKHRlcm1zQ29uZGl0aW9uc1VybCkge1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRUZXJtc0NvbmRpdGlvbnNVcmwodGVybXNDb25kaXRpb25zVXJsKTtcbiAgICB9XG4gICAgc2V0UHJpdmFjeVBvbGljeVVybChwcml2YWN5UG9saWN5VXJsKSB7XG4gICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldFByaXZhY3lQb2xpY3lVcmwocHJpdmFjeVBvbGljeVVybCk7XG4gICAgfVxuICAgIHNldFRoZW1lVmFyaWFibGVzKHRoZW1lVmFyaWFibGVzKSB7XG4gICAgICAgIFRoZW1lQ29udHJvbGxlci5zZXRUaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcyk7XG4gICAgICAgIHNldFRoZW1lVmFyaWFibGVzKFRoZW1lQ29udHJvbGxlci5zdGF0ZS50aGVtZVZhcmlhYmxlcyk7XG4gICAgfVxuICAgIHN1YnNjcmliZVRoZW1lKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBUaGVtZUNvbnRyb2xsZXIuc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlQ29ubmVjdGlvbnMoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbW90ZUZlYXR1cmVzLm11bHRpV2FsbGV0KSB7XG4gICAgICAgICAgICBBbGVydENvbnRyb2xsZXIub3BlbihDb25zdGFudHNVdGlsLlJFTU9URV9GRUFUVVJFU19BTEVSVFMuTVVMVElfV0FMTEVUX05PVF9FTkFCTEVELkRFRkFVTFQsICdpbmZvJyk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXRXYWxsZXRJbmZvKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKT8uYWNjb3VudFN0YXRlPy5jb25uZWN0ZWRXYWxsZXRJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjY291bnREYXRhID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk7XG4gICAgICAgIHJldHVybiBhY2NvdW50RGF0YT8uY29ubmVjdGVkV2FsbGV0SW5mbztcbiAgICB9XG4gICAgZ2V0QWNjb3VudChfbmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2UgfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKG5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGFjY291bnRTdGF0ZSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBhY3RpdmVDb25uZWN0b3JJZCA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3RlZENvbm5lY3RvcklkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuZ2V0Q29ubmVjdGlvbnMobmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXBwS2l0OmdldEFjY291bnQgLSBuYW1lc3BhY2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxBY2NvdW50cyA9IGNvbm5lY3Rpb25zLmZsYXRNYXAoY29ubmVjdGlvbiA9PiBjb25uZWN0aW9uLmFjY291bnRzLm1hcCgoeyBhZGRyZXNzLCB0eXBlLCBwdWJsaWNLZXkgfSkgPT4gQ29yZUhlbHBlclV0aWwuY3JlYXRlQWNjb3VudChuYW1lc3BhY2UsIGFkZHJlc3MsICh0eXBlIHx8ICdlb2EnKSwgcHVibGljS2V5KSkpO1xuICAgICAgICBpZiAoIWFjY291bnRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWxsQWNjb3VudHMsXG4gICAgICAgICAgICBjYWlwQWRkcmVzczogYWNjb3VudFN0YXRlLmNhaXBBZGRyZXNzLFxuICAgICAgICAgICAgYWRkcmVzczogQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKGFjY291bnRTdGF0ZS5jYWlwQWRkcmVzcyksXG4gICAgICAgICAgICBpc0Nvbm5lY3RlZDogQm9vbGVhbihhY2NvdW50U3RhdGUuY2FpcEFkZHJlc3MpLFxuICAgICAgICAgICAgc3RhdHVzOiBhY2NvdW50U3RhdGUuc3RhdHVzLFxuICAgICAgICAgICAgZW1iZWRkZWRXYWxsZXRJbmZvOiBhdXRoQ29ubmVjdG9yICYmIGFjdGl2ZUNvbm5lY3RvcklkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGFjY291bnRTdGF0ZS51c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hY2NvdW50U3RhdGUudXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEdldHRpbmcgdGhlIHVzZXJuYW1lIGZyb20gdGhlIGNoYWluIGNvbnRyb2xsZXIgd29ya3Mgd2VsbCBmb3Igc29jaWFsIGxvZ2lucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBidXQgRmFyY2FzdGVyIHVzZXMgYSBkaWZmZXJlbnQgY29ubmVjdGlvbiBmbG93IGFuZCBkb2Vzbid0IGVtaXQgdGhlIHVzZXJuYW1lIHZpYSBldmVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2luY2UgdGhlIHVzZXJuYW1lIGlzIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIGJlZm9yZSB0aGUgY2hhaW4gY29udHJvbGxlciB1cGRhdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0J3Mgc2FmZSB0byB1c2UgdGhlIGxvY2FsIHN0b3JhZ2UgdmFsdWUgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkU29jaWFsVXNlcm5hbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhQcm92aWRlcjogYWNjb3VudFN0YXRlLnNvY2lhbFByb3ZpZGVyIHx8ICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpLFxuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudERlcGxveWVkOiBCb29sZWFuKGFjY291bnRTdGF0ZS5zbWFydEFjY291bnREZXBsb3llZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3Vic2NyaWJlQWNjb3VudChjYWxsYmFjaywgbmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVZhbCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB0aGlzLmdldEFjY291bnQobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKGFjY291bnQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlQ2hhaW5Qcm9wKCdhY2NvdW50U3RhdGUnLCB1cGRhdGVWYWwsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlKHVwZGF0ZVZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zdWJzY3JpYmUodXBkYXRlVmFsKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlTmV0d29yayhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZSgoeyBhY3RpdmVDYWlwTmV0d29yayB9KSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcms6IGFjdGl2ZUNhaXBOZXR3b3JrLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IGFjdGl2ZUNhaXBOZXR3b3JrPy5pZCxcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29ya0lkOiBhY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdWJzY3JpYmVXYWxsZXRJbmZvKGNhbGxiYWNrLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5zdWJzY3JpYmVDaGFpblByb3AoJ2FjY291bnRTdGF0ZScsIGFjY291bnRTdGF0ZSA9PiBjYWxsYmFjayhhY2NvdW50U3RhdGU/LmNvbm5lY3RlZFdhbGxldEluZm8pLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlQ2hhaW5Qcm9wKCdhY2NvdW50U3RhdGUnLCBhY2NvdW50U3RhdGUgPT4gY2FsbGJhY2soYWNjb3VudFN0YXRlPy5jb25uZWN0ZWRXYWxsZXRJbmZvKSk7XG4gICAgfVxuICAgIHN1YnNjcmliZVNob3VsZFVwZGF0ZVRvQWRkcmVzcyhjYWxsYmFjaykge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlQ2hhaW5Qcm9wKCdhY2NvdW50U3RhdGUnLCBhY2NvdW50U3RhdGUgPT4gY2FsbGJhY2soYWNjb3VudFN0YXRlPy5zaG91bGRVcGRhdGVUb0FkZHJlc3MpKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlQ2FpcE5ldHdvcmtDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcE5ldHdvcmsnLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gUHVibGljU3RhdGVDb250cm9sbGVyLnN0YXRlO1xuICAgIH1cbiAgICBnZXRSZW1vdGVGZWF0dXJlcygpIHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzO1xuICAgIH1cbiAgICBzdWJzY3JpYmVTdGF0ZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gUHVibGljU3RhdGVDb250cm9sbGVyLnN1YnNjcmliZShjYWxsYmFjayk7XG4gICAgfVxuICAgIHN1YnNjcmliZVJlbW90ZUZlYXR1cmVzKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBPcHRpb25zQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ3JlbW90ZUZlYXR1cmVzJywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzaG93RXJyb3JNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgc2hvd1N1Y2Nlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dTdWNjZXNzKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBnZXRFdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4uRXZlbnRzQ29udHJvbGxlci5zdGF0ZSB9O1xuICAgIH1cbiAgICBzdWJzY3JpYmVFdmVudHMoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50c0NvbnRyb2xsZXIuc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgcmVwbGFjZShyb3V0ZSkge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2Uocm91dGUpO1xuICAgIH1cbiAgICByZWRpcmVjdChyb3V0ZSkge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2gocm91dGUpO1xuICAgIH1cbiAgICBwb3BUcmFuc2FjdGlvblN0YWNrKHN0YXR1cykge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnBvcFRyYW5zYWN0aW9uU3RhY2soc3RhdHVzKTtcbiAgICB9XG4gICAgaXNPcGVuKCkge1xuICAgICAgICByZXR1cm4gTW9kYWxDb250cm9sbGVyLnN0YXRlLm9wZW47XG4gICAgfVxuICAgIGlzVHJhbnNhY3Rpb25TdGFja0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gUm91dGVyQ29udHJvbGxlci5zdGF0ZS50cmFuc2FjdGlvblN0YWNrLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgdXBkYXRlRmVhdHVyZXMobmV3RmVhdHVyZXMpIHtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RmVhdHVyZXMobmV3RmVhdHVyZXMpO1xuICAgIH1cbiAgICB1cGRhdGVSZW1vdGVGZWF0dXJlcyhuZXdSZW1vdGVGZWF0dXJlcykge1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRSZW1vdGVGZWF0dXJlcyhuZXdSZW1vdGVGZWF0dXJlcyk7XG4gICAgfVxuICAgIHVwZGF0ZU9wdGlvbnMobmV3T3B0aW9ucykge1xuICAgICAgICBjb25zdCBjdXJyZW50T3B0aW9ucyA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlIHx8IHt9O1xuICAgICAgICBjb25zdCB1cGRhdGVkT3B0aW9ucyA9IHsgLi4uY3VycmVudE9wdGlvbnMsIC4uLm5ld09wdGlvbnMgfTtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0T3B0aW9ucyh1cGRhdGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIHNldENvbm5lY3RNZXRob2RzT3JkZXIoY29ubmVjdE1ldGhvZHNPcmRlcikge1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRDb25uZWN0TWV0aG9kc09yZGVyKGNvbm5lY3RNZXRob2RzT3JkZXIpO1xuICAgIH1cbiAgICBzZXRXYWxsZXRGZWF0dXJlc09yZGVyKHdhbGxldEZlYXR1cmVzT3JkZXIpIHtcbiAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0V2FsbGV0RmVhdHVyZXNPcmRlcih3YWxsZXRGZWF0dXJlc09yZGVyKTtcbiAgICB9XG4gICAgc2V0Q29sbGFwc2VXYWxsZXRzKGNvbGxhcHNlV2FsbGV0cykge1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRDb2xsYXBzZVdhbGxldHMoY29sbGFwc2VXYWxsZXRzKTtcbiAgICB9XG4gICAgc2V0U29jaWFsc09yZGVyKHNvY2lhbHNPcmRlcikge1xuICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRTb2NpYWxzT3JkZXIoc29jaWFsc09yZGVyKTtcbiAgICB9XG4gICAgZ2V0Q29ubmVjdE1ldGhvZHNPcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIFdhbGxldFV0aWwuZ2V0Q29ubmVjdE9yZGVyTWV0aG9kKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzLCBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXR3b3JrIHRvIGFuIGV4aXN0aW5nIGFkYXB0ZXIgaW4gQXBwS2l0LlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgY2hhaW4gbmFtZXNwYWNlIHRvIGFkZCB0aGUgbmV0d29yayB0byAoZS5nLiAnZWlwMTU1JywgJ3NvbGFuYScpXG4gICAgICogQHBhcmFtIG5ldHdvcmsgLSBUaGUgbmV0d29yayBjb25maWd1cmF0aW9uIHRvIGFkZFxuICAgICAqIEB0aHJvd3MgRXJyb3IgaWYgYWRhcHRlciBmb3IgbmFtZXNwYWNlIGRvZXNuJ3QgZXhpc3RcbiAgICAgKi9cbiAgICBhZGROZXR3b3JrKG5hbWVzcGFjZSwgbmV0d29yaykge1xuICAgICAgICBpZiAodGhpcy5jaGFpbkFkYXB0ZXJzICYmICF0aGlzLmNoYWluQWRhcHRlcnNbbmFtZXNwYWNlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZGFwdGVyIGZvciBuYW1lc3BhY2UgJHtuYW1lc3BhY2V9IGRvZXNuJ3QgZXhpc3RgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbmRlZE5ldHdvcmsgPSB0aGlzLmV4dGVuZENhaXBOZXR3b3JrKG5ldHdvcmssIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGlmICghdGhpcy5nZXRDYWlwTmV0d29ya3MoKS5maW5kKG4gPT4gbi5pZCA9PT0gZXh0ZW5kZWROZXR3b3JrLmlkKSkge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLmFkZE5ldHdvcmsoZXh0ZW5kZWROZXR3b3JrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgbmV0d29yayBmcm9tIGFuIGV4aXN0aW5nIGFkYXB0ZXIgaW4gQXBwS2l0LlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgY2hhaW4gbmFtZXNwYWNlIHRoZSBuZXR3b3JrIGJlbG9uZ3MgdG9cbiAgICAgKiBAcGFyYW0gbmV0d29ya0lkIC0gVGhlIG5ldHdvcmsgSUQgdG8gcmVtb3ZlXG4gICAgICogQHRocm93cyBFcnJvciBpZiBhZGFwdGVyIGZvciBuYW1lc3BhY2UgZG9lc24ndCBleGlzdCBvciBpZiByZW1vdmluZyBsYXN0IG5ldHdvcmtcbiAgICAgKi9cbiAgICByZW1vdmVOZXR3b3JrKG5hbWVzcGFjZSwgbmV0d29ya0lkKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYWluQWRhcHRlcnMgJiYgIXRoaXMuY2hhaW5BZGFwdGVyc1tuYW1lc3BhY2VdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFkYXB0ZXIgZm9yIG5hbWVzcGFjZSAke25hbWVzcGFjZX0gZG9lc24ndCBleGlzdGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ldHdvcmtUb1JlbW92ZSA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCkuZmluZChuID0+IG4uaWQgPT09IG5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghbmV0d29ya1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnJlbW92ZU5ldHdvcmsobmFtZXNwYWNlLCBuZXR3b3JrSWQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGtpdC1iYXNlLWNsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-base-client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-core.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/src/client/appkit-core.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKit: () => (/* binding */ AppKit)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _appkit_base_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./appkit-base-client.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-base-client.js\");\n\n\n\n// -- Helpers -------------------------------------------------------------------\nlet isInitialized = false;\n// -- Client --------------------------------------------------------------------\nclass AppKit extends _appkit_base_client_js__WEBPACK_IMPORTED_MODULE_0__.AppKitBaseClient {\n    // -- Overrides --------------------------------------------------------------\n    async open(options) {\n        // Only open modal when not connected\n        const isConnected = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.isConnected();\n        if (!isConnected) {\n            await super.open(options);\n        }\n    }\n    async close() {\n        await super.close();\n        if (this.options.manualWCControl) {\n            const address = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(this.activeChainNamespace)?.address;\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.finalizeWcConnection(address);\n        }\n    }\n    async syncIdentity(_request) {\n        return Promise.resolve();\n    }\n    async syncBalance(_params) {\n        return Promise.resolve();\n    }\n    async injectModalUi() {\n        if (!isInitialized && _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isClient()) {\n            await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_reown_appkit-scaffold-ui_dist_esm_exports_basic_js\").then(__webpack_require__.bind(__webpack_require__, /*! @reown/appkit-scaffold-ui/basic */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/basic.js\"));\n            await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_reown_appkit-scaffold-ui_dist_esm_exports_w3m-modal_js\").then(__webpack_require__.bind(__webpack_require__, /*! @reown/appkit-scaffold-ui/w3m-modal */ \"(app-pages-browser)/./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/w3m-modal.js\"));\n            const isElementCreated = document.querySelector('w3m-modal');\n            if (!isElementCreated) {\n                const modal = document.createElement('w3m-modal');\n                if (!_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.OptionsController.state.disableAppend && !_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.OptionsController.state.enableEmbedded) {\n                    document.body.insertAdjacentElement('beforeend', modal);\n                }\n            }\n            isInitialized = true;\n        }\n    }\n}\n//# sourceMappingURL=appkit-core.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy9jbGllbnQvYXBwa2l0LWNvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzQztBQUNvRztBQUMvRTtBQUMzRDtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsb0VBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0VBQWU7QUFDM0MsWUFBWSwyRUFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFFQUFjO0FBQzVDLGtCQUFrQixnVEFBeUM7QUFDM0Qsa0JBQWtCLDRUQUE2QztBQUMvRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0VBQWlCLHlCQUF5Qix3RUFBaUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy9jbGllbnQvYXBwa2l0LWNvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciwgQ29ubmVjdGlvbkNvbnRyb2xsZXIsIENvbm5lY3RvckNvbnRyb2xsZXIsIENvcmVIZWxwZXJVdGlsLCBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgQXBwS2l0QmFzZUNsaWVudCB9IGZyb20gJy4vYXBwa2l0LWJhc2UtY2xpZW50LmpzJztcbi8vIC0tIEhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxubGV0IGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbi8vIC0tIENsaWVudCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIEFwcEtpdCBleHRlbmRzIEFwcEtpdEJhc2VDbGllbnQge1xuICAgIC8vIC0tIE92ZXJyaWRlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGFzeW5jIG9wZW4ob3B0aW9ucykge1xuICAgICAgICAvLyBPbmx5IG9wZW4gbW9kYWwgd2hlbiBub3QgY29ubmVjdGVkXG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gQ29ubmVjdG9yQ29udHJvbGxlci5pc0Nvbm5lY3RlZCgpO1xuICAgICAgICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBhd2FpdCBzdXBlci5vcGVuKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNsb3NlKCkge1xuICAgICAgICBhd2FpdCBzdXBlci5jbG9zZSgpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1hbnVhbFdDQ29udHJvbCkge1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSh0aGlzLmFjdGl2ZUNoYWluTmFtZXNwYWNlKT8uYWRkcmVzcztcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLmZpbmFsaXplV2NDb25uZWN0aW9uKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN5bmNJZGVudGl0eShfcmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGFzeW5jIHN5bmNCYWxhbmNlKF9wYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBhc3luYyBpbmplY3RNb2RhbFVpKCkge1xuICAgICAgICBpZiAoIWlzSW5pdGlhbGl6ZWQgJiYgQ29yZUhlbHBlclV0aWwuaXNDbGllbnQoKSkge1xuICAgICAgICAgICAgYXdhaXQgaW1wb3J0KCdAcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Jhc2ljJyk7XG4gICAgICAgICAgICBhd2FpdCBpbXBvcnQoJ0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvdzNtLW1vZGFsJyk7XG4gICAgICAgICAgICBjb25zdCBpc0VsZW1lbnRDcmVhdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndzNtLW1vZGFsJyk7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudENyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3czbS1tb2RhbCcpO1xuICAgICAgICAgICAgICAgIGlmICghT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZGlzYWJsZUFwcGVuZCAmJiAhT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlRW1iZWRkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWVuZCcsIG1vZGFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGtpdC1jb3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/client/appkit-core.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/universal-adapter/client.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/src/universal-adapter/client.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalAdapter: () => (/* binding */ UniversalAdapter)\n/* harmony export */ });\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bs58 */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/utils/encoding/toHex.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(app-pages-browser)/./node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\n\n\nclass UniversalAdapter extends _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.AdapterBlueprint {\n    async setUniversalProvider(universalProvider) {\n        if (!this.namespace) {\n            throw new Error('UniversalAdapter:setUniversalProvider - namespace is required');\n        }\n        this.addConnector(new _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.WalletConnectConnector({\n            provider: universalProvider,\n            caipNetworks: this.getCaipNetworks(),\n            namespace: this.namespace\n        }));\n        return Promise.resolve();\n    }\n    async connect(params) {\n        return Promise.resolve({\n            id: 'WALLET_CONNECT',\n            type: 'WALLET_CONNECT',\n            chainId: Number(params.chainId),\n            provider: this.provider,\n            address: ''\n        });\n    }\n    async disconnect() {\n        try {\n            const connector = this.getWalletConnectConnector();\n            await connector.disconnect();\n            this.emit('disconnect');\n        }\n        catch (error) {\n            console.warn('UniversalAdapter:disconnect - error', error);\n        }\n        return { connections: [] };\n    }\n    syncConnections() {\n        return Promise.resolve();\n    }\n    async getAccounts({ namespace }) {\n        const provider = this.provider;\n        const addresses = (provider?.session?.namespaces?.[namespace]?.accounts\n            ?.map(account => {\n            const [, , address] = account.split(':');\n            return address;\n        })\n            .filter((address, index, self) => self.indexOf(address) === index) || []);\n        return Promise.resolve({\n            accounts: addresses.map(address => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.createAccount(namespace, address, namespace === 'bip122' ? 'payment' : 'eoa'))\n        });\n    }\n    async syncConnectors() {\n        return Promise.resolve();\n    }\n    async getBalance(params) {\n        const isBalanceSupported = params.caipNetwork &&\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.BALANCE_SUPPORTED_CHAINS.includes(params.caipNetwork?.chainNamespace);\n        if (!isBalanceSupported || params.caipNetwork?.testnet) {\n            return {\n                balance: '0.00',\n                symbol: params.caipNetwork?.nativeCurrency.symbol || ''\n            };\n        }\n        const accountData = _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.getAccountData();\n        if (accountData?.balanceLoading &&\n            params.chainId === _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.state.activeCaipNetwork?.id) {\n            return {\n                balance: accountData?.balance || '0.00',\n                symbol: accountData?.balanceSymbol || ''\n            };\n        }\n        const balances = await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.fetchTokenBalance();\n        const balance = balances.find(b => b.chainId === `${params.caipNetwork?.chainNamespace}:${params.chainId}` &&\n            b.symbol === params.caipNetwork?.nativeCurrency.symbol);\n        return {\n            balance: balance?.quantity.numeric || '0.00',\n            symbol: balance?.symbol || params.caipNetwork?.nativeCurrency.symbol || ''\n        };\n    }\n    async signMessage(params) {\n        const { provider, message, address } = params;\n        if (!provider) {\n            throw new Error('UniversalAdapter:signMessage - provider is undefined');\n        }\n        let signature = '';\n        if (_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.state.activeCaipNetwork?.chainNamespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.CHAIN.SOLANA) {\n            const response = await provider.request({\n                method: 'solana_signMessage',\n                params: {\n                    message: bs58__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encode(new TextEncoder().encode(message)),\n                    pubkey: address\n                }\n            }, _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n            signature = response.signature;\n        }\n        else {\n            signature = await provider.request({\n                method: 'personal_sign',\n                params: [message, address]\n            }, _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_6__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        }\n        return { signature };\n    }\n    // -- Transaction methods ---------------------------------------------------\n    /**\n     *\n     * These methods are supported only on `wagmi` and `ethers` since the Solana SDK does not support them in the same way.\n     * These function definition is to have a type parity between the clients. Currently not in use.\n     */\n    async estimateGas() {\n        return Promise.resolve({\n            gas: BigInt(0)\n        });\n    }\n    async sendTransaction() {\n        return Promise.resolve({\n            hash: ''\n        });\n    }\n    walletGetAssets(_params) {\n        return Promise.resolve({});\n    }\n    async writeContract() {\n        return Promise.resolve({\n            hash: ''\n        });\n    }\n    emitFirstAvailableConnection() {\n        return undefined;\n    }\n    parseUnits() {\n        return 0n;\n    }\n    formatUnits() {\n        return '0';\n    }\n    async getCapabilities() {\n        return Promise.resolve({});\n    }\n    async grantPermissions() {\n        return Promise.resolve({});\n    }\n    async revokePermissions() {\n        return Promise.resolve('0x');\n    }\n    async syncConnection() {\n        return Promise.resolve({\n            id: 'WALLET_CONNECT',\n            type: 'WALLET_CONNECT',\n            chainId: 1,\n            provider: this.provider,\n            address: ''\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async switchNetwork(params) {\n        const { caipNetwork } = params;\n        const connector = this.getWalletConnectConnector();\n        if (caipNetwork.chainNamespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.CHAIN.EVM) {\n            try {\n                await connector.provider?.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [{ chainId: (0,viem__WEBPACK_IMPORTED_MODULE_8__.toHex)(caipNetwork.id) }]\n                });\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            }\n            catch (switchError) {\n                if (switchError.code === _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.WcConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID ||\n                    switchError.code === _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.WcConstantsUtil.ERROR_INVALID_CHAIN_ID ||\n                    switchError.code === _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.WcConstantsUtil.ERROR_CODE_DEFAULT ||\n                    switchError?.data?.originalError?.code ===\n                        _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.WcConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID) {\n                    try {\n                        await connector.provider?.request({\n                            method: 'wallet_addEthereumChain',\n                            params: [\n                                {\n                                    chainId: (0,viem__WEBPACK_IMPORTED_MODULE_8__.toHex)(caipNetwork.id),\n                                    rpcUrls: [caipNetwork?.rpcUrls['chainDefault']?.http],\n                                    chainName: caipNetwork.name,\n                                    nativeCurrency: caipNetwork.nativeCurrency,\n                                    blockExplorerUrls: [caipNetwork.blockExplorers?.default.url]\n                                }\n                            ]\n                        });\n                    }\n                    catch (error) {\n                        throw new Error('Chain is not supported');\n                    }\n                }\n            }\n        }\n        connector.provider.setDefaultChain(caipNetwork.caipNetworkId);\n    }\n    getWalletConnectProvider() {\n        const connector = this.connectors.find(c => c.type === 'WALLET_CONNECT');\n        const provider = connector?.provider;\n        return provider;\n    }\n}\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy91bml2ZXJzYWwtYWRhcHRlci9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNLO0FBQ3dCO0FBQzJEO0FBQzNCO0FBQ3pCO0FBQ3JELCtCQUErQix1RUFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNkVBQXNCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsV0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwrQ0FBK0MscUVBQWM7QUFDN0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0VBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzRUFBZTtBQUMzQztBQUNBLCtCQUErQixzRUFBZTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNFQUFlO0FBQzlDLDREQUE0RCxtQ0FBbUMsR0FBRyxlQUFlO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQWUsNkNBQTZDLCtEQUFhO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0Q0FBSTtBQUNqQztBQUNBO0FBQ0EsYUFBYSxFQUFFLHNFQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsRUFBRSxzRUFBZTtBQUM5QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0EsMkNBQTJDLCtEQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixTQUFTLDJDQUFLLGtCQUFrQjtBQUMvRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9FQUFlO0FBQ3hELHlDQUF5QyxvRUFBZTtBQUN4RCx5Q0FBeUMsb0VBQWU7QUFDeEQ7QUFDQSx3QkFBd0Isb0VBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyQ0FBSztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC9kaXN0L2VzbS9zcmMvdW5pdmVyc2FsLWFkYXB0ZXIvY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiczU4IGZyb20gJ2JzNTgnO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIsIENvbnN0YW50c1V0aWwgYXMgQ29yZUNvbnN0YW50c1V0aWwsIENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBBZGFwdGVyQmx1ZXByaW50LCBXYWxsZXRDb25uZWN0Q29ubmVjdG9yIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBXY0NvbnN0YW50c1V0aWwgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmV4cG9ydCBjbGFzcyBVbml2ZXJzYWxBZGFwdGVyIGV4dGVuZHMgQWRhcHRlckJsdWVwcmludCB7XG4gICAgYXN5bmMgc2V0VW5pdmVyc2FsUHJvdmlkZXIodW5pdmVyc2FsUHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml2ZXJzYWxBZGFwdGVyOnNldFVuaXZlcnNhbFByb3ZpZGVyIC0gbmFtZXNwYWNlIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRDb25uZWN0b3IobmV3IFdhbGxldENvbm5lY3RDb25uZWN0b3Ioe1xuICAgICAgICAgICAgcHJvdmlkZXI6IHVuaXZlcnNhbFByb3ZpZGVyLFxuICAgICAgICAgICAgY2FpcE5ldHdvcmtzOiB0aGlzLmdldENhaXBOZXR3b3JrcygpLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiB0aGlzLm5hbWVzcGFjZVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdChwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBpZDogJ1dBTExFVF9DT05ORUNUJyxcbiAgICAgICAgICAgIHR5cGU6ICdXQUxMRVRfQ09OTkVDVCcsXG4gICAgICAgICAgICBjaGFpbklkOiBOdW1iZXIocGFyYW1zLmNoYWluSWQpLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgICAgICBhZGRyZXNzOiAnJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHRoaXMuZ2V0V2FsbGV0Q29ubmVjdENvbm5lY3RvcigpO1xuICAgICAgICAgICAgYXdhaXQgY29ubmVjdG9yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbml2ZXJzYWxBZGFwdGVyOmRpc2Nvbm5lY3QgLSBlcnJvcicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjb25uZWN0aW9uczogW10gfTtcbiAgICB9XG4gICAgc3luY0Nvbm5lY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldEFjY291bnRzKHsgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyO1xuICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSAocHJvdmlkZXI/LnNlc3Npb24/Lm5hbWVzcGFjZXM/LltuYW1lc3BhY2VdPy5hY2NvdW50c1xuICAgICAgICAgICAgPy5tYXAoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBbLCAsIGFkZHJlc3NdID0gYWNjb3VudC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKChhZGRyZXNzLCBpbmRleCwgc2VsZikgPT4gc2VsZi5pbmRleE9mKGFkZHJlc3MpID09PSBpbmRleCkgfHwgW10pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIGFjY291bnRzOiBhZGRyZXNzZXMubWFwKGFkZHJlc3MgPT4gQ29yZUhlbHBlclV0aWwuY3JlYXRlQWNjb3VudChuYW1lc3BhY2UsIGFkZHJlc3MsIG5hbWVzcGFjZSA9PT0gJ2JpcDEyMicgPyAncGF5bWVudCcgOiAnZW9hJykpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBzeW5jQ29ubmVjdG9ycygpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBhc3luYyBnZXRCYWxhbmNlKHBhcmFtcykge1xuICAgICAgICBjb25zdCBpc0JhbGFuY2VTdXBwb3J0ZWQgPSBwYXJhbXMuY2FpcE5ldHdvcmsgJiZcbiAgICAgICAgICAgIENvcmVDb25zdGFudHNVdGlsLkJBTEFOQ0VfU1VQUE9SVEVEX0NIQUlOUy5pbmNsdWRlcyhwYXJhbXMuY2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFpc0JhbGFuY2VTdXBwb3J0ZWQgfHwgcGFyYW1zLmNhaXBOZXR3b3JrPy50ZXN0bmV0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJhbGFuY2U6ICcwLjAwJyxcbiAgICAgICAgICAgICAgICBzeW1ib2w6IHBhcmFtcy5jYWlwTmV0d29yaz8ubmF0aXZlQ3VycmVuY3kuc3ltYm9sIHx8ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjY291bnREYXRhID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk7XG4gICAgICAgIGlmIChhY2NvdW50RGF0YT8uYmFsYW5jZUxvYWRpbmcgJiZcbiAgICAgICAgICAgIHBhcmFtcy5jaGFpbklkID09PSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmlkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJhbGFuY2U6IGFjY291bnREYXRhPy5iYWxhbmNlIHx8ICcwLjAwJyxcbiAgICAgICAgICAgICAgICBzeW1ib2w6IGFjY291bnREYXRhPy5iYWxhbmNlU3ltYm9sIHx8ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhbGFuY2VzID0gYXdhaXQgQ2hhaW5Db250cm9sbGVyLmZldGNoVG9rZW5CYWxhbmNlKCk7XG4gICAgICAgIGNvbnN0IGJhbGFuY2UgPSBiYWxhbmNlcy5maW5kKGIgPT4gYi5jaGFpbklkID09PSBgJHtwYXJhbXMuY2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlfToke3BhcmFtcy5jaGFpbklkfWAgJiZcbiAgICAgICAgICAgIGIuc3ltYm9sID09PSBwYXJhbXMuY2FpcE5ldHdvcms/Lm5hdGl2ZUN1cnJlbmN5LnN5bWJvbCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlPy5xdWFudGl0eS5udW1lcmljIHx8ICcwLjAwJyxcbiAgICAgICAgICAgIHN5bWJvbDogYmFsYW5jZT8uc3ltYm9sIHx8IHBhcmFtcy5jYWlwTmV0d29yaz8ubmF0aXZlQ3VycmVuY3kuc3ltYm9sIHx8ICcnXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHNpZ25NZXNzYWdlKHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyLCBtZXNzYWdlLCBhZGRyZXNzIH0gPSBwYXJhbXM7XG4gICAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdmVyc2FsQWRhcHRlcjpzaWduTWVzc2FnZSAtIHByb3ZpZGVyIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaWduYXR1cmUgPSAnJztcbiAgICAgICAgaWYgKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UgPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NvbGFuYV9zaWduTWVzc2FnZScsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGJzNTguZW5jb2RlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKSksXG4gICAgICAgICAgICAgICAgICAgIHB1YmtleTogYWRkcmVzc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgICAgICBzaWduYXR1cmUgPSByZXNwb25zZS5zaWduYXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaWduYXR1cmUgPSBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwZXJzb25hbF9zaWduJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IFttZXNzYWdlLCBhZGRyZXNzXVxuICAgICAgICAgICAgfSwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzaWduYXR1cmUgfTtcbiAgICB9XG4gICAgLy8gLS0gVHJhbnNhY3Rpb24gbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoZXNlIG1ldGhvZHMgYXJlIHN1cHBvcnRlZCBvbmx5IG9uIGB3YWdtaWAgYW5kIGBldGhlcnNgIHNpbmNlIHRoZSBTb2xhbmEgU0RLIGRvZXMgbm90IHN1cHBvcnQgdGhlbSBpbiB0aGUgc2FtZSB3YXkuXG4gICAgICogVGhlc2UgZnVuY3Rpb24gZGVmaW5pdGlvbiBpcyB0byBoYXZlIGEgdHlwZSBwYXJpdHkgYmV0d2VlbiB0aGUgY2xpZW50cy4gQ3VycmVudGx5IG5vdCBpbiB1c2UuXG4gICAgICovXG4gICAgYXN5bmMgZXN0aW1hdGVHYXMoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgZ2FzOiBCaWdJbnQoMClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBoYXNoOiAnJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FsbGV0R2V0QXNzZXRzKF9wYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgfVxuICAgIGFzeW5jIHdyaXRlQ29udHJhY3QoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgaGFzaDogJydcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtaXRGaXJzdEF2YWlsYWJsZUNvbm5lY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHBhcnNlVW5pdHMoKSB7XG4gICAgICAgIHJldHVybiAwbjtcbiAgICB9XG4gICAgZm9ybWF0VW5pdHMoKSB7XG4gICAgICAgIHJldHVybiAnMCc7XG4gICAgfVxuICAgIGFzeW5jIGdldENhcGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgfVxuICAgIGFzeW5jIGdyYW50UGVybWlzc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgIH1cbiAgICBhc3luYyByZXZva2VQZXJtaXNzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnMHgnKTtcbiAgICB9XG4gICAgYXN5bmMgc3luY0Nvbm5lY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgaWQ6ICdXQUxMRVRfQ09OTkVDVCcsXG4gICAgICAgICAgICB0eXBlOiAnV0FMTEVUX0NPTk5FQ1QnLFxuICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgICAgICAgYWRkcmVzczogJydcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVxdWlyZS1hd2FpdFxuICAgIGFzeW5jIHN3aXRjaE5ldHdvcmsocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgY2FpcE5ldHdvcmsgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gdGhpcy5nZXRXYWxsZXRDb25uZWN0Q29ubmVjdG9yKCk7XG4gICAgICAgIGlmIChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdG9yLnByb3ZpZGVyPy5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFt7IGNoYWluSWQ6IHRvSGV4KGNhaXBOZXR3b3JrLmlkKSB9XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoc3dpdGNoRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3dpdGNoRXJyb3IuY29kZSA9PT0gV2NDb25zdGFudHNVdGlsLkVSUk9SX0NPREVfVU5SRUNPR05JWkVEX0NIQUlOX0lEIHx8XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaEVycm9yLmNvZGUgPT09IFdjQ29uc3RhbnRzVXRpbC5FUlJPUl9JTlZBTElEX0NIQUlOX0lEIHx8XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaEVycm9yLmNvZGUgPT09IFdjQ29uc3RhbnRzVXRpbC5FUlJPUl9DT0RFX0RFRkFVTFQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoRXJyb3I/LmRhdGE/Lm9yaWdpbmFsRXJyb3I/LmNvZGUgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBXY0NvbnN0YW50c1V0aWwuRVJST1JfQ09ERV9VTlJFQ09HTklaRURfQ0hBSU5fSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rvci5wcm92aWRlcj8ucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiB0b0hleChjYWlwTmV0d29yay5pZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycGNVcmxzOiBbY2FpcE5ldHdvcms/LnJwY1VybHNbJ2NoYWluRGVmYXVsdCddPy5odHRwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluTmFtZTogY2FpcE5ldHdvcmsubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUN1cnJlbmN5OiBjYWlwTmV0d29yay5uYXRpdmVDdXJyZW5jeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrRXhwbG9yZXJVcmxzOiBbY2FpcE5ldHdvcmsuYmxvY2tFeHBsb3JlcnM/LmRlZmF1bHQudXJsXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0b3IucHJvdmlkZXIuc2V0RGVmYXVsdENoYWluKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgIH1cbiAgICBnZXRXYWxsZXRDb25uZWN0UHJvdmlkZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHRoaXMuY29ubmVjdG9ycy5maW5kKGMgPT4gYy50eXBlID09PSAnV0FMTEVUX0NPTk5FQ1QnKTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBjb25uZWN0b3I/LnByb3ZpZGVyO1xuICAgICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/universal-adapter/client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConfigUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/src/utils/ConfigUtil.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigUtil: () => (/* binding */ ConfigUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-controllers */ \"(app-pages-browser)/./node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\");\n/* harmony import */ var _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-utils */ \"(app-pages-browser)/./node_modules/@reown/appkit-utils/dist/esm/src/ErrorUtil.js\");\n\n\nconst FEATURE_KEYS = [\n    'email',\n    'socials',\n    'swaps',\n    'onramp',\n    'activity',\n    'reownBranding',\n    'multiWallet',\n    'emailCapture',\n    'payWithExchange',\n    'payments',\n    'reownAuthentication'\n];\nconst featureConfig = {\n    email: {\n        apiFeatureName: 'social_login',\n        localFeatureName: 'email',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => {\n            if (!apiConfig?.config) {\n                return false;\n            }\n            const config = apiConfig.config;\n            return Boolean(apiConfig.isEnabled) && config.includes('email');\n        },\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.email;\n            }\n            return Boolean(localValue);\n        }\n    },\n    socials: {\n        apiFeatureName: 'social_login',\n        localFeatureName: 'socials',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => {\n            if (!apiConfig?.config) {\n                return false;\n            }\n            const config = apiConfig.config;\n            return Boolean(apiConfig.isEnabled) && config.length > 0\n                ? config.filter((s) => s !== 'email')\n                : false;\n        },\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials;\n            }\n            if (typeof localValue === 'boolean') {\n                return localValue ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials : false;\n            }\n            return localValue;\n        }\n    },\n    swaps: {\n        apiFeatureName: 'swap',\n        localFeatureName: 'swaps',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => {\n            if (!apiConfig?.config) {\n                return false;\n            }\n            const config = apiConfig.config;\n            return Boolean(apiConfig.isEnabled) && config.length > 0 ? config : false;\n        },\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.swaps;\n            }\n            if (typeof localValue === 'boolean') {\n                return localValue ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.swaps : false;\n            }\n            return localValue;\n        }\n    },\n    onramp: {\n        apiFeatureName: 'onramp',\n        localFeatureName: 'onramp',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => {\n            if (!apiConfig?.config) {\n                return false;\n            }\n            const config = apiConfig.config;\n            return Boolean(apiConfig.isEnabled) && config.length > 0 ? config : false;\n        },\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.onramp;\n            }\n            if (typeof localValue === 'boolean') {\n                return localValue ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.onramp : false;\n            }\n            return localValue;\n        }\n    },\n    activity: {\n        apiFeatureName: 'activity',\n        localFeatureName: 'history',\n        returnType: false,\n        isLegacy: true,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.activity;\n            }\n            return Boolean(localValue);\n        }\n    },\n    reownBranding: {\n        apiFeatureName: 'reown_branding',\n        localFeatureName: 'reownBranding',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: (localValue) => {\n            if (localValue === undefined) {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.reownBranding;\n            }\n            return Boolean(localValue);\n        }\n    },\n    emailCapture: {\n        apiFeatureName: 'email_capture',\n        localFeatureName: 'emailCapture',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => apiConfig.isEnabled && (apiConfig.config ?? []),\n        processFallback: (_localValue) => false\n    },\n    multiWallet: {\n        apiFeatureName: 'multi_wallet',\n        localFeatureName: 'multiWallet',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.multiWallet\n    },\n    payWithExchange: {\n        apiFeatureName: 'fund_from_exchange',\n        localFeatureName: 'payWithExchange',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.payWithExchange\n    },\n    payments: {\n        apiFeatureName: 'payments',\n        localFeatureName: 'payments',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: () => _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.payments\n    },\n    reownAuthentication: {\n        apiFeatureName: 'reown_authentication',\n        localFeatureName: 'reownAuthentication',\n        returnType: false,\n        isLegacy: false,\n        isAvailableOnBasic: false,\n        processApi: (apiConfig) => Boolean(apiConfig.isEnabled),\n        processFallback: (localValue) => {\n            if (typeof localValue === 'undefined') {\n                return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.reownAuthentication;\n            }\n            return Boolean(localValue);\n        }\n    }\n};\nconst ConfigUtil = {\n    localSettingsOverridden: new Set(),\n    getApiConfig(id, apiProjectConfig) {\n        return apiProjectConfig?.find((f) => f.id === id);\n    },\n    addWarning(localFeatureValue, featureKey) {\n        if (localFeatureValue !== undefined) {\n            const config = featureConfig[featureKey];\n            const warningName = config.isLegacy\n                ? `\"features.${config.localFeatureName}\" (now \"${featureKey}\")`\n                : `\"features.${featureKey}\"`;\n            this.localSettingsOverridden.add(warningName);\n        }\n    },\n    processFeature(featureKey, localFeatures, apiProjectConfig, useApi, isBasic) {\n        const config = featureConfig[featureKey];\n        const localValue = localFeatures[config.localFeatureName];\n        if (isBasic && !config.isAvailableOnBasic) {\n            return false;\n        }\n        if (useApi) {\n            const apiConfig = this.getApiConfig(config.apiFeatureName, apiProjectConfig);\n            if (apiConfig?.config === null) {\n                return this.processFallbackFeature(featureKey, localValue);\n            }\n            if (!apiConfig?.config) {\n                return false;\n            }\n            if (localValue !== undefined) {\n                this.addWarning(localValue, featureKey);\n            }\n            return this.processApiFeature(featureKey, apiConfig);\n        }\n        return this.processFallbackFeature(featureKey, localValue);\n    },\n    processApiFeature(featureKey, apiConfig) {\n        return featureConfig[featureKey].processApi(apiConfig);\n    },\n    processFallbackFeature(featureKey, localValue) {\n        return featureConfig[featureKey].processFallback(localValue);\n    },\n    async fetchRemoteFeatures(config) {\n        const isBasic = config.basic ?? false;\n        const localFeatures = config.features || {};\n        this.localSettingsOverridden.clear();\n        let apiProjectConfig = null;\n        let shouldUseApiConfig = false;\n        try {\n            apiProjectConfig = await _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.ApiController.fetchProjectConfig();\n            shouldUseApiConfig = apiProjectConfig !== null && apiProjectConfig !== undefined;\n        }\n        catch (e) {\n            console.warn('[Reown Config] Failed to fetch remote project configuration. Using local/default values.', e);\n        }\n        const remoteFeaturesConfig = shouldUseApiConfig && !isBasic\n            ? _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES\n            : _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES_DISABLED;\n        try {\n            for (const featureKey of FEATURE_KEYS) {\n                const result = this.processFeature(featureKey, localFeatures, apiProjectConfig, shouldUseApiConfig, isBasic);\n                Object.assign(remoteFeaturesConfig, { [featureKey]: result });\n            }\n        }\n        catch (e) {\n            console.warn('[Reown Config] Failed to process the configuration from Cloud. Using default values.', e);\n            return _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_REMOTE_FEATURES;\n        }\n        if (shouldUseApiConfig && this.localSettingsOverridden.size > 0) {\n            const warningMessage = `Your local configuration for ${Array.from(this.localSettingsOverridden).join(', ')} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;\n            _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.AlertController.open({\n                debugMessage: _reown_appkit_utils__WEBPACK_IMPORTED_MODULE_3__.ErrorUtil.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(warningMessage)\n            }, 'warning');\n        }\n        return remoteFeaturesConfig;\n    }\n};\n//# sourceMappingURL=ConfigUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy91dGlscy9Db25maWdVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBGO0FBQzFDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHVCQUF1QixvRUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFhO0FBQ3BDO0FBQ0E7QUFDQSxvQ0FBb0Msb0VBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFhO0FBQ3BDO0FBQ0E7QUFDQSxvQ0FBb0Msb0VBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFhO0FBQ3BDO0FBQ0E7QUFDQSxvQ0FBb0Msb0VBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFhO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFhO0FBQzVDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvRUFBYTtBQUM1QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWE7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isd0JBQXdCLFVBQVUsV0FBVztBQUM1RSwrQkFBK0IsV0FBVztBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG9FQUFhO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0VBQWE7QUFDM0IsY0FBYyxvRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsc0JBQXNCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFhO0FBQ2hDO0FBQ0E7QUFDQSxtRUFBbUUscURBQXFEO0FBQ3hILFlBQVksc0VBQWU7QUFDM0IsOEJBQThCLDBEQUFTO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQvZGlzdC9lc20vc3JjL3V0aWxzL0NvbmZpZ1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxlcnRDb250cm9sbGVyLCBBcGlDb250cm9sbGVyLCBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBFcnJvclV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LXV0aWxzJztcbmNvbnN0IEZFQVRVUkVfS0VZUyA9IFtcbiAgICAnZW1haWwnLFxuICAgICdzb2NpYWxzJyxcbiAgICAnc3dhcHMnLFxuICAgICdvbnJhbXAnLFxuICAgICdhY3Rpdml0eScsXG4gICAgJ3Jlb3duQnJhbmRpbmcnLFxuICAgICdtdWx0aVdhbGxldCcsXG4gICAgJ2VtYWlsQ2FwdHVyZScsXG4gICAgJ3BheVdpdGhFeGNoYW5nZScsXG4gICAgJ3BheW1lbnRzJyxcbiAgICAncmVvd25BdXRoZW50aWNhdGlvbidcbl07XG5jb25zdCBmZWF0dXJlQ29uZmlnID0ge1xuICAgIGVtYWlsOiB7XG4gICAgICAgIGFwaUZlYXR1cmVOYW1lOiAnc29jaWFsX2xvZ2luJyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ2VtYWlsJyxcbiAgICAgICAgcmV0dXJuVHlwZTogZmFsc2UsXG4gICAgICAgIGlzTGVnYWN5OiBmYWxzZSxcbiAgICAgICAgaXNBdmFpbGFibGVPbkJhc2ljOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0FwaTogKGFwaUNvbmZpZykgPT4ge1xuICAgICAgICAgICAgaWYgKCFhcGlDb25maWc/LmNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGFwaUNvbmZpZy5jb25maWc7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihhcGlDb25maWcuaXNFbmFibGVkKSAmJiBjb25maWcuaW5jbHVkZXMoJ2VtYWlsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3NGYWxsYmFjazogKGxvY2FsVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChsb2NhbFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX1JFTU9URV9GRUFUVVJFUy5lbWFpbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKGxvY2FsVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzb2NpYWxzOiB7XG4gICAgICAgIGFwaUZlYXR1cmVOYW1lOiAnc29jaWFsX2xvZ2luJyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ3NvY2lhbHMnLFxuICAgICAgICByZXR1cm5UeXBlOiBmYWxzZSxcbiAgICAgICAgaXNMZWdhY3k6IGZhbHNlLFxuICAgICAgICBpc0F2YWlsYWJsZU9uQmFzaWM6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzQXBpOiAoYXBpQ29uZmlnKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWFwaUNvbmZpZz8uY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gYXBpQ29uZmlnLmNvbmZpZztcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKGFwaUNvbmZpZy5pc0VuYWJsZWQpICYmIGNvbmZpZy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBjb25maWcuZmlsdGVyKChzKSA9PiBzICE9PSAnZW1haWwnKVxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3NGYWxsYmFjazogKGxvY2FsVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChsb2NhbFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX1JFTU9URV9GRUFUVVJFUy5zb2NpYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxWYWx1ZSA/IENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMuc29jaWFscyA6IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN3YXBzOiB7XG4gICAgICAgIGFwaUZlYXR1cmVOYW1lOiAnc3dhcCcsXG4gICAgICAgIGxvY2FsRmVhdHVyZU5hbWU6ICdzd2FwcycsXG4gICAgICAgIHJldHVyblR5cGU6IGZhbHNlLFxuICAgICAgICBpc0xlZ2FjeTogZmFsc2UsXG4gICAgICAgIGlzQXZhaWxhYmxlT25CYXNpYzogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NBcGk6IChhcGlDb25maWcpID0+IHtcbiAgICAgICAgICAgIGlmICghYXBpQ29uZmlnPy5jb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBhcGlDb25maWcuY29uZmlnO1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4oYXBpQ29uZmlnLmlzRW5hYmxlZCkgJiYgY29uZmlnLmxlbmd0aCA+IDAgPyBjb25maWcgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2Vzc0ZhbGxiYWNrOiAobG9jYWxWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGxvY2FsVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNVdGlsLkRFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTLnN3YXBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxWYWx1ZSA/IENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMuc3dhcHMgOiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbnJhbXA6IHtcbiAgICAgICAgYXBpRmVhdHVyZU5hbWU6ICdvbnJhbXAnLFxuICAgICAgICBsb2NhbEZlYXR1cmVOYW1lOiAnb25yYW1wJyxcbiAgICAgICAgcmV0dXJuVHlwZTogZmFsc2UsXG4gICAgICAgIGlzTGVnYWN5OiBmYWxzZSxcbiAgICAgICAgaXNBdmFpbGFibGVPbkJhc2ljOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0FwaTogKGFwaUNvbmZpZykgPT4ge1xuICAgICAgICAgICAgaWYgKCFhcGlDb25maWc/LmNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGFwaUNvbmZpZy5jb25maWc7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihhcGlDb25maWcuaXNFbmFibGVkKSAmJiBjb25maWcubGVuZ3RoID4gMCA/IGNvbmZpZyA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzRmFsbGJhY2s6IChsb2NhbFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAobG9jYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMub25yYW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxWYWx1ZSA/IENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMub25yYW1wIDogZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWN0aXZpdHk6IHtcbiAgICAgICAgYXBpRmVhdHVyZU5hbWU6ICdhY3Rpdml0eScsXG4gICAgICAgIGxvY2FsRmVhdHVyZU5hbWU6ICdoaXN0b3J5JyxcbiAgICAgICAgcmV0dXJuVHlwZTogZmFsc2UsXG4gICAgICAgIGlzTGVnYWN5OiB0cnVlLFxuICAgICAgICBpc0F2YWlsYWJsZU9uQmFzaWM6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzQXBpOiAoYXBpQ29uZmlnKSA9PiBCb29sZWFuKGFwaUNvbmZpZy5pc0VuYWJsZWQpLFxuICAgICAgICBwcm9jZXNzRmFsbGJhY2s6IChsb2NhbFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAobG9jYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMuYWN0aXZpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihsb2NhbFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVvd25CcmFuZGluZzoge1xuICAgICAgICBhcGlGZWF0dXJlTmFtZTogJ3Jlb3duX2JyYW5kaW5nJyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ3Jlb3duQnJhbmRpbmcnLFxuICAgICAgICByZXR1cm5UeXBlOiBmYWxzZSxcbiAgICAgICAgaXNMZWdhY3k6IGZhbHNlLFxuICAgICAgICBpc0F2YWlsYWJsZU9uQmFzaWM6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzQXBpOiAoYXBpQ29uZmlnKSA9PiBCb29sZWFuKGFwaUNvbmZpZy5pc0VuYWJsZWQpLFxuICAgICAgICBwcm9jZXNzRmFsbGJhY2s6IChsb2NhbFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAobG9jYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMucmVvd25CcmFuZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKGxvY2FsVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBlbWFpbENhcHR1cmU6IHtcbiAgICAgICAgYXBpRmVhdHVyZU5hbWU6ICdlbWFpbF9jYXB0dXJlJyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ2VtYWlsQ2FwdHVyZScsXG4gICAgICAgIHJldHVyblR5cGU6IGZhbHNlLFxuICAgICAgICBpc0xlZ2FjeTogZmFsc2UsXG4gICAgICAgIGlzQXZhaWxhYmxlT25CYXNpYzogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NBcGk6IChhcGlDb25maWcpID0+IGFwaUNvbmZpZy5pc0VuYWJsZWQgJiYgKGFwaUNvbmZpZy5jb25maWcgPz8gW10pLFxuICAgICAgICBwcm9jZXNzRmFsbGJhY2s6IChfbG9jYWxWYWx1ZSkgPT4gZmFsc2VcbiAgICB9LFxuICAgIG11bHRpV2FsbGV0OiB7XG4gICAgICAgIGFwaUZlYXR1cmVOYW1lOiAnbXVsdGlfd2FsbGV0JyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ211bHRpV2FsbGV0JyxcbiAgICAgICAgcmV0dXJuVHlwZTogZmFsc2UsXG4gICAgICAgIGlzTGVnYWN5OiBmYWxzZSxcbiAgICAgICAgaXNBdmFpbGFibGVPbkJhc2ljOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0FwaTogKGFwaUNvbmZpZykgPT4gQm9vbGVhbihhcGlDb25maWcuaXNFbmFibGVkKSxcbiAgICAgICAgcHJvY2Vzc0ZhbGxiYWNrOiAoKSA9PiBDb25zdGFudHNVdGlsLkRFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTLm11bHRpV2FsbGV0XG4gICAgfSxcbiAgICBwYXlXaXRoRXhjaGFuZ2U6IHtcbiAgICAgICAgYXBpRmVhdHVyZU5hbWU6ICdmdW5kX2Zyb21fZXhjaGFuZ2UnLFxuICAgICAgICBsb2NhbEZlYXR1cmVOYW1lOiAncGF5V2l0aEV4Y2hhbmdlJyxcbiAgICAgICAgcmV0dXJuVHlwZTogZmFsc2UsXG4gICAgICAgIGlzTGVnYWN5OiBmYWxzZSxcbiAgICAgICAgaXNBdmFpbGFibGVPbkJhc2ljOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0FwaTogKGFwaUNvbmZpZykgPT4gQm9vbGVhbihhcGlDb25maWcuaXNFbmFibGVkKSxcbiAgICAgICAgcHJvY2Vzc0ZhbGxiYWNrOiAoKSA9PiBDb25zdGFudHNVdGlsLkRFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTLnBheVdpdGhFeGNoYW5nZVxuICAgIH0sXG4gICAgcGF5bWVudHM6IHtcbiAgICAgICAgYXBpRmVhdHVyZU5hbWU6ICdwYXltZW50cycsXG4gICAgICAgIGxvY2FsRmVhdHVyZU5hbWU6ICdwYXltZW50cycsXG4gICAgICAgIHJldHVyblR5cGU6IGZhbHNlLFxuICAgICAgICBpc0xlZ2FjeTogZmFsc2UsXG4gICAgICAgIGlzQXZhaWxhYmxlT25CYXNpYzogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NBcGk6IChhcGlDb25maWcpID0+IEJvb2xlYW4oYXBpQ29uZmlnLmlzRW5hYmxlZCksXG4gICAgICAgIHByb2Nlc3NGYWxsYmFjazogKCkgPT4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX1JFTU9URV9GRUFUVVJFUy5wYXltZW50c1xuICAgIH0sXG4gICAgcmVvd25BdXRoZW50aWNhdGlvbjoge1xuICAgICAgICBhcGlGZWF0dXJlTmFtZTogJ3Jlb3duX2F1dGhlbnRpY2F0aW9uJyxcbiAgICAgICAgbG9jYWxGZWF0dXJlTmFtZTogJ3Jlb3duQXV0aGVudGljYXRpb24nLFxuICAgICAgICByZXR1cm5UeXBlOiBmYWxzZSxcbiAgICAgICAgaXNMZWdhY3k6IGZhbHNlLFxuICAgICAgICBpc0F2YWlsYWJsZU9uQmFzaWM6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzQXBpOiAoYXBpQ29uZmlnKSA9PiBCb29sZWFuKGFwaUNvbmZpZy5pc0VuYWJsZWQpLFxuICAgICAgICBwcm9jZXNzRmFsbGJhY2s6IChsb2NhbFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxvY2FsVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVMucmVvd25BdXRoZW50aWNhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKGxvY2FsVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBDb25maWdVdGlsID0ge1xuICAgIGxvY2FsU2V0dGluZ3NPdmVycmlkZGVuOiBuZXcgU2V0KCksXG4gICAgZ2V0QXBpQ29uZmlnKGlkLCBhcGlQcm9qZWN0Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiBhcGlQcm9qZWN0Q29uZmlnPy5maW5kKChmKSA9PiBmLmlkID09PSBpZCk7XG4gICAgfSxcbiAgICBhZGRXYXJuaW5nKGxvY2FsRmVhdHVyZVZhbHVlLCBmZWF0dXJlS2V5KSB7XG4gICAgICAgIGlmIChsb2NhbEZlYXR1cmVWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBmZWF0dXJlQ29uZmlnW2ZlYXR1cmVLZXldO1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZ05hbWUgPSBjb25maWcuaXNMZWdhY3lcbiAgICAgICAgICAgICAgICA/IGBcImZlYXR1cmVzLiR7Y29uZmlnLmxvY2FsRmVhdHVyZU5hbWV9XCIgKG5vdyBcIiR7ZmVhdHVyZUtleX1cIilgXG4gICAgICAgICAgICAgICAgOiBgXCJmZWF0dXJlcy4ke2ZlYXR1cmVLZXl9XCJgO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFNldHRpbmdzT3ZlcnJpZGRlbi5hZGQod2FybmluZ05hbWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwcm9jZXNzRmVhdHVyZShmZWF0dXJlS2V5LCBsb2NhbEZlYXR1cmVzLCBhcGlQcm9qZWN0Q29uZmlnLCB1c2VBcGksIGlzQmFzaWMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZmVhdHVyZUNvbmZpZ1tmZWF0dXJlS2V5XTtcbiAgICAgICAgY29uc3QgbG9jYWxWYWx1ZSA9IGxvY2FsRmVhdHVyZXNbY29uZmlnLmxvY2FsRmVhdHVyZU5hbWVdO1xuICAgICAgICBpZiAoaXNCYXNpYyAmJiAhY29uZmlnLmlzQXZhaWxhYmxlT25CYXNpYykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VBcGkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwaUNvbmZpZyA9IHRoaXMuZ2V0QXBpQ29uZmlnKGNvbmZpZy5hcGlGZWF0dXJlTmFtZSwgYXBpUHJvamVjdENvbmZpZyk7XG4gICAgICAgICAgICBpZiAoYXBpQ29uZmlnPy5jb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmFsbGJhY2tGZWF0dXJlKGZlYXR1cmVLZXksIGxvY2FsVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcGlDb25maWc/LmNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2NhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcobG9jYWxWYWx1ZSwgZmVhdHVyZUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQXBpRmVhdHVyZShmZWF0dXJlS2V5LCBhcGlDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NGYWxsYmFja0ZlYXR1cmUoZmVhdHVyZUtleSwgbG9jYWxWYWx1ZSk7XG4gICAgfSxcbiAgICBwcm9jZXNzQXBpRmVhdHVyZShmZWF0dXJlS2V5LCBhcGlDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVDb25maWdbZmVhdHVyZUtleV0ucHJvY2Vzc0FwaShhcGlDb25maWcpO1xuICAgIH0sXG4gICAgcHJvY2Vzc0ZhbGxiYWNrRmVhdHVyZShmZWF0dXJlS2V5LCBsb2NhbFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmZWF0dXJlQ29uZmlnW2ZlYXR1cmVLZXldLnByb2Nlc3NGYWxsYmFjayhsb2NhbFZhbHVlKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoUmVtb3RlRmVhdHVyZXMoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGlzQmFzaWMgPSBjb25maWcuYmFzaWMgPz8gZmFsc2U7XG4gICAgICAgIGNvbnN0IGxvY2FsRmVhdHVyZXMgPSBjb25maWcuZmVhdHVyZXMgfHwge307XG4gICAgICAgIHRoaXMubG9jYWxTZXR0aW5nc092ZXJyaWRkZW4uY2xlYXIoKTtcbiAgICAgICAgbGV0IGFwaVByb2plY3RDb25maWcgPSBudWxsO1xuICAgICAgICBsZXQgc2hvdWxkVXNlQXBpQ29uZmlnID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhcGlQcm9qZWN0Q29uZmlnID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFByb2plY3RDb25maWcoKTtcbiAgICAgICAgICAgIHNob3VsZFVzZUFwaUNvbmZpZyA9IGFwaVByb2plY3RDb25maWcgIT09IG51bGwgJiYgYXBpUHJvamVjdENvbmZpZyAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tSZW93biBDb25maWddIEZhaWxlZCB0byBmZXRjaCByZW1vdGUgcHJvamVjdCBjb25maWd1cmF0aW9uLiBVc2luZyBsb2NhbC9kZWZhdWx0IHZhbHVlcy4nLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdGVGZWF0dXJlc0NvbmZpZyA9IHNob3VsZFVzZUFwaUNvbmZpZyAmJiAhaXNCYXNpY1xuICAgICAgICAgICAgPyBDb25zdGFudHNVdGlsLkRFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTXG4gICAgICAgICAgICA6IENvbnN0YW50c1V0aWwuREVGQVVMVF9SRU1PVEVfRkVBVFVSRVNfRElTQUJMRUQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmVLZXkgb2YgRkVBVFVSRV9LRVlTKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wcm9jZXNzRmVhdHVyZShmZWF0dXJlS2V5LCBsb2NhbEZlYXR1cmVzLCBhcGlQcm9qZWN0Q29uZmlnLCBzaG91bGRVc2VBcGlDb25maWcsIGlzQmFzaWMpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVtb3RlRmVhdHVyZXNDb25maWcsIHsgW2ZlYXR1cmVLZXldOiByZXN1bHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Jlb3duIENvbmZpZ10gRmFpbGVkIHRvIHByb2Nlc3MgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBDbG91ZC4gVXNpbmcgZGVmYXVsdCB2YWx1ZXMuJywgZSk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX1JFTU9URV9GRUFUVVJFUztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkVXNlQXBpQ29uZmlnICYmIHRoaXMubG9jYWxTZXR0aW5nc092ZXJyaWRkZW4uc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHdhcm5pbmdNZXNzYWdlID0gYFlvdXIgbG9jYWwgY29uZmlndXJhdGlvbiBmb3IgJHtBcnJheS5mcm9tKHRoaXMubG9jYWxTZXR0aW5nc092ZXJyaWRkZW4pLmpvaW4oJywgJyl9IHdhcyBpZ25vcmVkIGJlY2F1c2UgYSByZW1vdGUgY29uZmlndXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IGZldGNoZWQuIFBsZWFzZSBtYW5hZ2UgdGhlc2UgZmVhdHVyZXMgdmlhIHlvdXIgcHJvamVjdCBkYXNoYm9hcmQgb24gZGFzaGJvYXJkLnJlb3duLmNvbS5gO1xuICAgICAgICAgICAgQWxlcnRDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogRXJyb3JVdGlsLkFMRVJUX1dBUk5JTkdTLkxPQ0FMX0NPTkZJR1VSQVRJT05fSUdOT1JFRC5kZWJ1Z01lc3NhZ2Uod2FybmluZ01lc3NhZ2UpXG4gICAgICAgICAgICB9LCAnd2FybmluZycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdGVGZWF0dXJlc0NvbmZpZztcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uZmlnVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConfigUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConstantsUtil.js":
/*!************************************************************************!*\
  !*** ./node_modules/@reown/appkit/dist/esm/src/utils/ConstantsUtil.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WcConstantsUtil: () => (/* binding */ WcConstantsUtil)\n/* harmony export */ });\nconst WcConstantsUtil = {\n    ERROR_CODE_UNRECOGNIZED_CHAIN_ID: 4902,\n    ERROR_CODE_DEFAULT: 5000,\n    ERROR_INVALID_CHAIN_ID: 32603\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC9kaXN0L2VzbS9zcmMvdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgV2NDb25zdGFudHNVdGlsID0ge1xuICAgIEVSUk9SX0NPREVfVU5SRUNPR05JWkVEX0NIQUlOX0lEOiA0OTAyLFxuICAgIEVSUk9SX0NPREVfREVGQVVMVDogNTAwMCxcbiAgICBFUlJPUl9JTlZBTElEX0NIQUlOX0lEOiAzMjYwM1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/dist/esm/src/utils/ConstantsUtil.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/core/dist/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/@walletconnect/core/dist/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ ge),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ Ue),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ W),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Fe),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ Me),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ ta),\n/* harmony export */   Crypto: () => (/* binding */ wi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Zt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Qt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ si),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ ei),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ar),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ or),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ sr),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ X),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ nr),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ rr),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ Gt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ tr),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ q),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Wt),\n/* harmony export */   EchoClient: () => (/* binding */ Vi),\n/* harmony export */   EventClient: () => (/* binding */ Gi),\n/* harmony export */   Expirer: () => (/* binding */ Mi),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Vt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ V),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ qt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ Fi),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ _i),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Ot),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Rt),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ ye),\n/* harmony export */   MessageTracker: () => (/* binding */ Ii),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Kt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ er),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ ae),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ oe),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Bt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Qs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ xt),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ At),\n/* harmony export */   Pairing: () => (/* binding */ Ui),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ zt),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ke),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ M),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ kt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ Pe),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ Js),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Xs),\n/* harmony export */   Relayer: () => (/* binding */ Ai),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ jt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ft),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Zs),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ j),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Mt),\n/* harmony export */   Store: () => (/* binding */ ji),\n/* harmony export */   Subscriber: () => (/* binding */ Si),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ ee),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Xt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Ht),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ be),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Jt),\n/* harmony export */   Verify: () => (/* binding */ Ki),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ Ut),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Be),\n/* harmony export */   \"default\": () => (/* binding */ Oe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(app-pages-browser)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(app-pages-browser)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/types/dist/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(app-pages-browser)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(app-pages-browser)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(app-pages-browser)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\nconst Ue=\"wc\",Fe=2,ge=\"core\",W=`${Ue}@2:${ge}:`,Et={name:ge,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",Me=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Ot=\"messages\",Rt=\"0.3\",At=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,xt=\"publisher\",Nt=\"irn\",$t=\"error\",Ke=\"wss://relay.walletconnect.org\",zt=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},Lt=\"_subscription\",M={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},kt=.1,Js={database:\":memory:\"},Pe=\"2.22.4\",Xs=1e4,ee={link_mode:\"link_mode\",relay:\"relay\"},ye={inbound:\"inbound\",outbound:\"outbound\"},jt=\"0.3\",Ut=\"WALLETCONNECT_CLIENT_ID\",Be=\"WALLETCONNECT_LINK_MODE_APPS\",j={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Zs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ft=\"subscription\",Mt=\"0.3\",Qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Kt=\"pairing\",Bt=\"0.3\",er=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,oe={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},ae={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},V={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Vt=\"history\",qt=\"0.3\",Gt=\"expirer\",q={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Wt=\"0.3\",tr=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Ht=\"verify-api\",ir=\"https://verify.walletconnect.com\",Yt=\"https://verify.walletconnect.org\",be=Yt,Jt=`${be}/v3`,Xt=[ir,Yt],Zt=\"echo\",Qt=\"https://echo.walletconnect.com\",sr=\"event-client\",Y={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},X={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},rr={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\",session_request_response_started:\"session_request_response_started\",session_request_response_validation_success:\"session_request_response_validation_success\",session_request_response_publish_started:\"session_request_response_publish_started\"},nr={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\",session_request_response_validation_failure:\"session_request_response_validation_failure\",session_request_response_publish_failure:\"session_request_response_publish_failure\"},or={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ar={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},ei=.1,ti=\"event-client\",ii=86400,si=\"https://pulse.walletconnect.org/batch\";function cr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function g(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var m=0,D=0,w=0,E=u.length;w!==E&&u[w]===0;)w++,m++;for(var L=(E-w)*l+1>>>0,I=new Uint8Array(L);w!==E;){for(var k=u[w],T=0,S=L-1;(k!==0||T<D)&&S!==-1;S--,T++)k+=256*I[S]>>>0,I[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error(\"Non-zero carry\");D=T,w++}for(var O=L-D;O!==L&&I[O]===0;)O++;for(var te=c.repeat(m);O<L;++O)te+=r.charAt(I[O]);return te}function y(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var m=0;if(u[m]!==\" \"){for(var D=0,w=0;u[m]===c;)D++,m++;for(var E=(u.length-m)*h+1>>>0,L=new Uint8Array(E);u[m];){var I=t[u.charCodeAt(m)];if(I===255)return;for(var k=0,T=E-1;(I!==0||k<w)&&T!==-1;T--,k++)I+=a*L[T]>>>0,L[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error(\"Non-zero carry\");w=k,m++}if(u[m]!==\" \"){for(var S=E-w;S!==E&&L[S]===0;)S++;for(var O=new Uint8Array(D+(E-S)),te=D;S!==E;)O[te++]=L[S++];return O}}}function _(u){var m=y(u);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:_}}var hr=cr,lr=hr;const ri=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},ur=r=>new TextEncoder().encode(r),dr=r=>new TextDecoder().decode(r);class pr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class gr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ni(this,e)}}class yr{constructor(e){this.decoders=e}or(e){return ni(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ni=(r,e)=>new yr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class br{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new pr(e,t,i),this.decoder=new gr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Se=({name:r,prefix:e,encode:t,decode:i})=>new br(r,e,t,i),me=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=lr(t,e);return Se({prefix:r,name:e,encode:i,decode:n=>ri(s(n))})},mr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const g=s[r[l]];if(g===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|g,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},fr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},x=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Se({prefix:e,name:r,encode(s){return fr(s,i,t)},decode(s){return mr(s,i,t,r)}}),Dr=Se({prefix:\"\\0\",name:\"identity\",encode:r=>dr(r),decode:r=>ur(r)});var vr=Object.freeze({__proto__:null,identity:Dr});const _r=x({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var wr=Object.freeze({__proto__:null,base2:_r});const Er=x({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=x({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Sr=x({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=x({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Ar=x({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),xr=x({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Nr=x({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),$r=x({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),zr=x({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Lr=x({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),kr=x({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),jr=x({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Mr=me({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Vr=me({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=x({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Wr=x({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Hr=x({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Yr=x({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const oi=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Xr=oi.reduce((r,e,t)=>(r[t]=e,r),[]),Zr=oi.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Qr(r){return r.reduce((e,t)=>(e+=Xr[t],e),\"\")}function en(r){const e=[];for(const t of r){const i=Zr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const tn=Se({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Qr,decode:en});var sn=Object.freeze({__proto__:null,base256emoji:tn}),rn=ci,ai=128,nn=127,on=~nn,an=Math.pow(2,31);function ci(r,e,t){e=e||[],t=t||0;for(var i=t;r>=an;)e[t++]=r&255|ai,r/=128;for(;r&on;)e[t++]=r&255|ai,r>>>=7;return e[t]=r|0,ci.bytes=t-i+1,e}var cn=Ve,hn=128,hi=127;function Ve(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Ve.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&hi)<<s:(o&hi)*Math.pow(2,s),s+=7}while(o>=hn);return Ve.bytes=n-i,t}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),pn=Math.pow(2,28),gn=Math.pow(2,35),yn=Math.pow(2,42),bn=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(r){return r<ln?1:r<un?2:r<dn?3:r<pn?4:r<gn?5:r<yn?6:r<bn?7:r<mn?8:r<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},li=vn;const ui=(r,e,t=0)=>(li.encode(r,e,t),e),di=r=>li.encodingLength(r),qe=(r,e)=>{const t=e.byteLength,i=di(r),s=i+di(t),n=new Uint8Array(s+t);return ui(r,n,0),ui(t,n,i),n.set(e,s),new _n(r,t,e,n)};class _n{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const pi=({name:r,code:e,encode:t})=>new wn(r,e,t);class wn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qe(this.code,t):t.then(i=>qe(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),En=pi({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),In=pi({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const yi=0,Cn=\"identity\",bi=ri,Pn=r=>qe(yi,bi(r)),Sn={code:yi,name:Cn,encode:bi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const mi={...vr,...wr,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function fi(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?fi(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Di(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const vi=Di(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ge=Di(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),An={utf8:vi,\"utf-8\":vi,hex:mi.base16,latin1:Ge,ascii:Ge,binary:Ge,...mi};function xn(r,e=\"utf8\"){const t=An[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?fi(globalThis.Buffer.from(r,\"utf-8\")):t.decoder.decode(`${t.prefix}${r}`)}var Nn=Object.defineProperty,$n=(r,e,t)=>e in r?Nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e,t)=>$n(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i{constructor(e,t){this.core=e,this.logger=t,J(this,\"keychain\",new Map),J(this,\"name\",Pt),J(this,\"version\",St),J(this,\"initialized\",!1),J(this,\"storagePrefix\",W),J(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),J(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),J(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),J(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),J(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var zn=Object.defineProperty,Ln=(r,e,t)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>Ln(r,typeof e!=\"symbol\"?e+\"\":e,t);class wi{constructor(e,t,i){this.core=e,this.logger=t,R(this,\"name\",Tt),R(this,\"keychain\"),R(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),R(this,\"initialized\",!1),R(this,\"clientId\"),R(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),R(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),R(this,\"getClientId\",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey);return this.clientId=o,o}),R(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),R(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),R(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),R(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),R(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),R(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),R(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const y=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(y,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:g}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:g,encoding:o?.encoding})}),R(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),R(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),R(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new _i(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(Me)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(Me,e)}return xn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?kn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))Fn.call(e,t)&&We(r,t,e[t]);if(Ei)for(var t of Ei(e))Mn.call(e,t)&&We(r,t,e[t]);return r},Bn=(r,e)=>jn(r,Un(e)),K=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ii extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,K(this,\"messages\",new Map),K(this,\"messagesWithoutClientAck\",new Map),K(this,\"name\",Ot),K(this,\"version\",Rt),K(this,\"initialized\",!1),K(this,\"storagePrefix\",W),K(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),K(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===ye.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Bn(Kn({},c),{[o]:s}))}return await this.persist(),o}),K(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),K(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),K(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),K(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),K(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(r,e,t)=>e in r?Vn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ce=(r,e)=>{for(var t in e||(e={}))Wn.call(e,t)&&He(r,t,e[t]);if(Ti)for(var t of Ti(e))Hn.call(e,t)&&He(r,t,e[t]);return r},Ci=(r,e)=>qn(r,Gn(e)),G=(r,e,t)=>He(r,typeof e!=\"symbol\"?e+\"\":e,t);class Yn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,G(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),G(this,\"name\",xt),G(this,\"queue\",new Map),G(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),G(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),G(this,\"needsTransportRestart\",!1),G(this,\"publish\",async(i,s,n)=>{var o,a,c,h,l;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const g=n?.ttl||At,y=n?.prompt||!1,_=n?.tag||0,u=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),D={id:u,method:n?.publishMethod||m.publish,params:ce({topic:i,message:s,ttl:g,prompt:y,tag:_,attestation:n?.attestation},n?.tvf)},w=`Failed to publish payload, please try again. id:${u} tag:${_}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=D.params)==null?void 0:o.prompt)&&((a=D.params)==null||delete a.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((c=D.params)==null?void 0:c.tag)&&((h=D.params)==null||delete h.tag);const E=new Promise(async L=>{const I=({id:T})=>{var S;((S=D.id)==null?void 0:S.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(C.publish,I),L())};this.relayer.events.on(C.publish,I);const k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((T,S)=>{this.rpcPublish(D,n).then(T).catch(O=>{this.logger.warn(O,O?.message),S(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${_}`);try{await k,this.events.removeListener(C.publish,I)}catch(T){this.queue.set(u,{request:D,opts:n,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:u,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(E,this.publishTimeout,w)}catch(E){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(E),(l=n?.internal)!=null&&l.throwOnFailedPublish)throw E}finally{this.queue.delete(u)}}),G(this,\"publishCustom\",async i=>{var s,n,o,a,c;this.logger.debug(\"Publishing custom payload\"),this.logger.trace({type:\"method\",method:\"publishCustom\",params:i});const{payload:h,opts:l={}}=i,{attestation:g,tvf:y,publishMethod:_,prompt:u,tag:m,ttl:D=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES}=l,w=l.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),L=_||E.publish,I={id:w,method:L,params:ce(Ci(ce({},h),{ttl:D,prompt:u,tag:m,attestation:g}),y)},k=`Failed to publish custom payload, please try again. id:${w} tag:${m}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=I.params)==null?void 0:s.prompt)&&((n=I.params)==null||delete n.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=I.params)==null?void 0:o.tag)&&((a=I.params)==null||delete a.tag);const T=new Promise(async S=>{const O=({id:Z})=>{var we;((we=I.id)==null?void 0:we.toString())===Z.toString()&&(this.removeRequestFromQueue(Z),this.relayer.events.removeListener(C.publish,O),S())};this.relayer.events.on(C.publish,O);const te=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((Z,we)=>{this.rpcPublish(I,l).then(Z).catch(Ee=>{this.logger.warn(Ee,Ee?.message),we(Ee)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${L} id:${w} tag:${m}`);try{await te,this.events.removeListener(C.publish,O)}catch(Z){this.queue.set(w,{request:I,opts:l,attempt:1}),this.logger.warn(Z,Z?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:w,payload:h,opts:l}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(T,this.publishTimeout,k)}catch(T){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(T),(c=l?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(w)}}),G(this,\"on\",(i,s)=>{this.events.on(i,s)}),G(this,\"once\",(i,s)=>{this.events.once(i,s)}),G(this,\"off\",(i,s)=>{this.events.off(i,s)}),G(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e,t){this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(C.publish,ce(ce({},e),t)),this.logger.debug(\"Successfully Published Payload\"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var i;const s=e.attempt+1;this.queue.set(t,Ci(ce({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jn=Object.defineProperty,Xn=(r,e,t)=>e in r?Jn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,he=(r,e,t)=>Xn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Zn{constructor(){he(this,\"map\",new Map),he(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),he(this,\"get\",e=>this.map.get(e)||[]),he(this,\"exists\",(e,t)=>this.get(e).includes(t)),he(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),he(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Pi=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e)=>{for(var t in e||(e={}))io.call(e,t)&&Ye(r,t,e[t]);if(Pi)for(var t of Pi(e))so.call(e,t)&&Ye(r,t,e[t]);return r},Je=(r,e)=>eo(r,to(e)),f=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Si extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Zn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ft),f(this,\"version\",Mt),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",W),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{var n;this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),a={topic:i,relay:o,transportType:s?.transportType};(n=s?.internal)!=null&&n.skipSubscribe||this.pending.set(i,a);const c=await this.rpcSubscribe(i,o,s);return typeof c==\"string\"&&(this.onSubscribe(c,a),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),c}catch(o){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(o),o}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(j.created,async i=>{const s=j.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on(j.deleted,async i=>{const s=j.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s,n;const o=await this.getSubscriptionId(e);if((s=i?.internal)!=null&&s.skipSubscribe)return o;(!i||i?.transportType===ee.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const a={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:a});const c=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{if(i?.transportType===ee.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(g=>this.logger.warn(g))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),o;const h=new Promise(async g=>{const y=_=>{_.topic===e&&(this.events.removeListener(j.created,y),g(_.id))};this.events.on(j.created,y);try{const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((u,m)=>{this.relayer.request(a).catch(D=>{this.logger.warn(D,D?.message),m(D)}).then(u)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(j.created,y),g(_)}catch{}}),l=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(h){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),c)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,Je(fe({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,fe({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,fe({},t)),this.topicMap.set(t.topic,e),this.events.emit(j.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(j.deleted,Je(fe({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(j.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(j.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size&&!e.every(t=>{var i;return t.topic===((i=this.subscriptions.get(t.id))==null?void 0:i.topic)})){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>Je(fe({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var ro=Object.defineProperty,Oi=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?ro(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ri=(r,e)=>{for(var t in e||(e={}))no.call(e,t)&&Xe(r,t,e[t]);if(Oi)for(var t of Oi(e))oo.call(e,t)&&Xe(r,t,e[t]);return r},p=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ai extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){var t;super(e),p(this,\"protocol\",\"wc\"),p(this,\"version\",2),p(this,\"core\"),p(this,\"logger\"),p(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),p(this,\"provider\"),p(this,\"messages\"),p(this,\"subscriber\"),p(this,\"publisher\"),p(this,\"name\",zt),p(this,\"transportExplicitlyClosed\",!1),p(this,\"initialized\",!1),p(this,\"connectionAttemptInProgress\",!1),p(this,\"relayUrl\"),p(this,\"projectId\"),p(this,\"packageName\"),p(this,\"bundleId\"),p(this,\"hasExperiencedNetworkDisruption\",!1),p(this,\"pingTimeout\"),p(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),p(this,\"reconnectTimeout\"),p(this,\"connectPromise\"),p(this,\"reconnectInProgress\",!1),p(this,\"requestsInFlight\",[]),p(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),p(this,\"request\",async i=>{var s,n;this.logger.debug(\"Publishing Request Payload\");const o=i.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:i.method,topic:(s=i.params)==null?void 0:s.topic},\"relayer.request - publishing...\");const a=`${o}:${((n=i.params)==null?void 0:n.tag)||\"\"}`;this.requestsInFlight.push(a);const c=await this.provider.request(i);return this.requestsInFlight=this.requestsInFlight.filter(h=>h!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),p(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var i,s,n,o;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(o=(n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null?void 0:n.terminate)==null||o.call(n)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),p(this,\"onPayloadHandler\",i=>{this.onProviderPayload(i),this.resetPingTimeout()}),p(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),p(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),p(this,\"onProviderErrorHandler\",i=>{this.logger.fatal(`Fatal socket error: ${i.message}`),this.events.emit(C.error,i),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),p(this,\"registerProviderListeners\",()=>{this.provider.on(M.payload,this.onPayloadHandler),this.provider.on(M.connect,this.onConnectHandler),this.provider.on(M.disconnect,this.onDisconnectHandler),this.provider.on(M.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createLogger)({logger:(t=e.logger)!=null?t:$t,name:this.name}),this.messages=new Ii(this.logger,e.core),this.subscriber=new Si(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:ee.relay},ye.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off(j.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(j.created,h)}),new Promise(async(l,g)=>{a=await this.subscriber.subscribe(e,Ri({internal:{throwOnFailedPublish:o}},t)).catch(y=>{o&&g(y)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,ye.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to connect\"))};this.provider.once(M.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(M.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(M.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(M.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(Lt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:ee.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Ri({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ye.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(M.payload,this.onPayloadHandler),this.provider.off(M.connect,this.onConnectHandler),this.provider.off(M.disconnect,this.onDisconnectHandler),this.provider.off(M.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAppVisible)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(kt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function xi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ni(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const co=\"[object RegExp]\",ho=\"[object String]\",lo=\"[object Number]\",uo=\"[object Boolean]\",$i=\"[object Arguments]\",po=\"[object Symbol]\",go=\"[object Date]\",yo=\"[object Map]\",bo=\"[object Set]\",mo=\"[object Array]\",fo=\"[object Function]\",Do=\"[object ArrayBuffer]\",Ze=\"[object Object]\",vo=\"[object Error]\",_o=\"[object DataView]\",wo=\"[object Uint8Array]\",Eo=\"[object Uint8ClampedArray]\",Io=\"[object Uint16Array]\",To=\"[object Uint32Array]\",Co=\"[object BigUint64Array]\",Po=\"[object Int8Array]\",So=\"[object Int16Array]\",Oo=\"[object Int32Array]\",Ro=\"[object BigInt64Array]\",Ao=\"[object Float32Array]\",xo=\"[object Float64Array]\";function No(){}function zi(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function $o(r,e,t){return De(r,e,void 0,void 0,void 0,void 0,t)}function De(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ve(r,e,n,o)}return ve(r,e,n,o)}function ve(r,e,t,i){if(Object.is(r,e))return!0;let s=Ni(r),n=Ni(e);if(s===$i&&(s=Ze),n===$i&&(n=Ze),s!==n)return!1;switch(s){case ho:return r.toString()===e.toString();case lo:{const c=r.valueOf(),h=e.valueOf();return ao(c,h)}case uo:case go:case po:return Object.is(r.valueOf(),e.valueOf());case co:return r.source===e.source&&r.flags===e.flags;case fo:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case yo:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!De(h,e.get(c),c,r,e,t,i))return!1;return!0}case bo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const g=c[l],y=h.findIndex(_=>De(g,_,void 0,r,e,t,i));if(y===-1)return!1;h.splice(y,1)}return!0}case mo:case wo:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!De(r[c],e[c],c,r,e,t,i))return!1;return!0}case Do:return r.byteLength!==e.byteLength?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case _o:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case vo:return r.name===e.name&&r.message===e.message;case Ze:{if(!(ve(r.constructor,e.constructor,t,i)||zi(r)&&zi(e)))return!1;const h=[...Object.keys(r),...xi(r)],l=[...Object.keys(e),...xi(e)];if(h.length!==l.length)return!1;for(let g=0;g<h.length;g++){const y=h[g],_=r[y];if(!Object.hasOwn(e,y))return!1;const u=e[y];if(!De(_,u,y,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function zo(r,e){return $o(r,e,No)}var Lo=Object.defineProperty,Li=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ki=(r,e)=>{for(var t in e||(e={}))ko.call(e,t)&&Qe(r,t,e[t]);if(Li)for(var t of Li(e))jo.call(e,t)&&Qe(r,t,e[t]);return r},U=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=W,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,U(this,\"map\",new Map),U(this,\"version\",jt),U(this,\"cached\",[]),U(this,\"initialized\",!1),U(this,\"getKey\"),U(this,\"storagePrefix\",W),U(this,\"recentlyDeleted\",[]),U(this,\"recentlyDeletedLimit\",200),U(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),U(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),U(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),U(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>zo(a[c],o[c]))):this.values)),U(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=ki(ki({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),U(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Uo=Object.defineProperty,Fo=(r,e,t)=>e in r?Uo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e,t)=>Fo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui{constructor(e,t){this.core=e,this.logger=t,d(this,\"name\",Kt),d(this,\"version\",Bt),d(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__),d(this,\"pairings\"),d(this,\"initialized\",!1),d(this,\"storagePrefix\",W),d(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),d(this,\"registeredMethods\",[]),d(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),d(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),d(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:Nt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(ae.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType,internal:i?.internal}),{topic:n,uri:h}}),d(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[Y.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(Y.pairing_uri_validation_success),s.addTrace(Y.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(Y.existing_pairing),l.active)throw s.setError(X.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(Y.pairing_not_expired)}const g=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),y={topic:n,relay:a,expiry:g,active:!1,methods:h};this.core.expirer.set(n,g),await this.pairings.set(n,y),s.addTrace(Y.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(ae.create,y),s.addTrace(Y.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(Y.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(X.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(X.subscribe_pairing_topic_failure),_}return s.addTrace(Y.subscribe_pairing_topic_success),y}),d(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),d(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),d(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),d(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),d(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),d(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),d(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),d(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=oe[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),d(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c]?oe[c].res:oe.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),d(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),d(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),d(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),d(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(ae.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),d(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(ae.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),d(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),d(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(X.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),d(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new ji(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==ee.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(q.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ae.expire,{topic:t}))})}}var Mo=Object.defineProperty,Ko=(r,e,t)=>e in r?Mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e,t)=>Ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,N(this,\"records\",new Map),N(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),N(this,\"name\",Vt),N(this,\"version\",qt),N(this,\"cached\",[]),N(this,\"initialized\",!1),N(this,\"storagePrefix\",W),N(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(V.created,o)}),N(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(V.updated,s))}),N(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),N(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(V.deleted,n)}}),this.persist()}),N(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),N(this,\"on\",(i,s)=>{this.events.on(i,s)}),N(this,\"once\",(i,s)=>{this.events.once(i,s)}),N(this,\"off\",(i,s)=>{this.events.off(i,s)}),N(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(V.created,e=>{const t=V.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.updated,e=>{const t=V.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.deleted,e=>{const t=V.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(V.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Bo=Object.defineProperty,Vo=(r,e,t)=>e in r?Bo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,z=(r,e,t)=>Vo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,z(this,\"expirations\",new Map),z(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),z(this,\"name\",Gt),z(this,\"version\",Wt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"storagePrefix\",W),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),z(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(q.created,{target:n,expiration:o})}),z(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),z(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(q.deleted,{target:s,expiration:n})}}),z(this,\"on\",(i,s)=>{this.events.on(i,s)}),z(this,\"once\",(i,s)=>{this.events.once(i,s)}),z(this,\"off\",(i,s)=>{this.events.off(i,s)}),z(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(q.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(q.created,e=>{const t=q.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.expired,e=>{const t=q.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.deleted,e=>{const t=q.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var qo=Object.defineProperty,Go=(r,e,t)=>e in r?qo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>Go(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,P(this,\"name\",Ht),P(this,\"abortController\"),P(this,\"isDevEnv\"),P(this,\"verifyUrlV3\",Jt),P(this,\"storagePrefix\",W),P(this,\"version\",Fe),P(this,\"publicKey\"),P(this,\"fetchPromise\"),P(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),P(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),g=await new Promise((y,_)=>{const u=()=>{window.removeEventListener(\"message\",D),h.body.removeChild(m),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const m=h.createElement(\"iframe\");m.src=c,m.style.display=\"none\",m.addEventListener(\"error\",u,{signal:this.abortController.signal});const D=w=>{if(w.data&&typeof w.data==\"string\")try{const E=JSON.parse(w.data);if(E.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(E.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(m),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",D),y(E.attestation===null?\"\":E.attestation)}}catch(E){this.logger.warn(E)}};h.body.appendChild(m),window.addEventListener(\"message\",D,{signal:this.abortController.signal})});return this.logger.debug(g,\"jwt attestation\"),g}catch(h){this.logger.warn(h)}return\"\"}),P(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),P(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),P(this,\"getVerifyUrl\",s=>{let n=s||be;return Xt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${be}`),n=be),n}),P(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),P(this,\"persistPublicKey\",async s=>{this.logger.debug(s,\"persisting public key to local storage\"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),P(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),P(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),P(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Wo=Object.defineProperty,Ho=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bi=(r,e,t)=>Ho(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Bi(this,\"context\",Zt),Bi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${Qt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Yo=Object.defineProperty,qi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et=(r,e,t)=>e in r?Yo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_e=(r,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&et(r,t,e[t]);if(qi)for(var t of qi(e))Xo.call(e,t)&&et(r,t,e[t]);return r},A=(r,e,t)=>et(r,typeof e!=\"symbol\"?e+\"\":e,t);class Gi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,A(this,\"context\",ti),A(this,\"storagePrefix\",W),A(this,\"storageVersion\",ei),A(this,\"events\",new Map),A(this,\"shouldPersist\",!1),A(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),A(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",g=Date.now(),y=_e({eventId:h,timestamp:g,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),A(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return _e(_e({},a),this.setMethods(a.eventId))}),A(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),A(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>ii&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),A(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),A(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),A(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),A(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),A(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,_e(_e({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),A(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),A(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${si}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),A(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Zo=Object.defineProperty,Wi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt=(r,e,t)=>e in r?Zo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hi=(r,e)=>{for(var t in e||(e={}))Qo.call(e,t)&&tt(r,t,e[t]);if(Wi)for(var t of Wi(e))ea.call(e,t)&&tt(r,t,e[t]);return r},v=(r,e,t)=>tt(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",Ue),v(this,\"version\",Fe),v(this,\"name\",ge),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ee.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:ge}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new wi(this,this.logger,e?.keychain),this.history=new Fi(this,this.logger),this.expirer=new Mi(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Hi(Hi({},It),e?.storageOptions)),this.relayer=new Ai({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ui(this,this.logger),this.verify=new Ki(this,this.logger,this.storage),this.echoClient=new Vi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Gi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Oe(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(Ut,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const ta=Oe;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNDdFLGtDQUFrQyxHQUFHLEtBQUssR0FBRyxPQUFPLHVCQUF1QixLQUFLLG9CQUFvQix5Q0FBeUMsd0RBQUUsa0RBQWtELDBEQUFFLHVGQUF1RixrUUFBa1EsdUJBQXVCLDBFQUEwRSxXQUFXLG9CQUFvQix3QkFBd0Isb0NBQW9DLEtBQUssc0NBQXNDLDRFQUE0RSxnTUFBZ00sSUFBSSw0REFBRSwrQkFBK0IsNkRBQUUsOEJBQThCLDREQUFFLEtBQUssa0JBQWtCLEtBQUssSUFBSSx3REFBRSxtQkFBbUIsTUFBTSxJQUFJLHdEQUFFLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLCtEQUFFLG9CQUFvQixNQUFNLElBQUksK0RBQUUscUJBQXFCLHNCQUFzQixLQUFLLElBQUksd0RBQUUsaUJBQWlCLE1BQU0sSUFBSSx3REFBRSxtQkFBbUIsS0FBSyw0RkFBNEYsSUFBSSxrR0FBa0csdUNBQXVDLGtHQUFrRyxhQUFhLHdEQUFFLHlHQUF5RyxHQUFHLG1GQUFtRix3aEJBQXdoQixJQUFJLG9ZQUFvWSxLQUFLLGcxQkFBZzFCLEtBQUssZ25CQUFnbkIsS0FBSyxzdkJBQXN2QixLQUFLLHNxQkFBc3FCLDZFQUE2RSxpQkFBaUIsMERBQTBELGtDQUFrQyxXQUFXLGFBQWEsWUFBWSxXQUFXLEtBQUssb0NBQW9DLHFEQUFxRCxPQUFPLHFGQUFxRixjQUFjLHdOQUF3Tix5QkFBeUIsK0JBQStCLGdCQUFnQixTQUFTLDRDQUE0QyxNQUFNLEVBQUUseUJBQXlCLHFCQUFxQiwrQ0FBK0MsMkNBQTJDLFFBQVEsY0FBYyxnQkFBZ0IsS0FBSyx1QkFBdUIsSUFBSSx1QkFBdUIsVUFBVSxjQUFjLDZEQUE2RCxzQ0FBc0MsUUFBUSxlQUFlLGdCQUFnQixTQUFTLFNBQVMsbURBQW1ELEtBQUssRUFBRSx5QkFBeUIsa0JBQWtCLGtCQUFrQixxQkFBcUIsaURBQWlELDJDQUEyQyxRQUFRLGVBQWUsY0FBYyxnQkFBZ0IsS0FBSyx1Q0FBdUMsTUFBTSxnQkFBZ0IsV0FBVyxjQUFjLFdBQVcsY0FBYyx1QkFBdUIsR0FBRyxZQUFZLE9BQU8sa0NBQWtDLGdCQUFnQixhQUFhLHVFQUF1RSxxREFBcUQsbUZBQW1GLHFEQUFxRCxxRUFBcUUsU0FBUyxtQkFBbUIsNENBQTRDLFVBQVUsb0NBQW9DLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxrREFBa0QsU0FBUyxtQkFBbUIsbUdBQW1HLHdEQUF3RCxVQUFVLHVCQUF1Qiw0RkFBNEYsa0JBQWtCLElBQUksV0FBVyw2Q0FBNkMsWUFBWSxHQUFHLG9EQUFvRCxzREFBc0QsTUFBTSxtQkFBbUIsU0FBUyxlQUFlLGdCQUFnQixNQUFNLGtCQUFrQixVQUFVLGdDQUFnQyx3QkFBd0Isc0RBQXNELGtCQUFrQiw4QkFBOEIsNEJBQTRCLGlCQUFpQix3QkFBd0IsZ0JBQWdCLGFBQWEsaUJBQWlCLGNBQWMsRUFBRSxTQUFTLHFCQUFxQixvSEFBb0gsVUFBVSw4QkFBOEIsVUFBVSwrQkFBK0IsV0FBVyxrQ0FBa0Msd0JBQXdCLDJCQUEyQixJQUFJLE1BQU0sa0JBQWtCLFNBQVMsV0FBVyw0Q0FBNEMsRUFBRSxnQkFBZ0IsV0FBVyxZQUFZLFdBQVcsY0FBYyxlQUFlLEtBQUssYUFBYSxLQUFLLGdDQUFnQyxnQkFBZ0IsWUFBWSxJQUFJLEtBQUssZ0JBQWdCLDJDQUEyQyxHQUFHLFlBQVksMkNBQTJDLG9FQUFvRSxTQUFTLGNBQWMsdUNBQXVDLGlCQUFpQixZQUFZLFdBQVcseUJBQXlCLElBQUksbUJBQW1CLDhCQUE4QixhQUFhLFFBQVEsU0FBUyxLQUFLLHlDQUF5QyxPQUFPLDBCQUEwQixpQkFBaUIsV0FBVyxvQkFBb0IsU0FBUyw0REFBNEQsRUFBRSxzQkFBc0IsMkJBQTJCLEVBQUUsWUFBWSxvREFBb0QsRUFBRSxzQkFBc0Isd0JBQXdCLEVBQUUsWUFBWSwwREFBMEQsRUFBRSxzQkFBc0Isd0JBQXdCLEVBQUUsYUFBYSwrQ0FBK0MsRUFBRSxzQkFBc0IseUJBQXlCLEVBQUUsWUFBWSxtRUFBbUUsUUFBUSx3RUFBd0UsRUFBRSxzQkFBc0Isd0NBQXdDLEVBQUUsWUFBWSxtRkFBbUYsUUFBUSx3RkFBd0YsUUFBUSx1RkFBdUYsUUFBUSw0RkFBNEYsUUFBUSxzRkFBc0YsUUFBUSwyRkFBMkYsUUFBUSwwRkFBMEYsUUFBUSwrRkFBK0YsUUFBUSxvRkFBb0YsRUFBRSxzQkFBc0Isc0pBQXNKLEVBQUUsYUFBYSx5RUFBeUUsU0FBUyw4RUFBOEUsRUFBRSxzQkFBc0Isd0NBQXdDLEVBQUUsYUFBYSxrR0FBa0csU0FBUyxxR0FBcUcsRUFBRSxzQkFBc0IsNENBQTRDLEVBQUUsWUFBWSxtSEFBbUgsUUFBUSx1SEFBdUgsUUFBUSxzSEFBc0gsUUFBUSwwSEFBMEgsRUFBRSxzQkFBc0IsbUVBQW1FLEVBQUUsd0JBQXdCLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdB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RSxHQUFHLHFDQUFxQyxFQUFFLDRCQUE0QixxRUFBRSxvQkFBb0IsMEVBQUMseUVBQXlFLDZDQUE2QyxpQkFBaUIsaUJBQWlCLCtGQUErRixvS0FBb0ssa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLDhDQUE4QyxpQkFBaUIsd0RBQUUsQ0FBQyxlQUFlLE1BQU0sK0pBQStKLGdEQUFFLDhmQUE4ZixrQ0FBa0MsSUFBSSxpQkFBaUIsU0FBUyxxRUFBcUUsbUNBQW1DLGdCQUFnQixFQUFFLEVBQUUsbURBQW1ELFNBQVMsZ2NBQWdjLFNBQVMsNkNBQTZDLHNIQUFzSCxzQkFBc0IsS0FBSyxRQUFRLDhFQUFFLEVBQUUsc0VBQXNFLEdBQUcsaUNBQWlDLENBQUMsNkVBQUUsRUFBRSx3RUFBd0UsRUFBRSxzSUFBc0ksUUFBUSxpSUFBaUkseUNBQXlDLEdBQUcsY0FBYywwRUFBQyxpQ0FBaUMsK0RBQUUsNEtBQTRLLHNFQUFFLFNBQVMsOENBQThDLDZFQUE2RSxzUUFBc1EscUJBQXFCLGtCQUFrQixxQkFBcUIscUNBQXFDLHVDQUF1QyxjQUFjLE9BQU8sdUVBQUMsY0FBYyxjQUFjLDBDQUEwQyxvQkFBb0IsTUFBTSw2REFBNkQseUNBQXlDLEVBQUUsaUNBQWlDLHVJQUF1SSxtQkFBbUIsaUNBQWlDLElBQUksK1JBQStSLFNBQVMsaUVBQWlFLFdBQVcsbUNBQW1DLG9CQUFvQixJQUFJLHNDQUFzQyw4QkFBOEIsRUFBRSxPQUFPLEVBQUUsUUFBUSx3TUFBd00sZUFBZSx1QkFBdUIsU0FBUywwREFBMEQsUUFBUSxpQkFBaUIsTUFBTSxJQUFJLHNDQUFzQyw4QkFBOEIsb0RBQW9ELEVBQUUsZ0JBQWdCLFNBQVMsMkRBQTJELHVCQUF1QixJQUFJLGNBQWMsT0FBTyxNQUFNLE9BQU8sa0NBQWtDLE1BQU0sV0FBVyxZQUFpN0Q7QUFDNzA2RiIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFlpLHtFdmVudEVtaXR0ZXIgYXMgaWV9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e0hFQVJUQkVBVF9FVkVOVFMgYXMgc2UsSGVhcnRCZWF0IGFzIEppfWZyb21cIkB3YWxsZXRjb25uZWN0L2hlYXJ0YmVhdFwiO2ltcG9ydCBYaSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9rZXl2YWx1ZXN0b3JhZ2VcIjtpbXBvcnR7Z2VuZXJhdGVDaGlsZExvZ2dlciBhcyBGLGdldExvZ2dlckNvbnRleHQgYXMgQixnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBaaSxnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyIGFzIFFpfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJTWVzc2FnZVRyYWNrZXIgYXMgZXMsSVB1Ymxpc2hlciBhcyB0cyxJU3Vic2NyaWJlciBhcyBpcyxJUmVsYXllciBhcyBzcyxJU3RvcmUgYXMgcnMsSUpzb25ScGNIaXN0b3J5IGFzIG5zLElFeHBpcmVyIGFzIG9zLElWZXJpZnkgYXMgYXMsSUVjaG9DbGllbnQgYXMgY3MsSUV2ZW50Q2xpZW50IGFzIGhzLElDb3JlIGFzIGxzfWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e09ORV9EQVkgYXMgcmUsU0lYX0hPVVJTIGFzIHVzLFRISVJUWV9EQVlTIGFzIFJlLEZJVkVfU0VDT05EUyBhcyBBZSxUSElSVFlfU0VDT05EUyBhcyB4ZSx0b01pbGlzZWNvbmRzIGFzICQsT05FX01JTlVURSBhcyBpdCxPTkVfU0VDT05EIGFzIFEsRklWRV9NSU5VVEVTIGFzIGxlLGZyb21NaWxpc2Vjb25kcyBhcyBzdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGRzLHNhZmVKc29uUGFyc2UgYXMgcnR9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0KmFzIEllIGZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIG50fWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7bWFwVG9PYmogYXMgTmUsb2JqVG9NYXAgYXMgJGUsZ2V0SW50ZXJuYWxFcnJvciBhcyBiLGdlbmVyYXRlUmFuZG9tQnl0ZXMzMiBhcyB6ZSxnZW5lcmF0ZUtleVBhaXIgYXMgcHMsZGVyaXZlU3ltS2V5IGFzIGdzLGhhc2hLZXkgYXMgeXMsdmFsaWRhdGVFbmNvZGluZyBhcyBicyxpc1R5cGVUd29FbnZlbG9wZSBhcyBvdCxlbmNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgbXMsaXNUeXBlT25lRW52ZWxvcGUgYXMgYXQsZW5jcnlwdCBhcyBmcyx2YWxpZGF0ZURlY29kaW5nIGFzIERzLGRlY29kZVR5cGVUd29FbnZlbG9wZSBhcyB2cyxkZWNyeXB0IGFzIF9zLGRlc2VyaWFsaXplIGFzIGN0LGRlY29kZVR5cGVCeXRlIGFzIHdzLEJBU0U2NCBhcyBodCxCQVNFMTYgYXMgRXMsaGFzaE1lc3NhZ2UgYXMgVGUsZ2V0UmVsYXlQcm90b2NvbEFwaSBhcyBuZSxnZXRSZWxheVByb3RvY29sTmFtZSBhcyBDZSxpc1VuZGVmaW5lZCBhcyB1ZSxjcmVhdGVFeHBpcmluZ1Byb21pc2UgYXMgSCxnZXRTZGtFcnJvciBhcyBkZSxzbGVlcCBhcyBJcyxjcmVhdGVMb2dnZXIgYXMgVHMsaXNBbmRyb2lkIGFzIENzLGdldEFwcElkIGFzIGx0LGlzSW9zIGFzIFBzLGlzT25saW5lIGFzIHV0LGNhbGNFeHBpcnkgYXMgcGUsaXNOb2RlIGFzIGR0LGZvcm1hdFJlbGF5UnBjVXJsIGFzIFNzLHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSBhcyBPcyxpc0FwcFZpc2libGUgYXMgUnMsaXNQcm9wb3NhbFN0cnVjdCBhcyBBcyxpc1Nlc3Npb25TdHJ1Y3QgYXMgeHMscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIE5zLFRZUEVfMSBhcyAkcyxmb3JtYXRVcmkgYXMgcHQscGFyc2VVcmkgYXMgZ3QsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgenMsZW5naW5lRXZlbnQgYXMgTGUsaXNFeHBpcmVkIGFzIHl0LGlzVmFsaWRQYXJhbXMgYXMga2UsaXNWYWxpZFVybCBhcyBMcyxpc1ZhbGlkU3RyaW5nIGFzIGtzLGZvcm1hdFRvcGljVGFyZ2V0IGFzIGpzLGZvcm1hdElkVGFyZ2V0IGFzIFVzLGlzVGVzdFJ1biBhcyBidCxpc0Jyb3dzZXIgYXMgRnMsdmVyaWZ5UDI1Nkp3dCBhcyBNcyx1dWlkdjQgYXMgbXQsZm9ybWF0VUEgYXMgS3MsZ2V0QXBwTWV0YWRhdGEgYXMgQnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7dG9TdHJpbmcgYXMgVnN9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIHFzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Z2V0QmlnSW50UnBjSWQgYXMgamUsaXNKc29uUnBjUmVxdWVzdCBhcyBmdCxpc0pzb25ScGNSZXNwb25zZSBhcyBEdCxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHZ0LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIF90LGZvcm1hdEpzb25ScGNFcnJvciBhcyBHcyxpc0pzb25ScGNSZXN1bHQgYXMgV3MsaXNKc29uUnBjRXJyb3IgYXMgd3R9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydCBIcyBmcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb25cIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgWXN9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtjb25zdCBVZT1cIndjXCIsRmU9MixnZT1cImNvcmVcIixXPWAke1VlfUAyOiR7Z2V9OmAsRXQ9e25hbWU6Z2UsbG9nZ2VyOlwiZXJyb3JcIn0sSXQ9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sVHQ9XCJjcnlwdG9cIixNZT1cImNsaWVudF9lZDI1NTE5X3NlZWRcIixDdD1yZSxQdD1cImtleWNoYWluXCIsU3Q9XCIwLjNcIixPdD1cIm1lc3NhZ2VzXCIsUnQ9XCIwLjNcIixBdD11cyx4dD1cInB1Ymxpc2hlclwiLE50PVwiaXJuXCIsJHQ9XCJlcnJvclwiLEtlPVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIix6dD1cInJlbGF5ZXJcIixDPXttZXNzYWdlOlwicmVsYXllcl9tZXNzYWdlXCIsbWVzc2FnZV9hY2s6XCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsY29ubmVjdDpcInJlbGF5ZXJfY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJyZWxheWVyX2Rpc2Nvbm5lY3RcIixlcnJvcjpcInJlbGF5ZXJfZXJyb3JcIixjb25uZWN0aW9uX3N0YWxsZWQ6XCJyZWxheWVyX2Nvbm5lY3Rpb25fc3RhbGxlZFwiLHRyYW5zcG9ydF9jbG9zZWQ6XCJyZWxheWVyX3RyYW5zcG9ydF9jbG9zZWRcIixwdWJsaXNoOlwicmVsYXllcl9wdWJsaXNoXCJ9LEx0PVwiX3N1YnNjcmlwdGlvblwiLE09e3BheWxvYWQ6XCJwYXlsb2FkXCIsY29ubmVjdDpcImNvbm5lY3RcIixkaXNjb25uZWN0OlwiZGlzY29ubmVjdFwiLGVycm9yOlwiZXJyb3JcIn0sa3Q9LjEsSnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sUGU9XCIyLjIyLjRcIixYcz0xZTQsZWU9e2xpbmtfbW9kZTpcImxpbmtfbW9kZVwiLHJlbGF5OlwicmVsYXlcIn0seWU9e2luYm91bmQ6XCJpbmJvdW5kXCIsb3V0Ym91bmQ6XCJvdXRib3VuZFwifSxqdD1cIjAuM1wiLFV0PVwiV0FMTEVUQ09OTkVDVF9DTElFTlRfSURcIixCZT1cIldBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFNcIixqPXtjcmVhdGVkOlwic3Vic2NyaXB0aW9uX2NyZWF0ZWRcIixkZWxldGVkOlwic3Vic2NyaXB0aW9uX2RlbGV0ZWRcIixleHBpcmVkOlwic3Vic2NyaXB0aW9uX2V4cGlyZWRcIixkaXNhYmxlZDpcInN1YnNjcmlwdGlvbl9kaXNhYmxlZFwiLHN5bmM6XCJzdWJzY3JpcHRpb25fc3luY1wiLHJlc3Vic2NyaWJlZDpcInN1YnNjcmlwdGlvbl9yZXN1YnNjcmliZWRcIn0sWnM9UmUsRnQ9XCJzdWJzY3JpcHRpb25cIixNdD1cIjAuM1wiLFFzPUFlKjFlMyxLdD1cInBhaXJpbmdcIixCdD1cIjAuM1wiLGVyPVJlLG9lPXt3Y19wYWlyaW5nRGVsZXRlOntyZXE6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjFlM30scmVzOnt0dGw6cmUscHJvbXB0OiExLHRhZzoxMDAxfX0sd2NfcGFpcmluZ1Bpbmc6e3JlcTp7dHRsOnhlLHByb21wdDohMSx0YWc6MTAwMn0scmVzOnt0dGw6eGUscHJvbXB0OiExLHRhZzoxMDAzfX0sdW5yZWdpc3RlcmVkX21ldGhvZDp7cmVxOnt0dGw6cmUscHJvbXB0OiExLHRhZzowfSxyZXM6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjB9fX0sYWU9e2NyZWF0ZTpcInBhaXJpbmdfY3JlYXRlXCIsZXhwaXJlOlwicGFpcmluZ19leHBpcmVcIixkZWxldGU6XCJwYWlyaW5nX2RlbGV0ZVwiLHBpbmc6XCJwYWlyaW5nX3BpbmdcIn0sVj17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxWdD1cImhpc3RvcnlcIixxdD1cIjAuM1wiLEd0PVwiZXhwaXJlclwiLHE9e2NyZWF0ZWQ6XCJleHBpcmVyX2NyZWF0ZWRcIixkZWxldGVkOlwiZXhwaXJlcl9kZWxldGVkXCIsZXhwaXJlZDpcImV4cGlyZXJfZXhwaXJlZFwiLHN5bmM6XCJleHBpcmVyX3N5bmNcIn0sV3Q9XCIwLjNcIix0cj1yZSxIdD1cInZlcmlmeS1hcGlcIixpcj1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3QuY29tXCIsWXQ9XCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0Lm9yZ1wiLGJlPVl0LEp0PWAke2JlfS92M2AsWHQ9W2lyLFl0XSxadD1cImVjaG9cIixRdD1cImh0dHBzOi8vZWNoby53YWxsZXRjb25uZWN0LmNvbVwiLHNyPVwiZXZlbnQtY2xpZW50XCIsWT17cGFpcmluZ19zdGFydGVkOlwicGFpcmluZ19zdGFydGVkXCIscGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzOlwicGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzXCIscGFpcmluZ191cmlfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZFwiLHN0b3JlX25ld19wYWlyaW5nOlwic3RvcmVfbmV3X3BhaXJpbmdcIixzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljOlwic3Vic2NyaWJpbmdfcGFpcmluZ190b3BpY1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzXCIsZXhpc3RpbmdfcGFpcmluZzpcImV4aXN0aW5nX3BhaXJpbmdcIixwYWlyaW5nX25vdF9leHBpcmVkOlwicGFpcmluZ19ub3RfZXhwaXJlZFwiLGVtaXRfaW5hY3RpdmVfcGFpcmluZzpcImVtaXRfaW5hY3RpdmVfcGFpcmluZ1wiLGVtaXRfc2Vzc2lvbl9wcm9wb3NhbDpcImVtaXRfc2Vzc2lvbl9wcm9wb3NhbFwiLHN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ190b19wYWlyaW5nX3RvcGljXCJ9LFg9e25vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG1hbGZvcm1lZF9wYWlyaW5nX3VyaTpcIm1hbGZvcm1lZF9wYWlyaW5nX3VyaVwiLGFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzOlwiYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHNcIixzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZVwiLHBhaXJpbmdfZXhwaXJlZDpcInBhaXJpbmdfZXhwaXJlZFwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIscHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kOlwicHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kXCJ9LHJyPXtzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDpcInNlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIscHJvcG9zYWxfbm90X2V4cGlyZWQ6XCJwcm9wb3NhbF9ub3RfZXhwaXJlZFwiLHNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzXCIsY3JlYXRlX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlXCIsc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIixzdG9yZV9zZXNzaW9uOlwic3RvcmVfc2Vzc2lvblwiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGU6XCJwdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlXCIsc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzXCIsc2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3N0YXJ0ZWQ6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2Vfc3RhcnRlZFwiLHNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV92YWxpZGF0aW9uX3N1Y2Nlc3M6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9zdWNjZXNzXCIsc2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3B1Ymxpc2hfc3RhcnRlZDpcInNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX3N0YXJ0ZWRcIn0sbnI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmVcIixwcm9wb3NhbF9ub3RfZm91bmQ6XCJwcm9wb3NhbF9ub3RfZm91bmRcIixzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9yZXF1ZXN0X3Jlc3BvbnNlX3ZhbGlkYXRpb25fZmFpbHVyZVwiLHNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX2ZhaWx1cmU6XCJzZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfcHVibGlzaF9mYWlsdXJlXCJ9LG9yPXthdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnQ6XCJjaGFpbnNfY2FpcDJfY29tcGxpYW50XCIsY2hhaW5zX2V2bV9jb21wbGlhbnQ6XCJjaGFpbnNfZXZtX2NvbXBsaWFudFwiLGNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJjcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsY2FjYW9zX3ZlcmlmaWVkOlwiY2FjYW9zX3ZlcmlmaWVkXCIsc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uOlwic3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uXCIsc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOlwic3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIscHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZTpcInB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIn0sYXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdDpcIm1pc3Npbmdfc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdFwiLHNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZDpcInNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZFwiLGNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZVwiLGNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmU6XCJjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlXCIsaW52YWxpZF9jYWNhbzpcImludmFsaWRfY2FjYW9cIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmVcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kXCJ9LGVpPS4xLHRpPVwiZXZlbnQtY2xpZW50XCIsaWk9ODY0MDAsc2k9XCJodHRwczovL3B1bHNlLndhbGxldGNvbm5lY3Qub3JnL2JhdGNoXCI7ZnVuY3Rpb24gY3IocixlKXtpZihyLmxlbmd0aD49MjU1KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMjU2KSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT0yNTU7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXIuY2hhckF0KHMpLG89bi5jaGFyQ29kZUF0KDApO2lmKHRbb10hPT0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihuK1wiIGlzIGFtYmlndW91c1wiKTt0W29dPXN9dmFyIGE9ci5sZW5ndGgsYz1yLmNoYXJBdCgwKSxoPU1hdGgubG9nKGEpL01hdGgubG9nKDI1NiksbD1NYXRoLmxvZygyNTYpL01hdGgubG9nKGEpO2Z1bmN0aW9uIGcodSl7aWYodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fChBcnJheUJ1ZmZlci5pc1ZpZXcodSk/dT1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcix1LmJ5dGVPZmZzZXQsdS5ieXRlTGVuZ3RoKTpBcnJheS5pc0FycmF5KHUpJiYodT1VaW50OEFycmF5LmZyb20odSkpKSwhKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgVWludDhBcnJheVwiKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIG09MCxEPTAsdz0wLEU9dS5sZW5ndGg7dyE9PUUmJnVbd109PT0wOyl3KyssbSsrO2Zvcih2YXIgTD0oRS13KSpsKzE+Pj4wLEk9bmV3IFVpbnQ4QXJyYXkoTCk7dyE9PUU7KXtmb3IodmFyIGs9dVt3XSxUPTAsUz1MLTE7KGshPT0wfHxUPEQpJiZTIT09LTE7Uy0tLFQrKylrKz0yNTYqSVtTXT4+PjAsSVtTXT1rJWE+Pj4wLGs9ay9hPj4+MDtpZihrIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtEPVQsdysrfWZvcih2YXIgTz1MLUQ7TyE9PUwmJklbT109PT0wOylPKys7Zm9yKHZhciB0ZT1jLnJlcGVhdChtKTtPPEw7KytPKXRlKz1yLmNoYXJBdChJW09dKTtyZXR1cm4gdGV9ZnVuY3Rpb24geSh1KXtpZih0eXBlb2YgdSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dmFyIG09MDtpZih1W21dIT09XCIgXCIpe2Zvcih2YXIgRD0wLHc9MDt1W21dPT09YzspRCsrLG0rKztmb3IodmFyIEU9KHUubGVuZ3RoLW0pKmgrMT4+PjAsTD1uZXcgVWludDhBcnJheShFKTt1W21dOyl7dmFyIEk9dFt1LmNoYXJDb2RlQXQobSldO2lmKEk9PT0yNTUpcmV0dXJuO2Zvcih2YXIgaz0wLFQ9RS0xOyhJIT09MHx8azx3KSYmVCE9PS0xO1QtLSxrKyspSSs9YSpMW1RdPj4+MCxMW1RdPUklMjU2Pj4+MCxJPUkvMjU2Pj4+MDtpZihJIT09MCl0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTt3PWssbSsrfWlmKHVbbV0hPT1cIiBcIil7Zm9yKHZhciBTPUUtdztTIT09RSYmTFtTXT09PTA7KVMrKztmb3IodmFyIE89bmV3IFVpbnQ4QXJyYXkoRCsoRS1TKSksdGU9RDtTIT09RTspT1t0ZSsrXT1MW1MrK107cmV0dXJuIE99fX1mdW5jdGlvbiBfKHUpe3ZhciBtPXkodSk7aWYobSlyZXR1cm4gbTt0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApfXJldHVybntlbmNvZGU6ZyxkZWNvZGVVbnNhZmU6eSxkZWNvZGU6X319dmFyIGhyPWNyLGxyPWhyO2NvbnN0IHJpPXI9PntpZihyIGluc3RhbmNlb2YgVWludDhBcnJheSYmci5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCIpcmV0dXJuIHI7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheShyKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcocikpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX0sdXI9cj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpLGRyPXI9Pm5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyKTtjbGFzcyBwcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aX1lbmNvZGUoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDt0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y2xhc3MgZ3J7Y29uc3RydWN0b3IoZSx0LGkpe2lmKHRoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdC5jb2RlUG9pbnRBdCgwKT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByZWZpeCBjaGFyYWN0ZXJcIik7dGhpcy5wcmVmaXhDb2RlUG9pbnQ9dC5jb2RlUG9pbnRBdCgwKSx0aGlzLmJhc2VEZWNvZGU9aX1kZWNvZGUoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKGUuY29kZVBvaW50QXQoMCkhPT10aGlzLnByZWZpeENvZGVQb2ludCl0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7cmV0dXJuIHRoaXMuYmFzZURlY29kZShlLnNsaWNlKHRoaXMucHJlZml4Lmxlbmd0aCkpfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW4gb25seSBtdWx0aWJhc2UgZGVjb2RlIHN0cmluZ3NcIil9b3IoZSl7cmV0dXJuIG5pKHRoaXMsZSl9fWNsYXNzIHlye2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVjb2RlcnM9ZX1vcihlKXtyZXR1cm4gbmkodGhpcyxlKX1kZWNvZGUoZSl7Y29uc3QgdD1lWzBdLGk9dGhpcy5kZWNvZGVyc1t0XTtpZihpKXJldHVybiBpLmRlY29kZShlKTt0aHJvdyBSYW5nZUVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sIG9ubHkgaW5wdXRzIHByZWZpeGVkIHdpdGggJHtPYmplY3Qua2V5cyh0aGlzLmRlY29kZXJzKX0gYXJlIHN1cHBvcnRlZGApfX1jb25zdCBuaT0ocixlKT0+bmV3IHlyKHsuLi5yLmRlY29kZXJzfHx7W3IucHJlZml4XTpyfSwuLi5lLmRlY29kZXJzfHx7W2UucHJlZml4XTplfX0pO2NsYXNzIGJye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdGhpcy5iYXNlRW5jb2RlPWksdGhpcy5iYXNlRGVjb2RlPXMsdGhpcy5lbmNvZGVyPW5ldyBwcihlLHQsaSksdGhpcy5kZWNvZGVyPW5ldyBncihlLHQscyl9ZW5jb2RlKGUpe3JldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVyLmRlY29kZShlKX19Y29uc3QgU2U9KHtuYW1lOnIscHJlZml4OmUsZW5jb2RlOnQsZGVjb2RlOml9KT0+bmV3IGJyKHIsZSx0LGkpLG1lPSh7cHJlZml4OnIsbmFtZTplLGFscGhhYmV0OnR9KT0+e2NvbnN0e2VuY29kZTppLGRlY29kZTpzfT1scih0LGUpO3JldHVybiBTZSh7cHJlZml4OnIsbmFtZTplLGVuY29kZTppLGRlY29kZTpuPT5yaShzKG4pKX0pfSxtcj0ocixlLHQsaSk9Pntjb25zdCBzPXt9O2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKXNbZVtsXV09bDtsZXQgbj1yLmxlbmd0aDtmb3IoO3Jbbi0xXT09PVwiPVwiOyktLW47Y29uc3Qgbz1uZXcgVWludDhBcnJheShuKnQvOHwwKTtsZXQgYT0wLGM9MCxoPTA7Zm9yKGxldCBsPTA7bDxuOysrbCl7Y29uc3QgZz1zW3JbbF1dO2lmKGc9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtpfSBjaGFyYWN0ZXJgKTtjPWM8PHR8ZyxhKz10LGE+PTgmJihhLT04LG9baCsrXT0yNTUmYz4+YSl9aWYoYT49dHx8MjU1JmM8PDgtYSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBkYXRhXCIpO3JldHVybiBvfSxmcj0ocixlLHQpPT57Y29uc3QgaT1lW2UubGVuZ3RoLTFdPT09XCI9XCIscz0oMTw8dCktMTtsZXQgbj1cIlwiLG89MCxhPTA7Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDsrK2MpZm9yKGE9YTw8OHxyW2NdLG8rPTg7bz50OylvLT10LG4rPWVbcyZhPj5vXTtpZihvJiYobis9ZVtzJmE8PHQtb10pLGkpZm9yKDtuLmxlbmd0aCp0Jjc7KW4rPVwiPVwiO3JldHVybiBufSx4PSh7bmFtZTpyLHByZWZpeDplLGJpdHNQZXJDaGFyOnQsYWxwaGFiZXQ6aX0pPT5TZSh7cHJlZml4OmUsbmFtZTpyLGVuY29kZShzKXtyZXR1cm4gZnIocyxpLHQpfSxkZWNvZGUocyl7cmV0dXJuIG1yKHMsaSx0LHIpfX0pLERyPVNlKHtwcmVmaXg6XCJcXDBcIixuYW1lOlwiaWRlbnRpdHlcIixlbmNvZGU6cj0+ZHIociksZGVjb2RlOnI9PnVyKHIpfSk7dmFyIHZyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OkRyfSk7Y29uc3QgX3I9eCh7cHJlZml4OlwiMFwiLG5hbWU6XCJiYXNlMlwiLGFscGhhYmV0OlwiMDFcIixiaXRzUGVyQ2hhcjoxfSk7dmFyIHdyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyOl9yfSk7Y29uc3QgRXI9eCh7cHJlZml4OlwiN1wiLG5hbWU6XCJiYXNlOFwiLGFscGhhYmV0OlwiMDEyMzQ1NjdcIixiaXRzUGVyQ2hhcjozfSk7dmFyIElyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U4OkVyfSk7Y29uc3QgVHI9bWUoe3ByZWZpeDpcIjlcIixuYW1lOlwiYmFzZTEwXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5XCJ9KTt2YXIgQ3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTEwOlRyfSk7Y29uc3QgUHI9eCh7cHJlZml4OlwiZlwiLG5hbWU6XCJiYXNlMTZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZcIixiaXRzUGVyQ2hhcjo0fSksU3I9eCh7cHJlZml4OlwiRlwiLG5hbWU6XCJiYXNlMTZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRlwiLGJpdHNQZXJDaGFyOjR9KTt2YXIgT3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTE2OlByLGJhc2UxNnVwcGVyOlNyfSk7Y29uc3QgUnI9eCh7cHJlZml4OlwiYlwiLG5hbWU6XCJiYXNlMzJcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLEFyPXgoe3ByZWZpeDpcIkJcIixuYW1lOlwiYmFzZTMydXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLHhyPXgoe3ByZWZpeDpcImNcIixuYW1lOlwiYmFzZTMycGFkXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksTnI9eCh7cHJlZml4OlwiQ1wiLG5hbWU6XCJiYXNlMzJwYWR1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLCRyPXgoe3ByZWZpeDpcInZcIixuYW1lOlwiYmFzZTMyaGV4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dlwiLGJpdHNQZXJDaGFyOjV9KSx6cj14KHtwcmVmaXg6XCJWXCIsbmFtZTpcImJhc2UzMmhleHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLGJpdHNQZXJDaGFyOjV9KSxMcj14KHtwcmVmaXg6XCJ0XCIsbmFtZTpcImJhc2UzMmhleHBhZFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXY9XCIsYml0c1BlckNoYXI6NX0pLGtyPXgoe3ByZWZpeDpcIlRcIixuYW1lOlwiYmFzZTMyaGV4cGFkdXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWPVwiLGJpdHNQZXJDaGFyOjV9KSxqcj14KHtwcmVmaXg6XCJoXCIsbmFtZTpcImJhc2UzMnpcIixhbHBoYWJldDpcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsYml0c1BlckNoYXI6NX0pO3ZhciBVcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzI6UnIsYmFzZTMydXBwZXI6QXIsYmFzZTMycGFkOnhyLGJhc2UzMnBhZHVwcGVyOk5yLGJhc2UzMmhleDokcixiYXNlMzJoZXh1cHBlcjp6cixiYXNlMzJoZXhwYWQ6THIsYmFzZTMyaGV4cGFkdXBwZXI6a3IsYmFzZTMyejpqcn0pO2NvbnN0IEZyPW1lKHtwcmVmaXg6XCJrXCIsbmFtZTpcImJhc2UzNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJ9KSxNcj1tZSh7cHJlZml4OlwiS1wiLG5hbWU6XCJiYXNlMzZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJ9KTt2YXIgS3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTM2OkZyLGJhc2UzNnVwcGVyOk1yfSk7Y29uc3QgQnI9bWUoe25hbWU6XCJiYXNlNThidGNcIixwcmVmaXg6XCJ6XCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCJ9KSxWcj1tZSh7bmFtZTpcImJhc2U1OGZsaWNrclwiLHByZWZpeDpcIlpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIn0pO3ZhciBxcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNThidGM6QnIsYmFzZTU4ZmxpY2tyOlZyfSk7Y29uc3QgR3I9eCh7cHJlZml4OlwibVwiLG5hbWU6XCJiYXNlNjRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiaXRzUGVyQ2hhcjo2fSksV3I9eCh7cHJlZml4OlwiTVwiLG5hbWU6XCJiYXNlNjRwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYml0c1BlckNoYXI6Nn0pLEhyPXgoe3ByZWZpeDpcInVcIixuYW1lOlwiYmFzZTY0dXJsXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsYml0c1BlckNoYXI6Nn0pLFlyPXgoe3ByZWZpeDpcIlVcIixuYW1lOlwiYmFzZTY0dXJscGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLGJpdHNQZXJDaGFyOjZ9KTt2YXIgSnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTY0OkdyLGJhc2U2NHBhZDpXcixiYXNlNjR1cmw6SHIsYmFzZTY0dXJscGFkOllyfSk7Y29uc3Qgb2k9QXJyYXkuZnJvbShcIlxcdXsxRjY4MH1cXHV7MUZBOTB9XFx1MjYwNFxcdXsxRjZGMH1cXHV7MUYzMEN9XFx1ezFGMzExfVxcdXsxRjMxMn1cXHV7MUYzMTN9XFx1ezFGMzE0fVxcdXsxRjMxNX1cXHV7MUYzMTZ9XFx1ezFGMzE3fVxcdXsxRjMxOH1cXHV7MUYzMER9XFx1ezFGMzBGfVxcdXsxRjMwRX1cXHV7MUY0MDl9XFx1MjYwMFxcdXsxRjRCQn1cXHV7MUY1QTV9XFx1ezFGNEJFfVxcdXsxRjRCRn1cXHV7MUY2MDJ9XFx1Mjc2NFxcdXsxRjYwRH1cXHV7MUY5MjN9XFx1ezFGNjBBfVxcdXsxRjY0Rn1cXHV7MUY0OTV9XFx1ezFGNjJEfVxcdXsxRjYxOH1cXHV7MUY0NER9XFx1ezFGNjA1fVxcdXsxRjQ0Rn1cXHV7MUY2MDF9XFx1ezFGNTI1fVxcdXsxRjk3MH1cXHV7MUY0OTR9XFx1ezFGNDk2fVxcdXsxRjQ5OX1cXHV7MUY2MjJ9XFx1ezFGOTE0fVxcdXsxRjYwNn1cXHV7MUY2NDR9XFx1ezFGNEFBfVxcdXsxRjYwOX1cXHUyNjNBXFx1ezFGNDRDfVxcdXsxRjkxN31cXHV7MUY0OUN9XFx1ezFGNjE0fVxcdXsxRjYwRX1cXHV7MUY2MDd9XFx1ezFGMzM5fVxcdXsxRjkyNn1cXHV7MUYzODl9XFx1ezFGNDlFfVxcdTI3MENcXHUyNzI4XFx1ezFGOTM3fVxcdXsxRjYzMX1cXHV7MUY2MEN9XFx1ezFGMzM4fVxcdXsxRjY0Q31cXHV7MUY2MEJ9XFx1ezFGNDk3fVxcdXsxRjQ5QX1cXHV7MUY2MEZ9XFx1ezFGNDlCfVxcdXsxRjY0Mn1cXHV7MUY0OTN9XFx1ezFGOTI5fVxcdXsxRjYwNH1cXHV7MUY2MDB9XFx1ezFGNUE0fVxcdXsxRjYwM31cXHV7MUY0QUZ9XFx1ezFGNjQ4fVxcdXsxRjQ0N31cXHV7MUYzQjZ9XFx1ezFGNjEyfVxcdXsxRjkyRH1cXHUyNzYzXFx1ezFGNjFDfVxcdXsxRjQ4Qn1cXHV7MUY0NDB9XFx1ezFGNjJBfVxcdXsxRjYxMX1cXHV7MUY0QTV9XFx1ezFGNjRCfVxcdXsxRjYxRX1cXHV7MUY2Mjl9XFx1ezFGNjIxfVxcdXsxRjkyQX1cXHV7MUY0NEF9XFx1ezFGOTczfVxcdXsxRjYyNX1cXHV7MUY5MjR9XFx1ezFGNDQ5fVxcdXsxRjQ4M31cXHV7MUY2MzN9XFx1MjcwQlxcdXsxRjYxQX1cXHV7MUY2MUR9XFx1ezFGNjM0fVxcdXsxRjMxRn1cXHV7MUY2MkN9XFx1ezFGNjQzfVxcdXsxRjM0MH1cXHV7MUYzMzd9XFx1ezFGNjNCfVxcdXsxRjYxM31cXHUyQjUwXFx1MjcwNVxcdXsxRjk3QX1cXHV7MUYzMDh9XFx1ezFGNjA4fVxcdXsxRjkxOH1cXHV7MUY0QTZ9XFx1MjcxNFxcdXsxRjYyM31cXHV7MUYzQzN9XFx1ezFGNDkwfVxcdTI2MzlcXHV7MUYzOEF9XFx1ezFGNDk4fVxcdXsxRjYyMH1cXHUyNjFEXFx1ezFGNjE1fVxcdXsxRjMzQX1cXHV7MUYzODJ9XFx1ezFGMzNCfVxcdXsxRjYxMH1cXHV7MUY1OTV9XFx1ezFGNDlEfVxcdXsxRjY0QX1cXHV7MUY2Mzl9XFx1ezFGNUUzfVxcdXsxRjRBQn1cXHV7MUY0ODB9XFx1ezFGNDUxfVxcdXsxRjNCNX1cXHV7MUY5MUV9XFx1ezFGNjFCfVxcdXsxRjUzNH1cXHV7MUY2MjR9XFx1ezFGMzNDfVxcdXsxRjYyQn1cXHUyNkJEXFx1ezFGOTE5fVxcdTI2MTVcXHV7MUYzQzZ9XFx1ezFGOTJCfVxcdXsxRjQ0OH1cXHV7MUY2MkV9XFx1ezFGNjQ2fVxcdXsxRjM3Qn1cXHV7MUYzNDN9XFx1ezFGNDM2fVxcdXsxRjQ4MX1cXHV7MUY2MzJ9XFx1ezFGMzNGfVxcdXsxRjlFMX1cXHV7MUYzODF9XFx1MjZBMVxcdXsxRjMxRX1cXHV7MUYzODh9XFx1Mjc0Q1xcdTI3MEFcXHV7MUY0NEJ9XFx1ezFGNjMwfVxcdXsxRjkyOH1cXHV7MUY2MzZ9XFx1ezFGOTFEfVxcdXsxRjZCNn1cXHV7MUY0QjB9XFx1ezFGMzUzfVxcdXsxRjRBMn1cXHV7MUY5MUZ9XFx1ezFGNjQxfVxcdXsxRjZBOH1cXHV7MUY0QTh9XFx1ezFGOTJDfVxcdTI3MDhcXHV7MUYzODB9XFx1ezFGMzdBfVxcdXsxRjkxM31cXHV7MUY2MTl9XFx1ezFGNDlGfVxcdXsxRjMzMX1cXHV7MUY2MTZ9XFx1ezFGNDc2fVxcdXsxRjk3NH1cXHUyNUI2XFx1MjdBMVxcdTI3NTNcXHV7MUY0OEV9XFx1ezFGNEI4fVxcdTJCMDdcXHV7MUY2Mjh9XFx1ezFGMzFBfVxcdXsxRjk4Qn1cXHV7MUY2Mzd9XFx1ezFGNTdBfVxcdTI2QTBcXHV7MUY2NDV9XFx1ezFGNjFGfVxcdXsxRjYzNX1cXHV7MUY0NEV9XFx1ezFGOTMyfVxcdXsxRjkyMH1cXHV7MUY5Mjd9XFx1ezFGNENDfVxcdXsxRjUzNX1cXHV7MUY0ODV9XFx1ezFGOUQwfVxcdXsxRjQzRX1cXHV7MUYzNTJ9XFx1ezFGNjE3fVxcdXsxRjkxMX1cXHV7MUYzMEF9XFx1ezFGOTJGfVxcdXsxRjQzN31cXHUyNjBFXFx1ezFGNEE3fVxcdXsxRjYyRn1cXHV7MUY0ODZ9XFx1ezFGNDQ2fVxcdXsxRjNBNH1cXHV7MUY2NDd9XFx1ezFGMzUxfVxcdTI3NDRcXHV7MUYzMzR9XFx1ezFGNEEzfVxcdXsxRjQzOH1cXHV7MUY0OEN9XFx1ezFGNENEfVxcdXsxRjk0MH1cXHV7MUY5MjJ9XFx1ezFGNDQ1fVxcdXsxRjRBMX1cXHV7MUY0QTl9XFx1ezFGNDUwfVxcdXsxRjRGOH1cXHV7MUY0N0J9XFx1ezFGOTEwfVxcdXsxRjkyRX1cXHV7MUYzQkN9XFx1ezFGOTc1fVxcdXsxRjZBOX1cXHV7MUYzNEV9XFx1ezFGMzRBfVxcdXsxRjQ3Q31cXHV7MUY0OER9XFx1ezFGNEUzfVxcdXsxRjk0Mn1cIiksWHI9b2kucmVkdWNlKChyLGUsdCk9PihyW3RdPWUsciksW10pLFpyPW9pLnJlZHVjZSgocixlLHQpPT4ocltlLmNvZGVQb2ludEF0KDApXT10LHIpLFtdKTtmdW5jdGlvbiBRcihyKXtyZXR1cm4gci5yZWR1Y2UoKGUsdCk9PihlKz1Yclt0XSxlKSxcIlwiKX1mdW5jdGlvbiBlbihyKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IGk9WnJbdC5jb2RlUG9pbnRBdCgwKV07aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYE5vbi1iYXNlMjU2ZW1vamkgY2hhcmFjdGVyOiAke3R9YCk7ZS5wdXNoKGkpfXJldHVybiBuZXcgVWludDhBcnJheShlKX1jb25zdCB0bj1TZSh7cHJlZml4OlwiXFx1ezFGNjgwfVwiLG5hbWU6XCJiYXNlMjU2ZW1vamlcIixlbmNvZGU6UXIsZGVjb2RlOmVufSk7dmFyIHNuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyNTZlbW9qaTp0bn0pLHJuPWNpLGFpPTEyOCxubj0xMjcsb249fm5uLGFuPU1hdGgucG93KDIsMzEpO2Z1bmN0aW9uIGNpKHIsZSx0KXtlPWV8fFtdLHQ9dHx8MDtmb3IodmFyIGk9dDtyPj1hbjspZVt0KytdPXImMjU1fGFpLHIvPTEyODtmb3IoO3Imb247KWVbdCsrXT1yJjI1NXxhaSxyPj4+PTc7cmV0dXJuIGVbdF09cnwwLGNpLmJ5dGVzPXQtaSsxLGV9dmFyIGNuPVZlLGhuPTEyOCxoaT0xMjc7ZnVuY3Rpb24gVmUocixpKXt2YXIgdD0wLGk9aXx8MCxzPTAsbj1pLG8sYT1yLmxlbmd0aDtkb3tpZihuPj1hKXRocm93IFZlLmJ5dGVzPTAsbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTtvPXJbbisrXSx0Kz1zPDI4PyhvJmhpKTw8czoobyZoaSkqTWF0aC5wb3coMixzKSxzKz03fXdoaWxlKG8+PWhuKTtyZXR1cm4gVmUuYnl0ZXM9bi1pLHR9dmFyIGxuPU1hdGgucG93KDIsNyksdW49TWF0aC5wb3coMiwxNCksZG49TWF0aC5wb3coMiwyMSkscG49TWF0aC5wb3coMiwyOCksZ249TWF0aC5wb3coMiwzNSkseW49TWF0aC5wb3coMiw0MiksYm49TWF0aC5wb3coMiw0OSksbW49TWF0aC5wb3coMiw1NiksZm49TWF0aC5wb3coMiw2MyksRG49ZnVuY3Rpb24ocil7cmV0dXJuIHI8bG4/MTpyPHVuPzI6cjxkbj8zOnI8cG4/NDpyPGduPzU6cjx5bj82OnI8Ym4/NzpyPG1uPzg6cjxmbj85OjEwfSx2bj17ZW5jb2RlOnJuLGRlY29kZTpjbixlbmNvZGluZ0xlbmd0aDpEbn0sbGk9dm47Y29uc3QgdWk9KHIsZSx0PTApPT4obGkuZW5jb2RlKHIsZSx0KSxlKSxkaT1yPT5saS5lbmNvZGluZ0xlbmd0aChyKSxxZT0ocixlKT0+e2NvbnN0IHQ9ZS5ieXRlTGVuZ3RoLGk9ZGkocikscz1pK2RpKHQpLG49bmV3IFVpbnQ4QXJyYXkocyt0KTtyZXR1cm4gdWkocixuLDApLHVpKHQsbixpKSxuLnNldChlLHMpLG5ldyBfbihyLHQsZSxuKX07Y2xhc3MgX257Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5jb2RlPWUsdGhpcy5zaXplPXQsdGhpcy5kaWdlc3Q9aSx0aGlzLmJ5dGVzPXN9fWNvbnN0IHBpPSh7bmFtZTpyLGNvZGU6ZSxlbmNvZGU6dH0pPT5uZXcgd24ocixlLHQpO2NsYXNzIHdue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9dCx0aGlzLmVuY29kZT1pfWRpZ2VzdChlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSl7Y29uc3QgdD10aGlzLmVuY29kZShlKTtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cWUodGhpcy5jb2RlLHQpOnQudGhlbihpPT5xZSh0aGlzLmNvZGUsaSkpfWVsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNvbnN0IGdpPXI9PmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHIsZSkpLEVuPXBpKHtuYW1lOlwic2hhMi0yNTZcIixjb2RlOjE4LGVuY29kZTpnaShcIlNIQS0yNTZcIil9KSxJbj1waSh7bmFtZTpcInNoYTItNTEyXCIsY29kZToxOSxlbmNvZGU6Z2koXCJTSEEtNTEyXCIpfSk7dmFyIFRuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoYTI1NjpFbixzaGE1MTI6SW59KTtjb25zdCB5aT0wLENuPVwiaWRlbnRpdHlcIixiaT1yaSxQbj1yPT5xZSh5aSxiaShyKSksU249e2NvZGU6eWksbmFtZTpDbixlbmNvZGU6YmksZGlnZXN0OlBufTt2YXIgT249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6U259KTtuZXcgVGV4dEVuY29kZXIsbmV3IFRleHREZWNvZGVyO2NvbnN0IG1pPXsuLi52ciwuLi53ciwuLi5JciwuLi5DciwuLi5PciwuLi5VciwuLi5LciwuLi5xciwuLi5KciwuLi5zbn07KHsuLi5UbiwuLi5Pbn0pO2Z1bmN0aW9uIGZpKHIpe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbD9uZXcgVWludDhBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTpyfWZ1bmN0aW9uIFJuKHI9MCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSE9bnVsbD9maShnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShyKSk6bmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gRGkocixlLHQsaSl7cmV0dXJue25hbWU6cixwcmVmaXg6ZSxlbmNvZGVyOntuYW1lOnIscHJlZml4OmUsZW5jb2RlOnR9LGRlY29kZXI6e2RlY29kZTppfX19Y29uc3Qgdmk9RGkoXCJ1dGY4XCIsXCJ1XCIscj0+XCJ1XCIrbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUocikscj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIuc3Vic3RyaW5nKDEpKSksR2U9RGkoXCJhc2NpaVwiLFwiYVwiLHI9PntsZXQgZT1cImFcIjtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0pO3JldHVybiBlfSxyPT57cj1yLnN1YnN0cmluZygxKTtjb25zdCBlPVJuKHIubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllW3RdPXIuY2hhckNvZGVBdCh0KTtyZXR1cm4gZX0pLEFuPXt1dGY4OnZpLFwidXRmLThcIjp2aSxoZXg6bWkuYmFzZTE2LGxhdGluMTpHZSxhc2NpaTpHZSxiaW5hcnk6R2UsLi4ubWl9O2Z1bmN0aW9uIHhuKHIsZT1cInV0ZjhcIil7Y29uc3QgdD1BbltlXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP2ZpKGdsb2JhbFRoaXMuQnVmZmVyLmZyb20ocixcInV0Zi04XCIpKTp0LmRlY29kZXIuZGVjb2RlKGAke3QucHJlZml4fSR7cn1gKX12YXIgTm49T2JqZWN0LmRlZmluZVByb3BlcnR5LCRuPShyLGUsdCk9PmUgaW4gcj9ObihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSj0ocixlLHQpPT4kbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIF9pe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxKKHRoaXMsXCJrZXljaGFpblwiLG5ldyBNYXApLEoodGhpcyxcIm5hbWVcIixQdCksSih0aGlzLFwidmVyc2lvblwiLFN0KSxKKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxKKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksSih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldEtleUNoYWluKCk7dHlwZW9mIGk8XCJ1XCImJih0aGlzLmtleWNoYWluPWkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9fSksSih0aGlzLFwiaGFzXCIsaT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uaGFzKGkpKSksSih0aGlzLFwic2V0XCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uc2V0KGkscyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxKKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmtleWNoYWluLmdldChpKTtpZih0eXBlb2Ygcz5cInVcIil7Y29uc3R7bWVzc2FnZTpufT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1yZXR1cm4gc30pLEoodGhpcyxcImRlbFwiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1hc3luYyBzZXRLZXlDaGFpbihlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxOZShlKSl9YXN5bmMgZ2V0S2V5Q2hhaW4oKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldEtleUNoYWluKHRoaXMua2V5Y2hhaW4pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgem49T2JqZWN0LmRlZmluZVByb3BlcnR5LExuPShyLGUsdCk9PmUgaW4gcj96bihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUj0ocixlLHQpPT5MbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIHdpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFIodGhpcyxcIm5hbWVcIixUdCksUih0aGlzLFwia2V5Y2hhaW5cIiksUih0aGlzLFwicmFuZG9tU2Vzc2lvbklkZW50aWZpZXJcIix6ZSgpKSxSKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxSKHRoaXMsXCJjbGllbnRJZFwiKSxSKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmtleWNoYWluLmluaXQoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFIodGhpcyxcImhhc0tleXNcIixzPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMocykpKSxSKHRoaXMsXCJnZXRDbGllbnRJZFwiLGFzeW5jKCk9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmNsaWVudElkKXJldHVybiB0aGlzLmNsaWVudElkO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbj1JZS5nZW5lcmF0ZUtleVBhaXIocyksbz1JZS5lbmNvZGVJc3Mobi5wdWJsaWNLZXkpO3JldHVybiB0aGlzLmNsaWVudElkPW8sb30pLFIodGhpcyxcImdlbmVyYXRlS2V5UGFpclwiLCgpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1wcygpO3JldHVybiB0aGlzLnNldFByaXZhdGVLZXkocy5wdWJsaWNLZXkscy5wcml2YXRlS2V5KX0pLFIodGhpcyxcInNpZ25KV1RcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj1hd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSxvPUllLmdlbmVyYXRlS2V5UGFpcihuKSxhPXRoaXMucmFuZG9tU2Vzc2lvbklkZW50aWZpZXIsYz1DdDtyZXR1cm4gYXdhaXQgSWUuc2lnbkpXVChhLHMsYyxvKX0pLFIodGhpcyxcImdlbmVyYXRlU2hhcmVkS2V5XCIsKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9dGhpcy5nZXRQcml2YXRlS2V5KHMpLGM9Z3MoYSxuKTtyZXR1cm4gdGhpcy5zZXRTeW1LZXkoYyxvKX0pLFIodGhpcyxcInNldFN5bUtleVwiLGFzeW5jKHMsbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPW58fHlzKHMpO3JldHVybiBhd2FpdCB0aGlzLmtleWNoYWluLnNldChvLHMpLG99KSxSKHRoaXMsXCJkZWxldGVLZXlQYWlyXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUih0aGlzLFwiZGVsZXRlU3ltS2V5XCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUih0aGlzLFwiZW5jb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1icyhvKSxjPWRzKG4pO2lmKG90KGEpKXJldHVybiBtcyhjLG8/LmVuY29kaW5nKTtpZihhdChhKSl7Y29uc3QgeT1hLnNlbmRlclB1YmxpY0tleSxfPWEucmVjZWl2ZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KHksXyl9Y29uc3QgaD10aGlzLmdldFN5bUtleShzKSx7dHlwZTpsLHNlbmRlclB1YmxpY0tleTpnfT1hO3JldHVybiBmcyh7dHlwZTpsLHN5bUtleTpoLG1lc3NhZ2U6YyxzZW5kZXJQdWJsaWNLZXk6ZyxlbmNvZGluZzpvPy5lbmNvZGluZ30pfSksUih0aGlzLFwiZGVjb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1EcyhuLG8pO2lmKG90KGEpKXtjb25zdCBjPXZzKG4sbz8uZW5jb2RpbmcpO3JldHVybiBydChjKX1pZihhdChhKSl7Y29uc3QgYz1hLnJlY2VpdmVyUHVibGljS2V5LGg9YS5zZW5kZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KGMsaCl9dHJ5e2NvbnN0IGM9dGhpcy5nZXRTeW1LZXkocyksaD1fcyh7c3ltS2V5OmMsZW5jb2RlZDpuLGVuY29kaW5nOm8/LmVuY29kaW5nfSk7cmV0dXJuIHJ0KGgpfWNhdGNoKGMpe3RoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gZGVjb2RlIG1lc3NhZ2UgZnJvbSB0b3BpYzogJyR7c30nLCBjbGllbnRJZDogJyR7YXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpfSdgKSx0aGlzLmxvZ2dlci5lcnJvcihjKX19KSxSKHRoaXMsXCJnZXRQYXlsb2FkVHlwZVwiLChzLG49aHQpPT57Y29uc3Qgbz1jdCh7ZW5jb2RlZDpzLGVuY29kaW5nOm59KTtyZXR1cm4gd3Moby50eXBlKX0pLFIodGhpcyxcImdldFBheWxvYWRTZW5kZXJQdWJsaWNLZXlcIiwocyxuPWh0KT0+e2NvbnN0IG89Y3Qoe2VuY29kZWQ6cyxlbmNvZGluZzpufSk7cmV0dXJuIG8uc2VuZGVyUHVibGljS2V5P1ZzKG8uc2VuZGVyUHVibGljS2V5LEVzKTp2b2lkIDB9KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1GKHQsdGhpcy5uYW1lKSx0aGlzLmtleWNoYWluPWl8fG5ldyBfaSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWFzeW5jIHNldFByaXZhdGVLZXkoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoZSx0KSxlfWdldFByaXZhdGVLZXkoZSl7cmV0dXJuIHRoaXMua2V5Y2hhaW4uZ2V0KGUpfWFzeW5jIGdldENsaWVudFNlZWQoKXtsZXQgZT1cIlwiO3RyeXtlPXRoaXMua2V5Y2hhaW4uZ2V0KE1lKX1jYXRjaHtlPXplKCksYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoTWUsZSl9cmV0dXJuIHhuKGUsXCJiYXNlMTZcIil9Z2V0U3ltS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09YihcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIGtuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxVbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxFaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEZuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTW49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxXZT0ocixlLHQpPT5lIGluIHI/a24ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEtuPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlGbi5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtpZihFaSlmb3IodmFyIHQgb2YgRWkoZSkpTW4uY2FsbChlLHQpJiZXZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEJuPShyLGUpPT5qbihyLFVuKGUpKSxLPShyLGUsdCk9PldlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgSWkgZXh0ZW5kcyBlc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5sb2dnZXI9ZSx0aGlzLmNvcmU9dCxLKHRoaXMsXCJtZXNzYWdlc1wiLG5ldyBNYXApLEsodGhpcyxcIm1lc3NhZ2VzV2l0aG91dENsaWVudEFja1wiLG5ldyBNYXApLEsodGhpcyxcIm5hbWVcIixPdCksSyh0aGlzLFwidmVyc2lvblwiLFJ0KSxLKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxLKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksSyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlcygpO3R5cGVvZiBpPFwidVwiJiYodGhpcy5tZXNzYWdlcz1pKTtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpO3R5cGVvZiBzPFwidVwiJiYodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2s9cyksdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzaXplOnRoaXMubWVzc2FnZXMuc2l6ZX0pfWNhdGNoKGkpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihpKX1maW5hbGx5e3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fX0pLEsodGhpcyxcInNldFwiLGFzeW5jKGkscyxuKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG89VGUocyk7bGV0IGE9dGhpcy5tZXNzYWdlcy5nZXQoaSk7aWYodHlwZW9mIGE+XCJ1XCImJihhPXt9KSx0eXBlb2YgYVtvXTxcInVcIilyZXR1cm4gbztpZihhW29dPXMsdGhpcy5tZXNzYWdlcy5zZXQoaSxhKSxuPT09eWUuaW5ib3VuZCl7Y29uc3QgYz10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSl8fHt9O3RoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChpLEJuKEtuKHt9LGMpLHtbb106c30pKX1yZXR1cm4gYXdhaXQgdGhpcy5wZXJzaXN0KCksb30pLEsodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgcz10aGlzLm1lc3NhZ2VzLmdldChpKTtyZXR1cm4gdHlwZW9mIHM+XCJ1XCImJihzPXt9KSxzfSksSyh0aGlzLFwiZ2V0V2l0aG91dEFja1wiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXt9O2Zvcihjb25zdCBuIG9mIGkpe2NvbnN0IG89dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KG4pfHx7fTtzW25dPU9iamVjdC52YWx1ZXMobyl9cmV0dXJuIHN9KSxLKHRoaXMsXCJoYXNcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5nZXQoaSksbz1UZShzKTtyZXR1cm4gdHlwZW9mIG5bb108XCJ1XCJ9KSxLKHRoaXMsXCJhY2tcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSk7aWYodHlwZW9mIG4+XCJ1XCIpcmV0dXJuO2NvbnN0IG89VGUocyk7ZGVsZXRlIG5bb10sT2JqZWN0LmtleXMobikubGVuZ3RoPT09MD90aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5kZWxldGUoaSk6dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suc2V0KGksbiksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxLKHRoaXMsXCJkZWxcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tZXNzYWdlcy5kZWxldGUoaSksdGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKGkpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5sb2dnZXI9RihlLHRoaXMubmFtZSksdGhpcy5jb3JlPXR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBzdG9yYWdlS2V5V2l0aG91dENsaWVudEFjaygpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWUrXCJfd2l0aG91dENsaWVudEFja1wifWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxOZShlKSl9YXN5bmMgc2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjayhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2ssTmUoZSkpfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlcygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj8kZShlKTp2b2lkIDB9YXN5bmMgZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrKTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlcyh0aGlzLm1lc3NhZ2VzKSxhd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2sodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2spfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVm49T2JqZWN0LmRlZmluZVByb3BlcnR5LHFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEduPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFRpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsV249T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxIbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEhlPShyLGUsdCk9PmUgaW4gcj9WbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsY2U9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVduLmNhbGwoZSx0KSYmSGUocix0LGVbdF0pO2lmKFRpKWZvcih2YXIgdCBvZiBUaShlKSlIbi5jYWxsKGUsdCkmJkhlKHIsdCxlW3RdKTtyZXR1cm4gcn0sQ2k9KHIsZSk9PnFuKHIsR24oZSkpLEc9KHIsZSx0KT0+SGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBZbiBleHRlbmRzIHRze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj10LEcodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksRyh0aGlzLFwibmFtZVwiLHh0KSxHKHRoaXMsXCJxdWV1ZVwiLG5ldyBNYXApLEcodGhpcyxcInB1Ymxpc2hUaW1lb3V0XCIsJChpdCkpLEcodGhpcyxcImluaXRpYWxQdWJsaXNoVGltZW91dFwiLCQoUSoxNSkpLEcodGhpcyxcIm5lZWRzVHJhbnNwb3J0UmVzdGFydFwiLCExKSxHKHRoaXMsXCJwdWJsaXNoXCIsYXN5bmMoaSxzLG4pPT57dmFyIG8sYSxjLGgsbDt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e3RvcGljOmksbWVzc2FnZTpzLG9wdHM6bn19KTtjb25zdCBnPW4/LnR0bHx8QXQseT1uPy5wcm9tcHR8fCExLF89bj8udGFnfHwwLHU9bj8uaWR8fGplKCkudG9TdHJpbmcoKSxtPW5lKENlKCkucHJvdG9jb2wpLEQ9e2lkOnUsbWV0aG9kOm4/LnB1Ymxpc2hNZXRob2R8fG0ucHVibGlzaCxwYXJhbXM6Y2Uoe3RvcGljOmksbWVzc2FnZTpzLHR0bDpnLHByb21wdDp5LHRhZzpfLGF0dGVzdGF0aW9uOm4/LmF0dGVzdGF0aW9ufSxuPy50dmYpfSx3PWBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke3V9IHRhZzoke199YDt0cnl7dWUoKG89RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpvLnByb21wdCkmJigoYT1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBhLnByb21wdCksdWUoKGM9RC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpjLnRhZykmJigoaD1ELnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBoLnRhZyk7Y29uc3QgRT1uZXcgUHJvbWlzZShhc3luYyBMPT57Y29uc3QgST0oe2lkOlR9KT0+e3ZhciBTOygoUz1ELmlkKT09bnVsbD92b2lkIDA6Uy50b1N0cmluZygpKT09PVQudG9TdHJpbmcoKSYmKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShUKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxJKSxMKCkpfTt0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEMucHVibGlzaCxJKTtjb25zdCBrPUgobmV3IFByb21pc2UoKFQsUyk9Pnt0aGlzLnJwY1B1Ymxpc2goRCxuKS50aGVuKFQpLmNhdGNoKE89Pnt0aGlzLmxvZ2dlci53YXJuKE8sTz8ubWVzc2FnZSksUyhPKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBpZDoke3V9IHRhZzoke199YCk7dHJ5e2F3YWl0IGssdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLEkpfWNhdGNoKFQpe3RoaXMucXVldWUuc2V0KHUse3JlcXVlc3Q6RCxvcHRzOm4sYXR0ZW1wdDoxfSksdGhpcy5sb2dnZXIud2FybihULFQ/Lm1lc3NhZ2UpfX0pO3RoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7aWQ6dSx0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSksYXdhaXQgSChFLHRoaXMucHVibGlzaFRpbWVvdXQsdyl9Y2F0Y2goRSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKEUpLChsPW4/LmludGVybmFsKSE9bnVsbCYmbC50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyBFfWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUodSl9fSksRyh0aGlzLFwicHVibGlzaEN1c3RvbVwiLGFzeW5jIGk9Pnt2YXIgcyxuLG8sYSxjO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBjdXN0b20gcGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hDdXN0b21cIixwYXJhbXM6aX0pO2NvbnN0e3BheWxvYWQ6aCxvcHRzOmw9e319PWkse2F0dGVzdGF0aW9uOmcsdHZmOnkscHVibGlzaE1ldGhvZDpfLHByb21wdDp1LHRhZzptLHR0bDpEPWxlfT1sLHc9bC5pZHx8amUoKS50b1N0cmluZygpLEU9bmUoQ2UoKS5wcm90b2NvbCksTD1ffHxFLnB1Ymxpc2gsST17aWQ6dyxtZXRob2Q6TCxwYXJhbXM6Y2UoQ2koY2Uoe30saCkse3R0bDpELHByb21wdDp1LHRhZzptLGF0dGVzdGF0aW9uOmd9KSx5KX0saz1gRmFpbGVkIHRvIHB1Ymxpc2ggY3VzdG9tIHBheWxvYWQsIHBsZWFzZSB0cnkgYWdhaW4uIGlkOiR7d30gdGFnOiR7bX1gO3RyeXt1ZSgocz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOnMucHJvbXB0KSYmKChuPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIG4ucHJvbXB0KSx1ZSgobz1JLnBhcmFtcyk9PW51bGw/dm9pZCAwOm8udGFnKSYmKChhPUkucGFyYW1zKT09bnVsbHx8ZGVsZXRlIGEudGFnKTtjb25zdCBUPW5ldyBQcm9taXNlKGFzeW5jIFM9Pntjb25zdCBPPSh7aWQ6Wn0pPT57dmFyIHdlOygod2U9SS5pZCk9PW51bGw/dm9pZCAwOndlLnRvU3RyaW5nKCkpPT09Wi50b1N0cmluZygpJiYodGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKFopLHRoaXMucmVsYXllci5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLE8pLFMoKSl9O3RoaXMucmVsYXllci5ldmVudHMub24oQy5wdWJsaXNoLE8pO2NvbnN0IHRlPUgobmV3IFByb21pc2UoKFosd2UpPT57dGhpcy5ycGNQdWJsaXNoKEksbCkudGhlbihaKS5jYXRjaChFZT0+e3RoaXMubG9nZ2VyLndhcm4oRWUsRWU/Lm1lc3NhZ2UpLHdlKEVlKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIGN1c3RvbSBwYXlsb2FkIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBtZXRob2Q6JHtMfSBpZDoke3d9IHRhZzoke219YCk7dHJ5e2F3YWl0IHRlLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxPKX1jYXRjaChaKXt0aGlzLnF1ZXVlLnNldCh3LHtyZXF1ZXN0Okksb3B0czpsLGF0dGVtcHQ6MX0pLHRoaXMubG9nZ2VyLndhcm4oWixaPy5tZXNzYWdlKX19KTt0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e2lkOncscGF5bG9hZDpoLG9wdHM6bH19KSxhd2FpdCBIKFQsdGhpcy5wdWJsaXNoVGltZW91dCxrKX1jYXRjaChUKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBQdWJsaXNoIFBheWxvYWRcIiksdGhpcy5sb2dnZXIuZXJyb3IoVCksKGM9bD8uaW50ZXJuYWwpIT1udWxsJiZjLnRocm93T25GYWlsZWRQdWJsaXNoKXRocm93IFR9ZmluYWxseXt0aGlzLnF1ZXVlLmRlbGV0ZSh3KX19KSxHKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLEcodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLEcodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxHKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWFzeW5jIHJwY1B1Ymxpc2goZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXNzYWdlXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0OmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucmVsYXllci5yZXF1ZXN0KGUpO3JldHVybiB0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5wdWJsaXNoLGNlKGNlKHt9LGUpLHQpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBQdWJsaXNoZWQgUGF5bG9hZFwiKSxpfXJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZSl7dGhpcy5xdWV1ZS5kZWxldGUoZSl9Y2hlY2tRdWV1ZSgpe3RoaXMucXVldWUuZm9yRWFjaChhc3luYyhlLHQpPT57dmFyIGk7Y29uc3Qgcz1lLmF0dGVtcHQrMTt0aGlzLnF1ZXVlLnNldCh0LENpKGNlKHt9LGUpLHthdHRlbXB0OnN9KSksdGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGluZzogJHtlLnJlcXVlc3QuaWR9LCB0YWc6ICR7KGk9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmkudGFnfSwgYXR0ZW1wdDogJHtzfWApLGF3YWl0IHRoaXMucnBjUHVibGlzaChlLnJlcXVlc3QsZS5vcHRzKSx0aGlzLmxvZ2dlci53YXJuKHt9LGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoZWQ6ICR7ZS5yZXF1ZXN0LmlkfWApfSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e2lmKHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0KXt0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydD0hMSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpO3JldHVybn10aGlzLmNoZWNrUXVldWUoKX0pLHRoaXMucmVsYXllci5vbihDLm1lc3NhZ2VfYWNrLGU9Pnt0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZS5pZC50b1N0cmluZygpKX0pfX12YXIgSm49T2JqZWN0LmRlZmluZVByb3BlcnR5LFhuPShyLGUsdCk9PmUgaW4gcj9KbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsaGU9KHIsZSx0KT0+WG4ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBabntjb25zdHJ1Y3Rvcigpe2hlKHRoaXMsXCJtYXBcIixuZXcgTWFwKSxoZSh0aGlzLFwic2V0XCIsKGUsdCk9Pntjb25zdCBpPXRoaXMuZ2V0KGUpO3RoaXMuZXhpc3RzKGUsdCl8fHRoaXMubWFwLnNldChlLFsuLi5pLHRdKX0pLGhlKHRoaXMsXCJnZXRcIixlPT50aGlzLm1hcC5nZXQoZSl8fFtdKSxoZSh0aGlzLFwiZXhpc3RzXCIsKGUsdCk9PnRoaXMuZ2V0KGUpLmluY2x1ZGVzKHQpKSxoZSh0aGlzLFwiZGVsZXRlXCIsKGUsdCk9PntpZih0eXBlb2YgdD5cInVcIil7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn1pZighdGhpcy5tYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPXRoaXMuZ2V0KGUpO2lmKCF0aGlzLmV4aXN0cyhlLHQpKXJldHVybjtjb25zdCBzPWkuZmlsdGVyKG49Pm4hPT10KTtpZighcy5sZW5ndGgpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59dGhpcy5tYXAuc2V0KGUscyl9KSxoZSh0aGlzLFwiY2xlYXJcIiwoKT0+e3RoaXMubWFwLmNsZWFyKCl9KX1nZXQgdG9waWNzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX19dmFyIFFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxlbz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx0bz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxQaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGlvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksc289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxZZT0ocixlLHQpPT5lIGluIHI/UW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGZlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlpby5jYWxsKGUsdCkmJlllKHIsdCxlW3RdKTtpZihQaSlmb3IodmFyIHQgb2YgUGkoZSkpc28uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEplPShyLGUpPT5lbyhyLHRvKGUpKSxmPShyLGUsdCk9PlllKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgU2kgZXh0ZW5kcyBpc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxmKHRoaXMsXCJzdWJzY3JpcHRpb25zXCIsbmV3IE1hcCksZih0aGlzLFwidG9waWNNYXBcIixuZXcgWm4pLGYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksZih0aGlzLFwibmFtZVwiLEZ0KSxmKHRoaXMsXCJ2ZXJzaW9uXCIsTXQpLGYodGhpcyxcInBlbmRpbmdcIixuZXcgTWFwKSxmKHRoaXMsXCJjYWNoZWRcIixbXSksZih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksZih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLGYodGhpcyxcInN1YnNjcmliZVRpbWVvdXRcIiwkKGl0KSksZih0aGlzLFwiaW5pdGlhbFN1YnNjcmliZVRpbWVvdXRcIiwkKFEqMTUpKSxmKHRoaXMsXCJjbGllbnRJZFwiKSxmKHRoaXMsXCJiYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0XCIsNTAwKSxmKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IHRoaXMucmVzdG9yZSgpKSx0aGlzLmluaXRpYWxpemVkPSEwfSksZih0aGlzLFwic3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3ZhciBuO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pO3RyeXtjb25zdCBvPUNlKHMpLGE9e3RvcGljOmkscmVsYXk6byx0cmFuc3BvcnRUeXBlOnM/LnRyYW5zcG9ydFR5cGV9OyhuPXM/LmludGVybmFsKSE9bnVsbCYmbi5za2lwU3Vic2NyaWJlfHx0aGlzLnBlbmRpbmcuc2V0KGksYSk7Y29uc3QgYz1hd2FpdCB0aGlzLnJwY1N1YnNjcmliZShpLG8scyk7cmV0dXJuIHR5cGVvZiBjPT1cInN0cmluZ1wiJiYodGhpcy5vblN1YnNjcmliZShjLGEpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pKSxjfWNhdGNoKG8pe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihvKSxvfX0pLGYodGhpcyxcInVuc3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHR5cGVvZiBzPy5pZDxcInVcIj9hd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlJZChpLHMuaWQscyk6YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5VG9waWMoaSxzKX0pLGYodGhpcyxcImlzU3Vic2NyaWJlZFwiLGk9Pm5ldyBQcm9taXNlKHM9PntzKHRoaXMudG9waWNNYXAudG9waWNzLmluY2x1ZGVzKGkpKX0pKSxmKHRoaXMsXCJpc0tub3duVG9waWNcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKXx8dGhpcy5wZW5kaW5nLmhhcyhpKXx8dGhpcy5jYWNoZWQuc29tZShuPT5uLnRvcGljPT09aSkpfSkpLGYodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksZih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksZih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksZih0aGlzLFwic3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkNvbm5lY3QoKX0pLGYodGhpcyxcInN0b3BcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKX0pLGYodGhpcyxcInJlc3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5yZXN0b3JlKCksYXdhaXQgdGhpcy5vblJlc3RhcnQoKX0pLGYodGhpcyxcImNoZWNrUGVuZGluZ1wiLGFzeW5jKCk9PntpZih0aGlzLnBlbmRpbmcuc2l6ZT09PTAmJighdGhpcy5pbml0aWFsaXplZHx8IXRoaXMucmVsYXllci5jb25uZWN0ZWQpKXJldHVybjtjb25zdCBpPVtdO3RoaXMucGVuZGluZy5mb3JFYWNoKHM9PntpLnB1c2gocyl9KSxhd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKGkpfSksZih0aGlzLFwicmVnaXN0ZXJFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKHNlLnB1bHNlLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNoZWNrUGVuZGluZygpfSksdGhpcy5ldmVudHMub24oai5jcmVhdGVkLGFzeW5jIGk9Pntjb25zdCBzPWouY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihqLmRlbGV0ZWQsYXN5bmMgaT0+e2NvbnN0IHM9ai5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7c31gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6cyxkYXRhOml9KSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pfSksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5jbGllbnRJZD1cIlwifWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5yZWxheWVyLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNpemV9Z2V0IGlkcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMudmFsdWVzKCkpfWdldCB0b3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3N9Z2V0IGhhc0FueVRvcGljcygpe3JldHVybiB0aGlzLnRvcGljTWFwLnRvcGljcy5sZW5ndGg+MHx8dGhpcy5wZW5kaW5nLnNpemU+MHx8dGhpcy5jYWNoZWQubGVuZ3RoPjB8fHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplPjB9aGFzU3Vic2NyaXB0aW9uKGUsdCl7bGV0IGk9ITE7dHJ5e2k9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSkudG9waWM9PT10fWNhdGNoe31yZXR1cm4gaX1yZXNldCgpe3RoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9b25EaXNhYmxlKCl7dGhpcy52YWx1ZXMubGVuZ3RoPjAmJih0aGlzLmNhY2hlZD10aGlzLnZhbHVlcyksdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCksdGhpcy50b3BpY01hcC5jbGVhcigpfWFzeW5jIHVuc3Vic2NyaWJlQnlUb3BpYyhlLHQpe2NvbnN0IGk9dGhpcy50b3BpY01hcC5nZXQoZSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoYXN5bmMgcz0+YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoZSxzLHQpKSl9YXN5bmMgdW5zdWJzY3JpYmVCeUlkKGUsdCxpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVuc3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KTt0cnl7Y29uc3Qgcz1DZShpKTthd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOnQscmVsYXk6c30pLGF3YWl0IHRoaXMucnBjVW5zdWJzY3JpYmUoZSx0LHMpO2NvbnN0IG49ZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiLGAke3RoaXMubmFtZX0sICR7ZX1gKTthd2FpdCB0aGlzLm9uVW5zdWJzY3JpYmUoZSx0LG4pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFVuc3Vic2NyaWJlZCBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVuc3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzplLGlkOnQsb3B0czppfX0pfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFVuc3Vic2NyaWJlIFRvcGljXCIpLHRoaXMubG9nZ2VyLmVycm9yKHMpLHN9fWFzeW5jIHJwY1N1YnNjcmliZShlLHQsaSl7dmFyIHMsbjtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQoZSk7aWYoKHM9aT8uaW50ZXJuYWwpIT1udWxsJiZzLnNraXBTdWJzY3JpYmUpcmV0dXJuIG87KCFpfHxpPy50cmFuc3BvcnRUeXBlPT09ZWUucmVsYXkpJiZhd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOmUscmVsYXk6dH0pO2NvbnN0IGE9e21ldGhvZDpuZSh0LnByb3RvY29sKS5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDphfSk7Y29uc3QgYz0obj1pPy5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOm4udGhyb3dPbkZhaWxlZFB1Ymxpc2g7dHJ5e2lmKGk/LnRyYW5zcG9ydFR5cGU9PT1lZS5saW5rX21vZGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9PnsodGhpcy5yZWxheWVyLmNvbm5lY3RlZHx8dGhpcy5yZWxheWVyLmNvbm5lY3RpbmcpJiZ0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChnPT50aGlzLmxvZ2dlci53YXJuKGcpKX0sJChRKSksbztjb25zdCBoPW5ldyBQcm9taXNlKGFzeW5jIGc9Pntjb25zdCB5PV89PntfLnRvcGljPT09ZSYmKHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGouY3JlYXRlZCx5KSxnKF8uaWQpKX07dGhpcy5ldmVudHMub24oai5jcmVhdGVkLHkpO3RyeXtjb25zdCBfPWF3YWl0IEgobmV3IFByb21pc2UoKHUsbSk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChhKS5jYXRjaChEPT57dGhpcy5sb2dnZXIud2FybihELEQ/Lm1lc3NhZ2UpLG0oRCl9KS50aGVuKHUpfSksdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihqLmNyZWF0ZWQseSksZyhfKX1jYXRjaHt9fSksbD1hd2FpdCBIKGgsdGhpcy5zdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO2lmKCFsJiZjKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtyZXR1cm4gbD9vOm51bGx9Y2F0Y2goaCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBTdWJzY3JpYmUgUGF5bG9hZCBzdGFsbGVkXCIpLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCksYyl0aHJvdyBofXJldHVybiBudWxsfWFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LGk9e21ldGhvZDpuZSh0LnByb3RvY29sKS5iYXRjaFN1YnNjcmliZSxwYXJhbXM6e3RvcGljczplLm1hcChzPT5zLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO3RyeXthd2FpdCBhd2FpdCBIKG5ldyBQcm9taXNlKHM9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChuPT50aGlzLmxvZ2dlci53YXJuKG4pKS50aGVuKHMpfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hTdWJzY3JpYmUgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9fWFzeW5jIHJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6bmUodC5wcm90b2NvbCkuYmF0Y2hGZXRjaE1lc3NhZ2VzLHBhcmFtczp7dG9waWNzOmUubWFwKG49Pm4udG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSk7bGV0IHM7dHJ5e3M9YXdhaXQgYXdhaXQgSChuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKGE9Pnt0aGlzLmxvZ2dlci53YXJuKGEpLG8oYSl9KS50aGVuKG4pfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hGZXRjaE1lc3NhZ2VzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfXJldHVybiBzfXJwY1Vuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBzPXttZXRob2Q6bmUoaS5wcm90b2NvbCkudW5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplLGlkOnR9fTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpzfSksdGhpcy5yZWxheWVyLnJlcXVlc3Qocyl9b25TdWJzY3JpYmUoZSx0KXt0aGlzLnNldFN1YnNjcmlwdGlvbihlLEplKGZlKHt9LHQpLHtpZDplfSkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9b25CYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmZS5mb3JFYWNoKHQ9Pnt0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLGZlKHt9LHQpKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfSl9YXN5bmMgb25VbnN1YnNjcmliZShlLHQsaSl7dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpLHRoaXMuaGFzU3Vic2NyaXB0aW9uKHQsZSkmJnRoaXMuZGVsZXRlU3Vic2NyaXB0aW9uKHQsaSksYXdhaXQgdGhpcy5yZWxheWVyLm1lc3NhZ2VzLmRlbChlKX1hc3luYyBzZXRSZWxheWVyU3Vic2NyaXB0aW9ucyhlKXthd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfXNldFN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRTdWJzY3JpcHRpb25cIixpZDplLHN1YnNjcmlwdGlvbjp0fSksdGhpcy5hZGRTdWJzY3JpcHRpb24oZSx0KX1hZGRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KGUsZmUoe30sdCkpLHRoaXMudG9waWNNYXAuc2V0KHQudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdChqLmNyZWF0ZWQsdCl9Z2V0U3Vic2NyaXB0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRTdWJzY3JpcHRpb25cIixpZDplfSk7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfXJldHVybiB0fWRlbGV0ZVN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsaWQ6ZSxyZWFzb246dH0pO2NvbnN0IGk9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSk7dGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKSx0aGlzLnRvcGljTWFwLmRlbGV0ZShpLnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoai5kZWxldGVkLEplKGZlKHt9LGkpLHtyZWFzb246dH0pKX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChqLnN5bmMpfWFzeW5jIG9uUmVzdGFydCgpe2lmKHRoaXMuY2FjaGVkLmxlbmd0aCl7Y29uc3QgZT1bLi4udGhpcy5jYWNoZWRdLHQ9TWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aC90aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9ZS5zcGxpY2UoMCx0aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2F3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUocyl9fXRoaXMuZXZlbnRzLmVtaXQoai5yZXN1YnNjcmliZWQpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5zdWJzY3JpcHRpb25zLnNpemUmJiFlLmV2ZXJ5KHQ9Pnt2YXIgaTtyZXR1cm4gdC50b3BpYz09PSgoaT10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KHQuaWQpKT09bnVsbD92b2lkIDA6aS50b3BpYyl9KSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSx0aGlzLmxvZ2dlci5lcnJvcihgJHt0aGlzLm5hbWV9OiAke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX1gKSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHN1YnNjcmlwdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWFzeW5jIGJhdGNoU3Vic2NyaWJlKGUpe2UubGVuZ3RoJiYoYXdhaXQgdGhpcy5ycGNCYXRjaFN1YnNjcmliZShlKSx0aGlzLm9uQmF0Y2hTdWJzY3JpYmUoYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoYXN5bmMgdD0+SmUoZmUoe30sdCkse2lkOmF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQodC50b3BpYyl9KSkpKSl9YXN5bmMgYmF0Y2hGZXRjaE1lc3NhZ2VzKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47dGhpcy5sb2dnZXIudHJhY2UoYEZldGNoaW5nIGJhdGNoIG1lc3NhZ2VzIGZvciAke2UubGVuZ3RofSBzdWJzY3JpcHRpb25zYCk7Y29uc3QgdD1hd2FpdCB0aGlzLnJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKTt0JiZ0Lm1lc3NhZ2VzJiYoYXdhaXQgSXMoJChRKSksYXdhaXQgdGhpcy5yZWxheWVyLmhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyh0Lm1lc3NhZ2VzKSl9YXN5bmMgb25Db25uZWN0KCl7YXdhaXQgdGhpcy5yZXN0YXJ0KCksdGhpcy5yZXNldCgpfW9uRGlzY29ubmVjdCgpe3RoaXMub25EaXNhYmxlKCl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgcmVzdGFydFRvQ29tcGxldGUoZSl7IXRoaXMucmVsYXllci5jb25uZWN0ZWQmJiF0aGlzLnJlbGF5ZXIuY29ubmVjdGluZyYmKHRoaXMuY2FjaGVkLnB1c2goZSksYXdhaXQgdGhpcy5yZWxheWVyLnRyYW5zcG9ydE9wZW4oKSl9YXN5bmMgZ2V0Q2xpZW50SWQoKXtyZXR1cm4gdGhpcy5jbGllbnRJZHx8KHRoaXMuY2xpZW50SWQ9YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCkpLHRoaXMuY2xpZW50SWR9YXN5bmMgZ2V0U3Vic2NyaXB0aW9uSWQoZSl7cmV0dXJuIFRlKGUrYXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpKX19dmFyIHJvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxPaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLG5vPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksb289T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYZT0ocixlLHQpPT5lIGluIHI/cm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFJpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSluby5jYWxsKGUsdCkmJlhlKHIsdCxlW3RdKTtpZihPaSlmb3IodmFyIHQgb2YgT2koZSkpb28uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHA9KHIsZSx0KT0+WGUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBBaSBleHRlbmRzIHNze2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGUpLHAodGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxwKHRoaXMsXCJ2ZXJzaW9uXCIsMikscCh0aGlzLFwiY29yZVwiKSxwKHRoaXMsXCJsb2dnZXJcIikscCh0aGlzLFwiZXZlbnRzXCIsbmV3IGllKSxwKHRoaXMsXCJwcm92aWRlclwiKSxwKHRoaXMsXCJtZXNzYWdlc1wiKSxwKHRoaXMsXCJzdWJzY3JpYmVyXCIpLHAodGhpcyxcInB1Ymxpc2hlclwiKSxwKHRoaXMsXCJuYW1lXCIsenQpLHAodGhpcyxcInRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWRcIiwhMSkscCh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkscCh0aGlzLFwiY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzXCIsITEpLHAodGhpcyxcInJlbGF5VXJsXCIpLHAodGhpcyxcInByb2plY3RJZFwiKSxwKHRoaXMsXCJwYWNrYWdlTmFtZVwiKSxwKHRoaXMsXCJidW5kbGVJZFwiKSxwKHRoaXMsXCJoYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uXCIsITEpLHAodGhpcyxcInBpbmdUaW1lb3V0XCIpLHAodGhpcyxcImhlYXJ0QmVhdFRpbWVvdXRcIiwkKHhlK0FlKSkscCh0aGlzLFwicmVjb25uZWN0VGltZW91dFwiKSxwKHRoaXMsXCJjb25uZWN0UHJvbWlzZVwiKSxwKHRoaXMsXCJyZWNvbm5lY3RJblByb2dyZXNzXCIsITEpLHAodGhpcyxcInJlcXVlc3RzSW5GbGlnaHRcIixbXSkscCh0aGlzLFwiY29ubmVjdFRpbWVvdXRcIiwkKFEqMTUpKSxwKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgaT0+e3ZhciBzLG47dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFJlcXVlc3QgUGF5bG9hZFwiKTtjb25zdCBvPWkuaWR8fGplKCkudG9TdHJpbmcoKTthd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO3RyeXt0aGlzLmxvZ2dlci50cmFjZSh7aWQ6byxtZXRob2Q6aS5tZXRob2QsdG9waWM6KHM9aS5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnRvcGljfSxcInJlbGF5ZXIucmVxdWVzdCAtIHB1Ymxpc2hpbmcuLi5cIik7Y29uc3QgYT1gJHtvfTokeygobj1pLnBhcmFtcyk9PW51bGw/dm9pZCAwOm4udGFnKXx8XCJcIn1gO3RoaXMucmVxdWVzdHNJbkZsaWdodC5wdXNoKGEpO2NvbnN0IGM9YXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KGkpO3JldHVybiB0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9dGhpcy5yZXF1ZXN0c0luRmxpZ2h0LmZpbHRlcihoPT5oIT09YSksY31jYXRjaChhKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFB1Ymxpc2ggUmVxdWVzdDogJHtvfWApLGF9fSkscCh0aGlzLFwicmVzZXRQaW5nVGltZW91dFwiLCgpPT57ZHQoKSYmKGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KSx0aGlzLnBpbmdUaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt2YXIgaSxzLG4sbzt0cnl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJwaW5nVGltZW91dDogQ29ubmVjdGlvbiBzdGFsbGVkLCB0ZXJtaW5hdGluZy4uLlwiKSwobz0obj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsP3ZvaWQgMDpuLnRlcm1pbmF0ZSk9PW51bGx8fG8uY2FsbChuKX1jYXRjaChhKXt0aGlzLmxvZ2dlci53YXJuKGEsYT8ubWVzc2FnZSl9fSx0aGlzLmhlYXJ0QmVhdFRpbWVvdXQpKX0pLHAodGhpcyxcIm9uUGF5bG9hZEhhbmRsZXJcIixpPT57dGhpcy5vblByb3ZpZGVyUGF5bG9hZChpKSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pLHAodGhpcyxcIm9uQ29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGNvbm5lY3RlZCBcXHV7MUY2REN9XCIpLHRoaXMuc3RhcnRQaW5nVGltZW91dCgpLHRoaXMuZXZlbnRzLmVtaXQoQy5jb25uZWN0KX0pLHAodGhpcyxcIm9uRGlzY29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGRpc2Nvbm5lY3RlZCBcXHV7MUY2RDF9XCIpLHRoaXMucmVxdWVzdHNJbkZsaWdodD1bXSx0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9KSxwKHRoaXMsXCJvblByb3ZpZGVyRXJyb3JIYW5kbGVyXCIsaT0+e3RoaXMubG9nZ2VyLmZhdGFsKGBGYXRhbCBzb2NrZXQgZXJyb3I6ICR7aS5tZXNzYWdlfWApLHRoaXMuZXZlbnRzLmVtaXQoQy5lcnJvcixpKSx0aGlzLmxvZ2dlci5mYXRhbChcIkZhdGFsIHNvY2tldCBlcnJvciByZWNlaXZlZCwgY2xvc2luZyB0cmFuc3BvcnRcIiksdGhpcy50cmFuc3BvcnRDbG9zZSgpfSkscCh0aGlzLFwicmVnaXN0ZXJQcm92aWRlckxpc3RlbmVyc1wiLCgpPT57dGhpcy5wcm92aWRlci5vbihNLnBheWxvYWQsdGhpcy5vblBheWxvYWRIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTS5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vbihNLmVycm9yLHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlcil9KSx0aGlzLmNvcmU9ZS5jb3JlLHRoaXMubG9nZ2VyPVRzKHtsb2dnZXI6KHQ9ZS5sb2dnZXIpIT1udWxsP3Q6JHQsbmFtZTp0aGlzLm5hbWV9KSx0aGlzLm1lc3NhZ2VzPW5ldyBJaSh0aGlzLmxvZ2dlcixlLmNvcmUpLHRoaXMuc3Vic2NyaWJlcj1uZXcgU2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wdWJsaXNoZXI9bmV3IFluKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucHJvamVjdElkPWU/LnByb2plY3RJZCx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxLZSxDcygpP3RoaXMucGFja2FnZU5hbWU9bHQoKTpQcygpJiYodGhpcy5idW5kbGVJZD1sdCgpKSx0aGlzLnByb3ZpZGVyPXt9fWFzeW5jIGluaXQoKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLm1lc3NhZ2VzLmluaXQoKSx0aGlzLnN1YnNjcmliZXIuaW5pdCgpXSksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci53YXJuKGUsZT8ubWVzc2FnZSkpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBjb25uZWN0ZWQoKXt2YXIgZSx0LGk7cmV0dXJuKChpPSh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDp0LnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT0xfHwhMX1nZXQgY29ubmVjdGluZygpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTB8fHRoaXMuY29ubmVjdFByb21pc2UhPT12b2lkIDB8fCExfWFzeW5jIHB1Ymxpc2goZSx0LGkpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZSx0LGkpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KHt0b3BpYzplLG1lc3NhZ2U6dCxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6ZWUucmVsYXl9LHllLm91dGJvdW5kKX1hc3luYyBwdWJsaXNoQ3VzdG9tKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hDdXN0b20oZSl9YXN5bmMgc3Vic2NyaWJlKGUsdCl7dmFyIGkscyxuO3RoaXMuaXNJbml0aWFsaXplZCgpLCghKHQhPW51bGwmJnQudHJhbnNwb3J0VHlwZSl8fHQ/LnRyYW5zcG9ydFR5cGU9PT1cInJlbGF5XCIpJiZhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO2NvbnN0IG89dHlwZW9mKChpPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6aS50aHJvd09uRmFpbGVkUHVibGlzaCk+XCJ1XCI/ITA6KHM9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpzLnRocm93T25GYWlsZWRQdWJsaXNoO2xldCBhPSgobj10aGlzLnN1YnNjcmliZXIudG9waWNNYXAuZ2V0KGUpKT09bnVsbD92b2lkIDA6blswXSl8fFwiXCIsYztjb25zdCBoPWw9PntsLnRvcGljPT09ZSYmKHRoaXMuc3Vic2NyaWJlci5vZmYoai5jcmVhdGVkLGgpLGMoKSl9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UobD0+e2M9bCx0aGlzLnN1YnNjcmliZXIub24oai5jcmVhdGVkLGgpfSksbmV3IFByb21pc2UoYXN5bmMobCxnKT0+e2E9YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLFJpKHtpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6b319LHQpKS5jYXRjaCh5PT57byYmZyh5KX0pfHxhLGwoKX0pXSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci51bnN1YnNjcmliZShlLHQpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCl7dGhpcy5wcm92aWRlci5kaXNjb25uZWN0JiYodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9ufHx0aGlzLmNvbm5lY3RlZCk/YXdhaXQgSCh0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKSwyZTMsXCJwcm92aWRlci5kaXNjb25uZWN0KClcIikuY2F0Y2goKCk9PnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSk6dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydENsb3NlKCl7dGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydE9wZW4oZSl7aWYoIXRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3Mpe3RoaXMubG9nZ2VyLmluZm8oXCJTdGFydGluZyBXUyBjb25uZWN0aW9uIHNraXBwZWQgYmVjYXVzZSB0aGUgY2xpZW50IGhhcyBubyB0b3BpY3MgdG8gd29yayB3aXRoLlwiKTtyZXR1cm59aWYodGhpcy5jb25uZWN0UHJvbWlzZT8odGhpcy5sb2dnZXIuZGVidWcoe30sXCJXYWl0aW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgdG8gcmVzb2x2ZS4uLlwiKSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiRXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHJlc29sdmVkXCIpKToodGhpcy5jb25uZWN0UHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyh0LGkpPT57YXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2goaSkuZmluYWxseSgoKT0+e3RoaXMuY29ubmVjdFByb21pc2U9dm9pZCAwfSl9KSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlKSwhdGhpcy5jb25uZWN0ZWQpdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBlc3RhYmxpc2ggc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHJlbGF5IHNlcnZlcjogJHt0aGlzLnJlbGF5VXJsfWApfWFzeW5jIHJlc3RhcnRUcmFuc3BvcnQoZSl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwhdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MmJih0aGlzLnJlbGF5VXJsPWV8fHRoaXMucmVsYXlVcmwsYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpKX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7aWYoIWF3YWl0IHV0KCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBkZXRlY3RlZC4gUGxlYXNlIHJlc3RhcnQgeW91ciBuZXR3b3JrIGFuZCB0cnkgYWdhaW4uXCIpfWFzeW5jIGhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyhlKXtpZihlPy5sZW5ndGg9PT0wKXt0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtyZXR1cm59Y29uc3QgdD1lLnNvcnQoKGkscyk9PmkucHVibGlzaGVkQXQtcy5wdWJsaXNoZWRBdCk7dGhpcy5sb2dnZXIuZGVidWcoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHNvcnRlZGApO2Zvcihjb25zdCBpIG9mIHQpdHJ5e2F3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoaSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBiYXRjaCBtZXNzYWdlIGV2ZW50OiBcIitzPy5tZXNzYWdlKX10aGlzLmxvZ2dlci50cmFjZShgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgcHJvY2Vzc2VkYCl9YXN5bmMgb25MaW5rTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aX09ZTtpZighdC5zZXNzaW9uRXhpc3RzKXtjb25zdCBzPXBlKGxlKSxuPXt0b3BpYzppLGV4cGlyeTpzLHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxhY3RpdmU6ITF9O2F3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChpLG4pfXRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCl9YXN5bmMgY29ubmVjdChlKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxlJiZlIT09dGhpcy5yZWxheVVybCYmKHRoaXMucmVsYXlVcmw9ZSxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITAsdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExO2xldCB0PTE7Zm9yKDt0PDY7KXt0cnl7aWYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkKWJyZWFrO3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0aW5nIHRvICR7dGhpcy5yZWxheVVybH0sIGF0dGVtcHQ6ICR7dH0uLi5gKSxhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMoaSxzKT0+e2NvbnN0IG49KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIGNvbm5lY3RcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTS5kaXNjb25uZWN0LG4pLGF3YWl0IEgobmV3IFByb21pc2UoKG8sYSk9Pnt0aGlzLnByb3ZpZGVyLmNvbm5lY3QoKS50aGVuKG8pLmNhdGNoKGEpfSksdGhpcy5jb25uZWN0VGltZW91dCxgU29ja2V0IHN0YWxsZWQgd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byAke3RoaXMucmVsYXlVcmx9YCkuY2F0Y2gobz0+e3Mobyl9KS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LG4pLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpfSksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMobyxhKT0+e2NvbnN0IGM9KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShNLmRpc2Nvbm5lY3QsYyksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChhKS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LGMpfSl9KSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITEsaSgpfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKTtjb25zdCBzPWk7dGhpcy5sb2dnZXIud2Fybih7fSxzLm1lc3NhZ2UpLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMH1maW5hbGx5e3RoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExfWlmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGVkIHRvICR7dGhpcy5yZWxheVVybH0gc3VjY2Vzc2Z1bGx5IG9uIGF0dGVtcHQ6ICR7dH1gKTticmVha31hd2FpdCBuZXcgUHJvbWlzZShpPT5zZXRUaW1lb3V0KGksJCh0KjEpKSksdCsrfX1zdGFydFBpbmdUaW1lb3V0KCl7dmFyIGUsdCxpLHMsbjtpZihkdCgpKXRyeXsodD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKSE9bnVsbCYmdC5zb2NrZXQmJigobj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsfHxuLm9uKFwicGluZ1wiLCgpPT57dGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX1hc3luYyBjcmVhdGVQcm92aWRlcigpe3RoaXMucHJvdmlkZXIuY29ubmVjdGlvbiYmdGhpcy51bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2lnbkpXVCh0aGlzLnJlbGF5VXJsKTt0aGlzLnByb3ZpZGVyPW5ldyBxcyhuZXcgSHMoU3Moe3Nka1ZlcnNpb246UGUscHJvdG9jb2w6dGhpcy5wcm90b2NvbCx2ZXJzaW9uOnRoaXMudmVyc2lvbixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZCxhdXRoOmUsdXNlT25DbG9zZUV2ZW50OiEwLGJ1bmRsZUlkOnRoaXMuYnVuZGxlSWQscGFja2FnZU5hbWU6dGhpcy5wYWNrYWdlTmFtZX0pKSksdGhpcy5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl9YXN5bmMgcmVjb3JkTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aSxtZXNzYWdlOnN9PWU7YXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQoaSxzLHQpfWFzeW5jIHNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aX09ZTtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwhMDtpZighYXdhaXQgdGhpcy5zdWJzY3JpYmVyLmlzS25vd25Ub3BpYyh0KSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgbWVzc2FnZSBmb3IgdW5rbm93biB0b3BpYyAke3R9YCksITA7Y29uc3Qgcz10aGlzLm1lc3NhZ2VzLmhhcyh0LGkpO3JldHVybiBzJiZ0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBkdXBsaWNhdGUgbWVzc2FnZTogJHtpfWApLHN9YXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJJbmNvbWluZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcImluY29taW5nXCIscGF5bG9hZDplfSksZnQoZSkpe2lmKCFlLm1ldGhvZC5lbmRzV2l0aChMdCkpcmV0dXJuO2NvbnN0IHQ9ZS5wYXJhbXMse3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sYXR0ZXN0YXRpb246b309dC5kYXRhLGE9e3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sdHJhbnNwb3J0VHlwZTplZS5yZWxheSxhdHRlc3RhdGlvbjpvfTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtaXR0aW5nIFJlbGF5ZXIgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZShSaSh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dC5pZH0sYSkpLHRoaXMuZXZlbnRzLmVtaXQodC5pZCxhKSxhd2FpdCB0aGlzLmFja25vd2xlZGdlUGF5bG9hZChlKSxhd2FpdCB0aGlzLm9uTWVzc2FnZUV2ZW50KGEpfWVsc2UgRHQoZSkmJnRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlX2FjayxlKX1hc3luYyBvbk1lc3NhZ2VFdmVudChlKXthd2FpdCB0aGlzLnNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXx8KGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCksdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSkpfWFzeW5jIGFja25vd2xlZGdlUGF5bG9hZChlKXtjb25zdCB0PXZ0KGUuaWQsITApO2F3YWl0IHRoaXMucHJvdmlkZXIuY29ubmVjdGlvbi5zZW5kKHQpfXVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpe3RoaXMucHJvdmlkZXIub2ZmKE0ucGF5bG9hZCx0aGlzLm9uUGF5bG9hZEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZXJyb3IsdGhpcy5vblByb3ZpZGVyRXJyb3JIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCl9YXN5bmMgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2xldCBlPWF3YWl0IHV0KCk7T3MoYXN5bmMgdD0+e2UhPT10JiYoZT10LHQ/YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goaT0+dGhpcy5sb2dnZXIuZXJyb3IoaSxpPy5tZXNzYWdlKSk6KHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMCxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITEpKX0pLHRoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e2lmKCF0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQmJiF0aGlzLmNvbm5lY3RlZCYmUnMoKSl0cnl7YXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIud2Fybih0LHQ/Lm1lc3NhZ2UpfX0pfWFzeW5jIG9uUHJvdmlkZXJEaXNjb25uZWN0KCl7Y2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLHRoaXMuZXZlbnRzLmVtaXQoQy5kaXNjb25uZWN0KSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMSwhdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzJiYodGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSEwLGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCksdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyYmKHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZHx8KHRoaXMucmVjb25uZWN0VGltZW91dD1zZXRUaW1lb3V0KGFzeW5jKCk9Pnthd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci5lcnJvcihlLGU/Lm1lc3NhZ2UpKSx0aGlzLnJlY29ubmVjdFRpbWVvdXQ9dm9pZCAwLHRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcz0hMX0sJChrdCkpKSkpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHRvRXN0YWJsaXNoQ29ubmVjdGlvbigpe2lmKGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLCF0aGlzLmNvbm5lY3RlZCl7aWYodGhpcy5jb25uZWN0UHJvbWlzZSl7YXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZTtyZXR1cm59YXdhaXQgdGhpcy5jb25uZWN0KCl9fX1mdW5jdGlvbiBhbyhyLGUpe3JldHVybiByPT09ZXx8TnVtYmVyLmlzTmFOKHIpJiZOdW1iZXIuaXNOYU4oZSl9ZnVuY3Rpb24geGkocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocikuZmlsdGVyKGU9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLGUpKX1mdW5jdGlvbiBOaShyKXtyZXR1cm4gcj09bnVsbD9yPT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpfWNvbnN0IGNvPVwiW29iamVjdCBSZWdFeHBdXCIsaG89XCJbb2JqZWN0IFN0cmluZ11cIixsbz1cIltvYmplY3QgTnVtYmVyXVwiLHVvPVwiW29iamVjdCBCb29sZWFuXVwiLCRpPVwiW29iamVjdCBBcmd1bWVudHNdXCIscG89XCJbb2JqZWN0IFN5bWJvbF1cIixnbz1cIltvYmplY3QgRGF0ZV1cIix5bz1cIltvYmplY3QgTWFwXVwiLGJvPVwiW29iamVjdCBTZXRdXCIsbW89XCJbb2JqZWN0IEFycmF5XVwiLGZvPVwiW29iamVjdCBGdW5jdGlvbl1cIixEbz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsWmU9XCJbb2JqZWN0IE9iamVjdF1cIix2bz1cIltvYmplY3QgRXJyb3JdXCIsX289XCJbb2JqZWN0IERhdGFWaWV3XVwiLHdvPVwiW29iamVjdCBVaW50OEFycmF5XVwiLEVvPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixJbz1cIltvYmplY3QgVWludDE2QXJyYXldXCIsVG89XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLENvPVwiW29iamVjdCBCaWdVaW50NjRBcnJheV1cIixQbz1cIltvYmplY3QgSW50OEFycmF5XVwiLFNvPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLE9vPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFJvPVwiW29iamVjdCBCaWdJbnQ2NEFycmF5XVwiLEFvPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIseG89XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiBObygpe31mdW5jdGlvbiB6aShyKXtpZighcnx8dHlwZW9mIHIhPVwib2JqZWN0XCIpcmV0dXJuITE7Y29uc3QgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7cmV0dXJuIGU9PT1udWxsfHxlPT09T2JqZWN0LnByb3RvdHlwZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bnVsbD9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocik9PT1cIltvYmplY3QgT2JqZWN0XVwiOiExfWZ1bmN0aW9uICRvKHIsZSx0KXtyZXR1cm4gRGUocixlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0KX1mdW5jdGlvbiBEZShyLGUsdCxpLHMsbixvKXtjb25zdCBhPW8ocixlLHQsaSxzLG4pO2lmKGEhPT12b2lkIDApcmV0dXJuIGE7aWYodHlwZW9mIHI9PXR5cGVvZiBlKXN3aXRjaCh0eXBlb2Ygcil7Y2FzZVwiYmlnaW50XCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwiYm9vbGVhblwiOmNhc2VcInN5bWJvbFwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiByPT09ZTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcj09PWV8fE9iamVjdC5pcyhyLGUpO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm9iamVjdFwiOnJldHVybiB2ZShyLGUsbixvKX1yZXR1cm4gdmUocixlLG4sbyl9ZnVuY3Rpb24gdmUocixlLHQsaSl7aWYoT2JqZWN0LmlzKHIsZSkpcmV0dXJuITA7bGV0IHM9Tmkociksbj1OaShlKTtpZihzPT09JGkmJihzPVplKSxuPT09JGkmJihuPVplKSxzIT09bilyZXR1cm4hMTtzd2l0Y2gocyl7Y2FzZSBobzpyZXR1cm4gci50b1N0cmluZygpPT09ZS50b1N0cmluZygpO2Nhc2UgbG86e2NvbnN0IGM9ci52YWx1ZU9mKCksaD1lLnZhbHVlT2YoKTtyZXR1cm4gYW8oYyxoKX1jYXNlIHVvOmNhc2UgZ286Y2FzZSBwbzpyZXR1cm4gT2JqZWN0LmlzKHIudmFsdWVPZigpLGUudmFsdWVPZigpKTtjYXNlIGNvOnJldHVybiByLnNvdXJjZT09PWUuc291cmNlJiZyLmZsYWdzPT09ZS5mbGFncztjYXNlIGZvOnJldHVybiByPT09ZX10PXQ/P25ldyBNYXA7Y29uc3Qgbz10LmdldChyKSxhPXQuZ2V0KGUpO2lmKG8hPW51bGwmJmEhPW51bGwpcmV0dXJuIG89PT1lO3Quc2V0KHIsZSksdC5zZXQoZSxyKTt0cnl7c3dpdGNoKHMpe2Nhc2UgeW86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtmb3IoY29uc3RbYyxoXW9mIHIuZW50cmllcygpKWlmKCFlLmhhcyhjKXx8IURlKGgsZS5nZXQoYyksYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIGJvOntpZihyLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Y29uc3QgYz1BcnJheS5mcm9tKHIudmFsdWVzKCkpLGg9QXJyYXkuZnJvbShlLnZhbHVlcygpKTtmb3IobGV0IGw9MDtsPGMubGVuZ3RoO2wrKyl7Y29uc3QgZz1jW2xdLHk9aC5maW5kSW5kZXgoXz0+RGUoZyxfLHZvaWQgMCxyLGUsdCxpKSk7aWYoeT09PS0xKXJldHVybiExO2guc3BsaWNlKHksMSl9cmV0dXJuITB9Y2FzZSBtbzpjYXNlIHdvOmNhc2UgRW86Y2FzZSBJbzpjYXNlIFRvOmNhc2UgQ286Y2FzZSBQbzpjYXNlIFNvOmNhc2UgT286Y2FzZSBSbzpjYXNlIEFvOmNhc2UgeG86e2lmKHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihyKSE9PUJ1ZmZlci5pc0J1ZmZlcihlKXx8ci5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGM9MDtjPHIubGVuZ3RoO2MrKylpZighRGUocltjXSxlW2NdLGMscixlLHQsaSkpcmV0dXJuITE7cmV0dXJuITB9Y2FzZSBEbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RoPyExOnZlKG5ldyBVaW50OEFycmF5KHIpLG5ldyBVaW50OEFycmF5KGUpLHQsaSk7Y2FzZSBfbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RofHxyLmJ5dGVPZmZzZXQhPT1lLmJ5dGVPZmZzZXQ/ITE6dmUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIHZvOnJldHVybiByLm5hbWU9PT1lLm5hbWUmJnIubWVzc2FnZT09PWUubWVzc2FnZTtjYXNlIFplOntpZighKHZlKHIuY29uc3RydWN0b3IsZS5jb25zdHJ1Y3Rvcix0LGkpfHx6aShyKSYmemkoZSkpKXJldHVybiExO2NvbnN0IGg9Wy4uLk9iamVjdC5rZXlzKHIpLC4uLnhpKHIpXSxsPVsuLi5PYmplY3Qua2V5cyhlKSwuLi54aShlKV07aWYoaC5sZW5ndGghPT1sLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGc9MDtnPGgubGVuZ3RoO2crKyl7Y29uc3QgeT1oW2ddLF89clt5XTtpZighT2JqZWN0Lmhhc093bihlLHkpKXJldHVybiExO2NvbnN0IHU9ZVt5XTtpZighRGUoXyx1LHkscixlLHQsaSkpcmV0dXJuITF9cmV0dXJuITB9ZGVmYXVsdDpyZXR1cm4hMX19ZmluYWxseXt0LmRlbGV0ZShyKSx0LmRlbGV0ZShlKX19ZnVuY3Rpb24gem8ocixlKXtyZXR1cm4gJG8ocixlLE5vKX12YXIgTG89T2JqZWN0LmRlZmluZVByb3BlcnR5LExpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsa289T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxqbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFFlPShyLGUsdCk9PmUgaW4gcj9MbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsa2k9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKWtvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO2lmKExpKWZvcih2YXIgdCBvZiBMaShlKSlqby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtyZXR1cm4gcn0sVT0ocixlLHQpPT5RZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIGppIGV4dGVuZHMgcnN7Y29uc3RydWN0b3IoZSx0LGkscz1XLG49dm9pZCAwKXtzdXBlcihlLHQsaSxzKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMubmFtZT1pLFUodGhpcyxcIm1hcFwiLG5ldyBNYXApLFUodGhpcyxcInZlcnNpb25cIixqdCksVSh0aGlzLFwiY2FjaGVkXCIsW10pLFUodGhpcyxcImluaXRpYWxpemVkXCIsITEpLFUodGhpcyxcImdldEtleVwiKSxVKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksVSh0aGlzLFwicmVjZW50bHlEZWxldGVkXCIsW10pLFUodGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSxVKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2gobz0+e3RoaXMuZ2V0S2V5JiZvIT09bnVsbCYmIXVlKG8pP3RoaXMubWFwLnNldCh0aGlzLmdldEtleShvKSxvKTpBcyhvKT90aGlzLm1hcC5zZXQoby5pZCxvKTp4cyhvKSYmdGhpcy5tYXAuc2V0KG8udG9waWMsbyl9KSx0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFUodGhpcyxcInNldFwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1hcC5oYXMobyk/YXdhaXQgdGhpcy51cGRhdGUobyxhKToodGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsa2V5Om8sdmFsdWU6YX0pLHRoaXMubWFwLnNldChvLGEpLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLFUodGhpcyxcImdldFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIixrZXk6b30pLHRoaXMuZ2V0RGF0YShvKSkpLFUodGhpcyxcImdldEFsbFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSxvP3RoaXMudmFsdWVzLmZpbHRlcihhPT5PYmplY3Qua2V5cyhvKS5ldmVyeShjPT56byhhW2NdLG9bY10pKSk6dGhpcy52YWx1ZXMpKSxVKHRoaXMsXCJ1cGRhdGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLGtleTpvLHVwZGF0ZTphfSk7Y29uc3QgYz1raShraSh7fSx0aGlzLmdldERhdGEobykpLGEpO3RoaXMubWFwLnNldChvLGMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksVSh0aGlzLFwiZGVsZXRlXCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixrZXk6byxyZWFzb246YX0pLHRoaXMubWFwLmRlbGV0ZShvKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8pLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLHRoaXMubG9nZ2VyPUYodCx0aGlzLm5hbWUpLHRoaXMuc3RvcmFnZVByZWZpeD1zLHRoaXMuZ2V0S2V5PW59Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5tYXAuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLnZhbHVlcygpKX1hZGRUb1JlY2VudGx5RGVsZXRlZChlKXt0aGlzLnJlY2VudGx5RGVsZXRlZC5wdXNoKGUpLHRoaXMucmVjZW50bHlEZWxldGVkLmxlbmd0aD49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCYmdGhpcy5yZWNlbnRseURlbGV0ZWQuc3BsaWNlKDAsdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yKX1hc3luYyBzZXREYXRhU3RvcmUoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RGF0YVN0b3JlKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXREYXRhKGUpe2NvbnN0IHQ9dGhpcy5tYXAuZ2V0KGUpO2lmKCF0KXtpZih0aGlzLnJlY2VudGx5RGVsZXRlZC5pbmNsdWRlcyhlKSl7Y29uc3R7bWVzc2FnZTpzfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMpLG5ldyBFcnJvcihzKX1jb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaSksbmV3IEVycm9yKGkpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldERhdGFTdG9yZSh0aGlzLnZhbHVlcyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RGF0YVN0b3JlKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5tYXAuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIix2YWx1ZTp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEZvPShyLGUsdCk9PmUgaW4gcj9VbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsZD0ocixlLHQpPT5GbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFVpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxkKHRoaXMsXCJuYW1lXCIsS3QpLGQodGhpcyxcInZlcnNpb25cIixCdCksZCh0aGlzLFwiZXZlbnRzXCIsbmV3IFlpKSxkKHRoaXMsXCJwYWlyaW5nc1wiKSxkKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxkKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksZCh0aGlzLFwiaWdub3JlZFBheWxvYWRUeXBlc1wiLFskc10pLGQodGhpcyxcInJlZ2lzdGVyZWRNZXRob2RzXCIsW10pLGQodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMucGFpcmluZ3MuaW5pdCgpLGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIikpfSksZCh0aGlzLFwicmVnaXN0ZXJcIiwoe21ldGhvZHM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWdpc3RlcmVkTWV0aG9kcz1bLi4ubmV3IFNldChbLi4udGhpcy5yZWdpc3RlcmVkTWV0aG9kcywuLi5pXSldfSksZCh0aGlzLFwiY3JlYXRlXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9emUoKSxuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KHMpLG89cGUobGUpLGE9e3Byb3RvY29sOk50fSxjPXt0b3BpYzpuLGV4cGlyeTpvLHJlbGF5OmEsYWN0aXZlOiExLG1ldGhvZHM6aT8ubWV0aG9kc30saD1wdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6bixzeW1LZXk6cyxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6aT8ubWV0aG9kc30pO3JldHVybiB0aGlzLmV2ZW50cy5lbWl0KGFlLmNyZWF0ZSxjKSx0aGlzLmNvcmUuZXhwaXJlci5zZXQobixvKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGMpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHt0cmFuc3BvcnRUeXBlOmk/LnRyYW5zcG9ydFR5cGUsaW50ZXJuYWw6aT8uaW50ZXJuYWx9KSx7dG9waWM6bix1cmk6aH19KSxkKHRoaXMsXCJwYWlyXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dGhpcy5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzppPy51cmksdHJhY2U6W1kucGFpcmluZ19zdGFydGVkXX19KTt0aGlzLmlzVmFsaWRQYWlyKGkscyk7Y29uc3R7dG9waWM6bixzeW1LZXk6byxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpjLG1ldGhvZHM6aH09Z3QoaS51cmkpO3MucHJvcHMucHJvcGVydGllcy50b3BpYz1uLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3MpLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV9ub3RfZXhwaXJlZCk7bGV0IGw7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXtpZihsPXRoaXMucGFpcmluZ3MuZ2V0KG4pLHMuYWRkVHJhY2UoWS5leGlzdGluZ19wYWlyaW5nKSxsLmFjdGl2ZSl0aHJvdyBzLnNldEVycm9yKFguYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHMpLG5ldyBFcnJvcihgUGFpcmluZyBhbHJlYWR5IGV4aXN0czogJHtufS4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLmApO3MuYWRkVHJhY2UoWS5wYWlyaW5nX25vdF9leHBpcmVkKX1jb25zdCBnPWN8fHBlKGxlKSx5PXt0b3BpYzpuLHJlbGF5OmEsZXhwaXJ5OmcsYWN0aXZlOiExLG1ldGhvZHM6aH07dGhpcy5jb3JlLmV4cGlyZXIuc2V0KG4sZyksYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQobix5KSxzLmFkZFRyYWNlKFkuc3RvcmVfbmV3X3BhaXJpbmcpLGkuYWN0aXZhdGVQYWlyaW5nJiZhd2FpdCB0aGlzLmFjdGl2YXRlKHt0b3BpYzpufSksdGhpcy5ldmVudHMuZW1pdChhZS5jcmVhdGUseSkscy5hZGRUcmFjZShZLmVtaXRfaW5hY3RpdmVfcGFpcmluZyksdGhpcy5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMobil8fGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KG8sbikscy5hZGRUcmFjZShZLnN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWMpO3RyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2h7cy5zZXRFcnJvcihYLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pfXRyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUobix7cmVsYXk6YX0pfWNhdGNoKF8pe3Rocm93IHMuc2V0RXJyb3IoWC5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlKSxffXJldHVybiBzLmFkZFRyYWNlKFkuc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzcykseX0pLGQodGhpcyxcImFjdGl2YXRlXCIsYXN5bmMoe3RvcGljOml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9cGUobGUpO3RoaXMuY29yZS5leHBpcmVyLnNldChpLHMpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2FjdGl2ZTohMCxleHBpcnk6c30pfSksZCh0aGlzLFwicGluZ1wiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRQaW5nKGkpLHRoaXMubG9nZ2VyLndhcm4oXCJwaW5nKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpO2NvbnN0e3RvcGljOnN9PWk7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpKXtjb25zdCBuPWF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdQaW5nXCIse30pLHtkb25lOm8scmVzb2x2ZTphLHJlamVjdDpjfT16cygpO3RoaXMuZXZlbnRzLm9uY2UoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSwoe2Vycm9yOmh9KT0+e2g/YyhoKTphKCl9KSxhd2FpdCBvKCl9fSksZCh0aGlzLFwidXBkYXRlRXhwaXJ5XCIsYXN5bmMoe3RvcGljOmksZXhwaXJ5OnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2V4cGlyeTpzfSl9KSxkKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiLGFzeW5jKHt0b3BpYzppLG1ldGFkYXRhOnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse3BlZXJNZXRhZGF0YTpzfSl9KSxkKHRoaXMsXCJnZXRQYWlyaW5nc1wiLCgpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5wYWlyaW5ncy52YWx1ZXMpKSxkKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoaSk7Y29uc3R7dG9waWM6c309aTt0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykmJihhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHMsXCJ3Y19wYWlyaW5nRGVsZXRlXCIsZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHMpKX0pLGQodGhpcyxcImZvcm1hdFVyaUZyb21QYWlyaW5nXCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3RvcGljOnMscmVsYXk6bixleHBpcnk6byxtZXRob2RzOmF9PWksYz10aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmdldChzKTtyZXR1cm4gcHQoe3Byb3RvY29sOnRoaXMuY29yZS5wcm90b2NvbCx2ZXJzaW9uOnRoaXMuY29yZS52ZXJzaW9uLHRvcGljOnMsc3ltS2V5OmMscmVsYXk6bixleHBpcnlUaW1lc3RhbXA6byxtZXRob2RzOmF9KX0pLGQodGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1fdChzLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUoaSxvKSxjPW9lW3NdLnJlcTtyZXR1cm4gdGhpcy5jb3JlLmhpc3Rvcnkuc2V0KGksbyksdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChpLGEsYyksby5pZH0pLGQodGhpcyxcInNlbmRSZXN1bHRcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPXZ0KGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPW9lW2NdLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSksZCh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1HcyhpLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUocyxvKSxjPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQocyxpKSkucmVxdWVzdC5tZXRob2QsaD1vZVtjXT9vZVtjXS5yZXM6b2UudW5yZWdpc3RlcmVkX21ldGhvZC5yZXM7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGEsaCksYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKX0pLGQodGhpcyxcImRlbGV0ZVBhaXJpbmdcIixhc3luYyhpLHMpPT57YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoaSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFpcmluZ3MuZGVsZXRlKGksZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkoaSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNvcmUuZXhwaXJlci5kZWwoaSldKX0pLGQodGhpcyxcImNsZWFudXBcIixhc3luYygpPT57Y29uc3QgaT10aGlzLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihzPT55dChzLmV4cGlyeSkpO2F3YWl0IFByb21pc2UuYWxsKGkubWFwKHM9PnRoaXMuZGVsZXRlUGFpcmluZyhzLnRvcGljKSkpfSksZCh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIGk9Pntjb25zdHt0b3BpYzpzLHBheWxvYWQ6bn09aTtzd2l0Y2gobi5tZXRob2Qpe2Nhc2VcIndjX3BhaXJpbmdQaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nUGluZ1JlcXVlc3QocyxuKTtjYXNlXCJ3Y19wYWlyaW5nRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nRGVsZXRlUmVxdWVzdChzLG4pO2RlZmF1bHQ6cmV0dXJuIGF3YWl0IHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdChzLG4pfX0pLGQodGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pLG89KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLG4uaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2gobyl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gdGhpcy5vblBhaXJpbmdQaW5nUmVzcG9uc2UocyxuKTtkZWZhdWx0OnJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlKG8pfX0pLGQodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOml9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQobixpLCEwKSx0aGlzLmV2ZW50cy5lbWl0KGFlLnBpbmcse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxkKHRoaXMsXCJvblBhaXJpbmdQaW5nUmVzcG9uc2VcIiwoaSxzKT0+e2NvbnN0e2lkOm59PXM7c2V0VGltZW91dCgoKT0+e1dzKHMpP3RoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7fSk6d3QocykmJnRoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7ZXJyb3I6cy5lcnJvcn0pfSw1MDApfSksZCh0aGlzLFwib25QYWlyaW5nRGVsZXRlUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpufT1zO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzppfSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpLHRoaXMuZXZlbnRzLmVtaXQoYWUuZGVsZXRlLHtpZDpuLHRvcGljOml9KX1jYXRjaChvKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksbyksdGhpcy5sb2dnZXIuZXJyb3Iobyl9fSksZCh0aGlzLFwib25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpuLG1ldGhvZDpvfT1zO3RyeXtpZih0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKG8pKXJldHVybjtjb25zdCBhPWRlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsbyk7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfWNhdGNoKGEpe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxhKSx0aGlzLmxvZ2dlci5lcnJvcihhKX19KSxkKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXNwb25zZVwiLGk9Pnt0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKGkpfHx0aGlzLmxvZ2dlci5lcnJvcihkZShcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLGkpKX0pLGQodGhpcyxcImlzVmFsaWRQYWlyXCIsKGkscyk9Pnt2YXIgbjtpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCFMcyhpLnVyaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgdXJpOiAke2kudXJpfWApO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1jb25zdCBvPWd0KGk/LnVyaSk7aWYoISgobj1vPy5yZWxheSkhPW51bGwmJm4ucHJvdG9jb2wpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjcmVsYXktcHJvdG9jb2xcIik7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCEobyE9bnVsbCYmby5zeW1LZXkpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjc3ltS2V5XCIpO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZihvIT1udWxsJiZvLmV4cGlyeVRpbWVzdGFtcCYmJChvPy5leHBpcnlUaW1lc3RhbXApPERhdGUubm93KCkpe3Muc2V0RXJyb3IoWC5wYWlyaW5nX2V4cGlyZWQpO2NvbnN0e21lc3NhZ2U6YX09YihcIkVYUElSRURcIixcInBhaXIoKSBVUkkgaGFzIGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIG5ldyBjb25uZWN0aW9uIFVSSS5cIik7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGQodGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgaT0+e2lmKCFrZShpKSl7Y29uc3R7bWVzc2FnZTpufT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxkKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIGk9PntpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6bn09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOnN9PWk7YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKHMpfSksZCh0aGlzLFwiaXNWYWxpZFBhaXJpbmdUb3BpY1wiLGFzeW5jIGk9PntpZigha3MoaSwhMSkpe2NvbnN0e21lc3NhZ2U6c309YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX1pZighdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGkpKXtjb25zdHttZXNzYWdlOnN9PWIoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKHl0KHRoaXMucGFpcmluZ3MuZ2V0KGkpLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhpKTtjb25zdHttZXNzYWdlOnN9PWIoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5wYWlyaW5ncz1uZXcgamkodGhpcy5jb3JlLHRoaXMubG9nZ2VyLHRoaXMubmFtZSx0aGlzLnN0b3JhZ2VQcmVmaXgpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY29yZS5yZWxheWVyLm9uKEMubWVzc2FnZSxhc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXNzYWdlOmksdHJhbnNwb3J0VHlwZTpzfT1lO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmcyE9PWVlLmxpbmtfbW9kZSYmIXRoaXMuaWdub3JlZFBheWxvYWRUeXBlcy5pbmNsdWRlcyh0aGlzLmNvcmUuY3J5cHRvLmdldFBheWxvYWRUeXBlKGkpKSl0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmRlY29kZSh0LGkpO2Z0KG4pPyh0aGlzLmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpufSkpOkR0KG4pJiYoYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bn0pLHRoaXMuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LG4uaWQpKSxhd2FpdCB0aGlzLmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxpKX1jYXRjaChuKXt0aGlzLmxvZ2dlci5lcnJvcihuKX19KX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNvcmUuZXhwaXJlci5vbihxLmV4cGlyZWQsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnR9PU5zKGUudGFyZ2V0KTt0JiZ0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcodCwhMCksdGhpcy5ldmVudHMuZW1pdChhZS5leHBpcmUse3RvcGljOnR9KSl9KX19dmFyIE1vPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLbz0ocixlLHQpPT5lIGluIHI/TW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LE49KHIsZSx0KT0+S28ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBGaSBleHRlbmRzIG5ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LE4odGhpcyxcInJlY29yZHNcIixuZXcgTWFwKSxOKHRoaXMsXCJldmVudHNcIixuZXcgaWUpLE4odGhpcyxcIm5hbWVcIixWdCksTih0aGlzLFwidmVyc2lvblwiLHF0KSxOKHRoaXMsXCJjYWNoZWRcIixbXSksTih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksTih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLE4odGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLnJlY29yZHMuc2V0KGkuaWQsaSkpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksTih0aGlzLFwic2V0XCIsKGkscyxuKT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBKU09OLVJQQyByZXF1ZXN0IGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsdG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDpufSksdGhpcy5yZWNvcmRzLmhhcyhzLmlkKSlyZXR1cm47Y29uc3Qgbz17aWQ6cy5pZCx0b3BpYzppLHJlcXVlc3Q6e21ldGhvZDpzLm1ldGhvZCxwYXJhbXM6cy5wYXJhbXN8fG51bGx9LGNoYWluSWQ6bixleHBpcnk6cGUoUmUpfTt0aGlzLnJlY29yZHMuc2V0KG8uaWQsbyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLmNyZWF0ZWQsbyl9KSxOKHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVXBkYXRpbmcgSlNPTi1SUEMgcmVzcG9uc2UgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1cGRhdGVcIixyZXNwb25zZTppfSksIXRoaXMucmVjb3Jkcy5oYXMoaS5pZCkpcmV0dXJuO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWNvcmQoaS5pZCk7dHlwZW9mIHMucmVzcG9uc2U+XCJ1XCImJihzLnJlc3BvbnNlPXd0KGkpP3tlcnJvcjppLmVycm9yfTp7cmVzdWx0OmkucmVzdWx0fSx0aGlzLnJlY29yZHMuc2V0KHMuaWQscyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLnVwZGF0ZWQscykpfSksTih0aGlzLFwiZ2V0XCIsYXN5bmMoaSxzKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIix0b3BpYzppLGlkOnN9KSxhd2FpdCB0aGlzLmdldFJlY29yZChzKSkpLE4odGhpcyxcImRlbGV0ZVwiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixpZDpzfSksdGhpcy52YWx1ZXMuZm9yRWFjaChuPT57aWYobi50b3BpYz09PWkpe2lmKHR5cGVvZiBzPFwidVwiJiZuLmlkIT09cylyZXR1cm47dGhpcy5yZWNvcmRzLmRlbGV0ZShuLmlkKSx0aGlzLmV2ZW50cy5lbWl0KFYuZGVsZXRlZCxuKX19KSx0aGlzLnBlcnNpc3QoKX0pLE4odGhpcyxcImV4aXN0c1wiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlY29yZHMuaGFzKHMpPyhhd2FpdCB0aGlzLmdldFJlY29yZChzKSkudG9waWM9PT1pOiExKSksTih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxOKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxOKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksTih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLmxvZ2dlcj1GKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5yZWNvcmRzLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLnZhbHVlcygpKX1nZXQgcGVuZGluZygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMudmFsdWVzLmZvckVhY2godD0+e2lmKHR5cGVvZiB0LnJlc3BvbnNlPFwidVwiKXJldHVybjtjb25zdCBpPXt0b3BpYzp0LnRvcGljLHJlcXVlc3Q6X3QodC5yZXF1ZXN0Lm1ldGhvZCx0LnJlcXVlc3QucGFyYW1zLHQuaWQpLGNoYWluSWQ6dC5jaGFpbklkfTtyZXR1cm4gZS5wdXNoKGkpfSksZX1hc3luYyBzZXRKc29uUnBjUmVjb3JkcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRKc29uUnBjUmVjb3Jkcygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9Z2V0UmVjb3JkKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5yZWNvcmRzLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRKc29uUnBjUmVjb3Jkcyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChWLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEpzb25ScGNSZWNvcmRzKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5yZWNvcmRzLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09YihcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixyZWNvcmRzOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMub24oVi5jcmVhdGVkLGU9Pntjb25zdCB0PVYuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKFYudXBkYXRlZCxlPT57Y29uc3QgdD1WLnVwZGF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihWLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9Vi5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e3RoaXMuY2xlYW51cCgpfSl9Y2xlYW51cCgpe3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgZT0hMTt0aGlzLnJlY29yZHMuZm9yRWFjaCh0PT57JCh0LmV4cGlyeXx8MCktRGF0ZS5ub3coKTw9MCYmKHRoaXMubG9nZ2VyLmluZm8oYERlbGV0aW5nIGV4cGlyZWQgaGlzdG9yeSBsb2c6ICR7dC5pZH1gKSx0aGlzLnJlY29yZHMuZGVsZXRlKHQuaWQpLHRoaXMuZXZlbnRzLmVtaXQoVi5kZWxldGVkLHQsITEpLGU9ITApfSksZSYmdGhpcy5wZXJzaXN0KCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBCbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVm89KHIsZSx0KT0+ZSBpbiByP0JvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx6PShyLGUsdCk9PlZvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgTWkgZXh0ZW5kcyBvc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx6KHRoaXMsXCJleHBpcmF0aW9uc1wiLG5ldyBNYXApLHoodGhpcyxcImV2ZW50c1wiLG5ldyBpZSkseih0aGlzLFwibmFtZVwiLEd0KSx6KHRoaXMsXCJ2ZXJzaW9uXCIsV3QpLHoodGhpcyxcImNhY2hlZFwiLFtdKSx6KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx6KHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVykseih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKGk9PnRoaXMuZXhwaXJhdGlvbnMuc2V0KGkudGFyZ2V0LGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLHoodGhpcyxcImhhc1wiLGk9Pnt0cnl7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdHlwZW9mIHRoaXMuZ2V0RXhwaXJhdGlvbihzKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19KSx6KHRoaXMsXCJzZXRcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5mb3JtYXRUYXJnZXQoaSksbz17dGFyZ2V0Om4sZXhwaXJ5OnN9O3RoaXMuZXhwaXJhdGlvbnMuc2V0KG4sbyksdGhpcy5jaGVja0V4cGlyeShuLG8pLHRoaXMuZXZlbnRzLmVtaXQocS5jcmVhdGVkLHt0YXJnZXQ6bixleHBpcmF0aW9uOm99KX0pLHoodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpO3JldHVybiB0aGlzLmdldEV4cGlyYXRpb24ocyl9KSx6KHRoaXMsXCJkZWxcIixpPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5oYXMoaSkpe2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSksbj10aGlzLmdldEV4cGlyYXRpb24ocyk7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUocyksdGhpcy5ldmVudHMuZW1pdChxLmRlbGV0ZWQse3RhcmdldDpzLGV4cGlyYXRpb246bn0pfX0pLHoodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSkseih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSkseih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLHoodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5leHBpcmF0aW9ucy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLnZhbHVlcygpKX1mb3JtYXRUYXJnZXQoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpcmV0dXJuIGpzKGUpO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXJldHVybiBVcyhlKTtjb25zdHttZXNzYWdlOnR9PWIoXCJVTktOT1dOX1RZUEVcIixgVGFyZ2V0IHR5cGU6ICR7dHlwZW9mIGV9YCk7dGhyb3cgbmV3IEVycm9yKHQpfWFzeW5jIHNldEV4cGlyYXRpb25zKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEV4cGlyYXRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRFeHBpcmF0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChxLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEV4cGlyYXRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5leHBpcmF0aW9ucy5zaXplKXtjb25zdHttZXNzYWdlOnR9PWIoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLGV4cGlyYXRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19Z2V0RXhwaXJhdGlvbihlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIud2FybihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9Y2hlY2tFeHBpcnkoZSx0KXtjb25zdHtleHBpcnk6aX09dDskKGkpLURhdGUubm93KCk8PTAmJnRoaXMuZXhwaXJlKGUsdCl9ZXhwaXJlKGUsdCl7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUoZSksdGhpcy5ldmVudHMuZW1pdChxLmV4cGlyZWQse3RhcmdldDplLGV4cGlyYXRpb246dH0pfWNoZWNrRXhwaXJhdGlvbnMoKXt0aGlzLmNvcmUucmVsYXllci5jb25uZWN0ZWQmJnRoaXMuZXhwaXJhdGlvbnMuZm9yRWFjaCgoZSx0KT0+dGhpcy5jaGVja0V4cGlyeSh0LGUpKX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+dGhpcy5jaGVja0V4cGlyYXRpb25zKCkpLHRoaXMuZXZlbnRzLm9uKHEuY3JlYXRlZCxlPT57Y29uc3QgdD1xLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24ocS5leHBpcmVkLGU9Pntjb25zdCB0PXEuZXhwaXJlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihxLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9cS5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgcW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEdvPShyLGUsdCk9PmUgaW4gcj9xbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUD0ocixlLHQpPT5HbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEtpIGV4dGVuZHMgYXN7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMuc3RvcmU9aSxQKHRoaXMsXCJuYW1lXCIsSHQpLFAodGhpcyxcImFib3J0Q29udHJvbGxlclwiKSxQKHRoaXMsXCJpc0RldkVudlwiKSxQKHRoaXMsXCJ2ZXJpZnlVcmxWM1wiLEp0KSxQKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksUCh0aGlzLFwidmVyc2lvblwiLEZlKSxQKHRoaXMsXCJwdWJsaWNLZXlcIiksUCh0aGlzLFwiZmV0Y2hQcm9taXNlXCIpLFAodGhpcyxcImluaXRcIixhc3luYygpPT57dmFyIHM7dGhpcy5pc0RldkVudnx8KHRoaXMucHVibGljS2V5PWF3YWl0IHRoaXMuc3RvcmUuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleSYmJCgocz10aGlzLnB1YmxpY0tleSk9PW51bGw/dm9pZCAwOnMuZXhwaXJlc0F0KTxEYXRlLm5vdygpJiYodGhpcy5sb2dnZXIuZGVidWcoXCJ2ZXJpZnkgdjIgcHVibGljIGtleSBleHBpcmVkXCIpLGF3YWl0IHRoaXMucmVtb3ZlUHVibGljS2V5KCkpKX0pLFAodGhpcyxcInJlZ2lzdGVyXCIsYXN5bmMgcz0+e2lmKCFGcygpfHx0aGlzLmlzRGV2RW52KXJldHVybjtjb25zdCBuPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4se2lkOm8sZGVjcnlwdGVkSWQ6YX09cyxjPWAke3RoaXMudmVyaWZ5VXJsVjN9L2F0dGVzdGF0aW9uP3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9Jm9yaWdpbj0ke259JmlkPSR7b30mZGVjcnlwdGVkSWQ9JHthfWA7dHJ5e2NvbnN0IGg9WXMoKSxsPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFEqNSksZz1hd2FpdCBuZXcgUHJvbWlzZSgoeSxfKT0+e2NvbnN0IHU9KCk9Pnt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixEKSxoLmJvZHkucmVtb3ZlQ2hpbGQobSksXyhcImF0dGVzdGF0aW9uIGFib3J0ZWRcIil9O3RoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIix1KTtjb25zdCBtPWguY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTttLnNyYz1jLG0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixtLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHUse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtjb25zdCBEPXc9PntpZih3LmRhdGEmJnR5cGVvZiB3LmRhdGE9PVwic3RyaW5nXCIpdHJ5e2NvbnN0IEU9SlNPTi5wYXJzZSh3LmRhdGEpO2lmKEUudHlwZT09PVwidmVyaWZ5X2F0dGVzdGF0aW9uXCIpe2lmKG50KEUuYXR0ZXN0YXRpb24pLnBheWxvYWQuaWQhPT1vKXJldHVybjtjbGVhckludGVydmFsKGwpLGguYm9keS5yZW1vdmVDaGlsZChtKSx0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsRCkseShFLmF0dGVzdGF0aW9uPT09bnVsbD9cIlwiOkUuYXR0ZXN0YXRpb24pfX1jYXRjaChFKXt0aGlzLmxvZ2dlci53YXJuKEUpfX07aC5ib2R5LmFwcGVuZENoaWxkKG0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLEQse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KX0pO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhnLFwiand0IGF0dGVzdGF0aW9uXCIpLGd9Y2F0Y2goaCl7dGhpcy5sb2dnZXIud2FybihoKX1yZXR1cm5cIlwifSksUCh0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIHM9PntpZih0aGlzLmlzRGV2RW52KXJldHVyblwiXCI7Y29uc3R7YXR0ZXN0YXRpb25JZDpuLGhhc2g6byxlbmNyeXB0ZWRJZDphfT1zO2lmKG49PT1cIlwiKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlc29sdmU6IGF0dGVzdGF0aW9uSWQgaXMgZW1wdHksIHNraXBwaW5nXCIpO3JldHVybn1pZihuKXtpZihudChuKS5wYXlsb2FkLmlkIT09YSlyZXR1cm47Y29uc3QgaD1hd2FpdCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbihuKTtpZihoKXtpZighaC5pc1ZlcmlmaWVkKXt0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uOiBvcmlnaW4gdXJsIG5vdCB2ZXJpZmllZFwiKTtyZXR1cm59cmV0dXJuIGh9fWlmKCFvKXJldHVybjtjb25zdCBjPXRoaXMuZ2V0VmVyaWZ5VXJsKHM/LnZlcmlmeVVybCk7cmV0dXJuIHRoaXMuZmV0Y2hBdHRlc3RhdGlvbihvLGMpfSksUCh0aGlzLFwiZmV0Y2hBdHRlc3RhdGlvblwiLGFzeW5jKHMsbik9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhgcmVzb2x2aW5nIGF0dGVzdGF0aW9uOiAke3N9IGZyb20gdXJsOiAke259YCk7Y29uc3Qgbz10aGlzLnN0YXJ0QWJvcnRUaW1lcihRKjUpLGE9YXdhaXQgZmV0Y2goYCR7bn0vYXR0ZXN0YXRpb24vJHtzfT92MlN1cHBvcnRlZD10cnVlYCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQobyksYS5zdGF0dXM9PT0yMDA/YXdhaXQgYS5qc29uKCk6dm9pZCAwfSksUCh0aGlzLFwiZ2V0VmVyaWZ5VXJsXCIscz0+e2xldCBuPXN8fGJlO3JldHVybiBYdC5pbmNsdWRlcyhuKXx8KHRoaXMubG9nZ2VyLmluZm8oYHZlcmlmeSB1cmw6ICR7bn0sIG5vdCBpbmNsdWRlZCBpbiB0cnVzdGVkIGxpc3QsIGFzc2lnbmluZyBkZWZhdWx0OiAke2JlfWApLG49YmUpLG59KSxQKHRoaXMsXCJmZXRjaFB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0cnl7dGhpcy5sb2dnZXIuZGVidWcoYGZldGNoaW5nIHB1YmxpYyBrZXkgZnJvbTogJHt0aGlzLnZlcmlmeVVybFYzfWApO2NvbnN0IHM9dGhpcy5zdGFydEFib3J0VGltZXIoQWUpLG49YXdhaXQgZmV0Y2goYCR7dGhpcy52ZXJpZnlVcmxWM30vcHVibGljLWtleWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KHMpLGF3YWl0IG4uanNvbigpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksUCh0aGlzLFwicGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jIHM9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhzLFwicGVyc2lzdGluZyBwdWJsaWMga2V5IHRvIGxvY2FsIHN0b3JhZ2VcIiksYXdhaXQgdGhpcy5zdG9yZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXkscyksdGhpcy5wdWJsaWNLZXk9c30pLFAodGhpcyxcInJlbW92ZVB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW92aW5nIHZlcmlmeSB2MiBwdWJsaWMga2V5IGZyb20gc3RvcmFnZVwiKSxhd2FpdCB0aGlzLnN0b3JlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXk9dm9pZCAwfSksUCh0aGlzLFwiaXNWYWxpZEp3dEF0dGVzdGF0aW9uXCIsYXN5bmMgcz0+e2NvbnN0IG49YXdhaXQgdGhpcy5nZXRQdWJsaWNLZXkoKTt0cnl7aWYobilyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbil9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpO3RyeXtpZihvKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24ocyxvKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX19KSxQKHRoaXMsXCJnZXRQdWJsaWNLZXlcIixhc3luYygpPT50aGlzLnB1YmxpY0tleT90aGlzLnB1YmxpY0tleTphd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpKSxQKHRoaXMsXCJmZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXlcIixhc3luYygpPT57aWYodGhpcy5mZXRjaFByb21pc2UpcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlLHRoaXMucHVibGljS2V5O3RoaXMuZmV0Y2hQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jIG49Pntjb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hQdWJsaWNLZXkoKTtvJiYoYXdhaXQgdGhpcy5wZXJzaXN0UHVibGljS2V5KG8pLG4obykpfSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmZldGNoUHJvbWlzZTtyZXR1cm4gdGhpcy5mZXRjaFByb21pc2U9dm9pZCAwLHN9KSxQKHRoaXMsXCJ2YWxpZGF0ZUF0dGVzdGF0aW9uXCIsKHMsbik9Pntjb25zdCBvPU1zKHMsbi5wdWJsaWNLZXkpLGE9e2hhc0V4cGlyZWQ6JChvLmV4cCk8RGF0ZS5ub3coKSxwYXlsb2FkOm99O2lmKGEuaGFzRXhwaXJlZCl0aHJvdyB0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uIGV4cGlyZWRcIiksbmV3IEVycm9yKFwiSldUIGF0dGVzdGF0aW9uIGV4cGlyZWRcIik7cmV0dXJue29yaWdpbjphLnBheWxvYWQub3JpZ2luLGlzU2NhbTphLnBheWxvYWQuaXNTY2FtLGlzVmVyaWZpZWQ6YS5wYXlsb2FkLmlzVmVyaWZpZWR9fSksdGhpcy5sb2dnZXI9Rih0LHRoaXMubmFtZSksdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLmlzRGV2RW52PWJ0KCksdGhpcy5pbml0KCl9Z2V0IHN0b3JlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL3ZlcmlmeTpwdWJsaWM6a2V5XCJ9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9c3RhcnRBYm9ydFRpbWVyKGUpe3JldHVybiB0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHNldFRpbWVvdXQoKCk9PnRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCksJChlKSl9fXZhciBXbz1PYmplY3QuZGVmaW5lUHJvcGVydHksSG89KHIsZSx0KT0+ZSBpbiByP1dvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxCaT0ocixlLHQpPT5IbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFZpIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucHJvamVjdElkPWUsdGhpcy5sb2dnZXI9dCxCaSh0aGlzLFwiY29udGV4dFwiLFp0KSxCaSh0aGlzLFwicmVnaXN0ZXJEZXZpY2VUb2tlblwiLGFzeW5jIGk9Pntjb25zdHtjbGllbnRJZDpzLHRva2VuOm4sbm90aWZpY2F0aW9uVHlwZTpvLGVuYWJsZUVuY3J5cHRlZDphPSExfT1pLGM9YCR7UXR9LyR7dGhpcy5wcm9qZWN0SWR9L2NsaWVudHNgO2F3YWl0IGZldGNoKGMse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtjbGllbnRfaWQ6cyx0eXBlOm8sdG9rZW46bixhbHdheXNfcmF3OmF9KX0pfSksdGhpcy5sb2dnZXI9Rih0LHRoaXMuY29udGV4dCl9fXZhciBZbz1PYmplY3QuZGVmaW5lUHJvcGVydHkscWk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxKbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFhvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZXQ9KHIsZSx0KT0+ZSBpbiByP1lvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxfZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpSm8uY2FsbChlLHQpJiZldChyLHQsZVt0XSk7aWYocWkpZm9yKHZhciB0IG9mIHFpKGUpKVhvLmNhbGwoZSx0KSYmZXQocix0LGVbdF0pO3JldHVybiByfSxBPShyLGUsdCk9PmV0KHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgR2kgZXh0ZW5kcyBoc3tjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0LGkpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsQSh0aGlzLFwiY29udGV4dFwiLHRpKSxBKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksQSh0aGlzLFwic3RvcmFnZVZlcnNpb25cIixlaSksQSh0aGlzLFwiZXZlbnRzXCIsbmV3IE1hcCksQSh0aGlzLFwic2hvdWxkUGVyc2lzdFwiLCExKSxBKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCFidCgpKXRyeXtjb25zdCBzPXtldmVudElkOm10KCksdGltZXN0YW1wOkRhdGUubm93KCksZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCkscHJvcHM6e2V2ZW50OlwiSU5JVFwiLHR5cGU6XCJcIixwcm9wZXJ0aWVzOntjbGllbnRfaWQ6YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLHVzZXJfYWdlbnQ6S3ModGhpcy5jb3JlLnJlbGF5ZXIucHJvdG9jb2wsdGhpcy5jb3JlLnJlbGF5ZXIudmVyc2lvbixQZSl9fX07YXdhaXQgdGhpcy5zZW5kRXZlbnQoW3NdKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEEodGhpcyxcImNyZWF0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50Om49XCJFUlJPUlwiLHR5cGU6bz1cIlwiLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319PXMsaD1tdCgpLGw9dGhpcy5jb3JlLnByb2plY3RJZHx8XCJcIixnPURhdGUubm93KCkseT1fZSh7ZXZlbnRJZDpoLHRpbWVzdGFtcDpnLHByb3BzOntldmVudDpuLHR5cGU6byxwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fSxidW5kbGVJZDpsLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpfSx0aGlzLnNldE1ldGhvZHMoaCkpO3JldHVybiB0aGlzLnRlbGVtZXRyeUVuYWJsZWQmJih0aGlzLmV2ZW50cy5zZXQoaCx5KSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApLHl9KSxBKHRoaXMsXCJnZXRFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm4sdG9waWM6b309cztpZihuKXJldHVybiB0aGlzLmV2ZW50cy5nZXQobik7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKS5maW5kKGM9PmMucHJvcHMucHJvcGVydGllcy50b3BpYz09PW8pO2lmKGEpcmV0dXJuIF9lKF9lKHt9LGEpLHRoaXMuc2V0TWV0aG9kcyhhLmV2ZW50SWQpKX0pLEEodGhpcyxcImRlbGV0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50SWQ6bn09czt0aGlzLmV2ZW50cy5kZWxldGUobiksdGhpcy5zaG91bGRQZXJzaXN0PSEwfSksQSh0aGlzLFwic2V0RXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e3RoaXMuc2hvdWxkUGVyc2lzdCYmYXdhaXQgdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZm9yRWFjaChzPT57c3QoRGF0ZS5ub3coKSktc3Qocy50aW1lc3RhbXApPmlpJiYodGhpcy5ldmVudHMuZGVsZXRlKHMuZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pfSl9KSxBKHRoaXMsXCJzZXRNZXRob2RzXCIscz0+KHthZGRUcmFjZTpuPT50aGlzLmFkZFRyYWNlKHMsbiksc2V0RXJyb3I6bj0+dGhpcy5zZXRFcnJvcihzLG4pfSkpLEEodGhpcyxcImFkZFRyYWNlXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy5wcm9wZXJ0aWVzLnRyYWNlLnB1c2gobiksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLEEodGhpcyxcInNldEVycm9yXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy50eXBlPW4sby50aW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmV2ZW50cy5zZXQocyxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksQSh0aGlzLFwicGVyc2lzdFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxBcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKSksdGhpcy5zaG91bGRQZXJzaXN0PSExfSksQSh0aGlzLFwicmVzdG9yZVwiLGFzeW5jKCk9Pnt0cnl7Y29uc3Qgcz1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl8fFtdO2lmKCFzLmxlbmd0aClyZXR1cm47cy5mb3JFYWNoKG49Pnt0aGlzLmV2ZW50cy5zZXQobi5ldmVudElkLF9lKF9lKHt9LG4pLHRoaXMuc2V0TWV0aG9kcyhuLmV2ZW50SWQpKSl9KX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLEEodGhpcyxcInN1Ym1pdFwiLGFzeW5jKCk9PntpZighdGhpcy50ZWxlbWV0cnlFbmFibGVkfHx0aGlzLmV2ZW50cy5zaXplPT09MClyZXR1cm47Y29uc3Qgcz1bXTtmb3IoY29uc3RbbixvXW9mIHRoaXMuZXZlbnRzKW8ucHJvcHMudHlwZSYmcy5wdXNoKG8pO2lmKHMubGVuZ3RoIT09MCl0cnl7aWYoKGF3YWl0IHRoaXMuc2VuZEV2ZW50KHMpKS5vaylmb3IoY29uc3QgbiBvZiBzKXRoaXMuZXZlbnRzLmRlbGV0ZShuLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4pfX0pLEEodGhpcyxcInNlbmRFdmVudFwiLGFzeW5jIHM9Pntjb25zdCBuPXRoaXMuZ2V0QXBwRG9tYWluKCk/XCJcIjpcIiZzcD1kZXNrdG9wXCI7cmV0dXJuIGF3YWl0IGZldGNoKGAke3NpfT9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZzdD1ldmVudHNfc2RrJnN2PWpzLSR7UGV9JHtufWAse21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHMpfSl9KSxBKHRoaXMsXCJnZXRBcHBEb21haW5cIiwoKT0+QnMoKS51cmwpLHRoaXMubG9nZ2VyPUYodCx0aGlzLmNvbnRleHQpLHRoaXMudGVsZW1ldHJ5RW5hYmxlZD1pLGk/dGhpcy5yZXN0b3JlKCkudGhlbihhc3luYygpPT57YXdhaXQgdGhpcy5zdWJtaXQoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCl9KTp0aGlzLnBlcnNpc3QoKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy5zdG9yYWdlVmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5jb250ZXh0fX12YXIgWm89T2JqZWN0LmRlZmluZVByb3BlcnR5LFdpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsUW89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxlYT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHR0PShyLGUsdCk9PmUgaW4gcj9abyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSGk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVFvLmNhbGwoZSx0KSYmdHQocix0LGVbdF0pO2lmKFdpKWZvcih2YXIgdCBvZiBXaShlKSllYS5jYWxsKGUsdCkmJnR0KHIsdCxlW3RdKTtyZXR1cm4gcn0sdj0ocixlLHQpPT50dChyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE9lIGV4dGVuZHMgbHN7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZSksdih0aGlzLFwicHJvdG9jb2xcIixVZSksdih0aGlzLFwidmVyc2lvblwiLEZlKSx2KHRoaXMsXCJuYW1lXCIsZ2UpLHYodGhpcyxcInJlbGF5VXJsXCIpLHYodGhpcyxcInByb2plY3RJZFwiKSx2KHRoaXMsXCJjdXN0b21TdG9yYWdlUHJlZml4XCIpLHYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksdih0aGlzLFwibG9nZ2VyXCIpLHYodGhpcyxcImhlYXJ0YmVhdFwiKSx2KHRoaXMsXCJyZWxheWVyXCIpLHYodGhpcyxcImNyeXB0b1wiKSx2KHRoaXMsXCJzdG9yYWdlXCIpLHYodGhpcyxcImhpc3RvcnlcIiksdih0aGlzLFwiZXhwaXJlclwiKSx2KHRoaXMsXCJwYWlyaW5nXCIpLHYodGhpcyxcInZlcmlmeVwiKSx2KHRoaXMsXCJlY2hvQ2xpZW50XCIpLHYodGhpcyxcImxpbmtNb2RlU3VwcG9ydGVkQXBwc1wiKSx2KHRoaXMsXCJldmVudENsaWVudFwiKSx2KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx2KHRoaXMsXCJsb2dDaHVua0NvbnRyb2xsZXJcIiksdih0aGlzLFwib25cIiwoYSxjKT0+dGhpcy5ldmVudHMub24oYSxjKSksdih0aGlzLFwib25jZVwiLChhLGMpPT50aGlzLmV2ZW50cy5vbmNlKGEsYykpLHYodGhpcyxcIm9mZlwiLChhLGMpPT50aGlzLmV2ZW50cy5vZmYoYSxjKSksdih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoYSxjKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoYSxjKSksdih0aGlzLFwiZGlzcGF0Y2hFbnZlbG9wZVwiLCh7dG9waWM6YSxtZXNzYWdlOmMsc2Vzc2lvbkV4aXN0czpofSk9PntpZighYXx8IWMpcmV0dXJuO2NvbnN0IGw9e3RvcGljOmEsbWVzc2FnZTpjLHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTplZS5saW5rX21vZGV9O3RoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQobCx7c2Vzc2lvbkV4aXN0czpofSl9KTtjb25zdCBpPXRoaXMuZ2V0R2xvYmFsQ29yZShlPy5jdXN0b21TdG9yYWdlUHJlZml4KTtpZihpKXRyeXtyZXR1cm4gdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWkuY3VzdG9tU3RvcmFnZVByZWZpeCx0aGlzLmxvZ2dlcj1pLmxvZ2dlcix0aGlzLmhlYXJ0YmVhdD1pLmhlYXJ0YmVhdCx0aGlzLmNyeXB0bz1pLmNyeXB0byx0aGlzLmhpc3Rvcnk9aS5oaXN0b3J5LHRoaXMuZXhwaXJlcj1pLmV4cGlyZXIsdGhpcy5zdG9yYWdlPWkuc3RvcmFnZSx0aGlzLnJlbGF5ZXI9aS5yZWxheWVyLHRoaXMucGFpcmluZz1pLnBhaXJpbmcsdGhpcy52ZXJpZnk9aS52ZXJpZnksdGhpcy5lY2hvQ2xpZW50PWkuZWNob0NsaWVudCx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1pLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyx0aGlzLmV2ZW50Q2xpZW50PWkuZXZlbnRDbGllbnQsdGhpcy5pbml0aWFsaXplZD1pLmluaXRpYWxpemVkLHRoaXMubG9nQ2h1bmtDb250cm9sbGVyPWkubG9nQ2h1bmtDb250cm9sbGVyLGl9Y2F0Y2goYSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNvcHkgZ2xvYmFsIGNvcmVcIixhKX10aGlzLnByb2plY3RJZD1lPy5wcm9qZWN0SWQsdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8S2UsdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWUhPW51bGwmJmUuY3VzdG9tU3RvcmFnZVByZWZpeD9gOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWA6XCJcIjtjb25zdCBzPVppKHtsZXZlbDp0eXBlb2YgZT8ubG9nZ2VyPT1cInN0cmluZ1wiJiZlLmxvZ2dlcj9lLmxvZ2dlcjpFdC5sb2dnZXIsbmFtZTpnZX0pLHtsb2dnZXI6bixjaHVua0xvZ2dlckNvbnRyb2xsZXI6b309UWkoe29wdHM6cyxtYXhTaXplSW5CeXRlczplPy5tYXhMb2dCbG9iU2l6ZUluQnl0ZXMsbG9nZ2VyT3ZlcnJpZGU6ZT8ubG9nZ2VyfSk7dGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9bywodD10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJnQuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKHdpbmRvdy5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyPWFzeW5jKCk9Pnt2YXIgYSxjOyhhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmYS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYoKGM9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsfHxjLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KSl9KSx0aGlzLmxvZ2dlcj1GKG4sdGhpcy5uYW1lKSx0aGlzLmhlYXJ0YmVhdD1uZXcgSmksdGhpcy5jcnlwdG89bmV3IHdpKHRoaXMsdGhpcy5sb2dnZXIsZT8ua2V5Y2hhaW4pLHRoaXMuaGlzdG9yeT1uZXcgRmkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5leHBpcmVyPW5ldyBNaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnN0b3JhZ2U9ZSE9bnVsbCYmZS5zdG9yYWdlP2Uuc3RvcmFnZTpuZXcgWGkoSGkoSGkoe30sSXQpLGU/LnN0b3JhZ2VPcHRpb25zKSksdGhpcy5yZWxheWVyPW5ldyBBaSh7Y29yZTp0aGlzLGxvZ2dlcjp0aGlzLmxvZ2dlcixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZH0pLHRoaXMucGFpcmluZz1uZXcgVWkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy52ZXJpZnk9bmV3IEtpKHRoaXMsdGhpcy5sb2dnZXIsdGhpcy5zdG9yYWdlKSx0aGlzLmVjaG9DbGllbnQ9bmV3IFZpKHRoaXMucHJvamVjdElkfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1bXSx0aGlzLmV2ZW50Q2xpZW50PW5ldyBHaSh0aGlzLHRoaXMubG9nZ2VyLGU/LnRlbGVtZXRyeUVuYWJsZWQpLHRoaXMuc2V0R2xvYmFsQ29yZSh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBPZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBpPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKFV0LGkpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKEJlLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShCZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGUsYENvcmUgSW5pdGlhbGl6YXRpb24gRmFpbHVyZSBhdCBlcG9jaCAke0RhdGUubm93KCl9YCksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX1nZXRHbG9iYWxDb3JlKGU9XCJcIil7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgdD1gX3dhbGxldENvbm5lY3RDb3JlXyR7ZX1gLGk9YCR7dH1fY291bnRgO3JldHVybiBnbG9iYWxUaGlzW2ldPShnbG9iYWxUaGlzW2ldfHwwKSsxLGdsb2JhbFRoaXNbaV0+MSYmY29uc29sZS53YXJuKGBXYWxsZXRDb25uZWN0IENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEluaXQoKSB3YXMgY2FsbGVkICR7Z2xvYmFsVGhpc1tpXX0gdGltZXMuYCksZ2xvYmFsVGhpc1t0XX1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIix0KTtyZXR1cm59fXNldEdsb2JhbENvcmUoZSl7dmFyIHQ7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgaT1gX3dhbGxldENvbm5lY3RDb3JlXyR7KCh0PWUub3B0cyk9PW51bGw/dm9pZCAwOnQuY3VzdG9tU3RvcmFnZVByZWZpeCl8fFwiXCJ9YDtnbG9iYWxUaGlzW2ldPWV9Y2F0Y2goaSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNldCBnbG9iYWwgV2FsbGV0Q29ubmVjdCBjb3JlXCIsaSl9fWlzR2xvYmFsQ29yZURpc2FibGVkKCl7dHJ5e3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuRElTQUJMRV9HTE9CQUxfQ09SRT09PVwidHJ1ZVwifWNhdGNoe3JldHVybiEwfX19Y29uc3QgdGE9T2U7ZXhwb3J0e2dlIGFzIENPUkVfQ09OVEVYVCxFdCBhcyBDT1JFX0RFRkFVTFQsVWUgYXMgQ09SRV9QUk9UT0NPTCxJdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxXIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsRmUgYXMgQ09SRV9WRVJTSU9OLE1lIGFzIENSWVBUT19DTElFTlRfU0VFRCxUdCBhcyBDUllQVE9fQ09OVEVYVCxDdCBhcyBDUllQVE9fSldUX1RUTCx0YSBhcyBDb3JlLHdpIGFzIENyeXB0byxadCBhcyBFQ0hPX0NPTlRFWFQsUXQgYXMgRUNIT19VUkwsc2kgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLGlpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsdGkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCxlaSBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLGFyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLG9yIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLHNyIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFggYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLG5yIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyxyciBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMsR3QgYXMgRVhQSVJFUl9DT05URVhULHRyIGFzIEVYUElSRVJfREVGQVVMVF9UVEwscSBhcyBFWFBJUkVSX0VWRU5UUyxXdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixWaSBhcyBFY2hvQ2xpZW50LEdpIGFzIEV2ZW50Q2xpZW50LE1pIGFzIEV4cGlyZXIsVnQgYXMgSElTVE9SWV9DT05URVhULFYgYXMgSElTVE9SWV9FVkVOVFMscXQgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04sRmkgYXMgSnNvblJwY0hpc3RvcnksUHQgYXMgS0VZQ0hBSU5fQ09OVEVYVCxTdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sX2kgYXMgS2V5Q2hhaW4sT3QgYXMgTUVTU0FHRVNfQ09OVEVYVCxSdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04seWUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sSWkgYXMgTWVzc2FnZVRyYWNrZXIsS3QgYXMgUEFJUklOR19DT05URVhULGVyIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwsYWUgYXMgUEFJUklOR19FVkVOVFMsb2UgYXMgUEFJUklOR19SUENfT1BUUyxCdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixRcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQseHQgYXMgUFVCTElTSEVSX0NPTlRFWFQsQXQgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLFVpIGFzIFBhaXJpbmcsenQgYXMgUkVMQVlFUl9DT05URVhULCR0IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIsTnQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLEtlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxNIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLGt0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsUGUgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixKcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyxMdCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLFhzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRixBaSBhcyBSZWxheWVyLGp0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixGdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsWnMgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCxqIGFzIFNVQlNDUklCRVJfRVZFTlRTLE10IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLGppIGFzIFN0b3JlLFNpIGFzIFN1YnNjcmliZXIsZWUgYXMgVFJBTlNQT1JUX1RZUEVTLFh0IGFzIFRSVVNURURfVkVSSUZZX1VSTFMsSHQgYXMgVkVSSUZZX0NPTlRFWFQsYmUgYXMgVkVSSUZZX1NFUlZFUixKdCBhcyBWRVJJRllfU0VSVkVSX1YzLEtpIGFzIFZlcmlmeSxVdCBhcyBXQUxMRVRDT05ORUNUX0NMSUVOVF9JRCxCZSBhcyBXQUxMRVRDT05ORUNUX0xJTktfTU9ERV9BUFBTLE9lIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/core/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/sign-client/dist/index.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/@walletconnect/sign-client/dist/index.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ ft),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ St),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ _t),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ pe),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ le),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ps),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ gt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ $),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ P),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Is),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ vs),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Ts),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ mt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ qs),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ Me),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ W),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ Ss),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ Ve),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ Rs),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ ke),\n/* harmony export */   SessionStore: () => (/* binding */ Fs),\n/* harmony export */   SignClient: () => (/* binding */ Qs),\n/* harmony export */   TVF_METHODS: () => (/* binding */ yt),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Le),\n/* harmony export */   \"default\": () => (/* binding */ fe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/core/dist/index.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/types/dist/index.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst Ve=\"wc\",ke=2,De=\"client\",we=`${Ve}@${ke}:${De}:`,me={name:De,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},Ss={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},Rs={database:\":memory:\"},Le=\"WALLETCONNECT_DEEPLINK_CHOICE\",vs={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Is=\"history\",Ts=\"0.3\",dt=\"proposal\",qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_DAYS,Me=\"Proposal expired\",ut=\"session\",W=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS,gt=\"engine\",P={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS},$={idle:\"IDLE\",active:\"ACTIVE\"},yt={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"},sui_signAndExecuteTransaction:{key:\"digest\"},sui_signTransaction:{key:\"\"},hedera_signAndExecuteTransaction:{key:\"transactionId\"},hedera_executeTransaction:{key:\"transactionId\"},near_signTransaction:{key:\"\"},near_signTransactions:{key:\"\"},tron_signTransaction:{key:\"txID\"},xrpl_signTransaction:{key:\"\"},xrpl_signTransactionFor:{key:\"\"},algo_signTxn:{key:\"\"},sendTransfer:{key:\"txid\"},stacks_stxTransfer:{key:\"txId\"},polkadot_signTransaction:{key:\"\"},cosmos_signDirect:{key:\"\"}},wt=\"request\",mt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],_t=\"wc\",Ps=1.5,ft=\"auth\",Et=\"authKeys\",St=\"pairingTopics\",Rt=\"requests\",le=`${_t}@${1.5}:${ft}:`,pe=`${le}:PUB_KEY`;var Ns=Object.defineProperty,Os=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,As=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,$e=(E,o,t)=>o in E?Ns(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,R=(E,o)=>{for(var t in o||(o={}))As.call(o,t)&&$e(E,t,o[t]);if(vt)for(var t of vt(o))xs.call(o,t)&&$e(E,t,o[t]);return E},O=(E,o)=>Os(E,bs(o)),c=(E,o,t)=>$e(E,typeof o!=\"symbol\"?o+\"\":o,t);class Cs extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(o){super(o),c(this,\"name\",gt),c(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:$.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:$.idle,queue:[]}),c(this,\"emittedSessionRequests\",new _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.LimitedSet({limit:500})),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(P)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const e=O(R({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e),e.optionalNamespaces=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeRequiredAndOptionalNamespaces)(e.requiredNamespaces,e.optionalNamespaces),e.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:n,scopedProperties:a,relays:l}=e;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:K}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,h=K}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),y=P.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(y),m=O(R(R({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},n&&{sessionProperties:n}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",m.id),{reject:_,resolve:b,done:V}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(y,Me),I=({id:T})=>{T===m.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(m.id),this.events.emit(S,{error:{message:Me,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(S,({error:T,session:K})=>{this.client.events.off(\"proposal_expire\",I),T?_(T):K&&b(K)}),await this.sendProposeSession({proposal:m,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:m.id}}}),await this.setProposal(m.id,m),{uri:h,approval:V}}),c(this,\"pair\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(e){throw this.client.logger.error(\"pair() failed\"),e}}),c(this,\"approve\",async t=>{var e,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(e=t?.id)==null?void 0:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),N}const{id:n,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t,d=this.client.proposal.get(n);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:y,proposer:w,requiredNamespaces:m,optionalNamespaces:S}=d;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:y});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:y,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),V=w.publicKey,I=await this.client.core.crypto.generateSharedKey(b,V),T=R(R(R({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),K=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:K,internal:{skipSubscribe:!0}})}catch(N){throw _.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),N}_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const Ee=O(R({},T),{topic:I,requiredNamespaces:m,optionalNamespaces:S,pairingTopic:y,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,Ee),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{await this.sendApproveSession({sessionTopic:I,proposal:d,pairingProposalResponse:{relay:{protocol:a??\"irn\"},responderPublicKey:b},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:n}}}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:w.metadata}),await this.deleteProposal(n),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:e,reason:s}=t;let i;try{i=this.client.proposal.get(e).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),r}i&&await this.sendError({id:e,topic:i,error:s,rpcOpts:P.wc_sessionPropose.reject}),await this.deleteProposal(e)}),c(this,\"update\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:e,namespaces:s}=t,{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(e).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?n(h):r()}),await this.client.session.update(e,{namespaces:s}),await this.sendRequest({topic:e,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(e,{namespaces:p}),n(h)}),{acknowledged:i}}),c(this,\"extend\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:e}=t,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?n(a):r()}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),this.sendRequest({topic:e,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{n(a)}),{acknowledged:i}}),c(this,\"request\",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(m){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),m}const{chainId:e,request:s,topic:i,expiry:r=P.wc_sessionRequest.req.ttl}=t,n=this.client.session.get(i);n?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:m,result:S})=>{m?u(m):h(S)});const d=\"wc_sessionRequest\",y=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);if(y)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e},expiry:r,throwOnFailedPublish:!0,appLink:y}).catch(m=>u(m)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),await p();const w={request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:w,expiry:r,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,w)}).catch(S=>u(S)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),m()}),new Promise(async m=>{var S;if(!((S=n.sessionConfig)!=null&&S.disableDeepLink)){const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Le);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:_})}m()}),p()]).then(m=>m[2])}),c(this,\"respond\",async t=>{var e,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:t?.topic||((s=(e=t?.response)==null?void 0:e.id)==null?void 0:s.toString()),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_started]}});try{await this.isValidRespond(t)}catch(h){throw i.addTrace(h?.message),i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_request_response_validation_failure),h}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_validation_success);const{topic:r,response:n}=t,{id:a}=n,l=this.client.session.get(r);l.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const p=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_request_response_publish_started),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(n)?await this.sendResult({id:a,topic:r,result:n.result,throwOnFailedPublish:!0,appLink:p}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(n)&&await this.sendError({id:a,topic:r,error:n.error,appLink:p}),this.cleanupAfterResponse(t)}catch(h){throw i.addTrace(h?.message),i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_request_response_publish_failure),h}}),c(this,\"ping\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:e}=t;if(this.client.session.keys.includes(e)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:n,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):n()}),await Promise.all([this.sendRequest({topic:e,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(e)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:e}))}),c(this,\"emit\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:e,event:s,chainId:i}=t,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:e,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:n})}),c(this,\"disconnect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(e))await this.client.core.pairing.disconnect({topic:e});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${e}`);throw new Error(s)}}),c(this,\"find\",t=>(this.isInitialized(),this.client.session.getAll().filter(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(e,t)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(t,e)=>{var s;this.isInitialized(),this.isValidAuthenticate(t);const i=e&&this.client.core.linkModeSupportedApps.includes(e)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:n,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:y,methods:w=[],expiry:m}=t,S=[...t.resources||[]],{topic:_,uri:b}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:b}});const V=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(V);if(await Promise.all([this.client.auth.authKeys.set(pe,{responseTopic:I,publicKey:V}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:_})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${_}`),w.length>0){const{namespace:A}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n[0]);let k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(A,\"request\",w);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S)&&(k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(k,S.pop())),S.push(k)}const T=m&&m>P.wc_sessionAuthenticate.req.ttl?m:P.wc_sessionAuthenticate.req.ttl,K={authPayload:{type:u??\"caip122\",chains:n,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:y,resources:S},requester:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},Ee={eip155:{chains:n,methods:[...new Set([\"personal_sign\",...w])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:Ee,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Tt,resolve:Ue,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),ie=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),he=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",N.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",ie),de=async({error:A,session:k})=>{this.events.off(Re,ve),A?Se(A):k&&Ue({session:k})},ve=async A=>{var k,Ge,je;if(await this.deletePendingAuthRequest(ie,{message:\"fulfilled\",code:0}),A.error){const ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return A.error.code===ne.code?void 0:(this.events.off(he,de),Se(A.error.message))}await this.deleteProposal(N.id),this.events.off(he,de);const{cacaos:Fe,responder:H}=A.result,Te=[],Qe=[];for(const ne of Fe){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:ne,projectId:this.client.core.projectId})||(this.client.logger.error(ne,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=ne,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),He=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],qt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),Pt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),He.push(...Pt)}for(const Ne of He)Qe.push(`${Ne}:${qt}`)}const re=await this.client.core.crypto.generateSharedKey(V,H.publicKey);let ue;Te.length>0&&(ue={topic:re,acknowledged:!0,self:{publicKey:V,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(Qe)]),transportType:r},await this.client.core.relayer.subscribe(re,{transportType:r}),await this.client.session.set(re,ue),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:H.metadata}),ue=this.client.session.get(re)),(k=this.client.metadata.redirect)!=null&&k.linkMode&&(Ge=H.metadata.redirect)!=null&&Ge.linkMode&&(je=H.metadata.redirect)!=null&&je.universal&&e&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(re,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),Ue({auths:Fe,session:ue})};this.events.once(he,de),this.events.once(Re,ve);let Ie;try{if(i){const A=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",K,ie);this.client.core.history.set(_,A);const k=await this.client.core.crypto.encode(\"\",A,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(e,_,k)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:K,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:ie}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:P.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(A){throw this.events.off(he,de),this.events.off(Re,ve),A}return await this.setProposal(N.id,N),await this.setAuthRequest(ie,{request:O(R({},K),{verifyContext:{}}),pairingTopic:_,transportType:r}),{uri:Ie??b,response:Tt}}),c(this,\"approveSessionAuthenticate\",async t=>{const{id:e,auths:s}=t,i=this.client.core.eventClient.createEvent({properties:{topic:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),m}const r=this.getPendingAuthRequest(e);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${e}`);const n=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const m of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:m,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:e,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:S}=m,_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(S.resources),b=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(S.iss)],V=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(S.iss);if(_){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(_),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(_);u.push(...I),b.push(...T)}for(const I of b)d.push(`${I}:${V}`)}const y=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let w;if(u?.length>0){w={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:n},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:n})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),m}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(y,w),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:e,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,n)})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(e,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:w}}),c(this,\"rejectSessionAuthenticate\",async t=>{this.isInitialized();const{id:e,reason:s}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:n};await this.sendError({id:e,topic:a,error:s,encodeOpts:l,rpcOpts:P.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(e,{message:\"rejected\",code:0}),await this.deleteProposal(e)}),c(this,\"formatAuthMessage\",t=>{this.isInitialized();const{request:e,iss:s}=t;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(e,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),c(this,\"cleanupDuplicatePairings\",async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,n;return((r=i.peerMetadata)==null?void 0:r.url)&&((n=i.peerMetadata)==null?void 0:n.url)===t.peer.metadata.url&&i.topic&&i.topic!==e.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(e){this.client.logger.error(e)}}),c(this,\"deleteSession\",async t=>{var e;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:n=0}=t,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Le).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((e=this.sessionRequestQueue.queue[0])==null?void 0:e.topic)&&(this.sessionRequestQueue.state=$.idle),r&&this.client.events.emit(\"session_delete\",{id:n,topic:s})}),c(this,\"deleteProposal\",async(t,e)=>{if(e)try{const s=this.client.proposal.get(t),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==t),s&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit(\"session_request_expire\",{id:t}))}),c(this,\"deletePendingAuthRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)])}),c(this,\"setExpiry\",async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))}),c(this,\"setProposal\",async(t,e)=>{this.client.core.expirer.set(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)}),c(this,\"setAuthRequest\",async(t,e)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=e;this.client.core.expirer.set(t,s.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:t,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async t=>{const{id:e,topic:s,params:i,verifyContext:r}=t,n=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,n),await this.client.pendingRequest.set(e,{id:e,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async t=>{const{topic:e,method:s,params:i,expiry:r,relayRpcId:n,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h,publishOpts:u={}}=t,d=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let y;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;y=await this.client.core.crypto.encode(e,d,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),_}let m;if(mt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(d)),b=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(y);m=await this.client.core.verify.register({id:b,decryptedId:_})}const S=R(R({},P[s].req),u);if(S.attestation=m,r&&(S.ttl=r),n&&(S.id=n),this.client.core.history.set(e,d),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,e,y);await global.Linking.openURL(_,this.client.name)}else S.tvf=O(R({},h),{correlationId:d.id}),l?(S.internal=O(R({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,y,S)):this.client.core.relayer.publish(e,y,S).catch(_=>this.client.logger.error(_));return d.id}),c(this,\"sendProposeSession\",async t=>{const{proposal:e,publishOpts:s}=t,i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",e,e.id);this.client.core.history.set(e.pairingTopic,i);const r=await this.client.core.crypto.encode(e.pairingTopic,i,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(r),l=await this.client.core.verify.register({id:a,decryptedId:n});await this.client.core.relayer.publishCustom({payload:{pairingTopic:e.pairingTopic,sessionProposal:r},opts:O(R({},s),{publishMethod:\"wc_proposeSession\",attestation:l})})}),c(this,\"sendApproveSession\",async t=>{const{sessionTopic:e,pairingProposalResponse:s,proposal:i,sessionSettleRequest:r,publishOpts:n}=t,a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,a,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionSettle\",r,n?.id),h=await this.client.core.crypto.encode(e,p,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});this.client.core.history.set(e,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:e,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:h},opts:O(R({},n),{publishMethod:\"wc_approveSession\"})})}),c(this,\"sendResult\",async t=>{const{id:e,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const y=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},n||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),y}let u,d;try{u=await this.client.core.history.get(s,e);const y=u.request;try{d=this.getTVFParams(e,y.params,i)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${e}) failed`),y}if(h){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(y,this.client.name)}else{const y=u.request.method,w=P[y].res;w.tvf=O(R({},d),{correlationId:e}),r?(w.internal=O(R({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,w)):this.client.core.relayer.publish(s,p,w).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async t=>{const{id:e,topic:s,error:i,encodeOpts:r,rpcOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,e)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${e}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,y=n||P[d].res;this.client.core.relayer.publish(s,p,y)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const t=[],e=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&e.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession({topic:s})),...e.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),c(this,\"onRelayEventRequest\",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=$.idle}),c(this,\"processRequest\",async t=>{const{topic:e,payload:s,attestation:i,transportType:r,encryptedId:n}=t,a=s.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:e,payload:s,attestation:i,encryptedId:n});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(e,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(e,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(e,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(e,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(e,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(e,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async t=>{const{topic:e,payload:s,transportType:i}=t,r=(await this.client.core.history.get(e,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(e,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(e,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(e,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(e,s);case\"wc_sessionPing\":return this.onSessionPingResponse(e,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(e,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(e,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",t=>{const{topic:e}=t,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",t=>{const{topic:e,requestMethod:s}=t,i=this.expectedPairingMethodMap.get(e);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async t=>{const{topic:e,payload:s,attestation:i,encryptedId:r}=t,{params:n,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:e});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(R({},s.params));const p=n.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),h=R({id:a,pairingTopic:e,expiryTimestamp:p,attestation:i,encryptedId:r},n);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:e,error:l,rpcOpts:P.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(t,e,s)=>{const{id:i}=e;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)){const{result:r}=e;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const n=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const a=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:t,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:t})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)){await this.deleteProposal(i);const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:e.error})}}),c(this,\"onSessionSettleRequest\",async(t,e)=>{const{id:s,params:i}=e;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e.params,d=[...this.pendingSessions.values()].find(m=>m.sessionTopic===t);if(!d)return this.client.logger.error(`Pending session not found for topic ${t}`);const y=this.client.proposal.get(d.proposalId),w=O(R(R(R({topic:t,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:n.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit(\"session_connect\",{session:w}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:w}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:e.id,topic:t,result:!0})}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(t,e)=>{const{id:s}=e;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&(await this.client.session.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:e.error}))}),c(this,\"onSessionUpdateRequest\",async(t,e)=>{const{params:s,id:i}=e;try{const r=`${t}_session_update`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(R({topic:t},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:t,result:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:t,params:s})}catch(r){await this.sendError({id:i,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(t,e)=>e.toString().slice(0,-3)<t.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:e.error})}),c(this,\"onSessionExtendRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(W)),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:e.error})}),c(this,\"onSessionPingRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:e.error})},500)}),c(this,\"onSessionDeleteRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:t,id:s}))})}),this.sendResult({id:s,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async t=>{var e,s,i;const{topic:r,payload:n,attestation:a,encryptedId:l,transportType:p}=t,{id:h,params:u}=n;try{await this.isValidRequest(R({topic:r},u));const d=this.client.session.get(r),y=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),w={id:h,topic:r,params:u,verifyContext:y};await this.setPendingSessionRequest(w),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=d.peer.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionEventRequest\",async(t,e)=>{const{id:s,params:i}=e;try{const r=`${t}_session_event_${i.event.name}`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(R({topic:t},i)),this.client.events.emit(\"session_event\",{id:s,topic:t,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(t,e)=>{const{id:s}=e;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:t,payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionAuthenticateRequest\",async t=>{var e;const{topic:s,payload:i,attestation:r,encryptedId:n,transportType:a}=t;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:n,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=l.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:P.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",t=>{this.sessionRequestQueue.queue.push(t)}),c(this,\"cleanupAfterResponse\",t=>{this.deletePendingSessionRequest(t.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:t,error:e})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===t&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:e})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info(\"session request queue is already active.\");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info(\"session request queue is empty.\");return}try{this.emitSessionRequest(t)}catch(e){this.client.logger.error(e)}}),c(this,\"emitSessionRequest\",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \\`session_request\\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=$.active,this.emittedSessionRequests.add(t.id),this.client.events.emit(\"session_request\",t)}),c(this,\"onPairingCreated\",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find(s=>s.pairingTopic===t.topic);e&&this.onSessionProposeRequest({topic:t.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",O(R({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties,scopedProperties:e.scopedProperties}),e.id),attestation:e.attestation,encryptedId:e.encryptedId})}),c(this,\"isValidConnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:e,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:n,relays:a}=t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(e)||await this.isValidPairingTopic(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(s&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,\"requiredNamespaces\")}if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)&&this.validateSessionProps(r,\"sessionProperties\"),n&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(n).every(p=>l.includes(p.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(n)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(t,e)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(t,\"connect()\",e);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${t}`).message);const{id:e,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:n}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const a=this.client.proposal.get(e),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)&&this.validateSessionProps(r,\"sessionProperties\"),n&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(n).every(u=>h.has(u.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(n)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${t}`);throw new Error(i)}const{id:e,reason:s}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:e,controller:s,namespaces:i,expiry:r}=t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(n)throw new Error(n.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${t}`);throw new Error(a)}const{topic:e,namespaces:s}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const i=this.client.session.get(e),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(n)throw new Error(n.message)}),c(this,\"isValidExtend\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${t}`);throw new Error(s)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)}),c(this,\"isValidRequest\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${t}`);throw new Error(a)}const{topic:e,request:s,chainId:i,expiry:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:n}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(n,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async t=>{var e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${t}`);throw new Error(n)}const{topic:s,response:i}=t;try{await this.isValidSessionTopic(s)}catch(n){throw(e=t?.response)!=null&&e.id&&this.cleanupAfterResponse(t),n}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(n)}const r=this.client.pendingRequest.get(i.id);if(r.topic!==s){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${r.topic}, received topic: ${s}`);throw new Error(n)}}),c(this,\"isValidPing\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidEmit\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${t}`);throw new Error(n)}const{topic:e,event:s,chainId:i}=t;await this.isValidSessionTopic(e);const{namespaces:r}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}}),c(this,\"isValidDisconnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidAuthenticate\",t=>{const{chains:e,uri:s,domain:i,nonce:r}=t;if(!Array.isArray(e)||e.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e[0]);if(n!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async t=>{const{attestationId:e,hash:s,encryptedId:i,metadata:r,transportType:n}=t,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,n);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:e,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(t,e)=>{Object.values(t).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${e} must contain an existing value for each key. Received: ${s} for key ${Object.keys(t)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",t=>{const e=this.client.auth.requests.get(t);return typeof e==\"object\"?e:void 0}),c(this,\"addToRecentlyDeleted\",(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${e}: ${t}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(t,e)=>{var s,i,r,n,a,l,p,h,u;return!t||e!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((n=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:n.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=t?.redirect)==null?void 0:p.universal)!==void 0&&((h=t?.redirect)==null?void 0:h.universal)!==\"\"&&((u=t?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(t,e)=>{var s;return this.isLinkModeEnabled(t,e)?(s=t?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:t})=>{if(!t||!t.includes(\"wc_ev\")||!t.includes(\"topic\"))return;const e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(e);i&&this.client.session.update(e,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:e,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const e=global==null?void 0:global.Linking;if(typeof e<\"u\"){e.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await e.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"getTVFParams\",(t,e,s)=>{var i,r,n;if(!((i=e.request)!=null&&i.method))return{};const a={correlationId:t,rpcMethods:[e.request.method],chainId:e.chainId};try{const l=this.extractTxHashesFromResult(e.request,s);a.txHashes=l,a.contractAddresses=this.isValidContractData(e.request.params)?[(n=(r=e.request.params)==null?void 0:r[0])==null?void 0:n.to]:[]}catch(l){this.client.logger.warn(l,\"Error getting TVF params\")}return a}),c(this,\"isValidContractData\",t=>{var e;if(!t)return!1;try{const s=t?.data||((e=t?.[0])==null?void 0:e.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(t,e)=>{var s;try{if(!e)return[];const i=t.method,r=yt[i];if(i===\"sui_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSuiDigest)(e.transactionBytes)];if(i===\"near_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(e)];if(i===\"near_signTransactions\")return e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(a));if(i===\"xrpl_signTransactionFor\"||i===\"xrpl_signTransaction\")return[(s=e.tx_json)==null?void 0:s.hash];if(i===\"polkadot_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildSignedExtrinsicHash)({transaction:t.params.transactionPayload,signature:e.signature})];if(i===\"algo_signTxn\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)?e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(a)):[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(e)];if(i===\"cosmos_signDirect\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSignDirectHash)(e)];if(i===\"wallet_sendCalls\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getWalletSendCallsHashes)(e);if(typeof e==\"string\")return[e];const n=e[r.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n))return i===\"solana_signAllTransactions\"?n.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(a)):n;if(typeof n==\"string\")return[n]}catch(i){this.client.logger.warn(i,\"Error extracting tx hashes from result\")}return[]})}async processPendingMessageEvents(){try{const o=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(o);for(const[e,s]of Object.entries(t))for(const i of s)try{await this.onProviderMessageEvent({topic:e,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${i}`)}}catch(o){this.client.logger.warn(o,\"processPendingMessageEvents failed\")}}isInitialized(){if(!this.initialized){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(o)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,o=>{this.onProviderMessageEvent(o)})}async onRelayMessage(o){const{topic:t,message:e,attestation:s,transportType:i}=o,{publicKey:r}=this.client.auth.authKeys.keys.includes(pe)?this.client.auth.authKeys.get(pe):{responseTopic:void 0,publicKey:void 0};try{const n=await this.client.core.crypto.decode(t,e,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(e)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n,transportType:i}),this.client.core.history.delete(t,n.id)):await this.onRelayEventUnknownPayload({topic:t,payload:n,transportType:i}),await this.client.core.relayer.messages.ack(t,e)}catch(n){this.client.logger.error(n)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async o=>{const{topic:t,id:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(o.target);if(e&&this.client.pendingRequest.keys.includes(e))return await this.deletePendingSessionRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(e&&this.client.auth.requests.keys.includes(e))return await this.deletePendingAuthRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:t})):e&&(await this.deleteProposal(e,!0),this.client.events.emit(\"proposal_expire\",{id:e}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,o=>this.onPairingCreated(o)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,o=>{this.addToRecentlyDeleted(o.topic,\"pairing\")})}isValidPairingTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${o}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(o).expiry)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${o}`);throw new Error(t)}}async isValidSessionTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${o}`);throw new Error(t)}if(this.checkRecentlyDeleted(o),!this.client.session.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(o).expiry)){await this.deleteSession({topic:o});const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${o}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${o}`);throw await this.deleteSession({topic:o}),new Error(t)}}async isValidSessionOrPairingTopic(o){if(this.checkRecentlyDeleted(o),this.client.session.keys.includes(o))await this.isValidSessionTopic(o);else if(this.client.core.pairing.pairings.keys.includes(o))this.isValidPairingTopic(o);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${o}`);throw new Error(t)}else{const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${o}`);throw new Error(t)}}async isValidProposalId(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${o}`);throw new Error(t)}if(!this.client.proposal.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(o).expiryTimestamp)){await this.deleteProposal(o);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${o}`);throw new Error(t)}}}class Vs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,dt,we),this.core=o,this.logger=t}}class It extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,ut,we),this.core=o,this.logger=t}}class ks extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,wt,we,e=>e.id),this.core=o,this.logger=t}}class Ds extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Et,le,()=>pe),this.core=o,this.logger=t}}class Ls extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,St,le),this.core=o,this.logger=t}}class Ms extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Rt,le,e=>e.id),this.core=o,this.logger=t}}var $s=Object.defineProperty,Ks=(E,o,t)=>o in E?$s(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,Ke=(E,o,t)=>Ks(E,typeof o!=\"symbol\"?o+\"\":o,t);class Us{constructor(o,t){this.core=o,this.logger=t,Ke(this,\"authKeys\"),Ke(this,\"pairingTopics\"),Ke(this,\"requests\"),this.authKeys=new Ds(this.core,this.logger),this.pairingTopics=new Ls(this.core,this.logger),this.requests=new Ms(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Gs=Object.defineProperty,js=(E,o,t)=>o in E?Gs(E,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):E[o]=t,f=(E,o,t)=>js(E,typeof o!=\"symbol\"?o+\"\":o,t);class fe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(o){super(o),f(this,\"protocol\",Ve),f(this,\"version\",ke),f(this,\"name\",me.name),f(this,\"metadata\"),f(this,\"core\"),f(this,\"logger\"),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"engine\"),f(this,\"session\"),f(this,\"proposal\"),f(this,\"pendingRequest\"),f(this,\"auth\"),f(this,\"signConfig\"),f(this,\"on\",(e,s)=>this.events.on(e,s)),f(this,\"once\",(e,s)=>this.events.once(e,s)),f(this,\"off\",(e,s)=>this.events.off(e,s)),f(this,\"removeListener\",(e,s)=>this.events.removeListener(e,s)),f(this,\"removeAllListeners\",e=>this.events.removeAllListeners(e)),f(this,\"connect\",async e=>{try{return await this.engine.connect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"pair\",async e=>{try{return await this.engine.pair(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approve\",async e=>{try{return await this.engine.approve(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"reject\",async e=>{try{return await this.engine.reject(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"update\",async e=>{try{return await this.engine.update(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"extend\",async e=>{try{return await this.engine.extend(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"request\",async e=>{try{return await this.engine.request(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"respond\",async e=>{try{return await this.engine.respond(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"ping\",async e=>{try{return await this.engine.ping(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"emit\",async e=>{try{return await this.engine.emit(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"disconnect\",async e=>{try{return await this.engine.disconnect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"find\",e=>{try{return this.engine.find(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),f(this,\"authenticate\",async(e,s)=>{try{return await this.engine.authenticate(e,s)}catch(i){throw this.logger.error(i.message),i}}),f(this,\"formatAuthMessage\",e=>{try{return this.engine.formatAuthMessage(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approveSessionAuthenticate\",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"rejectSessionAuthenticate\",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),this.name=o?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(o?.metadata),this.signConfig=o?.signConfig;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createLogger)({logger:o?.logger||me.logger,name:this.name});this.logger=t,this.core=o?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(o),this.session=new It(this.core,this.logger),this.proposal=new Vs(this.core,this.logger),this.pendingRequest=new ks(this.core,this.logger),this.engine=new Cs(this),this.auth=new Us(this.core,this.logger)}static async init(o){const t=new fe(o);return await t.initialize(),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_1__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\")}catch(o){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(o.message),o}}}const Fs=It,Qs=fe;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXU1RSxxQ0FBcUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sOEVBQThFLEtBQUssNGNBQTRjLEtBQUssb0JBQW9CLHdDQUF3QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsb0JBQW9CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixrQkFBa0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQix5QkFBeUIsS0FBSyxJQUFJLHlEQUFFLG9CQUFvQixNQUFNLElBQUkseURBQUUsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHNCQUFzQixLQUFLLElBQUksNkRBQUMsS0FBSywyREFBRSxD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QXFDLElBQUksMkNBQTJDLFNBQVMsc0NBQXNDLGlDQUFpQyxJQUFJLHdDQUF3QyxTQUFTLHNDQUFzQyxnREFBZ0QsSUFBSSx1REFBdUQsU0FBUyxzQ0FBc0MsK0NBQStDLElBQUksc0RBQXNELFNBQVMsc0NBQXNDLDJDQUEyQyx5RUFBRSw0Q0FBNEMsUUFBUSxrRUFBRSxFQUFFLDJDQUEyQyxFQUFFLHFDQUFxQyxxREFBRSw4TUFBOE0scUJBQXFCLGtCQUFrQiw4QkFBOEIsY0FBYyxPQUFPLHVFQUFFLGNBQWMsY0FBYyxrQ0FBa0MsbUJBQW1CLGlDQUFpQyxJQUFJLG9OQUFvTixTQUFTLDZGQUE2RixrQkFBaTJCO0FBQ3J6akUiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTnQse0V2ZW50RW1pdHRlciBhcyBPdH1mcm9tXCJldmVudHNcIjtpbXBvcnR7UkVMQVlFUl9FVkVOVFMgYXMgemUsVFJBTlNQT1JUX1RZUEVTIGFzIHEsRVhQSVJFUl9FVkVOVFMgYXMgYnQsUEFJUklOR19FVkVOVFMgYXMgWWUsUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MIGFzIEF0LEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyBhcyBELEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyBhcyB6LEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTIGFzIFksRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMgYXMgb2UsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTIGFzIHh0LEVWRU5UX0NMSUVOVF9QQUlSSU5HX1RSQUNFUyBhcyBDdCxWRVJJRllfU0VSVkVSIGFzIFZ0LFN0b3JlIGFzIFosQ29yZSBhcyBrdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9jb3JlXCI7aW1wb3J0e0lFbmdpbmUgYXMgRHQsSVNpZ25DbGllbnQgYXMgTHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdHlwZXNcIjtpbXBvcnR7TGltaXRlZFNldCBhcyBNdCxnZXRJbnRlcm5hbEVycm9yIGFzIGcsQkFTRTY0VVJMIGFzIGFlLEJBU0U2NCBhcyBKLGhhc2hNZXNzYWdlIGFzIFUscGFyc2VFeHBpcmVyVGFyZ2V0IGFzICR0LGlzVmFsaWRTdHJpbmcgYXMgWCxpc0V4cGlyZWQgYXMgZWUsaXNWYWxpZElkIGFzIEt0LG1lcmdlUmVxdWlyZWRBbmRPcHRpb25hbE5hbWVzcGFjZXMgYXMgVXQsY2FsY0V4cGlyeSBhcyB4LGVuZ2luZUV2ZW50IGFzIHYsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgdGUsZ2V0U2RrRXJyb3IgYXMgTCxnZXREZWVwTGluayBhcyBHdCxoYW5kbGVEZWVwbGlua1JlZGlyZWN0IGFzIGp0LGlzU2Vzc2lvbkNvbXBhdGlibGUgYXMgRnQsaGFzaEtleSBhcyBPZSxwYXJzZUNoYWluSWQgYXMgYmUsY3JlYXRlRW5jb2RlZFJlY2FwIGFzIFF0LGdldFJlY2FwRnJvbVJlc291cmNlcyBhcyBBZSxtZXJnZUVuY29kZWRSZWNhcHMgYXMgSHQsVFlQRV8yIGFzIHp0LGdldExpbmtNb2RlVVJMIGFzIGdlLHZhbGlkYXRlU2lnbmVkQ2FjYW8gYXMgSmUsZ2V0TmFtZXNwYWNlZERpZENoYWluSWQgYXMgWGUsZ2V0RGlkQWRkcmVzcyBhcyBCZSxnZXRNZXRob2RzRnJvbVJlY2FwIGFzIFdlLGdldENoYWluc0Zyb21SZWNhcCBhcyBaZSxidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCBhcyBldCxmb3JtYXRNZXNzYWdlIGFzIFl0LE1lbW9yeVN0b3JlIGFzIGNlLGlzVmFsaWRQYXJhbXMgYXMgTSxpc1VuZGVmaW5lZCBhcyBCLGlzVmFsaWRSZWxheXMgYXMgSnQsaXNWYWxpZE9iamVjdCBhcyB0dCxpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzIGFzIFh0LGlzVmFsaWROYW1lc3BhY2VzIGFzIHhlLGlzQ29uZm9ybWluZ05hbWVzcGFjZXMgYXMgc3QsaXNWYWxpZEVycm9yUmVhc29uIGFzIEJ0LGlzVmFsaWRSZWxheSBhcyBXdCxpc1ZhbGlkQ29udHJvbGxlciBhcyBadCxpc1ZhbGlkTmFtZXNwYWNlc0NoYWluSWQgYXMgaXQsaXNWYWxpZFJlcXVlc3QgYXMgZXMsaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0IGFzIHRzLGlzVmFsaWRSZXF1ZXN0RXhwaXJ5IGFzIHNzLGlzVmFsaWRSZXNwb25zZSBhcyBpcyxpc1ZhbGlkRXZlbnQgYXMgcnMsaXNWYWxpZE5hbWVzcGFjZXNFdmVudCBhcyBucyxnZXRTZWFyY2hQYXJhbUZyb21VUkwgYXMgcnQsaXNUZXN0UnVuIGFzIG9zLGlzUmVhY3ROYXRpdmUgYXMgYXMsZ2V0U3VpRGlnZXN0IGFzIGNzLGdldE5lYXJUcmFuc2FjdGlvbklkRnJvbVNpZ25lZFRyYW5zYWN0aW9uIGFzIG50LGJ1aWxkU2lnbmVkRXh0cmluc2ljSGFzaCBhcyBscyxpc1ZhbGlkQXJyYXkgYXMgb3QsZ2V0QWxnb3JhbmRUcmFuc2FjdGlvbklkIGFzIGF0LGdldFNpZ25EaXJlY3RIYXNoIGFzIHBzLGdldFdhbGxldFNlbmRDYWxsc0hhc2hlcyBhcyBocyxleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCBhcyBkcyxUWVBFXzEgYXMgQ2UscG9wdWxhdGVBcHBNZXRhZGF0YSBhcyB1cyxjcmVhdGVMb2dnZXIgYXMgZ3N9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7Z2V0TG9nZ2VyQ29udGV4dCBhcyB5c31mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7VEhJUlRZX0RBWVMgYXMgd3MsU0VWRU5fREFZUyBhcyBjdCxGSVZFX01JTlVURVMgYXMgQyxPTkVfREFZIGFzIEcsT05FX0hPVVIgYXMgbHQsT05FX1NFQ09ORCBhcyBtcyx0b01pbGlzZWNvbmRzIGFzIHB0fWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7aXNKc29uUnBjUmVxdWVzdCBhcyBfcyxpc0pzb25ScGNSZXNwb25zZSBhcyBmcyxwYXlsb2FkSWQgYXMgaixnZXRCaWdJbnRScGNJZCBhcyB5ZSxpc0pzb25ScGNSZXN1bHQgYXMgRixpc0pzb25ScGNFcnJvciBhcyBRLGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHNlLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgaHQsZm9ybWF0SnNvblJwY0Vycm9yIGFzIEVzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjb25zdCBWZT1cIndjXCIsa2U9MixEZT1cImNsaWVudFwiLHdlPWAke1ZlfUAke2tlfToke0RlfTpgLG1lPXtuYW1lOkRlLGxvZ2dlcjpcImVycm9yXCIsY29udHJvbGxlcjohMSxyZWxheVVybDpcIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCJ9LFNzPXtzZXNzaW9uX3Byb3Bvc2FsOlwic2Vzc2lvbl9wcm9wb3NhbFwiLHNlc3Npb25fdXBkYXRlOlwic2Vzc2lvbl91cGRhdGVcIixzZXNzaW9uX2V4dGVuZDpcInNlc3Npb25fZXh0ZW5kXCIsc2Vzc2lvbl9waW5nOlwic2Vzc2lvbl9waW5nXCIsc2Vzc2lvbl9kZWxldGU6XCJzZXNzaW9uX2RlbGV0ZVwiLHNlc3Npb25fZXhwaXJlOlwic2Vzc2lvbl9leHBpcmVcIixzZXNzaW9uX3JlcXVlc3Q6XCJzZXNzaW9uX3JlcXVlc3RcIixzZXNzaW9uX3JlcXVlc3Rfc2VudDpcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsc2Vzc2lvbl9ldmVudDpcInNlc3Npb25fZXZlbnRcIixwcm9wb3NhbF9leHBpcmU6XCJwcm9wb3NhbF9leHBpcmVcIixzZXNzaW9uX2F1dGhlbnRpY2F0ZTpcInNlc3Npb25fYXV0aGVudGljYXRlXCIsc2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZTpcInNlc3Npb25fcmVxdWVzdF9leHBpcmVcIixzZXNzaW9uX2Nvbm5lY3Q6XCJzZXNzaW9uX2Nvbm5lY3RcIn0sUnM9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sTGU9XCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLHZzPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LElzPVwiaGlzdG9yeVwiLFRzPVwiMC4zXCIsZHQ9XCJwcm9wb3NhbFwiLHFzPXdzLE1lPVwiUHJvcG9zYWwgZXhwaXJlZFwiLHV0PVwic2Vzc2lvblwiLFc9Y3QsZ3Q9XCJlbmdpbmVcIixQPXt3Y19zZXNzaW9uUHJvcG9zZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMDB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAxfSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTEyMH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTIxfX0sd2Nfc2Vzc2lvblNldHRsZTp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDJ9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAzfX0sd2Nfc2Vzc2lvblVwZGF0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDR9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA1fX0sd2Nfc2Vzc2lvbkV4dGVuZDp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMDZ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA3fX0sd2Nfc2Vzc2lvblJlcXVlc3Q6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTA4fSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwOX19LHdjX3Nlc3Npb25FdmVudDp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMTB9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTExfX0sd2Nfc2Vzc2lvbkRlbGV0ZTp7cmVxOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMTJ9LHJlczp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTEzfX0sd2Nfc2Vzc2lvblBpbmc6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTE0fSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTExNX19LHdjX3Nlc3Npb25BdXRoZW50aWNhdGU6e3JlcTp7dHRsOmx0LHByb21wdDohMCx0YWc6MTExNn0scmVzOnt0dGw6bHQscHJvbXB0OiExLHRhZzoxMTE3fSxyZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTExOH0sYXV0b1JlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTE5fX19LF9lPXttaW46QyxtYXg6Y3R9LCQ9e2lkbGU6XCJJRExFXCIsYWN0aXZlOlwiQUNUSVZFXCJ9LHl0PXtldGhfc2VuZFRyYW5zYWN0aW9uOntrZXk6XCJcIn0sZXRoX3NlbmRSYXdUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHdhbGxldF9zZW5kQ2FsbHM6e2tleTpcIlwifSxzb2xhbmFfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJzaWduYXR1cmVcIn0sc29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnM6e2tleTpcInRyYW5zYWN0aW9uc1wifSxzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9LHN1aV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJkaWdlc3RcIn0sc3VpX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LGhlZGVyYV9zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJ0cmFuc2FjdGlvbklkXCJ9LGhlZGVyYV9leGVjdXRlVHJhbnNhY3Rpb246e2tleTpcInRyYW5zYWN0aW9uSWRcIn0sbmVhcl9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxuZWFyX3NpZ25UcmFuc2FjdGlvbnM6e2tleTpcIlwifSx0cm9uX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwidHhJRFwifSx4cnBsX3NpZ25UcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LHhycGxfc2lnblRyYW5zYWN0aW9uRm9yOntrZXk6XCJcIn0sYWxnb19zaWduVHhuOntrZXk6XCJcIn0sc2VuZFRyYW5zZmVyOntrZXk6XCJ0eGlkXCJ9LHN0YWNrc19zdHhUcmFuc2Zlcjp7a2V5OlwidHhJZFwifSxwb2xrYWRvdF9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxjb3Ntb3Nfc2lnbkRpcmVjdDp7a2V5OlwiXCJ9fSx3dD1cInJlcXVlc3RcIixtdD1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLF90PVwid2NcIixQcz0xLjUsZnQ9XCJhdXRoXCIsRXQ9XCJhdXRoS2V5c1wiLFN0PVwicGFpcmluZ1RvcGljc1wiLFJ0PVwicmVxdWVzdHNcIixsZT1gJHtfdH1AJHsxLjV9OiR7ZnR9OmAscGU9YCR7bGV9OlBVQl9LRVlgO3ZhciBOcz1PYmplY3QuZGVmaW5lUHJvcGVydHksT3M9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsYnM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsdnQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxBcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHhzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsJGU9KEUsbyx0KT0+byBpbiBFP05zKEUsbyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOkVbb109dCxSPShFLG8pPT57Zm9yKHZhciB0IGluIG98fChvPXt9KSlBcy5jYWxsKG8sdCkmJiRlKEUsdCxvW3RdKTtpZih2dClmb3IodmFyIHQgb2YgdnQobykpeHMuY2FsbChvLHQpJiYkZShFLHQsb1t0XSk7cmV0dXJuIEV9LE89KEUsbyk9Pk9zKEUsYnMobykpLGM9KEUsbyx0KT0+JGUoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBDcyBleHRlbmRzIER0e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLGModGhpcyxcIm5hbWVcIixndCksYyh0aGlzLFwiZXZlbnRzXCIsbmV3IE50KSxjKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxjKHRoaXMsXCJyZXF1ZXN0UXVldWVcIix7c3RhdGU6JC5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwic2Vzc2lvblJlcXVlc3RRdWV1ZVwiLHtzdGF0ZTokLmlkbGUscXVldWU6W119KSxjKHRoaXMsXCJlbWl0dGVkU2Vzc2lvblJlcXVlc3RzXCIsbmV3IE10KHtsaW1pdDo1MDB9KSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlRGVsYXlcIixtcyksYyh0aGlzLFwiZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTWFwXCIsbmV3IE1hcCksYyh0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLGModGhpcyxcInJlbGF5TWVzc2FnZUNhY2hlXCIsW10pLGModGhpcyxcInBlbmRpbmdTZXNzaW9uc1wiLG5ldyBNYXApLGModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLGF3YWl0IHRoaXMucmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyhQKX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpfSxwdCh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSkpfSksYyh0aGlzLFwiY29ubmVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBlPU8oUih7fSx0KSx7cmVxdWlyZWROYW1lc3BhY2VzOnQucmVxdWlyZWROYW1lc3BhY2VzfHx7fSxvcHRpb25hbE5hbWVzcGFjZXM6dC5vcHRpb25hbE5hbWVzcGFjZXN8fHt9fSk7YXdhaXQgdGhpcy5pc1ZhbGlkQ29ubmVjdChlKSxlLm9wdGlvbmFsTmFtZXNwYWNlcz1VdChlLnJlcXVpcmVkTmFtZXNwYWNlcyxlLm9wdGlvbmFsTmFtZXNwYWNlcyksZS5yZXF1aXJlZE5hbWVzcGFjZXM9e307Y29uc3R7cGFpcmluZ1RvcGljOnMscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIsc2Vzc2lvblByb3BlcnRpZXM6bixzY29wZWRQcm9wZXJ0aWVzOmEscmVsYXlzOmx9PWU7bGV0IHA9cyxoLHU9ITE7dHJ5e2lmKHApe2NvbnN0IFQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChwKTt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcImNvbm5lY3QoKSB3aXRoIGV4aXN0aW5nIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLHU9VC5hY3RpdmV9fWNhdGNoKFQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgY29ubmVjdCgpIC0+IHBhaXJpbmcuZ2V0KCR7cH0pIGZhaWxlZGApLFR9aWYoIXB8fCF1KXtjb25zdHt0b3BpYzpULHVyaTpLfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHtpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KTtwPVQsaD1LfWlmKCFwKXtjb25zdHttZXNzYWdlOlR9PWcoXCJOT19NQVRDSElOR19LRVlcIixgY29ubmVjdCgpIHBhaXJpbmcgdG9waWM6ICR7cH1gKTt0aHJvdyBuZXcgRXJyb3IoVCl9Y29uc3QgZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSx5PVAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bHx8Qyx3PXgoeSksbT1PKFIoUih7cmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIscmVsYXlzOmw/P1t7cHJvdG9jb2w6QXR9XSxwcm9wb3Nlcjp7cHVibGljS2V5OmQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp3LHBhaXJpbmdUb3BpYzpwfSxuJiZ7c2Vzc2lvblByb3BlcnRpZXM6bn0pLGEmJntzY29wZWRQcm9wZXJ0aWVzOmF9KSx7aWQ6aigpfSksUz12KFwic2Vzc2lvbl9jb25uZWN0XCIsbS5pZCkse3JlamVjdDpfLHJlc29sdmU6Yixkb25lOlZ9PXRlKHksTWUpLEk9KHtpZDpUfSk9PntUPT09bS5pZCYmKHRoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUobS5pZCksdGhpcy5ldmVudHMuZW1pdChTLHtlcnJvcjp7bWVzc2FnZTpNZSxjb2RlOjB9fSkpfTtyZXR1cm4gdGhpcy5jbGllbnQuZXZlbnRzLm9uKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5ldmVudHMub25jZShTLCh7ZXJyb3I6VCxzZXNzaW9uOkt9KT0+e3RoaXMuY2xpZW50LmV2ZW50cy5vZmYoXCJwcm9wb3NhbF9leHBpcmVcIixJKSxUP18oVCk6SyYmYihLKX0pLGF3YWl0IHRoaXMuc2VuZFByb3Bvc2VTZXNzaW9uKHtwcm9wb3NhbDptLHB1Ymxpc2hPcHRzOntpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9LHR2Zjp7Y29ycmVsYXRpb25JZDptLmlkfX19KSxhd2FpdCB0aGlzLnNldFByb3Bvc2FsKG0uaWQsbSkse3VyaTpoLGFwcHJvdmFsOlZ9fSksYyh0aGlzLFwicGFpclwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyKHQpfWNhdGNoKGUpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBhaXIoKSBmYWlsZWRcIiksZX19KSxjKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgdD0+e3ZhciBlLHMsaTtjb25zdCByPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOihlPXQ/LmlkKT09bnVsbD92b2lkIDA6ZS50b1N0cmluZygpLHRyYWNlOltELnNlc3Npb25fYXBwcm92ZV9zdGFydGVkXX19KTt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2goTil7dGhyb3cgci5zZXRFcnJvcih6Lm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLE59dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQodD8uaWQpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgYXBwcm92ZSgpIC0+IHByb3Bvc2FsLmdldCgke3Q/LmlkfSkgZmFpbGVkYCksci5zZXRFcnJvcih6LnByb3Bvc2FsX25vdF9mb3VuZCksTn10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkQXBwcm92ZSh0KX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJhcHByb3ZlKCkgLT4gaXNWYWxpZEFwcHJvdmUoKSBmYWlsZWRcIiksci5zZXRFcnJvcih6LnNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxOfWNvbnN0e2lkOm4scmVsYXlQcm90b2NvbDphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PXQsZD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobik7dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpyLmV2ZW50SWR9KTtjb25zdHtwYWlyaW5nVG9waWM6eSxwcm9wb3Nlcjp3LHJlcXVpcmVkTmFtZXNwYWNlczptLG9wdGlvbmFsTmFtZXNwYWNlczpTfT1kO2xldCBfPShzPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDpzLmdldEV2ZW50KHt0b3BpYzp5fSk7X3x8KF89KGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCk9PW51bGw/dm9pZCAwOmkuY3JlYXRlRXZlbnQoe3R5cGU6RC5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxwcm9wZXJ0aWVzOnt0b3BpYzp5LHRyYWNlOltELnNlc3Npb25fYXBwcm92ZV9zdGFydGVkLEQuc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2Vzc119fSkpO2NvbnN0IGI9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksVj13LnB1YmxpY0tleSxJPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGIsViksVD1SKFIoUih7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LG5hbWVzcGFjZXM6bCxjb250cm9sbGVyOntwdWJsaWNLZXk6YixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5OngoVyl9LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSxLPXEucmVsYXk7Xy5hZGRUcmFjZShELnN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6SyxpbnRlcm5hbDp7c2tpcFN1YnNjcmliZTohMH19KX1jYXRjaChOKXt0aHJvdyBfLnNldEVycm9yKHouc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksTn1fLmFkZFRyYWNlKEQuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzcyk7Y29uc3QgRWU9TyhSKHt9LFQpLHt0b3BpYzpJLHJlcXVpcmVkTmFtZXNwYWNlczptLG9wdGlvbmFsTmFtZXNwYWNlczpTLHBhaXJpbmdUb3BpYzp5LGFja25vd2xlZGdlZDohMSxzZWxmOlQuY29udHJvbGxlcixwZWVyOntwdWJsaWNLZXk6dy5wdWJsaWNLZXksbWV0YWRhdGE6dy5tZXRhZGF0YX0sY29udHJvbGxlcjpiLHRyYW5zcG9ydFR5cGU6cS5yZWxheX0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KEksRWUpLF8uYWRkVHJhY2UoRC5zdG9yZV9zZXNzaW9uKTt0cnl7YXdhaXQgdGhpcy5zZW5kQXBwcm92ZVNlc3Npb24oe3Nlc3Npb25Ub3BpYzpJLHByb3Bvc2FsOmQscGFpcmluZ1Byb3Bvc2FsUmVzcG9uc2U6e3JlbGF5Ontwcm90b2NvbDphPz9cImlyblwifSxyZXNwb25kZXJQdWJsaWNLZXk6Yn0sc2Vzc2lvblNldHRsZVJlcXVlc3Q6VCxwdWJsaXNoT3B0czp7aW50ZXJuYWw6e3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSx0dmY6e2NvcnJlbGF0aW9uSWQ6bn19fSksXy5hZGRUcmFjZShELnNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3MpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihOKSx0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShJLEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKEkpLE59cmV0dXJuIHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6Xy5ldmVudElkfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzp5LG1ldGFkYXRhOncubWV0YWRhdGF9KSxhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKG4pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6eX0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KEkseChXKSkse3RvcGljOkksYWNrbm93bGVkZ2VkOigpPT5Qcm9taXNlLnJlc29sdmUodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoSSkpfX0pLGModGhpcyxcInJlamVjdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVqZWN0KHQpfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlamVjdCgpIC0+IGlzVmFsaWRSZWplY3QoKSBmYWlsZWRcIikscn1jb25zdHtpZDplLHJlYXNvbjpzfT10O2xldCBpO3RyeXtpPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChlKS5wYWlyaW5nVG9waWN9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGByZWplY3QoKSAtPiBwcm9wb3NhbC5nZXQoJHtlfSkgZmFpbGVkYCkscn1pJiZhd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6ZSx0b3BpYzppLGVycm9yOnMscnBjT3B0czpQLndjX3Nlc3Npb25Qcm9wb3NlLnJlamVjdH0pLGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSl9KSxjKHRoaXMsXCJ1cGRhdGVcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFVwZGF0ZSh0KX1jYXRjaChoKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJ1cGRhdGUoKSAtPiBpc1ZhbGlkVXBkYXRlKCkgZmFpbGVkXCIpLGh9Y29uc3R7dG9waWM6ZSxuYW1lc3BhY2VzOnN9PXQse2RvbmU6aSxyZXNvbHZlOnIscmVqZWN0Om59PXRlKCksYT1qKCksbD15ZSgpLnRvU3RyaW5nKCkscD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKS5uYW1lc3BhY2VzO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX3VwZGF0ZVwiLGEpLCh7ZXJyb3I6aH0pPT57aD9uKGgpOnIoKX0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse25hbWVzcGFjZXM6c30pLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvblVwZGF0ZVwiLHBhcmFtczp7bmFtZXNwYWNlczpzfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bH0pLmNhdGNoKGg9Pnt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7bmFtZXNwYWNlczpwfSksbihoKX0pLHthY2tub3dsZWRnZWQ6aX19KSxjKHRoaXMsXCJleHRlbmRcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZEV4dGVuZCh0KX1jYXRjaChhKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJleHRlbmQoKSAtPiBpc1ZhbGlkRXh0ZW5kKCkgZmFpbGVkXCIpLGF9Y29uc3R7dG9waWM6ZX09dCxzPWooKSx7ZG9uZTppLHJlc29sdmU6cixyZWplY3Q6bn09dGUoKTtyZXR1cm4gdGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl9leHRlbmRcIixzKSwoe2Vycm9yOmF9KT0+e2E/bihhKTpyKCl9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShlLHgoVykpLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvbkV4dGVuZFwiLHBhcmFtczp7fSxjbGllbnRScGNJZDpzLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2goYT0+e24oYSl9KSx7YWNrbm93bGVkZ2VkOml9fSksYyh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdCh0KX1jYXRjaChtKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZXF1ZXN0KCkgLT4gaXNWYWxpZFJlcXVlc3QoKSBmYWlsZWRcIiksbX1jb25zdHtjaGFpbklkOmUscmVxdWVzdDpzLHRvcGljOmksZXhwaXJ5OnI9UC53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsfT10LG49dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoaSk7bj8udHJhbnNwb3J0VHlwZT09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9aigpLGw9eWUoKS50b1N0cmluZygpLHtkb25lOnAscmVzb2x2ZTpoLHJlamVjdDp1fT10ZShyLFwiUmVxdWVzdCBleHBpcmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTt0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX3JlcXVlc3RcIixhKSwoe2Vycm9yOm0scmVzdWx0OlN9KT0+e20/dShtKTpoKFMpfSk7Y29uc3QgZD1cIndjX3Nlc3Npb25SZXF1ZXN0XCIseT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQobi5wZWVyLm1ldGFkYXRhLG4udHJhbnNwb3J0VHlwZSk7aWYoeSlyZXR1cm4gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmwsdG9waWM6aSxtZXRob2Q6ZCxwYXJhbXM6e3JlcXVlc3Q6TyhSKHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6eChyKX0pLGNoYWluSWQ6ZX0sZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp5fSkuY2F0Y2gobT0+dShtKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHt0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOmUsaWQ6YX0pLGF3YWl0IHAoKTtjb25zdCB3PXtyZXF1ZXN0Ok8oUih7fSxzKSx7ZXhwaXJ5VGltZXN0YW1wOngocil9KSxjaGFpbklkOmV9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoYXN5bmMgbT0+e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsLHRvcGljOmksbWV0aG9kOmQscGFyYW1zOncsZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsdHZmOnRoaXMuZ2V0VFZGUGFyYW1zKGEsdyl9KS5jYXRjaChTPT51KFMpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6ZSxpZDphfSksbSgpfSksbmV3IFByb21pc2UoYXN5bmMgbT0+e3ZhciBTO2lmKCEoKFM9bi5zZXNzaW9uQ29uZmlnKSE9bnVsbCYmUy5kaXNhYmxlRGVlcExpbmspKXtjb25zdCBfPWF3YWl0IEd0KHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZSxMZSk7YXdhaXQganQoe2lkOmEsdG9waWM6aSx3Y0RlZXBMaW5rOl99KX1tKCl9KSxwKCldKS50aGVuKG09Pm1bMl0pfSksYyh0aGlzLFwicmVzcG9uZFwiLGFzeW5jIHQ9Pnt2YXIgZSxzO3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6dD8udG9waWN8fCgocz0oZT10Py5yZXNwb25zZSk9PW51bGw/dm9pZCAwOmUuaWQpPT1udWxsP3ZvaWQgMDpzLnRvU3RyaW5nKCkpLHRyYWNlOltELnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9zdGFydGVkXX19KTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVzcG9uZCh0KX1jYXRjaChoKXt0aHJvdyBpLmFkZFRyYWNlKGg/Lm1lc3NhZ2UpLGkuc2V0RXJyb3Ioei5zZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9mYWlsdXJlKSxofWkuYWRkVHJhY2UoRC5zZXNzaW9uX3JlcXVlc3RfcmVzcG9uc2VfdmFsaWRhdGlvbl9zdWNjZXNzKTtjb25zdHt0b3BpYzpyLHJlc3BvbnNlOm59PXQse2lkOmF9PW4sbD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKTtsLnRyYW5zcG9ydFR5cGU9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBwPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChsLnBlZXIubWV0YWRhdGEsbC50cmFuc3BvcnRUeXBlKTt0cnl7aS5hZGRUcmFjZShELnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX3N0YXJ0ZWQpLEYobik/YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDphLHRvcGljOnIscmVzdWx0Om4ucmVzdWx0LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6cH0pOlEobikmJmF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOnIsZXJyb3I6bi5lcnJvcixhcHBMaW5rOnB9KSx0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlKHQpfWNhdGNoKGgpe3Rocm93IGkuYWRkVHJhY2UoaD8ubWVzc2FnZSksaS5zZXRFcnJvcih6LnNlc3Npb25fcmVxdWVzdF9yZXNwb25zZV9wdWJsaXNoX2ZhaWx1cmUpLGh9fSksYyh0aGlzLFwicGluZ1wiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUGluZyh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJwaW5nKCkgLT4gaXNWYWxpZFBpbmcoKSBmYWlsZWRcIiksc31jb25zdHt0b3BpYzplfT10O2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSl7Y29uc3Qgcz1qKCksaT15ZSgpLnRvU3RyaW5nKCkse2RvbmU6cixyZXNvbHZlOm4scmVqZWN0OmF9PXRlKCk7dGhpcy5ldmVudHMub25jZSh2KFwic2Vzc2lvbl9waW5nXCIscyksKHtlcnJvcjpsfSk9PntsP2EobCk6bigpfSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvblBpbmdcIixwYXJhbXM6e30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6cyxyZWxheVJwY0lkOml9KSxyKCldKX1lbHNlIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGUpJiYodGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwaW5nKCkgb24gcGFpcmluZyB0b3BpYyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBpbmcoe3RvcGljOmV9KSl9KSxjKHRoaXMsXCJlbWl0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZEVtaXQodCk7Y29uc3R7dG9waWM6ZSxldmVudDpzLGNoYWluSWQ6aX09dCxyPXllKCkudG9TdHJpbmcoKSxuPWooKTthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25FdmVudFwiLHBhcmFtczp7ZXZlbnQ6cyxjaGFpbklkOml9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLHJlbGF5UnBjSWQ6cixjbGllbnRScGNJZDpufSl9KSxjKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QodCk7Y29uc3R7dG9waWM6ZX09dDtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkpYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uRGVsZXRlXCIscGFyYW1zOkwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxlbWl0RXZlbnQ6ITF9KTtlbHNlIGlmKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGUpKWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzplfSk7ZWxzZXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNNQVRDSEVEX1RPUElDXCIsYFNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBub3QgZm91bmQ6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksYyh0aGlzLFwiZmluZFwiLHQ9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZpbHRlcihlPT5GdChlLHQpKSkpLGModGhpcyxcImdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHNcIiwoKT0+dGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZ2V0QWxsKCkpLGModGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKHQsZSk9Pnt2YXIgczt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmlzVmFsaWRBdXRoZW50aWNhdGUodCk7Y29uc3QgaT1lJiZ0aGlzLmNsaWVudC5jb3JlLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlKSYmKChzPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy5saW5rTW9kZSkscj1pP3EubGlua19tb2RlOnEucmVsYXk7cj09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0e2NoYWluczpuLHN0YXRlbWVudDphPVwiXCIsdXJpOmwsZG9tYWluOnAsbm9uY2U6aCx0eXBlOnUsZXhwOmQsbmJmOnksbWV0aG9kczp3PVtdLGV4cGlyeTptfT10LFM9Wy4uLnQucmVzb3VyY2VzfHxbXV0se3RvcGljOl8sdXJpOmJ9PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5jcmVhdGUoe21ldGhvZHM6W1wid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSx0cmFuc3BvcnRUeXBlOnJ9KTt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyh7bWVzc2FnZTpcIkdlbmVyYXRlZCBuZXcgcGFpcmluZ1wiLHBhaXJpbmc6e3RvcGljOl8sdXJpOmJ9fSk7Y29uc3QgVj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxJPU9lKFYpO2lmKGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLnNldChwZSx7cmVzcG9uc2VUb3BpYzpJLHB1YmxpY0tleTpWfSksdGhpcy5jbGllbnQuYXV0aC5wYWlyaW5nVG9waWNzLnNldChJLHt0b3BpYzpJLHBhaXJpbmdUb3BpYzpffSldKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBzZW5kaW5nIHJlcXVlc3QgdG8gbmV3IHBhaXJpbmcgdG9waWM6ICR7X31gKSx3Lmxlbmd0aD4wKXtjb25zdHtuYW1lc3BhY2U6QX09YmUoblswXSk7bGV0IGs9UXQoQSxcInJlcXVlc3RcIix3KTtBZShTKSYmKGs9SHQoayxTLnBvcCgpKSksUy5wdXNoKGspfWNvbnN0IFQ9bSYmbT5QLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVxLnR0bD9tOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsLEs9e2F1dGhQYXlsb2FkOnt0eXBlOnU/P1wiY2FpcDEyMlwiLGNoYWluczpuLHN0YXRlbWVudDphLGF1ZDpsLGRvbWFpbjpwLHZlcnNpb246XCIxXCIsbm9uY2U6aCxpYXQ6bmV3IERhdGUoKS50b0lTT1N0cmluZygpLGV4cDpkLG5iZjp5LHJlc291cmNlczpTfSxyZXF1ZXN0ZXI6e3B1YmxpY0tleTpWLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6eChUKX0sRWU9e2VpcDE1NTp7Y2hhaW5zOm4sbWV0aG9kczpbLi4ubmV3IFNldChbXCJwZXJzb25hbF9zaWduXCIsLi4ud10pXSxldmVudHM6W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl19fSxOPXtyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOkVlLHJlbGF5czpbe3Byb3RvY29sOlwiaXJuXCJ9XSxwYWlyaW5nVG9waWM6Xyxwcm9wb3Nlcjp7cHVibGljS2V5OlYsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaWQ6aigpfSx7ZG9uZTpUdCxyZXNvbHZlOlVlLHJlamVjdDpTZX09dGUoVCxcIlJlcXVlc3QgZXhwaXJlZFwiKSxpZT1qKCksaGU9dihcInNlc3Npb25fY29ubmVjdFwiLE4uaWQpLFJlPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixpZSksZGU9YXN5bmMoe2Vycm9yOkEsc2Vzc2lvbjprfSk9Pnt0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLEE/U2UoQSk6ayYmVWUoe3Nlc3Npb246a30pfSx2ZT1hc3luYyBBPT57dmFyIGssR2UsamU7aWYoYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoaWUse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxBLmVycm9yKXtjb25zdCBuZT1MKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIpO3JldHVybiBBLmVycm9yLmNvZGU9PT1uZS5jb2RlP3ZvaWQgMDoodGhpcy5ldmVudHMub2ZmKGhlLGRlKSxTZShBLmVycm9yLm1lc3NhZ2UpKX1hd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKE4uaWQpLHRoaXMuZXZlbnRzLm9mZihoZSxkZSk7Y29uc3R7Y2FjYW9zOkZlLHJlc3BvbmRlcjpIfT1BLnJlc3VsdCxUZT1bXSxRZT1bXTtmb3IoY29uc3QgbmUgb2YgRmUpe2F3YWl0IEplKHtjYWNhbzpuZSxwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KXx8KHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuZSxcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLFNlKEwoXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSkpO2NvbnN0e3A6cWV9PW5lLFBlPUFlKHFlLnJlc291cmNlcyksSGU9W1hlKHFlLmlzcyldLHF0PUJlKHFlLmlzcyk7aWYoUGUpe2NvbnN0IE5lPVdlKFBlKSxQdD1aZShQZSk7VGUucHVzaCguLi5OZSksSGUucHVzaCguLi5QdCl9Zm9yKGNvbnN0IE5lIG9mIEhlKVFlLnB1c2goYCR7TmV9OiR7cXR9YCl9Y29uc3QgcmU9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoVixILnB1YmxpY0tleSk7bGV0IHVlO1RlLmxlbmd0aD4wJiYodWU9e3RvcGljOnJlLGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6VixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjpILGNvbnRyb2xsZXI6SC5wdWJsaWNLZXksZXhwaXJ5OngoVykscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOl8sbmFtZXNwYWNlczpldChbLi4ubmV3IFNldChUZSldLFsuLi5uZXcgU2V0KFFlKV0pLHRyYW5zcG9ydFR5cGU6cn0sYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShyZSx7dHJhbnNwb3J0VHlwZTpyfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQocmUsdWUpLF8mJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6XyxtZXRhZGF0YTpILm1ldGFkYXRhfSksdWU9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocmUpKSwoaz10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmsubGlua01vZGUmJihHZT1ILm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmR2UubGlua01vZGUmJihqZT1ILm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmamUudW5pdmVyc2FsJiZlJiYodGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChILm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUocmUse3RyYW5zcG9ydFR5cGU6cS5saW5rX21vZGV9KSksVWUoe2F1dGhzOkZlLHNlc3Npb246dWV9KX07dGhpcy5ldmVudHMub25jZShoZSxkZSksdGhpcy5ldmVudHMub25jZShSZSx2ZSk7bGV0IEllO3RyeXtpZihpKXtjb25zdCBBPXNlKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLEssaWUpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoXyxBKTtjb25zdCBrPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShcIlwiLEEse3R5cGU6enQsZW5jb2Rpbmc6YWV9KTtJZT1nZShlLF8sayl9ZWxzZSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6XyxtZXRob2Q6XCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIscGFyYW1zOkssZXhwaXJ5OnQuZXhwaXJ5LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOmllfSksdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6XyxtZXRob2Q6XCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHBhcmFtczpOLGV4cGlyeTpQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6Ti5pZH0pXSl9Y2F0Y2goQSl7dGhyb3cgdGhpcy5ldmVudHMub2ZmKGhlLGRlKSx0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLEF9cmV0dXJuIGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwoTi5pZCxOKSxhd2FpdCB0aGlzLnNldEF1dGhSZXF1ZXN0KGllLHtyZXF1ZXN0Ok8oUih7fSxLKSx7dmVyaWZ5Q29udGV4dDp7fX0pLHBhaXJpbmdUb3BpYzpfLHRyYW5zcG9ydFR5cGU6cn0pLHt1cmk6SWU/P2IscmVzcG9uc2U6VHR9fSksYyh0aGlzLFwiYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57Y29uc3R7aWQ6ZSxhdXRoczpzfT10LGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6ZS50b1N0cmluZygpLHRyYWNlOltZLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdfX0pO3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKX1jYXRjaChtKXt0aHJvdyBpLnNldEVycm9yKG9lLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLG19Y29uc3Qgcj10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdChlKTtpZighcil0aHJvdyBpLnNldEVycm9yKG9lLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kKSxuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHtlfWApO2NvbnN0IG49ci50cmFuc3BvcnRUeXBlfHxxLnJlbGF5O249PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBhPXIucmVxdWVzdGVyLnB1YmxpY0tleSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHA9T2UoYSksaD17dHlwZTpDZSxyZWNlaXZlclB1YmxpY0tleTphLHNlbmRlclB1YmxpY0tleTpsfSx1PVtdLGQ9W107Zm9yKGNvbnN0IG0gb2Ygcyl7aWYoIWF3YWl0IEplKHtjYWNhbzptLHByb2plY3RJZDp0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0pKXtpLnNldEVycm9yKG9lLmludmFsaWRfY2FjYW8pO2NvbnN0IEk9TChcIlNFU1NJT05fU0VUVExFTUVOVF9GQUlMRURcIixcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpO3Rocm93IGF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDplLHRvcGljOnAsZXJyb3I6SSxlbmNvZGVPcHRzOmh9KSxuZXcgRXJyb3IoSS5tZXNzYWdlKX1pLmFkZFRyYWNlKFkuY2FjYW9zX3ZlcmlmaWVkKTtjb25zdHtwOlN9PW0sXz1BZShTLnJlc291cmNlcyksYj1bWGUoUy5pc3MpXSxWPUJlKFMuaXNzKTtpZihfKXtjb25zdCBJPVdlKF8pLFQ9WmUoXyk7dS5wdXNoKC4uLkkpLGIucHVzaCguLi5UKX1mb3IoY29uc3QgSSBvZiBiKWQucHVzaChgJHtJfToke1Z9YCl9Y29uc3QgeT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShsLGEpO2kuYWRkVHJhY2UoWS5jcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTtsZXQgdztpZih1Py5sZW5ndGg+MCl7dz17dG9waWM6eSxhY2tub3dsZWRnZWQ6ITAsc2VsZjp7cHVibGljS2V5OmwsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6e3B1YmxpY0tleTphLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSxjb250cm9sbGVyOmEsZXhwaXJ5OngoVyksYXV0aGVudGljYXRpb246cyxyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxwYWlyaW5nVG9waWM6ci5wYWlyaW5nVG9waWMsbmFtZXNwYWNlczpldChbLi4ubmV3IFNldCh1KV0sWy4uLm5ldyBTZXQoZCldKSx0cmFuc3BvcnRUeXBlOm59LGkuYWRkVHJhY2UoWS5zdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHkse3RyYW5zcG9ydFR5cGU6bn0pfWNhdGNoKG0pe3Rocm93IGkuc2V0RXJyb3Iob2Uuc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSxtfWkuYWRkVHJhY2UoWS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KHksdyksaS5hZGRUcmFjZShZLnN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpyLnBhaXJpbmdUb3BpYyxtZXRhZGF0YTpyLnJlcXVlc3Rlci5tZXRhZGF0YX0pfWkuYWRkVHJhY2UoWS5wdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlKTt0cnl7YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHt0b3BpYzpwLGlkOmUscmVzdWx0OntjYWNhb3M6cyxyZXNwb25kZXI6e3B1YmxpY0tleTpsLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfX0sZW5jb2RlT3B0czpoLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIucmVxdWVzdGVyLm1ldGFkYXRhLG4pfSl9Y2F0Y2gobSl7dGhyb3cgaS5zZXRFcnJvcihvZS5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmUpLG19cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGUse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOnIucGFpcmluZ1RvcGljfSksdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDppLmV2ZW50SWR9KSx7c2Vzc2lvbjp3fX0pLGModGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7aWQ6ZSxyZWFzb246c309dCxpPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KGUpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke2V9YCk7aS50cmFuc3BvcnRUeXBlPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgcj1pLnJlcXVlc3Rlci5wdWJsaWNLZXksbj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxhPU9lKHIpLGw9e3R5cGU6Q2UscmVjZWl2ZXJQdWJsaWNLZXk6cixzZW5kZXJQdWJsaWNLZXk6bn07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmUsdG9waWM6YSxlcnJvcjpzLGVuY29kZU9wdHM6bCxycGNPcHRzOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZWplY3QsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5yZXF1ZXN0ZXIubWV0YWRhdGEsaS50cmFuc3BvcnRUeXBlKX0pLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGUse21lc3NhZ2U6XCJyZWplY3RlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSl9KSxjKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtyZXF1ZXN0OmUsaXNzOnN9PXQ7cmV0dXJuIFl0KGUscyl9KSxjKHRoaXMsXCJwcm9jZXNzUmVsYXlNZXNzYWdlQ2FjaGVcIiwoKT0+e3NldFRpbWVvdXQoYXN5bmMoKT0+e2lmKHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoIT09MClmb3IoO3RoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA7KXRyeXtjb25zdCB0PXRoaXMucmVsYXlNZXNzYWdlQ2FjaGUuc2hpZnQoKTt0JiZhd2FpdCB0aGlzLm9uUmVsYXlNZXNzYWdlKHQpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0KX19LDUwKX0pLGModGhpcyxcImNsZWFudXBEdXBsaWNhdGVQYWlyaW5nc1wiLGFzeW5jIHQ9PntpZih0LnBhaXJpbmdUb3BpYyl0cnl7Y29uc3QgZT10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KHQucGFpcmluZ1RvcGljKSxzPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXRBbGwoKS5maWx0ZXIoaT0+e3ZhciByLG47cmV0dXJuKChyPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci51cmwpJiYoKG49aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpuLnVybCk9PT10LnBlZXIubWV0YWRhdGEudXJsJiZpLnRvcGljJiZpLnRvcGljIT09ZS50b3BpY30pO2lmKHMubGVuZ3RoPT09MClyZXR1cm47dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYENsZWFuaW5nIHVwICR7cy5sZW5ndGh9IGR1cGxpY2F0ZSBwYWlyaW5nKHMpYCksYXdhaXQgUHJvbWlzZS5hbGwocy5tYXAoaT0+dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOmkudG9waWN9KSkpLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiRHVwbGljYXRlIHBhaXJpbmdzIGNsZWFuIHVwIGZpbmlzaGVkXCIpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19KSxjKHRoaXMsXCJkZWxldGVTZXNzaW9uXCIsYXN5bmMgdD0+e3ZhciBlO2NvbnN0e3RvcGljOnMsZXhwaXJlckhhc0RlbGV0ZWQ6aT0hMSxlbWl0RXZlbnQ6cj0hMCxpZDpuPTB9PXQse3NlbGY6YX09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocyk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKHMpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKHMsTChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHMsXCJzZXNzaW9uXCIpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhhLnB1YmxpY0tleSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZUtleVBhaXIoYS5wdWJsaWNLZXkpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KHMpLGl8fHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwocyksdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oTGUpLmNhdGNoKGw9PnRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpKSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKS5mb3JFYWNoKGw9PntsLnRvcGljPT09cyYmdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QobC5pZCxMKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSkscz09PSgoZT10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF0pPT1udWxsP3ZvaWQgMDplLnRvcGljKSYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUpLHImJnRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIix7aWQ6bix0b3BpYzpzfSl9KSxjKHRoaXMsXCJkZWxldGVQcm9wb3NhbFwiLGFzeW5jKHQsZSk9PntpZihlKXRyeXtjb25zdCBzPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KSxpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOnMucGFpcmluZ1RvcGljfSk7aT8uc2V0RXJyb3Ioei5wcm9wb3NhbF9leHBpcmVkKX1jYXRjaHt9YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksZT9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicHJvcG9zYWxcIil9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZGVsZXRlKHQsZSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicmVxdWVzdFwiKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLmZpbHRlcihpPT5pLmlkIT09dCkscyYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUsdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIse2lkOnR9KSl9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nQXV0aFJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCxlKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKX0pLGModGhpcyxcInNldEV4cGlyeVwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkmJih0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsZSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7ZXhwaXJ5OmV9KSl9KSxjKHRoaXMsXCJzZXRQcm9wb3NhbFwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQseChQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpKSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5zZXQodCxlKX0pLGModGhpcyxcInNldEF1dGhSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3JlcXVlc3Q6cyxwYWlyaW5nVG9waWM6aSx0cmFuc3BvcnRUeXBlOnI9cS5yZWxheX09ZTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQscy5leHBpcnlUaW1lc3RhbXApLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuc2V0KHQse2F1dGhQYXlsb2FkOnMuYXV0aFBheWxvYWQscmVxdWVzdGVyOnMucmVxdWVzdGVyLGV4cGlyeVRpbWVzdGFtcDpzLmV4cGlyeVRpbWVzdGFtcCxpZDp0LHBhaXJpbmdUb3BpYzppLHZlcmlmeUNvbnRleHQ6cy52ZXJpZnlDb250ZXh0LHRyYW5zcG9ydFR5cGU6cn0pfSksYyh0aGlzLFwic2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0XCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9PXQsbj1pLnJlcXVlc3QuZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bCk7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLG4pLGF3YWl0IHRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LnNldChlLHtpZDplLHRvcGljOnMscGFyYW1zOmksdmVyaWZ5Q29udGV4dDpyfSl9KSxjKHRoaXMsXCJzZW5kUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLG1ldGhvZDpzLHBhcmFtczppLGV4cGlyeTpyLHJlbGF5UnBjSWQ6bixjbGllbnRScGNJZDphLHRocm93T25GYWlsZWRQdWJsaXNoOmwsYXBwTGluazpwLHR2ZjpoLHB1Ymxpc2hPcHRzOnU9e319PXQsZD1zZShzLGksYSk7bGV0IHk7Y29uc3Qgdz0hIXA7dHJ5e2NvbnN0IF89dz9hZTpKO3k9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKGUsZCx7ZW5jb2Rpbmc6X30pfWNhdGNoKF8pe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlcXVlc3QoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtlfSBmYWlsZWRgKSxffWxldCBtO2lmKG10LmluY2x1ZGVzKHMpKXtjb25zdCBfPVUoSlNPTi5zdHJpbmdpZnkoZCkpLGI9VSh5KTttPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlZ2lzdGVyKHtpZDpiLGRlY3J5cHRlZElkOl99KX1jb25zdCBTPVIoUih7fSxQW3NdLnJlcSksdSk7aWYoUy5hdHRlc3RhdGlvbj1tLHImJihTLnR0bD1yKSxuJiYoUy5pZD1uKSx0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUsZCksdyl7Y29uc3QgXz1nZShwLGUseSk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChfLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2UgUy50dmY9TyhSKHt9LGgpLHtjb3JyZWxhdGlvbklkOmQuaWR9KSxsPyhTLmludGVybmFsPU8oUih7fSxTLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChlLHksUykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKGUseSxTKS5jYXRjaChfPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXykpO3JldHVybiBkLmlkfSksYyh0aGlzLFwic2VuZFByb3Bvc2VTZXNzaW9uXCIsYXN5bmMgdD0+e2NvbnN0e3Byb3Bvc2FsOmUscHVibGlzaE9wdHM6c309dCxpPXNlKFwid2Nfc2Vzc2lvblByb3Bvc2VcIixlLGUuaWQpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZS5wYWlyaW5nVG9waWMsaSk7Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoZS5wYWlyaW5nVG9waWMsaSx7ZW5jb2Rpbmc6Sn0pLG49VShKU09OLnN0cmluZ2lmeShpKSksYT1VKHIpLGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2lkOmEsZGVjcnlwdGVkSWQ6bn0pO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoQ3VzdG9tKHtwYXlsb2FkOntwYWlyaW5nVG9waWM6ZS5wYWlyaW5nVG9waWMsc2Vzc2lvblByb3Bvc2FsOnJ9LG9wdHM6TyhSKHt9LHMpLHtwdWJsaXNoTWV0aG9kOlwid2NfcHJvcG9zZVNlc3Npb25cIixhdHRlc3RhdGlvbjpsfSl9KX0pLGModGhpcyxcInNlbmRBcHByb3ZlU2Vzc2lvblwiLGFzeW5jIHQ9Pntjb25zdHtzZXNzaW9uVG9waWM6ZSxwYWlyaW5nUHJvcG9zYWxSZXNwb25zZTpzLHByb3Bvc2FsOmksc2Vzc2lvblNldHRsZVJlcXVlc3Q6cixwdWJsaXNoT3B0czpufT10LGE9aHQoaS5pZCxzKSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShpLnBhaXJpbmdUb3BpYyxhLHtlbmNvZGluZzpKfSkscD1zZShcIndjX3Nlc3Npb25TZXR0bGVcIixyLG4/LmlkKSxoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShlLHAse2VuY29kaW5nOkp9KTt0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUscCksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2hDdXN0b20oe3BheWxvYWQ6e3Nlc3Npb25Ub3BpYzplLHBhaXJpbmdUb3BpYzppLnBhaXJpbmdUb3BpYyxzZXNzaW9uUHJvcG9zYWxSZXNwb25zZTpsLHNlc3Npb25TZXR0bGVtZW50UmVxdWVzdDpofSxvcHRzOk8oUih7fSxuKSx7cHVibGlzaE1ldGhvZDpcIndjX2FwcHJvdmVTZXNzaW9uXCJ9KX0pfSksYyh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jIHQ9Pntjb25zdHtpZDplLHRvcGljOnMscmVzdWx0OmksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6cixlbmNvZGVPcHRzOm4sYXBwTGluazphfT10LGw9aHQoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgeT1oP2FlOko7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxufHx7fSkse2VuY29kaW5nOnl9KSl9Y2F0Y2goeSl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCkseX1sZXQgdSxkO3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKTtjb25zdCB5PXUucmVxdWVzdDt0cnl7ZD10aGlzLmdldFRWRlBhcmFtcyhlLHkucGFyYW1zLGkpfWNhdGNoKHcpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBzZW5kUmVzdWx0KCkgLT4gZ2V0VFZGUGFyYW1zKCkgZmFpbGVkOiAke3c/Lm1lc3NhZ2V9YCl9fWNhdGNoKHkpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLHl9aWYoaCl7Y29uc3QgeT1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTCh5LHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgeT11LnJlcXVlc3QubWV0aG9kLHc9UFt5XS5yZXM7dy50dmY9TyhSKHt9LGQpLHtjb3JyZWxhdGlvbklkOmV9KSxyPyh3LmludGVybmFsPU8oUih7fSx3LmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsdykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCx3KS5jYXRjaChtPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobSkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxlcnJvcjppLGVuY29kZU9wdHM6cixycGNPcHRzOm4sYXBwTGluazphfT10LGw9RXMoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgZD1oP2FlOko7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxyfHx7fSkse2VuY29kaW5nOmR9KSl9Y2F0Y2goZCl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSxkfWxldCB1O3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKX1jYXRjaChkKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLGR9aWYoaCl7Y29uc3QgZD1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChkLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgZD11LnJlcXVlc3QubWV0aG9kLHk9bnx8UFtkXS5yZXM7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLHkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCB0PVtdLGU9W107dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKHM9PntsZXQgaT0hMTtlZShzLmV4cGlyeSkmJihpPSEwKSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocy50b3BpYyl8fChpPSEwKSxpJiZ0LnB1c2gocy50b3BpYyl9KSx0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5mb3JFYWNoKHM9PntlZShzLmV4cGlyeVRpbWVzdGFtcCkmJmUucHVzaChzLmlkKX0pLGF3YWl0IFByb21pc2UuYWxsKFsuLi50Lm1hcChzPT50aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnN9KSksLi4uZS5tYXAocz0+dGhpcy5kZWxldGVQcm9wb3NhbChzKSldKX0pLGModGhpcyxcIm9uUHJvdmlkZXJNZXNzYWdlRXZlbnRcIixhc3luYyB0PT57IXRoaXMuaW5pdGlhbGl6ZWR8fHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA/dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5wdXNoKHQpOmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UodCl9KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgdD0+e3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2godCksYXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZSgpfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RzUXVldWVcIixhc3luYygpPT57aWYodGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9PT0kLmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJSZXF1ZXN0IHF1ZXVlIGFscmVhZHkgYWN0aXZlLCBza2lwcGluZy4uLlwiKTtyZXR1cm59Zm9yKHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBSZXF1ZXN0IHF1ZXVlIHN0YXJ0aW5nIHdpdGggJHt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGh9IHJlcXVlc3RzYCk7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoPjA7KXt0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmFjdGl2ZTtjb25zdCB0PXRoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnNoaWZ0KCk7aWYodCl0cnl7YXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdCh0KX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihlKX19dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlfSksYyh0aGlzLFwicHJvY2Vzc1JlcXVlc3RcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSx0cmFuc3BvcnRUeXBlOnIsZW5jcnlwdGVkSWQ6bn09dCxhPXMubWV0aG9kO2lmKCF0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0KHt0b3BpYzplLHJlcXVlc3RNZXRob2Q6YX0pKXN3aXRjaChhKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm59KTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdChlLHMpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkRlbGV0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOnJ9KTtjYXNlXCJ3Y19zZXNzaW9uRXZlbnRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdCh7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpuLHRyYW5zcG9ydFR5cGU6cn0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZCAke2F9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsdHJhbnNwb3J0VHlwZTppfT10LHI9KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQoZSxzLmlkKSkucmVxdWVzdC5tZXRob2Q7c3dpdGNoKHIpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlKGUscyxpKTtjYXNlXCJ3Y19zZXNzaW9uU2V0dGxlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uVXBkYXRlUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUGluZ1wiOnJldHVybiB0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZShlLHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlKGUscyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlc3BvbnNlIG1ldGhvZCAke3J9YCl9fSksYyh0aGlzLFwib25SZWxheUV2ZW50VW5rbm93blBheWxvYWRcIix0PT57Y29uc3R7dG9waWM6ZX09dCx7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYERlY29kZWQgcGF5bG9hZCBvbiB0b3BpYyAke2V9IGlzIG5vdCBpZGVudGlmaWFibGUgYXMgYSBKU09OLVJQQyByZXF1ZXN0IG9yIGEgcmVzcG9uc2UuYCk7dGhyb3cgbmV3IEVycm9yKHMpfSksYyh0aGlzLFwic2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3RcIix0PT57Y29uc3R7dG9waWM6ZSxyZXF1ZXN0TWV0aG9kOnN9PXQsaT10aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5nZXQoZSk7cmV0dXJuIWl8fGkuaW5jbHVkZXMocyk/ITE6ISEoaS5pbmNsdWRlcyhcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIikmJnRoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIik+MCl9KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOnJ9PXQse3BhcmFtczpuLGlkOmF9PXM7dHJ5e2NvbnN0IGw9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6ZX0pO3RoaXMuY2xpZW50LmV2ZW50cy5saXN0ZW5lckNvdW50KFwic2Vzc2lvbl9wcm9wb3NhbFwiKT09PTAmJihjb25zb2xlLndhcm4oXCJObyBsaXN0ZW5lciBmb3Igc2Vzc2lvbl9wcm9wb3NhbCBldmVudFwiKSxsPy5zZXRFcnJvcih4dC5wcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQpKSx0aGlzLmlzVmFsaWRDb25uZWN0KFIoe30scy5wYXJhbXMpKTtjb25zdCBwPW4uZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaD1SKHtpZDphLHBhaXJpbmdUb3BpYzplLGV4cGlyeVRpbWVzdGFtcDpwLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6cn0sbik7YXdhaXQgdGhpcy5zZXRQcm9wb3NhbChhLGgpO2NvbnN0IHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmksaGFzaDpVKEpTT04uc3RyaW5naWZ5KHMpKSxlbmNyeXB0ZWRJZDpyLG1ldGFkYXRhOmgucHJvcG9zZXIubWV0YWRhdGF9KTtsPy5hZGRUcmFjZShDdC5lbWl0X3Nlc3Npb25fcHJvcG9zYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9wcm9wb3NhbFwiLHtpZDphLHBhcmFtczpoLHZlcmlmeUNvbnRleHQ6dX0pfWNhdGNoKGwpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOmUsZXJyb3I6bCxycGNPcHRzOlAud2Nfc2Vzc2lvblByb3Bvc2UuYXV0b1JlamVjdH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihsKX19KSxjKHRoaXMsXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixhc3luYyh0LGUscyk9Pntjb25zdHtpZDppfT1lO2lmKEYoZSkpe2NvbnN0e3Jlc3VsdDpyfT1lO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHJlc3VsdDpyfSk7Y29uc3Qgbj10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscHJvcG9zYWw6bn0pO2NvbnN0IGE9bi5wcm9wb3Nlci5wdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc2VsZlB1YmxpY0tleTphfSk7Y29uc3QgbD1yLnJlc3BvbmRlclB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwZWVyUHVibGljS2V5Omx9KTtjb25zdCBwPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGEsbCk7dGhpcy5wZW5kaW5nU2Vzc2lvbnMuc2V0KGkse3Nlc3Npb25Ub3BpYzpwLHBhaXJpbmdUb3BpYzp0LHByb3Bvc2FsSWQ6aSxwdWJsaWNLZXk6YX0pO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShwLHt0cmFuc3BvcnRUeXBlOnN9KTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzdWJzY3JpcHRpb25JZDpofSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzp0fSl9ZWxzZSBpZihRKGUpKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGkpO2NvbnN0IHI9dihcInNlc3Npb25fY29ubmVjdFwiLGkpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocik9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtyfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMsIDk1NGApO3RoaXMuZXZlbnRzLmVtaXQocix7ZXJyb3I6ZS5lcnJvcn0pfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09ZTt0cnl7dGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QoaSk7Y29uc3R7cmVsYXk6cixjb250cm9sbGVyOm4sZXhwaXJ5OmEsbmFtZXNwYWNlczpsLHNlc3Npb25Qcm9wZXJ0aWVzOnAsc2NvcGVkUHJvcGVydGllczpoLHNlc3Npb25Db25maWc6dX09ZS5wYXJhbXMsZD1bLi4udGhpcy5wZW5kaW5nU2Vzc2lvbnMudmFsdWVzKCldLmZpbmQobT0+bS5zZXNzaW9uVG9waWM9PT10KTtpZighZClyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBQZW5kaW5nIHNlc3Npb24gbm90IGZvdW5kIGZvciB0b3BpYyAke3R9YCk7Y29uc3QgeT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZC5wcm9wb3NhbElkKSx3PU8oUihSKFIoe3RvcGljOnQscmVsYXk6cixleHBpcnk6YSxuYW1lc3BhY2VzOmwsYWNrbm93bGVkZ2VkOiEwLHBhaXJpbmdUb3BpYzpkLnBhaXJpbmdUb3BpYyxyZXF1aXJlZE5hbWVzcGFjZXM6eS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnkub3B0aW9uYWxOYW1lc3BhY2VzLGNvbnRyb2xsZXI6bi5wdWJsaWNLZXksc2VsZjp7cHVibGljS2V5OmQucHVibGljS2V5LG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOntwdWJsaWNLZXk6bi5wdWJsaWNLZXksbWV0YWRhdGE6bi5tZXRhZGF0YX19LHAmJntzZXNzaW9uUHJvcGVydGllczpwfSksaCYme3Njb3BlZFByb3BlcnRpZXM6aH0pLHUmJntzZXNzaW9uQ29uZmlnOnV9KSx7dHJhbnNwb3J0VHlwZTpxLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQody50b3BpYyx3KSxhd2FpdCB0aGlzLnNldEV4cGlyeSh3LnRvcGljLHcuZXhwaXJ5KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmQucGFpcmluZ1RvcGljLG1ldGFkYXRhOncucGVlci5tZXRhZGF0YX0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9jb25uZWN0XCIse3Nlc3Npb246d30pLHRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fY29ubmVjdFwiLGQucHJvcG9zYWxJZCkse3Nlc3Npb246d30pLHRoaXMucGVuZGluZ1Nlc3Npb25zLmRlbGV0ZShkLnByb3Bvc2FsSWQpLHRoaXMuZGVsZXRlUHJvcG9zYWwoZC5wcm9wb3NhbElkLCExKSx0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncyh3KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmUuaWQsdG9waWM6dCxyZXN1bHQ6ITB9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uU2V0dGxlUmVzcG9uc2VcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTtGKGUpPyhhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHthY2tub3dsZWRnZWQ6ITB9KSx0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7fSkpOlEoZSkmJihhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZSh0LEwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9hcHByb3ZlXCIscykse2Vycm9yOmUuZXJyb3J9KSl9KSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3BhcmFtczpzLGlkOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl91cGRhdGVgLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4saSkpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke2l9YCksdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpMKFwiSU5WQUxJRF9VUERBVEVfUkVRVUVTVFwiKX0pO3JldHVybn10aGlzLmlzVmFsaWRVcGRhdGUoUih7dG9waWM6dH0scykpO3RyeXtjZS5zZXQocixpKSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZSh0LHtuYW1lc3BhY2VzOnMubmFtZXNwYWNlc30pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6aSx0b3BpYzp0LHJlc3VsdDohMH0pfWNhdGNoKGEpe3Rocm93IGNlLmRlbGV0ZShyKSxhfXRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7aWQ6aSx0b3BpYzp0LHBhcmFtczpzfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcImlzUmVxdWVzdE91dE9mU3luY1wiLCh0LGUpPT5lLnRvU3RyaW5nKCkuc2xpY2UoMCwtMyk8dC50b1N0cmluZygpLnNsaWNlKDAsLTMpKSxjKHRoaXMsXCJvblNlc3Npb25VcGRhdGVSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fdXBkYXRlXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTt0cnl7dGhpcy5pc1ZhbGlkRXh0ZW5kKHt0b3BpYzp0fSksYXdhaXQgdGhpcy5zZXRFeHBpcnkodCx4KFcpKSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXh0ZW5kXCIse2lkOnMsdG9waWM6dH0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOnQsZXJyb3I6aX0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse30pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fZXh0ZW5kXCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnN9PWU7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOnR9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6dCxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLHtpZDpzLHRvcGljOnR9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUGluZ1Jlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcGluZ1wiLHMpO3NldFRpbWVvdXQoKCk9PntpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzIDIxNzZgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcGluZ1wiLHMpLHt9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3BpbmdcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSw1MDApfSksYyh0aGlzLFwib25TZXNzaW9uRGVsZXRlUmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtpZDpzfT1lO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzp0LHJlYXNvbjplLnBhcmFtc30pLGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShpPT57dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uY2UoemUucHVibGlzaCxhc3luYygpPT57aShhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsaWQ6c30pKX0pfSksdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOnQscmVzdWx0OiEwfSksdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHt0b3BpYzp0LGVycm9yOkwoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKX0pXSkuY2F0Y2goaT0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpKX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgZSxzLGk7Y29uc3R7dG9waWM6cixwYXlsb2FkOm4sYXR0ZXN0YXRpb246YSxlbmNyeXB0ZWRJZDpsLHRyYW5zcG9ydFR5cGU6cH09dCx7aWQ6aCxwYXJhbXM6dX09bjt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdChSKHt0b3BpYzpyfSx1KSk7Y29uc3QgZD10aGlzLmNsaWVudC5zZXNzaW9uLmdldChyKSx5PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDphLGhhc2g6VShKU09OLnN0cmluZ2lmeShzZShcIndjX3Nlc3Npb25SZXF1ZXN0XCIsdSxoKSkpLGVuY3J5cHRlZElkOmwsbWV0YWRhdGE6ZC5wZWVyLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6cH0pLHc9e2lkOmgsdG9waWM6cixwYXJhbXM6dSx2ZXJpZnlDb250ZXh0Onl9O2F3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KHcpLHA9PT1xLmxpbmtfbW9kZSYmKGU9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoKHM9ZC5wZWVyLm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWwpLChpPXRoaXMuY2xpZW50LnNpZ25Db25maWcpIT1udWxsJiZpLmRpc2FibGVSZXF1ZXN0UXVldWU/dGhpcy5lbWl0U2Vzc2lvblJlcXVlc3Qodyk6KHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUodyksdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpKX1jYXRjaChkKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aCx0b3BpYzpyLGVycm9yOmR9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCl9fSksYyh0aGlzLFwib25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lLGk9dihcInNlc3Npb25fcmVxdWVzdFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6ZS5yZXN1bHR9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uRXZlbnRSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PWU7dHJ5e2NvbnN0IHI9YCR7dH1fc2Vzc2lvbl9ldmVudF8ke2kuZXZlbnQubmFtZX1gLG49Y2UuZ2V0KHIpO2lmKG4mJnRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKG4scykpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBEaXNjYXJkaW5nIG91dCBvZiBzeW5jIHJlcXVlc3QgLSAke3N9YCk7cmV0dXJufXRoaXMuaXNWYWxpZEVtaXQoUih7dG9waWM6dH0saSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLHtpZDpzLHRvcGljOnQscGFyYW1zOml9KSxjZS5zZXQocixzKX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIiwodCxlKT0+e2NvbnN0e2lkOnN9PWU7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIix0b3BpYzp0LHBheWxvYWQ6ZX0pLEYoZSk/dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse3Jlc3VsdDplLnJlc3VsdH0pOlEoZSkmJnRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtlcnJvcjplLmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0XCIsYXN5bmMgdD0+e3ZhciBlO2NvbnN0e3RvcGljOnMscGF5bG9hZDppLGF0dGVzdGF0aW9uOnIsZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOmF9PXQ7dHJ5e2NvbnN0e3JlcXVlc3RlcjpsLGF1dGhQYXlsb2FkOnAsZXhwaXJ5VGltZXN0YW1wOmh9PWkucGFyYW1zLHU9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOnIsaGFzaDpVKEpTT04uc3RyaW5naWZ5KGkpKSxlbmNyeXB0ZWRJZDpuLG1ldGFkYXRhOmwubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTphfSksZD17cmVxdWVzdGVyOmwscGFpcmluZ1RvcGljOnMsaWQ6aS5pZCxhdXRoUGF5bG9hZDpwLHZlcmlmeUNvbnRleHQ6dSxleHBpcnlUaW1lc3RhbXA6aH07YXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChpLmlkLHtyZXF1ZXN0OmQscGFpcmluZ1RvcGljOnMsdHJhbnNwb3J0VHlwZTphfSksYT09PXEubGlua19tb2RlJiYoZT1sLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAobC5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIix7dG9waWM6cyxwYXJhbXM6aS5wYXJhbXMsaWQ6aS5pZCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCk7Y29uc3QgcD1pLnBhcmFtcy5yZXF1ZXN0ZXIucHVibGljS2V5LGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksdT10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5wYXJhbXMucmVxdWVzdGVyLm1ldGFkYXRhLGEpLGQ9e3R5cGU6Q2UscmVjZWl2ZXJQdWJsaWNLZXk6cCxzZW5kZXJQdWJsaWNLZXk6aH07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmkuaWQsdG9waWM6cyxlcnJvcjpsLGVuY29kZU9wdHM6ZCxycGNPcHRzOlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5hdXRvUmVqZWN0LGFwcExpbms6dX0pfX0pLGModGhpcyxcImFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlXCIsdD0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpfSksYyh0aGlzLFwiY2xlYW51cEFmdGVyUmVzcG9uc2VcIix0PT57dGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodC5yZXNwb25zZS5pZCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5pZGxlLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0scHQodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpfSksYyh0aGlzLFwiY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpY1wiLCh7dG9waWM6dCxlcnJvcjplfSk9Pntjb25zdCBzPXRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5wZW5kaW5nO3MubGVuZ3RoPjAmJnMuZmlsdGVyKGk9PmkudG9waWM9PT10JiZpLnJlcXVlc3QubWV0aG9kPT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKS5mb3JFYWNoKGk9Pntjb25zdCByPWkucmVxdWVzdC5pZCxuPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixyKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG4pPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7bn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7dGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6ZX0pfSl9KSxjKHRoaXMsXCJwcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLCgpPT57aWYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPT09JC5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGFscmVhZHkgYWN0aXZlLlwiKTtyZXR1cm59Y29uc3QgdD10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF07aWYoIXQpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGVtcHR5LlwiKTtyZXR1cm59dHJ5e3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KHQpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19KSxjKHRoaXMsXCJlbWl0U2Vzc2lvblJlcXVlc3RcIix0PT57aWYodGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmhhcyh0LmlkKSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oe2lkOnQuaWR9LGBTa2lwcGluZyBlbWl0dGluZyBcXGBzZXNzaW9uX3JlcXVlc3RcXGAgZXZlbnQgZm9yIGR1cGxpY2F0ZSByZXF1ZXN0LiBpZDogJHt0LmlkfWApO3JldHVybn10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5hY3RpdmUsdGhpcy5lbWl0dGVkU2Vzc2lvblJlcXVlc3RzLmFkZCh0LmlkKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdFwiLHQpfSksYyh0aGlzLFwib25QYWlyaW5nQ3JlYXRlZFwiLHQ9PntpZih0Lm1ldGhvZHMmJnRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLnNldCh0LnRvcGljLHQubWV0aG9kcyksdC5hY3RpdmUpcmV0dXJuO2NvbnN0IGU9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZmluZChzPT5zLnBhaXJpbmdUb3BpYz09PXQudG9waWMpO2UmJnRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOnQudG9waWMscGF5bG9hZDpzZShcIndjX3Nlc3Npb25Qcm9wb3NlXCIsTyhSKHt9LGUpLHtyZXF1aXJlZE5hbWVzcGFjZXM6ZS5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzLHJlbGF5czplLnJlbGF5cyxwcm9wb3NlcjplLnByb3Bvc2VyLHNlc3Npb25Qcm9wZXJ0aWVzOmUuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczplLnNjb3BlZFByb3BlcnRpZXN9KSxlLmlkKSxhdHRlc3RhdGlvbjplLmF0dGVzdGF0aW9uLGVuY3J5cHRlZElkOmUuZW5jcnlwdGVkSWR9KX0pLGModGhpcyxcImlzVmFsaWRDb25uZWN0XCIsYXN5bmMgdD0+e2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgY29ubmVjdCgpIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cGFpcmluZ1RvcGljOmUscmVxdWlyZWROYW1lc3BhY2VzOnMsb3B0aW9uYWxOYW1lc3BhY2VzOmksc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOm4scmVsYXlzOmF9PXQ7aWYoQihlKXx8YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKGUpLCFKdChhLCEwKSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSByZWxheXM6ICR7YX1gKTt0aHJvdyBuZXcgRXJyb3IobCl9aWYocyYmIUIocykmJnR0KHMpIT09MCl7Y29uc3QgbD1cInJlcXVpcmVkTmFtZXNwYWNlcyBhcmUgZGVwcmVjYXRlZCBhbmQgYXJlIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gb3B0aW9uYWxOYW1lc3BhY2VzXCI7W1wiZmF0YWxcIixcImVycm9yXCIsXCJzaWxlbnRcIl0uaW5jbHVkZXModGhpcy5jbGllbnQubG9nZ2VyLmxldmVsKT9jb25zb2xlLndhcm4obCk6dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCksdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMocyxcInJlcXVpcmVkTmFtZXNwYWNlc1wiKX1pZihpJiYhQihpKSYmdHQoaSkhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhpLFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLHImJiFCKHIpJiZ0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSxuJiYhQihuKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhuLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBsPU9iamVjdC5rZXlzKHN8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoaXx8e30pKTtpZighT2JqZWN0LmtleXMobikuZXZlcnkocD0+bC5pbmNsdWRlcyhwLnNwbGl0KFwiOlwiKVswXSkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiByZXF1aXJlZC9vcHRpb25hbCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShuKX0sIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXM6ICR7SlNPTi5zdHJpbmdpZnkobCl9YCl9fSksYyh0aGlzLFwidmFsaWRhdGVOYW1lc3BhY2VzXCIsKHQsZSk9Pntjb25zdCBzPVh0KHQsXCJjb25uZWN0KClcIixlKTtpZihzKXRocm93IG5ldyBFcnJvcihzLm1lc3NhZ2UpfSksYyh0aGlzLFwiaXNWYWxpZEFwcHJvdmVcIixhc3luYyB0PT57aWYoIU0odCkpdGhyb3cgbmV3IEVycm9yKGcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHBhcmFtczogJHt0fWApLm1lc3NhZ2UpO2NvbnN0e2lkOmUsbmFtZXNwYWNlczpzLHJlbGF5UHJvdG9jb2w6aSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6bn09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZSk7Y29uc3QgYT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZSksbD14ZShzLFwiYXBwcm92ZSgpXCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKGwubWVzc2FnZSk7Y29uc3QgcD1zdChhLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwiYXBwcm92ZSgpXCIpO2lmKHApdGhyb3cgbmV3IEVycm9yKHAubWVzc2FnZSk7aWYoIVgoaSwhMCkpe2NvbnN0e21lc3NhZ2U6aH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcmVsYXlQcm90b2NvbDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihoKX1pZihyJiYhQihyKSYmdGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhyLFwic2Vzc2lvblByb3BlcnRpZXNcIiksbiYmIUIobikpe3RoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMobixcInNjb3BlZFByb3BlcnRpZXNcIik7Y29uc3QgaD1uZXcgU2V0KE9iamVjdC5rZXlzKHMpKTtpZighT2JqZWN0LmtleXMobikuZXZlcnkodT0+aC5oYXModS5zcGxpdChcIjpcIilbMF0pKSl0aHJvdyBuZXcgRXJyb3IoYFNjb3BlZCBwcm9wZXJ0aWVzIG11c3QgYmUgYSBzdWJzZXQgb2YgYXBwcm92ZWQgbmFtZXNwYWNlcywgcmVjZWl2ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobil9LCBhcHByb3ZlZCBuYW1lc3BhY2VzOiAke0FycmF5LmZyb20oaCkuam9pbihcIiwgXCIpfWApfX0pLGModGhpcyxcImlzVmFsaWRSZWplY3RcIixhc3luYyB0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6aX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9Y29uc3R7aWQ6ZSxyZWFzb246c309dDtpZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZSksIUJ0KHMpKXtjb25zdHttZXNzYWdlOml9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcmVhc29uOiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihpKX19KSxjKHRoaXMsXCJpc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3RcIix0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0e3JlbGF5OmUsY29udHJvbGxlcjpzLG5hbWVzcGFjZXM6aSxleHBpcnk6cn09dDtpZighV3QoZSkpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHJlbGF5IHByb3RvY29sIHNob3VsZCBiZSBhIHN0cmluZ1wiKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3Qgbj1adChzLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7Y29uc3QgYT14ZShpLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKGEpdGhyb3cgbmV3IEVycm9yKGEubWVzc2FnZSk7aWYoZWUocikpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIkVYUElSRURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTt0aHJvdyBuZXcgRXJyb3IobCl9fSksYyh0aGlzLFwiaXNWYWxpZFVwZGF0ZVwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHVwZGF0ZSgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLG5hbWVzcGFjZXM6c309dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKTtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUpLHI9eGUocyxcInVwZGF0ZSgpXCIpO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIubWVzc2FnZSk7Y29uc3Qgbj1zdChpLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwidXBkYXRlKClcIik7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKX0pLGModGhpcyxcImlzVmFsaWRFeHRlbmRcIixhc3luYyB0PT57aWYoIU0odCkpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBleHRlbmQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKX0pLGModGhpcyxcImlzVmFsaWRSZXF1ZXN0XCIsYXN5bmMgdD0+e2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOmF9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzplLHJlcXVlc3Q6cyxjaGFpbklkOmksZXhwaXJ5OnJ9PXQ7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3R7bmFtZXNwYWNlczpufT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtpZighaXQobixpKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCFlcyhzKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighdHMobixpLHMubWV0aG9kKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBtZXRob2Q6ICR7cy5tZXRob2R9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKHImJiFzcyhyLF9lKSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBleHBpcnk6ICR7cn0uIEV4cGlyeSBtdXN0IGJlIGEgbnVtYmVyIChpbiBzZWNvbmRzKSBiZXR3ZWVuICR7X2UubWlufSBhbmQgJHtfZS5tYXh9YCk7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGModGhpcyxcImlzVmFsaWRSZXNwb25kXCIsYXN5bmMgdD0+e3ZhciBlO2lmKCFNKHQpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzLHJlc3BvbnNlOml9PXQ7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhzKX1jYXRjaChuKXt0aHJvdyhlPXQ/LnJlc3BvbnNlKSE9bnVsbCYmZS5pZCYmdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZSh0KSxufWlmKCFpcyhpKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShpKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3Qgcj10aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5nZXQoaS5pZCk7aWYoci50b3BpYyE9PXMpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU01BVENIRURfVE9QSUNcIixgUmVxdWVzdCByZXNwb25zZSB0b3BpYyBtaXNtYXRjaC4gcmVxSWQ6ICR7aS5pZH0sIGV4cGVjdGVkIHRvcGljOiAke3IudG9waWN9LCByZWNlaXZlZCB0b3BpYzogJHtzfWApO3Rocm93IG5ldyBFcnJvcihuKX19KSxjKHRoaXMsXCJpc1ZhbGlkUGluZ1wiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMoZSl9KSxjKHRoaXMsXCJpc1ZhbGlkRW1pdFwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6ZSxldmVudDpzLGNoYWluSWQ6aX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3R7bmFtZXNwYWNlczpyfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKTtpZighaXQocixpKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWlmKCFycyhzKSl7Y29uc3R7bWVzc2FnZTpufT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9aWYoIW5zKHIsaSxzLm5hbWUpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihuKX19KSxjKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIHQ9PntpZighTSh0KSl7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6ZX09dDthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMoZSl9KSxjKHRoaXMsXCJpc1ZhbGlkQXV0aGVudGljYXRlXCIsdD0+e2NvbnN0e2NoYWluczplLHVyaTpzLGRvbWFpbjppLG5vbmNlOnJ9PXQ7aWYoIUFycmF5LmlzQXJyYXkoZSl8fGUubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJjaGFpbnMgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXlcIik7aWYoIVgocywhMSkpdGhyb3cgbmV3IEVycm9yKFwidXJpIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighWChpLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJkb21haW4gaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKCFYKHIsITEpKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZihbLi4ubmV3IFNldChlLm1hcChhPT5iZShhKS5uYW1lc3BhY2UpKV0ubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktbmFtZXNwYWNlIHJlcXVlc3RzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgcmVxdWVzdCBzaW5nbGUgbmFtZXNwYWNlIG9ubHkuXCIpO2NvbnN0e25hbWVzcGFjZTpufT1iZShlWzBdKTtpZihuIT09XCJlaXAxNTVcIil0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IGVpcDE1NSBuYW1lc3BhY2UgaXMgc3VwcG9ydGVkIGZvciBhdXRoZW50aWNhdGVkIHNlc3Npb25zLiBQbGVhc2UgdXNlIC5jb25uZWN0KCkgZm9yIG5vbi1laXAxNTUgY2hhaW5zLlwiKX0pLGModGhpcyxcImdldFZlcmlmeUNvbnRleHRcIixhc3luYyB0PT57Y29uc3R7YXR0ZXN0YXRpb25JZDplLGhhc2g6cyxlbmNyeXB0ZWRJZDppLG1ldGFkYXRhOnIsdHJhbnNwb3J0VHlwZTpufT10LGE9e3ZlcmlmaWVkOnt2ZXJpZnlVcmw6ci52ZXJpZnlVcmx8fFZ0LHZhbGlkYXRpb246XCJVTktOT1dOXCIsb3JpZ2luOnIudXJsfHxcIlwifX07dHJ5e2lmKG49PT1xLmxpbmtfbW9kZSl7Y29uc3QgcD10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQocixuKTtyZXR1cm4gYS52ZXJpZmllZC52YWxpZGF0aW9uPXAmJm5ldyBVUkwocCkub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIixhfWNvbnN0IGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVzb2x2ZSh7YXR0ZXN0YXRpb25JZDplLGhhc2g6cyxlbmNyeXB0ZWRJZDppLHZlcmlmeVVybDpyLnZlcmlmeVVybH0pO2wmJihhLnZlcmlmaWVkLm9yaWdpbj1sLm9yaWdpbixhLnZlcmlmaWVkLmlzU2NhbT1sLmlzU2NhbSxhLnZlcmlmaWVkLnZhbGlkYXRpb249bC5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiKX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihsKX1yZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmRlYnVnKGBWZXJpZnkgY29udGV4dDogJHtKU09OLnN0cmluZ2lmeShhKX1gKSxhfSksYyh0aGlzLFwidmFsaWRhdGVTZXNzaW9uUHJvcHNcIiwodCxlKT0+e09iamVjdC52YWx1ZXModCkuZm9yRWFjaCgocyxpKT0+e2lmKHM9PW51bGwpe2NvbnN0e21lc3NhZ2U6cn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IG11c3QgY29udGFpbiBhbiBleGlzdGluZyB2YWx1ZSBmb3IgZWFjaCBrZXkuIFJlY2VpdmVkOiAke3N9IGZvciBrZXkgJHtPYmplY3Qua2V5cyh0KVtpXX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9fSl9KSxjKHRoaXMsXCJnZXRQZW5kaW5nQXV0aFJlcXVlc3RcIix0PT57Y29uc3QgZT10aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmdldCh0KTtyZXR1cm4gdHlwZW9mIGU9PVwib2JqZWN0XCI/ZTp2b2lkIDB9KSxjKHRoaXMsXCJhZGRUb1JlY2VudGx5RGVsZXRlZFwiLCh0LGUpPT57aWYodGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2V0KHQsZSksdGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuc2l6ZT49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCl7bGV0IHM9MDtjb25zdCBpPXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQvMjtmb3IoY29uc3QgciBvZiB0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5rZXlzKCkpe2lmKHMrKz49aSlicmVhazt0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5kZWxldGUocil9fX0pLGModGhpcyxcImNoZWNrUmVjZW50bHlEZWxldGVkXCIsdD0+e2NvbnN0IGU9dGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuZ2V0KHQpO2lmKGUpe2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBSZWNvcmQgd2FzIHJlY2VudGx5IGRlbGV0ZWQgLSAke2V9OiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfX0pLGModGhpcyxcImlzTGlua01vZGVFbmFibGVkXCIsKHQsZSk9Pnt2YXIgcyxpLHIsbixhLGwscCxoLHU7cmV0dXJuIXR8fGUhPT1xLmxpbmtfbW9kZT8hMTooKGk9KHM9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpzLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aS5saW5rTW9kZSk9PT0hMCYmKChuPShyPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOm4udW5pdmVyc2FsKSE9PXZvaWQgMCYmKChsPShhPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmwudW5pdmVyc2FsKSE9PVwiXCImJigocD10Py5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnAudW5pdmVyc2FsKSE9PXZvaWQgMCYmKChoPXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aC51bml2ZXJzYWwpIT09XCJcIiYmKCh1PXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6dS5saW5rTW9kZSk9PT0hMCYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXModC5yZWRpcmVjdC51bml2ZXJzYWwpJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCJ9KSxjKHRoaXMsXCJnZXRBcHBMaW5rSWZFbmFibGVkXCIsKHQsZSk9Pnt2YXIgcztyZXR1cm4gdGhpcy5pc0xpbmtNb2RlRW5hYmxlZCh0LGUpPyhzPXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy51bml2ZXJzYWw6dm9pZCAwfSksYyh0aGlzLFwiaGFuZGxlTGlua01vZGVNZXNzYWdlXCIsKHt1cmw6dH0pPT57aWYoIXR8fCF0LmluY2x1ZGVzKFwid2NfZXZcIil8fCF0LmluY2x1ZGVzKFwidG9waWNcIikpcmV0dXJuO2NvbnN0IGU9cnQodCxcInRvcGljXCIpfHxcIlwiLHM9ZGVjb2RlVVJJQ29tcG9uZW50KHJ0KHQsXCJ3Y19ldlwiKXx8XCJcIiksaT10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSk7aSYmdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7dHJhbnNwb3J0VHlwZTpxLmxpbmtfbW9kZX0pLHRoaXMuY2xpZW50LmNvcmUuZGlzcGF0Y2hFbnZlbG9wZSh7dG9waWM6ZSxtZXNzYWdlOnMsc2Vzc2lvbkV4aXN0czppfSl9KSxjKHRoaXMsXCJyZWdpc3RlckxpbmtNb2RlTGlzdGVuZXJzXCIsYXN5bmMoKT0+e3ZhciB0O2lmKG9zKCl8fGFzKCkmJih0PXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmdC5saW5rTW9kZSl7Y29uc3QgZT1nbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nO2lmKHR5cGVvZiBlPFwidVwiKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cmxcIix0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSx0aGlzLmNsaWVudC5uYW1lKTtjb25zdCBzPWF3YWl0IGUuZ2V0SW5pdGlhbFVSTCgpO3MmJnNldFRpbWVvdXQoKCk9Pnt0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSh7dXJsOnN9KX0sNTApfX19KSxjKHRoaXMsXCJnZXRUVkZQYXJhbXNcIiwodCxlLHMpPT57dmFyIGkscixuO2lmKCEoKGk9ZS5yZXF1ZXN0KSE9bnVsbCYmaS5tZXRob2QpKXJldHVybnt9O2NvbnN0IGE9e2NvcnJlbGF0aW9uSWQ6dCxycGNNZXRob2RzOltlLnJlcXVlc3QubWV0aG9kXSxjaGFpbklkOmUuY2hhaW5JZH07dHJ5e2NvbnN0IGw9dGhpcy5leHRyYWN0VHhIYXNoZXNGcm9tUmVzdWx0KGUucmVxdWVzdCxzKTthLnR4SGFzaGVzPWwsYS5jb250cmFjdEFkZHJlc3Nlcz10aGlzLmlzVmFsaWRDb250cmFjdERhdGEoZS5yZXF1ZXN0LnBhcmFtcyk/WyhuPShyPWUucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpyWzBdKT09bnVsbD92b2lkIDA6bi50b106W119Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCxcIkVycm9yIGdldHRpbmcgVFZGIHBhcmFtc1wiKX1yZXR1cm4gYX0pLGModGhpcyxcImlzVmFsaWRDb250cmFjdERhdGFcIix0PT57dmFyIGU7aWYoIXQpcmV0dXJuITE7dHJ5e2NvbnN0IHM9dD8uZGF0YXx8KChlPXQ/LlswXSk9PW51bGw/dm9pZCAwOmUuZGF0YSk7aWYoIXMuc3RhcnRzV2l0aChcIjB4XCIpKXJldHVybiExO2NvbnN0IGk9cy5zbGljZSgyKTtyZXR1cm4vXlswLTlhLWZBLUZdKiQvLnRlc3QoaSk/aS5sZW5ndGglMj09PTA6ITF9Y2F0Y2h7fXJldHVybiExfSksYyh0aGlzLFwiZXh0cmFjdFR4SGFzaGVzRnJvbVJlc3VsdFwiLCh0LGUpPT57dmFyIHM7dHJ5e2lmKCFlKXJldHVybltdO2NvbnN0IGk9dC5tZXRob2Qscj15dFtpXTtpZihpPT09XCJzdWlfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW2NzKGUudHJhbnNhY3Rpb25CeXRlcyldO2lmKGk9PT1cIm5lYXJfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW250KGUpXTtpZihpPT09XCJuZWFyX3NpZ25UcmFuc2FjdGlvbnNcIilyZXR1cm4gZS5tYXAoYT0+bnQoYSkpO2lmKGk9PT1cInhycGxfc2lnblRyYW5zYWN0aW9uRm9yXCJ8fGk9PT1cInhycGxfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuWyhzPWUudHhfanNvbik9PW51bGw/dm9pZCAwOnMuaGFzaF07aWYoaT09PVwicG9sa2Fkb3Rfc2lnblRyYW5zYWN0aW9uXCIpcmV0dXJuW2xzKHt0cmFuc2FjdGlvbjp0LnBhcmFtcy50cmFuc2FjdGlvblBheWxvYWQsc2lnbmF0dXJlOmUuc2lnbmF0dXJlfSldO2lmKGk9PT1cImFsZ29fc2lnblR4blwiKXJldHVybiBvdChlKT9lLm1hcChhPT5hdChhKSk6W2F0KGUpXTtpZihpPT09XCJjb3Ntb3Nfc2lnbkRpcmVjdFwiKXJldHVybltwcyhlKV07aWYoaT09PVwid2FsbGV0X3NlbmRDYWxsc1wiKXJldHVybiBocyhlKTtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm5bZV07Y29uc3Qgbj1lW3Iua2V5XTtpZihvdChuKSlyZXR1cm4gaT09PVwic29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnNcIj9uLm1hcChhPT5kcyhhKSk6bjtpZih0eXBlb2Ygbj09XCJzdHJpbmdcIilyZXR1cm5bbl19Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oaSxcIkVycm9yIGV4dHJhY3RpbmcgdHggaGFzaGVzIGZyb20gcmVzdWx0XCIpfXJldHVybltdfSl9YXN5bmMgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzKCl7dHJ5e2NvbnN0IG89dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLHQ9dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmdldFdpdGhvdXRBY2sobyk7Zm9yKGNvbnN0W2Usc11vZiBPYmplY3QuZW50cmllcyh0KSlmb3IoY29uc3QgaSBvZiBzKXRyeXthd2FpdCB0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQoe3RvcGljOmUsbWVzc2FnZTppLHB1Ymxpc2hlZEF0OkRhdGUubm93KCl9KX1jYXRjaHt0aGlzLmNsaWVudC5sb2dnZXIud2FybihgRXJyb3IgcHJvY2Vzc2luZyBwZW5kaW5nIG1lc3NhZ2UgZXZlbnQgZm9yIHRvcGljOiAke2V9LCBtZXNzYWdlOiAke2l9YCl9fWNhdGNoKG8pe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKG8sXCJwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMgZmFpbGVkXCIpfX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6b309ZyhcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKG8pfX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1yZWdpc3RlclJlbGF5ZXJFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub24oemUubWVzc2FnZSxvPT57dGhpcy5vblByb3ZpZGVyTWVzc2FnZUV2ZW50KG8pfSl9YXN5bmMgb25SZWxheU1lc3NhZ2Uobyl7Y29uc3R7dG9waWM6dCxtZXNzYWdlOmUsYXR0ZXN0YXRpb246cyx0cmFuc3BvcnRUeXBlOml9PW8se3B1YmxpY0tleTpyfT10aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmtleXMuaW5jbHVkZXMocGUpP3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuZ2V0KHBlKTp7cmVzcG9uc2VUb3BpYzp2b2lkIDAscHVibGljS2V5OnZvaWQgMH07dHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVjb2RlKHQsZSx7cmVjZWl2ZXJQdWJsaWNLZXk6cixlbmNvZGluZzppPT09cS5saW5rX21vZGU/YWU6Sn0pO19zKG4pPyh0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KHQsbiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6bixhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aSxlbmNyeXB0ZWRJZDpVKGUpfSkpOmZzKG4pPyhhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bix0cmFuc3BvcnRUeXBlOml9KSx0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZGVsZXRlKHQsbi5pZCkpOmF3YWl0IHRoaXMub25SZWxheUV2ZW50VW5rbm93blBheWxvYWQoe3RvcGljOnQscGF5bG9hZDpuLHRyYW5zcG9ydFR5cGU6aX0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxlKX1jYXRjaChuKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iobil9fXJlZ2lzdGVyRXhwaXJlckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5vbihidC5leHBpcmVkLGFzeW5jIG89Pntjb25zdHt0b3BpYzp0LGlkOmV9PSR0KG8udGFyZ2V0KTtpZihlJiZ0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5rZXlzLmluY2x1ZGVzKGUpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChlLGcoXCJFWFBJUkVEXCIpLCEwKTtpZihlJiZ0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmtleXMuaW5jbHVkZXMoZSkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KGUsZyhcIkVYUElSRURcIiksITApO3Q/dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpJiYoYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0LGV4cGlyZXJIYXNEZWxldGVkOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V4cGlyZVwiLHt0b3BpYzp0fSkpOmUmJihhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGUsITApLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwicHJvcG9zYWxfZXhwaXJlXCIse2lkOmV9KSl9KX1yZWdpc3RlclBhaXJpbmdFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKFllLmNyZWF0ZSxvPT50aGlzLm9uUGFpcmluZ0NyZWF0ZWQobykpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oWWUuZGVsZXRlLG89Pnt0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8udG9waWMsXCJwYWlyaW5nXCIpfSl9aXNWYWxpZFBhaXJpbmdUb3BpYyhvKXtpZighWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKCF0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZihlZSh0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KG8pLmV4cGlyeSkpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX19YXN5bmMgaXNWYWxpZFNlc3Npb25Ub3BpYyhvKXtpZighWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQobyksIXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gdG9waWMgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZihlZSh0aGlzLmNsaWVudC5zZXNzaW9uLmdldChvKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHNlc3Npb24gdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgZG9lcyBub3QgZXhpc3QgaW4ga2V5Y2hhaW46ICR7b31gKTt0aHJvdyBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KSxuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMobyl7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChvKSx0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG8pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobykpdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKG8pO2Vsc2UgaWYoWChvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWVsc2V7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRQcm9wb3NhbElkKG8pe2lmKCFLdChvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZighdGhpcy5jbGllbnQucHJvcG9zYWwua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoZWUodGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG8pLmV4cGlyeVRpbWVzdGFtcCkpe2F3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwobyk7Y29uc3R7bWVzc2FnZTp0fT1nKFwiRVhQSVJFRFwiLGBwcm9wb3NhbCBpZDogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX19fWNsYXNzIFZzIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCxkdCx3ZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgSXQgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LHV0LHdlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBrcyBleHRlbmRzIFp7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsd3Qsd2UsZT0+ZS5pZCksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgRHMgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LEV0LGxlLCgpPT5wZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19Y2xhc3MgTHMgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LFN0LGxlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBNcyBleHRlbmRzIFp7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsUnQsbGUsZT0+ZS5pZCksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9dH19dmFyICRzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLcz0oRSxvLHQpPT5vIGluIEU/JHMoRSxvLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6RVtvXT10LEtlPShFLG8sdCk9PktzKEUsdHlwZW9mIG8hPVwic3ltYm9sXCI/bytcIlwiOm8sdCk7Y2xhc3MgVXN7Y29uc3RydWN0b3Iobyx0KXt0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10LEtlKHRoaXMsXCJhdXRoS2V5c1wiKSxLZSh0aGlzLFwicGFpcmluZ1RvcGljc1wiKSxLZSh0aGlzLFwicmVxdWVzdHNcIiksdGhpcy5hdXRoS2V5cz1uZXcgRHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnBhaXJpbmdUb3BpY3M9bmV3IExzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5yZXF1ZXN0cz1uZXcgTXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1hc3luYyBpbml0KCl7YXdhaXQgdGhpcy5hdXRoS2V5cy5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nVG9waWNzLmluaXQoKSxhd2FpdCB0aGlzLnJlcXVlc3RzLmluaXQoKX19dmFyIEdzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqcz0oRSxvLHQpPT5vIGluIEU/R3MoRSxvLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6RVtvXT10LGY9KEUsbyx0KT0+anMoRSx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBmZSBleHRlbmRzIEx0e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLGYodGhpcyxcInByb3RvY29sXCIsVmUpLGYodGhpcyxcInZlcnNpb25cIixrZSksZih0aGlzLFwibmFtZVwiLG1lLm5hbWUpLGYodGhpcyxcIm1ldGFkYXRhXCIpLGYodGhpcyxcImNvcmVcIiksZih0aGlzLFwibG9nZ2VyXCIpLGYodGhpcyxcImV2ZW50c1wiLG5ldyBPdCksZih0aGlzLFwiZW5naW5lXCIpLGYodGhpcyxcInNlc3Npb25cIiksZih0aGlzLFwicHJvcG9zYWxcIiksZih0aGlzLFwicGVuZGluZ1JlcXVlc3RcIiksZih0aGlzLFwiYXV0aFwiKSxmKHRoaXMsXCJzaWduQ29uZmlnXCIpLGYodGhpcyxcIm9uXCIsKGUscyk9PnRoaXMuZXZlbnRzLm9uKGUscykpLGYodGhpcyxcIm9uY2VcIiwoZSxzKT0+dGhpcy5ldmVudHMub25jZShlLHMpKSxmKHRoaXMsXCJvZmZcIiwoZSxzKT0+dGhpcy5ldmVudHMub2ZmKGUscykpLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGUscyk9PnRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGUscykpLGYodGhpcyxcInJlbW92ZUFsbExpc3RlbmVyc1wiLGU9PnRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyhlKSksZih0aGlzLFwiY29ubmVjdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmNvbm5lY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInBhaXJcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5wYWlyKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJhcHByb3ZlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVqZWN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0KGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJ1cGRhdGVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS51cGRhdGUoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImV4dGVuZFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmV4dGVuZChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVxdWVzdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlcXVlc3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInJlc3BvbmRcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZXNwb25kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJwaW5nXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGluZyhlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZW1pdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmVtaXQoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5kaXNjb25uZWN0KGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJmaW5kXCIsZT0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZmluZChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0c1wiLCgpPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX0pLGYodGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKGUscyk9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmF1dGhlbnRpY2F0ZShlLHMpfWNhdGNoKGkpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGkubWVzc2FnZSksaX19KSxmKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLGU9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZvcm1hdEF1dGhNZXNzYWdlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJhcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZWplY3RTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksdGhpcy5uYW1lPW8/Lm5hbWV8fG1lLm5hbWUsdGhpcy5tZXRhZGF0YT11cyhvPy5tZXRhZGF0YSksdGhpcy5zaWduQ29uZmlnPW8/LnNpZ25Db25maWc7Y29uc3QgdD1ncyh7bG9nZ2VyOm8/LmxvZ2dlcnx8bWUubG9nZ2VyLG5hbWU6dGhpcy5uYW1lfSk7dGhpcy5sb2dnZXI9dCx0aGlzLmNvcmU9bz8uY29yZXx8bmV3IGt0KG8pLHRoaXMuc2Vzc2lvbj1uZXcgSXQodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBWcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IGtzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IENzKHRoaXMpLHRoaXMuYXV0aD1uZXcgVXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChvKXtjb25zdCB0PW5ldyBmZShvKTtyZXR1cm4gYXdhaXQgdC5pbml0aWFsaXplKCksdH1nZXQgY29udGV4dCgpe3JldHVybiB5cyh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLHRoaXMubG9nZ2VyLmVycm9yKG8ubWVzc2FnZSksb319fWNvbnN0IEZzPUl0LFFzPWZlO2V4cG9ydHtmdCBhcyBBVVRIX0NPTlRFWFQsRXQgYXMgQVVUSF9LRVlTX0NPTlRFWFQsU3QgYXMgQVVUSF9QQUlSSU5HX1RPUElDX0NPTlRFWFQsX3QgYXMgQVVUSF9QUk9UT0NPTCxwZSBhcyBBVVRIX1BVQkxJQ19LRVlfTkFNRSxSdCBhcyBBVVRIX1JFUVVFU1RfQ09OVEVYVCxsZSBhcyBBVVRIX1NUT1JBR0VfUFJFRklYLFBzIGFzIEFVVEhfVkVSU0lPTixndCBhcyBFTkdJTkVfQ09OVEVYVCwkIGFzIEVOR0lORV9RVUVVRV9TVEFURVMsUCBhcyBFTkdJTkVfUlBDX09QVFMsSXMgYXMgSElTVE9SWV9DT05URVhULHZzIGFzIEhJU1RPUllfRVZFTlRTLFRzIGFzIEhJU1RPUllfU1RPUkFHRV9WRVJTSU9OLG10IGFzIE1FVEhPRFNfVE9fVkVSSUZZLGR0IGFzIFBST1BPU0FMX0NPTlRFWFQscXMgYXMgUFJPUE9TQUxfRVhQSVJZLE1lIGFzIFBST1BPU0FMX0VYUElSWV9NRVNTQUdFLHd0IGFzIFJFUVVFU1RfQ09OVEVYVCx1dCBhcyBTRVNTSU9OX0NPTlRFWFQsVyBhcyBTRVNTSU9OX0VYUElSWSxfZSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsRGUgYXMgU0lHTl9DTElFTlRfQ09OVEVYVCxtZSBhcyBTSUdOX0NMSUVOVF9ERUZBVUxULFNzIGFzIFNJR05fQ0xJRU5UX0VWRU5UUyxWZSBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCxScyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsd2UgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9QUkVGSVgsa2UgYXMgU0lHTl9DTElFTlRfVkVSU0lPTixGcyBhcyBTZXNzaW9uU3RvcmUsUXMgYXMgU2lnbkNsaWVudCx5dCBhcyBUVkZfTUVUSE9EUyxMZSBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxmZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/sign-client/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/universal-provider/dist/index.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/@walletconnect/universal-provider/dist/index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ ns),\n/* harmony export */   \"default\": () => (/* binding */ N)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/sign-client/dist/index.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/utils */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(app-pages-browser)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! events */ \"(app-pages-browser)/./node_modules/events/events.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\nfunction _(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function Z(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function T(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const Fe=\"[object RegExp]\",ee=\"[object String]\",te=\"[object Number]\",se=\"[object Boolean]\",ie=\"[object Arguments]\",He=\"[object Symbol]\",Ue=\"[object Date]\",Be=\"[object Map]\",Le=\"[object Set]\",Me=\"[object Array]\",ze=\"[object ArrayBuffer]\",Ge=\"[object Object]\",We=\"[object DataView]\",Je=\"[object Uint8Array]\",Ke=\"[object Uint8ClampedArray]\",Ve=\"[object Uint16Array]\",Ye=\"[object Uint32Array]\",Xe=\"[object Int8Array]\",ke=\"[object Int16Array]\",Qe=\"[object Int32Array]\",Ze=\"[object Float32Array]\",Te=\"[object Float64Array]\";function x(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function et(t,e){return y(t,void 0,t,new Map,e)}function y(t,e,s,i=new Map,r=void 0){const a=r?.(t,e,s,i);if(a!=null)return a;if(_(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const n=new Array(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return Object.hasOwn(t,\"index\")&&(n.index=t.index),Object.hasOwn(t,\"input\")&&(n.input=t.input),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n}if(t instanceof Map){const n=new Map;i.set(t,n);for(const[c,o]of t)n.set(c,y(o,c,s,i,r));return n}if(t instanceof Set){const n=new Set;i.set(t,n);for(const c of t)n.add(y(c,void 0,s,i,r));return n}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(x(t)){const n=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return n}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const n=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,n),m(n,t,s,i,r),n}if(typeof File<\"u\"&&t instanceof File){const n=new File([t],t.name,{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Blob){const n=new Blob([t],{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Error){const n=new t.constructor;return i.set(t,n),n.message=t.message,n.name=t.name,n.stack=t.stack,n.cause=t.cause,m(n,t,s,i,r),n}if(typeof t==\"object\"&&tt(t)){const n=Object.create(Object.getPrototypeOf(t));return i.set(t,n),m(n,t,s,i,r),n}return t}function m(t,e,s=t,i,r){const a=[...Object.keys(e),...Z(e)];for(let n=0;n<a.length;n++){const c=a[n],o=Object.getOwnPropertyDescriptor(t,c);(o==null||o.writable)&&(t[c]=y(e[c],c,s,i,r))}}function tt(t){switch(T(t)){case ie:case Me:case ze:case We:case se:case Ue:case Ze:case Te:case Xe:case ke:case Qe:case Be:case te:case Ge:case Fe:case Le:case ee:case He:case Je:case Ke:case Ve:case Ye:return!0;default:return!1}}function st(t,e){return et(t,(s,i,r,a)=>{const n=e?.(s,i,r,a);if(n!=null)return n;if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case te:case ee:case se:{const c=new t.constructor(t?.valueOf());return m(c,t),c}case ie:{const c={};return m(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function ne(t){return st(t)}function re(t){return t!==null&&typeof t==\"object\"&&T(t)===\"[object Arguments]\"}function ae(t){return typeof t==\"object\"&&t!==null}function it(){}function nt(t){return x(t)}function rt(t){if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const s=t[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${s}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function at(t){if(_(t))return t;if(Array.isArray(t)||x(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),s=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new s(t);if(t instanceof RegExp){const i=new s(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new s(t.buffer.slice(0));if(t instanceof Error){const i=new s(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<\"u\"&&t instanceof File)return new s([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const i=Object.create(e);return Object.assign(i,t)}return t}function ct(t,...e){const s=e.slice(0,-1),i=e[e.length-1];let r=t;for(let a=0;a<s.length;a++){const n=s[a];r=$(r,n,i,new Map)}return r}function $(t,e,s,i){if(_(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(i.has(e))return at(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const r=[...Object.keys(e),...Z(e)];for(let a=0;a<r.length;a++){const n=r[a];let c=e[n],o=t[n];if(re(c)&&(c={...c}),re(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ne(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const l=[],p=Reflect.ownKeys(o);for(let f=0;f<p.length;f++){const u=p[f];l[u]=o[u]}o=l}else o=[];const h=s(o,c,n,t,e,i);h!=null?t[n]=h:Array.isArray(c)||ae(o)&&ae(c)?t[n]=$(o,c,s,i):o==null&&rt(c)?t[n]=$({},c,s,i):o==null&&nt(c)?t[n]=ne(c):(o===void 0||c!==void 0)&&(t[n]=c)}return t}function ot(t,...e){return ct(t,...e,it)}const ce=\"error\",pt=\"wss://relay.walletconnect.org\",ht=\"wc\",oe=\"universal_provider\",A=`${ht}@2:${oe}:`,pe=\"https://rpc.walletconnect.org/v1/\",he=\"generic\",lt=`${pe}bundler`,v=\"call_status\",ut=86400,F={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};var dt=Object.defineProperty,ft=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,ue=(t,e,s)=>e in t?dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,E=(t,e)=>{for(var s in e||(e={}))gt.call(e,s)&&ue(t,s,e[s]);if(le)for(var s of le(e))yt.call(e,s)&&ue(t,s,e[s]);return t},vt=(t,e)=>ft(t,mt(e));function de(t,e,s){var i;const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t);return((i=e.rpcMap)==null?void 0:i[r.reference])||`${pe}?chainId=${r.namespace}:${r.reference}&projectId=${s}`}function wt(t){return t.includes(\":\")?t.split(\":\")[1]:t}function fe(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function bt(t,e){const s=Object.keys(e.namespaces).filter(r=>r.includes(t));if(!s.length)return[];const i=[];return s.forEach(r=>{const a=e.namespaces[r].accounts;i.push(...a)}),i}function me(t){return Object.fromEntries(Object.entries(t).filter(([e,s])=>{var i,r;return((i=s?.chains)==null?void 0:i.length)&&((r=s?.chains)==null?void 0:r.length)>0}))}function C(t={},e={}){const s=me(ge(t)),i=me(ge(e));return ot(s,i)}function ge(t){var e,s,i,r,a;const n={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(t))return n;for(const[c,o]of Object.entries(t)){const h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(c)?[c]:o.chains,l=o.methods||[],p=o.events||[],f=o.rpcMap||{},u=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(c);n[u]=vt(E(E({},n[u]),o),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(h,(e=n[u])==null?void 0:e.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(l,(s=n[u])==null?void 0:s.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(p,(i=n[u])==null?void 0:i.events)}),((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(f)||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(((r=n[u])==null?void 0:r.rpcMap)||{}))&&(n[u].rpcMap=E(E({},f),(a=n[u])==null?void 0:a.rpcMap))}return n}function ye(t){return t.includes(\":\")?t.split(\":\")[2]:t}function ve(t){const e={};for(const[s,i]of Object.entries(t)){const r=i.methods||[],a=i.events||[],n=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(s)?[s]:i.chains?i.chains:fe(i.accounts);e[s]={chains:c,methods:r,events:a,accounts:n}}return e}function H(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}function Pt(t){try{const e=JSON.parse(t);return typeof e==\"object\"&&e!==null&&!Array.isArray(e)}catch{return!1}}const we={},w=t=>we[t],U=(t,e)=>{we[t]=e};var Ot=Object.defineProperty,be=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Pe=(t,e,s)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Oe=(t,e)=>{for(var s in e||(e={}))It.call(e,s)&&Pe(t,s,e[s]);if(be)for(var s of be(e))St.call(e,s)&&Pe(t,s,e[s]);return t};const Ie=\"eip155\",$t=[\"atomic\",\"flow-control\",\"paymasterService\",\"sessionKeys\",\"auxiliaryFunds\"],At=t=>t&&t.startsWith(\"0x\")?BigInt(t).toString(10):t,B=t=>t&&t.startsWith(\"0x\")?t:`0x${BigInt(t).toString(16)}`,Se=t=>Object.keys(t).filter(e=>$t.includes(e)).reduce((e,s)=>(e[s]=Et(t[s]),e),{}),Et=t=>typeof t==\"string\"&&Pt(t)?JSON.parse(t):t,Ct=(t,e,s)=>{const{sessionProperties:i={},scopedProperties:r={}}=t,a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(r)&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(i))return;const n=Se(i);for(const c of s){const o=At(c);if(!o)continue;a[B(o)]=n;const h=r?.[`${Ie}:${o}`];if(h){const l=h?.[`${Ie}:${o}:${e}`];a[B(o)]=Oe(Oe({},a[B(o)]),Se(l||h))}}for(const[c,o]of Object.entries(a))Object.keys(o).length===0&&delete a[c];return Object.keys(a).length>0?a:void 0};var jt=Object.defineProperty,Nt=(t,e,s)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,qt=(t,e,s)=>Nt(t,typeof e!=\"symbol\"?e+\"\":e,s);let L;class J{constructor(e){qt(this,\"storage\"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,s){return await this.storage.setItem(e,s)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return L||(L=new J(e)),L}}var Dt=Object.defineProperty,Rt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ae=(t,e,s)=>e in t?Dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Ht=(t,e)=>{for(var s in e||(e={}))xt.call(e,s)&&Ae(t,s,e[s]);if($e)for(var s of $e(e))Ft.call(e,s)&&Ae(t,s,e[s]);return t},Ut=(t,e)=>Rt(t,_t(e));async function Bt(t,e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t.result.capabilities.caip345.caip2),i=t.result.capabilities.caip345.transactionHashes,r=await Promise.allSettled(i.map(p=>Lt(s.reference,p,e))),a=r.filter(p=>p.status===\"fulfilled\").map(p=>p.value).filter(p=>p);r.filter(p=>p.status===\"rejected\").forEach(p=>console.warn(\"Failed to fetch transaction receipt:\",p.reason));const n=!a.length||a.some(p=>!p),c=a.every(p=>p?.status===\"0x1\"),o=a.every(p=>p?.status===\"0x0\"),h=a.some(p=>p?.status===\"0x0\");let l;return n?l=100:c?l=200:o?l=500:h&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:a,status:l}}async function Lt(t,e,s){return await s(parseInt(t)).request((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getTransactionReceipt\",[e]))}async function Mt({sendCalls:t,storage:e}){const s=await e.getItem(v);await e.setItem(v,Ut(Ht({},s),{[t.result.id]:{request:t.request,result:t.result,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.calcExpiry)(ut)}}))}async function zt({resultId:t,storage:e}){const s=await e.getItem(v);if(s){delete s[t],await e.setItem(v,s);for(const i in s)(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(s[i].expiry)&&delete s[i];await e.setItem(v,s)}}async function Gt({resultId:t,storage:e}){const s=await e.getItem(v),i=s?.[t];if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(i.expiry))return i;await zt({resultId:t,storage:e})}var Wt=Object.defineProperty,Jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,M=(t,e,s)=>e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,z=(t,e)=>{for(var s in e||(e={}))Vt.call(e,s)&&M(t,s,e[s]);if(Ee)for(var s of Ee(e))Yt.call(e,s)&&M(t,s,e[s]);return t},G=(t,e)=>Jt(t,Kt(e)),g=(t,e,s)=>M(t,typeof e!=\"symbol\"?e+\"\":e,s);class Xt{constructor(e){g(this,\"name\",\"eip155\"),g(this,\"client\"),g(this,\"chainId\"),g(this,\"namespace\"),g(this,\"httpProviders\"),g(this,\"events\"),g(this,\"storage\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=J.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e);case\"wallet_sendCalls\":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(parseInt(e),s);const i=this.chainId;this.chainId=parseInt(e),this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,s){const i=s||de(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__.HttpConnection(i,w(\"disableProviderPing\")))}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(s=>{var i;const r=parseInt(wt(s));e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[s])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}getHttpProvider(e){const s=e||this.chainId;return this.httpProviders[s]||(this.httpProviders=G(z({},this.httpProviders),{[s]:this.createHttpProvider(s)}),this.httpProviders[s])}async handleSwitchChain(e){var s,i;let r=e.request.params?(s=e.request.params[0])==null?void 0:s.chainId:\"0x0\";r=r.startsWith(\"0x\")?r:`0x${r}`;const a=parseInt(r,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var s,i,r,a,n;const c=(i=(s=e.request)==null?void 0:s.params)==null?void 0:i[0],o=((a=(r=e.request)==null?void 0:r.params)==null?void 0:a[1])||[];if(!c)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const h=this.client.session.get(e.topic),l=((n=h?.sessionProperties)==null?void 0:n.capabilities)||{},p=`${c}${o.join(\",\")}`,f=l?.[p];if(f)return f;let u;try{u=Ct(h,c,o)}catch(q){console.warn(\"Failed to extract capabilities from session\",q)}if(u)return u;const K=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:G(z({},h.sessionProperties||{}),{capabilities:G(z({},l||{}),{[p]:K})})})}catch(q){console.warn(\"Failed to update session with capabilities\",q)}return K}async getCallStatus(e){var s,i,r;const a=this.client.session.get(e.topic),n=(s=a.sessionProperties)==null?void 0:s.bundler_name;if(n){const h=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(h,e)}catch(l){console.warn(\"Failed to fetch call status from bundler\",l,h)}}const c=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(h){console.warn(\"Failed to fetch call status from custom bundler\",h,c)}const o=await Gt({resultId:(r=e.request.params)==null?void 0:r[0],storage:this.storage});if(o)try{return await Bt(o,this.getHttpProvider.bind(this))}catch(h){console.warn(\"Failed to fetch call status from stored send calls\",h,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,s){var i;const r=new URL(e),a=await fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=s.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,s){return`${lt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${s}`}async sendCalls(e){var s,i,r;const a=await this.client.request(e),n=(s=e.request.params)==null?void 0:s[0],c=a?.id,o=a?.capabilities||{},h=(i=o?.caip345)==null?void 0:i.caip2,l=(r=o?.caip345)==null?void 0:r.transactionHashes;return!c||!h||!(l!=null&&l.length)||await Mt({sendCalls:{request:n,result:a},storage:this.storage}),a}}var kt=Object.defineProperty,Qt=(t,e,s)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e,s)=>Qt(t,typeof e!=\"symbol\"?e+\"\":e,s);class Zt{constructor(e){b(this,\"name\",he),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(e,s);const i=this.chainId;this.chainId=e,this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}createHttpProviders(){var e,s;const i={};return(s=(e=this.namespace)==null?void 0:e.accounts)==null||s.forEach(r=>{var a,n;const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(r),o=(n=(a=this.namespace)==null?void 0:a.rpcMap)==null?void 0:n[`${c.namespace}:${c.reference}`];i[c.reference]=this.createHttpProvider(r,o)}),i}getHttpProvider(e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).reference,i=this.httpProviders[s];if(typeof i>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProvider(e,s){const i=s||de(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,w(\"disableProviderPing\")))}}var Tt=Object.defineProperty,es=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,ss=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,W=(t,e,s)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,S=(t,e)=>{for(var s in e||(e={}))ss.call(e,s)&&W(t,s,e[s]);if(Ce)for(var s of Ce(e))is.call(e,s)&&W(t,s,e[s]);return t},j=(t,e)=>es(t,ts(e)),d=(t,e,s)=>W(t,typeof e!=\"symbol\"?e+\"\":e,s);class N{constructor(e){d(this,\"client\"),d(this,\"namespaces\"),d(this,\"optionalNamespaces\"),d(this,\"sessionProperties\"),d(this,\"scopedProperties\"),d(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_3__),d(this,\"rpcProviders\",{}),d(this,\"session\"),d(this,\"providerOpts\"),d(this,\"logger\"),d(this,\"uri\"),d(this,\"disableProviderPing\",!1);var s,i;this.providerOpts=e,this.logger=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.createLogger)({logger:(s=e.logger)!=null?s:ce,name:(i=this.providerOpts.name)!=null?i:oe}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const s=new N(e);return await s.initialize(),s}async request(e,s,i){const[r,a]=this.validateChain(s);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(r).request({request:S({},e),chainId:`${r}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(e,s,i,r){const a=new Date().getTime();this.request(e,i,r).then(n=>s(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcResult)(a,n))).catch(n=>s(n,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,s){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:r}=await this.client.authenticate(e,s);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await r();if(this.session=a.session,this.session){const n=ve(this.session.namespaces);this.namespaces=C(this.namespaces,n),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(e,s){this.events.on(e,s)}once(e,s){this.events.once(e,s)}removeListener(e,s){this.events.removeListener(e,s)}off(e,s){this.events.off(e,s)}get isWalletConnect(){return!0}async pair(e){const{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});s&&(this.uri=s,this.events.emit(\"display_uri\",s));const r=await i();this.session=r;const a=ve(r.namespaces);return this.namespaces=C(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,s){try{if(!this.session)return;const[i,r]=this.validateChain(e);this.getProvider(i).setDefaultChain(r,s)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info(\"Cleaning up inactive pairings...\");const s=this.client.pairing.getAll();if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(s))return;for(const i of s)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${s.length}`)}catch(s){this.logger.warn(s,\"Failed to cleanup pending pairings\")}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,s;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__.SignClient.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ce,relayUrl:this.providerOpts.relayUrl||pt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(i,\"Failed to get session\"),new Error(`The provided session: ${(s=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:s.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(s)))];U(\"client\",this.client),U(\"events\",this.events),U(\"disableProviderPing\",this.disableProviderPing),e.forEach(s=>{if(!this.session)return;const i=bt(s,this.session);if(i?.length===0)return;const r=fe(i),a=C(this.namespaces,this.optionalNamespaces),n=j(S({},a[s]),{accounts:i,chains:r});switch(s){case\"eip155\":this.rpcProviders[s]=new Xt({namespace:n});break;default:this.rpcProviders[s]=new Zt({namespace:n})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var s;const{topic:i}=e;i===((s=this.session)==null?void 0:s.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var s;const{params:i,topic:r}=e;if(r!==((s=this.session)==null?void 0:s.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const n=a.data;n&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(n)&&this.events.emit(\"accountsChanged\",n.map(ye))}else if(a.name===\"chainChanged\"){const n=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n),h=H(n)!==H(c)?`${o}:${H(c)}`:n;this.onChainChanged({currentCaipChainId:h})}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:s})=>{var i,r;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=s,n=(r=this.client)==null?void 0:r.session.get(e);this.session=j(S({},n),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:s})}),this.client.on(\"session_delete\",async e=>{var s;e.topic===((s=this.session)==null?void 0:s.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",j(S({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(F.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(j(S({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[he]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var s;this.getProvider(e).updateNamespace((s=this.session)==null?void 0:s.namespaces[e])})}setNamespaces(e){const{namespaces:s={},optionalNamespaces:i={},sessionProperties:r,scopedProperties:a}=e;this.optionalNamespaces=C(s,i),this.sessionProperties=r,this.scopedProperties=a}validateChain(e){const[s,i]=e?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[s,i];if(s&&!Object.keys(this.namespaces||{}).map(n=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n)).includes(s))throw new Error(`Namespace '${s}' is not configured. Please call connect() first with namespace config.`);if(s&&i)return[s,i];const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[r].getDefaultChain();return[r,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:s,internal:i=!1}){if(!this.namespaces)return;const[r,a]=this.validateChain(e);a&&(this.updateNamespaceChain(r,a),i?(this.events.emit(\"chainChanged\",a),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:s})):this.getProvider(r).setDefaultChain(a),await this.persist(\"namespaces\",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:s,previousCaipChainId:i}){var r,a;try{if(i===s)return;const n=(a=(r=this.session)==null?void 0:r.namespaces[e])==null?void 0:a.accounts;if(!n)return;const c=n.filter(o=>o.includes(`${s}:`)).map(ye);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(n){this.logger.warn(n,\"Failed to emit accountsChanged on chain change\")}}updateNamespaceChain(e,s){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${s}`,r={chains:[],methods:[],events:[],defaultChain:s};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=s):this.namespaces[i]=r}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,s){var i;const r=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${A}/${e}${r}`,s)}async getFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";return await this.client.core.storage.getItem(`${A}/${e}${i}`)}async deleteFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";await this.client.core.storage.removeItem(`${A}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const s=await this.client.core.storage.getKeys();for(const i of s)i.startsWith(A)&&await this.client.core.storage.removeItem(i)}catch(s){this.logger.warn(s,\"Failed to cleanup storage\")}}}const ns=N;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdWhCLGNBQWMseURBQXlELGNBQWMsa0dBQWtHLGNBQWMsaUdBQWlHLHNnQkFBc2dCLGNBQWMsdURBQXVELGlCQUFpQiwrQkFBK0IscUNBQXFDLHFCQUFxQixvQkFBb0IsaUJBQWlCLDRCQUE0QixxQkFBcUIsNEJBQTRCLFdBQVcsWUFBWSxXQUFXLHlCQUF5QixpR0FBaUcsa0RBQWtELHdCQUF3QixxQ0FBcUMsaUNBQWlDLHFCQUFxQixnQkFBZ0IsV0FBVyx5Q0FBeUMsU0FBUyxxQkFBcUIsZ0JBQWdCLFdBQVcsMENBQTBDLFNBQVMsVUFBVSxNQUFNLE1BQU0sTUFBTSxpQ0FBaUMsU0FBUyw0REFBNEQsV0FBVyxZQUFZLFdBQVcseUJBQXlCLFNBQVMsNEdBQTRHLDBCQUEwQixrRUFBa0UsaUNBQWlDLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLGlDQUFpQyxzQkFBc0Isc0JBQXNCLFlBQVksRUFBRSxpQ0FBaUMsdUJBQXVCLDBCQUEwQixtR0FBbUcsOEJBQThCLGdEQUFnRCxpQ0FBaUMsU0FBUyx3QkFBd0Isb0NBQW9DLFlBQVksV0FBVyxLQUFLLG9EQUFvRCwrQ0FBK0MsZUFBZSxhQUFhLHlMQUF5TCxrQkFBa0IsaUJBQWlCLHdCQUF3QixxQkFBcUIsb0JBQW9CLGdFQUFnRSx5QkFBeUIsd0NBQXdDLGdCQUFnQixTQUFTLFdBQVcsd0VBQXdFLGdCQUFnQixFQUFFLGVBQWUsYUFBYSxlQUFlLGlFQUFpRSxlQUFlLG9DQUFvQyxlQUFlLGVBQWUsWUFBWSxlQUFlLHdDQUF3Qyw0Q0FBNEMsMERBQTBELDhCQUE4Qiw4R0FBOEcsRUFBRSxHQUFHLFFBQVEsS0FBSyxnQ0FBZ0MsNEJBQTRCLG9DQUFvQyxlQUFlLGlCQUFpQixv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bzdCIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtTaWduQ2xpZW50IGFzIGplfWZyb21cIkB3YWxsZXRjb25uZWN0L3NpZ24tY2xpZW50XCI7aW1wb3J0e2lzVmFsaWRPYmplY3QgYXMgUCxpc0NhaXBOYW1lc3BhY2UgYXMgVixwYXJzZU5hbWVzcGFjZUtleSBhcyBPLG1lcmdlQXJyYXlzIGFzIEQscGFyc2VDaGFpbklkIGFzIEksY2FsY0V4cGlyeSBhcyBOZSxpc0V4cGlyZWQgYXMgWSxjcmVhdGVMb2dnZXIgYXMgcWUsZ2V0U2RrRXJyb3IgYXMgWCxpc1ZhbGlkQXJyYXkgYXMgUn1mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHtmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyBrLGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgRGV9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydHtKc29uUnBjUHJvdmlkZXIgYXMgUX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXByb3ZpZGVyXCI7aW1wb3J0IFJlLHtIdHRwQ29ubmVjdGlvbiBhcyBfZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLWh0dHAtY29ubmVjdGlvblwiO2ltcG9ydCB4ZSBmcm9tXCJldmVudHNcIjtmdW5jdGlvbiBfKHQpe3JldHVybiB0PT1udWxsfHx0eXBlb2YgdCE9XCJvYmplY3RcIiYmdHlwZW9mIHQhPVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBaKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpLmZpbHRlcihlPT5PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxlKSl9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdD09bnVsbD90PT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNvbnN0IEZlPVwiW29iamVjdCBSZWdFeHBdXCIsZWU9XCJbb2JqZWN0IFN0cmluZ11cIix0ZT1cIltvYmplY3QgTnVtYmVyXVwiLHNlPVwiW29iamVjdCBCb29sZWFuXVwiLGllPVwiW29iamVjdCBBcmd1bWVudHNdXCIsSGU9XCJbb2JqZWN0IFN5bWJvbF1cIixVZT1cIltvYmplY3QgRGF0ZV1cIixCZT1cIltvYmplY3QgTWFwXVwiLExlPVwiW29iamVjdCBTZXRdXCIsTWU9XCJbb2JqZWN0IEFycmF5XVwiLHplPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixHZT1cIltvYmplY3QgT2JqZWN0XVwiLFdlPVwiW29iamVjdCBEYXRhVmlld11cIixKZT1cIltvYmplY3QgVWludDhBcnJheV1cIixLZT1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsVmU9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFllPVwiW29iamVjdCBVaW50MzJBcnJheV1cIixYZT1cIltvYmplY3QgSW50OEFycmF5XVwiLGtlPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLFFlPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFplPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsVGU9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiB4KHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJiEodCBpbnN0YW5jZW9mIERhdGFWaWV3KX1mdW5jdGlvbiBldCh0LGUpe3JldHVybiB5KHQsdm9pZCAwLHQsbmV3IE1hcCxlKX1mdW5jdGlvbiB5KHQsZSxzLGk9bmV3IE1hcCxyPXZvaWQgMCl7Y29uc3QgYT1yPy4odCxlLHMsaSk7aWYoYSE9bnVsbClyZXR1cm4gYTtpZihfKHQpKXJldHVybiB0O2lmKGkuaGFzKHQpKXJldHVybiBpLmdldCh0KTtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPW5ldyBBcnJheSh0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXkodFtjXSxjLHMsaSxyKTtyZXR1cm4gT2JqZWN0Lmhhc093bih0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgpLE9iamVjdC5oYXNPd24odCxcImlucHV0XCIpJiYobi5pbnB1dD10LmlucHV0KSxufWlmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZSh0LmdldFRpbWUoKSk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3Qgbj1uZXcgUmVnRXhwKHQuc291cmNlLHQuZmxhZ3MpO3JldHVybiBuLmxhc3RJbmRleD10Lmxhc3RJbmRleCxufWlmKHQgaW5zdGFuY2VvZiBNYXApe2NvbnN0IG49bmV3IE1hcDtpLnNldCh0LG4pO2Zvcihjb25zdFtjLG9db2YgdCluLnNldChjLHkobyxjLHMsaSxyKSk7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIFNldCl7Y29uc3Qgbj1uZXcgU2V0O2kuc2V0KHQsbik7Zm9yKGNvbnN0IGMgb2YgdCluLmFkZCh5KGMsdm9pZCAwLHMsaSxyKSk7cmV0dXJuIG59aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHQpKXJldHVybiB0LnN1YmFycmF5KCk7aWYoeCh0KSl7Y29uc3Qgbj1uZXcoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXkodFtjXSxjLHMsaSxyKTtyZXR1cm4gbn1pZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2lmKHQgaW5zdGFuY2VvZiBEYXRhVmlldyl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC5idWZmZXIuc2xpY2UoMCksdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXtjb25zdCBuPW5ldyBGaWxlKFt0XSx0Lm5hbWUse3R5cGU6dC50eXBlfSk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodCBpbnN0YW5jZW9mIEJsb2Ipe2NvbnN0IG49bmV3IEJsb2IoW3RdLHt0eXBlOnQudHlwZX0pO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufWlmKHQgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3Qgbj1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5zZXQodCxuKSxuLm1lc3NhZ2U9dC5tZXNzYWdlLG4ubmFtZT10Lm5hbWUsbi5zdGFjaz10LnN0YWNrLG4uY2F1c2U9dC5jYXVzZSxtKG4sdCxzLGksciksbn1pZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdHQodCkpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufXJldHVybiB0fWZ1bmN0aW9uIG0odCxlLHM9dCxpLHIpe2NvbnN0IGE9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLlooZSldO2ZvcihsZXQgbj0wO248YS5sZW5ndGg7bisrKXtjb25zdCBjPWFbbl0sbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYyk7KG89PW51bGx8fG8ud3JpdGFibGUpJiYodFtjXT15KGVbY10sYyxzLGkscikpfX1mdW5jdGlvbiB0dCh0KXtzd2l0Y2goVCh0KSl7Y2FzZSBpZTpjYXNlIE1lOmNhc2UgemU6Y2FzZSBXZTpjYXNlIHNlOmNhc2UgVWU6Y2FzZSBaZTpjYXNlIFRlOmNhc2UgWGU6Y2FzZSBrZTpjYXNlIFFlOmNhc2UgQmU6Y2FzZSB0ZTpjYXNlIEdlOmNhc2UgRmU6Y2FzZSBMZTpjYXNlIGVlOmNhc2UgSGU6Y2FzZSBKZTpjYXNlIEtlOmNhc2UgVmU6Y2FzZSBZZTpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBzdCh0LGUpe3JldHVybiBldCh0LChzLGkscixhKT0+e2NvbnN0IG49ZT8uKHMsaSxyLGEpO2lmKG4hPW51bGwpcmV0dXJuIG47aWYodHlwZW9mIHQ9PVwib2JqZWN0XCIpc3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl7Y2FzZSB0ZTpjYXNlIGVlOmNhc2Ugc2U6e2NvbnN0IGM9bmV3IHQuY29uc3RydWN0b3IodD8udmFsdWVPZigpKTtyZXR1cm4gbShjLHQpLGN9Y2FzZSBpZTp7Y29uc3QgYz17fTtyZXR1cm4gbShjLHQpLGMubGVuZ3RoPXQubGVuZ3RoLGNbU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0sY31kZWZhdWx0OnJldHVybn19KX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gc3QodCl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIHQhPT1udWxsJiZ0eXBlb2YgdD09XCJvYmplY3RcIiYmVCh0KT09PVwiW29iamVjdCBBcmd1bWVudHNdXCJ9ZnVuY3Rpb24gYWUodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0IT09bnVsbH1mdW5jdGlvbiBpdCgpe31mdW5jdGlvbiBudCh0KXtyZXR1cm4geCh0KX1mdW5jdGlvbiBydCh0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09bnVsbClyZXR1cm4hMTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1udWxsKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSE9PVwiW29iamVjdCBPYmplY3RdXCIpe2NvbnN0IHM9dFtTeW1ib2wudG9TdHJpbmdUYWddO3JldHVybiBzPT1udWxsfHwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LFN5bWJvbC50b1N0cmluZ1RhZyk/LndyaXRhYmxlPyExOnQudG9TdHJpbmcoKT09PWBbb2JqZWN0ICR7c31dYH1sZXQgZT10O2Zvcig7T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpIT09bnVsbDspZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWV9ZnVuY3Rpb24gYXQodCl7aWYoXyh0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpfHx4KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLHM9ZS5jb25zdHJ1Y3RvcjtpZih0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIE1hcHx8dCBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IHModCk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgaT1uZXcgcyh0KTtyZXR1cm4gaS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsaX1pZih0IGluc3RhbmNlb2YgRGF0YVZpZXcpcmV0dXJuIG5ldyBzKHQuYnVmZmVyLnNsaWNlKDApKTtpZih0IGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGk9bmV3IHModC5tZXNzYWdlKTtyZXR1cm4gaS5zdGFjaz10LnN0YWNrLGkubmFtZT10Lm5hbWUsaS5jYXVzZT10LmNhdXNlLGl9aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXJldHVybiBuZXcgcyhbdF0sdC5uYW1lLHt0eXBlOnQudHlwZSxsYXN0TW9kaWZpZWQ6dC5sYXN0TW9kaWZpZWR9KTtpZih0eXBlb2YgdD09XCJvYmplY3RcIil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBPYmplY3QuYXNzaWduKGksdCl9cmV0dXJuIHR9ZnVuY3Rpb24gY3QodCwuLi5lKXtjb25zdCBzPWUuc2xpY2UoMCwtMSksaT1lW2UubGVuZ3RoLTFdO2xldCByPXQ7Zm9yKGxldCBhPTA7YTxzLmxlbmd0aDthKyspe2NvbnN0IG49c1thXTtyPSQocixuLGksbmV3IE1hcCl9cmV0dXJuIHJ9ZnVuY3Rpb24gJCh0LGUscyxpKXtpZihfKHQpJiYodD1PYmplY3QodCkpLGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXJldHVybiB0O2lmKGkuaGFzKGUpKXJldHVybiBhdChpLmdldChlKSk7aWYoaS5zZXQoZSx0KSxBcnJheS5pc0FycmF5KGUpKXtlPWUuc2xpY2UoKTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyllW2FdPWVbYV0/P3ZvaWQgMH1jb25zdCByPVsuLi5PYmplY3Qua2V5cyhlKSwuLi5aKGUpXTtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3Qgbj1yW2FdO2xldCBjPWVbbl0sbz10W25dO2lmKHJlKGMpJiYoYz17Li4uY30pLHJlKG8pJiYobz17Li4ub30pLHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihjKSYmKGM9bmUoYykpLEFycmF5LmlzQXJyYXkoYykpaWYodHlwZW9mIG89PVwib2JqZWN0XCImJm8hPW51bGwpe2NvbnN0IGw9W10scD1SZWZsZWN0Lm93bktleXMobyk7Zm9yKGxldCBmPTA7ZjxwLmxlbmd0aDtmKyspe2NvbnN0IHU9cFtmXTtsW3VdPW9bdV19bz1sfWVsc2Ugbz1bXTtjb25zdCBoPXMobyxjLG4sdCxlLGkpO2ghPW51bGw/dFtuXT1oOkFycmF5LmlzQXJyYXkoYyl8fGFlKG8pJiZhZShjKT90W25dPSQobyxjLHMsaSk6bz09bnVsbCYmcnQoYyk/dFtuXT0kKHt9LGMscyxpKTpvPT1udWxsJiZudChjKT90W25dPW5lKGMpOihvPT09dm9pZCAwfHxjIT09dm9pZCAwKSYmKHRbbl09Yyl9cmV0dXJuIHR9ZnVuY3Rpb24gb3QodCwuLi5lKXtyZXR1cm4gY3QodCwuLi5lLGl0KX1jb25zdCBjZT1cImVycm9yXCIscHQ9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLGh0PVwid2NcIixvZT1cInVuaXZlcnNhbF9wcm92aWRlclwiLEE9YCR7aHR9QDI6JHtvZX06YCxwZT1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxL1wiLGhlPVwiZ2VuZXJpY1wiLGx0PWAke3BlfWJ1bmRsZXJgLHY9XCJjYWxsX3N0YXR1c1wiLHV0PTg2NDAwLEY9e0RFRkFVTFRfQ0hBSU5fQ0hBTkdFRDpcImRlZmF1bHRfY2hhaW5fY2hhbmdlZFwifTt2YXIgZHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGZ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLG10PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZ3Q9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx5dD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHVlPSh0LGUscyk9PmUgaW4gdD9kdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsRT0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpZ3QuY2FsbChlLHMpJiZ1ZSh0LHMsZVtzXSk7aWYobGUpZm9yKHZhciBzIG9mIGxlKGUpKXl0LmNhbGwoZSxzKSYmdWUodCxzLGVbc10pO3JldHVybiB0fSx2dD0odCxlKT0+ZnQodCxtdChlKSk7ZnVuY3Rpb24gZGUodCxlLHMpe3ZhciBpO2NvbnN0IHI9SSh0KTtyZXR1cm4oKGk9ZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3IucmVmZXJlbmNlXSl8fGAke3BlfT9jaGFpbklkPSR7ci5uYW1lc3BhY2V9OiR7ci5yZWZlcmVuY2V9JnByb2plY3RJZD0ke3N9YH1mdW5jdGlvbiB3dCh0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIilbMV06dH1mdW5jdGlvbiBmZSh0KXtyZXR1cm4gdC5tYXAoZT0+YCR7ZS5zcGxpdChcIjpcIilbMF19OiR7ZS5zcGxpdChcIjpcIilbMV19YCl9ZnVuY3Rpb24gYnQodCxlKXtjb25zdCBzPU9iamVjdC5rZXlzKGUubmFtZXNwYWNlcykuZmlsdGVyKHI9PnIuaW5jbHVkZXModCkpO2lmKCFzLmxlbmd0aClyZXR1cm5bXTtjb25zdCBpPVtdO3JldHVybiBzLmZvckVhY2gocj0+e2NvbnN0IGE9ZS5uYW1lc3BhY2VzW3JdLmFjY291bnRzO2kucHVzaCguLi5hKX0pLGl9ZnVuY3Rpb24gbWUodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFtlLHNdKT0+e3ZhciBpLHI7cmV0dXJuKChpPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOmkubGVuZ3RoKSYmKChyPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKT4wfSkpfWZ1bmN0aW9uIEModD17fSxlPXt9KXtjb25zdCBzPW1lKGdlKHQpKSxpPW1lKGdlKGUpKTtyZXR1cm4gb3QocyxpKX1mdW5jdGlvbiBnZSh0KXt2YXIgZSxzLGkscixhO2NvbnN0IG49e307aWYoIVAodCkpcmV0dXJuIG47Zm9yKGNvbnN0W2Msb11vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgaD1WKGMpP1tjXTpvLmNoYWlucyxsPW8ubWV0aG9kc3x8W10scD1vLmV2ZW50c3x8W10sZj1vLnJwY01hcHx8e30sdT1PKGMpO25bdV09dnQoRShFKHt9LG5bdV0pLG8pLHtjaGFpbnM6RChoLChlPW5bdV0pPT1udWxsP3ZvaWQgMDplLmNoYWlucyksbWV0aG9kczpEKGwsKHM9blt1XSk9PW51bGw/dm9pZCAwOnMubWV0aG9kcyksZXZlbnRzOkQocCwoaT1uW3VdKT09bnVsbD92b2lkIDA6aS5ldmVudHMpfSksKFAoZil8fFAoKChyPW5bdV0pPT1udWxsP3ZvaWQgMDpyLnJwY01hcCl8fHt9KSkmJihuW3VdLnJwY01hcD1FKEUoe30sZiksKGE9blt1XSk9PW51bGw/dm9pZCAwOmEucnBjTWFwKSl9cmV0dXJuIG59ZnVuY3Rpb24geWUodCl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzJdOnR9ZnVuY3Rpb24gdmUodCl7Y29uc3QgZT17fTtmb3IoY29uc3RbcyxpXW9mIE9iamVjdC5lbnRyaWVzKHQpKXtjb25zdCByPWkubWV0aG9kc3x8W10sYT1pLmV2ZW50c3x8W10sbj1pLmFjY291bnRzfHxbXSxjPVYocyk/W3NdOmkuY2hhaW5zP2kuY2hhaW5zOmZlKGkuYWNjb3VudHMpO2Vbc109e2NoYWluczpjLG1ldGhvZHM6cixldmVudHM6YSxhY2NvdW50czpufX1yZXR1cm4gZX1mdW5jdGlvbiBIKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIj90OnQuaW5jbHVkZXMoXCIweFwiKT9wYXJzZUludCh0LDE2KToodD10LmluY2x1ZGVzKFwiOlwiKT90LnNwbGl0KFwiOlwiKVsxXTp0LGlzTmFOKE51bWJlcih0KSk/dDpOdW1iZXIodCkpfWZ1bmN0aW9uIFB0KHQpe3RyeXtjb25zdCBlPUpTT04ucGFyc2UodCk7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiJiZlIT09bnVsbCYmIUFycmF5LmlzQXJyYXkoZSl9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0IHdlPXt9LHc9dD0+d2VbdF0sVT0odCxlKT0+e3dlW3RdPWV9O3ZhciBPdD1PYmplY3QuZGVmaW5lUHJvcGVydHksYmU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxJdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFN0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsUGU9KHQsZSxzKT0+ZSBpbiB0P090KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxPZT0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpSXQuY2FsbChlLHMpJiZQZSh0LHMsZVtzXSk7aWYoYmUpZm9yKHZhciBzIG9mIGJlKGUpKVN0LmNhbGwoZSxzKSYmUGUodCxzLGVbc10pO3JldHVybiB0fTtjb25zdCBJZT1cImVpcDE1NVwiLCR0PVtcImF0b21pY1wiLFwiZmxvdy1jb250cm9sXCIsXCJwYXltYXN0ZXJTZXJ2aWNlXCIsXCJzZXNzaW9uS2V5c1wiLFwiYXV4aWxpYXJ5RnVuZHNcIl0sQXQ9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/QmlnSW50KHQpLnRvU3RyaW5nKDEwKTp0LEI9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/dDpgMHgke0JpZ0ludCh0KS50b1N0cmluZygxNil9YCxTZT10PT5PYmplY3Qua2V5cyh0KS5maWx0ZXIoZT0+JHQuaW5jbHVkZXMoZSkpLnJlZHVjZSgoZSxzKT0+KGVbc109RXQodFtzXSksZSkse30pLEV0PXQ9PnR5cGVvZiB0PT1cInN0cmluZ1wiJiZQdCh0KT9KU09OLnBhcnNlKHQpOnQsQ3Q9KHQsZSxzKT0+e2NvbnN0e3Nlc3Npb25Qcm9wZXJ0aWVzOmk9e30sc2NvcGVkUHJvcGVydGllczpyPXt9fT10LGE9e307aWYoIVAocikmJiFQKGkpKXJldHVybjtjb25zdCBuPVNlKGkpO2Zvcihjb25zdCBjIG9mIHMpe2NvbnN0IG89QXQoYyk7aWYoIW8pY29udGludWU7YVtCKG8pXT1uO2NvbnN0IGg9cj8uW2Ake0llfToke299YF07aWYoaCl7Y29uc3QgbD1oPy5bYCR7SWV9OiR7b306JHtlfWBdO2FbQihvKV09T2UoT2Uoe30sYVtCKG8pXSksU2UobHx8aCkpfX1mb3IoY29uc3RbYyxvXW9mIE9iamVjdC5lbnRyaWVzKGEpKU9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBhW2NdO3JldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MD9hOnZvaWQgMH07dmFyIGp0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxOdD0odCxlLHMpPT5lIGluIHQ/anQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLHF0PSh0LGUscyk9Pk50KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7bGV0IEw7Y2xhc3MgSntjb25zdHJ1Y3RvcihlKXtxdCh0aGlzLFwic3RvcmFnZVwiKSx0aGlzLnN0b3JhZ2U9ZX1hc3luYyBnZXRJdGVtKGUpe3JldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShlKX1hc3luYyBzZXRJdGVtKGUscyl7cmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUscyl9YXN5bmMgcmVtb3ZlSXRlbShlKXtyZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oZSl9c3RhdGljIGdldFN0b3JhZ2UoZSl7cmV0dXJuIEx8fChMPW5ldyBKKGUpKSxMfX12YXIgRHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LFJ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLF90PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCRlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMseHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxGdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLEFlPSh0LGUscyk9PmUgaW4gdD9EdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsSHQ9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKXh0LmNhbGwoZSxzKSYmQWUodCxzLGVbc10pO2lmKCRlKWZvcih2YXIgcyBvZiAkZShlKSlGdC5jYWxsKGUscykmJkFlKHQscyxlW3NdKTtyZXR1cm4gdH0sVXQ9KHQsZSk9PlJ0KHQsX3QoZSkpO2FzeW5jIGZ1bmN0aW9uIEJ0KHQsZSl7Y29uc3Qgcz1JKHQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LmNhaXAyKSxpPXQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LnRyYW5zYWN0aW9uSGFzaGVzLHI9YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGkubWFwKHA9Pkx0KHMucmVmZXJlbmNlLHAsZSkpKSxhPXIuZmlsdGVyKHA9PnAuc3RhdHVzPT09XCJmdWxmaWxsZWRcIikubWFwKHA9PnAudmFsdWUpLmZpbHRlcihwPT5wKTtyLmZpbHRlcihwPT5wLnN0YXR1cz09PVwicmVqZWN0ZWRcIikuZm9yRWFjaChwPT5jb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggdHJhbnNhY3Rpb24gcmVjZWlwdDpcIixwLnJlYXNvbikpO2NvbnN0IG49IWEubGVuZ3RofHxhLnNvbWUocD0+IXApLGM9YS5ldmVyeShwPT5wPy5zdGF0dXM9PT1cIjB4MVwiKSxvPWEuZXZlcnkocD0+cD8uc3RhdHVzPT09XCIweDBcIiksaD1hLnNvbWUocD0+cD8uc3RhdHVzPT09XCIweDBcIik7bGV0IGw7cmV0dXJuIG4/bD0xMDA6Yz9sPTIwMDpvP2w9NTAwOmgmJihsPTYwMCkse2lkOnQucmVzdWx0LmlkLHZlcnNpb246dC5yZXF1ZXN0LnZlcnNpb24sYXRvbWljOnQucmVxdWVzdC5hdG9taWNSZXF1aXJlZCxjaGFpbklkOnQucmVxdWVzdC5jaGFpbklkLGNhcGFiaWxpdGllczp0LnJlc3VsdC5jYXBhYmlsaXRpZXMscmVjZWlwdHM6YSxzdGF0dXM6bH19YXN5bmMgZnVuY3Rpb24gTHQodCxlLHMpe3JldHVybiBhd2FpdCBzKHBhcnNlSW50KHQpKS5yZXF1ZXN0KGsoXCJldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0XCIsW2VdKSl9YXN5bmMgZnVuY3Rpb24gTXQoe3NlbmRDYWxsczp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHYpO2F3YWl0IGUuc2V0SXRlbSh2LFV0KEh0KHt9LHMpLHtbdC5yZXN1bHQuaWRdOntyZXF1ZXN0OnQucmVxdWVzdCxyZXN1bHQ6dC5yZXN1bHQsZXhwaXJ5Ok5lKHV0KX19KSl9YXN5bmMgZnVuY3Rpb24genQoe3Jlc3VsdElkOnQsc3RvcmFnZTplfSl7Y29uc3Qgcz1hd2FpdCBlLmdldEl0ZW0odik7aWYocyl7ZGVsZXRlIHNbdF0sYXdhaXQgZS5zZXRJdGVtKHYscyk7Zm9yKGNvbnN0IGkgaW4gcylZKHNbaV0uZXhwaXJ5KSYmZGVsZXRlIHNbaV07YXdhaXQgZS5zZXRJdGVtKHYscyl9fWFzeW5jIGZ1bmN0aW9uIEd0KHtyZXN1bHRJZDp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHYpLGk9cz8uW3RdO2lmKGkmJiFZKGkuZXhwaXJ5KSlyZXR1cm4gaTthd2FpdCB6dCh7cmVzdWx0SWQ6dCxzdG9yYWdlOmV9KX12YXIgV3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LEp0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEt0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEVlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsVnQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxZdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLE09KHQsZSxzKT0+ZSBpbiB0P1d0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyx6PSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlWdC5jYWxsKGUscykmJk0odCxzLGVbc10pO2lmKEVlKWZvcih2YXIgcyBvZiBFZShlKSlZdC5jYWxsKGUscykmJk0odCxzLGVbc10pO3JldHVybiB0fSxHPSh0LGUpPT5KdCh0LEt0KGUpKSxnPSh0LGUscyk9Pk0odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBYdHtjb25zdHJ1Y3RvcihlKXtnKHRoaXMsXCJuYW1lXCIsXCJlaXAxNTVcIiksZyh0aGlzLFwiY2xpZW50XCIpLGcodGhpcyxcImNoYWluSWRcIiksZyh0aGlzLFwibmFtZXNwYWNlXCIpLGcodGhpcyxcImh0dHBQcm92aWRlcnNcIiksZyh0aGlzLFwiZXZlbnRzXCIpLGcodGhpcyxcInN0b3JhZ2VcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKSx0aGlzLmNoYWluSWQ9cGFyc2VJbnQodGhpcy5nZXREZWZhdWx0Q2hhaW4oKSksdGhpcy5zdG9yYWdlPUouZ2V0U3RvcmFnZSh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UpfWFzeW5jIHJlcXVlc3QoZSl7c3dpdGNoKGUucmVxdWVzdC5tZXRob2Qpe2Nhc2VcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcImV0aF9hY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIjpyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVTd2l0Y2hDaGFpbihlKTtjYXNlXCJldGhfY2hhaW5JZFwiOnJldHVybiBwYXJzZUludCh0aGlzLmdldERlZmF1bHRDaGFpbigpKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FwYWJpbGl0aWVzKGUpO2Nhc2VcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhbGxTdGF0dXMoZSk7Y2FzZVwid2FsbGV0X3NlbmRDYWxsc1wiOnJldHVybiBhd2FpdCB0aGlzLnNlbmRDYWxscyhlKX1yZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT9hd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLGUpfXNldERlZmF1bHRDaGFpbihlLHMpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIocGFyc2VJbnQoZSkscyk7Y29uc3QgaT10aGlzLmNoYWluSWQ7dGhpcy5jaGFpbklkPXBhcnNlSW50KGUpLHRoaXMuZXZlbnRzLmVtaXQoRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQudG9TdHJpbmcoKTtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19Y3JlYXRlSHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT1zfHxkZShgJHt0aGlzLm5hbWV9OiR7ZX1gLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IFEobmV3IF9lKGksdyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2gocz0+e3ZhciBpO2NvbnN0IHI9cGFyc2VJbnQod3QocykpO2Vbcl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIociwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3NdKX0pLGV9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP1suLi5uZXcgU2V0KGUuZmlsdGVyKHM9PnMuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChzPT5zLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1nZXRIdHRwUHJvdmlkZXIoZSl7Y29uc3Qgcz1lfHx0aGlzLmNoYWluSWQ7cmV0dXJuIHRoaXMuaHR0cFByb3ZpZGVyc1tzXXx8KHRoaXMuaHR0cFByb3ZpZGVycz1HKHooe30sdGhpcy5odHRwUHJvdmlkZXJzKSx7W3NdOnRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHMpfSksdGhpcy5odHRwUHJvdmlkZXJzW3NdKX1hc3luYyBoYW5kbGVTd2l0Y2hDaGFpbihlKXt2YXIgcyxpO2xldCByPWUucmVxdWVzdC5wYXJhbXM/KHM9ZS5yZXF1ZXN0LnBhcmFtc1swXSk9PW51bGw/dm9pZCAwOnMuY2hhaW5JZDpcIjB4MFwiO3I9ci5zdGFydHNXaXRoKFwiMHhcIik/cjpgMHgke3J9YDtjb25zdCBhPXBhcnNlSW50KHIsMTYpO2lmKHRoaXMuaXNDaGFpbkFwcHJvdmVkKGEpKXRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSBpZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIikpYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7dG9waWM6ZS50b3BpYyxyZXF1ZXN0OnttZXRob2Q6ZS5yZXF1ZXN0Lm1ldGhvZCxwYXJhbXM6W3tjaGFpbklkOnJ9XX0sY2hhaW5JZDooaT10aGlzLm5hbWVzcGFjZS5jaGFpbnMpPT1udWxsP3ZvaWQgMDppWzBdfSksdGhpcy5zZXREZWZhdWx0Q2hhaW4oYCR7YX1gKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHN3aXRjaCB0byBjaGFpbiAnZWlwMTU1OiR7YX0nLiBUaGUgY2hhaW4gaXMgbm90IGFwcHJvdmVkIG9yIHRoZSB3YWxsZXQgZG9lcyBub3Qgc3VwcG9ydCAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nIG1ldGhvZC5gKTtyZXR1cm4gbnVsbH1pc0NoYWluQXBwcm92ZWQoZSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5pbmNsdWRlcyhgJHt0aGlzLm5hbWV9OiR7ZX1gKX1hc3luYyBnZXRDYXBhYmlsaXRpZXMoZSl7dmFyIHMsaSxyLGEsbjtjb25zdCBjPShpPShzPWUucmVxdWVzdCk9PW51bGw/dm9pZCAwOnMucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXSxvPSgoYT0ocj1lLnJlcXVlc3QpPT1udWxsP3ZvaWQgMDpyLnBhcmFtcyk9PW51bGw/dm9pZCAwOmFbMV0pfHxbXTtpZighYyl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGFkZHJlc3MgcGFyYW1ldGVyIGluIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCByZXF1ZXN0XCIpO2NvbnN0IGg9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZS50b3BpYyksbD0oKG49aD8uc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDpuLmNhcGFiaWxpdGllcyl8fHt9LHA9YCR7Y30ke28uam9pbihcIixcIil9YCxmPWw/LltwXTtpZihmKXJldHVybiBmO2xldCB1O3RyeXt1PUN0KGgsYyxvKX1jYXRjaChxKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZXh0cmFjdCBjYXBhYmlsaXRpZXMgZnJvbSBzZXNzaW9uXCIscSl9aWYodSlyZXR1cm4gdTtjb25zdCBLPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUudG9waWMse3Nlc3Npb25Qcm9wZXJ0aWVzOkcoeih7fSxoLnNlc3Npb25Qcm9wZXJ0aWVzfHx7fSkse2NhcGFiaWxpdGllczpHKHooe30sbHx8e30pLHtbcF06S30pfSl9KX1jYXRjaChxKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gd2l0aCBjYXBhYmlsaXRpZXNcIixxKX1yZXR1cm4gS31hc3luYyBnZXRDYWxsU3RhdHVzKGUpe3ZhciBzLGkscjtjb25zdCBhPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUudG9waWMpLG49KHM9YS5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOnMuYnVuZGxlcl9uYW1lO2lmKG4pe2NvbnN0IGg9dGhpcy5nZXRCdW5kbGVyVXJsKGUuY2hhaW5JZCxuKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQoaCxlKX1jYXRjaChsKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBidW5kbGVyXCIsbCxoKX19Y29uc3QgYz0oaT1hLnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6aS5idW5kbGVyX3VybDtpZihjKXRyeXtyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChjLGUpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIGN1c3RvbSBidW5kbGVyXCIsaCxjKX1jb25zdCBvPWF3YWl0IEd0KHtyZXN1bHRJZDoocj1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6clswXSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pO2lmKG8pdHJ5e3JldHVybiBhd2FpdCBCdChvLHRoaXMuZ2V0SHR0cFByb3ZpZGVyLmJpbmQodGhpcykpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIHN0b3JlZCBzZW5kIGNhbGxzXCIsaCxvKX1pZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpKXJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpO3Rocm93IG5ldyBFcnJvcihcIkZldGNoaW5nIGNhbGwgc3RhdHVzIG5vdCBhcHByb3ZlZCBieSB0aGUgd2FsbGV0LlwiKX1hc3luYyBnZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChlLHMpe3ZhciBpO2NvbnN0IHI9bmV3IFVSTChlKSxhPWF3YWl0IGZldGNoKHIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGsoXCJldGhfZ2V0VXNlck9wZXJhdGlvblJlY2VpcHRcIixbKGk9cy5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF1dKSl9KTtpZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB1c2VyIG9wZXJhdGlvbiByZWNlaXB0IC0gJHthLnN0YXR1c31gKTtyZXR1cm4gYXdhaXQgYS5qc29uKCl9Z2V0QnVuZGxlclVybChlLHMpe3JldHVybmAke2x0fT9wcm9qZWN0SWQ9JHt0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0mY2hhaW5JZD0ke2V9JmJ1bmRsZXI9JHtzfWB9YXN5bmMgc2VuZENhbGxzKGUpe3ZhciBzLGkscjtjb25zdCBhPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSksbj0ocz1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6c1swXSxjPWE/LmlkLG89YT8uY2FwYWJpbGl0aWVzfHx7fSxoPShpPW8/LmNhaXAzNDUpPT1udWxsP3ZvaWQgMDppLmNhaXAyLGw9KHI9bz8uY2FpcDM0NSk9PW51bGw/dm9pZCAwOnIudHJhbnNhY3Rpb25IYXNoZXM7cmV0dXJuIWN8fCFofHwhKGwhPW51bGwmJmwubGVuZ3RoKXx8YXdhaXQgTXQoe3NlbmRDYWxsczp7cmVxdWVzdDpuLHJlc3VsdDphfSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pLGF9fXZhciBrdD1PYmplY3QuZGVmaW5lUHJvcGVydHksUXQ9KHQsZSxzKT0+ZSBpbiB0P2t0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxiPSh0LGUscyk9PlF0KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7Y2xhc3MgWnR7Y29uc3RydWN0b3IoZSl7Yih0aGlzLFwibmFtZVwiLGhlKSxiKHRoaXMsXCJjbGllbnRcIiksYih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxiKHRoaXMsXCJldmVudHNcIiksYih0aGlzLFwibmFtZXNwYWNlXCIpLGIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMubmFtZT10aGlzLmdldE5hbWVzcGFjZU5hbWUoKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KGUuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQoZS5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdChlLm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KGUuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoZS5jaGFpbklkKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUscyl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHMpO2NvbnN0IGk9dGhpcy5jaGFpbklkO3RoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQoRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1nZXROYW1lc3BhY2VOYW1lKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIEkoZSkubmFtZXNwYWNlfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcihzPT5zLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAocz0+cy5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe3ZhciBlLHM7Y29uc3QgaT17fTtyZXR1cm4ocz0oZT10aGlzLm5hbWVzcGFjZSk9PW51bGw/dm9pZCAwOmUuYWNjb3VudHMpPT1udWxsfHxzLmZvckVhY2gocj0+e3ZhciBhLG47Y29uc3QgYz1JKHIpLG89KG49KGE9dGhpcy5uYW1lc3BhY2UpPT1udWxsP3ZvaWQgMDphLnJwY01hcCk9PW51bGw/dm9pZCAwOm5bYCR7Yy5uYW1lc3BhY2V9OiR7Yy5yZWZlcmVuY2V9YF07aVtjLnJlZmVyZW5jZV09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIocixvKX0pLGl9Z2V0SHR0cFByb3ZpZGVyKGUpe2NvbnN0IHM9SShlKS5yZWZlcmVuY2UsaT10aGlzLmh0dHBQcm92aWRlcnNbc107aWYodHlwZW9mIGk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gaX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXN8fGRlKGUsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3JldHVybiBuZXcgUShuZXcgUmUoaSx3KFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgVHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGVzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHRzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLENlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsc3M9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxpcz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFc9KHQsZSxzKT0+ZSBpbiB0P1R0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxTPSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlzcy5jYWxsKGUscykmJlcodCxzLGVbc10pO2lmKENlKWZvcih2YXIgcyBvZiBDZShlKSlpcy5jYWxsKGUscykmJlcodCxzLGVbc10pO3JldHVybiB0fSxqPSh0LGUpPT5lcyh0LHRzKGUpKSxkPSh0LGUscyk9PlcodCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBOe2NvbnN0cnVjdG9yKGUpe2QodGhpcyxcImNsaWVudFwiKSxkKHRoaXMsXCJuYW1lc3BhY2VzXCIpLGQodGhpcyxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxkKHRoaXMsXCJzZXNzaW9uUHJvcGVydGllc1wiKSxkKHRoaXMsXCJzY29wZWRQcm9wZXJ0aWVzXCIpLGQodGhpcyxcImV2ZW50c1wiLG5ldyB4ZSksZCh0aGlzLFwicnBjUHJvdmlkZXJzXCIse30pLGQodGhpcyxcInNlc3Npb25cIiksZCh0aGlzLFwicHJvdmlkZXJPcHRzXCIpLGQodGhpcyxcImxvZ2dlclwiKSxkKHRoaXMsXCJ1cmlcIiksZCh0aGlzLFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLCExKTt2YXIgcyxpO3RoaXMucHJvdmlkZXJPcHRzPWUsdGhpcy5sb2dnZXI9cWUoe2xvZ2dlcjoocz1lLmxvZ2dlcikhPW51bGw/czpjZSxuYW1lOihpPXRoaXMucHJvdmlkZXJPcHRzLm5hbWUpIT1udWxsP2k6b2V9KSx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZT8uZGlzYWJsZVByb3ZpZGVyUGluZ3x8ITF9c3RhdGljIGFzeW5jIGluaXQoZSl7Y29uc3Qgcz1uZXcgTihlKTtyZXR1cm4gYXdhaXQgcy5pbml0aWFsaXplKCksc31hc3luYyByZXF1ZXN0KGUscyxpKXtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihzKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgcmVxdWVzdCgpXCIpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKHIpLnJlcXVlc3Qoe3JlcXVlc3Q6Uyh7fSxlKSxjaGFpbklkOmAke3J9OiR7YX1gLHRvcGljOnRoaXMuc2Vzc2lvbi50b3BpYyxleHBpcnk6aX0pfXNlbmRBc3luYyhlLHMsaSxyKXtjb25zdCBhPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucmVxdWVzdChlLGkscikudGhlbihuPT5zKG51bGwsRGUoYSxuKSkpLmNhdGNoKG49PnMobix2b2lkIDApKX1hc3luYyBlbmFibGUoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3JldHVybiB0aGlzLnNlc3Npb258fGF3YWl0IHRoaXMuY29ubmVjdCh7bmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KSxhd2FpdCB0aGlzLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIGRpc2Nvbm5lY3QoKXt2YXIgZTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7YXdhaXQgdGhpcy5jbGllbnQuZGlzY29ubmVjdCh7dG9waWM6KGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyxyZWFzb246WChcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSksYXdhaXQgdGhpcy5jbGVhbnVwKCl9YXN5bmMgY29ubmVjdChlKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKHRoaXMuc2V0TmFtZXNwYWNlcyhlKSx0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKSwhZS5za2lwUGFpcmluZylyZXR1cm4gYXdhaXQgdGhpcy5wYWlyKGUucGFpcmluZ1RvcGljKX1hc3luYyBhdXRoZW50aWNhdGUoZSxzKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3RoaXMuc2V0TmFtZXNwYWNlcyhlKSxhd2FpdCB0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKTtjb25zdHt1cmk6aSxyZXNwb25zZTpyfT1hd2FpdCB0aGlzLmNsaWVudC5hdXRoZW50aWNhdGUoZSxzKTtpJiYodGhpcy51cmk9aSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixpKSk7Y29uc3QgYT1hd2FpdCByKCk7aWYodGhpcy5zZXNzaW9uPWEuc2Vzc2lvbix0aGlzLnNlc3Npb24pe2NvbnN0IG49dmUodGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpO3RoaXMubmFtZXNwYWNlcz1DKHRoaXMubmFtZXNwYWNlcyxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpfXJldHVybiBhfW9uKGUscyl7dGhpcy5ldmVudHMub24oZSxzKX1vbmNlKGUscyl7dGhpcy5ldmVudHMub25jZShlLHMpfXJlbW92ZUxpc3RlbmVyKGUscyl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKX1vZmYoZSxzKXt0aGlzLmV2ZW50cy5vZmYoZSxzKX1nZXQgaXNXYWxsZXRDb25uZWN0KCl7cmV0dXJuITB9YXN5bmMgcGFpcihlKXtjb25zdHt1cmk6cyxhcHByb3ZhbDppfT1hd2FpdCB0aGlzLmNsaWVudC5jb25uZWN0KHtwYWlyaW5nVG9waWM6ZSxyZXF1aXJlZE5hbWVzcGFjZXM6dGhpcy5uYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcyxzZXNzaW9uUHJvcGVydGllczp0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6dGhpcy5zY29wZWRQcm9wZXJ0aWVzfSk7cyYmKHRoaXMudXJpPXMsdGhpcy5ldmVudHMuZW1pdChcImRpc3BsYXlfdXJpXCIscykpO2NvbnN0IHI9YXdhaXQgaSgpO3RoaXMuc2Vzc2lvbj1yO2NvbnN0IGE9dmUoci5uYW1lc3BhY2VzKTtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzPUModGhpcy5uYW1lc3BhY2VzLGEpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLGF3YWl0IHRoaXMucGVyc2lzdChcIm9wdGlvbmFsTmFtZXNwYWNlc1wiLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpLHRoaXMuc2Vzc2lvbn1zZXREZWZhdWx0Q2hhaW4oZSxzKXt0cnl7aWYoIXRoaXMuc2Vzc2lvbilyZXR1cm47Y29uc3RbaSxyXT10aGlzLnZhbGlkYXRlQ2hhaW4oZSk7dGhpcy5nZXRQcm92aWRlcihpKS5zZXREZWZhdWx0Q2hhaW4ocixzKX1jYXRjaChpKXtpZighL1BsZWFzZSBjYWxsIGNvbm5lY3QvLnRlc3QoaS5tZXNzYWdlKSl0aHJvdyBpfX1hc3luYyBjbGVhbnVwUGVuZGluZ1BhaXJpbmdzKGU9e30pe3RyeXt0aGlzLmxvZ2dlci5pbmZvKFwiQ2xlYW5pbmcgdXAgaW5hY3RpdmUgcGFpcmluZ3MuLi5cIik7Y29uc3Qgcz10aGlzLmNsaWVudC5wYWlyaW5nLmdldEFsbCgpO2lmKCFSKHMpKXJldHVybjtmb3IoY29uc3QgaSBvZiBzKWUuZGVsZXRlUGFpcmluZ3M/dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLnRvcGljLDApOmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGkudG9waWMpO3RoaXMubG9nZ2VyLmluZm8oYEluYWN0aXZlIHBhaXJpbmdzIGNsZWFyZWQ6ICR7cy5sZW5ndGh9YCl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRmFpbGVkIHRvIGNsZWFudXAgcGVuZGluZyBwYWlyaW5nc1wiKX19YWJvcnRQYWlyaW5nQXR0ZW1wdCgpe3RoaXMubG9nZ2VyLndhcm4oXCJhYm9ydFBhaXJpbmdBdHRlbXB0IGlzIGRlcHJlY2F0ZWQuIFRoaXMgaXMgbm93IGEgbm8tb3AuXCIpfWFzeW5jIGNoZWNrU3RvcmFnZSgpe3RoaXMubmFtZXNwYWNlcz1hd2FpdCB0aGlzLmdldEZyb21TdG9yZShcIm5hbWVzcGFjZXNcIil8fHt9LHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPWF3YWl0IHRoaXMuZ2V0RnJvbVN0b3JlKFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpfHx7fSx0aGlzLnNlc3Npb24mJnRoaXMuY3JlYXRlUHJvdmlkZXJzKCl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5jcmVhdGVDbGllbnQoKSxhd2FpdCB0aGlzLmNoZWNrU3RvcmFnZSgpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWFzeW5jIGNyZWF0ZUNsaWVudCgpe3ZhciBlLHM7aWYodGhpcy5jbGllbnQ9dGhpcy5wcm92aWRlck9wdHMuY2xpZW50fHxhd2FpdCBqZS5pbml0KHtjb3JlOnRoaXMucHJvdmlkZXJPcHRzLmNvcmUsbG9nZ2VyOnRoaXMucHJvdmlkZXJPcHRzLmxvZ2dlcnx8Y2UscmVsYXlVcmw6dGhpcy5wcm92aWRlck9wdHMucmVsYXlVcmx8fHB0LHByb2plY3RJZDp0aGlzLnByb3ZpZGVyT3B0cy5wcm9qZWN0SWQsbWV0YWRhdGE6dGhpcy5wcm92aWRlck9wdHMubWV0YWRhdGEsc3RvcmFnZU9wdGlvbnM6dGhpcy5wcm92aWRlck9wdHMuc3RvcmFnZU9wdGlvbnMsc3RvcmFnZTp0aGlzLnByb3ZpZGVyT3B0cy5zdG9yYWdlLG5hbWU6dGhpcy5wcm92aWRlck9wdHMubmFtZSxjdXN0b21TdG9yYWdlUHJlZml4OnRoaXMucHJvdmlkZXJPcHRzLmN1c3RvbVN0b3JhZ2VQcmVmaXgsdGVsZW1ldHJ5RW5hYmxlZDp0aGlzLnByb3ZpZGVyT3B0cy50ZWxlbWV0cnlFbmFibGVkfSksdGhpcy5wcm92aWRlck9wdHMuc2Vzc2lvbil0cnl7dGhpcy5zZXNzaW9uPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHRoaXMucHJvdmlkZXJPcHRzLnNlc3Npb24udG9waWMpfWNhdGNoKGkpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKGksXCJGYWlsZWQgdG8gZ2V0IHNlc3Npb25cIiksbmV3IEVycm9yKGBUaGUgcHJvdmlkZWQgc2Vzc2lvbjogJHsocz0oZT10aGlzLnByb3ZpZGVyT3B0cyk9PW51bGw/dm9pZCAwOmUuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWN9IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIFNpZ24gY2xpZW50YCl9ZWxzZXtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCk7dGhpcy5zZXNzaW9uPWlbMF19dGhpcy5sb2dnZXIudHJhY2UoXCJTaWduQ2xpZW50IEluaXRpYWxpemVkXCIpfWNyZWF0ZVByb3ZpZGVycygpe2lmKCF0aGlzLmNsaWVudCl0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBub3QgaW5pdGlhbGl6ZWRcIik7aWYoIXRoaXMuc2Vzc2lvbil0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIGNhbGwgY29ubmVjdCgpIGJlZm9yZSBlbmFibGUoKVwiKTtjb25zdCBlPVsuLi5uZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMuc2Vzc2lvbi5uYW1lc3BhY2VzKS5tYXAocz0+TyhzKSkpXTtVKFwiY2xpZW50XCIsdGhpcy5jbGllbnQpLFUoXCJldmVudHNcIix0aGlzLmV2ZW50cyksVShcImRpc2FibGVQcm92aWRlclBpbmdcIix0aGlzLmRpc2FibGVQcm92aWRlclBpbmcpLGUuZm9yRWFjaChzPT57aWYoIXRoaXMuc2Vzc2lvbilyZXR1cm47Y29uc3QgaT1idChzLHRoaXMuc2Vzc2lvbik7aWYoaT8ubGVuZ3RoPT09MClyZXR1cm47Y29uc3Qgcj1mZShpKSxhPUModGhpcy5uYW1lc3BhY2VzLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzKSxuPWooUyh7fSxhW3NdKSx7YWNjb3VudHM6aSxjaGFpbnM6cn0pO3N3aXRjaChzKXtjYXNlXCJlaXAxNTVcIjp0aGlzLnJwY1Byb3ZpZGVyc1tzXT1uZXcgWHQoe25hbWVzcGFjZTpufSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnJwY1Byb3ZpZGVyc1tzXT1uZXcgWnQoe25hbWVzcGFjZTpufSl9fSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2lmKHR5cGVvZiB0aGlzLmNsaWVudD5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJTaWduIENsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7dGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3BpbmdcIixlPT57dmFyIHM7Y29uc3R7dG9waWM6aX09ZTtpPT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpJiZ0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9waW5nXCIsZSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZXZlbnRcIixlPT57dmFyIHM7Y29uc3R7cGFyYW1zOmksdG9waWM6cn09ZTtpZihyIT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpKXJldHVybjtjb25zdHtldmVudDphfT1pO2lmKGEubmFtZT09PVwiYWNjb3VudHNDaGFuZ2VkXCIpe2NvbnN0IG49YS5kYXRhO24mJlIobikmJnRoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixuLm1hcCh5ZSkpfWVsc2UgaWYoYS5uYW1lPT09XCJjaGFpbkNoYW5nZWRcIil7Y29uc3Qgbj1pLmNoYWluSWQsYz1pLmV2ZW50LmRhdGEsbz1PKG4pLGg9SChuKSE9PUgoYyk/YCR7b306JHtIKGMpfWA6bjt0aGlzLm9uQ2hhaW5DaGFuZ2VkKHtjdXJyZW50Q2FpcENoYWluSWQ6aH0pfWVsc2UgdGhpcy5ldmVudHMuZW1pdChhLm5hbWUsYS5kYXRhKTt0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9ldmVudFwiLGUpfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX3VwZGF0ZVwiLCh7dG9waWM6ZSxwYXJhbXM6c30pPT57dmFyIGkscjtpZihlIT09KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpKXJldHVybjtjb25zdHtuYW1lc3BhY2VzOmF9PXMsbj0ocj10aGlzLmNsaWVudCk9PW51bGw/dm9pZCAwOnIuc2Vzc2lvbi5nZXQoZSk7dGhpcy5zZXNzaW9uPWooUyh7fSxuKSx7bmFtZXNwYWNlczphfSksdGhpcy5vblNlc3Npb25VcGRhdGUoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl91cGRhdGVcIix7dG9waWM6ZSxwYXJhbXM6c30pfSksdGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2RlbGV0ZVwiLGFzeW5jIGU9Pnt2YXIgcztlLnRvcGljPT09KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpJiYoYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIsZSksdGhpcy5ldmVudHMuZW1pdChcImRpc2Nvbm5lY3RcIixqKFMoe30sWChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx7ZGF0YTplLnRvcGljfSkpKX0pLHRoaXMub24oRi5ERUZBVUxUX0NIQUlOX0NIQU5HRUQsZT0+e3RoaXMub25DaGFpbkNoYW5nZWQoaihTKHt9LGUpLHtpbnRlcm5hbDohMH0pKX0pfWdldFByb3ZpZGVyKGUpe3JldHVybiB0aGlzLnJwY1Byb3ZpZGVyc1tlXXx8dGhpcy5ycGNQcm92aWRlcnNbaGVdfW9uU2Vzc2lvblVwZGF0ZSgpe09iamVjdC5rZXlzKHRoaXMucnBjUHJvdmlkZXJzKS5mb3JFYWNoKGU9Pnt2YXIgczt0aGlzLmdldFByb3ZpZGVyKGUpLnVwZGF0ZU5hbWVzcGFjZSgocz10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpzLm5hbWVzcGFjZXNbZV0pfSl9c2V0TmFtZXNwYWNlcyhlKXtjb25zdHtuYW1lc3BhY2VzOnM9e30sb3B0aW9uYWxOYW1lc3BhY2VzOmk9e30sc2Vzc2lvblByb3BlcnRpZXM6cixzY29wZWRQcm9wZXJ0aWVzOmF9PWU7dGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9QyhzLGkpLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9cix0aGlzLnNjb3BlZFByb3BlcnRpZXM9YX12YWxpZGF0ZUNoYWluKGUpe2NvbnN0W3MsaV09ZT8uc3BsaXQoXCI6XCIpfHxbXCJcIixcIlwiXTtpZighdGhpcy5uYW1lc3BhY2VzfHwhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKS5sZW5ndGgpcmV0dXJuW3MsaV07aWYocyYmIU9iamVjdC5rZXlzKHRoaXMubmFtZXNwYWNlc3x8e30pLm1hcChuPT5PKG4pKS5pbmNsdWRlcyhzKSl0aHJvdyBuZXcgRXJyb3IoYE5hbWVzcGFjZSAnJHtzfScgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjYWxsIGNvbm5lY3QoKSBmaXJzdCB3aXRoIG5hbWVzcGFjZSBjb25maWcuYCk7aWYocyYmaSlyZXR1cm5bcyxpXTtjb25zdCByPU8oT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKVswXSksYT10aGlzLnJwY1Byb3ZpZGVyc1tyXS5nZXREZWZhdWx0Q2hhaW4oKTtyZXR1cm5bcixhXX1hc3luYyByZXF1ZXN0QWNjb3VudHMoKXtjb25zdFtlXT10aGlzLnZhbGlkYXRlQ2hhaW4oKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm92aWRlcihlKS5yZXF1ZXN0QWNjb3VudHMoKX1hc3luYyBvbkNoYWluQ2hhbmdlZCh7Y3VycmVudENhaXBDaGFpbklkOmUscHJldmlvdXNDYWlwQ2hhaW5JZDpzLGludGVybmFsOmk9ITF9KXtpZighdGhpcy5uYW1lc3BhY2VzKXJldHVybjtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihlKTthJiYodGhpcy51cGRhdGVOYW1lc3BhY2VDaGFpbihyLGEpLGk/KHRoaXMuZXZlbnRzLmVtaXQoXCJjaGFpbkNoYW5nZWRcIixhKSx0aGlzLmVtaXRBY2NvdW50c0NoYW5nZWRPbkNoYWluQ2hhbmdlKHtuYW1lc3BhY2U6cixjdXJyZW50Q2FpcENoYWluSWQ6ZSxwcmV2aW91c0NhaXBDaGFpbklkOnN9KSk6dGhpcy5nZXRQcm92aWRlcihyKS5zZXREZWZhdWx0Q2hhaW4oYSksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcykpfWVtaXRBY2NvdW50c0NoYW5nZWRPbkNoYWluQ2hhbmdlKHtuYW1lc3BhY2U6ZSxjdXJyZW50Q2FpcENoYWluSWQ6cyxwcmV2aW91c0NhaXBDaGFpbklkOml9KXt2YXIgcixhO3RyeXtpZihpPT09cylyZXR1cm47Y29uc3Qgbj0oYT0ocj10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpyLm5hbWVzcGFjZXNbZV0pPT1udWxsP3ZvaWQgMDphLmFjY291bnRzO2lmKCFuKXJldHVybjtjb25zdCBjPW4uZmlsdGVyKG89Pm8uaW5jbHVkZXMoYCR7c306YCkpLm1hcCh5ZSk7aWYoIVIoYykpcmV0dXJuO3RoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixjKX1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4sXCJGYWlsZWQgdG8gZW1pdCBhY2NvdW50c0NoYW5nZWQgb24gY2hhaW4gY2hhbmdlXCIpfX11cGRhdGVOYW1lc3BhY2VDaGFpbihlLHMpe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0IGk9dGhpcy5uYW1lc3BhY2VzW2VdP2U6YCR7ZX06JHtzfWAscj17Y2hhaW5zOltdLG1ldGhvZHM6W10sZXZlbnRzOltdLGRlZmF1bHRDaGFpbjpzfTt0aGlzLm5hbWVzcGFjZXNbaV0/dGhpcy5uYW1lc3BhY2VzW2ldJiYodGhpcy5uYW1lc3BhY2VzW2ldLmRlZmF1bHRDaGFpbj1zKTp0aGlzLm5hbWVzcGFjZXNbaV09cn1vbkNvbm5lY3QoKXt0aGlzLmNyZWF0ZVByb3ZpZGVycygpLHRoaXMuZXZlbnRzLmVtaXQoXCJjb25uZWN0XCIse3Nlc3Npb246dGhpcy5zZXNzaW9ufSl9YXN5bmMgY2xlYW51cCgpe3RoaXMubmFtZXNwYWNlcz12b2lkIDAsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9dm9pZCAwLHRoaXMuc2Vzc2lvblByb3BlcnRpZXM9dm9pZCAwLGF3YWl0IHRoaXMuZGVsZXRlRnJvbVN0b3JlKFwibmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcInNlc3Npb25Qcm9wZXJ0aWVzXCIpLHRoaXMuc2Vzc2lvbj12b2lkIDAsdGhpcy5jbGVhbnVwUGVuZGluZ1BhaXJpbmdzKHtkZWxldGVQYWlyaW5nczohMH0pLGF3YWl0IHRoaXMuY2xlYW51cFN0b3JhZ2UoKX1hc3luYyBwZXJzaXN0KGUscyl7dmFyIGk7Y29uc3Qgcj0oKGk9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6aS50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnNldEl0ZW0oYCR7QX0vJHtlfSR7cn1gLHMpfWFzeW5jIGdldEZyb21TdG9yZShlKXt2YXIgcztjb25zdCBpPSgocz10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpzLnRvcGljKXx8XCJcIjtyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLmdldEl0ZW0oYCR7QX0vJHtlfSR7aX1gKX1hc3luYyBkZWxldGVGcm9tU3RvcmUoZSl7dmFyIHM7Y29uc3QgaT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYyl8fFwiXCI7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7QX0vJHtlfSR7aX1gKX1hc3luYyBjbGVhbnVwU3RvcmFnZSgpe3ZhciBlO3RyeXtpZigoKGU9dGhpcy5jbGllbnQpPT1udWxsP3ZvaWQgMDplLnNlc3Npb24ubGVuZ3RoKT4wKXJldHVybjtjb25zdCBzPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRLZXlzKCk7Zm9yKGNvbnN0IGkgb2YgcylpLnN0YXJ0c1dpdGgoQSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyxcIkZhaWxlZCB0byBjbGVhbnVwIHN0b3JhZ2VcIil9fX1jb25zdCBucz1OO2V4cG9ydHtucyBhcyBVbml2ZXJzYWxQcm92aWRlcixOIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/universal-provider/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ Vn),\n/* harmony export */   BASE16: () => (/* binding */ rt),\n/* harmony export */   BASE64: () => (/* binding */ oe),\n/* harmony export */   BASE64URL: () => (/* binding */ Ge),\n/* harmony export */   COLON: () => (/* binding */ ci),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ nn),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ Se),\n/* harmony export */   ENV_MAP: () => (/* binding */ et),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ ws),\n/* harmony export */   LimitedSet: () => (/* binding */ ki),\n/* harmony export */   MemoryStore: () => (/* binding */ hu),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ fi),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ dr),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ ss),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ ms),\n/* harmony export */   SDK_TYPE: () => (/* binding */ pr),\n/* harmony export */   SLASH: () => (/* binding */ hr),\n/* harmony export */   TYPE_0: () => (/* binding */ Mn),\n/* harmony export */   TYPE_1: () => (/* binding */ ie),\n/* harmony export */   TYPE_2: () => (/* binding */ we),\n/* harmony export */   UTF8: () => (/* binding */ se),\n/* harmony export */   addResourceToRecap: () => (/* binding */ fo),\n/* harmony export */   addSignatureToExtrinsic: () => (/* binding */ Ls),\n/* harmony export */   appendToQueryString: () => (/* binding */ gr),\n/* harmony export */   assertType: () => (/* binding */ bi),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ yn),\n/* harmony export */   base64Decode: () => (/* binding */ io),\n/* harmony export */   base64Encode: () => (/* binding */ so),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ Ma),\n/* harmony export */   buildAuthObject: () => (/* binding */ Hc),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ Ka),\n/* harmony export */   buildRecapStatement: () => (/* binding */ uo),\n/* harmony export */   buildSignedExtrinsicHash: () => (/* binding */ mu),\n/* harmony export */   calcExpiry: () => (/* binding */ Ni),\n/* harmony export */   capitalize: () => (/* binding */ Ei),\n/* harmony export */   capitalizeWord: () => (/* binding */ Er),\n/* harmony export */   createDelayedPromise: () => (/* binding */ Bi),\n/* harmony export */   createEncodedRecap: () => (/* binding */ Kc),\n/* harmony export */   createExpiringPromise: () => (/* binding */ Ai),\n/* harmony export */   createLogger: () => (/* binding */ wu),\n/* harmony export */   createRecap: () => (/* binding */ co),\n/* harmony export */   decodeRecap: () => (/* binding */ kt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Zt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ ma),\n/* harmony export */   decrypt: () => (/* binding */ ba),\n/* harmony export */   deriveExtrinsicHash: () => (/* binding */ ks),\n/* harmony export */   deriveSymKey: () => (/* binding */ da),\n/* harmony export */   deserialize: () => (/* binding */ ze),\n/* harmony export */   encodeRecap: () => (/* binding */ Ce),\n/* harmony export */   encodeTypeByte: () => (/* binding */ qn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ ya),\n/* harmony export */   encrypt: () => (/* binding */ ga),\n/* harmony export */   engineEvent: () => (/* binding */ _i),\n/* harmony export */   enumify: () => (/* binding */ xi),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ Sc),\n/* harmony export */   formatAccountId: () => (/* binding */ sr),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Ws),\n/* harmony export */   formatChainId: () => (/* binding */ or),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ Br),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ on),\n/* harmony export */   formatIdTarget: () => (/* binding */ Si),\n/* harmony export */   formatMessage: () => (/* binding */ eo),\n/* harmony export */   formatMessageContext: () => (/* binding */ yi),\n/* harmony export */   formatRelayParams: () => (/* binding */ us),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ pi),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ wn),\n/* harmony export */   formatTopicTarget: () => (/* binding */ Ii),\n/* harmony export */   formatUA: () => (/* binding */ wr),\n/* harmony export */   formatUri: () => (/* binding */ $a),\n/* harmony export */   fromBase64: () => (/* binding */ cn),\n/* harmony export */   generateKeyPair: () => (/* binding */ ua),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ la),\n/* harmony export */   getAccountsChains: () => (/* binding */ Gt),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Js),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ ir),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ Xs),\n/* harmony export */   getAlgorandTransactionId: () => (/* binding */ Uc),\n/* harmony export */   getAppId: () => (/* binding */ li),\n/* harmony export */   getAppMetadata: () => (/* binding */ br),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ _s),\n/* harmony export */   getChainFromAccount: () => (/* binding */ cr),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ fr),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ Ie),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Qs),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ Zc),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ ti),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ sn),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ os),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ no),\n/* harmony export */   getDeepLink: () => (/* binding */ $i),\n/* harmony export */   getDidAddress: () => (/* binding */ bn),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ Te),\n/* harmony export */   getDidChainId: () => (/* binding */ Qr),\n/* harmony export */   getEnvironment: () => (/* binding */ Vt),\n/* harmony export */   getHttpUrl: () => (/* binding */ gi),\n/* harmony export */   getInternalError: () => (/* binding */ Bt),\n/* harmony export */   getJavascriptID: () => (/* binding */ mr),\n/* harmony export */   getJavascriptOS: () => (/* binding */ yr),\n/* harmony export */   getLastItems: () => (/* binding */ xr),\n/* harmony export */   getLinkModeURL: () => (/* binding */ Ta),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ Fc),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ to),\n/* harmony export */   getNamespacesChains: () => (/* binding */ hs),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ gs),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ ys),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ ps),\n/* harmony export */   getNearTransactionIdFromSignedTransaction: () => (/* binding */ Nc),\n/* harmony export */   getNearUint8ArrayFromBytes: () => (/* binding */ Yr),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ $s),\n/* harmony export */   getReCapActions: () => (/* binding */ oo),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ Rs),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ Mc),\n/* harmony export */   getRecapFromResources: () => (/* binding */ je),\n/* harmony export */   getRecapResource: () => (/* binding */ ro),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ hi),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ Aa),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ Ba),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ Va),\n/* harmony export */   getSdkError: () => (/* binding */ zt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ Ti),\n/* harmony export */   getSignDirectHash: () => (/* binding */ _c),\n/* harmony export */   getSuiDigest: () => (/* binding */ Oc),\n/* harmony export */   getUniqueValues: () => (/* binding */ tn),\n/* harmony export */   getWalletSendCallsHashes: () => (/* binding */ Rc),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ Ri),\n/* harmony export */   hasOverlap: () => (/* binding */ It),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ hn),\n/* harmony export */   hashKey: () => (/* binding */ ha),\n/* harmony export */   hashMessage: () => (/* binding */ pa),\n/* harmony export */   isAndroid: () => (/* binding */ ai),\n/* harmony export */   isAppVisible: () => (/* binding */ du),\n/* harmony export */   isBrowser: () => (/* binding */ Wt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ Gn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ Ns),\n/* harmony export */   isExpired: () => (/* binding */ Ui),\n/* harmony export */   isIframe: () => (/* binding */ Sr),\n/* harmony export */   isIos: () => (/* binding */ ui),\n/* harmony export */   isNode: () => (/* binding */ rn),\n/* harmony export */   isOnline: () => (/* binding */ uu),\n/* harmony export */   isProposalStruct: () => (/* binding */ Ga),\n/* harmony export */   isReactNative: () => (/* binding */ At),\n/* harmony export */   isRecap: () => (/* binding */ mn),\n/* harmony export */   isSessionCompatible: () => (/* binding */ Fa),\n/* harmony export */   isSessionStruct: () => (/* binding */ za),\n/* harmony export */   isTelegram: () => (/* binding */ Ir),\n/* harmony export */   isTestRun: () => (/* binding */ ji),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ va),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ xa),\n/* harmony export */   isUndefined: () => (/* binding */ Dt),\n/* harmony export */   isValidAccountId: () => (/* binding */ vs),\n/* harmony export */   isValidAccounts: () => (/* binding */ Bs),\n/* harmony export */   isValidActions: () => (/* binding */ Is),\n/* harmony export */   isValidArray: () => (/* binding */ Ee),\n/* harmony export */   isValidChainId: () => (/* binding */ Be),\n/* harmony export */   isValidChains: () => (/* binding */ xs),\n/* harmony export */   isValidController: () => (/* binding */ Ya),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ zr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ Gr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ tu),\n/* harmony export */   isValidEvent: () => (/* binding */ ru),\n/* harmony export */   isValidId: () => (/* binding */ Ja),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ As),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ Yn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ Es),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ zn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Ss),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ ou),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ iu),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ su),\n/* harmony export */   isValidNumber: () => (/* binding */ We),\n/* harmony export */   isValidObject: () => (/* binding */ Ye),\n/* harmony export */   isValidParams: () => (/* binding */ Qa),\n/* harmony export */   isValidRecap: () => (/* binding */ yt),\n/* harmony export */   isValidRelay: () => (/* binding */ Os),\n/* harmony export */   isValidRelays: () => (/* binding */ Xa),\n/* harmony export */   isValidRequest: () => (/* binding */ eu),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ au),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ Wa),\n/* harmony export */   isValidResponse: () => (/* binding */ nu),\n/* harmony export */   isValidString: () => (/* binding */ ft),\n/* harmony export */   isValidUrl: () => (/* binding */ Za),\n/* harmony export */   mapEntries: () => (/* binding */ vi),\n/* harmony export */   mapToObj: () => (/* binding */ mi),\n/* harmony export */   mergeArrays: () => (/* binding */ ut),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ qc),\n/* harmony export */   mergeRecaps: () => (/* binding */ ao),\n/* harmony export */   mergeRequiredAndOptionalNamespaces: () => (/* binding */ qa),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ xe),\n/* harmony export */   objToMap: () => (/* binding */ wi),\n/* harmony export */   openDeeplink: () => (/* binding */ Ar),\n/* harmony export */   parseAccountId: () => (/* binding */ Qe),\n/* harmony export */   parseChainId: () => (/* binding */ Je),\n/* harmony export */   parseContextNames: () => (/* binding */ vr),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ Oi),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ bs),\n/* harmony export */   parseRelayParams: () => (/* binding */ fs),\n/* harmony export */   parseTopic: () => (/* binding */ as),\n/* harmony export */   parseUri: () => (/* binding */ Ra),\n/* harmony export */   populateAppMetadata: () => (/* binding */ di),\n/* harmony export */   populateAuthPayload: () => (/* binding */ Dc),\n/* harmony export */   recapHasResource: () => (/* binding */ Vc),\n/* harmony export */   serialize: () => (/* binding */ Fn),\n/* harmony export */   sleep: () => (/* binding */ Li),\n/* harmony export */   ss58AddressToPublicKey: () => (/* binding */ js),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ Ts),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ lu),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Cs),\n/* harmony export */   toBase64: () => (/* binding */ Or),\n/* harmony export */   uuidv4: () => (/* binding */ Ci),\n/* harmony export */   validateDecoding: () => (/* binding */ wa),\n/* harmony export */   validateEncoding: () => (/* binding */ rs),\n/* harmony export */   validateSignedCacao: () => (/* binding */ Pc),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ Ea),\n/* harmony export */   verifySignature: () => (/* binding */ Zr)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! detect-browser */ \"(app-pages-browser)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(app-pages-browser)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(app-pages-browser)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(app-pages-browser)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var ox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ox */ \"(app-pages-browser)/./node_modules/ox/_esm/core/Signature.js\");\n/* harmony import */ var ox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ox */ \"(app-pages-browser)/./node_modules/ox/_esm/core/Secp256k1.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @msgpack/msgpack */ \"(app-pages-browser)/./node_modules/@msgpack/msgpack/dist.esm/decode.mjs\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @msgpack/msgpack */ \"(app-pages-browser)/./node_modules/@msgpack/msgpack/dist.esm/encode.mjs\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @scure/base */ \"(app-pages-browser)/./node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(app-pages-browser)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(app-pages-browser)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! blakejs */ \"(app-pages-browser)/./node_modules/blakejs/index.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/logger */ \"(app-pages-browser)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/buffer/index.js\")[\"Buffer\"];\nconst Ae=\":\";function Je(t){const[e,n]=t.split(Ae);return{namespace:e,reference:n}}function or(t){const{namespace:e,reference:n}=t;return[e,n].join(Ae)}function Qe(t){const[e,n,r]=t.split(Ae);return{namespace:e,reference:n,address:r}}function sr(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(Ae)}function tn(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function ir(t){const{address:e}=Qe(t);return e}function cr(t){const{namespace:e,reference:n}=Qe(t);return or({namespace:e,reference:n})}function Ws(t,e){const{namespace:n,reference:r}=Je(e);return sr({namespace:n,reference:r,address:t})}function Xs(t){return tn(t,ir)}function fr(t){return tn(t,cr)}function Js(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Qs(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...fr(o.accounts))}),n}function ti(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Ie(r,o))}),n}function Ie(t,e){return t.includes(\":\")?[t]:e.chains||[]}var ei=Object.defineProperty,ni=Object.defineProperties,ri=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,en=(t,e,n)=>e in t?ei(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ur=(t,e)=>{for(var n in e||(e={}))oi.call(e,n)&&en(t,n,e[n]);if(ar)for(var n of ar(e))si.call(e,n)&&en(t,n,e[n]);return t},ii=(t,e)=>ni(t,ri(e)),lr=(t,e,n)=>en(t,typeof e!=\"symbol\"?e+\"\":e,n);const dr=\"ReactNative\",et={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},Se=\" \",ci=\":\",hr=\"/\",nn=2,fi=1e3,pr=\"js\";function rn(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function At(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===dr}function ai(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function ui(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Wt(){return!rn()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function Vt(){return At()?et.reactNative:rn()?et.node:Wt()?et.browser:et.unknown}function li(){var t;try{return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gr(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!=null&&n.set(r,String(o))}),n.toString()}function di(t){var e,n;const r=br();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),ii(ur(ur({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function br(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function hi(t,e){var n;const r=Vt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function yr(){if(Vt()===et.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_9__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function mr(){var t;const e=Vt();return e===et.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function wr(t,e,n){const r=yr(),o=mr();return[[t,e].join(\"-\"),[pr,n].join(\"-\"),r,o].join(\"/\")}function pi({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:c,packageName:f}){const u=n.split(\"?\"),a=wr(t,e,r),l={auth:o,ua:a,projectId:s,useOnCloseEvent:i||void 0,packageName:f||void 0,bundleId:c||void 0},d=gr(u[1]||\"\",l);return u[0]+\"?\"+d}function gi(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function bi(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function vr(t,e=nn){return xr(t.split(hr),e)}function yi(t){return vr(t).join(Se)}function It(t,e){return t.filter(n=>e.includes(n)).length===t.length}function xr(t,e=nn){return t.slice(Math.max(t.length-e,0))}function mi(t){return Object.fromEntries(t.entries())}function wi(t){return new Map(Object.entries(t))}function vi(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const xi=t=>t;function Er(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function Ei(t){return t.split(Se).map(e=>Er(e)).join(Se)}function Bi(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,s,i;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),i=Promise.resolve(c))},reject:c=>{s&&o&&(clearTimeout(s),o(c))},done:()=>new Promise((c,f)=>{if(i)return c(i);s=setTimeout(()=>{const u=new Error(e);i=Promise.reject(u),f(u)},n),r=c,o=f})}}function Ai(t,e,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),e);try{const i=await t;r(i)}catch(i){o(i)}clearTimeout(s)})}function on(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Ii(t){return on(\"topic\",t)}function Si(t){return on(\"id\",t)}function Oi(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ni(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function Ui(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function _i(t,e){return`${t}${e?`:${e}`:\"\"}`}function ut(t=[],e=[]){return[...new Set([...t,...e])]}async function Ri({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,s=o?.href;if(typeof s!=\"string\")return;const i=Br(s,t,e),c=Vt();if(c===et.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}Ar(i)}else c===et.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(i)}catch(o){console.error(o)}}function Br(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${s}${Or(r,!0)}`}else o=`${o}/wc?${r}`;return o}function Ar(t){let e=\"_self\";Sr()?e=\"_top\":(Ir()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function $i(t,e){let n=\"\";try{if(Wt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function sn(t,e){return t.filter(n=>e.includes(n))}function Ti(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Ci(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function ji(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function Ir(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sr(){try{return window.self!==window.top}catch{return!1}}function Or(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function cn(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function Li(t){return new Promise(e=>setTimeout(e,t))}class ki{constructor({limit:e}){lr(this,\"limit\"),lr(this,\"set\"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}}const Oe=BigInt(2**32-1),Nr=BigInt(32);function Ur(t,e=!1){return e?{h:Number(t&Oe),l:Number(t>>Nr&Oe)}:{h:Number(t>>Nr&Oe)|0,l:Number(t&Oe)|0}}function _r(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let s=0;s<n;s++){const{h:i,l:c}=Ur(t[s],e);[r[s],o[s]]=[i,c]}return[r,o]}const Rr=(t,e,n)=>t>>>n,$r=(t,e,n)=>t<<32-n|e>>>n,St=(t,e,n)=>t>>>n|e<<32-n,Ot=(t,e,n)=>t<<32-n|e>>>n,de=(t,e,n)=>t<<64-n|e>>>n-32,he=(t,e,n)=>t>>>n-32|e<<64-n,Pi=(t,e)=>e,Hi=(t,e)=>t,Di=(t,e,n)=>t<<n|e>>>32-n,Vi=(t,e,n)=>e<<n|t>>>32-n,Mi=(t,e,n)=>e<<n-32|t>>>64-n,Ki=(t,e,n)=>t<<n-32|e>>>64-n;function dt(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const fn=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),an=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qi=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Fi=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zi=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gi=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,Xt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function Ne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ht(t,...e){if(!Ne(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Ue(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.createHasher\");mt(t.outputLen),mt(t.blockLen)}function Nt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function un(t,e){ht(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function pe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ln(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bt(t,e){return t<<32-e|t>>>e}const Tr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cr(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wt=Tr?t=>t:t=>Cr(t);function zi(t){for(let e=0;e<t.length;e++)t[e]=Cr(t[e]);return t}const Ut=Tr?t=>t:zi,jr=typeof Uint8Array.from([]).toHex==\"function\"&&typeof Uint8Array.fromHex==\"function\",Yi=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Jt(t){if(ht(t),jr)return t.toHex();let e=\"\";for(let n=0;n<t.length;n++)e+=Yi[t[n]];return e}const vt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lr(t){if(t>=vt._0&&t<=vt._9)return t-vt._0;if(t>=vt.A&&t<=vt.F)return t-(vt.A-10);if(t>=vt.a&&t<=vt.f)return t-(vt.a-10)}function _e(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);if(jr)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Lr(t.charCodeAt(s)),c=Lr(t.charCodeAt(s+1));if(i===void 0||c===void 0){const f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+f+'\" at index '+s)}r[o]=i*16+c}return r}function kr(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function pt(t){return typeof t==\"string\"&&(t=kr(t)),ht(t),t}function _t(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];ht(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}class Re{}function ge(t){const e=r=>t().update(pt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Wi(t){const e=(r,o)=>t(o).update(pt(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Mt(t=32){if(Xt&&typeof Xt.getRandomValues==\"function\")return Xt.getRandomValues(new Uint8Array(t));if(Xt&&typeof Xt.randomBytes==\"function\")return Uint8Array.from(Xt.randomBytes(t));throw new Error(\"crypto.getRandomValues must be defined\")}const Xi=BigInt(0),be=BigInt(1),Ji=BigInt(2),Qi=BigInt(7),tc=BigInt(256),ec=BigInt(113),Pr=[],Hr=[],Dr=[];for(let t=0,e=be,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Pr.push(2*(5*r+n)),Hr.push((t+1)*(t+2)/2%64);let o=Xi;for(let s=0;s<7;s++)e=(e<<be^(e>>Qi)*ec)%tc,e&Ji&&(o^=be<<(be<<BigInt(s))-be);Dr.push(o)}const Vr=_r(Dr,!0),nc=Vr[0],rc=Vr[1],Mr=(t,e,n)=>n>32?Mi(t,e,n):Di(t,e,n),Kr=(t,e,n)=>n>32?Ki(t,e,n):Vi(t,e,n);function oc(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,f=(i+2)%10,u=n[f],a=n[f+1],l=Mr(u,a,1)^n[c],d=Kr(u,a,1)^n[c+1];for(let h=0;h<50;h+=10)t[i+h]^=l,t[i+h+1]^=d}let o=t[2],s=t[3];for(let i=0;i<24;i++){const c=Hr[i],f=Mr(o,s,c),u=Kr(o,s,c),a=Pr[i];o=t[a],s=t[a+1],t[a]=f,t[a+1]=u}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=t[i+c];for(let c=0;c<10;c++)t[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=nc[r],t[1]^=rc[r]}lt(n)}class Jn extends Re{constructor(e,n,r,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,mt(r),!(0<e&&e<200))throw new Error(\"only keccak-f1600 function is supported\");this.state=new Uint8Array(200),this.state32=pe(this.state)}clone(){return this._cloneInto()}keccak(){Ut(this.state32),oc(this.state32,this.rounds),Ut(this.state32),this.posOut=0,this.pos=0}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,state:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Nt(this,!1),ht(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return mt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(un(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new Jn(n,r,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}}const sc=(t,e,n)=>ge(()=>new Jn(e,t,n)),ic=sc(1,136,256/8);function cc(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function fc(t,e,n){return t&e^~t&n}function ac(t,e,n){return t&e^t&n^e&n}class qr extends Re{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=ln(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{view:n,buffer:r,blockLen:o}=this,s=e.length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const f=ln(e);for(;o<=s-i;i+=o)this.process(f,i);continue}r.set(e.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nt(this),un(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(r,0),i=0);for(let l=i;l<o;l++)n[l]=0;cc(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=ln(e),f=this.outputLen;if(f%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const u=f/4,a=this.get();if(u>a.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<u;l++)c.setUint32(4*l,a[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return e.destroyed=i,e.finished=s,e.length=o,e.pos=c,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Rt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),J=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$t=new Uint32Array(64);class lc extends qr{constructor(e=32){super(64,e,8,!1),this.A=Rt[0]|0,this.B=Rt[1]|0,this.C=Rt[2]|0,this.D=Rt[3]|0,this.E=Rt[4]|0,this.F=Rt[5]|0,this.G=Rt[6]|0,this.H=Rt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:s,F:i,G:c,H:f}=this;return[e,n,r,o,s,i,c,f]}set(e,n,r,o,s,i,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=f|0}process(e,n){for(let l=0;l<16;l++,n+=4)$t[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const d=$t[l-15],h=$t[l-2],y=bt(d,7)^bt(d,18)^d>>>3,m=bt(h,17)^bt(h,19)^h>>>10;$t[l]=m+$t[l-7]+y+$t[l-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:f,G:u,H:a}=this;for(let l=0;l<64;l++){const d=bt(c,6)^bt(c,11)^bt(c,25),h=a+d+fc(c,f,u)+uc[l]+$t[l]|0,m=(bt(r,2)^bt(r,13)^bt(r,22))+ac(r,o,s)|0;a=u,u=f,f=c,c=i+h|0,i=s,s=o,o=r,r=h+m|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,f=f+this.F|0,u=u+this.G|0,a=a+this.H|0,this.set(r,o,s,i,c,f,u,a)}roundClean(){lt($t)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const Fr=_r([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))),dc=Fr[0],hc=Fr[1],Tt=new Uint32Array(80),Ct=new Uint32Array(80);class dn extends qr{constructor(e=64){super(128,e,16,!1),this.Ah=J[0]|0,this.Al=J[1]|0,this.Bh=J[2]|0,this.Bl=J[3]|0,this.Ch=J[4]|0,this.Cl=J[5]|0,this.Dh=J[6]|0,this.Dl=J[7]|0,this.Eh=J[8]|0,this.El=J[9]|0,this.Fh=J[10]|0,this.Fl=J[11]|0,this.Gh=J[12]|0,this.Gl=J[13]|0,this.Hh=J[14]|0,this.Hl=J[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:i,Dh:c,Dl:f,Eh:u,El:a,Fh:l,Fl:d,Gh:h,Gl:y,Hh:m,Hl:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=c|0,this.Dl=f|0,this.Eh=u|0,this.El=a|0,this.Fh=l|0,this.Fl=d|0,this.Gh=h|0,this.Gl=y|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let R=0;R<16;R++,n+=4)Tt[R]=e.getUint32(n),Ct[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const Z=Tt[R-15]|0,H=Ct[R-15]|0,j=St(Z,H,1)^St(Z,H,8)^Rr(Z,H,7),L=Ot(Z,H,1)^Ot(Z,H,8)^$r(Z,H,7),k=Tt[R-2]|0,O=Ct[R-2]|0,T=St(k,O,19)^de(k,O,61)^Rr(k,O,6),C=Ot(k,O,19)^he(k,O,61)^$r(k,O,6),_=qi(L,C,Ct[R-7],Ct[R-16]),p=Fi(_,j,T,Tt[R-7],Tt[R-16]);Tt[R]=p|0,Ct[R]=_|0}let{Ah:r,Al:o,Bh:s,Bl:i,Ch:c,Cl:f,Dh:u,Dl:a,Eh:l,El:d,Fh:h,Fl:y,Gh:m,Gl:v,Hh:U,Hl:F}=this;for(let R=0;R<80;R++){const Z=St(l,d,14)^St(l,d,18)^de(l,d,41),H=Ot(l,d,14)^Ot(l,d,18)^he(l,d,41),j=l&h^~l&m,L=d&y^~d&v,k=Zi(F,H,L,hc[R],Ct[R]),O=Gi(k,U,Z,j,dc[R],Tt[R]),T=k|0,C=St(r,o,28)^de(r,o,34)^de(r,o,39),_=Ot(r,o,28)^he(r,o,34)^he(r,o,39),p=r&s^r&c^s&c,b=o&i^o&f^i&f;U=m|0,F=v|0,m=h|0,v=y|0,h=l|0,y=d|0,{h:l,l:d}=dt(u|0,a|0,O|0,T|0),u=c|0,a=f|0,c=s|0,f=i|0,s=r|0,i=o|0;const g=fn(T,_,b);r=an(g,O,C,p),o=g|0}({h:r,l:o}=dt(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:i}=dt(this.Bh|0,this.Bl|0,s|0,i|0),{h:c,l:f}=dt(this.Ch|0,this.Cl|0,c|0,f|0),{h:u,l:a}=dt(this.Dh|0,this.Dl|0,u|0,a|0),{h:l,l:d}=dt(this.Eh|0,this.El|0,l|0,d|0),{h,l:y}=dt(this.Fh|0,this.Fl|0,h|0,y|0),{h:m,l:v}=dt(this.Gh|0,this.Gl|0,m|0,v|0),{h:U,l:F}=dt(this.Hh|0,this.Hl|0,U|0,F|0),this.set(r,o,s,i,c,f,u,a,l,d,h,y,m,v,U,F)}roundClean(){lt(Tt,Ct)}destroy(){lt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class pc extends dn{constructor(){super(48),this.Ah=X[0]|0,this.Al=X[1]|0,this.Bh=X[2]|0,this.Bl=X[3]|0,this.Ch=X[4]|0,this.Cl=X[5]|0,this.Dh=X[6]|0,this.Dl=X[7]|0,this.Eh=X[8]|0,this.El=X[9]|0,this.Fh=X[10]|0,this.Fl=X[11]|0,this.Gh=X[12]|0,this.Gl=X[13]|0,this.Hh=X[14]|0,this.Hl=X[15]|0}}const Q=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class gc extends dn{constructor(){super(32),this.Ah=Q[0]|0,this.Al=Q[1]|0,this.Bh=Q[2]|0,this.Bl=Q[3]|0,this.Ch=Q[4]|0,this.Cl=Q[5]|0,this.Dh=Q[6]|0,this.Dl=Q[7]|0,this.Eh=Q[8]|0,this.El=Q[9]|0,this.Fh=Q[10]|0,this.Fl=Q[11]|0,this.Gh=Q[12]|0,this.Gl=Q[13]|0,this.Hh=Q[14]|0,this.Hl=Q[15]|0}}const $e=ge(()=>new lc),bc=ge(()=>new dn),yc=ge(()=>new pc),mc=ge(()=>new gc),wc=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),z=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),S=new Uint32Array(32);function jt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:Pi(m,y),Dl:Hi(m)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:St(l,a,24),Bl:Ot(l,a,24)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function Lt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:St(m,y,16),Dl:Ot(m,y,16)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:de(l,a,63),Bl:he(l,a,63)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function vc(t,e={},n,r,o){if(mt(n),t<0||t>n)throw new Error(\"outputLen bigger than keyLen\");const{key:s,salt:i,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error(\"key length must be undefined or 1..\"+n);if(i!==void 0&&i.length!==r)throw new Error(\"salt must be undefined or \"+r);if(c!==void 0&&c.length!==o)throw new Error(\"personalization must be undefined or \"+o)}class xc extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt(e),mt(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=pe(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,buffer:r,buffer32:o}=this,s=e.length,i=e.byteOffset,c=e.buffer;for(let f=0;f<s;){this.pos===n&&(Ut(o),this.compress(o,0,!1),Ut(o),this.pos=0);const u=Math.min(n-this.pos,s-f),a=i+f;if(u===n&&!(a%4)&&f+u<s){const l=new Uint32Array(c,a,Math.floor((s-f)/4));Ut(l);for(let d=0;f+n<s;d+=o.length,f+=n)this.length+=n,this.compress(l,d,!1);Ut(l);continue}r.set(e.subarray(f,f+u),this.pos),this.pos+=u,this.length+=u,f+=u}return this}digestInto(e){Nt(this),un(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,lt(this.buffer.subarray(n)),Ut(r),this.compress(r,0,!0),Ut(r);const o=pe(e);this.get().forEach((s,i)=>o[i]=wt(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:o,destroyed:s,outputLen:i,pos:c}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=o,e.length=r,e.pos=c,e.outputLen=i,e}clone(){return this._cloneInto()}}class Ec extends xc{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=z[0]|0,this.v0h=z[1]|0,this.v1l=z[2]|0,this.v1h=z[3]|0,this.v2l=z[4]|0,this.v2h=z[5]|0,this.v3l=z[6]|0,this.v3h=z[7]|0,this.v4l=z[8]|0,this.v4h=z[9]|0,this.v5l=z[10]|0,this.v5h=z[11]|0,this.v6l=z[12]|0,this.v6h=z[13]|0,this.v7l=z[14]|0,this.v7h=z[15]|0,vc(n,e,64,16,16);let{key:r,personalization:o,salt:s}=e,i=0;if(r!==void 0&&(r=pt(r),i=r.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,s!==void 0){s=pt(s);const c=pe(s);this.v4l^=wt(c[0]),this.v4h^=wt(c[1]),this.v5l^=wt(c[2]),this.v5h^=wt(c[3])}if(o!==void 0){o=pt(o);const c=pe(o);this.v6l^=wt(c[0]),this.v6h^=wt(c[1]),this.v7l^=wt(c[2]),this.v7h^=wt(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:o,v2l:s,v2h:i,v3l:c,v3h:f,v4l:u,v4h:a,v5l:l,v5h:d,v6l:h,v6h:y,v7l:m,v7h:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=o|0,this.v2l=s|0,this.v2h=i|0,this.v3l=c|0,this.v3h=f|0,this.v4l=u|0,this.v4h=a|0,this.v5l=l|0,this.v5h=d|0,this.v6l=h|0,this.v6h=y|0,this.v7l=m|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((f,u)=>S[u]=f),S.set(z,16);let{h:o,l:s}=Ur(BigInt(this.length));S[24]=z[8]^s,S[25]=z[9]^o,r&&(S[28]=~S[28],S[29]=~S[29]);let i=0;const c=wc;for(let f=0;f<12;f++)jt(0,4,8,12,e,n+2*c[i++]),Lt(0,4,8,12,e,n+2*c[i++]),jt(1,5,9,13,e,n+2*c[i++]),Lt(1,5,9,13,e,n+2*c[i++]),jt(2,6,10,14,e,n+2*c[i++]),Lt(2,6,10,14,e,n+2*c[i++]),jt(3,7,11,15,e,n+2*c[i++]),Lt(3,7,11,15,e,n+2*c[i++]),jt(0,5,10,15,e,n+2*c[i++]),Lt(0,5,10,15,e,n+2*c[i++]),jt(1,6,11,12,e,n+2*c[i++]),Lt(1,6,11,12,e,n+2*c[i++]),jt(2,7,8,13,e,n+2*c[i++]),Lt(2,7,8,13,e,n+2*c[i++]),jt(3,4,9,14,e,n+2*c[i++]),Lt(3,4,9,14,e,n+2*c[i++]);this.v0l^=S[0]^S[16],this.v0h^=S[1]^S[17],this.v1l^=S[2]^S[18],this.v1h^=S[3]^S[19],this.v2l^=S[4]^S[20],this.v2h^=S[5]^S[21],this.v3l^=S[6]^S[22],this.v3h^=S[7]^S[23],this.v4l^=S[8]^S[24],this.v4h^=S[9]^S[25],this.v5l^=S[10]^S[26],this.v5h^=S[11]^S[27],this.v6l^=S[12]^S[28],this.v6h^=S[13]^S[29],this.v7l^=S[14]^S[30],this.v7h^=S[15]^S[31],lt(S)}destroy(){this.destroyed=!0,lt(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bc=Wi(t=>new Ec(t)),Ac=\"https://rpc.walletconnect.org/v1\";function hn(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(ic(n)).toString(\"hex\")}async function Zr(t,e,n,r,o,s){switch(n.t){case\"eip191\":return await Gr(t,e,n.s);case\"eip1271\":return await zr(t,e,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Gr(t,e,n){const r=ox__WEBPACK_IMPORTED_MODULE_10__.fromHex(n);return ox__WEBPACK_IMPORTED_MODULE_11__.recoverAddress({payload:hn(e),signature:r}).toLowerCase()===t.toLowerCase()}async function zr(t,e,n,r,o,s){const i=Je(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",f=\"0000000000000000000000000000000000000000000000000000000000000040\",u=n.substring(2),a=(u.length/2).toString(16).padStart(64,\"0\"),l=(e.startsWith(\"0x\")?e:hn(e)).substring(2),d=c+l+f+a+u,h=await fetch(`${s||Ac}/?chainId=${r}&projectId=${o}`,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({id:Ic(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:d},\"latest\"]})}),{result:y}=await h.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Ic(){return Date.now()+Math.floor(Math.random()*1e3)}function Sc(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(s)}function Oc(t){const e=new Uint8Array(Buffer.from(t,\"base64\")),n=Array.from(\"TransactionData::\").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const o=Bc(r,{dkLen:32});return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(o)}function Nc(t){const e=new Uint8Array($e(Yr(t)));return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(e)}function Yr(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t==\"object\"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t==\"object\"&&t)return new Uint8Array(Object.values(t));throw new Error(\"getNearUint8ArrayFromBytes: Unexpected result type from bytes array\")}function Uc(t){const e=Buffer.from(t,\"base64\"),n=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_12__.decode)(e).txn;if(!n)throw new Error(\"Invalid signed transaction: missing 'txn' field\");const r=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_13__.encode)(n),o=Buffer.from(\"TX\"),s=Buffer.concat([o,Buffer.from(r)]),i=mc(s);return _scure_base__WEBPACK_IMPORTED_MODULE_14__.base32.encode(i).replace(/=+$/,\"\")}function pn(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function _c(t){const e=Buffer.from(t.signed.bodyBytes,\"base64\"),n=Buffer.from(t.signed.authInfoBytes,\"base64\"),r=Buffer.from(t.signature.signature,\"base64\"),o=[];o.push(Buffer.from([10])),o.push(pn(e.length)),o.push(e),o.push(Buffer.from([18])),o.push(pn(n.length)),o.push(n),o.push(Buffer.from([26])),o.push(pn(r.length)),o.push(r);const s=Buffer.concat(o),i=$e(s);return Buffer.from(i).toString(\"hex\").toUpperCase()}function Rc(t){var e,n;const r=[];try{if(typeof t==\"string\")return r.push(t),r;if(typeof t!=\"object\")return r;t!=null&&t.id&&r.push(t.id);const o=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;o&&r.push(...o)}catch(o){console.warn(\"getWalletSendCallsHashes failed: \",o)}return r}var $c=Object.defineProperty,Tc=Object.defineProperties,Cc=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,jc=Object.prototype.hasOwnProperty,Lc=Object.prototype.propertyIsEnumerable,Xr=(t,e,n)=>e in t?$c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e)=>{for(var n in e||(e={}))jc.call(e,n)&&Xr(t,n,e[n]);if(Wr)for(var n of Wr(e))Lc.call(e,n)&&Xr(t,n,e[n]);return t},Jr=(t,e)=>Tc(t,Cc(e));const kc=\"did:pkh:\",Te=t=>t?.split(\":\"),Qr=t=>{const e=t&&Te(t);if(e)return t.includes(kc)?e[3]:e[1]},to=t=>{const e=t&&Te(t);if(e)return e[2]+\":\"+e[3]},bn=t=>{const e=t&&Te(t);if(e)return e.pop()};async function Pc(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,s=eo(o,o.iss),i=bn(o.iss);return await Zr(i,s,r,to(o.iss),n)}const eo=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=bn(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,i=`Version: ${t.version}`,c=`Chain ID: ${Qr(e)}`,f=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,a=t.exp?`Expiration Time: ${t.exp}`:void 0,l=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(m=>`\n- ${m}`).join(\"\")}`:void 0,y=je(t.resources);if(y){const m=kt(y);o=wn(o,m)}return[n,r,\"\",o,\"\",s,i,c,f,u,a,l,d,h].filter(m=>m!=null).join(`\n`)};function Hc(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function Dc(t){var e;const{authPayload:n,chains:r,methods:o}=t,s=n.statement||\"\";if(!(r!=null&&r.length))return n;const i=n.chains,c=sn(i,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const f=no(n.resources);if(!f)return n;yt(f);const u=ro(f,\"eip155\");let a=n?.resources||[];if(u!=null&&u.length){const l=oo(u),d=sn(l,o);if(!(d!=null&&d.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(l)}, supported: ${JSON.stringify(o)}`);const h=yn(\"request\",d,{chains:c}),y=fo(f,\"eip155\",h);a=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],a.push(Ce(y))}return Jr(gn({},n),{statement:uo(s,je(a)),chains:c,resources:n!=null&&n.resources||a.length>0?a:void 0})}function no(t){const e=je(t);if(e&&mn(e))return kt(e)}function Vc(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function ro(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function Mc(t){return t?.map(e=>Object.keys(e))||[]}function oo(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function so(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function io(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function yt(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)})})})}function co(t,e,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[t]:yn(e,n,r)}}}function fo(t,e,n){var r;t.att[e]=gn({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((i,c)=>i.localeCompare(c)),s={att:{}};return o.reduce((i,c)=>(i.att[c]=t.att[c],i),s)}function yn(t,e,n={}){e=e?.sort((o,s)=>o.localeCompare(s));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function Ce(t){return yt(t),`urn:recap:${so(t).replace(/=/g,\"\")}`}function kt(t){const e=io(t.replace(\"urn:recap:\",\"\"));return yt(e),e}function Kc(t,e,n){const r=co(t,e,n);return Ce(r)}function mn(t){return t&&t.includes(\"urn:recap:\")}function qc(t,e){const n=kt(t),r=kt(e),o=ao(n,r);return Ce(o)}function ao(t,e){yt(t),yt(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=t.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=e.att)==null?void 0:i[o])||{})).sort((c,f)=>c.localeCompare(f)).forEach(c=>{var f,u;r.att[o]=Jr(gn({},r.att[o]),{[c]:((f=t.att[o])==null?void 0:f[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function wn(t=\"\",e){yt(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const f=Object.keys(e.att[c]).map(l=>({ability:l.split(\"/\")[0],action:l.split(\"/\")[1]}));f.sort((l,d)=>l.action.localeCompare(d.action));const u={};f.forEach(l=>{u[l.ability]||(u[l.ability]=[]),u[l.ability].push(l.action)});const a=Object.keys(u).map(l=>(o++,`(${o}) '${l}': '${u[l].join(\"', '\")}' for '${c}'.`));r.push(a.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),i=`${n}${s}`;return`${t?t+\" \":\"\"}${i}`}function Fc(t){var e;const n=kt(t);yt(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function Zc(t){const e=kt(t);yt(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function uo(t,e){if(!e)return t;const n=kt(e);return yt(n),wn(t,n)}function je(t){if(!t)return;const e=t?.[t.length-1];return mn(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function lo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function vn(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function xn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ot(t,...e){if(!lo(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function ho(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Gc(t,e){ot(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function Pt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function zc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Yc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Wc(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function En(t){if(typeof t==\"string\")t=Wc(t);else if(lo(t))t=Bn(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function Xc(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function Jc(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Qc=(t,e)=>{function n(r,...o){if(ot(r),!Yc)throw new Error(\"Non little-endian hardware is not yet supported\");if(t.nonceLength!==void 0){const a=o[0];if(!a)throw new Error(\"nonce / iv required\");t.varSizeNonce?ot(a):ot(a,t.nonceLength)}const s=t.tagLength;s&&o[1]!==void 0&&ot(o[1]);const i=e(r,...o),c=(a,l)=>{if(l!==void 0){if(a!==2)throw new Error(\"cipher output not supported\");ot(l)}};let f=!1;return{encrypt(a,l){if(f)throw new Error(\"cannot encrypt() twice with same key + nonce\");return f=!0,ot(a),c(i.encrypt.length,l),i.encrypt(a,l)},decrypt(a,l){if(ot(a),s&&a.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return c(i.decrypt.length,l),i.decrypt(a,l)}}}return Object.assign(n,t),n};function po(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!ef(e))throw new Error(\"invalid output, must be aligned\");return e}function go(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function tf(t,e,n){vn(n);const r=new Uint8Array(16),o=zc(r);return go(o,0,BigInt(e),n),go(o,8,BigInt(t),n),r}function ef(t){return t.byteOffset%4===0}function Bn(t){return Uint8Array.from(t)}const bo=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),nf=bo(\"expand 16-byte k\"),rf=bo(\"expand 32-byte k\"),of=Pt(nf),sf=Pt(rf);function K(t,e){return t<<e|t>>>32-e}function An(t){return t.byteOffset%4===0}const Le=64,cf=16,yo=2**32-1,mo=new Uint32Array;function ff(t,e,n,r,o,s,i,c){const f=o.length,u=new Uint8Array(Le),a=Pt(u),l=An(o)&&An(s),d=l?Pt(o):mo,h=l?Pt(s):mo;for(let y=0;y<f;i++){if(t(e,n,r,a,i,c),i>=yo)throw new Error(\"arx: counter overflow\");const m=Math.min(Le,f-y);if(l&&m===Le){const v=y/4;if(y%4!==0)throw new Error(\"arx: invalid block position\");for(let U=0,F;U<cf;U++)F=v+U,h[F]=d[F]^a[U];y+=Le;continue}for(let v=0,U;v<m;v++)U=y+v,s[U]=o[U]^u[v];y+=m}}function af(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=Xc({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return xn(o),xn(i),vn(s),vn(n),(c,f,u,a,l=0)=>{ot(c),ot(f),ot(u);const d=u.length;if(a===void 0&&(a=new Uint8Array(d)),ot(a),xn(l),l<0||l>=yo)throw new Error(\"arx: counter overflow\");if(a.length<d)throw new Error(`arx: output (${a.length}) is shorter than data (${d})`);const h=[];let y=c.length,m,v;if(y===32)h.push(m=Bn(c)),v=sf;else if(y===16&&n)m=new Uint8Array(32),m.set(c),m.set(c,16),v=of,h.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);An(f)||h.push(f=Bn(f));const U=Pt(m);if(r){if(f.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(v,U,Pt(f.subarray(0,16)),U),f=f.subarray(16)}const F=16-o;if(F!==f.length)throw new Error(`arx: nonce must be ${F} or 16 bytes`);if(F!==12){const Z=new Uint8Array(12);Z.set(f,s?0:12-f.length),f=Z,h.push(f)}const R=Pt(f);return ff(t,v,U,R,u,a,l,i),Qt(...h),a}}const W=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class uf{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=En(e),ot(e,32);const n=W(e,0),r=W(e,2),o=W(e,4),s=W(e,6),i=W(e,8),c=W(e,10),f=W(e,12),u=W(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|c<<2)&8191,this.r[7]=(c>>>11|f<<5)&8065,this.r[8]=(f>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let a=0;a<8;a++)this.pad[a]=W(e,16+2*a)}process(e,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,c=i[0],f=i[1],u=i[2],a=i[3],l=i[4],d=i[5],h=i[6],y=i[7],m=i[8],v=i[9],U=W(e,n+0),F=W(e,n+2),R=W(e,n+4),Z=W(e,n+6),H=W(e,n+8),j=W(e,n+10),L=W(e,n+12),k=W(e,n+14);let O=s[0]+(U&8191),T=s[1]+((U>>>13|F<<3)&8191),C=s[2]+((F>>>10|R<<6)&8191),_=s[3]+((R>>>7|Z<<9)&8191),p=s[4]+((Z>>>4|H<<12)&8191),b=s[5]+(H>>>1&8191),g=s[6]+((H>>>14|j<<2)&8191),x=s[7]+((j>>>11|L<<5)&8191),E=s[8]+((L>>>8|k<<8)&8191),A=s[9]+(k>>>5|o),w=0,B=w+O*c+T*(5*v)+C*(5*m)+_*(5*y)+p*(5*h);w=B>>>13,B&=8191,B+=b*(5*d)+g*(5*l)+x*(5*a)+E*(5*u)+A*(5*f),w+=B>>>13,B&=8191;let I=w+O*f+T*c+C*(5*v)+_*(5*m)+p*(5*y);w=I>>>13,I&=8191,I+=b*(5*h)+g*(5*d)+x*(5*l)+E*(5*a)+A*(5*u),w+=I>>>13,I&=8191;let N=w+O*u+T*f+C*c+_*(5*v)+p*(5*m);w=N>>>13,N&=8191,N+=b*(5*y)+g*(5*h)+x*(5*d)+E*(5*l)+A*(5*a),w+=N>>>13,N&=8191;let D=w+O*a+T*u+C*f+_*c+p*(5*v);w=D>>>13,D&=8191,D+=b*(5*m)+g*(5*y)+x*(5*h)+E*(5*d)+A*(5*l),w+=D>>>13,D&=8191;let P=w+O*l+T*a+C*u+_*f+p*c;w=P>>>13,P&=8191,P+=b*(5*v)+g*(5*m)+x*(5*y)+E*(5*h)+A*(5*d),w+=P>>>13,P&=8191;let $=w+O*d+T*l+C*a+_*u+p*f;w=$>>>13,$&=8191,$+=b*c+g*(5*v)+x*(5*m)+E*(5*y)+A*(5*h),w+=$>>>13,$&=8191;let V=w+O*h+T*d+C*l+_*a+p*u;w=V>>>13,V&=8191,V+=b*f+g*c+x*(5*v)+E*(5*m)+A*(5*y),w+=V>>>13,V&=8191;let q=w+O*y+T*h+C*d+_*l+p*a;w=q>>>13,q&=8191,q+=b*u+g*f+x*c+E*(5*v)+A*(5*m),w+=q>>>13,q&=8191;let G=w+O*m+T*y+C*h+_*d+p*l;w=G>>>13,G&=8191,G+=b*a+g*u+x*f+E*c+A*(5*v),w+=G>>>13,G&=8191;let M=w+O*v+T*m+C*y+_*h+p*d;w=M>>>13,M&=8191,M+=b*l+g*a+x*u+E*f+A*c,w+=M>>>13,M&=8191,w=(w<<2)+w|0,w=w+B|0,B=w&8191,w=w>>>13,I+=w,s[0]=B,s[1]=I,s[2]=N,s[3]=D,s[4]=P,s[5]=$,s[6]=V,s[7]=q,s[8]=G,s[9]=M}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let i=e[0]+n[0];e[0]=i&65535;for(let c=1;c<8;c++)i=(e[c]+n[c]|0)+(i>>>16)|0,e[c]=i&65535;Qt(r)}update(e){ho(this),e=En(e),ot(e);const{buffer:n,blockLen:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Qt(this.h,this.r,this.buffer,this.pad)}digestInto(e){ho(this),Gc(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)e[s++]=r[i]>>>0,e[s++]=r[i]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function lf(t){const e=(r,o)=>t(o).update(En(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const df=lf(t=>new uf(t));function hf(t,e,n,r,o,s=20){let i=t[0],c=t[1],f=t[2],u=t[3],a=e[0],l=e[1],d=e[2],h=e[3],y=e[4],m=e[5],v=e[6],U=e[7],F=o,R=n[0],Z=n[1],H=n[2],j=i,L=c,k=f,O=u,T=a,C=l,_=d,p=h,b=y,g=m,x=v,E=U,A=F,w=R,B=Z,I=H;for(let D=0;D<s;D+=2)j=j+T|0,A=K(A^j,16),b=b+A|0,T=K(T^b,12),j=j+T|0,A=K(A^j,8),b=b+A|0,T=K(T^b,7),L=L+C|0,w=K(w^L,16),g=g+w|0,C=K(C^g,12),L=L+C|0,w=K(w^L,8),g=g+w|0,C=K(C^g,7),k=k+_|0,B=K(B^k,16),x=x+B|0,_=K(_^x,12),k=k+_|0,B=K(B^k,8),x=x+B|0,_=K(_^x,7),O=O+p|0,I=K(I^O,16),E=E+I|0,p=K(p^E,12),O=O+p|0,I=K(I^O,8),E=E+I|0,p=K(p^E,7),j=j+C|0,I=K(I^j,16),x=x+I|0,C=K(C^x,12),j=j+C|0,I=K(I^j,8),x=x+I|0,C=K(C^x,7),L=L+_|0,A=K(A^L,16),E=E+A|0,_=K(_^E,12),L=L+_|0,A=K(A^L,8),E=E+A|0,_=K(_^E,7),k=k+p|0,w=K(w^k,16),b=b+w|0,p=K(p^b,12),k=k+p|0,w=K(w^k,8),b=b+w|0,p=K(p^b,7),O=O+T|0,B=K(B^O,16),g=g+B|0,T=K(T^g,12),O=O+T|0,B=K(B^O,8),g=g+B|0,T=K(T^g,7);let N=0;r[N++]=i+j|0,r[N++]=c+L|0,r[N++]=f+k|0,r[N++]=u+O|0,r[N++]=a+T|0,r[N++]=l+C|0,r[N++]=d+_|0,r[N++]=h+p|0,r[N++]=y+b|0,r[N++]=m+g|0,r[N++]=v+x|0,r[N++]=U+E|0,r[N++]=F+A|0,r[N++]=R+w|0,r[N++]=Z+B|0,r[N++]=H+I|0}const pf=af(hf,{counterRight:!1,counterLength:4,allowShortKeys:!1}),gf=new Uint8Array(16),wo=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(gf.subarray(n))},bf=new Uint8Array(32);function vo(t,e,n,r,o){const s=t(e,n,bf),i=df.create(s);o&&wo(i,o),wo(i,r);const c=tf(r.length,o?o.length:0,!0);i.update(c);const f=i.digest();return Qt(s,c),f}const yf=t=>(e,n,r)=>({encrypt(s,i){const c=s.length;i=po(c+16,i,!1),i.set(s);const f=i.subarray(0,-16);t(e,n,f,f,1);const u=vo(t,e,n,f,r);return i.set(u,c),Qt(u),i},decrypt(s,i){i=po(s.length-16,i,!1);const c=s.subarray(0,-16),f=s.subarray(-16),u=vo(t,e,n,c,r);if(!Jc(f,u))throw new Error(\"invalid tag\");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Qt(u),i}}),xo=Qc({blockSize:64,nonceLength:12,tagLength:16},yf(pf));class Eo extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ue(e);const r=pt(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),lt(s)}update(e){return Nt(this),this.iHash.update(e),this}digestInto(e){Nt(this),ht(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ke=(t,e,n)=>new Eo(t,e).update(n).digest();ke.create=(t,e)=>new Eo(t,e);function mf(t,e,n){return Ue(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ke(t,pt(n),pt(e))}const In=Uint8Array.from([0]),Bo=Uint8Array.of();function wf(t,e,n,r=32){Ue(t),mt(r);const o=t.outputLen;if(r>255*o)throw new Error(\"Length should be <= 255*HashLen\");const s=Math.ceil(r/o);n===void 0&&(n=Bo);const i=new Uint8Array(s*o),c=ke.create(t,e),f=c._cloneInto(),u=new Uint8Array(c.outputLen);for(let a=0;a<s;a++)In[0]=a+1,f.update(a===0?Bo:u).update(n).update(In).digestInto(u),i.set(u,o*a),c._cloneInto(f);return c.destroy(),f.destroy(),lt(u,In),i.slice(0,r)}const vf=(t,e,n,r,o)=>wf(t,mf(t,e,n),r,o),Pe=$e,Sn=BigInt(0),On=BigInt(1);function He(t,e=\"\"){if(typeof t!=\"boolean\"){const n=e&&`\"${e}\"`;throw new Error(n+\"expected boolean, got type=\"+typeof t)}return t}function Kt(t,e,n=\"\"){const r=Ne(t),o=t?.length,s=e!==void 0;if(!r||s&&o!==e){const i=n&&`\"${n}\" `,c=s?` of length ${e}`:\"\",f=r?`length=${o}`:`type=${typeof t}`;throw new Error(i+\"expected Uint8Array\"+c+\", got \"+f)}return t}function De(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ao(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?Sn:BigInt(\"0x\"+t)}function Ve(t){return Ao(Jt(t))}function Me(t){return ht(t),Ao(Jt(Uint8Array.from(t).reverse()))}function Nn(t,e){return _e(t.toString(16).padStart(e*2,\"0\"))}function Un(t,e){return Nn(t,e).reverse()}function tt(t,e,n){let r;if(typeof e==\"string\")try{r=_e(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(Ne(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}const _n=t=>typeof t==\"bigint\"&&Sn<=t;function xf(t,e,n){return _n(t)&&_n(e)&&_n(n)&&e<=t&&t<n}function Rn(t,e,n,r){if(!xf(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Io(t){let e;for(e=0;t>Sn;t>>=On,e+=1);return e}const ye=t=>(On<<BigInt(t))-On;function Ef(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");const r=h=>new Uint8Array(h),o=h=>Uint8Array.of(h);let s=r(t),i=r(t),c=0;const f=()=>{s.fill(1),i.fill(0),c=0},u=(...h)=>n(i,s,...h),a=(h=r(0))=>{i=u(o(0),h),s=u(),h.length!==0&&(i=u(o(1),h),s=u())},l=()=>{if(c++>=1e3)throw new Error(\"drbg: tried 1000 values\");let h=0;const y=[];for(;h<e;){s=u();const m=s.slice();y.push(m),h+=s.length}return _t(...y)};return(h,y)=>{f(),a(h);let m;for(;!(m=y(l()));)a();return f(),m}}function Ke(t,e,n={}){if(!t||typeof t!=\"object\")throw new Error(\"expected valid options object\");function r(o,s,i){const c=t[o];if(i&&c===void 0)return;const f=typeof c;if(f!==s||c===null)throw new Error(`param \"${o}\" is invalid: expected ${s}, got ${f}`)}Object.entries(e).forEach(([o,s])=>r(o,s,!1)),Object.entries(n).forEach(([o,s])=>r(o,s,!0))}function So(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const st=BigInt(0),nt=BigInt(1),qt=BigInt(2),Oo=BigInt(3),No=BigInt(4),Uo=BigInt(5),Bf=BigInt(7),_o=BigInt(8),Af=BigInt(9),Ro=BigInt(16);function ct(t,e){const n=t%e;return n>=st?n:e+n}function gt(t,e,n){let r=t;for(;e-- >st;)r*=r,r%=n;return r}function $o(t,e){if(t===st)throw new Error(\"invert: expected non-zero number\");if(e<=st)throw new Error(\"invert: expected positive modulus, got \"+e);let n=ct(t,e),r=e,o=st,s=nt;for(;n!==st;){const c=r/n,f=r%n,u=o-s*c;r=n,n=f,o=s,s=u}if(r!==nt)throw new Error(\"invert: does not exist\");return ct(o,e)}function $n(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error(\"Cannot find square root\")}function To(t,e){const n=(t.ORDER+nt)/No,r=t.pow(e,n);return $n(t,r,e),r}function If(t,e){const n=(t.ORDER-Uo)/_o,r=t.mul(e,qt),o=t.pow(r,n),s=t.mul(e,o),i=t.mul(t.mul(s,qt),o),c=t.mul(s,t.sub(i,t.ONE));return $n(t,c,e),c}function Sf(t){const e=Ht(t),n=Co(t),r=n(e,e.neg(e.ONE)),o=n(e,r),s=n(e,e.neg(r)),i=(t+Bf)/Ro;return(c,f)=>{let u=c.pow(f,i),a=c.mul(u,r);const l=c.mul(u,o),d=c.mul(u,s),h=c.eql(c.sqr(a),f),y=c.eql(c.sqr(l),f);u=c.cmov(u,a,h),a=c.cmov(d,l,y);const m=c.eql(c.sqr(a),f),v=c.cmov(u,a,m);return $n(c,v,f),v}}function Co(t){if(t<Oo)throw new Error(\"sqrt is not defined for small field\");let e=t-nt,n=0;for(;e%qt===st;)e/=qt,n++;let r=qt;const o=Ht(t);for(;Lo(o,r)===1;)if(r++>1e3)throw new Error(\"Cannot find square root: probably non-prime P\");if(n===1)return To;let s=o.pow(r,e);const i=(e+nt)/qt;return function(f,u){if(f.is0(u))return u;if(Lo(f,u)!==1)throw new Error(\"Cannot find square root\");let a=n,l=f.mul(f.ONE,s),d=f.pow(u,e),h=f.pow(u,i);for(;!f.eql(d,f.ONE);){if(f.is0(d))return f.ZERO;let y=1,m=f.sqr(d);for(;!f.eql(m,f.ONE);)if(y++,m=f.sqr(m),y===a)throw new Error(\"Cannot find square root\");const v=nt<<BigInt(a-y-1),U=f.pow(l,v);a=y,l=f.sqr(U),d=f.mul(d,l),h=f.mul(h,U)}return h}}function Of(t){return t%No===Oo?To:t%_o===Uo?If:t%Ro===Af?Sf(t):Co(t)}const Nf=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function Uf(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"number\",BITS:\"number\"},n=Nf.reduce((r,o)=>(r[o]=\"function\",r),e);return Ke(t,n),t}function _f(t,e,n){if(n<st)throw new Error(\"invalid exponent, negatives unsupported\");if(n===st)return t.ONE;if(n===nt)return e;let r=t.ONE,o=e;for(;n>st;)n&nt&&(r=t.mul(r,o)),o=t.sqr(o),n>>=nt;return r}function jo(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((i,c,f)=>t.is0(c)?i:(r[f]=i,t.mul(i,c)),t.ONE),s=t.inv(o);return e.reduceRight((i,c,f)=>t.is0(c)?i:(r[f]=t.mul(i,r[f]),t.mul(i,c)),s),r}function Lo(t,e){const n=(t.ORDER-nt)/qt,r=t.pow(e,n),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!i)throw new Error(\"invalid Legendre symbol result\");return o?1:s?0:-1}function ko(t,e){e!==void 0&&mt(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ht(t,e,n=!1,r={}){if(t<=st)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);let o,s,i=!1,c;if(typeof e==\"object\"&&e!=null){if(r.sqrt||n)throw new Error(\"cannot specify opts in two arguments\");const d=e;d.BITS&&(o=d.BITS),d.sqrt&&(s=d.sqrt),typeof d.isLE==\"boolean\"&&(n=d.isLE),typeof d.modFromBytes==\"boolean\"&&(i=d.modFromBytes),c=d.allowedLengths}else typeof e==\"number\"&&(o=e),r.sqrt&&(s=r.sqrt);const{nBitLength:f,nByteLength:u}=ko(t,o);if(u>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const l=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:u,MASK:ye(f),ZERO:st,ONE:nt,allowedLengths:c,create:d=>ct(d,t),isValid:d=>{if(typeof d!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof d);return st<=d&&d<t},is0:d=>d===st,isValidNot0:d=>!l.is0(d)&&l.isValid(d),isOdd:d=>(d&nt)===nt,neg:d=>ct(-d,t),eql:(d,h)=>d===h,sqr:d=>ct(d*d,t),add:(d,h)=>ct(d+h,t),sub:(d,h)=>ct(d-h,t),mul:(d,h)=>ct(d*h,t),pow:(d,h)=>_f(l,d,h),div:(d,h)=>ct(d*$o(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>$o(d,t),sqrt:s||(d=>(a||(a=Of(t)),a(l,d))),toBytes:d=>n?Un(d,u):Nn(d,u),fromBytes:(d,h=!0)=>{if(c){if(!c.includes(d.length)||d.length>u)throw new Error(\"Field.fromBytes: expected \"+c+\" bytes, got \"+d.length);const m=new Uint8Array(u);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==u)throw new Error(\"Field.fromBytes: expected \"+u+\" bytes, got \"+d.length);let y=n?Me(d):Ve(d);if(i&&(y=ct(y,t)),!h&&!l.isValid(y))throw new Error(\"invalid field element: outside of range 0..ORDER\");return y},invertBatch:d=>jo(l,d),cmov:(d,h,y)=>y?h:d});return Object.freeze(l)}function Po(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Ho(t){const e=Po(t);return e+Math.ceil(e/2)}function Rf(t,e,n=!1){const r=t.length,o=Po(e),s=Ho(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const i=n?Me(t):Ve(t),c=ct(i,e-nt)+nt;return n?Un(c,o):Nn(c,o)}const te=BigInt(0),Ft=BigInt(1);function qe(t,e){const n=e.negate();return t?n:e}function Tn(t,e){const n=jo(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function Do(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Cn(t,e){Do(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=ye(t),i=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:o,shiftBy:i}}function Vo(t,e,n){const{windowSize:r,mask:o,maxNumber:s,shiftBy:i}=n;let c=Number(t&o),f=t>>i;c>r&&(c-=s,f+=Ft);const u=e*r,a=u+Math.abs(c)-1,l=c===0,d=c<0,h=e%2!==0;return{nextN:f,offset:a,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function $f(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function Tf(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const jn=new WeakMap,Mo=new WeakMap;function Ln(t){return Mo.get(t)||1}function Ko(t){if(t!==te)throw new Error(\"invalid wNAF\")}class Cf{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>te;)n&Ft&&(r=r.add(o)),o=o.double(),n>>=Ft;return r}precomputeWindow(e,n){const{windows:r,windowSize:o}=Cn(n,this.bits),s=[];let i=e,c=i;for(let f=0;f<r;f++){c=i,s.push(c);for(let u=1;u<o;u++)c=c.add(i),s.push(c);i=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error(\"invalid scalar\");let o=this.ZERO,s=this.BASE;const i=Cn(e,this.bits);for(let c=0;c<i.windows;c++){const{nextN:f,offset:u,isZero:a,isNeg:l,isNegF:d,offsetF:h}=Vo(r,c,i);r=f,a?s=s.add(qe(d,n[h])):o=o.add(qe(l,n[u]))}return Ko(r),{p:o,f:s}}wNAFUnsafe(e,n,r,o=this.ZERO){const s=Cn(e,this.bits);for(let i=0;i<s.windows&&r!==te;i++){const{nextN:c,offset:f,isZero:u,isNeg:a}=Vo(r,i,s);if(r=c,!u){const l=n[f];o=o.add(a?l.negate():l)}}return Ko(r),o}getPrecomputes(e,n,r){let o=jn.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r==\"function\"&&(o=r(o)),jn.set(n,o))),o}cached(e,n,r){const o=Ln(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){const s=Ln(e);return s===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,o)}createCache(e,n){Do(n,this.bits),Mo.set(e,n),jn.delete(e)}hasCache(e){return Ln(e)!==1}}function jf(t,e,n,r){let o=e,s=t.ZERO,i=t.ZERO;for(;n>te||r>te;)n&Ft&&(s=s.add(o)),r&Ft&&(i=i.add(o)),o=o.double(),n>>=Ft,r>>=Ft;return{p1:s,p2:i}}function Lf(t,e,n,r){$f(n,t),Tf(r,e);const o=n.length,s=r.length;if(o!==s)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,c=Io(BigInt(o));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const u=ye(f),a=new Array(Number(u)+1).fill(i),l=Math.floor((e.BITS-1)/f)*f;let d=i;for(let h=l;h>=0;h-=f){a.fill(i);for(let m=0;m<s;m++){const v=r[m],U=Number(v>>BigInt(h)&u);a[U]=a[U].add(n[m])}let y=i;for(let m=a.length-1,v=i;m>0;m--)v=v.add(a[m]),y=y.add(v);if(d=d.add(y),h!==0)for(let m=0;m<f;m++)d=d.double()}return d}function qo(t,e,n){if(e){if(e.ORDER!==t)throw new Error(\"Field.ORDER must match order: Fp == p, Fn == n\");return Uf(e),e}else return Ht(t,{isLE:n})}function kf(t,e,n={},r){if(r===void 0&&(r=t===\"edwards\"),!e||typeof e!=\"object\")throw new Error(`expected valid ${t} CURVE object`);for(const f of[\"p\",\"n\",\"h\"]){const u=e[f];if(!(typeof u==\"bigint\"&&u>te))throw new Error(`CURVE.${f} must be positive bigint`)}const o=qo(e.p,n.Fp,r),s=qo(e.n,n.Fn,r),c=[\"Gx\",\"Gy\",\"a\",t===\"weierstrass\"?\"b\":\"d\"];for(const f of c)if(!o.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),kr(\"HashToScalar-\");const me=BigInt(0),ee=BigInt(1),Fe=BigInt(2);function Pf(t){return Ke(t,{adjustScalarBytes:\"function\",powPminus2:\"function\"}),Object.freeze({...t})}function Hf(t){const e=Pf(t),{P:n,type:r,adjustScalarBytes:o,powPminus2:s,randomBytes:i}=e,c=r===\"x25519\";if(!c&&r!==\"x448\")throw new Error(\"invalid type\");const f=i||Mt,u=c?255:448,a=c?32:56,l=BigInt(c?9:5),d=BigInt(c?121665:39081),h=c?Fe**BigInt(254):Fe**BigInt(447),y=c?BigInt(8)*Fe**BigInt(251)-ee:BigInt(4)*Fe**BigInt(445)-ee,m=h+y+ee,v=p=>ct(p,n),U=F(l);function F(p){return Un(v(p),a)}function R(p){const b=tt(\"u coordinate\",p,a);return c&&(b[31]&=127),v(Me(b))}function Z(p){return Me(o(tt(\"scalar\",p,a)))}function H(p,b){const g=k(R(b),Z(p));if(g===me)throw new Error(\"invalid private or public key received\");return F(g)}function j(p){return H(p,U)}function L(p,b,g){const x=v(p*(b-g));return b=v(b-x),g=v(g+x),{x_2:b,x_3:g}}function k(p,b){Rn(\"u\",p,me,n),Rn(\"scalar\",b,h,m);const g=b,x=p;let E=ee,A=me,w=p,B=ee,I=me;for(let D=BigInt(u-1);D>=me;D--){const P=g>>D&ee;I^=P,{x_2:E,x_3:w}=L(I,E,w),{x_2:A,x_3:B}=L(I,A,B),I=P;const $=E+A,V=v($*$),q=E-A,G=v(q*q),M=V-G,Y=w+B,Yt=w-B,ce=v(Yt*$),fe=v(Y*q),Qn=ce+fe,tr=ce-fe;w=v(Qn*Qn),B=v(x*v(tr*tr)),E=v(V*G),A=v(M*(V+v(d*M)))}({x_2:E,x_3:w}=L(I,E,w)),{x_2:A,x_3:B}=L(I,A,B);const N=s(A);return v(E*N)}const O={secretKey:a,publicKey:a,seed:a},T=(p=f(a))=>(ht(p,O.seed),p);function C(p){const b=T(p);return{secretKey:b,publicKey:j(b)}}return{keygen:C,getSharedSecret:(p,b)=>H(p,b),getPublicKey:p=>j(p),scalarMult:H,scalarMultBase:j,utils:{randomSecretKey:T,randomPrivateKey:T},GuBytes:U.slice(),lengths:O}}const Df=BigInt(1),Fo=BigInt(2),Vf=BigInt(3),Mf=BigInt(5),Kf=BigInt(8),Zo=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed\"),qf={p:Zo,n:BigInt(\"0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed\"),h:Kf,a:BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec\"),d:BigInt(\"0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3\"),Gx:BigInt(\"0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\"),Gy:BigInt(\"0x6666666666666666666666666666666666666666666666666666666666666658\")};function Ff(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=Zo,c=t*t%s*t%s,f=gt(c,Fo,s)*c%s,u=gt(f,Df,s)*t%s,a=gt(u,Mf,s)*u%s,l=gt(a,e,s)*a%s,d=gt(l,n,s)*l%s,h=gt(d,r,s)*d%s,y=gt(h,o,s)*h%s,m=gt(y,o,s)*h%s,v=gt(m,e,s)*a%s;return{pow_p_5_8:gt(v,Fo,s)*t%s,b2:c}}function Zf(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Gf=Ht(qf.p,{isLE:!0}),kn=(()=>{const t=Gf.ORDER;return Hf({P:t,type:\"x25519\",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Ff(e);return ct(gt(n,Vf,t)*r,t)},adjustScalarBytes:Zf})})(),Go=(t,e)=>(t+(t>=0?e:-e)/zo)/e;function zf(t,e,n){const[[r,o],[s,i]]=e,c=Go(i*t,n),f=Go(-o*t,n);let u=t-c*r-f*s,a=-c*o-f*i;const l=u<Et,d=a<Et;l&&(u=-u),d&&(a=-a);const h=ye(Math.ceil(Io(n)/2))+ne;if(u<Et||u>=h||a<Et||a>=h)throw new Error(\"splitScalar (endomorphism): failed, k=\"+t);return{k1neg:l,k1:u,k2neg:d,k2:a}}function Pn(t){if(![\"compact\",\"recovered\",\"der\"].includes(t))throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');return t}function Hn(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return He(n.lowS,\"lowS\"),He(n.prehash,\"prehash\"),n.format!==void 0&&Pn(n.format),n}class Yf extends Error{constructor(e=\"\"){super(e)}}const xt={Err:Yf,_tlv:{encode:(t,e)=>{const{Err:n}=xt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=De(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?De(o.length/2|128):\"\";return De(t)+s+o+e},decode(t,e){const{Err:n}=xt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],s=!!(o&128);let i=0;if(!s)i=o;else{const f=o&127;if(!f)throw new n(\"tlv.decode(long): indefinite length not supported\");if(f>4)throw new n(\"tlv.decode(long): byte length is too big\");const u=e.subarray(r,r+f);if(u.length!==f)throw new n(\"tlv.decode: length bytes not complete\");if(u[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const a of u)i=i<<8|a;if(r+=f,i<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const c=e.subarray(r,r+i);if(c.length!==i)throw new n(\"tlv.decode: wrong value length\");return{v:c,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=xt;if(t<Et)throw new e(\"integer: negative integers are not allowed\");let n=De(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=xt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return Ve(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xt,o=tt(\"signature\",t),{v:s,l:i}=r.decode(48,o);if(i.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:c,l:f}=r.decode(2,s),{v:u,l:a}=r.decode(2,f);if(a.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=xt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),s=r+o;return e.encode(48,s)}},Et=BigInt(0),ne=BigInt(1),zo=BigInt(2),Ze=BigInt(3),Wf=BigInt(4);function re(t,e){const{BYTES:n}=t;let r;if(typeof e==\"bigint\")r=e;else{let o=tt(\"private key\",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error(\"invalid private key: out of range [1..N-1]\");return r}function Xf(t,e={}){const n=kf(\"weierstrass\",t,e),{Fp:r,Fn:o}=n;let s=n.CURVE;const{h:i,n:c}=s;Ke(e,{},{allowInfinityPoint:\"boolean\",clearCofactor:\"function\",isTorsionFree:\"function\",fromBytes:\"function\",toBytes:\"function\",endo:\"object\",wrapPrivateKey:\"boolean\"});const{endo:f}=e;if(f&&(!r.is0(s.a)||typeof f.beta!=\"bigint\"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');const u=Wo(r,o);function a(){if(!r.isOdd)throw new Error(\"compression is not supported: Field does not have .isOdd()\")}function l(_,p,b){const{x:g,y:x}=p.toAffine(),E=r.toBytes(g);if(He(b,\"isCompressed\"),b){a();const A=!r.isOdd(x);return _t(Yo(A),E)}else return _t(Uint8Array.of(4),E,r.toBytes(x))}function d(_){Kt(_,void 0,\"Point\");const{publicKey:p,publicKeyUncompressed:b}=u,g=_.length,x=_[0],E=_.subarray(1);if(g===p&&(x===2||x===3)){const A=r.fromBytes(E);if(!r.isValid(A))throw new Error(\"bad point: is not on curve, wrong x\");const w=m(A);let B;try{B=r.sqrt(w)}catch(D){const P=D instanceof Error?\": \"+D.message:\"\";throw new Error(\"bad point: is not on curve, sqrt error\"+P)}a();const I=r.isOdd(B);return(x&1)===1!==I&&(B=r.neg(B)),{x:A,y:B}}else if(g===b&&x===4){const A=r.BYTES,w=r.fromBytes(E.subarray(0,A)),B=r.fromBytes(E.subarray(A,A*2));if(!v(w,B))throw new Error(\"bad point: is not on curve\");return{x:w,y:B}}else throw new Error(`bad point: got length ${g}, expected compressed=${p} or uncompressed=${b}`)}const h=e.toBytes||l,y=e.fromBytes||d;function m(_){const p=r.sqr(_),b=r.mul(p,_);return r.add(r.add(b,r.mul(_,s.a)),s.b)}function v(_,p){const b=r.sqr(p),g=m(_);return r.eql(b,g)}if(!v(s.Gx,s.Gy))throw new Error(\"bad curve params: generator point\");const U=r.mul(r.pow(s.a,Ze),Wf),F=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(U,F)))throw new Error(\"bad curve params: a or b\");function R(_,p,b=!1){if(!r.isValid(p)||b&&r.is0(p))throw new Error(`bad point coordinate ${_}`);return p}function Z(_){if(!(_ instanceof O))throw new Error(\"ProjectivePoint expected\")}function H(_){if(!f||!f.basises)throw new Error(\"no endo\");return zf(_,f.basises,o.ORDER)}const j=So((_,p)=>{const{X:b,Y:g,Z:x}=_;if(r.eql(x,r.ONE))return{x:b,y:g};const E=_.is0();p==null&&(p=E?r.ONE:r.inv(x));const A=r.mul(b,p),w=r.mul(g,p),B=r.mul(x,p);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:w}}),L=So(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.Y))return;throw new Error(\"bad point: ZERO\")}const{x:p,y:b}=_.toAffine();if(!r.isValid(p)||!r.isValid(b))throw new Error(\"bad point: x or y not field elements\");if(!v(p,b))throw new Error(\"bad point: equation left != right\");if(!_.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});function k(_,p,b,g,x){return b=new O(r.mul(b.X,_),b.Y,b.Z),p=qe(g,p),b=qe(x,b),p.add(b)}class O{constructor(p,b,g){this.X=R(\"x\",p),this.Y=R(\"y\",b,!0),this.Z=R(\"z\",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(p){const{x:b,y:g}=p||{};if(!p||!r.isValid(b)||!r.isValid(g))throw new Error(\"invalid affine point\");if(p instanceof O)throw new Error(\"projective point not allowed\");return r.is0(b)&&r.is0(g)?O.ZERO:new O(b,g,r.ONE)}static fromBytes(p){const b=O.fromAffine(y(Kt(p,void 0,\"point\")));return b.assertValidity(),b}static fromHex(p){return O.fromBytes(tt(\"pointHex\",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,b=!0){return C.createCache(this,p),b||this.multiply(Ze),this}assertValidity(){L(this)}hasEvenY(){const{y:p}=this.toAffine();if(!r.isOdd)throw new Error(\"Field doesn't support isOdd\");return!r.isOdd(p)}equals(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p,B=r.eql(r.mul(b,w),r.mul(E,x)),I=r.eql(r.mul(g,w),r.mul(A,x));return B&&I}negate(){return new O(this.X,r.neg(this.Y),this.Z)}double(){const{a:p,b}=s,g=r.mul(b,Ze),{X:x,Y:E,Z:A}=this;let w=r.ZERO,B=r.ZERO,I=r.ZERO,N=r.mul(x,x),D=r.mul(E,E),P=r.mul(A,A),$=r.mul(x,E);return $=r.add($,$),I=r.mul(x,A),I=r.add(I,I),w=r.mul(p,I),B=r.mul(g,P),B=r.add(w,B),w=r.sub(D,B),B=r.add(D,B),B=r.mul(w,B),w=r.mul($,w),I=r.mul(g,I),P=r.mul(p,P),$=r.sub(N,P),$=r.mul(p,$),$=r.add($,I),I=r.add(N,N),N=r.add(I,N),N=r.add(N,P),N=r.mul(N,$),B=r.add(B,N),P=r.mul(E,A),P=r.add(P,P),N=r.mul(P,$),w=r.sub(w,N),I=r.mul(P,D),I=r.add(I,I),I=r.add(I,I),new O(w,B,I)}add(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p;let B=r.ZERO,I=r.ZERO,N=r.ZERO;const D=s.a,P=r.mul(s.b,Ze);let $=r.mul(b,E),V=r.mul(g,A),q=r.mul(x,w),G=r.add(b,g),M=r.add(E,A);G=r.mul(G,M),M=r.add($,V),G=r.sub(G,M),M=r.add(b,x);let Y=r.add(E,w);return M=r.mul(M,Y),Y=r.add($,q),M=r.sub(M,Y),Y=r.add(g,x),B=r.add(A,w),Y=r.mul(Y,B),B=r.add(V,q),Y=r.sub(Y,B),N=r.mul(D,M),B=r.mul(P,q),N=r.add(B,N),B=r.sub(V,N),N=r.add(V,N),I=r.mul(B,N),V=r.add($,$),V=r.add(V,$),q=r.mul(D,q),M=r.mul(P,M),V=r.add(V,q),q=r.sub($,q),q=r.mul(D,q),M=r.add(M,q),$=r.mul(V,M),I=r.add(I,$),$=r.mul(Y,M),B=r.mul(G,B),B=r.sub(B,$),$=r.mul(G,V),N=r.mul(Y,N),N=r.add(N,$),new O(B,I,N)}subtract(p){return this.add(p.negate())}is0(){return this.equals(O.ZERO)}multiply(p){const{endo:b}=e;if(!o.isValidNot0(p))throw new Error(\"invalid scalar: out of range\");let g,x;const E=A=>C.cached(this,A,w=>Tn(O,w));if(b){const{k1neg:A,k1:w,k2neg:B,k2:I}=H(p),{p:N,f:D}=E(w),{p:P,f:$}=E(I);x=D.add($),g=k(b.beta,N,P,A,B)}else{const{p:A,f:w}=E(p);g=A,x=w}return Tn(O,[g,x])[0]}multiplyUnsafe(p){const{endo:b}=e,g=this;if(!o.isValid(p))throw new Error(\"invalid scalar: out of range\");if(p===Et||g.is0())return O.ZERO;if(p===ne)return g;if(C.hasCache(this))return this.multiply(p);if(b){const{k1neg:x,k1:E,k2neg:A,k2:w}=H(p),{p1:B,p2:I}=jf(O,g,E,w);return k(b.beta,B,I,x,A)}else return C.unsafe(g,p)}multiplyAndAddUnsafe(p,b,g){const x=this.multiplyUnsafe(b).add(p.multiplyUnsafe(g));return x.is0()?void 0:x}toAffine(p){return j(this,p)}isTorsionFree(){const{isTorsionFree:p}=e;return i===ne?!0:p?p(O,this):C.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:p}=e;return i===ne?this:p?p(O,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(p=!0){return He(p,\"isCompressed\"),this.assertValidity(),h(O,this,p)}toHex(p=!0){return Jt(this.toBytes(p))}toString(){return`<Point ${this.is0()?\"ZERO\":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return Tn(O,p)}static msm(p,b){return Lf(O,o,p,b)}static fromPrivateKey(p){return O.BASE.multiply(re(o,p))}}O.BASE=new O(s.Gx,s.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=o;const T=o.BITS,C=new Cf(O,e.endo?Math.ceil(T/2):T);return O.BASE.precompute(8),O}function Yo(t){return Uint8Array.of(t?2:3)}function Wo(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Jf(t,e={}){const{Fn:n}=t,r=e.randomBytes||Mt,o=Object.assign(Wo(t.Fp,n),{seed:Ho(n.ORDER)});function s(h){try{return!!re(n,h)}catch{return!1}}function i(h,y){const{publicKey:m,publicKeyUncompressed:v}=o;try{const U=h.length;return y===!0&&U!==m||y===!1&&U!==v?!1:!!t.fromBytes(h)}catch{return!1}}function c(h=r(o.seed)){return Rf(Kt(h,o.seed,\"seed\"),n.ORDER)}function f(h,y=!0){return t.BASE.multiply(re(n,h)).toBytes(y)}function u(h){const y=c(h);return{secretKey:y,publicKey:f(y)}}function a(h){if(typeof h==\"bigint\")return!1;if(h instanceof t)return!0;const{secretKey:y,publicKey:m,publicKeyUncompressed:v}=o;if(n.allowedLengths||y===m)return;const U=tt(\"key\",h).length;return U===m||U===v}function l(h,y,m=!0){if(a(h)===!0)throw new Error(\"first arg must be private key\");if(a(y)===!1)throw new Error(\"second arg must be public key\");const v=re(n,h);return t.fromHex(y).multiply(v).toBytes(m)}return Object.freeze({getPublicKey:f,getSharedSecret:l,keygen:u,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:i,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:h=>re(n,h),precompute(h=8,y=t.BASE){return y.precompute(h,!1)}},lengths:o})}function Qf(t,e,n={}){Ue(e),Ke(n,{},{hmac:\"function\",lowS:\"boolean\",randomBytes:\"function\",bits2int:\"function\",bits2int_modN:\"function\"});const r=n.randomBytes||Mt,o=n.hmac||((b,...g)=>ke(e,b,_t(...g))),{Fp:s,Fn:i}=t,{ORDER:c,BITS:f}=i,{keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h}=Jf(t,n),y={prehash:!1,lowS:typeof n.lowS==\"boolean\"?n.lowS:!1,format:void 0,extraEntropy:!1},m=\"compact\";function v(b){const g=c>>ne;return b>g}function U(b,g){if(!i.isValidNot0(g))throw new Error(`invalid signature ${b}: out of range 1..Point.Fn.ORDER`);return g}function F(b,g){Pn(g);const x=h.signature,E=g===\"compact\"?x:g===\"recovered\"?x+1:void 0;return Kt(b,E,`${g} signature`)}class R{constructor(g,x,E){this.r=U(\"r\",g),this.s=U(\"s\",x),E!=null&&(this.recovery=E),Object.freeze(this)}static fromBytes(g,x=m){F(g,x);let E;if(x===\"der\"){const{r:I,s:N}=xt.toSig(Kt(g));return new R(I,N)}x===\"recovered\"&&(E=g[0],x=\"compact\",g=g.subarray(1));const A=i.BYTES,w=g.subarray(0,A),B=g.subarray(A,A*2);return new R(i.fromBytes(w),i.fromBytes(B),E)}static fromHex(g,x){return this.fromBytes(_e(g),x)}addRecoveryBit(g){return new R(this.r,this.s,g)}recoverPublicKey(g){const x=s.ORDER,{r:E,s:A,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error(\"recovery id invalid\");if(c*zo<x&&w>1)throw new Error(\"recovery id is ambiguous for h>1 curve\");const I=w===2||w===3?E+c:E;if(!s.isValid(I))throw new Error(\"recovery id 2 or 3 invalid\");const N=s.toBytes(I),D=t.fromBytes(_t(Yo((w&1)===0),N)),P=i.inv(I),$=H(tt(\"msgHash\",g)),V=i.create(-$*P),q=i.create(A*P),G=t.BASE.multiplyUnsafe(V).add(D.multiplyUnsafe(q));if(G.is0())throw new Error(\"point at infinify\");return G.assertValidity(),G}hasHighS(){return v(this.s)}toBytes(g=m){if(Pn(g),g===\"der\")return _e(xt.hexFromSig(this));const x=i.toBytes(this.r),E=i.toBytes(this.s);if(g===\"recovered\"){if(this.recovery==null)throw new Error(\"recovery bit must be present\");return _t(Uint8Array.of(this.recovery),x,E)}return _t(x,E)}toHex(g){return Jt(this.toBytes(g))}assertValidity(){}static fromCompact(g){return R.fromBytes(tt(\"sig\",g),\"compact\")}static fromDER(g){return R.fromBytes(tt(\"sig\",g),\"der\")}normalizeS(){return this.hasHighS()?new R(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes(\"der\")}toDERHex(){return Jt(this.toBytes(\"der\"))}toCompactRawBytes(){return this.toBytes(\"compact\")}toCompactHex(){return Jt(this.toBytes(\"compact\"))}}const Z=n.bits2int||function(g){if(g.length>8192)throw new Error(\"input is too large\");const x=Ve(g),E=g.length*8-f;return E>0?x>>BigInt(E):x},H=n.bits2int_modN||function(g){return i.create(Z(g))},j=ye(f);function L(b){return Rn(\"num < 2^\"+f,b,Et,j),i.toBytes(b)}function k(b,g){return Kt(b,void 0,\"message\"),g?Kt(e(b),void 0,\"prehashed message\"):b}function O(b,g,x){if([\"recovered\",\"canonical\"].some(V=>V in x))throw new Error(\"sign() legacy options not supported\");const{lowS:E,prehash:A,extraEntropy:w}=Hn(x,y);b=k(b,A);const B=H(b),I=re(i,g),N=[L(I),L(B)];if(w!=null&&w!==!1){const V=w===!0?r(h.secretKey):w;N.push(tt(\"extraEntropy\",V))}const D=_t(...N),P=B;function $(V){const q=Z(V);if(!i.isValidNot0(q))return;const G=i.inv(q),M=t.BASE.multiply(q).toAffine(),Y=i.create(M.x);if(Y===Et)return;const Yt=i.create(G*i.create(P+Y*I));if(Yt===Et)return;let ce=(M.x===Y?0:2)|Number(M.y&ne),fe=Yt;return E&&v(Yt)&&(fe=i.neg(Yt),ce^=1),new R(Y,fe,ce)}return{seed:D,k2sig:$}}function T(b,g,x={}){b=tt(\"message\",b);const{seed:E,k2sig:A}=O(b,g,x);return Ef(e.outputLen,i.BYTES,o)(E,A)}function C(b){let g;const x=typeof b==\"string\"||Ne(b),E=!x&&b!==null&&typeof b==\"object\"&&typeof b.r==\"bigint\"&&typeof b.s==\"bigint\";if(!x&&!E)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");if(E)g=new R(b.r,b.s);else if(x){try{g=R.fromBytes(tt(\"sig\",b),\"der\")}catch(A){if(!(A instanceof xt.Err))throw A}if(!g)try{g=R.fromBytes(tt(\"sig\",b),\"compact\")}catch{return!1}}return g||!1}function _(b,g,x,E={}){const{lowS:A,prehash:w,format:B}=Hn(E,y);if(x=tt(\"publicKey\",x),g=k(tt(\"message\",g),w),\"strict\"in E)throw new Error(\"options.strict was renamed to lowS\");const I=B===void 0?C(b):R.fromBytes(tt(\"sig\",b),B);if(I===!1)return!1;try{const N=t.fromBytes(x);if(A&&I.hasHighS())return!1;const{r:D,s:P}=I,$=H(g),V=i.inv(P),q=i.create($*V),G=i.create(D*V),M=t.BASE.multiplyUnsafe(q).add(N.multiplyUnsafe(G));return M.is0()?!1:i.create(M.x)===D}catch{return!1}}function p(b,g,x={}){const{prehash:E}=Hn(x,y);return g=k(g,E),R.fromBytes(b,\"recovered\").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h,Point:t,sign:T,verify:_,recoverPublicKey:p,Signature:R,hash:e})}function ta(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0;const o=Ht(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function ea(t){const{CURVE:e,curveOpts:n}=ta(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function na(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ko(n.Fn.ORDER,n.Fn.BITS))})}function ra(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:o}=ea(t),s=Xf(e,n),i=Qf(s,r,o);return na(t,i)}function Dn(t,e){const n=r=>ra({...t,hash:r});return{...n(e),create:n}}const Xo={p:BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\"),n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),h:BigInt(1),a:BigInt(\"0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc\"),b:BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\")},Jo={p:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff\"),n:BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973\"),h:BigInt(1),a:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc\"),b:BigInt(\"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef\"),Gx:BigInt(\"0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7\"),Gy:BigInt(\"0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\")},Qo={p:BigInt(\"0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),n:BigInt(\"0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409\"),h:BigInt(1),a:BigInt(\"0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc\"),b:BigInt(\"0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00\"),Gx:BigInt(\"0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66\"),Gy:BigInt(\"0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\")},oa=Ht(Xo.p),sa=Ht(Jo.p),ia=Ht(Qo.p),ca=Dn({...Xo,Fp:oa,lowS:!1},$e);Dn({...Jo,Fp:sa,lowS:!1},yc),Dn({...Qo,Fp:ia,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},bc);const fa=ca,Vn=\"base10\",rt=\"base16\",oe=\"base64pad\",Ge=\"base64url\",se=\"utf8\",Mn=0,ie=1,we=2,aa=0,ts=1,ve=12,Kn=32;function ua(){const t=kn.utils.randomPrivateKey(),e=kn.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}}function la(){const t=Mt(Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt)}function da(t,e){const n=kn.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,rt)),r=vf(Pe,n,void 0,void 0,Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,rt)}function ha(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function pa(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function qn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,Vn)}function Zt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,Vn))}function es(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function ns(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function ga(t){const e=qn(typeof t.type<\"u\"?t.type:Mn);if(Zt(e)===ie&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,rt):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,rt):Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),s=xo(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,se)),i=Fn({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ge?es(i):i}function ba(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),{sealed:n,iv:r}=ze({encoded:t.encoded,encoding:t.encoding}),o=xo(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,se)}function ya(t,e){const n=qn(we),r=Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se),s=Fn({type:n,sealed:o,iv:r});return e===Ge?es(s):s}function ma(t,e){const{sealed:n}=ze({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,se)}function Fn(t){if(Zt(t.type)===we)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),oe);if(Zt(t.type)===ie){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),oe)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),oe)}function ze(t){const e=(t.encoding||oe)===Ge?ns(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,oe),r=n.slice(aa,ts),o=ts;if(Zt(r)===ie){const f=o+Kn,u=f+ve,a=n.slice(o,f),l=n.slice(f,u),d=n.slice(u);return{type:r,sealed:d,iv:l,senderPublicKey:a}}if(Zt(r)===we){const f=n.slice(o),u=Mt(ve);return{type:r,sealed:f,iv:u}}const s=o+ve,i=n.slice(o,s),c=n.slice(s);return{type:r,sealed:c,iv:i}}function wa(t,e){const n=ze({encoded:t,encoding:e?.encoding});return rs({type:Zt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,rt):void 0,receiverPublicKey:e?.receiverPublicKey})}function rs(t){const e=t?.type||Mn;if(e===ie){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function va(t){return t.type===ie&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function xa(t){return t.type===we}function os(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function Ea(t,e){const[n,r,o]=t.split(\".\"),s=Buffer.from(ns(o),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const i=s.slice(0,32),c=s.slice(32,64),f=`${n}.${r}`,u=Pe(f),a=os(e);if(!fa.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([i,c]),u,a))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const ss=\"irn\";function Ba(t){return t?.relay||{protocol:ss}}function Aa(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ia=Object.defineProperty,Sa=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,cs=(t,e,n)=>e in t?Ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e)=>{for(var n in e||(e={}))Na.call(e,n)&&cs(t,n,e[n]);if(is)for(var n of is(e))Ua.call(e,n)&&cs(t,n,e[n]);return t},_a=(t,e)=>Sa(t,Oa(e));function fs(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,\"\"),i=t[o];n[s]=i}}),n}function Ra(t){if(!t.includes(\"wc:\")){const u=cn(t);u!=null&&u.includes(\"wc:\")&&(t=u)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",i=new URLSearchParams(s),c=Object.fromEntries(i.entries()),f=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:as(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:fs(c),methods:f,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function as(t){return t.startsWith(\"//\")?t.substring(2):t}function us(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const s=o,i=n+e+s;t[s]&&(r[i]=t[s])}),r}function $a(t){const e=new URLSearchParams,n=Zn(Zn(_a(Zn({},us(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(\",\")});return Object.entries(n).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!==void 0&&e.append(r,String(o))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Ta(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Ca=Object.defineProperty,ja=Object.defineProperties,La=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,ds=(t,e,n)=>e in t?Ca(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ha=(t,e)=>{for(var n in e||(e={}))ka.call(e,n)&&ds(t,n,e[n]);if(ls)for(var n of ls(e))Pa.call(e,n)&&ds(t,n,e[n]);return t},Da=(t,e)=>ja(t,La(e));function Gt(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function hs(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Gt(n.accounts))}),e}function ps(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.methods)}),n}function gs(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.events)}),n}function Va(t,e){const n=Ss(t,e);if(n)throw new Error(n.message);const r={};for(const[o,s]of Object.entries(t))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map(i=>`${i.split(\":\")[0]}:${i.split(\":\")[1]}`)};return r}function Ma(t){var e;const{proposal:{requiredNamespaces:n,optionalNamespaces:r={}},supportedNamespaces:o}=t,s=xe(n),i=xe(r),c={};Object.keys(o).forEach(a=>{const l=o[a].chains,d=o[a].methods,h=o[a].events,y=o[a].accounts;l.forEach(m=>{if(!y.some(v=>v.includes(m)))throw new Error(`No accounts provided for chain ${m} in namespace ${a}`)}),c[a]={chains:l,methods:d,events:h,accounts:y}});const f=Ns(n,c,\"approve()\");if(f)throw new Error(f.message);const u={};if(!Object.keys(n).length&&!Object.keys(r).length)return c;Object.keys(s).forEach(a=>{const l=o[a].chains.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.chains)==null?void 0:U.includes(m)}),d=o[a].methods.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.methods)==null?void 0:U.includes(m)}),h=o[a].events.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.events)==null?void 0:U.includes(m)}),y=l.map(m=>o[a].accounts.filter(v=>v.includes(`${m}:`))).flat();u[a]={chains:l,methods:d,events:h,accounts:y}}),Object.keys(i).forEach(a=>{var l,d,h,y,m,v;if(!o[a])return;const U=(d=(l=i[a])==null?void 0:l.chains)==null?void 0:d.filter(H=>o[a].chains.includes(H)),F=o[a].methods.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.methods)==null?void 0:L.includes(H)}),R=o[a].events.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.events)==null?void 0:L.includes(H)}),Z=U?.map(H=>o[a].accounts.filter(j=>j.includes(`${H}:`))).flat();u[a]={chains:ut((h=u[a])==null?void 0:h.chains,U),methods:ut((y=u[a])==null?void 0:y.methods,F),events:ut((m=u[a])==null?void 0:m.events,R),accounts:ut((v=u[a])==null?void 0:v.accounts,Z)}});for(const[a,l]of Object.entries(u))(l.accounts.length===0||((e=l?.chains)==null?void 0:e.length)===0)&&delete u[a];return u}function Gn(t){return t.includes(\":\")}function bs(t){return Gn(t)?t.split(\":\")[0]:t}function xe(t){var e,n,r;const o={};if(!Ye(t))return o;for(const[s,i]of Object.entries(t)){const c=Gn(s)?[s]:i.chains,f=i.methods||[],u=i.events||[],a=bs(s);o[a]=Da(Ha({},o[a]),{chains:ut(c,(e=o[a])==null?void 0:e.chains),methods:ut(f,(n=o[a])==null?void 0:n.methods),events:ut(u,(r=o[a])==null?void 0:r.events)})}return o}function ys(t){const e={};return t?.forEach(n=>{var r;const[o,s]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${s}`)}),e}function Ka(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=ys(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=ut(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}function qa(t,e){var n,r,o,s,i,c;const f=xe(t),u=xe(e),a={},l=Object.keys(f).concat(Object.keys(u));for(const d of l)a[d]={chains:ut((n=f[d])==null?void 0:n.chains,(r=u[d])==null?void 0:r.chains),methods:ut((o=f[d])==null?void 0:o.methods,(s=u[d])==null?void 0:s.methods),events:ut((i=f[d])==null?void 0:i.events,(c=u[d])==null?void 0:c.events)};return a}const ms={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},ws={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function Bt(t,e){const{message:n,code:r}=ws[t];return{message:e?`${n} ${e}`:n,code:r}}function zt(t,e){const{message:n,code:r}=ms[t];return{message:e?`${n} ${e}`:n,code:r}}function Ee(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function Ye(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Dt(t){return typeof t>\"u\"}function ft(t,e){return e&&Dt(t)?!0:typeof t==\"string\"&&!!t.trim().length}function We(t,e){return e&&Dt(t)?!0:typeof t==\"number\"&&!isNaN(t)}function Fa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let s=!0;return It(o,r)?(r.forEach(i=>{const{accounts:c,methods:f,events:u}=t.namespaces[i],a=Gt(c),l=n[i];(!It(Ie(i,l),a)||!It(l.methods,f)||!It(l.events,u))&&(s=!1)}),s):!1}function Be(t){return ft(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function vs(t){if(ft(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&Be(n)}}return!1}function Za(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(ft(t,!1)){if(e(t))return!0;const n=cn(t);return e(n)}}catch{}return!1}function Ga(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function za(t){return t?.topic}function Ya(t,e){let n=null;return ft(t?.publicKey,!1)||(n=Bt(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function zn(t){let e=!0;return Ee(t)?t.length&&(e=t.every(n=>ft(n,!1))):e=!1,e}function xs(t,e,n){let r=null;return Ee(e)&&e.length?e.forEach(o=>{r||Be(o)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):Be(t)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function Es(t,e,n){let r=null;return Object.entries(t).forEach(([o,s])=>{if(r)return;const i=xs(o,Ie(o,s),`${e} ${n}`);i&&(r=i)}),r}function Bs(t,e){let n=null;return Ee(t)?t.forEach(r=>{n||vs(r)||(n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function As(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Bs(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function Is(t,e){let n=null;return zn(t?.methods)?zn(t?.events)||(n=zt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=zt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function Yn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Is(r,`${e}, namespace`);o&&(n=o)}),n}function Wa(t,e,n){let r=null;if(t&&Ye(t)){const o=Yn(t,e);o&&(r=o);const s=Es(t,e,n);s&&(r=s)}else r=Bt(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function Ss(t,e){let n=null;if(t&&Ye(t)){const r=Yn(t,e);r&&(n=r);const o=As(t,e);o&&(n=o)}else n=Bt(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Os(t){return ft(t.protocol,!0)}function Xa(t,e){let n=!1;return e&&!t?n=!0:t&&Ee(t)&&t.length&&t.forEach(r=>{n=Os(r)}),n}function Ja(t){return typeof t==\"number\"}function Qa(t){return typeof t<\"u\"&&typeof t!==null}function tu(t){return!(!t||typeof t!=\"object\"||!t.code||!We(t.code,!1)||!t.message||!ft(t.message,!1))}function eu(t){return!(Dt(t)||!ft(t.method,!1))}function nu(t){return!(Dt(t)||Dt(t.result)&&Dt(t.error)||!We(t.id,!1)||!ft(t.jsonrpc,!1))}function ru(t){return!(Dt(t)||!ft(t.name,!1))}function ou(t,e){return!(!Be(e)||!hs(t).includes(e))}function su(t,e,n){return ft(n,!1)?ps(t,e).includes(n):!1}function iu(t,e,n){return ft(n,!1)?gs(t,e).includes(n):!1}function Ns(t,e,n){let r=null;const o=cu(t),s=fu(e),i=Object.keys(o),c=Object.keys(s),f=Us(Object.keys(t)),u=Us(Object.keys(e)),a=f.filter(l=>!u.includes(l));return a.length&&(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${a.toString()}\n      Received: ${Object.keys(e).toString()}`)),It(i,c)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${c.toString()}`)),Object.keys(e).forEach(l=>{if(!l.includes(\":\")||r)return;const d=Gt(e[l].accounts);d.includes(l)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${l}\n        Required: ${l}\n        Approved: ${d.toString()}`))}),i.forEach(l=>{r||(It(o[l].methods,s[l].methods)?It(o[l].events,s[l].events)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${l}`)):r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${l}`))}),r}function cu(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function Us(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function fu(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=Gt(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(s=>s.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function au(t,e){return We(t,!1)&&t<=e.max&&t>=e.min}function uu(){const t=Vt();return new Promise(e=>{switch(t){case et.browser:e(_s());break;case et.reactNative:e(Rs());break;case et.node:e($s());break;default:e(!0)}})}function _s(){return Wt()&&navigator?.onLine}async function Rs(){if(At()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function $s(){return!0}function lu(t){switch(Vt()){case et.browser:Ts(t);break;case et.reactNative:Cs(t);break;case et.node:break}}function Ts(t){!At()&&Wt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Cs(t){At()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function du(){var t;return Wt()&&(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()?((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())==null?void 0:t.visibilityState)===\"visible\":!0}const Wn={};class hu{static get(e){return Wn[e]}static set(e,n){Wn[e]=n}static delete(e){delete Wn[e]}}function js(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t);if(e.length<33)throw new Error(\"Too short to contain a public key\");return e.slice(1,33)}function Ls({publicKey:t,signature:e,payload:n}){var r;const o=Xn(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||\"4\"),i=gu(n.address),c=n.era===\"00\"?new Uint8Array([0]):Xn(n.era);if(c.length!==1&&c.length!==2)throw new Error(\"Invalid era length\");const f=parseInt(n.nonce,16),u=new Uint8Array([f&255,f>>8&255]),a=BigInt(`0x${pu(n.tip)}`),l=yu(a),d=new Uint8Array([0,...t,i,...e,...c,...u,...l,...o]),h=bu(d.length+1);return new Uint8Array([...h,s,...d])}function ks(t){const e=Xn(t),n=(0,blakejs__WEBPACK_IMPORTED_MODULE_7__.blake2b)(e,void 0,32);return\"0x\"+Buffer.from(n).toString(\"hex\")}function Xn(t){return new Uint8Array(t.replace(/^0x/,\"\").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function pu(t){return t.startsWith(\"0x\")?t.slice(2):t}function gu(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t)[0];return e===42?0:e===60?2:1}function bu(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error(\"Compact encoding > 2^30 not supported\")}function yu(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error(\"BigInt compact encoding not supported > 2^30\")}function mu(t){const e=Uint8Array.from(Buffer.from(t.signature,\"hex\")),n=js(t.transaction.address),r=Ls({publicKey:n,signature:e,payload:t.transaction}),o=Buffer.from(r).toString(\"hex\");return ks(o)}function wu({logger:t,name:e}){const n=typeof t==\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_8__.generatePlatformLogger)({opts:{level:t,name:e}}).logger:t;return n.level=typeof t==\"string\"?t:t.level,n}\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwdUIsYUFBYSxlQUFlLHVCQUF1QixPQUFPLHlCQUF5QixlQUFlLE1BQU0sd0JBQXdCLEdBQUcscUJBQXFCLGVBQWUseUJBQXlCLE9BQU8sbUNBQW1DLGVBQWUsTUFBTSxrQ0FBa0MsR0FBRyx1QkFBdUIsaUJBQWlCLFdBQVcscUJBQXFCLGFBQWEseUJBQXlCLElBQUksZUFBZSxNQUFNLFVBQVUsT0FBTyxTQUFTLGVBQWUsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLHdCQUF3QixFQUFFLGlCQUFpQixNQUFNLHdCQUF3QixPQUFPLFdBQVcsa0NBQWtDLEVBQUUsZUFBZSxnQkFBZ0IsZUFBZSxnQkFBZ0Isb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLHNCQUFzQixJQUFJLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSwwQkFBMEIsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsbUJBQW1CLElBQUksaUJBQWlCLHdDQUF3QyxtT0FBbU8sa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLHFFQUFxRSwyQkFBMkIsMkVBQTJFLDBDQUEwQyxjQUFjLGNBQWMsT0FBTyxhQUFhLE9BQU8sc0JBQXNCLE9B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c0JBQXNCLE1BQU0sMEJBQTBCLE1BQU0sb0JBQW9CLGVBQWUsd0dBQXdHLGVBQWUsOEdBQThHLGNBQWMsTUFBTSxhQUFhLDBFQUFFLE9BQU8sMEVBQUUsbURBQW1ELFlBQVksU0FBUyxjQUFjLGFBQWEsZ0JBQWdCLFFBQVEsaUJBQWlCLGNBQWMsZUFBZSxRQUFRLDRDQUFFLFdBQVcsb0VBQW9FLHFCQUFxQixhQUFhLGtDQUFrQyxFQUFFLE1BQU0saUpBQWlKLG9FQUFvRSw4RUFBOEUsVUFBVSxrRkFBa0YscUNBQXFDLGVBQWUsZ0JBQWdCLGdEQUFFLGNBQWMsV0FBVyxNQUFNLHlCQUF5QixlQUFlLG1EQUFtRCxJQUFJLDRCQUE0QixlQUFlLHVDQUF1QyxlQUFlLFFBQVEsNENBQUUsY0FBYywyQkFBMkIsZUFBZSxzQ0FBc0MsWUFBWSxlQUFlLHdDQUF3QyxpQkFBaUIsZUFBZSw0REFBNEQsOERBQThELGVBQWUsd0VBQXdFLDRCQUE0QiwrQkFBK0IsZ0ZBQWdGLGlDQUFpQywrQkFBK0Isb0pBQW9KLHFFQUFxRSxlQUFlLHdCQUF3QixNQUFNLDREQUE0RCw4Q0FBOEMsSUFBSSxNQUFNLHlCQUF5QixhQUFhLGFBQWEsZ0JBQWdCLEVBQUUsMkJBQTJCLDZFQUFFLEVBQUUsTUFBTSxnQkFBZ0IsV0FBVyw4Q0FBeTJKO0FBQ2hsUiIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtkZXRlY3QgYXMgUHN9ZnJvbVwiZGV0ZWN0LWJyb3dzZXJcIjtpbXBvcnR7dG9NaWxpc2Vjb25kcyBhcyBYZSxGSVZFX01JTlVURVMgYXMgZXIsZnJvbU1pbGlzZWNvbmRzIGFzIEhzfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgYWUsZ2V0TmF2aWdhdG9yIGFzIG5yLGdldExvY2F0aW9uIGFzIHJyfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7aW1wb3J0e2dldFdpbmRvd01ldGFkYXRhIGFzIERzfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YVwiO2ltcG9ydHtTaWduYXR1cmUgYXMgVnMsU2VjcDI1NmsxIGFzIE1zfWZyb21cIm94XCI7aW1wb3J0IHVlIGZyb21cImJzNThcIjtpbXBvcnR7ZGVjb2RlIGFzIEtzLGVuY29kZSBhcyBxc31mcm9tXCJAbXNncGFjay9tc2dwYWNrXCI7aW1wb3J0e2Jhc2UzMiBhcyBGc31mcm9tXCJAc2N1cmUvYmFzZVwiO2ltcG9ydHtkZWNvZGVKV1QgYXMgWnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHt0b1N0cmluZyBhcyBpdCxmcm9tU3RyaW5nIGFzIGF0LGNvbmNhdCBhcyBsZX1mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtSRUxBWV9KU09OUlBDIGFzIEdzfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWFwaVwiO2ltcG9ydHtibGFrZTJiIGFzIHpzfWZyb21cImJsYWtlanNcIjtpbXBvcnR7Z2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciBhcyBZc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtjb25zdCBBZT1cIjpcIjtmdW5jdGlvbiBKZSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn19ZnVuY3Rpb24gb3IodCl7Y29uc3R7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59PXQ7cmV0dXJuW2Usbl0uam9pbihBZSl9ZnVuY3Rpb24gUWUodCl7Y29uc3RbZSxuLHJdPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9fWZ1bmN0aW9uIHNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpuLGFkZHJlc3M6cn09dDtyZXR1cm5bZSxuLHJdLmpvaW4oQWUpfWZ1bmN0aW9uIHRuKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gdC5mb3JFYWNoKHI9Pntjb25zdCBvPWUocik7bi5pbmNsdWRlcyhvKXx8bi5wdXNoKG8pfSksbn1mdW5jdGlvbiBpcih0KXtjb25zdHthZGRyZXNzOmV9PVFlKHQpO3JldHVybiBlfWZ1bmN0aW9uIGNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpufT1RZSh0KTtyZXR1cm4gb3Ioe25hbWVzcGFjZTplLHJlZmVyZW5jZTpufSl9ZnVuY3Rpb24gV3ModCxlKXtjb25zdHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cn09SmUoZSk7cmV0dXJuIHNyKHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cixhZGRyZXNzOnR9KX1mdW5jdGlvbiBYcyh0KXtyZXR1cm4gdG4odCxpcil9ZnVuY3Rpb24gZnIodCl7cmV0dXJuIHRuKHQsY3IpfWZ1bmN0aW9uIEpzKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLm8uYWNjb3VudHMpfSksbn1mdW5jdGlvbiBRcyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5mcihvLmFjY291bnRzKSl9KSxufWZ1bmN0aW9uIHRpKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLkllKHIsbykpfSksbn1mdW5jdGlvbiBJZSh0LGUpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKT9bdF06ZS5jaGFpbnN8fFtdfXZhciBlaT1PYmplY3QuZGVmaW5lUHJvcGVydHksbmk9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMscmk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsYXI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxvaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHNpPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZW49KHQsZSxuKT0+ZSBpbiB0P2VpKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bix1cj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpb2kuY2FsbChlLG4pJiZlbih0LG4sZVtuXSk7aWYoYXIpZm9yKHZhciBuIG9mIGFyKGUpKXNpLmNhbGwoZSxuKSYmZW4odCxuLGVbbl0pO3JldHVybiB0fSxpaT0odCxlKT0+bmkodCxyaShlKSksbHI9KHQsZSxuKT0+ZW4odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxuKTtjb25zdCBkcj1cIlJlYWN0TmF0aXZlXCIsZXQ9e3JlYWN0TmF0aXZlOlwicmVhY3QtbmF0aXZlXCIsbm9kZTpcIm5vZGVcIixicm93c2VyOlwiYnJvd3NlclwiLHVua25vd246XCJ1bmtub3duXCJ9LFNlPVwiIFwiLGNpPVwiOlwiLGhyPVwiL1wiLG5uPTIsZmk9MWUzLHByPVwianNcIjtmdW5jdGlvbiBybigpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM8XCJ1XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU8XCJ1XCJ9ZnVuY3Rpb24gQXQoKXtyZXR1cm4hYWUoKSYmISFucigpJiZuYXZpZ2F0b3IucHJvZHVjdD09PWRyfWZ1bmN0aW9uIGFpKCl7cmV0dXJuIEF0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImFuZHJvaWRcIn1mdW5jdGlvbiB1aSgpe3JldHVybiBBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0pPFwidVwiJiYoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0uT1MpPT09XCJpb3NcIn1mdW5jdGlvbiBXdCgpe3JldHVybiFybigpJiYhIW5yKCkmJiEhYWUoKX1mdW5jdGlvbiBWdCgpe3JldHVybiBBdCgpP2V0LnJlYWN0TmF0aXZlOnJuKCk/ZXQubm9kZTpXdCgpP2V0LmJyb3dzZXI6ZXQudW5rbm93bn1mdW5jdGlvbiBsaSgpe3ZhciB0O3RyeXtyZXR1cm4gQXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkFwcGxpY2F0aW9uKTxcInVcIj8odD1nbG9iYWwuQXBwbGljYXRpb24pPT1udWxsP3ZvaWQgMDp0LmFwcGxpY2F0aW9uSWQ6dm9pZCAwfWNhdGNoe3JldHVybn19ZnVuY3Rpb24gZ3IodCxlKXtjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXModCk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPW51bGwmJm4uc2V0KHIsU3RyaW5nKG8pKX0pLG4udG9TdHJpbmcoKX1mdW5jdGlvbiBkaSh0KXt2YXIgZSxuO2NvbnN0IHI9YnIoKTt0cnl7cmV0dXJuIHQhPW51bGwmJnQudXJsJiZyLnVybCYmbmV3IFVSTCh0LnVybCkuaG9zdCE9PW5ldyBVUkwoci51cmwpLmhvc3QmJihjb25zb2xlLndhcm4oYFRoZSBjb25maWd1cmVkIFdhbGxldENvbm5lY3QgJ21ldGFkYXRhLnVybCc6JHt0LnVybH0gZGlmZmVycyBmcm9tIHRoZSBhY3R1YWwgcGFnZSB1cmw6JHtyLnVybH0uIFRoaXMgaXMgcHJvYmFibHkgdW5pbnRlbmRlZCBhbmQgY2FuIGxlYWQgdG8gaXNzdWVzLmApLHQudXJsPXIudXJsKSwoZT10Py5pY29ucykhPW51bGwmJmUubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wJiYodC5pY29ucz10Lmljb25zLmZpbHRlcihvPT5vIT09XCJcIikpLGlpKHVyKHVyKHt9LHIpLHQpLHt1cmw6dD8udXJsfHxyLnVybCxuYW1lOnQ/Lm5hbWV8fHIubmFtZSxkZXNjcmlwdGlvbjp0Py5kZXNjcmlwdGlvbnx8ci5kZXNjcmlwdGlvbixpY29uczoobj10Py5pY29ucykhPW51bGwmJm4ubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wP3QuaWNvbnM6ci5pY29uc30pfWNhdGNoKG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwb3B1bGF0aW5nIGFwcCBtZXRhZGF0YVwiLG8pLHR8fHJ9fWZ1bmN0aW9uIGJyKCl7cmV0dXJuIERzKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIGhpKHQsZSl7dmFyIG47Y29uc3Qgcj1WdCgpLG89e3Byb3RvY29sOnQsdmVyc2lvbjplLGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj1ycigpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24geXIoKXtpZihWdCgpPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCIpe2NvbnN0e09TOm4sVmVyc2lvbjpyfT1nbG9iYWwuUGxhdGZvcm07cmV0dXJuW24scl0uam9pbihcIi1cIil9Y29uc3QgdD1QcygpO2lmKHQ9PT1udWxsKXJldHVyblwidW5rbm93blwiO2NvbnN0IGU9dC5vcz90Lm9zLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKTpcInVua25vd25cIjtyZXR1cm4gdC50eXBlPT09XCJicm93c2VyXCI/W2UsdC5uYW1lLHQudmVyc2lvbl0uam9pbihcIi1cIik6W2UsdC52ZXJzaW9uXS5qb2luKFwiLVwiKX1mdW5jdGlvbiBtcigpe3ZhciB0O2NvbnN0IGU9VnQoKTtyZXR1cm4gZT09PWV0LmJyb3dzZXI/W2UsKCh0PXJyKCkpPT1udWxsP3ZvaWQgMDp0Lmhvc3QpfHxcInVua25vd25cIl0uam9pbihcIjpcIik6ZX1mdW5jdGlvbiB3cih0LGUsbil7Y29uc3Qgcj15cigpLG89bXIoKTtyZXR1cm5bW3QsZV0uam9pbihcIi1cIiksW3ByLG5dLmpvaW4oXCItXCIpLHIsb10uam9pbihcIi9cIil9ZnVuY3Rpb24gcGkoe3Byb3RvY29sOnQsdmVyc2lvbjplLHJlbGF5VXJsOm4sc2RrVmVyc2lvbjpyLGF1dGg6byxwcm9qZWN0SWQ6cyx1c2VPbkNsb3NlRXZlbnQ6aSxidW5kbGVJZDpjLHBhY2thZ2VOYW1lOmZ9KXtjb25zdCB1PW4uc3BsaXQoXCI/XCIpLGE9d3IodCxlLHIpLGw9e2F1dGg6byx1YTphLHByb2plY3RJZDpzLHVzZU9uQ2xvc2VFdmVudDppfHx2b2lkIDAscGFja2FnZU5hbWU6Znx8dm9pZCAwLGJ1bmRsZUlkOmN8fHZvaWQgMH0sZD1ncih1WzFdfHxcIlwiLGwpO3JldHVybiB1WzBdK1wiP1wiK2R9ZnVuY3Rpb24gZ2kodCl7bGV0IGU9KHQubWF0Y2goL15bXjpdKyg/PTpcXC9cXC8pL2dpKXx8W10pWzBdO2NvbnN0IG49dHlwZW9mIGU8XCJ1XCI/dC5zcGxpdChcIjovL1wiKVsxXTp0O3JldHVybiBlPWU9PT1cIndzc1wiP1wiaHR0cHNcIjpcImh0dHBcIixbZSxuXS5qb2luKFwiOi8vXCIpfWZ1bmN0aW9uIGJpKHQsZSxuKXtpZighdFtlXXx8dHlwZW9mIHRbZV0hPT1uKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvciBpbnZhbGlkIFwiJHtlfVwiIHBhcmFtYCl9ZnVuY3Rpb24gdnIodCxlPW5uKXtyZXR1cm4geHIodC5zcGxpdChociksZSl9ZnVuY3Rpb24geWkodCl7cmV0dXJuIHZyKHQpLmpvaW4oU2UpfWZ1bmN0aW9uIEl0KHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpLmxlbmd0aD09PXQubGVuZ3RofWZ1bmN0aW9uIHhyKHQsZT1ubil7cmV0dXJuIHQuc2xpY2UoTWF0aC5tYXgodC5sZW5ndGgtZSwwKSl9ZnVuY3Rpb24gbWkodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh0LmVudHJpZXMoKSl9ZnVuY3Rpb24gd2kodCl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmVudHJpZXModCkpfWZ1bmN0aW9uIHZpKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57bltyXT1lKHRbcl0pfSksbn1jb25zdCB4aT10PT50O2Z1bmN0aW9uIEVyKHQpe3JldHVybiB0LnRyaW0oKS5yZXBsYWNlKC9eXFx3LyxlPT5lLnRvVXBwZXJDYXNlKCkpfWZ1bmN0aW9uIEVpKHQpe3JldHVybiB0LnNwbGl0KFNlKS5tYXAoZT0+RXIoZSkpLmpvaW4oU2UpfWZ1bmN0aW9uIEJpKHQ9ZXIsZSl7Y29uc3Qgbj1YZSh0fHxlcik7bGV0IHIsbyxzLGk7cmV0dXJue3Jlc29sdmU6Yz0+e3MmJnImJihjbGVhclRpbWVvdXQocykscihjKSxpPVByb21pc2UucmVzb2x2ZShjKSl9LHJlamVjdDpjPT57cyYmbyYmKGNsZWFyVGltZW91dChzKSxvKGMpKX0sZG9uZTooKT0+bmV3IFByb21pc2UoKGMsZik9PntpZihpKXJldHVybiBjKGkpO3M9c2V0VGltZW91dCgoKT0+e2NvbnN0IHU9bmV3IEVycm9yKGUpO2k9UHJvbWlzZS5yZWplY3QodSksZih1KX0sbikscj1jLG89Zn0pfX1mdW5jdGlvbiBBaSh0LGUsbil7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsbyk9Pntjb25zdCBzPXNldFRpbWVvdXQoKCk9Pm8obmV3IEVycm9yKG4pKSxlKTt0cnl7Y29uc3QgaT1hd2FpdCB0O3IoaSl9Y2F0Y2goaSl7byhpKX1jbGVhclRpbWVvdXQocyl9KX1mdW5jdGlvbiBvbih0LGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiJiZlLnN0YXJ0c1dpdGgoYCR7dH06YCkpcmV0dXJuIGU7aWYodC50b0xvd2VyQ2FzZSgpPT09XCJ0b3BpY1wiKXtpZih0eXBlb2YgZSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJzdHJpbmdcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogdG9waWMnKTtyZXR1cm5gdG9waWM6JHtlfWB9ZWxzZSBpZih0LnRvTG93ZXJDYXNlKCk9PT1cImlkXCIpe2lmKHR5cGVvZiBlIT1cIm51bWJlclwiKXRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcIm51bWJlclwiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiBpZCcpO3JldHVybmBpZDoke2V9YH10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXhwaXJlciB0YXJnZXQgdHlwZTogJHt0fWApfWZ1bmN0aW9uIElpKHQpe3JldHVybiBvbihcInRvcGljXCIsdCl9ZnVuY3Rpb24gU2kodCl7cmV0dXJuIG9uKFwiaWRcIix0KX1mdW5jdGlvbiBPaSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoXCI6XCIpLHI9e2lkOnZvaWQgMCx0b3BpYzp2b2lkIDB9O2lmKGU9PT1cInRvcGljXCImJnR5cGVvZiBuPT1cInN0cmluZ1wiKXIudG9waWM9bjtlbHNlIGlmKGU9PT1cImlkXCImJk51bWJlci5pc0ludGVnZXIoTnVtYmVyKG4pKSlyLmlkPU51bWJlcihuKTtlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQsIGV4cGVjdGVkIGlkOm51bWJlciBvciB0b3BpYzpzdHJpbmcsIGdvdCAke2V9OiR7bn1gKTtyZXR1cm4gcn1mdW5jdGlvbiBOaSh0LGUpe3JldHVybiBIcygoZXx8RGF0ZS5ub3coKSkrWGUodCkpfWZ1bmN0aW9uIFVpKHQpe3JldHVybiBEYXRlLm5vdygpPj1YZSh0KX1mdW5jdGlvbiBfaSh0LGUpe3JldHVybmAke3R9JHtlP2A6JHtlfWA6XCJcIn1gfWZ1bmN0aW9uIHV0KHQ9W10sZT1bXSl7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLnQsLi4uZV0pXX1hc3luYyBmdW5jdGlvbiBSaSh7aWQ6dCx0b3BpYzplLHdjRGVlcExpbms6bn0pe3ZhciByO3RyeXtpZighbilyZXR1cm47Y29uc3Qgbz10eXBlb2Ygbj09XCJzdHJpbmdcIj9KU09OLnBhcnNlKG4pOm4scz1vPy5ocmVmO2lmKHR5cGVvZiBzIT1cInN0cmluZ1wiKXJldHVybjtjb25zdCBpPUJyKHMsdCxlKSxjPVZ0KCk7aWYoYz09PWV0LmJyb3dzZXIpe2lmKCEoKHI9YWUoKSkhPW51bGwmJnIuaGFzRm9jdXMoKSkpe2NvbnNvbGUud2FybihcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgZm9jdXMsIHNraXBwaW5nIGRlZXBsaW5rLlwiKTtyZXR1cm59QXIoaSl9ZWxzZSBjPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIiYmYXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChpKX1jYXRjaChvKXtjb25zb2xlLmVycm9yKG8pfX1mdW5jdGlvbiBCcih0LGUsbil7Y29uc3Qgcj1gcmVxdWVzdElkPSR7ZX0mc2Vzc2lvblRvcGljPSR7bn1gO3QuZW5kc1dpdGgoXCIvXCIpJiYodD10LnNsaWNlKDAsLTEpKTtsZXQgbz1gJHt0fWA7aWYodC5zdGFydHNXaXRoKFwiaHR0cHM6Ly90Lm1lXCIpKXtjb25zdCBzPXQuaW5jbHVkZXMoXCI/XCIpP1wiJnN0YXJ0YXBwPVwiOlwiP3N0YXJ0YXBwPVwiO289YCR7b30ke3N9JHtPcihyLCEwKX1gfWVsc2Ugbz1gJHtvfS93Yz8ke3J9YDtyZXR1cm4gb31mdW5jdGlvbiBBcih0KXtsZXQgZT1cIl9zZWxmXCI7U3IoKT9lPVwiX3RvcFwiOihJcigpfHx0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKXx8dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSkmJihlPVwiX2JsYW5rXCIpLHdpbmRvdy5vcGVuKHQsZSxcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIil9YXN5bmMgZnVuY3Rpb24gJGkodCxlKXtsZXQgbj1cIlwiO3RyeXtpZihXdCgpJiYobj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSxuKSlyZXR1cm4gbjtuPWF3YWl0IHQuZ2V0SXRlbShlKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIHNuKHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpfWZ1bmN0aW9uIFRpKHQsZSl7aWYoIXQuaW5jbHVkZXMoZSkpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnNwbGl0KC8oWyYsPyw9XSkvKSxyPW4uaW5kZXhPZihlKTtyZXR1cm4gbltyKzJdfWZ1bmN0aW9uIENpKCl7cmV0dXJuIHR5cGVvZiBjcnlwdG88XCJ1XCImJmNyeXB0byE9bnVsbCYmY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZ3UsdD0+e2NvbnN0IGU9TWF0aC5yYW5kb20oKSoxNnwwO3JldHVybih0PT09XCJ4XCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9ZnVuY3Rpb24gamkoKXtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52LklTX1ZJVEVTVD09PVwidHJ1ZVwifWZ1bmN0aW9uIElyKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCImJighIXdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eXx8ISF3aW5kb3cuVGVsZWdyYW18fCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pfWZ1bmN0aW9uIFNyKCl7dHJ5e3JldHVybiB3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3B9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIE9yKHQsZT0hMSl7Y29uc3Qgbj1CdWZmZXIuZnJvbSh0KS50b1N0cmluZyhcImJhc2U2NFwiKTtyZXR1cm4gZT9uLnJlcGxhY2UoL1s9XS9nLFwiXCIpOm59ZnVuY3Rpb24gY24odCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiBMaSh0KXtyZXR1cm4gbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLHQpKX1jbGFzcyBraXtjb25zdHJ1Y3Rvcih7bGltaXQ6ZX0pe2xyKHRoaXMsXCJsaW1pdFwiKSxscih0aGlzLFwic2V0XCIpLHRoaXMubGltaXQ9ZSx0aGlzLnNldD1uZXcgU2V0fWFkZChlKXtpZighdGhpcy5zZXQuaGFzKGUpKXtpZih0aGlzLnNldC5zaXplPj10aGlzLmxpbWl0KXtjb25zdCBuPXRoaXMuc2V0LnZhbHVlcygpLm5leHQoKS52YWx1ZTtuJiZ0aGlzLnNldC5kZWxldGUobil9dGhpcy5zZXQuYWRkKGUpfX1oYXMoZSl7cmV0dXJuIHRoaXMuc2V0LmhhcyhlKX19Y29uc3QgT2U9QmlnSW50KDIqKjMyLTEpLE5yPUJpZ0ludCgzMik7ZnVuY3Rpb24gVXIodCxlPSExKXtyZXR1cm4gZT97aDpOdW1iZXIodCZPZSksbDpOdW1iZXIodD4+TnImT2UpfTp7aDpOdW1iZXIodD4+TnImT2UpfDAsbDpOdW1iZXIodCZPZSl8MH19ZnVuY3Rpb24gX3IodCxlPSExKXtjb25zdCBuPXQubGVuZ3RoO2xldCByPW5ldyBVaW50MzJBcnJheShuKSxvPW5ldyBVaW50MzJBcnJheShuKTtmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdHtoOmksbDpjfT1Vcih0W3NdLGUpO1tyW3NdLG9bc11dPVtpLGNdfXJldHVybltyLG9dfWNvbnN0IFJyPSh0LGUsbik9PnQ+Pj5uLCRyPSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sU3Q9KHQsZSxuKT0+dD4+Pm58ZTw8MzItbixPdD0odCxlLG4pPT50PDwzMi1ufGU+Pj5uLGRlPSh0LGUsbik9PnQ8PDY0LW58ZT4+Pm4tMzIsaGU9KHQsZSxuKT0+dD4+Pm4tMzJ8ZTw8NjQtbixQaT0odCxlKT0+ZSxIaT0odCxlKT0+dCxEaT0odCxlLG4pPT50PDxufGU+Pj4zMi1uLFZpPSh0LGUsbik9PmU8PG58dD4+PjMyLW4sTWk9KHQsZSxuKT0+ZTw8bi0zMnx0Pj4+NjQtbixLaT0odCxlLG4pPT50PDxuLTMyfGU+Pj42NC1uO2Z1bmN0aW9uIGR0KHQsZSxuLHIpe2NvbnN0IG89KGU+Pj4wKSsocj4+PjApO3JldHVybntoOnQrbisoby8yKiozMnwwKXwwLGw6b3wwfX1jb25zdCBmbj0odCxlLG4pPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSxhbj0odCxlLG4scik9PmUrbityKyh0LzIqKjMyfDApfDAscWk9KHQsZSxuLHIpPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSsocj4+PjApLEZpPSh0LGUsbixyLG8pPT5lK24rcitvKyh0LzIqKjMyfDApfDAsWmk9KHQsZSxuLHIsbyk9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCkrKG8+Pj4wKSxHaT0odCxlLG4scixvLHMpPT5lK24rcitvK3MrKHQvMioqMzJ8MCl8MCxYdD10eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmXCJjcnlwdG9cImluIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5jcnlwdG86dm9pZCAwO2Z1bmN0aW9uIE5lKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBtdCh0KXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBnb3QgXCIrdCl9ZnVuY3Rpb24gaHQodCwuLi5lKXtpZighTmUodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gVWUodCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8dHlwZW9mIHQuY3JlYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy5jcmVhdGVIYXNoZXJcIik7bXQodC5vdXRwdXRMZW4pLG10KHQuYmxvY2tMZW4pfWZ1bmN0aW9uIE50KHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIHVuKHQsZSl7aHQodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWZ1bmN0aW9uIHBlKHQpe3JldHVybiBuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKX1mdW5jdGlvbiBsdCguLi50KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmZpbGwoMCl9ZnVuY3Rpb24gbG4odCl7cmV0dXJuIG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiB0PDwzMi1lfHQ+Pj5lfWNvbnN0IFRyPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2Z1bmN0aW9uIENyKHQpe3JldHVybiB0PDwyNCY0Mjc4MTkwMDgwfHQ8PDgmMTY3MTE2ODB8dD4+PjgmNjUyODB8dD4+PjI0JjI1NX1jb25zdCB3dD1Ucj90PT50OnQ9PkNyKHQpO2Z1bmN0aW9uIHppKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09Q3IodFtlXSk7cmV0dXJuIHR9Y29uc3QgVXQ9VHI/dD0+dDp6aSxqcj10eXBlb2YgVWludDhBcnJheS5mcm9tKFtdKS50b0hleD09XCJmdW5jdGlvblwiJiZ0eXBlb2YgVWludDhBcnJheS5mcm9tSGV4PT1cImZ1bmN0aW9uXCIsWWk9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKHQsZSk9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBKdCh0KXtpZihodCh0KSxqcilyZXR1cm4gdC50b0hleCgpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9WWlbdFtuXV07cmV0dXJuIGV9Y29uc3QgdnQ9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiBMcih0KXtpZih0Pj12dC5fMCYmdDw9dnQuXzkpcmV0dXJuIHQtdnQuXzA7aWYodD49dnQuQSYmdDw9dnQuRilyZXR1cm4gdC0odnQuQS0xMCk7aWYodD49dnQuYSYmdDw9dnQuZilyZXR1cm4gdC0odnQuYS0xMCl9ZnVuY3Rpb24gX2UodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtpZihqcilyZXR1cm4gVWludDhBcnJheS5mcm9tSGV4KHQpO2NvbnN0IGU9dC5sZW5ndGgsbj1lLzI7aWYoZSUyKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK2UpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCBvPTAscz0wO288bjtvKysscys9Mil7Y29uc3QgaT1Mcih0LmNoYXJDb2RlQXQocykpLGM9THIodC5jaGFyQ29kZUF0KHMrMSkpO2lmKGk9PT12b2lkIDB8fGM9PT12b2lkIDApe2NvbnN0IGY9dFtzXSt0W3MrMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK2YrJ1wiIGF0IGluZGV4ICcrcyl9cltvXT1pKjE2K2N9cmV0dXJuIHJ9ZnVuY3Rpb24ga3IodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9a3IodCkpLGh0KHQpLHR9ZnVuY3Rpb24gX3QoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO2h0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBzPXRbcl07bi5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gbn1jbGFzcyBSZXt9ZnVuY3Rpb24gZ2UodCl7Y29uc3QgZT1yPT50KCkudXBkYXRlKHB0KHIpKS5kaWdlc3QoKSxuPXQoKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPSgpPT50KCksZX1mdW5jdGlvbiBXaSh0KXtjb25zdCBlPShyLG8pPT50KG8pLnVwZGF0ZShwdChyKSkuZGlnZXN0KCksbj10KHt9KTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1mdW5jdGlvbiBNdCh0PTMyKXtpZihYdCYmdHlwZW9mIFh0LmdldFJhbmRvbVZhbHVlcz09XCJmdW5jdGlvblwiKXJldHVybiBYdC5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO2lmKFh0JiZ0eXBlb2YgWHQucmFuZG9tQnl0ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gVWludDhBcnJheS5mcm9tKFh0LnJhbmRvbUJ5dGVzKHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1jb25zdCBYaT1CaWdJbnQoMCksYmU9QmlnSW50KDEpLEppPUJpZ0ludCgyKSxRaT1CaWdJbnQoNyksdGM9QmlnSW50KDI1NiksZWM9QmlnSW50KDExMyksUHI9W10sSHI9W10sRHI9W107Zm9yKGxldCB0PTAsZT1iZSxuPTEscj0wO3Q8MjQ7dCsrKXtbbixyXT1bciwoMipuKzMqciklNV0sUHIucHVzaCgyKig1KnIrbikpLEhyLnB1c2goKHQrMSkqKHQrMikvMiU2NCk7bGV0IG89WGk7Zm9yKGxldCBzPTA7czw3O3MrKyllPShlPDxiZV4oZT4+UWkpKmVjKSV0YyxlJkppJiYob149YmU8PChiZTw8QmlnSW50KHMpKS1iZSk7RHIucHVzaChvKX1jb25zdCBWcj1fcihEciwhMCksbmM9VnJbMF0scmM9VnJbMV0sTXI9KHQsZSxuKT0+bj4zMj9NaSh0LGUsbik6RGkodCxlLG4pLEtyPSh0LGUsbik9Pm4+MzI/S2kodCxlLG4pOlZpKHQsZSxuKTtmdW5jdGlvbiBvYyh0LGU9MjQpe2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KDEwKTtmb3IobGV0IHI9MjQtZTtyPDI0O3IrKyl7Zm9yKGxldCBpPTA7aTwxMDtpKyspbltpXT10W2ldXnRbaSsxMF1edFtpKzIwXV50W2krMzBdXnRbaSs0MF07Zm9yKGxldCBpPTA7aTwxMDtpKz0yKXtjb25zdCBjPShpKzgpJTEwLGY9KGkrMiklMTAsdT1uW2ZdLGE9bltmKzFdLGw9TXIodSxhLDEpXm5bY10sZD1Lcih1LGEsMSlebltjKzFdO2ZvcihsZXQgaD0wO2g8NTA7aCs9MTApdFtpK2hdXj1sLHRbaStoKzFdXj1kfWxldCBvPXRbMl0scz10WzNdO2ZvcihsZXQgaT0wO2k8MjQ7aSsrKXtjb25zdCBjPUhyW2ldLGY9TXIobyxzLGMpLHU9S3IobyxzLGMpLGE9UHJbaV07bz10W2FdLHM9dFthKzFdLHRbYV09Zix0W2ErMV09dX1mb3IobGV0IGk9MDtpPDUwO2krPTEwKXtmb3IobGV0IGM9MDtjPDEwO2MrKyluW2NdPXRbaStjXTtmb3IobGV0IGM9MDtjPDEwO2MrKyl0W2krY11ePX5uWyhjKzIpJTEwXSZuWyhjKzQpJTEwXX10WzBdXj1uY1tyXSx0WzFdXj1yY1tyXX1sdChuKX1jbGFzcyBKbiBleHRlbmRzIFJle2NvbnN0cnVjdG9yKGUsbixyLG89ITEscz0yNCl7aWYoc3VwZXIoKSx0aGlzLnBvcz0wLHRoaXMucG9zT3V0PTAsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmVuYWJsZVhPRj0hMSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5zdWZmaXg9bix0aGlzLm91dHB1dExlbj1yLHRoaXMuZW5hYmxlWE9GPW8sdGhpcy5yb3VuZHM9cyxtdChyKSwhKDA8ZSYmZTwyMDApKXRocm93IG5ldyBFcnJvcihcIm9ubHkga2VjY2FrLWYxNjAwIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZFwiKTt0aGlzLnN0YXRlPW5ldyBVaW50OEFycmF5KDIwMCksdGhpcy5zdGF0ZTMyPXBlKHRoaXMuc3RhdGUpfWNsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfWtlY2Nhaygpe1V0KHRoaXMuc3RhdGUzMiksb2ModGhpcy5zdGF0ZTMyLHRoaXMucm91bmRzKSxVdCh0aGlzLnN0YXRlMzIpLHRoaXMucG9zT3V0PTAsdGhpcy5wb3M9MH11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHtibG9ja0xlbjpuLHN0YXRlOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKG4tdGhpcy5wb3Msby1zKTtmb3IobGV0IGM9MDtjPGk7YysrKXJbdGhpcy5wb3MrK11ePWVbcysrXTt0aGlzLnBvcz09PW4mJnRoaXMua2VjY2FrKCl9cmV0dXJuIHRoaXN9ZmluaXNoKCl7aWYodGhpcy5maW5pc2hlZClyZXR1cm47dGhpcy5maW5pc2hlZD0hMDtjb25zdHtzdGF0ZTplLHN1ZmZpeDpuLHBvczpyLGJsb2NrTGVuOm99PXRoaXM7ZVtyXV49biwobiYxMjgpIT09MCYmcj09PW8tMSYmdGhpcy5rZWNjYWsoKSxlW28tMV1ePTEyOCx0aGlzLmtlY2NhaygpfXdyaXRlSW50byhlKXtOdCh0aGlzLCExKSxodChlKSx0aGlzLmZpbmlzaCgpO2NvbnN0IG49dGhpcy5zdGF0ZSx7YmxvY2tMZW46cn09dGhpcztmb3IobGV0IG89MCxzPWUubGVuZ3RoO288czspe3RoaXMucG9zT3V0Pj1yJiZ0aGlzLmtlY2NhaygpO2NvbnN0IGk9TWF0aC5taW4oci10aGlzLnBvc091dCxzLW8pO2Uuc2V0KG4uc3ViYXJyYXkodGhpcy5wb3NPdXQsdGhpcy5wb3NPdXQraSksbyksdGhpcy5wb3NPdXQrPWksbys9aX1yZXR1cm4gZX14b2ZJbnRvKGUpe2lmKCF0aGlzLmVuYWJsZVhPRil0aHJvdyBuZXcgRXJyb3IoXCJYT0YgaXMgbm90IHBvc3NpYmxlIGZvciB0aGlzIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKX14b2YoZSl7cmV0dXJuIG10KGUpLHRoaXMueG9mSW50byhuZXcgVWludDhBcnJheShlKSl9ZGlnZXN0SW50byhlKXtpZih1bihlLHRoaXMpLHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0KCkgd2FzIGFscmVhZHkgY2FsbGVkXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKSx0aGlzLmRlc3Ryb3koKSxlfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdEludG8obmV3IFVpbnQ4QXJyYXkodGhpcy5vdXRwdXRMZW4pKX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsbHQodGhpcy5zdGF0ZSl9X2Nsb25lSW50byhlKXtjb25zdHtibG9ja0xlbjpuLHN1ZmZpeDpyLG91dHB1dExlbjpvLHJvdW5kczpzLGVuYWJsZVhPRjppfT10aGlzO3JldHVybiBlfHwoZT1uZXcgSm4obixyLG8saSxzKSksZS5zdGF0ZTMyLnNldCh0aGlzLnN0YXRlMzIpLGUucG9zPXRoaXMucG9zLGUucG9zT3V0PXRoaXMucG9zT3V0LGUuZmluaXNoZWQ9dGhpcy5maW5pc2hlZCxlLnJvdW5kcz1zLGUuc3VmZml4PXIsZS5vdXRwdXRMZW49byxlLmVuYWJsZVhPRj1pLGUuZGVzdHJveWVkPXRoaXMuZGVzdHJveWVkLGV9fWNvbnN0IHNjPSh0LGUsbik9PmdlKCgpPT5uZXcgSm4oZSx0LG4pKSxpYz1zYygxLDEzNiwyNTYvOCk7ZnVuY3Rpb24gY2ModCxlLG4scil7aWYodHlwZW9mIHQuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQuc2V0QmlnVWludDY0KGUsbixyKTtjb25zdCBvPUJpZ0ludCgzMikscz1CaWdJbnQoNDI5NDk2NzI5NSksaT1OdW1iZXIobj4+byZzKSxjPU51bWJlcihuJnMpLGY9cj80OjAsdT1yPzA6NDt0LnNldFVpbnQzMihlK2YsaSxyKSx0LnNldFVpbnQzMihlK3UsYyxyKX1mdW5jdGlvbiBmYyh0LGUsbil7cmV0dXJuIHQmZV5+dCZufWZ1bmN0aW9uIGFjKHQsZSxuKXtyZXR1cm4gdCZlXnQmbl5lJm59Y2xhc3MgcXIgZXh0ZW5kcyBSZXtjb25zdHJ1Y3RvcihlLG4scixvKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMucGFkT2Zmc2V0PXIsdGhpcy5pc0xFPW8sdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PWxuKHRoaXMuYnVmZmVyKX11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHt2aWV3Om4sYnVmZmVyOnIsYmxvY2tMZW46b309dGhpcyxzPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8czspe2NvbnN0IGM9TWF0aC5taW4oby10aGlzLnBvcyxzLWkpO2lmKGM9PT1vKXtjb25zdCBmPWxuKGUpO2Zvcig7bzw9cy1pO2krPW8pdGhpcy5wcm9jZXNzKGYsaSk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShpLGkrYyksdGhpcy5wb3MpLHRoaXMucG9zKz1jLGkrPWMsdGhpcy5wb3M9PT1vJiYodGhpcy5wcm9jZXNzKG4sMCksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksdW4oZSx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLHZpZXc6cixibG9ja0xlbjpvLGlzTEU6c309dGhpcztsZXR7cG9zOml9PXRoaXM7bltpKytdPTEyOCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShpKSksdGhpcy5wYWRPZmZzZXQ+by1pJiYodGhpcy5wcm9jZXNzKHIsMCksaT0wKTtmb3IobGV0IGw9aTtsPG87bCsrKW5bbF09MDtjYyhyLG8tOCxCaWdJbnQodGhpcy5sZW5ndGgqOCkscyksdGhpcy5wcm9jZXNzKHIsMCk7Y29uc3QgYz1sbihlKSxmPXRoaXMub3V0cHV0TGVuO2lmKGYlNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IHU9Zi80LGE9dGhpcy5nZXQoKTtpZih1PmEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBsPTA7bDx1O2wrKyljLnNldFVpbnQzMig0KmwsYVtsXSxzKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixsZW5ndGg6byxmaW5pc2hlZDpzLGRlc3Ryb3llZDppLHBvczpjfT10aGlzO3JldHVybiBlLmRlc3Ryb3llZD1pLGUuZmluaXNoZWQ9cyxlLmxlbmd0aD1vLGUucG9zPWMsbyVuJiZlLmJ1ZmZlci5zZXQociksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y29uc3QgUnQ9VWludDMyQXJyYXkuZnJvbShbMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdKSxYPVVpbnQzMkFycmF5LmZyb20oWzM0MTgwNzAzNjUsMzIzODM3MTAzMiwxNjU0MjcwMjUwLDkxNDE1MDY2MywyNDM4NTI5MzcwLDgxMjcwMjk5OSwzNTU0NjIzNjAsNDE0NDkxMjY5NywxNzMxNDA1NDE1LDQyOTA3NzU4NTcsMjM5NDE4MDIzMSwxNzUwNjAzMDI1LDM2NzUwMDg1MjUsMTY5NDA3NjgzOSwxMjAzMDYyODEzLDMyMDQwNzU0MjhdKSxKPVVpbnQzMkFycmF5LmZyb20oWzE3NzkwMzM3MDMsNDA4OTIzNTcyMCwzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUsMTAxMzkwNDI0Miw0MjcxMTc1NzIzLDI3NzM0ODA3NjIsMTU5NTc1MDEyOSwxMzU5ODkzMTE5LDI5MTc1NjUxMzcsMjYwMDgyMjkyNCw3MjU1MTExOTksNTI4NzM0NjM1LDQyMTUzODk1NDcsMTU0MTQ1OTIyNSwzMjcwMzMyMDldKSx1Yz1VaW50MzJBcnJheS5mcm9tKFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSwkdD1uZXcgVWludDMyQXJyYXkoNjQpO2NsYXNzIGxjIGV4dGVuZHMgcXJ7Y29uc3RydWN0b3IoZT0zMil7c3VwZXIoNjQsZSw4LCExKSx0aGlzLkE9UnRbMF18MCx0aGlzLkI9UnRbMV18MCx0aGlzLkM9UnRbMl18MCx0aGlzLkQ9UnRbM118MCx0aGlzLkU9UnRbNF18MCx0aGlzLkY9UnRbNV18MCx0aGlzLkc9UnRbNl18MCx0aGlzLkg9UnRbN118MH1nZXQoKXtjb25zdHtBOmUsQjpuLEM6cixEOm8sRTpzLEY6aSxHOmMsSDpmfT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGZdfXNldChlLG4scixvLHMsaSxjLGYpe3RoaXMuQT1lfDAsdGhpcy5CPW58MCx0aGlzLkM9cnwwLHRoaXMuRD1vfDAsdGhpcy5FPXN8MCx0aGlzLkY9aXwwLHRoaXMuRz1jfDAsdGhpcy5IPWZ8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBsPTA7bDwxNjtsKyssbis9NCkkdFtsXT1lLmdldFVpbnQzMihuLCExKTtmb3IobGV0IGw9MTY7bDw2NDtsKyspe2NvbnN0IGQ9JHRbbC0xNV0saD0kdFtsLTJdLHk9YnQoZCw3KV5idChkLDE4KV5kPj4+MyxtPWJ0KGgsMTcpXmJ0KGgsMTkpXmg+Pj4xMDskdFtsXT1tKyR0W2wtN10reSskdFtsLTE2XXwwfWxldHtBOnIsQjpvLEM6cyxEOmksRTpjLEY6ZixHOnUsSDphfT10aGlzO2ZvcihsZXQgbD0wO2w8NjQ7bCsrKXtjb25zdCBkPWJ0KGMsNileYnQoYywxMSleYnQoYywyNSksaD1hK2QrZmMoYyxmLHUpK3VjW2xdKyR0W2xdfDAsbT0oYnQociwyKV5idChyLDEzKV5idChyLDIyKSkrYWMocixvLHMpfDA7YT11LHU9ZixmPWMsYz1pK2h8MCxpPXMscz1vLG89cixyPWgrbXwwfXI9cit0aGlzLkF8MCxvPW8rdGhpcy5CfDAscz1zK3RoaXMuQ3wwLGk9aSt0aGlzLkR8MCxjPWMrdGhpcy5FfDAsZj1mK3RoaXMuRnwwLHU9dSt0aGlzLkd8MCxhPWErdGhpcy5IfDAsdGhpcy5zZXQocixvLHMsaSxjLGYsdSxhKX1yb3VuZENsZWFuKCl7bHQoJHQpfWRlc3Ryb3koKXt0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDApLGx0KHRoaXMuYnVmZmVyKX19Y29uc3QgRnI9X3IoW1wiMHg0MjhhMmY5OGQ3MjhhZTIyXCIsXCIweDcxMzc0NDkxMjNlZjY1Y2RcIixcIjB4YjVjMGZiY2ZlYzRkM2IyZlwiLFwiMHhlOWI1ZGJhNTgxODlkYmJjXCIsXCIweDM5NTZjMjViZjM0OGI1MzhcIixcIjB4NTlmMTExZjFiNjA1ZDAxOVwiLFwiMHg5MjNmODJhNGFmMTk0ZjliXCIsXCIweGFiMWM1ZWQ1ZGE2ZDgxMThcIixcIjB4ZDgwN2FhOThhMzAzMDI0MlwiLFwiMHgxMjgzNWIwMTQ1NzA2ZmJlXCIsXCIweDI0MzE4NWJlNGVlNGIyOGNcIixcIjB4NTUwYzdkYzNkNWZmYjRlMlwiLFwiMHg3MmJlNWQ3NGYyN2I4OTZmXCIsXCIweDgwZGViMWZlM2IxNjk2YjFcIixcIjB4OWJkYzA2YTcyNWM3MTIzNVwiLFwiMHhjMTliZjE3NGNmNjkyNjk0XCIsXCIweGU0OWI2OWMxOWVmMTRhZDJcIixcIjB4ZWZiZTQ3ODYzODRmMjVlM1wiLFwiMHgwZmMxOWRjNjhiOGNkNWI1XCIsXCIweDI0MGNhMWNjNzdhYzljNjVcIixcIjB4MmRlOTJjNmY1OTJiMDI3NVwiLFwiMHg0YTc0ODRhYTZlYTZlNDgzXCIsXCIweDVjYjBhOWRjYmQ0MWZiZDRcIixcIjB4NzZmOTg4ZGE4MzExNTNiNVwiLFwiMHg5ODNlNTE1MmVlNjZkZmFiXCIsXCIweGE4MzFjNjZkMmRiNDMyMTBcIixcIjB4YjAwMzI3Yzg5OGZiMjEzZlwiLFwiMHhiZjU5N2ZjN2JlZWYwZWU0XCIsXCIweGM2ZTAwYmYzM2RhODhmYzJcIixcIjB4ZDVhNzkxNDc5MzBhYTcyNVwiLFwiMHgwNmNhNjM1MWUwMDM4MjZmXCIsXCIweDE0MjkyOTY3MGEwZTZlNzBcIixcIjB4MjdiNzBhODU0NmQyMmZmY1wiLFwiMHgyZTFiMjEzODVjMjZjOTI2XCIsXCIweDRkMmM2ZGZjNWFjNDJhZWRcIixcIjB4NTMzODBkMTM5ZDk1YjNkZlwiLFwiMHg2NTBhNzM1NDhiYWY2M2RlXCIsXCIweDc2NmEwYWJiM2M3N2IyYThcIixcIjB4ODFjMmM5MmU0N2VkYWVlNlwiLFwiMHg5MjcyMmM4NTE0ODIzNTNiXCIsXCIweGEyYmZlOGExNGNmMTAzNjRcIixcIjB4YTgxYTY2NGJiYzQyMzAwMVwiLFwiMHhjMjRiOGI3MGQwZjg5NzkxXCIsXCIweGM3NmM1MWEzMDY1NGJlMzBcIixcIjB4ZDE5MmU4MTlkNmVmNTIxOFwiLFwiMHhkNjk5MDYyNDU1NjVhOTEwXCIsXCIweGY0MGUzNTg1NTc3MTIwMmFcIixcIjB4MTA2YWEwNzAzMmJiZDFiOFwiLFwiMHgxOWE0YzExNmI4ZDJkMGM4XCIsXCIweDFlMzc2YzA4NTE0MWFiNTNcIixcIjB4Mjc0ODc3NGNkZjhlZWI5OVwiLFwiMHgzNGIwYmNiNWUxOWI0OGE4XCIsXCIweDM5MWMwY2IzYzVjOTVhNjNcIixcIjB4NGVkOGFhNGFlMzQxOGFjYlwiLFwiMHg1YjljY2E0Zjc3NjNlMzczXCIsXCIweDY4MmU2ZmYzZDZiMmI4YTNcIixcIjB4NzQ4ZjgyZWU1ZGVmYjJmY1wiLFwiMHg3OGE1NjM2ZjQzMTcyZjYwXCIsXCIweDg0Yzg3ODE0YTFmMGFiNzJcIixcIjB4OGNjNzAyMDgxYTY0MzllY1wiLFwiMHg5MGJlZmZmYTIzNjMxZTI4XCIsXCIweGE0NTA2Y2ViZGU4MmJkZTlcIixcIjB4YmVmOWEzZjdiMmM2NzkxNVwiLFwiMHhjNjcxNzhmMmUzNzI1MzJiXCIsXCIweGNhMjczZWNlZWEyNjYxOWNcIixcIjB4ZDE4NmI4YzcyMWMwYzIwN1wiLFwiMHhlYWRhN2RkNmNkZTBlYjFlXCIsXCIweGY1N2Q0ZjdmZWU2ZWQxNzhcIixcIjB4MDZmMDY3YWE3MjE3NmZiYVwiLFwiMHgwYTYzN2RjNWEyYzg5OGE2XCIsXCIweDExM2Y5ODA0YmVmOTBkYWVcIixcIjB4MWI3MTBiMzUxMzFjNDcxYlwiLFwiMHgyOGRiNzdmNTIzMDQ3ZDg0XCIsXCIweDMyY2FhYjdiNDBjNzI0OTNcIixcIjB4M2M5ZWJlMGExNWM5YmViY1wiLFwiMHg0MzFkNjdjNDljMTAwZDRjXCIsXCIweDRjYzVkNGJlY2IzZTQyYjZcIixcIjB4NTk3ZjI5OWNmYzY1N2UyYVwiLFwiMHg1ZmNiNmZhYjNhZDZmYWVjXCIsXCIweDZjNDQxOThjNGE0NzU4MTdcIl0ubWFwKHQ9PkJpZ0ludCh0KSkpLGRjPUZyWzBdLGhjPUZyWzFdLFR0PW5ldyBVaW50MzJBcnJheSg4MCksQ3Q9bmV3IFVpbnQzMkFycmF5KDgwKTtjbGFzcyBkbiBleHRlbmRzIHFye2NvbnN0cnVjdG9yKGU9NjQpe3N1cGVyKDEyOCxlLDE2LCExKSx0aGlzLkFoPUpbMF18MCx0aGlzLkFsPUpbMV18MCx0aGlzLkJoPUpbMl18MCx0aGlzLkJsPUpbM118MCx0aGlzLkNoPUpbNF18MCx0aGlzLkNsPUpbNV18MCx0aGlzLkRoPUpbNl18MCx0aGlzLkRsPUpbN118MCx0aGlzLkVoPUpbOF18MCx0aGlzLkVsPUpbOV18MCx0aGlzLkZoPUpbMTBdfDAsdGhpcy5GbD1KWzExXXwwLHRoaXMuR2g9SlsxMl18MCx0aGlzLkdsPUpbMTNdfDAsdGhpcy5IaD1KWzE0XXwwLHRoaXMuSGw9SlsxNV18MH1nZXQoKXtjb25zdHtBaDplLEFsOm4sQmg6cixCbDpvLENoOnMsQ2w6aSxEaDpjLERsOmYsRWg6dSxFbDphLEZoOmwsRmw6ZCxHaDpoLEdsOnksSGg6bSxIbDp2fT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGYsdSxhLGwsZCxoLHksbSx2XX1zZXQoZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdil7dGhpcy5BaD1lfDAsdGhpcy5BbD1ufDAsdGhpcy5CaD1yfDAsdGhpcy5CbD1vfDAsdGhpcy5DaD1zfDAsdGhpcy5DbD1pfDAsdGhpcy5EaD1jfDAsdGhpcy5EbD1mfDAsdGhpcy5FaD11fDAsdGhpcy5FbD1hfDAsdGhpcy5GaD1sfDAsdGhpcy5GbD1kfDAsdGhpcy5HaD1ofDAsdGhpcy5HbD15fDAsdGhpcy5IaD1tfDAsdGhpcy5IbD12fDB9cHJvY2VzcyhlLG4pe2ZvcihsZXQgUj0wO1I8MTY7UisrLG4rPTQpVHRbUl09ZS5nZXRVaW50MzIobiksQ3RbUl09ZS5nZXRVaW50MzIobis9NCk7Zm9yKGxldCBSPTE2O1I8ODA7UisrKXtjb25zdCBaPVR0W1ItMTVdfDAsSD1DdFtSLTE1XXwwLGo9U3QoWixILDEpXlN0KFosSCw4KV5ScihaLEgsNyksTD1PdChaLEgsMSleT3QoWixILDgpXiRyKFosSCw3KSxrPVR0W1ItMl18MCxPPUN0W1ItMl18MCxUPVN0KGssTywxOSleZGUoayxPLDYxKV5ScihrLE8sNiksQz1PdChrLE8sMTkpXmhlKGssTyw2MSleJHIoayxPLDYpLF89cWkoTCxDLEN0W1ItN10sQ3RbUi0xNl0pLHA9RmkoXyxqLFQsVHRbUi03XSxUdFtSLTE2XSk7VHRbUl09cHwwLEN0W1JdPV98MH1sZXR7QWg6cixBbDpvLEJoOnMsQmw6aSxDaDpjLENsOmYsRGg6dSxEbDphLEVoOmwsRWw6ZCxGaDpoLEZsOnksR2g6bSxHbDp2LEhoOlUsSGw6Rn09dGhpcztmb3IobGV0IFI9MDtSPDgwO1IrKyl7Y29uc3QgWj1TdChsLGQsMTQpXlN0KGwsZCwxOCleZGUobCxkLDQxKSxIPU90KGwsZCwxNCleT3QobCxkLDE4KV5oZShsLGQsNDEpLGo9bCZoXn5sJm0sTD1kJnlefmQmdixrPVppKEYsSCxMLGhjW1JdLEN0W1JdKSxPPUdpKGssVSxaLGosZGNbUl0sVHRbUl0pLFQ9a3wwLEM9U3QocixvLDI4KV5kZShyLG8sMzQpXmRlKHIsbywzOSksXz1PdChyLG8sMjgpXmhlKHIsbywzNCleaGUocixvLDM5KSxwPXImc15yJmNecyZjLGI9byZpXm8mZl5pJmY7VT1tfDAsRj12fDAsbT1ofDAsdj15fDAsaD1sfDAseT1kfDAse2g6bCxsOmR9PWR0KHV8MCxhfDAsT3wwLFR8MCksdT1jfDAsYT1mfDAsYz1zfDAsZj1pfDAscz1yfDAsaT1vfDA7Y29uc3QgZz1mbihULF8sYik7cj1hbihnLE8sQyxwKSxvPWd8MH0oe2g6cixsOm99PWR0KHRoaXMuQWh8MCx0aGlzLkFsfDAscnwwLG98MCkpLHtoOnMsbDppfT1kdCh0aGlzLkJofDAsdGhpcy5CbHwwLHN8MCxpfDApLHtoOmMsbDpmfT1kdCh0aGlzLkNofDAsdGhpcy5DbHwwLGN8MCxmfDApLHtoOnUsbDphfT1kdCh0aGlzLkRofDAsdGhpcy5EbHwwLHV8MCxhfDApLHtoOmwsbDpkfT1kdCh0aGlzLkVofDAsdGhpcy5FbHwwLGx8MCxkfDApLHtoLGw6eX09ZHQodGhpcy5GaHwwLHRoaXMuRmx8MCxofDAseXwwKSx7aDptLGw6dn09ZHQodGhpcy5HaHwwLHRoaXMuR2x8MCxtfDAsdnwwKSx7aDpVLGw6Rn09ZHQodGhpcy5IaHwwLHRoaXMuSGx8MCxVfDAsRnwwKSx0aGlzLnNldChyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYsVSxGKX1yb3VuZENsZWFuKCl7bHQoVHQsQ3QpfWRlc3Ryb3koKXtsdCh0aGlzLmJ1ZmZlciksdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCl9fWNsYXNzIHBjIGV4dGVuZHMgZG57Y29uc3RydWN0b3IoKXtzdXBlcig0OCksdGhpcy5BaD1YWzBdfDAsdGhpcy5BbD1YWzFdfDAsdGhpcy5CaD1YWzJdfDAsdGhpcy5CbD1YWzNdfDAsdGhpcy5DaD1YWzRdfDAsdGhpcy5DbD1YWzVdfDAsdGhpcy5EaD1YWzZdfDAsdGhpcy5EbD1YWzddfDAsdGhpcy5FaD1YWzhdfDAsdGhpcy5FbD1YWzldfDAsdGhpcy5GaD1YWzEwXXwwLHRoaXMuRmw9WFsxMV18MCx0aGlzLkdoPVhbMTJdfDAsdGhpcy5HbD1YWzEzXXwwLHRoaXMuSGg9WFsxNF18MCx0aGlzLkhsPVhbMTVdfDB9fWNvbnN0IFE9VWludDMyQXJyYXkuZnJvbShbNTczNjQ1MjA0LDQyMzA3Mzk3NTYsMjY3MzE3MjM4NywzMzYwNDQ5NzMwLDU5Njg4MzU2MywxODY3NzU1ODU3LDI1MjAyODI5MDUsMTQ5NzQyNjYyMSwyNTE5MjE5OTM4LDI4Mjc5NDM5MDcsMzE5MzgzOTE0MSwxNDAxMzA1NDkwLDcyMTUyNTI0NCw3NDY5NjEwNjYsMjQ2ODg1ODUyLDIxNzcxODI4ODJdKTtjbGFzcyBnYyBleHRlbmRzIGRue2NvbnN0cnVjdG9yKCl7c3VwZXIoMzIpLHRoaXMuQWg9UVswXXwwLHRoaXMuQWw9UVsxXXwwLHRoaXMuQmg9UVsyXXwwLHRoaXMuQmw9UVszXXwwLHRoaXMuQ2g9UVs0XXwwLHRoaXMuQ2w9UVs1XXwwLHRoaXMuRGg9UVs2XXwwLHRoaXMuRGw9UVs3XXwwLHRoaXMuRWg9UVs4XXwwLHRoaXMuRWw9UVs5XXwwLHRoaXMuRmg9UVsxMF18MCx0aGlzLkZsPVFbMTFdfDAsdGhpcy5HaD1RWzEyXXwwLHRoaXMuR2w9UVsxM118MCx0aGlzLkhoPVFbMTRdfDAsdGhpcy5IbD1RWzE1XXwwfX1jb25zdCAkZT1nZSgoKT0+bmV3IGxjKSxiYz1nZSgoKT0+bmV3IGRuKSx5Yz1nZSgoKT0+bmV3IHBjKSxtYz1nZSgoKT0+bmV3IGdjKSx3Yz1VaW50OEFycmF5LmZyb20oWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTQsMTAsNCw4LDksMTUsMTMsNiwxLDEyLDAsMiwxMSw3LDUsMywxMSw4LDEyLDAsNSwyLDE1LDEzLDEwLDE0LDMsNiw3LDEsOSw0LDcsOSwzLDEsMTMsMTIsMTEsMTQsMiw2LDUsMTAsNCwwLDE1LDgsOSwwLDUsNywyLDQsMTAsMTUsMTQsMSwxMSwxMiw2LDgsMywxMywyLDEyLDYsMTAsMCwxMSw4LDMsNCwxMyw3LDUsMTUsMTQsMSw5LDEyLDUsMSwxNSwxNCwxMyw0LDEwLDAsNyw2LDMsOSwyLDgsMTEsMTMsMTEsNywxNCwxMiwxLDMsOSw1LDAsMTUsNCw4LDYsMiwxMCw2LDE1LDE0LDksMTEsMywwLDgsMTIsMiwxMyw3LDEsNCwxMCw1LDEwLDIsOCw0LDcsNiwxLDUsMTUsMTEsOSwxNCwzLDEyLDEzLDAsMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNCwxMCw0LDgsOSwxNSwxMyw2LDEsMTIsMCwyLDExLDcsNSwzLDExLDgsMTIsMCw1LDIsMTUsMTMsMTAsMTQsMyw2LDcsMSw5LDQsNyw5LDMsMSwxMywxMiwxMSwxNCwyLDYsNSwxMCw0LDAsMTUsOCw5LDAsNSw3LDIsNCwxMCwxNSwxNCwxLDExLDEyLDYsOCwzLDEzLDIsMTIsNiwxMCwwLDExLDgsMyw0LDEzLDcsNSwxNSwxNCwxLDldKSx6PVVpbnQzMkFycmF5LmZyb20oWzQwODkyMzU3MjAsMTc3OTAzMzcwMywyMjI3ODczNTk1LDMxNDQxMzQyNzcsNDI3MTE3NTcyMywxMDEzOTA0MjQyLDE1OTU3NTAxMjksMjc3MzQ4MDc2MiwyOTE3NTY1MTM3LDEzNTk4OTMxMTksNzI1NTExMTk5LDI2MDA4MjI5MjQsNDIxNTM4OTU0Nyw1Mjg3MzQ2MzUsMzI3MDMzMjA5LDE1NDE0NTkyMjVdKSxTPW5ldyBVaW50MzJBcnJheSgzMik7ZnVuY3Rpb24ganQodCxlLG4scixvLHMpe2NvbnN0IGk9b1tzXSxjPW9bcysxXTtsZXQgZj1TWzIqdF0sdT1TWzIqdCsxXSxhPVNbMiplXSxsPVNbMiplKzFdLGQ9U1syKm5dLGg9U1syKm4rMV0seT1TWzIqcl0sbT1TWzIqcisxXSx2PWZuKGYsYSxpKTt1PWFuKHYsdSxsLGMpLGY9dnwwLHtEaDptLERsOnl9PXtEaDptXnUsRGw6eV5mfSx7RGg6bSxEbDp5fT17RGg6UGkobSx5KSxEbDpIaShtKX0se2gsbDpkfT1kdChoLGQsbSx5KSx7Qmg6bCxCbDphfT17Qmg6bF5oLEJsOmFeZH0se0JoOmwsQmw6YX09e0JoOlN0KGwsYSwyNCksQmw6T3QobCxhLDI0KX0sU1syKnRdPWYsU1syKnQrMV09dSxTWzIqZV09YSxTWzIqZSsxXT1sLFNbMipuXT1kLFNbMipuKzFdPWgsU1syKnJdPXksU1syKnIrMV09bX1mdW5jdGlvbiBMdCh0LGUsbixyLG8scyl7Y29uc3QgaT1vW3NdLGM9b1tzKzFdO2xldCBmPVNbMip0XSx1PVNbMip0KzFdLGE9U1syKmVdLGw9U1syKmUrMV0sZD1TWzIqbl0saD1TWzIqbisxXSx5PVNbMipyXSxtPVNbMipyKzFdLHY9Zm4oZixhLGkpO3U9YW4odix1LGwsYyksZj12fDAse0RoOm0sRGw6eX09e0RoOm1edSxEbDp5XmZ9LHtEaDptLERsOnl9PXtEaDpTdChtLHksMTYpLERsOk90KG0seSwxNil9LHtoLGw6ZH09ZHQoaCxkLG0seSkse0JoOmwsQmw6YX09e0JoOmxeaCxCbDphXmR9LHtCaDpsLEJsOmF9PXtCaDpkZShsLGEsNjMpLEJsOmhlKGwsYSw2Myl9LFNbMip0XT1mLFNbMip0KzFdPXUsU1syKmVdPWEsU1syKmUrMV09bCxTWzIqbl09ZCxTWzIqbisxXT1oLFNbMipyXT15LFNbMipyKzFdPW19ZnVuY3Rpb24gdmModCxlPXt9LG4scixvKXtpZihtdChuKSx0PDB8fHQ+bil0aHJvdyBuZXcgRXJyb3IoXCJvdXRwdXRMZW4gYmlnZ2VyIHRoYW4ga2V5TGVuXCIpO2NvbnN0e2tleTpzLHNhbHQ6aSxwZXJzb25hbGl6YXRpb246Y309ZTtpZihzIT09dm9pZCAwJiYocy5sZW5ndGg8MXx8cy5sZW5ndGg+bikpdGhyb3cgbmV3IEVycm9yKFwia2V5IGxlbmd0aCBtdXN0IGJlIHVuZGVmaW5lZCBvciAxLi5cIituKTtpZihpIT09dm9pZCAwJiZpLmxlbmd0aCE9PXIpdGhyb3cgbmV3IEVycm9yKFwic2FsdCBtdXN0IGJlIHVuZGVmaW5lZCBvciBcIityKTtpZihjIT09dm9pZCAwJiZjLmxlbmd0aCE9PW8pdGhyb3cgbmV3IEVycm9yKFwicGVyc29uYWxpemF0aW9uIG11c3QgYmUgdW5kZWZpbmVkIG9yIFwiK28pfWNsYXNzIHhjIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLG10KGUpLG10KG4pLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLHRoaXMuYnVmZmVyMzI9cGUodGhpcy5idWZmZXIpfXVwZGF0ZShlKXtOdCh0aGlzKSxlPXB0KGUpLGh0KGUpO2NvbnN0e2Jsb2NrTGVuOm4sYnVmZmVyOnIsYnVmZmVyMzI6b309dGhpcyxzPWUubGVuZ3RoLGk9ZS5ieXRlT2Zmc2V0LGM9ZS5idWZmZXI7Zm9yKGxldCBmPTA7ZjxzOyl7dGhpcy5wb3M9PT1uJiYoVXQobyksdGhpcy5jb21wcmVzcyhvLDAsITEpLFV0KG8pLHRoaXMucG9zPTApO2NvbnN0IHU9TWF0aC5taW4obi10aGlzLnBvcyxzLWYpLGE9aStmO2lmKHU9PT1uJiYhKGElNCkmJmYrdTxzKXtjb25zdCBsPW5ldyBVaW50MzJBcnJheShjLGEsTWF0aC5mbG9vcigocy1mKS80KSk7VXQobCk7Zm9yKGxldCBkPTA7ZituPHM7ZCs9by5sZW5ndGgsZis9bil0aGlzLmxlbmd0aCs9bix0aGlzLmNvbXByZXNzKGwsZCwhMSk7VXQobCk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShmLGYrdSksdGhpcy5wb3MpLHRoaXMucG9zKz11LHRoaXMubGVuZ3RoKz11LGYrPXV9cmV0dXJuIHRoaXN9ZGlnZXN0SW50byhlKXtOdCh0aGlzKSx1bihlLHRoaXMpO2NvbnN0e3BvczpuLGJ1ZmZlcjMyOnJ9PXRoaXM7dGhpcy5maW5pc2hlZD0hMCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShuKSksVXQociksdGhpcy5jb21wcmVzcyhyLDAsITApLFV0KHIpO2NvbnN0IG89cGUoZSk7dGhpcy5nZXQoKS5mb3JFYWNoKChzLGkpPT5vW2ldPXd0KHMpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtjb25zdHtidWZmZXI6bixsZW5ndGg6cixmaW5pc2hlZDpvLGRlc3Ryb3llZDpzLG91dHB1dExlbjppLHBvczpjfT10aGlzO3JldHVybiBlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih7ZGtMZW46aX0pKSxlLnNldCguLi50aGlzLmdldCgpKSxlLmJ1ZmZlci5zZXQobiksZS5kZXN0cm95ZWQ9cyxlLmZpbmlzaGVkPW8sZS5sZW5ndGg9cixlLnBvcz1jLGUub3V0cHV0TGVuPWksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y2xhc3MgRWMgZXh0ZW5kcyB4Y3tjb25zdHJ1Y3RvcihlPXt9KXtjb25zdCBuPWUuZGtMZW49PT12b2lkIDA/NjQ6ZS5ka0xlbjtzdXBlcigxMjgsbiksdGhpcy52MGw9elswXXwwLHRoaXMudjBoPXpbMV18MCx0aGlzLnYxbD16WzJdfDAsdGhpcy52MWg9elszXXwwLHRoaXMudjJsPXpbNF18MCx0aGlzLnYyaD16WzVdfDAsdGhpcy52M2w9els2XXwwLHRoaXMudjNoPXpbN118MCx0aGlzLnY0bD16WzhdfDAsdGhpcy52NGg9els5XXwwLHRoaXMudjVsPXpbMTBdfDAsdGhpcy52NWg9elsxMV18MCx0aGlzLnY2bD16WzEyXXwwLHRoaXMudjZoPXpbMTNdfDAsdGhpcy52N2w9elsxNF18MCx0aGlzLnY3aD16WzE1XXwwLHZjKG4sZSw2NCwxNiwxNik7bGV0e2tleTpyLHBlcnNvbmFsaXphdGlvbjpvLHNhbHQ6c309ZSxpPTA7aWYociE9PXZvaWQgMCYmKHI9cHQociksaT1yLmxlbmd0aCksdGhpcy52MGxePXRoaXMub3V0cHV0TGVufGk8PDh8NjU1MzZ8MTw8MjQscyE9PXZvaWQgMCl7cz1wdChzKTtjb25zdCBjPXBlKHMpO3RoaXMudjRsXj13dChjWzBdKSx0aGlzLnY0aF49d3QoY1sxXSksdGhpcy52NWxePXd0KGNbMl0pLHRoaXMudjVoXj13dChjWzNdKX1pZihvIT09dm9pZCAwKXtvPXB0KG8pO2NvbnN0IGM9cGUobyk7dGhpcy52NmxePXd0KGNbMF0pLHRoaXMudjZoXj13dChjWzFdKSx0aGlzLnY3bF49d3QoY1syXSksdGhpcy52N2hePXd0KGNbM10pfWlmKHIhPT12b2lkIDApe2NvbnN0IGM9bmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja0xlbik7Yy5zZXQociksdGhpcy51cGRhdGUoYyl9fWdldCgpe2xldHt2MGw6ZSx2MGg6bix2MWw6cix2MWg6byx2Mmw6cyx2Mmg6aSx2M2w6Yyx2M2g6Zix2NGw6dSx2NGg6YSx2NWw6bCx2NWg6ZCx2Nmw6aCx2Nmg6eSx2N2w6bSx2N2g6dn09dGhpcztyZXR1cm5bZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdl19c2V0KGUsbixyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYpe3RoaXMudjBsPWV8MCx0aGlzLnYwaD1ufDAsdGhpcy52MWw9cnwwLHRoaXMudjFoPW98MCx0aGlzLnYybD1zfDAsdGhpcy52Mmg9aXwwLHRoaXMudjNsPWN8MCx0aGlzLnYzaD1mfDAsdGhpcy52NGw9dXwwLHRoaXMudjRoPWF8MCx0aGlzLnY1bD1sfDAsdGhpcy52NWg9ZHwwLHRoaXMudjZsPWh8MCx0aGlzLnY2aD15fDAsdGhpcy52N2w9bXwwLHRoaXMudjdoPXZ8MH1jb21wcmVzcyhlLG4scil7dGhpcy5nZXQoKS5mb3JFYWNoKChmLHUpPT5TW3VdPWYpLFMuc2V0KHosMTYpO2xldHtoOm8sbDpzfT1VcihCaWdJbnQodGhpcy5sZW5ndGgpKTtTWzI0XT16WzhdXnMsU1syNV09els5XV5vLHImJihTWzI4XT1+U1syOF0sU1syOV09flNbMjldKTtsZXQgaT0wO2NvbnN0IGM9d2M7Zm9yKGxldCBmPTA7ZjwxMjtmKyspanQoMCw0LDgsMTIsZSxuKzIqY1tpKytdKSxMdCgwLDQsOCwxMixlLG4rMipjW2krK10pLGp0KDEsNSw5LDEzLGUsbisyKmNbaSsrXSksTHQoMSw1LDksMTMsZSxuKzIqY1tpKytdKSxqdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxMdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxqdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxMdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxqdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxMdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxqdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxMdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxqdCgyLDcsOCwxMyxlLG4rMipjW2krK10pLEx0KDIsNyw4LDEzLGUsbisyKmNbaSsrXSksanQoMyw0LDksMTQsZSxuKzIqY1tpKytdKSxMdCgzLDQsOSwxNCxlLG4rMipjW2krK10pO3RoaXMudjBsXj1TWzBdXlNbMTZdLHRoaXMudjBoXj1TWzFdXlNbMTddLHRoaXMudjFsXj1TWzJdXlNbMThdLHRoaXMudjFoXj1TWzNdXlNbMTldLHRoaXMudjJsXj1TWzRdXlNbMjBdLHRoaXMudjJoXj1TWzVdXlNbMjFdLHRoaXMudjNsXj1TWzZdXlNbMjJdLHRoaXMudjNoXj1TWzddXlNbMjNdLHRoaXMudjRsXj1TWzhdXlNbMjRdLHRoaXMudjRoXj1TWzldXlNbMjVdLHRoaXMudjVsXj1TWzEwXV5TWzI2XSx0aGlzLnY1aF49U1sxMV1eU1syN10sdGhpcy52NmxePVNbMTJdXlNbMjhdLHRoaXMudjZoXj1TWzEzXV5TWzI5XSx0aGlzLnY3bF49U1sxNF1eU1szMF0sdGhpcy52N2hePVNbMTVdXlNbMzFdLGx0KFMpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCxsdCh0aGlzLmJ1ZmZlcjMyKSx0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKX19Y29uc3QgQmM9V2kodD0+bmV3IEVjKHQpKSxBYz1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxXCI7ZnVuY3Rpb24gaG4odCl7Y29uc3QgZT1gXHUwMDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4ke3QubGVuZ3RofWAsbj1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZSt0KTtyZXR1cm5cIjB4XCIrQnVmZmVyLmZyb20oaWMobikpLnRvU3RyaW5nKFwiaGV4XCIpfWFzeW5jIGZ1bmN0aW9uIFpyKHQsZSxuLHIsbyxzKXtzd2l0Y2gobi50KXtjYXNlXCJlaXAxOTFcIjpyZXR1cm4gYXdhaXQgR3IodCxlLG4ucyk7Y2FzZVwiZWlwMTI3MVwiOnJldHVybiBhd2FpdCB6cih0LGUsbi5zLHIsbyxzKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdmVyaWZ5U2lnbmF0dXJlIGZhaWxlZDogQXR0ZW1wdGVkIHRvIHZlcmlmeSBDYWNhb1NpZ25hdHVyZSB3aXRoIHVua25vd24gdHlwZTogJHtuLnR9YCl9fWZ1bmN0aW9uIEdyKHQsZSxuKXtjb25zdCByPVZzLmZyb21IZXgobik7cmV0dXJuIE1zLnJlY292ZXJBZGRyZXNzKHtwYXlsb2FkOmhuKGUpLHNpZ25hdHVyZTpyfSkudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1hc3luYyBmdW5jdGlvbiB6cih0LGUsbixyLG8scyl7Y29uc3QgaT1KZShyKTtpZighaS5uYW1lc3BhY2V8fCFpLnJlZmVyZW5jZSl0aHJvdyBuZXcgRXJyb3IoYGlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlIGZhaWxlZDogY2hhaW5JZCBtdXN0IGJlIGluIENBSVAtMiBmb3JtYXQsIHJlY2VpdmVkOiAke3J9YCk7dHJ5e2NvbnN0IGM9XCIweDE2MjZiYTdlXCIsZj1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBcIix1PW4uc3Vic3RyaW5nKDIpLGE9KHUubGVuZ3RoLzIpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2NCxcIjBcIiksbD0oZS5zdGFydHNXaXRoKFwiMHhcIik/ZTpobihlKSkuc3Vic3RyaW5nKDIpLGQ9YytsK2YrYSt1LGg9YXdhaXQgZmV0Y2goYCR7c3x8QWN9Lz9jaGFpbklkPSR7cn0mcHJvamVjdElkPSR7b31gLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxtZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeSh7aWQ6SWMoKSxqc29ucnBjOlwiMi4wXCIsbWV0aG9kOlwiZXRoX2NhbGxcIixwYXJhbXM6W3t0bzp0LGRhdGE6ZH0sXCJsYXRlc3RcIl19KX0pLHtyZXN1bHQ6eX09YXdhaXQgaC5qc29uKCk7cmV0dXJuIHk/eS5zbGljZSgwLGMubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09Yy50b0xvd2VyQ2FzZSgpOiExfWNhdGNoKGMpe3JldHVybiBjb25zb2xlLmVycm9yKFwiaXNWYWxpZEVpcDEyNzFTaWduYXR1cmU6IFwiLGMpLCExfX1mdW5jdGlvbiBJYygpe3JldHVybiBEYXRlLm5vdygpK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTMpfWZ1bmN0aW9uIFNjKHQpe2NvbnN0IGU9YXRvYih0KSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyluW2ldPWUuY2hhckNvZGVBdChpKTtjb25zdCByPW5bMF07aWYocj09PTApdGhyb3cgbmV3IEVycm9yKFwiTm8gc2lnbmF0dXJlcyBmb3VuZFwiKTtjb25zdCBvPTErcio2NDtpZihuLmxlbmd0aDxvKXRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGRhdGEgdG9vIHNob3J0IGZvciBjbGFpbWVkIHNpZ25hdHVyZSBjb3VudFwiKTtpZihuLmxlbmd0aDwxMDApdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdG9vIHNob3J0XCIpO2NvbnN0IHM9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS5zbGljZSgxLDY1KTtyZXR1cm4gdWUuZW5jb2RlKHMpfWZ1bmN0aW9uIE9jKHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKSksbj1BcnJheS5mcm9tKFwiVHJhbnNhY3Rpb25EYXRhOjpcIikubWFwKHM9PnMuY2hhckNvZGVBdCgwKSkscj1uZXcgVWludDhBcnJheShuLmxlbmd0aCtlLmxlbmd0aCk7ci5zZXQobiksci5zZXQoZSxuLmxlbmd0aCk7Y29uc3Qgbz1CYyhyLHtka0xlbjozMn0pO3JldHVybiB1ZS5lbmNvZGUobyl9ZnVuY3Rpb24gTmModCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSgkZShZcih0KSkpO3JldHVybiB1ZS5lbmNvZGUoZSl9ZnVuY3Rpb24gWXIodCl7aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQhPW51bGwmJnQuZGF0YSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0LmRhdGEpKTtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0KSk7dGhyb3cgbmV3IEVycm9yKFwiZ2V0TmVhclVpbnQ4QXJyYXlGcm9tQnl0ZXM6IFVuZXhwZWN0ZWQgcmVzdWx0IHR5cGUgZnJvbSBieXRlcyBhcnJheVwiKX1mdW5jdGlvbiBVYyh0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIiksbj1LcyhlKS50eG47aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduZWQgdHJhbnNhY3Rpb246IG1pc3NpbmcgJ3R4bicgZmllbGRcIik7Y29uc3Qgcj1xcyhuKSxvPUJ1ZmZlci5mcm9tKFwiVFhcIikscz1CdWZmZXIuY29uY2F0KFtvLEJ1ZmZlci5mcm9tKHIpXSksaT1tYyhzKTtyZXR1cm4gRnMuZW5jb2RlKGkpLnJlcGxhY2UoLz0rJC8sXCJcIil9ZnVuY3Rpb24gcG4odCl7Y29uc3QgZT1bXTtsZXQgbj1CaWdJbnQodCk7Zm9yKDtuPj1CaWdJbnQoMTI4KTspZS5wdXNoKE51bWJlcihuJkJpZ0ludCgxMjcpfEJpZ0ludCgxMjgpKSksbj4+PUJpZ0ludCg3KTtyZXR1cm4gZS5wdXNoKE51bWJlcihuKSksQnVmZmVyLmZyb20oZSl9ZnVuY3Rpb24gX2ModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LnNpZ25lZC5ib2R5Qnl0ZXMsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnNpZ25lZC5hdXRoSW5mb0J5dGVzLFwiYmFzZTY0XCIpLHI9QnVmZmVyLmZyb20odC5zaWduYXR1cmUuc2lnbmF0dXJlLFwiYmFzZTY0XCIpLG89W107by5wdXNoKEJ1ZmZlci5mcm9tKFsxMF0pKSxvLnB1c2gocG4oZS5sZW5ndGgpKSxvLnB1c2goZSksby5wdXNoKEJ1ZmZlci5mcm9tKFsxOF0pKSxvLnB1c2gocG4obi5sZW5ndGgpKSxvLnB1c2gobiksby5wdXNoKEJ1ZmZlci5mcm9tKFsyNl0pKSxvLnB1c2gocG4oci5sZW5ndGgpKSxvLnB1c2gocik7Y29uc3Qgcz1CdWZmZXIuY29uY2F0KG8pLGk9JGUocyk7cmV0dXJuIEJ1ZmZlci5mcm9tKGkpLnRvU3RyaW5nKFwiaGV4XCIpLnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gUmModCl7dmFyIGUsbjtjb25zdCByPVtdO3RyeXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gci5wdXNoKHQpLHI7aWYodHlwZW9mIHQhPVwib2JqZWN0XCIpcmV0dXJuIHI7dCE9bnVsbCYmdC5pZCYmci5wdXNoKHQuaWQpO2NvbnN0IG89KG49KGU9dD8uY2FwYWJpbGl0aWVzKT09bnVsbD92b2lkIDA6ZS5jYWlwMzQ1KT09bnVsbD92b2lkIDA6bi50cmFuc2FjdGlvbkhhc2hlcztvJiZyLnB1c2goLi4ubyl9Y2F0Y2gobyl7Y29uc29sZS53YXJuKFwiZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzIGZhaWxlZDogXCIsbyl9cmV0dXJuIHJ9dmFyICRjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxUYz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxDYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxXcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGpjPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTGM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYcj0odCxlLG4pPT5lIGluIHQ/JGModCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6dFtlXT1uLGduPSh0LGUpPT57Zm9yKHZhciBuIGluIGV8fChlPXt9KSlqYy5jYWxsKGUsbikmJlhyKHQsbixlW25dKTtpZihXcilmb3IodmFyIG4gb2YgV3IoZSkpTGMuY2FsbChlLG4pJiZYcih0LG4sZVtuXSk7cmV0dXJuIHR9LEpyPSh0LGUpPT5UYyh0LENjKGUpKTtjb25zdCBrYz1cImRpZDpwa2g6XCIsVGU9dD0+dD8uc3BsaXQoXCI6XCIpLFFyPXQ9Pntjb25zdCBlPXQmJlRlKHQpO2lmKGUpcmV0dXJuIHQuaW5jbHVkZXMoa2MpP2VbM106ZVsxXX0sdG89dD0+e2NvbnN0IGU9dCYmVGUodCk7aWYoZSlyZXR1cm4gZVsyXStcIjpcIitlWzNdfSxibj10PT57Y29uc3QgZT10JiZUZSh0KTtpZihlKXJldHVybiBlLnBvcCgpfTthc3luYyBmdW5jdGlvbiBQYyh0KXtjb25zdHtjYWNhbzplLHByb2plY3RJZDpufT10LHtzOnIscDpvfT1lLHM9ZW8obyxvLmlzcyksaT1ibihvLmlzcyk7cmV0dXJuIGF3YWl0IFpyKGkscyxyLHRvKG8uaXNzKSxuKX1jb25zdCBlbz0odCxlKT0+e2NvbnN0IG49YCR7dC5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciBFdGhlcmV1bSBhY2NvdW50OmAscj1ibihlKTtpZighdC5hdWQmJiF0LnVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgYGF1ZGAgb3IgYHVyaWAgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IHRoZSBtZXNzYWdlXCIpO2xldCBvPXQuc3RhdGVtZW50fHx2b2lkIDA7Y29uc3Qgcz1gVVJJOiAke3QuYXVkfHx0LnVyaX1gLGk9YFZlcnNpb246ICR7dC52ZXJzaW9ufWAsYz1gQ2hhaW4gSUQ6ICR7UXIoZSl9YCxmPWBOb25jZTogJHt0Lm5vbmNlfWAsdT1gSXNzdWVkIEF0OiAke3QuaWF0fWAsYT10LmV4cD9gRXhwaXJhdGlvbiBUaW1lOiAke3QuZXhwfWA6dm9pZCAwLGw9dC5uYmY/YE5vdCBCZWZvcmU6ICR7dC5uYmZ9YDp2b2lkIDAsZD10LnJlcXVlc3RJZD9gUmVxdWVzdCBJRDogJHt0LnJlcXVlc3RJZH1gOnZvaWQgMCxoPXQucmVzb3VyY2VzP2BSZXNvdXJjZXM6JHt0LnJlc291cmNlcy5tYXAobT0+YFxuLSAke219YCkuam9pbihcIlwiKX1gOnZvaWQgMCx5PWplKHQucmVzb3VyY2VzKTtpZih5KXtjb25zdCBtPWt0KHkpO289d24obyxtKX1yZXR1cm5bbixyLFwiXCIsbyxcIlwiLHMsaSxjLGYsdSxhLGwsZCxoXS5maWx0ZXIobT0+bSE9bnVsbCkuam9pbihgXG5gKX07ZnVuY3Rpb24gSGModCxlLG4pe3JldHVybiBuLmluY2x1ZGVzKFwiZGlkOnBraDpcIil8fChuPWBkaWQ6cGtoOiR7bn1gKSx7aDp7dDpcImNhaXAxMjJcIn0scDp7aXNzOm4sZG9tYWluOnQuZG9tYWluLGF1ZDp0LmF1ZCx2ZXJzaW9uOnQudmVyc2lvbixub25jZTp0Lm5vbmNlLGlhdDp0LmlhdCxzdGF0ZW1lbnQ6dC5zdGF0ZW1lbnQscmVxdWVzdElkOnQucmVxdWVzdElkLHJlc291cmNlczp0LnJlc291cmNlcyxuYmY6dC5uYmYsZXhwOnQuZXhwfSxzOmV9fWZ1bmN0aW9uIERjKHQpe3ZhciBlO2NvbnN0e2F1dGhQYXlsb2FkOm4sY2hhaW5zOnIsbWV0aG9kczpvfT10LHM9bi5zdGF0ZW1lbnR8fFwiXCI7aWYoIShyIT1udWxsJiZyLmxlbmd0aCkpcmV0dXJuIG47Y29uc3QgaT1uLmNoYWlucyxjPXNuKGkscik7aWYoIShjIT1udWxsJiZjLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VwcG9ydGVkIGNoYWluc1wiKTtjb25zdCBmPW5vKG4ucmVzb3VyY2VzKTtpZighZilyZXR1cm4gbjt5dChmKTtjb25zdCB1PXJvKGYsXCJlaXAxNTVcIik7bGV0IGE9bj8ucmVzb3VyY2VzfHxbXTtpZih1IT1udWxsJiZ1Lmxlbmd0aCl7Y29uc3QgbD1vbyh1KSxkPXNuKGwsbyk7aWYoIShkIT1udWxsJiZkLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKGBTdXBwb3J0ZWQgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IHRoZSByZXF1ZXN0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobCl9LCBzdXBwb3J0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobyl9YCk7Y29uc3QgaD15bihcInJlcXVlc3RcIixkLHtjaGFpbnM6Y30pLHk9Zm8oZixcImVpcDE1NVwiLGgpO2E9KChlPW4/LnJlc291cmNlcyk9PW51bGw/dm9pZCAwOmUuc2xpY2UoMCwtMSkpfHxbXSxhLnB1c2goQ2UoeSkpfXJldHVybiBKcihnbih7fSxuKSx7c3RhdGVtZW50OnVvKHMsamUoYSkpLGNoYWluczpjLHJlc291cmNlczpuIT1udWxsJiZuLnJlc291cmNlc3x8YS5sZW5ndGg+MD9hOnZvaWQgMH0pfWZ1bmN0aW9uIG5vKHQpe2NvbnN0IGU9amUodCk7aWYoZSYmbW4oZSkpcmV0dXJuIGt0KGUpfWZ1bmN0aW9uIFZjKHQsZSl7dmFyIG47cmV0dXJuKG49dD8uYXR0KT09bnVsbD92b2lkIDA6bi5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBybyh0LGUpe3ZhciBuLHI7cmV0dXJuKG49dD8uYXR0KSE9bnVsbCYmbltlXT9PYmplY3Qua2V5cygocj10Py5hdHQpPT1udWxsP3ZvaWQgMDpyW2VdKTpbXX1mdW5jdGlvbiBNYyh0KXtyZXR1cm4gdD8ubWFwKGU9Pk9iamVjdC5rZXlzKGUpKXx8W119ZnVuY3Rpb24gb28odCl7cmV0dXJuIHQ/Lm1hcChlPT57dmFyIG47cmV0dXJuKG49ZS5zcGxpdChcIi9cIikpPT1udWxsP3ZvaWQgMDpuWzFdfSl8fFtdfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh0KSkudG9TdHJpbmcoXCJiYXNlNjRcIil9ZnVuY3Rpb24gaW8odCl7cmV0dXJuIEpTT04ucGFyc2UoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpKX1mdW5jdGlvbiB5dCh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyByZWNhcCBwcm92aWRlZCwgdmFsdWUgaXMgdW5kZWZpbmVkXCIpO2lmKCF0LmF0dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBgYXR0YCBwcm9wZXJ0eSBmb3VuZFwiKTtjb25zdCBlPU9iamVjdC5rZXlzKHQuYXR0KTtpZighKGUhPW51bGwmJmUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNvdXJjZXMgZm91bmQgaW4gYGF0dGAgcHJvcGVydHlcIik7ZS5mb3JFYWNoKG49Pntjb25zdCByPXQuYXR0W25dO2lmKEFycmF5LmlzQXJyYXkocikpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBtdXN0IGJlIGFuIG9iamVjdDogJHtufWApO2lmKHR5cGVvZiByIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7bn1gKTtpZighT2JqZWN0LmtleXMocikubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2Ugb2JqZWN0IGlzIGVtcHR5OiAke259YCk7T2JqZWN0LmtleXMocikuZm9yRWFjaChvPT57Y29uc3Qgcz1yW29dO2lmKCFBcnJheS5pc0FycmF5KHMpKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgJHtvfSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke3N9YCk7aWYoIXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVmFsdWUgb2YgJHtvfSBpcyBlbXB0eSBhcnJheSwgbXVzdCBiZSBhbiBhcnJheSB3aXRoIG9iamVjdHNgKTtzLmZvckVhY2goaT0+e2lmKHR5cGVvZiBpIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgKCR7b30pIG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZm91bmQ6ICR7aX1gKX0pfSl9KX1mdW5jdGlvbiBjbyh0LGUsbixyPXt9KXtyZXR1cm4gbj8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKSx7YXR0OntbdF06eW4oZSxuLHIpfX19ZnVuY3Rpb24gZm8odCxlLG4pe3ZhciByO3QuYXR0W2VdPWduKHt9LG4pO2NvbnN0IG89KHI9T2JqZWN0LmtleXModC5hdHQpKT09bnVsbD92b2lkIDA6ci5zb3J0KChpLGMpPT5pLmxvY2FsZUNvbXBhcmUoYykpLHM9e2F0dDp7fX07cmV0dXJuIG8ucmVkdWNlKChpLGMpPT4oaS5hdHRbY109dC5hdHRbY10saSkscyl9ZnVuY3Rpb24geW4odCxlLG49e30pe2U9ZT8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKTtjb25zdCByPWUubWFwKG89Pih7W2Ake3R9LyR7b31gXTpbbl19KSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sLi4ucil9ZnVuY3Rpb24gQ2UodCl7cmV0dXJuIHl0KHQpLGB1cm46cmVjYXA6JHtzbyh0KS5yZXBsYWNlKC89L2csXCJcIil9YH1mdW5jdGlvbiBrdCh0KXtjb25zdCBlPWlvKHQucmVwbGFjZShcInVybjpyZWNhcDpcIixcIlwiKSk7cmV0dXJuIHl0KGUpLGV9ZnVuY3Rpb24gS2ModCxlLG4pe2NvbnN0IHI9Y28odCxlLG4pO3JldHVybiBDZShyKX1mdW5jdGlvbiBtbih0KXtyZXR1cm4gdCYmdC5pbmNsdWRlcyhcInVybjpyZWNhcDpcIil9ZnVuY3Rpb24gcWModCxlKXtjb25zdCBuPWt0KHQpLHI9a3QoZSksbz1hbyhuLHIpO3JldHVybiBDZShvKX1mdW5jdGlvbiBhbyh0LGUpe3l0KHQpLHl0KGUpO2NvbnN0IG49T2JqZWN0LmtleXModC5hdHQpLmNvbmNhdChPYmplY3Qua2V5cyhlLmF0dCkpLnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSkscj17YXR0Ont9fTtyZXR1cm4gbi5mb3JFYWNoKG89Pnt2YXIgcyxpO09iamVjdC5rZXlzKCgocz10LmF0dCk9PW51bGw/dm9pZCAwOnNbb10pfHx7fSkuY29uY2F0KE9iamVjdC5rZXlzKCgoaT1lLmF0dCk9PW51bGw/dm9pZCAwOmlbb10pfHx7fSkpLnNvcnQoKGMsZik9PmMubG9jYWxlQ29tcGFyZShmKSkuZm9yRWFjaChjPT57dmFyIGYsdTtyLmF0dFtvXT1Kcihnbih7fSxyLmF0dFtvXSkse1tjXTooKGY9dC5hdHRbb10pPT1udWxsP3ZvaWQgMDpmW2NdKXx8KCh1PWUuYXR0W29dKT09bnVsbD92b2lkIDA6dVtjXSl9KX0pfSkscn1mdW5jdGlvbiB3bih0PVwiXCIsZSl7eXQoZSk7Y29uc3Qgbj1cIkkgZnVydGhlciBhdXRob3JpemUgdGhlIHN0YXRlZCBVUkkgdG8gcGVyZm9ybSB0aGUgZm9sbG93aW5nIGFjdGlvbnMgb24gbXkgYmVoYWxmOiBcIjtpZih0LmluY2x1ZGVzKG4pKXJldHVybiB0O2NvbnN0IHI9W107bGV0IG89MDtPYmplY3Qua2V5cyhlLmF0dCkuZm9yRWFjaChjPT57Y29uc3QgZj1PYmplY3Qua2V5cyhlLmF0dFtjXSkubWFwKGw9Pih7YWJpbGl0eTpsLnNwbGl0KFwiL1wiKVswXSxhY3Rpb246bC5zcGxpdChcIi9cIilbMV19KSk7Zi5zb3J0KChsLGQpPT5sLmFjdGlvbi5sb2NhbGVDb21wYXJlKGQuYWN0aW9uKSk7Y29uc3QgdT17fTtmLmZvckVhY2gobD0+e3VbbC5hYmlsaXR5XXx8KHVbbC5hYmlsaXR5XT1bXSksdVtsLmFiaWxpdHldLnB1c2gobC5hY3Rpb24pfSk7Y29uc3QgYT1PYmplY3Qua2V5cyh1KS5tYXAobD0+KG8rKyxgKCR7b30pICcke2x9JzogJyR7dVtsXS5qb2luKFwiJywgJ1wiKX0nIGZvciAnJHtjfScuYCkpO3IucHVzaChhLmpvaW4oXCIsIFwiKS5yZXBsYWNlKFwiLixcIixcIi5cIikpfSk7Y29uc3Qgcz1yLmpvaW4oXCIgXCIpLGk9YCR7bn0ke3N9YDtyZXR1cm5gJHt0P3QrXCIgXCI6XCJcIn0ke2l9YH1mdW5jdGlvbiBGYyh0KXt2YXIgZTtjb25zdCBuPWt0KHQpO3l0KG4pO2NvbnN0IHI9KGU9bi5hdHQpPT1udWxsP3ZvaWQgMDplLmVpcDE1NTtyZXR1cm4gcj9PYmplY3Qua2V5cyhyKS5tYXAobz0+by5zcGxpdChcIi9cIilbMV0pOltdfWZ1bmN0aW9uIFpjKHQpe2NvbnN0IGU9a3QodCk7eXQoZSk7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhlLmF0dCkuZm9yRWFjaChyPT57T2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKG89Pnt2YXIgczsocz1vPy5bMF0pIT1udWxsJiZzLmNoYWlucyYmbi5wdXNoKG9bMF0uY2hhaW5zKX0pfSksWy4uLm5ldyBTZXQobi5mbGF0KCkpXX1mdW5jdGlvbiB1byh0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IG49a3QoZSk7cmV0dXJuIHl0KG4pLHduKHQsbil9ZnVuY3Rpb24gamUodCl7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dD8uW3QubGVuZ3RoLTFdO3JldHVybiBtbihlKT9lOnZvaWQgMH0vKiEgbm9ibGUtY2lwaGVycyAtIE1JVCBMaWNlbnNlIChjKSAyMDIzIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2Z1bmN0aW9uIGxvKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiB2bih0KXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHt0fWApfWZ1bmN0aW9uIHhuKHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBvdCh0LC4uLmUpe2lmKCFsbyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBobyh0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBHYyh0LGUpe290KHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCxNYXRoLmZsb29yKHQuYnl0ZUxlbmd0aC80KSl9ZnVuY3Rpb24gUXQoLi4udCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5maWxsKDApfWZ1bmN0aW9uIHpjKHQpe3JldHVybiBuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9Y29uc3QgWWM9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7ZnVuY3Rpb24gV2ModCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIEVuKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXQ9V2ModCk7ZWxzZSBpZihsbyh0KSl0PUJuKHQpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdH1mdW5jdGlvbiBYYyh0LGUpe2lmKGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBkZWZpbmVkXCIpO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSl9ZnVuY3Rpb24gSmModCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspbnw9dFtyXV5lW3JdO3JldHVybiBuPT09MH1jb25zdCBRYz0odCxlKT0+e2Z1bmN0aW9uIG4ociwuLi5vKXtpZihvdChyKSwhWWMpdGhyb3cgbmV3IEVycm9yKFwiTm9uIGxpdHRsZS1lbmRpYW4gaGFyZHdhcmUgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYodC5ub25jZUxlbmd0aCE9PXZvaWQgMCl7Y29uc3QgYT1vWzBdO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIC8gaXYgcmVxdWlyZWRcIik7dC52YXJTaXplTm9uY2U/b3QoYSk6b3QoYSx0Lm5vbmNlTGVuZ3RoKX1jb25zdCBzPXQudGFnTGVuZ3RoO3MmJm9bMV0hPT12b2lkIDAmJm90KG9bMV0pO2NvbnN0IGk9ZShyLC4uLm8pLGM9KGEsbCk9PntpZihsIT09dm9pZCAwKXtpZihhIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJjaXBoZXIgb3V0cHV0IG5vdCBzdXBwb3J0ZWRcIik7b3QobCl9fTtsZXQgZj0hMTtyZXR1cm57ZW5jcnlwdChhLGwpe2lmKGYpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuY3J5cHQoKSB0d2ljZSB3aXRoIHNhbWUga2V5ICsgbm9uY2VcIik7cmV0dXJuIGY9ITAsb3QoYSksYyhpLmVuY3J5cHQubGVuZ3RoLGwpLGkuZW5jcnlwdChhLGwpfSxkZWNyeXB0KGEsbCl7aWYob3QoYSkscyYmYS5sZW5ndGg8cyl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNpcGhlcnRleHQgbGVuZ3RoOiBzbWFsbGVyIHRoYW4gdGFnTGVuZ3RoPVwiK3MpO3JldHVybiBjKGkuZGVjcnlwdC5sZW5ndGgsbCksaS5kZWNyeXB0KGEsbCl9fX1yZXR1cm4gT2JqZWN0LmFzc2lnbihuLHQpLG59O2Z1bmN0aW9uIHBvKHQsZSxuPSEwKXtpZihlPT09dm9pZCAwKXJldHVybiBuZXcgVWludDhBcnJheSh0KTtpZihlLmxlbmd0aCE9PXQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQgbGVuZ3RoLCBleHBlY3RlZCBcIit0K1wiLCBnb3Q6IFwiK2UubGVuZ3RoKTtpZihuJiYhZWYoZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQsIG11c3QgYmUgYWxpZ25lZFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBnbyh0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxzPUJpZ0ludCg0Mjk0OTY3Mjk1KSxpPU51bWJlcihuPj5vJnMpLGM9TnVtYmVyKG4mcyksZj1yPzQ6MCx1PXI/MDo0O3Quc2V0VWludDMyKGUrZixpLHIpLHQuc2V0VWludDMyKGUrdSxjLHIpfWZ1bmN0aW9uIHRmKHQsZSxuKXt2bihuKTtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KSxvPXpjKHIpO3JldHVybiBnbyhvLDAsQmlnSW50KGUpLG4pLGdvKG8sOCxCaWdJbnQodCksbikscn1mdW5jdGlvbiBlZih0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWZ1bmN0aW9uIEJuKHQpe3JldHVybiBVaW50OEFycmF5LmZyb20odCl9Y29uc3QgYm89dD0+VWludDhBcnJheS5mcm9tKHQuc3BsaXQoXCJcIikubWFwKGU9PmUuY2hhckNvZGVBdCgwKSkpLG5mPWJvKFwiZXhwYW5kIDE2LWJ5dGUga1wiKSxyZj1ibyhcImV4cGFuZCAzMi1ieXRlIGtcIiksb2Y9UHQobmYpLHNmPVB0KHJmKTtmdW5jdGlvbiBLKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9ZnVuY3Rpb24gQW4odCl7cmV0dXJuIHQuYnl0ZU9mZnNldCU0PT09MH1jb25zdCBMZT02NCxjZj0xNix5bz0yKiozMi0xLG1vPW5ldyBVaW50MzJBcnJheTtmdW5jdGlvbiBmZih0LGUsbixyLG8scyxpLGMpe2NvbnN0IGY9by5sZW5ndGgsdT1uZXcgVWludDhBcnJheShMZSksYT1QdCh1KSxsPUFuKG8pJiZBbihzKSxkPWw/UHQobyk6bW8saD1sP1B0KHMpOm1vO2ZvcihsZXQgeT0wO3k8ZjtpKyspe2lmKHQoZSxuLHIsYSxpLGMpLGk+PXlvKXRocm93IG5ldyBFcnJvcihcImFyeDogY291bnRlciBvdmVyZmxvd1wiKTtjb25zdCBtPU1hdGgubWluKExlLGYteSk7aWYobCYmbT09PUxlKXtjb25zdCB2PXkvNDtpZih5JTQhPT0wKXRocm93IG5ldyBFcnJvcihcImFyeDogaW52YWxpZCBibG9jayBwb3NpdGlvblwiKTtmb3IobGV0IFU9MCxGO1U8Y2Y7VSsrKUY9ditVLGhbRl09ZFtGXV5hW1VdO3krPUxlO2NvbnRpbnVlfWZvcihsZXQgdj0wLFU7djxtO3YrKylVPXkrdixzW1VdPW9bVV1edVt2XTt5Kz1tfX1mdW5jdGlvbiBhZih0LGUpe2NvbnN0e2FsbG93U2hvcnRLZXlzOm4sZXh0ZW5kTm9uY2VGbjpyLGNvdW50ZXJMZW5ndGg6byxjb3VudGVyUmlnaHQ6cyxyb3VuZHM6aX09WGMoe2FsbG93U2hvcnRLZXlzOiExLGNvdW50ZXJMZW5ndGg6OCxjb3VudGVyUmlnaHQ6ITEscm91bmRzOjIwfSxlKTtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImNvcmUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB4bihvKSx4bihpKSx2bihzKSx2bihuKSwoYyxmLHUsYSxsPTApPT57b3QoYyksb3QoZiksb3QodSk7Y29uc3QgZD11Lmxlbmd0aDtpZihhPT09dm9pZCAwJiYoYT1uZXcgVWludDhBcnJheShkKSksb3QoYSkseG4obCksbDwwfHxsPj15byl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGNvdW50ZXIgb3ZlcmZsb3dcIik7aWYoYS5sZW5ndGg8ZCl0aHJvdyBuZXcgRXJyb3IoYGFyeDogb3V0cHV0ICgke2EubGVuZ3RofSkgaXMgc2hvcnRlciB0aGFuIGRhdGEgKCR7ZH0pYCk7Y29uc3QgaD1bXTtsZXQgeT1jLmxlbmd0aCxtLHY7aWYoeT09PTMyKWgucHVzaChtPUJuKGMpKSx2PXNmO2Vsc2UgaWYoeT09PTE2JiZuKW09bmV3IFVpbnQ4QXJyYXkoMzIpLG0uc2V0KGMpLG0uc2V0KGMsMTYpLHY9b2YsaC5wdXNoKG0pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBhcng6IGludmFsaWQgMzItYnl0ZSBrZXksIGdvdCBsZW5ndGg9JHt5fWApO0FuKGYpfHxoLnB1c2goZj1CbihmKSk7Y29uc3QgVT1QdChtKTtpZihyKXtpZihmLmxlbmd0aCE9PTI0KXRocm93IG5ldyBFcnJvcihcImFyeDogZXh0ZW5kZWQgbm9uY2UgbXVzdCBiZSAyNCBieXRlc1wiKTtyKHYsVSxQdChmLnN1YmFycmF5KDAsMTYpKSxVKSxmPWYuc3ViYXJyYXkoMTYpfWNvbnN0IEY9MTYtbztpZihGIT09Zi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBhcng6IG5vbmNlIG11c3QgYmUgJHtGfSBvciAxNiBieXRlc2ApO2lmKEYhPT0xMil7Y29uc3QgWj1uZXcgVWludDhBcnJheSgxMik7Wi5zZXQoZixzPzA6MTItZi5sZW5ndGgpLGY9WixoLnB1c2goZil9Y29uc3QgUj1QdChmKTtyZXR1cm4gZmYodCx2LFUsUix1LGEsbCxpKSxRdCguLi5oKSxhfX1jb25zdCBXPSh0LGUpPT50W2UrK10mMjU1fCh0W2UrK10mMjU1KTw8ODtjbGFzcyB1Zntjb25zdHJ1Y3RvcihlKXt0aGlzLmJsb2NrTGVuPTE2LHRoaXMub3V0cHV0TGVuPTE2LHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KDE2KSx0aGlzLnI9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLmg9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLnBhZD1uZXcgVWludDE2QXJyYXkoOCksdGhpcy5wb3M9MCx0aGlzLmZpbmlzaGVkPSExLGU9RW4oZSksb3QoZSwzMik7Y29uc3Qgbj1XKGUsMCkscj1XKGUsMiksbz1XKGUsNCkscz1XKGUsNiksaT1XKGUsOCksYz1XKGUsMTApLGY9VyhlLDEyKSx1PVcoZSwxNCk7dGhpcy5yWzBdPW4mODE5MSx0aGlzLnJbMV09KG4+Pj4xM3xyPDwzKSY4MTkxLHRoaXMuclsyXT0ocj4+PjEwfG88PDYpJjc5MzksdGhpcy5yWzNdPShvPj4+N3xzPDw5KSY4MTkxLHRoaXMucls0XT0ocz4+PjR8aTw8MTIpJjI1NSx0aGlzLnJbNV09aT4+PjEmODE5MCx0aGlzLnJbNl09KGk+Pj4xNHxjPDwyKSY4MTkxLHRoaXMucls3XT0oYz4+PjExfGY8PDUpJjgwNjUsdGhpcy5yWzhdPShmPj4+OHx1PDw4KSY4MTkxLHRoaXMucls5XT11Pj4+NSYxMjc7Zm9yKGxldCBhPTA7YTw4O2ErKyl0aGlzLnBhZFthXT1XKGUsMTYrMiphKX1wcm9jZXNzKGUsbixyPSExKXtjb25zdCBvPXI/MDoyMDQ4LHtoOnMscjppfT10aGlzLGM9aVswXSxmPWlbMV0sdT1pWzJdLGE9aVszXSxsPWlbNF0sZD1pWzVdLGg9aVs2XSx5PWlbN10sbT1pWzhdLHY9aVs5XSxVPVcoZSxuKzApLEY9VyhlLG4rMiksUj1XKGUsbis0KSxaPVcoZSxuKzYpLEg9VyhlLG4rOCksaj1XKGUsbisxMCksTD1XKGUsbisxMiksaz1XKGUsbisxNCk7bGV0IE89c1swXSsoVSY4MTkxKSxUPXNbMV0rKChVPj4+MTN8Rjw8MykmODE5MSksQz1zWzJdKygoRj4+PjEwfFI8PDYpJjgxOTEpLF89c1szXSsoKFI+Pj43fFo8PDkpJjgxOTEpLHA9c1s0XSsoKFo+Pj40fEg8PDEyKSY4MTkxKSxiPXNbNV0rKEg+Pj4xJjgxOTEpLGc9c1s2XSsoKEg+Pj4xNHxqPDwyKSY4MTkxKSx4PXNbN10rKChqPj4+MTF8TDw8NSkmODE5MSksRT1zWzhdKygoTD4+Pjh8azw8OCkmODE5MSksQT1zWzldKyhrPj4+NXxvKSx3PTAsQj13K08qYytUKig1KnYpK0MqKDUqbSkrXyooNSp5KStwKig1KmgpO3c9Qj4+PjEzLEImPTgxOTEsQis9YiooNSpkKStnKig1KmwpK3gqKDUqYSkrRSooNSp1KStBKig1KmYpLHcrPUI+Pj4xMyxCJj04MTkxO2xldCBJPXcrTypmK1QqYytDKig1KnYpK18qKDUqbSkrcCooNSp5KTt3PUk+Pj4xMyxJJj04MTkxLEkrPWIqKDUqaCkrZyooNSpkKSt4Kig1KmwpK0UqKDUqYSkrQSooNSp1KSx3Kz1JPj4+MTMsSSY9ODE5MTtsZXQgTj13K08qdStUKmYrQypjK18qKDUqdikrcCooNSptKTt3PU4+Pj4xMyxOJj04MTkxLE4rPWIqKDUqeSkrZyooNSpoKSt4Kig1KmQpK0UqKDUqbCkrQSooNSphKSx3Kz1OPj4+MTMsTiY9ODE5MTtsZXQgRD13K08qYStUKnUrQypmK18qYytwKig1KnYpO3c9RD4+PjEzLEQmPTgxOTEsRCs9YiooNSptKStnKig1KnkpK3gqKDUqaCkrRSooNSpkKStBKig1KmwpLHcrPUQ+Pj4xMyxEJj04MTkxO2xldCBQPXcrTypsK1QqYStDKnUrXypmK3AqYzt3PVA+Pj4xMyxQJj04MTkxLFArPWIqKDUqdikrZyooNSptKSt4Kig1KnkpK0UqKDUqaCkrQSooNSpkKSx3Kz1QPj4+MTMsUCY9ODE5MTtsZXQgJD13K08qZCtUKmwrQyphK18qdStwKmY7dz0kPj4+MTMsJCY9ODE5MSwkKz1iKmMrZyooNSp2KSt4Kig1Km0pK0UqKDUqeSkrQSooNSpoKSx3Kz0kPj4+MTMsJCY9ODE5MTtsZXQgVj13K08qaCtUKmQrQypsK18qYStwKnU7dz1WPj4+MTMsViY9ODE5MSxWKz1iKmYrZypjK3gqKDUqdikrRSooNSptKStBKig1KnkpLHcrPVY+Pj4xMyxWJj04MTkxO2xldCBxPXcrTyp5K1QqaCtDKmQrXypsK3AqYTt3PXE+Pj4xMyxxJj04MTkxLHErPWIqdStnKmYreCpjK0UqKDUqdikrQSooNSptKSx3Kz1xPj4+MTMscSY9ODE5MTtsZXQgRz13K08qbStUKnkrQypoK18qZCtwKmw7dz1HPj4+MTMsRyY9ODE5MSxHKz1iKmErZyp1K3gqZitFKmMrQSooNSp2KSx3Kz1HPj4+MTMsRyY9ODE5MTtsZXQgTT13K08qditUKm0rQyp5K18qaCtwKmQ7dz1NPj4+MTMsTSY9ODE5MSxNKz1iKmwrZyphK3gqdStFKmYrQSpjLHcrPU0+Pj4xMyxNJj04MTkxLHc9KHc8PDIpK3d8MCx3PXcrQnwwLEI9dyY4MTkxLHc9dz4+PjEzLEkrPXcsc1swXT1CLHNbMV09SSxzWzJdPU4sc1szXT1ELHNbNF09UCxzWzVdPSQsc1s2XT1WLHNbN109cSxzWzhdPUcsc1s5XT1NfWZpbmFsaXplKCl7Y29uc3R7aDplLHBhZDpufT10aGlzLHI9bmV3IFVpbnQxNkFycmF5KDEwKTtsZXQgbz1lWzFdPj4+MTM7ZVsxXSY9ODE5MTtmb3IobGV0IGM9MjtjPDEwO2MrKyllW2NdKz1vLG89ZVtjXT4+PjEzLGVbY10mPTgxOTE7ZVswXSs9byo1LG89ZVswXT4+PjEzLGVbMF0mPTgxOTEsZVsxXSs9byxvPWVbMV0+Pj4xMyxlWzFdJj04MTkxLGVbMl0rPW8sclswXT1lWzBdKzUsbz1yWzBdPj4+MTMsclswXSY9ODE5MTtmb3IobGV0IGM9MTtjPDEwO2MrKylyW2NdPWVbY10rbyxvPXJbY10+Pj4xMyxyW2NdJj04MTkxO3JbOV0tPTgxOTI7bGV0IHM9KG9eMSktMTtmb3IobGV0IGM9MDtjPDEwO2MrKylyW2NdJj1zO3M9fnM7Zm9yKGxldCBjPTA7YzwxMDtjKyspZVtjXT1lW2NdJnN8cltjXTtlWzBdPShlWzBdfGVbMV08PDEzKSY2NTUzNSxlWzFdPShlWzFdPj4+M3xlWzJdPDwxMCkmNjU1MzUsZVsyXT0oZVsyXT4+PjZ8ZVszXTw8NykmNjU1MzUsZVszXT0oZVszXT4+Pjl8ZVs0XTw8NCkmNjU1MzUsZVs0XT0oZVs0XT4+PjEyfGVbNV08PDF8ZVs2XTw8MTQpJjY1NTM1LGVbNV09KGVbNl0+Pj4yfGVbN108PDExKSY2NTUzNSxlWzZdPShlWzddPj4+NXxlWzhdPDw4KSY2NTUzNSxlWzddPShlWzhdPj4+OHxlWzldPDw1KSY2NTUzNTtsZXQgaT1lWzBdK25bMF07ZVswXT1pJjY1NTM1O2ZvcihsZXQgYz0xO2M8ODtjKyspaT0oZVtjXStuW2NdfDApKyhpPj4+MTYpfDAsZVtjXT1pJjY1NTM1O1F0KHIpfXVwZGF0ZShlKXtobyh0aGlzKSxlPUVuKGUpLG90KGUpO2NvbnN0e2J1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKHItdGhpcy5wb3Msby1zKTtpZihpPT09cil7Zm9yKDtyPD1vLXM7cys9cil0aGlzLnByb2Nlc3MoZSxzKTtjb250aW51ZX1uLnNldChlLnN1YmFycmF5KHMscytpKSx0aGlzLnBvcyksdGhpcy5wb3MrPWkscys9aSx0aGlzLnBvcz09PXImJih0aGlzLnByb2Nlc3MobiwwLCExKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpc31kZXN0cm95KCl7UXQodGhpcy5oLHRoaXMucix0aGlzLmJ1ZmZlcix0aGlzLnBhZCl9ZGlnZXN0SW50byhlKXtobyh0aGlzKSxHYyhlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4saDpyfT10aGlzO2xldHtwb3M6b309dGhpcztpZihvKXtmb3IobltvKytdPTE7bzwxNjtvKyspbltvXT0wO3RoaXMucHJvY2VzcyhuLDAsITApfXRoaXMuZmluYWxpemUoKTtsZXQgcz0wO2ZvcihsZXQgaT0wO2k8ODtpKyspZVtzKytdPXJbaV0+Pj4wLGVbcysrXT1yW2ldPj4+ODtyZXR1cm4gZX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9fWZ1bmN0aW9uIGxmKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKEVuKHIpKS5kaWdlc3QoKSxuPXQobmV3IFVpbnQ4QXJyYXkoMzIpKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1jb25zdCBkZj1sZih0PT5uZXcgdWYodCkpO2Z1bmN0aW9uIGhmKHQsZSxuLHIsbyxzPTIwKXtsZXQgaT10WzBdLGM9dFsxXSxmPXRbMl0sdT10WzNdLGE9ZVswXSxsPWVbMV0sZD1lWzJdLGg9ZVszXSx5PWVbNF0sbT1lWzVdLHY9ZVs2XSxVPWVbN10sRj1vLFI9blswXSxaPW5bMV0sSD1uWzJdLGo9aSxMPWMsaz1mLE89dSxUPWEsQz1sLF89ZCxwPWgsYj15LGc9bSx4PXYsRT1VLEE9Rix3PVIsQj1aLEk9SDtmb3IobGV0IEQ9MDtEPHM7RCs9MilqPWorVHwwLEE9SyhBXmosMTYpLGI9YitBfDAsVD1LKFReYiwxMiksaj1qK1R8MCxBPUsoQV5qLDgpLGI9YitBfDAsVD1LKFReYiw3KSxMPUwrQ3wwLHc9Syh3XkwsMTYpLGc9Zyt3fDAsQz1LKENeZywxMiksTD1MK0N8MCx3PUsod15MLDgpLGc9Zyt3fDAsQz1LKENeZyw3KSxrPWsrX3wwLEI9SyhCXmssMTYpLHg9eCtCfDAsXz1LKF9eeCwxMiksaz1rK198MCxCPUsoQl5rLDgpLHg9eCtCfDAsXz1LKF9eeCw3KSxPPU8rcHwwLEk9SyhJXk8sMTYpLEU9RStJfDAscD1LKHBeRSwxMiksTz1PK3B8MCxJPUsoSV5PLDgpLEU9RStJfDAscD1LKHBeRSw3KSxqPWorQ3wwLEk9SyhJXmosMTYpLHg9eCtJfDAsQz1LKENeeCwxMiksaj1qK0N8MCxJPUsoSV5qLDgpLHg9eCtJfDAsQz1LKENeeCw3KSxMPUwrX3wwLEE9SyhBXkwsMTYpLEU9RStBfDAsXz1LKF9eRSwxMiksTD1MK198MCxBPUsoQV5MLDgpLEU9RStBfDAsXz1LKF9eRSw3KSxrPWsrcHwwLHc9Syh3XmssMTYpLGI9Yit3fDAscD1LKHBeYiwxMiksaz1rK3B8MCx3PUsod15rLDgpLGI9Yit3fDAscD1LKHBeYiw3KSxPPU8rVHwwLEI9SyhCXk8sMTYpLGc9ZytCfDAsVD1LKFReZywxMiksTz1PK1R8MCxCPUsoQl5PLDgpLGc9ZytCfDAsVD1LKFReZyw3KTtsZXQgTj0wO3JbTisrXT1pK2p8MCxyW04rK109YytMfDAscltOKytdPWYra3wwLHJbTisrXT11K098MCxyW04rK109YStUfDAscltOKytdPWwrQ3wwLHJbTisrXT1kK198MCxyW04rK109aCtwfDAscltOKytdPXkrYnwwLHJbTisrXT1tK2d8MCxyW04rK109dit4fDAscltOKytdPVUrRXwwLHJbTisrXT1GK0F8MCxyW04rK109Uit3fDAscltOKytdPVorQnwwLHJbTisrXT1IK0l8MH1jb25zdCBwZj1hZihoZix7Y291bnRlclJpZ2h0OiExLGNvdW50ZXJMZW5ndGg6NCxhbGxvd1Nob3J0S2V5czohMX0pLGdmPW5ldyBVaW50OEFycmF5KDE2KSx3bz0odCxlKT0+e3QudXBkYXRlKGUpO2NvbnN0IG49ZS5sZW5ndGglMTY7biYmdC51cGRhdGUoZ2Yuc3ViYXJyYXkobikpfSxiZj1uZXcgVWludDhBcnJheSgzMik7ZnVuY3Rpb24gdm8odCxlLG4scixvKXtjb25zdCBzPXQoZSxuLGJmKSxpPWRmLmNyZWF0ZShzKTtvJiZ3byhpLG8pLHdvKGkscik7Y29uc3QgYz10ZihyLmxlbmd0aCxvP28ubGVuZ3RoOjAsITApO2kudXBkYXRlKGMpO2NvbnN0IGY9aS5kaWdlc3QoKTtyZXR1cm4gUXQocyxjKSxmfWNvbnN0IHlmPXQ9PihlLG4scik9Pih7ZW5jcnlwdChzLGkpe2NvbnN0IGM9cy5sZW5ndGg7aT1wbyhjKzE2LGksITEpLGkuc2V0KHMpO2NvbnN0IGY9aS5zdWJhcnJheSgwLC0xNik7dChlLG4sZixmLDEpO2NvbnN0IHU9dm8odCxlLG4sZixyKTtyZXR1cm4gaS5zZXQodSxjKSxRdCh1KSxpfSxkZWNyeXB0KHMsaSl7aT1wbyhzLmxlbmd0aC0xNixpLCExKTtjb25zdCBjPXMuc3ViYXJyYXkoMCwtMTYpLGY9cy5zdWJhcnJheSgtMTYpLHU9dm8odCxlLG4sYyxyKTtpZighSmMoZix1KSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRhZ1wiKTtyZXR1cm4gaS5zZXQocy5zdWJhcnJheSgwLC0xNikpLHQoZSxuLGksaSwxKSxRdCh1KSxpfX0pLHhvPVFjKHtibG9ja1NpemU6NjQsbm9uY2VMZW5ndGg6MTIsdGFnTGVuZ3RoOjE2fSx5ZihwZikpO2NsYXNzIEVvIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsVWUoZSk7Y29uc3Qgcj1wdChuKTtpZih0aGlzLmlIYXNoPWUuY3JlYXRlKCksdHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaW5zdGFuY2Ugb2YgY2xhc3Mgd2hpY2ggZXh0ZW5kcyB1dGlscy5IYXNoXCIpO3RoaXMuYmxvY2tMZW49dGhpcy5pSGFzaC5ibG9ja0xlbix0aGlzLm91dHB1dExlbj10aGlzLmlIYXNoLm91dHB1dExlbjtjb25zdCBvPXRoaXMuYmxvY2tMZW4scz1uZXcgVWludDhBcnJheShvKTtzLnNldChyLmxlbmd0aD5vP2UuY3JlYXRlKCkudXBkYXRlKHIpLmRpZ2VzdCgpOnIpO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXNbaV1ePTU0O3RoaXMuaUhhc2gudXBkYXRlKHMpLHRoaXMub0hhc2g9ZS5jcmVhdGUoKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKylzW2ldXj0xMDY7dGhpcy5vSGFzaC51cGRhdGUocyksbHQocyl9dXBkYXRlKGUpe3JldHVybiBOdCh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZShlKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksaHQoZSx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8oZSksdGhpcy5vSGFzaC51cGRhdGUoZSksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8oZSksZX1fY2xvbmVJbnRvKGUpe2V8fChlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6bixpSGFzaDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsYmxvY2tMZW46aSxvdXRwdXRMZW46Y309dGhpcztyZXR1cm4gZT1lLGUuZmluaXNoZWQ9byxlLmRlc3Ryb3llZD1zLGUuYmxvY2tMZW49aSxlLm91dHB1dExlbj1jLGUub0hhc2g9bi5fY2xvbmVJbnRvKGUub0hhc2gpLGUuaUhhc2g9ci5fY2xvbmVJbnRvKGUuaUhhc2gpLGV9Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1jb25zdCBrZT0odCxlLG4pPT5uZXcgRW8odCxlKS51cGRhdGUobikuZGlnZXN0KCk7a2UuY3JlYXRlPSh0LGUpPT5uZXcgRW8odCxlKTtmdW5jdGlvbiBtZih0LGUsbil7cmV0dXJuIFVlKHQpLG49PT12b2lkIDAmJihuPW5ldyBVaW50OEFycmF5KHQub3V0cHV0TGVuKSksa2UodCxwdChuKSxwdChlKSl9Y29uc3QgSW49VWludDhBcnJheS5mcm9tKFswXSksQm89VWludDhBcnJheS5vZigpO2Z1bmN0aW9uIHdmKHQsZSxuLHI9MzIpe1VlKHQpLG10KHIpO2NvbnN0IG89dC5vdXRwdXRMZW47aWYocj4yNTUqbyl0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IHM9TWF0aC5jZWlsKHIvbyk7bj09PXZvaWQgMCYmKG49Qm8pO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkocypvKSxjPWtlLmNyZWF0ZSh0LGUpLGY9Yy5fY2xvbmVJbnRvKCksdT1uZXcgVWludDhBcnJheShjLm91dHB1dExlbik7Zm9yKGxldCBhPTA7YTxzO2ErKylJblswXT1hKzEsZi51cGRhdGUoYT09PTA/Qm86dSkudXBkYXRlKG4pLnVwZGF0ZShJbikuZGlnZXN0SW50byh1KSxpLnNldCh1LG8qYSksYy5fY2xvbmVJbnRvKGYpO3JldHVybiBjLmRlc3Ryb3koKSxmLmRlc3Ryb3koKSxsdCh1LEluKSxpLnNsaWNlKDAscil9Y29uc3QgdmY9KHQsZSxuLHIsbyk9PndmKHQsbWYodCxlLG4pLHIsbyksUGU9JGUsU249QmlnSW50KDApLE9uPUJpZ0ludCgxKTtmdW5jdGlvbiBIZSh0LGU9XCJcIil7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXtjb25zdCBuPWUmJmBcIiR7ZX1cImA7dGhyb3cgbmV3IEVycm9yKG4rXCJleHBlY3RlZCBib29sZWFuLCBnb3QgdHlwZT1cIit0eXBlb2YgdCl9cmV0dXJuIHR9ZnVuY3Rpb24gS3QodCxlLG49XCJcIil7Y29uc3Qgcj1OZSh0KSxvPXQ/Lmxlbmd0aCxzPWUhPT12b2lkIDA7aWYoIXJ8fHMmJm8hPT1lKXtjb25zdCBpPW4mJmBcIiR7bn1cIiBgLGM9cz9gIG9mIGxlbmd0aCAke2V9YDpcIlwiLGY9cj9gbGVuZ3RoPSR7b31gOmB0eXBlPSR7dHlwZW9mIHR9YDt0aHJvdyBuZXcgRXJyb3IoaStcImV4cGVjdGVkIFVpbnQ4QXJyYXlcIitjK1wiLCBnb3QgXCIrZil9cmV0dXJuIHR9ZnVuY3Rpb24gRGUodCl7Y29uc3QgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGgmMT9cIjBcIitlOmV9ZnVuY3Rpb24gQW8odCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/U246QmlnSW50KFwiMHhcIit0KX1mdW5jdGlvbiBWZSh0KXtyZXR1cm4gQW8oSnQodCkpfWZ1bmN0aW9uIE1lKHQpe3JldHVybiBodCh0KSxBbyhKdChVaW50OEFycmF5LmZyb20odCkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gTm4odCxlKXtyZXR1cm4gX2UodC50b1N0cmluZygxNikucGFkU3RhcnQoZSoyLFwiMFwiKSl9ZnVuY3Rpb24gVW4odCxlKXtyZXR1cm4gTm4odCxlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gdHQodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPV9lKGUpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZihOZShlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9Y29uc3QgX249dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJlNuPD10O2Z1bmN0aW9uIHhmKHQsZSxuKXtyZXR1cm4gX24odCkmJl9uKGUpJiZfbihuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIFJuKHQsZSxuLHIpe2lmKCF4ZihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIElvKHQpe2xldCBlO2ZvcihlPTA7dD5Tbjt0Pj49T24sZSs9MSk7cmV0dXJuIGV9Y29uc3QgeWU9dD0+KE9uPDxCaWdJbnQodCkpLU9uO2Z1bmN0aW9uIEVmKHQsZSxuKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwyKXRocm93IG5ldyBFcnJvcihcImhhc2hMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZih0eXBlb2YgZSE9XCJudW1iZXJcInx8ZTwyKXRocm93IG5ldyBFcnJvcihcInFCeXRlTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2NvbnN0IHI9aD0+bmV3IFVpbnQ4QXJyYXkoaCksbz1oPT5VaW50OEFycmF5Lm9mKGgpO2xldCBzPXIodCksaT1yKHQpLGM9MDtjb25zdCBmPSgpPT57cy5maWxsKDEpLGkuZmlsbCgwKSxjPTB9LHU9KC4uLmgpPT5uKGkscywuLi5oKSxhPShoPXIoMCkpPT57aT11KG8oMCksaCkscz11KCksaC5sZW5ndGghPT0wJiYoaT11KG8oMSksaCkscz11KCkpfSxsPSgpPT57aWYoYysrPj0xZTMpdGhyb3cgbmV3IEVycm9yKFwiZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXNcIik7bGV0IGg9MDtjb25zdCB5PVtdO2Zvcig7aDxlOyl7cz11KCk7Y29uc3QgbT1zLnNsaWNlKCk7eS5wdXNoKG0pLGgrPXMubGVuZ3RofXJldHVybiBfdCguLi55KX07cmV0dXJuKGgseSk9PntmKCksYShoKTtsZXQgbTtmb3IoOyEobT15KGwoKSkpOylhKCk7cmV0dXJuIGYoKSxtfX1mdW5jdGlvbiBLZSh0LGUsbj17fSl7aWYoIXR8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhbGlkIG9wdGlvbnMgb2JqZWN0XCIpO2Z1bmN0aW9uIHIobyxzLGkpe2NvbnN0IGM9dFtvXTtpZihpJiZjPT09dm9pZCAwKXJldHVybjtjb25zdCBmPXR5cGVvZiBjO2lmKGYhPT1zfHxjPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYHBhcmFtIFwiJHtvfVwiIGlzIGludmFsaWQ6IGV4cGVjdGVkICR7c30sIGdvdCAke2Z9YCl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW28sc10pPT5yKG8scywhMSkpLE9iamVjdC5lbnRyaWVzKG4pLmZvckVhY2goKFtvLHNdKT0+cihvLHMsITApKX1mdW5jdGlvbiBTbyh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IHM9dChuLC4uLnIpO3JldHVybiBlLnNldChuLHMpLHN9fWNvbnN0IHN0PUJpZ0ludCgwKSxudD1CaWdJbnQoMSkscXQ9QmlnSW50KDIpLE9vPUJpZ0ludCgzKSxObz1CaWdJbnQoNCksVW89QmlnSW50KDUpLEJmPUJpZ0ludCg3KSxfbz1CaWdJbnQoOCksQWY9QmlnSW50KDkpLFJvPUJpZ0ludCgxNik7ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPXQlZTtyZXR1cm4gbj49c3Q/bjplK259ZnVuY3Rpb24gZ3QodCxlLG4pe2xldCByPXQ7Zm9yKDtlLS0gPnN0OylyKj1yLHIlPW47cmV0dXJuIHJ9ZnVuY3Rpb24gJG8odCxlKXtpZih0PT09c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXJcIik7aWYoZTw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBtb2R1bHVzLCBnb3QgXCIrZSk7bGV0IG49Y3QodCxlKSxyPWUsbz1zdCxzPW50O2Zvcig7biE9PXN0Oyl7Y29uc3QgYz1yL24sZj1yJW4sdT1vLXMqYztyPW4sbj1mLG89cyxzPXV9aWYociE9PW50KXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIGN0KG8sZSl9ZnVuY3Rpb24gJG4odCxlLG4pe2lmKCF0LmVxbCh0LnNxcihlKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKX1mdW5jdGlvbiBUbyh0LGUpe2NvbnN0IG49KHQuT1JERVIrbnQpL05vLHI9dC5wb3coZSxuKTtyZXR1cm4gJG4odCxyLGUpLHJ9ZnVuY3Rpb24gSWYodCxlKXtjb25zdCBuPSh0Lk9SREVSLVVvKS9fbyxyPXQubXVsKGUscXQpLG89dC5wb3cocixuKSxzPXQubXVsKGUsbyksaT10Lm11bCh0Lm11bChzLHF0KSxvKSxjPXQubXVsKHMsdC5zdWIoaSx0Lk9ORSkpO3JldHVybiAkbih0LGMsZSksY31mdW5jdGlvbiBTZih0KXtjb25zdCBlPUh0KHQpLG49Q28odCkscj1uKGUsZS5uZWcoZS5PTkUpKSxvPW4oZSxyKSxzPW4oZSxlLm5lZyhyKSksaT0odCtCZikvUm87cmV0dXJuKGMsZik9PntsZXQgdT1jLnBvdyhmLGkpLGE9Yy5tdWwodSxyKTtjb25zdCBsPWMubXVsKHUsbyksZD1jLm11bCh1LHMpLGg9Yy5lcWwoYy5zcXIoYSksZikseT1jLmVxbChjLnNxcihsKSxmKTt1PWMuY21vdih1LGEsaCksYT1jLmNtb3YoZCxsLHkpO2NvbnN0IG09Yy5lcWwoYy5zcXIoYSksZiksdj1jLmNtb3YodSxhLG0pO3JldHVybiAkbihjLHYsZiksdn19ZnVuY3Rpb24gQ28odCl7aWYodDxPbyl0aHJvdyBuZXcgRXJyb3IoXCJzcXJ0IGlzIG5vdCBkZWZpbmVkIGZvciBzbWFsbCBmaWVsZFwiKTtsZXQgZT10LW50LG49MDtmb3IoO2UlcXQ9PT1zdDspZS89cXQsbisrO2xldCByPXF0O2NvbnN0IG89SHQodCk7Zm9yKDtMbyhvLHIpPT09MTspaWYocisrPjFlMyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogcHJvYmFibHkgbm9uLXByaW1lIFBcIik7aWYobj09PTEpcmV0dXJuIFRvO2xldCBzPW8ucG93KHIsZSk7Y29uc3QgaT0oZStudCkvcXQ7cmV0dXJuIGZ1bmN0aW9uKGYsdSl7aWYoZi5pczAodSkpcmV0dXJuIHU7aWYoTG8oZix1KSE9PTEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IGE9bixsPWYubXVsKGYuT05FLHMpLGQ9Zi5wb3codSxlKSxoPWYucG93KHUsaSk7Zm9yKDshZi5lcWwoZCxmLk9ORSk7KXtpZihmLmlzMChkKSlyZXR1cm4gZi5aRVJPO2xldCB5PTEsbT1mLnNxcihkKTtmb3IoOyFmLmVxbChtLGYuT05FKTspaWYoeSsrLG09Zi5zcXIobSkseT09PWEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7Y29uc3Qgdj1udDw8QmlnSW50KGEteS0xKSxVPWYucG93KGwsdik7YT15LGw9Zi5zcXIoVSksZD1mLm11bChkLGwpLGg9Zi5tdWwoaCxVKX1yZXR1cm4gaH19ZnVuY3Rpb24gT2YodCl7cmV0dXJuIHQlTm89PT1Pbz9Ubzp0JV9vPT09VW8/SWY6dCVSbz09PUFmP1NmKHQpOkNvKHQpfWNvbnN0IE5mPVtcImNyZWF0ZVwiLFwiaXNWYWxpZFwiLFwiaXMwXCIsXCJuZWdcIixcImludlwiLFwic3FydFwiLFwic3FyXCIsXCJlcWxcIixcImFkZFwiLFwic3ViXCIsXCJtdWxcIixcInBvd1wiLFwiZGl2XCIsXCJhZGROXCIsXCJzdWJOXCIsXCJtdWxOXCIsXCJzcXJOXCJdO2Z1bmN0aW9uIFVmKHQpe2NvbnN0IGU9e09SREVSOlwiYmlnaW50XCIsTUFTSzpcImJpZ2ludFwiLEJZVEVTOlwibnVtYmVyXCIsQklUUzpcIm51bWJlclwifSxuPU5mLnJlZHVjZSgocixvKT0+KHJbb109XCJmdW5jdGlvblwiLHIpLGUpO3JldHVybiBLZSh0LG4pLHR9ZnVuY3Rpb24gX2YodCxlLG4pe2lmKG48c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG49PT1zdClyZXR1cm4gdC5PTkU7aWYobj09PW50KXJldHVybiBlO2xldCByPXQuT05FLG89ZTtmb3IoO24+c3Q7KW4mbnQmJihyPXQubXVsKHIsbykpLG89dC5zcXIobyksbj4+PW50O3JldHVybiByfWZ1bmN0aW9uIGpvKHQsZSxuPSExKXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCkuZmlsbChuP3QuWkVSTzp2b2lkIDApLG89ZS5yZWR1Y2UoKGksYyxmKT0+dC5pczAoYyk/aToocltmXT1pLHQubXVsKGksYykpLHQuT05FKSxzPXQuaW52KG8pO3JldHVybiBlLnJlZHVjZVJpZ2h0KChpLGMsZik9PnQuaXMwKGMpP2k6KHJbZl09dC5tdWwoaSxyW2ZdKSx0Lm11bChpLGMpKSxzKSxyfWZ1bmN0aW9uIExvKHQsZSl7Y29uc3Qgbj0odC5PUkRFUi1udCkvcXQscj10LnBvdyhlLG4pLG89dC5lcWwocix0Lk9ORSkscz10LmVxbChyLHQuWkVSTyksaT10LmVxbChyLHQubmVnKHQuT05FKSk7aWYoIW8mJiFzJiYhaSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIExlZ2VuZHJlIHN5bWJvbCByZXN1bHRcIik7cmV0dXJuIG8/MTpzPzA6LTF9ZnVuY3Rpb24ga28odCxlKXtlIT09dm9pZCAwJiZtdChlKTtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gSHQodCxlLG49ITEscj17fSl7aWYodDw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgXCIrdCk7bGV0IG8scyxpPSExLGM7aWYodHlwZW9mIGU9PVwib2JqZWN0XCImJmUhPW51bGwpe2lmKHIuc3FydHx8bil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3Qgc3BlY2lmeSBvcHRzIGluIHR3byBhcmd1bWVudHNcIik7Y29uc3QgZD1lO2QuQklUUyYmKG89ZC5CSVRTKSxkLnNxcnQmJihzPWQuc3FydCksdHlwZW9mIGQuaXNMRT09XCJib29sZWFuXCImJihuPWQuaXNMRSksdHlwZW9mIGQubW9kRnJvbUJ5dGVzPT1cImJvb2xlYW5cIiYmKGk9ZC5tb2RGcm9tQnl0ZXMpLGM9ZC5hbGxvd2VkTGVuZ3Roc31lbHNlIHR5cGVvZiBlPT1cIm51bWJlclwiJiYobz1lKSxyLnNxcnQmJihzPXIuc3FydCk7Y29uc3R7bkJpdExlbmd0aDpmLG5CeXRlTGVuZ3RoOnV9PWtvKHQsbyk7aWYodT4yMDQ4KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSIG9mIDw9IDIwNDggYnl0ZXNcIik7bGV0IGE7Y29uc3QgbD1PYmplY3QuZnJlZXplKHtPUkRFUjp0LGlzTEU6bixCSVRTOmYsQllURVM6dSxNQVNLOnllKGYpLFpFUk86c3QsT05FOm50LGFsbG93ZWRMZW5ndGhzOmMsY3JlYXRlOmQ9PmN0KGQsdCksaXNWYWxpZDpkPT57aWYodHlwZW9mIGQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgZCk7cmV0dXJuIHN0PD1kJiZkPHR9LGlzMDpkPT5kPT09c3QsaXNWYWxpZE5vdDA6ZD0+IWwuaXMwKGQpJiZsLmlzVmFsaWQoZCksaXNPZGQ6ZD0+KGQmbnQpPT09bnQsbmVnOmQ9PmN0KC1kLHQpLGVxbDooZCxoKT0+ZD09PWgsc3FyOmQ9PmN0KGQqZCx0KSxhZGQ6KGQsaCk9PmN0KGQraCx0KSxzdWI6KGQsaCk9PmN0KGQtaCx0KSxtdWw6KGQsaCk9PmN0KGQqaCx0KSxwb3c6KGQsaCk9Pl9mKGwsZCxoKSxkaXY6KGQsaCk9PmN0KGQqJG8oaCx0KSx0KSxzcXJOOmQ9PmQqZCxhZGROOihkLGgpPT5kK2gsc3ViTjooZCxoKT0+ZC1oLG11bE46KGQsaCk9PmQqaCxpbnY6ZD0+JG8oZCx0KSxzcXJ0OnN8fChkPT4oYXx8KGE9T2YodCkpLGEobCxkKSkpLHRvQnl0ZXM6ZD0+bj9VbihkLHUpOk5uKGQsdSksZnJvbUJ5dGVzOihkLGg9ITApPT57aWYoYyl7aWYoIWMuaW5jbHVkZXMoZC5sZW5ndGgpfHxkLmxlbmd0aD51KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrYytcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtjb25zdCBtPW5ldyBVaW50OEFycmF5KHUpO20uc2V0KGQsbj8wOm0ubGVuZ3RoLWQubGVuZ3RoKSxkPW19aWYoZC5sZW5ndGghPT11KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrdStcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtsZXQgeT1uP01lKGQpOlZlKGQpO2lmKGkmJih5PWN0KHksdCkpLCFoJiYhbC5pc1ZhbGlkKHkpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQgZWxlbWVudDogb3V0c2lkZSBvZiByYW5nZSAwLi5PUkRFUlwiKTtyZXR1cm4geX0saW52ZXJ0QmF0Y2g6ZD0+am8obCxkKSxjbW92OihkLGgseSk9Pnk/aDpkfSk7cmV0dXJuIE9iamVjdC5mcmVlemUobCl9ZnVuY3Rpb24gUG8odCl7aWYodHlwZW9mIHQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiZmllbGQgb3JkZXIgbXVzdCBiZSBiaWdpbnRcIik7Y29uc3QgZT10LnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm4gTWF0aC5jZWlsKGUvOCl9ZnVuY3Rpb24gSG8odCl7Y29uc3QgZT1Qbyh0KTtyZXR1cm4gZStNYXRoLmNlaWwoZS8yKX1mdW5jdGlvbiBSZih0LGUsbj0hMSl7Y29uc3Qgcj10Lmxlbmd0aCxvPVBvKGUpLHM9SG8oZSk7aWYocjwxNnx8cjxzfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgXCIrcytcIi0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgXCIrcik7Y29uc3QgaT1uP01lKHQpOlZlKHQpLGM9Y3QoaSxlLW50KStudDtyZXR1cm4gbj9VbihjLG8pOk5uKGMsbyl9Y29uc3QgdGU9QmlnSW50KDApLEZ0PUJpZ0ludCgxKTtmdW5jdGlvbiBxZSh0LGUpe2NvbnN0IG49ZS5uZWdhdGUoKTtyZXR1cm4gdD9uOmV9ZnVuY3Rpb24gVG4odCxlKXtjb25zdCBuPWpvKHQuRnAsZS5tYXAocj0+ci5aKSk7cmV0dXJuIGUubWFwKChyLG8pPT50LmZyb21BZmZpbmUoci50b0FmZmluZShuW29dKSkpfWZ1bmN0aW9uIERvKHQsZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PD0wfHx0PmUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB3aW5kb3cgc2l6ZSwgZXhwZWN0ZWQgWzEuLlwiK2UrXCJdLCBnb3QgVz1cIit0KX1mdW5jdGlvbiBDbih0LGUpe0RvKHQsZSk7Y29uc3Qgbj1NYXRoLmNlaWwoZS90KSsxLHI9MioqKHQtMSksbz0yKip0LHM9eWUodCksaT1CaWdJbnQodCk7cmV0dXJue3dpbmRvd3M6bix3aW5kb3dTaXplOnIsbWFzazpzLG1heE51bWJlcjpvLHNoaWZ0Qnk6aX19ZnVuY3Rpb24gVm8odCxlLG4pe2NvbnN0e3dpbmRvd1NpemU6cixtYXNrOm8sbWF4TnVtYmVyOnMsc2hpZnRCeTppfT1uO2xldCBjPU51bWJlcih0Jm8pLGY9dD4+aTtjPnImJihjLT1zLGYrPUZ0KTtjb25zdCB1PWUqcixhPXUrTWF0aC5hYnMoYyktMSxsPWM9PT0wLGQ9YzwwLGg9ZSUyIT09MDtyZXR1cm57bmV4dE46ZixvZmZzZXQ6YSxpc1plcm86bCxpc05lZzpkLGlzTmVnRjpoLG9mZnNldEY6dX19ZnVuY3Rpb24gJGYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighKG4gaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50IGF0IGluZGV4IFwiK3IpfSl9ZnVuY3Rpb24gVGYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCFlLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggXCIrcil9KX1jb25zdCBqbj1uZXcgV2Vha01hcCxNbz1uZXcgV2Vha01hcDtmdW5jdGlvbiBMbih0KXtyZXR1cm4gTW8uZ2V0KHQpfHwxfWZ1bmN0aW9uIEtvKHQpe2lmKHQhPT10ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHdOQUZcIil9Y2xhc3MgQ2Z7Y29uc3RydWN0b3IoZSxuKXt0aGlzLkJBU0U9ZS5CQVNFLHRoaXMuWkVSTz1lLlpFUk8sdGhpcy5Gbj1lLkZuLHRoaXMuYml0cz1ufV91bnNhZmVMYWRkZXIoZSxuLHI9dGhpcy5aRVJPKXtsZXQgbz1lO2Zvcig7bj50ZTspbiZGdCYmKHI9ci5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQ7cmV0dXJuIHJ9cHJlY29tcHV0ZVdpbmRvdyhlLG4pe2NvbnN0e3dpbmRvd3M6cix3aW5kb3dTaXplOm99PUNuKG4sdGhpcy5iaXRzKSxzPVtdO2xldCBpPWUsYz1pO2ZvcihsZXQgZj0wO2Y8cjtmKyspe2M9aSxzLnB1c2goYyk7Zm9yKGxldCB1PTE7dTxvO3UrKyljPWMuYWRkKGkpLHMucHVzaChjKTtpPWMuZG91YmxlKCl9cmV0dXJuIHN9d05BRihlLG4scil7aWYoIXRoaXMuRm4uaXNWYWxpZChyKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhclwiKTtsZXQgbz10aGlzLlpFUk8scz10aGlzLkJBU0U7Y29uc3QgaT1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBjPTA7YzxpLndpbmRvd3M7YysrKXtjb25zdHtuZXh0TjpmLG9mZnNldDp1LGlzWmVybzphLGlzTmVnOmwsaXNOZWdGOmQsb2Zmc2V0RjpofT1WbyhyLGMsaSk7cj1mLGE/cz1zLmFkZChxZShkLG5baF0pKTpvPW8uYWRkKHFlKGwsblt1XSkpfXJldHVybiBLbyhyKSx7cDpvLGY6c319d05BRlVuc2FmZShlLG4scixvPXRoaXMuWkVSTyl7Y29uc3Qgcz1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBpPTA7aTxzLndpbmRvd3MmJnIhPT10ZTtpKyspe2NvbnN0e25leHROOmMsb2Zmc2V0OmYsaXNaZXJvOnUsaXNOZWc6YX09Vm8ocixpLHMpO2lmKHI9YywhdSl7Y29uc3QgbD1uW2ZdO289by5hZGQoYT9sLm5lZ2F0ZSgpOmwpfX1yZXR1cm4gS28ociksb31nZXRQcmVjb21wdXRlcyhlLG4scil7bGV0IG89am4uZ2V0KG4pO3JldHVybiBvfHwobz10aGlzLnByZWNvbXB1dGVXaW5kb3cobixlKSxlIT09MSYmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJihvPXIobykpLGpuLnNldChuLG8pKSksb31jYWNoZWQoZSxuLHIpe2NvbnN0IG89TG4oZSk7cmV0dXJuIHRoaXMud05BRihvLHRoaXMuZ2V0UHJlY29tcHV0ZXMobyxlLHIpLG4pfXVuc2FmZShlLG4scixvKXtjb25zdCBzPUxuKGUpO3JldHVybiBzPT09MT90aGlzLl91bnNhZmVMYWRkZXIoZSxuLG8pOnRoaXMud05BRlVuc2FmZShzLHRoaXMuZ2V0UHJlY29tcHV0ZXMocyxlLHIpLG4sbyl9Y3JlYXRlQ2FjaGUoZSxuKXtEbyhuLHRoaXMuYml0cyksTW8uc2V0KGUsbiksam4uZGVsZXRlKGUpfWhhc0NhY2hlKGUpe3JldHVybiBMbihlKSE9PTF9fWZ1bmN0aW9uIGpmKHQsZSxuLHIpe2xldCBvPWUscz10LlpFUk8saT10LlpFUk87Zm9yKDtuPnRlfHxyPnRlOyluJkZ0JiYocz1zLmFkZChvKSksciZGdCYmKGk9aS5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQscj4+PUZ0O3JldHVybntwMTpzLHAyOml9fWZ1bmN0aW9uIExmKHQsZSxuLHIpeyRmKG4sdCksVGYocixlKTtjb25zdCBvPW4ubGVuZ3RoLHM9ci5sZW5ndGg7aWYobyE9PXMpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoXCIpO2NvbnN0IGk9dC5aRVJPLGM9SW8oQmlnSW50KG8pKTtsZXQgZj0xO2M+MTI/Zj1jLTM6Yz40P2Y9Yy0yOmM+MCYmKGY9Mik7Y29uc3QgdT15ZShmKSxhPW5ldyBBcnJheShOdW1iZXIodSkrMSkuZmlsbChpKSxsPU1hdGguZmxvb3IoKGUuQklUUy0xKS9mKSpmO2xldCBkPWk7Zm9yKGxldCBoPWw7aD49MDtoLT1mKXthLmZpbGwoaSk7Zm9yKGxldCBtPTA7bTxzO20rKyl7Y29uc3Qgdj1yW21dLFU9TnVtYmVyKHY+PkJpZ0ludChoKSZ1KTthW1VdPWFbVV0uYWRkKG5bbV0pfWxldCB5PWk7Zm9yKGxldCBtPWEubGVuZ3RoLTEsdj1pO20+MDttLS0pdj12LmFkZChhW21dKSx5PXkuYWRkKHYpO2lmKGQ9ZC5hZGQoeSksaCE9PTApZm9yKGxldCBtPTA7bTxmO20rKylkPWQuZG91YmxlKCl9cmV0dXJuIGR9ZnVuY3Rpb24gcW8odCxlLG4pe2lmKGUpe2lmKGUuT1JERVIhPT10KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLk9SREVSIG11c3QgbWF0Y2ggb3JkZXI6IEZwID09IHAsIEZuID09IG5cIik7cmV0dXJuIFVmKGUpLGV9ZWxzZSByZXR1cm4gSHQodCx7aXNMRTpufSl9ZnVuY3Rpb24ga2YodCxlLG49e30scil7aWYocj09PXZvaWQgMCYmKHI9dD09PVwiZWR3YXJkc1wiKSwhZXx8dHlwZW9mIGUhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCB2YWxpZCAke3R9IENVUlZFIG9iamVjdGApO2Zvcihjb25zdCBmIG9mW1wicFwiLFwiblwiLFwiaFwiXSl7Y29uc3QgdT1lW2ZdO2lmKCEodHlwZW9mIHU9PVwiYmlnaW50XCImJnU+dGUpKXRocm93IG5ldyBFcnJvcihgQ1VSVkUuJHtmfSBtdXN0IGJlIHBvc2l0aXZlIGJpZ2ludGApfWNvbnN0IG89cW8oZS5wLG4uRnAscikscz1xbyhlLm4sbi5GbixyKSxjPVtcIkd4XCIsXCJHeVwiLFwiYVwiLHQ9PT1cIndlaWVyc3RyYXNzXCI/XCJiXCI6XCJkXCJdO2Zvcihjb25zdCBmIG9mIGMpaWYoIW8uaXNWYWxpZChlW2ZdKSl0aHJvdyBuZXcgRXJyb3IoYENVUlZFLiR7Zn0gbXVzdCBiZSB2YWxpZCBmaWVsZCBlbGVtZW50IG9mIENVUlZFLkZwYCk7cmV0dXJuIGU9T2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LGUpKSx7Q1VSVkU6ZSxGcDpvLEZuOnN9fUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDIpLEJpZ0ludCg4KSxrcihcIkhhc2hUb1NjYWxhci1cIik7Y29uc3QgbWU9QmlnSW50KDApLGVlPUJpZ0ludCgxKSxGZT1CaWdJbnQoMik7ZnVuY3Rpb24gUGYodCl7cmV0dXJuIEtlKHQse2FkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixwb3dQbWludXMyOlwiZnVuY3Rpb25cIn0pLE9iamVjdC5mcmVlemUoey4uLnR9KX1mdW5jdGlvbiBIZih0KXtjb25zdCBlPVBmKHQpLHtQOm4sdHlwZTpyLGFkanVzdFNjYWxhckJ5dGVzOm8scG93UG1pbnVzMjpzLHJhbmRvbUJ5dGVzOml9PWUsYz1yPT09XCJ4MjU1MTlcIjtpZighYyYmciE9PVwieDQ0OFwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdHlwZVwiKTtjb25zdCBmPWl8fE10LHU9Yz8yNTU6NDQ4LGE9Yz8zMjo1NixsPUJpZ0ludChjPzk6NSksZD1CaWdJbnQoYz8xMjE2NjU6MzkwODEpLGg9Yz9GZSoqQmlnSW50KDI1NCk6RmUqKkJpZ0ludCg0NDcpLHk9Yz9CaWdJbnQoOCkqRmUqKkJpZ0ludCgyNTEpLWVlOkJpZ0ludCg0KSpGZSoqQmlnSW50KDQ0NSktZWUsbT1oK3krZWUsdj1wPT5jdChwLG4pLFU9RihsKTtmdW5jdGlvbiBGKHApe3JldHVybiBVbih2KHApLGEpfWZ1bmN0aW9uIFIocCl7Y29uc3QgYj10dChcInUgY29vcmRpbmF0ZVwiLHAsYSk7cmV0dXJuIGMmJihiWzMxXSY9MTI3KSx2KE1lKGIpKX1mdW5jdGlvbiBaKHApe3JldHVybiBNZShvKHR0KFwic2NhbGFyXCIscCxhKSkpfWZ1bmN0aW9uIEgocCxiKXtjb25zdCBnPWsoUihiKSxaKHApKTtpZihnPT09bWUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIG9yIHB1YmxpYyBrZXkgcmVjZWl2ZWRcIik7cmV0dXJuIEYoZyl9ZnVuY3Rpb24gaihwKXtyZXR1cm4gSChwLFUpfWZ1bmN0aW9uIEwocCxiLGcpe2NvbnN0IHg9dihwKihiLWcpKTtyZXR1cm4gYj12KGIteCksZz12KGcreCkse3hfMjpiLHhfMzpnfX1mdW5jdGlvbiBrKHAsYil7Um4oXCJ1XCIscCxtZSxuKSxSbihcInNjYWxhclwiLGIsaCxtKTtjb25zdCBnPWIseD1wO2xldCBFPWVlLEE9bWUsdz1wLEI9ZWUsST1tZTtmb3IobGV0IEQ9QmlnSW50KHUtMSk7RD49bWU7RC0tKXtjb25zdCBQPWc+PkQmZWU7SV49UCx7eF8yOkUseF8zOnd9PUwoSSxFLHcpLHt4XzI6QSx4XzM6Qn09TChJLEEsQiksST1QO2NvbnN0ICQ9RStBLFY9digkKiQpLHE9RS1BLEc9dihxKnEpLE09Vi1HLFk9dytCLFl0PXctQixjZT12KFl0KiQpLGZlPXYoWSpxKSxRbj1jZStmZSx0cj1jZS1mZTt3PXYoUW4qUW4pLEI9dih4KnYodHIqdHIpKSxFPXYoVipHKSxBPXYoTSooVit2KGQqTSkpKX0oe3hfMjpFLHhfMzp3fT1MKEksRSx3KSkse3hfMjpBLHhfMzpCfT1MKEksQSxCKTtjb25zdCBOPXMoQSk7cmV0dXJuIHYoRSpOKX1jb25zdCBPPXtzZWNyZXRLZXk6YSxwdWJsaWNLZXk6YSxzZWVkOmF9LFQ9KHA9ZihhKSk9PihodChwLE8uc2VlZCkscCk7ZnVuY3Rpb24gQyhwKXtjb25zdCBiPVQocCk7cmV0dXJue3NlY3JldEtleTpiLHB1YmxpY0tleTpqKGIpfX1yZXR1cm57a2V5Z2VuOkMsZ2V0U2hhcmVkU2VjcmV0OihwLGIpPT5IKHAsYiksZ2V0UHVibGljS2V5OnA9PmoocCksc2NhbGFyTXVsdDpILHNjYWxhck11bHRCYXNlOmosdXRpbHM6e3JhbmRvbVNlY3JldEtleTpULHJhbmRvbVByaXZhdGVLZXk6VH0sR3VCeXRlczpVLnNsaWNlKCksbGVuZ3RoczpPfX1jb25zdCBEZj1CaWdJbnQoMSksRm89QmlnSW50KDIpLFZmPUJpZ0ludCgzKSxNZj1CaWdJbnQoNSksS2Y9QmlnSW50KDgpLFpvPUJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZFwiKSxxZj17cDpabyxuOkJpZ0ludChcIjB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxNGRlZjlkZWEyZjc5Y2Q2NTgxMjYzMWE1Y2Y1ZDNlZFwiKSxoOktmLGE6QmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVjXCIpLGQ6QmlnSW50KFwiMHg1MjAzNmNlZTJiNmZmZTczOGNjNzQwNzk3Nzc5ZTg5ODAwNzAwYTRkNDE0MWQ4YWI3NWViNGRjYTEzNTk3OGEzXCIpLEd4OkJpZ0ludChcIjB4MjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYVwiKSxHeTpCaWdJbnQoXCIweDY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NThcIil9O2Z1bmN0aW9uIEZmKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPVpvLGM9dCp0JXMqdCVzLGY9Z3QoYyxGbyxzKSpjJXMsdT1ndChmLERmLHMpKnQlcyxhPWd0KHUsTWYscykqdSVzLGw9Z3QoYSxlLHMpKmElcyxkPWd0KGwsbixzKSpsJXMsaD1ndChkLHIscykqZCVzLHk9Z3QoaCxvLHMpKmglcyxtPWd0KHksbyxzKSpoJXMsdj1ndChtLGUscykqYSVzO3JldHVybntwb3dfcF81Xzg6Z3QodixGbyxzKSp0JXMsYjI6Y319ZnVuY3Rpb24gWmYodCl7cmV0dXJuIHRbMF0mPTI0OCx0WzMxXSY9MTI3LHRbMzFdfD02NCx0fWNvbnN0IEdmPUh0KHFmLnAse2lzTEU6ITB9KSxrbj0oKCk9Pntjb25zdCB0PUdmLk9SREVSO3JldHVybiBIZih7UDp0LHR5cGU6XCJ4MjU1MTlcIixwb3dQbWludXMyOmU9Pntjb25zdHtwb3dfcF81Xzg6bixiMjpyfT1GZihlKTtyZXR1cm4gY3QoZ3QobixWZix0KSpyLHQpfSxhZGp1c3RTY2FsYXJCeXRlczpaZn0pfSkoKSxHbz0odCxlKT0+KHQrKHQ+PTA/ZTotZSkvem8pL2U7ZnVuY3Rpb24gemYodCxlLG4pe2NvbnN0W1tyLG9dLFtzLGldXT1lLGM9R28oaSp0LG4pLGY9R28oLW8qdCxuKTtsZXQgdT10LWMqci1mKnMsYT0tYypvLWYqaTtjb25zdCBsPXU8RXQsZD1hPEV0O2wmJih1PS11KSxkJiYoYT0tYSk7Y29uc3QgaD15ZShNYXRoLmNlaWwoSW8obikvMikpK25lO2lmKHU8RXR8fHU+PWh8fGE8RXR8fGE+PWgpdGhyb3cgbmV3IEVycm9yKFwic3BsaXRTY2FsYXIgKGVuZG9tb3JwaGlzbSk6IGZhaWxlZCwgaz1cIit0KTtyZXR1cm57azFuZWc6bCxrMTp1LGsybmVnOmQsazI6YX19ZnVuY3Rpb24gUG4odCl7aWYoIVtcImNvbXBhY3RcIixcInJlY292ZXJlZFwiLFwiZGVyXCJdLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcignU2lnbmF0dXJlIGZvcm1hdCBtdXN0IGJlIFwiY29tcGFjdFwiLCBcInJlY292ZXJlZFwiLCBvciBcImRlclwiJyk7cmV0dXJuIHR9ZnVuY3Rpb24gSG4odCxlKXtjb25zdCBuPXt9O2ZvcihsZXQgciBvZiBPYmplY3Qua2V5cyhlKSluW3JdPXRbcl09PT12b2lkIDA/ZVtyXTp0W3JdO3JldHVybiBIZShuLmxvd1MsXCJsb3dTXCIpLEhlKG4ucHJlaGFzaCxcInByZWhhc2hcIiksbi5mb3JtYXQhPT12b2lkIDAmJlBuKG4uZm9ybWF0KSxufWNsYXNzIFlmIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIlwiKXtzdXBlcihlKX19Y29uc3QgeHQ9e0VycjpZZixfdGx2OntlbmNvZGU6KHQsZSk9Pntjb25zdHtFcnI6bn09eHQ7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aCYxKXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YVwiKTtjb25zdCByPWUubGVuZ3RoLzIsbz1EZShyKTtpZihvLmxlbmd0aC8yJjEyOCl0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IGxvbmcgZm9ybSBsZW5ndGggdG9vIGJpZ1wiKTtjb25zdCBzPXI+MTI3P0RlKG8ubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybiBEZSh0KStzK28rZX0sZGVjb2RlKHQsZSl7Y29uc3R7RXJyOm59PXh0O2xldCByPTA7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aDwyfHxlW3IrK10hPT10KXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogd3JvbmcgdGx2XCIpO2NvbnN0IG89ZVtyKytdLHM9ISEobyYxMjgpO2xldCBpPTA7aWYoIXMpaT1vO2Vsc2V7Y29uc3QgZj1vJjEyNztpZighZil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IGluZGVmaW5pdGUgbGVuZ3RoIG5vdCBzdXBwb3J0ZWRcIik7aWYoZj40KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogYnl0ZSBsZW5ndGggaXMgdG9vIGJpZ1wiKTtjb25zdCB1PWUuc3ViYXJyYXkocixyK2YpO2lmKHUubGVuZ3RoIT09Zil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGVcIik7aWYodVswXT09PTApdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGVcIik7Zm9yKGNvbnN0IGEgb2YgdSlpPWk8PDh8YTtpZihyKz1mLGk8MTI4KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogbm90IG1pbmltYWwgZW5jb2RpbmdcIil9Y29uc3QgYz1lLnN1YmFycmF5KHIscitpKTtpZihjLmxlbmd0aCE9PWkpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiB3cm9uZyB2YWx1ZSBsZW5ndGhcIik7cmV0dXJue3Y6YyxsOmUuc3ViYXJyYXkocitpKX19fSxfaW50OntlbmNvZGUodCl7Y29uc3R7RXJyOmV9PXh0O2lmKHQ8RXQpdGhyb3cgbmV3IGUoXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IG49RGUodCk7aWYoTnVtYmVyLnBhcnNlSW50KG5bMF0sMTYpJjgmJihuPVwiMDBcIituKSxuLmxlbmd0aCYxKXRocm93IG5ldyBlKFwidW5leHBlY3RlZCBERVIgcGFyc2luZyBhc3NlcnRpb246IHVucGFkZGVkIGhleFwiKTtyZXR1cm4gbn0sZGVjb2RlKHQpe2NvbnN0e0VycjplfT14dDtpZih0WzBdJjEyOCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlXCIpO2lmKHRbMF09PT0wJiYhKHRbMV0mMTI4KSl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IHVubmVjZXNzYXJ5IGxlYWRpbmcgemVyb1wiKTtyZXR1cm4gVmUodCl9fSx0b1NpZyh0KXtjb25zdHtFcnI6ZSxfaW50Om4sX3RsdjpyfT14dCxvPXR0KFwic2lnbmF0dXJlXCIsdCkse3Y6cyxsOml9PXIuZGVjb2RlKDQ4LG8pO2lmKGkubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtjb25zdHt2OmMsbDpmfT1yLmRlY29kZSgyLHMpLHt2OnUsbDphfT1yLmRlY29kZSgyLGYpO2lmKGEubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtyZXR1cm57cjpuLmRlY29kZShjKSxzOm4uZGVjb2RlKHUpfX0saGV4RnJvbVNpZyh0KXtjb25zdHtfdGx2OmUsX2ludDpufT14dCxyPWUuZW5jb2RlKDIsbi5lbmNvZGUodC5yKSksbz1lLmVuY29kZSgyLG4uZW5jb2RlKHQucykpLHM9citvO3JldHVybiBlLmVuY29kZSg0OCxzKX19LEV0PUJpZ0ludCgwKSxuZT1CaWdJbnQoMSksem89QmlnSW50KDIpLFplPUJpZ0ludCgzKSxXZj1CaWdJbnQoNCk7ZnVuY3Rpb24gcmUodCxlKXtjb25zdHtCWVRFUzpufT10O2xldCByO2lmKHR5cGVvZiBlPT1cImJpZ2ludFwiKXI9ZTtlbHNle2xldCBvPXR0KFwicHJpdmF0ZSBrZXlcIixlKTt0cnl7cj10LmZyb21CeXRlcyhvKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgcHJpdmF0ZSBrZXk6IGV4cGVjdGVkIHVpOGEgb2Ygc2l6ZSAke259LCBnb3QgJHt0eXBlb2YgZX1gKX19aWYoIXQuaXNWYWxpZE5vdDAocikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleTogb3V0IG9mIHJhbmdlIFsxLi5OLTFdXCIpO3JldHVybiByfWZ1bmN0aW9uIFhmKHQsZT17fSl7Y29uc3Qgbj1rZihcIndlaWVyc3RyYXNzXCIsdCxlKSx7RnA6cixGbjpvfT1uO2xldCBzPW4uQ1VSVkU7Y29uc3R7aDppLG46Y309cztLZShlLHt9LHthbGxvd0luZmluaXR5UG9pbnQ6XCJib29sZWFuXCIsY2xlYXJDb2ZhY3RvcjpcImZ1bmN0aW9uXCIsaXNUb3JzaW9uRnJlZTpcImZ1bmN0aW9uXCIsZnJvbUJ5dGVzOlwiZnVuY3Rpb25cIix0b0J5dGVzOlwiZnVuY3Rpb25cIixlbmRvOlwib2JqZWN0XCIsd3JhcFByaXZhdGVLZXk6XCJib29sZWFuXCJ9KTtjb25zdHtlbmRvOmZ9PWU7aWYoZiYmKCFyLmlzMChzLmEpfHx0eXBlb2YgZi5iZXRhIT1cImJpZ2ludFwifHwhQXJyYXkuaXNBcnJheShmLmJhc2lzZXMpKSl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kbzogZXhwZWN0ZWQgXCJiZXRhXCI6IGJpZ2ludCBhbmQgXCJiYXNpc2VzXCI6IGFycmF5Jyk7Y29uc3QgdT1XbyhyLG8pO2Z1bmN0aW9uIGEoKXtpZighci5pc09kZCl0aHJvdyBuZXcgRXJyb3IoXCJjb21wcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkOiBGaWVsZCBkb2VzIG5vdCBoYXZlIC5pc09kZCgpXCIpfWZ1bmN0aW9uIGwoXyxwLGIpe2NvbnN0e3g6Zyx5Onh9PXAudG9BZmZpbmUoKSxFPXIudG9CeXRlcyhnKTtpZihIZShiLFwiaXNDb21wcmVzc2VkXCIpLGIpe2EoKTtjb25zdCBBPSFyLmlzT2RkKHgpO3JldHVybiBfdChZbyhBKSxFKX1lbHNlIHJldHVybiBfdChVaW50OEFycmF5Lm9mKDQpLEUsci50b0J5dGVzKHgpKX1mdW5jdGlvbiBkKF8pe0t0KF8sdm9pZCAwLFwiUG9pbnRcIik7Y29uc3R7cHVibGljS2V5OnAscHVibGljS2V5VW5jb21wcmVzc2VkOmJ9PXUsZz1fLmxlbmd0aCx4PV9bMF0sRT1fLnN1YmFycmF5KDEpO2lmKGc9PT1wJiYoeD09PTJ8fHg9PT0zKSl7Y29uc3QgQT1yLmZyb21CeXRlcyhFKTtpZighci5pc1ZhbGlkKEEpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCB3cm9uZyB4XCIpO2NvbnN0IHc9bShBKTtsZXQgQjt0cnl7Qj1yLnNxcnQodyl9Y2F0Y2goRCl7Y29uc3QgUD1EIGluc3RhbmNlb2YgRXJyb3I/XCI6IFwiK0QubWVzc2FnZTpcIlwiO3Rocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCBzcXJ0IGVycm9yXCIrUCl9YSgpO2NvbnN0IEk9ci5pc09kZChCKTtyZXR1cm4oeCYxKT09PTEhPT1JJiYoQj1yLm5lZyhCKSkse3g6QSx5OkJ9fWVsc2UgaWYoZz09PWImJng9PT00KXtjb25zdCBBPXIuQllURVMsdz1yLmZyb21CeXRlcyhFLnN1YmFycmF5KDAsQSkpLEI9ci5mcm9tQnl0ZXMoRS5zdWJhcnJheShBLEEqMikpO2lmKCF2KHcsQikpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmVcIik7cmV0dXJue3g6dyx5OkJ9fWVsc2UgdGhyb3cgbmV3IEVycm9yKGBiYWQgcG9pbnQ6IGdvdCBsZW5ndGggJHtnfSwgZXhwZWN0ZWQgY29tcHJlc3NlZD0ke3B9IG9yIHVuY29tcHJlc3NlZD0ke2J9YCl9Y29uc3QgaD1lLnRvQnl0ZXN8fGwseT1lLmZyb21CeXRlc3x8ZDtmdW5jdGlvbiBtKF8pe2NvbnN0IHA9ci5zcXIoXyksYj1yLm11bChwLF8pO3JldHVybiByLmFkZChyLmFkZChiLHIubXVsKF8scy5hKSkscy5iKX1mdW5jdGlvbiB2KF8scCl7Y29uc3QgYj1yLnNxcihwKSxnPW0oXyk7cmV0dXJuIHIuZXFsKGIsZyl9aWYoIXYocy5HeCxzLkd5KSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY3VydmUgcGFyYW1zOiBnZW5lcmF0b3IgcG9pbnRcIik7Y29uc3QgVT1yLm11bChyLnBvdyhzLmEsWmUpLFdmKSxGPXIubXVsKHIuc3FyKHMuYiksQmlnSW50KDI3KSk7aWYoci5pczAoci5hZGQoVSxGKSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIGN1cnZlIHBhcmFtczogYSBvciBiXCIpO2Z1bmN0aW9uIFIoXyxwLGI9ITEpe2lmKCFyLmlzVmFsaWQocCl8fGImJnIuaXMwKHApKXRocm93IG5ldyBFcnJvcihgYmFkIHBvaW50IGNvb3JkaW5hdGUgJHtffWApO3JldHVybiBwfWZ1bmN0aW9uIFooXyl7aWYoIShfIGluc3RhbmNlb2YgTykpdGhyb3cgbmV3IEVycm9yKFwiUHJvamVjdGl2ZVBvaW50IGV4cGVjdGVkXCIpfWZ1bmN0aW9uIEgoXyl7aWYoIWZ8fCFmLmJhc2lzZXMpdGhyb3cgbmV3IEVycm9yKFwibm8gZW5kb1wiKTtyZXR1cm4gemYoXyxmLmJhc2lzZXMsby5PUkRFUil9Y29uc3Qgaj1TbygoXyxwKT0+e2NvbnN0e1g6YixZOmcsWjp4fT1fO2lmKHIuZXFsKHgsci5PTkUpKXJldHVybnt4OmIseTpnfTtjb25zdCBFPV8uaXMwKCk7cD09bnVsbCYmKHA9RT9yLk9ORTpyLmludih4KSk7Y29uc3QgQT1yLm11bChiLHApLHc9ci5tdWwoZyxwKSxCPXIubXVsKHgscCk7aWYoRSlyZXR1cm57eDpyLlpFUk8seTpyLlpFUk99O2lmKCFyLmVxbChCLHIuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OkEseTp3fX0pLEw9U28oXz0+e2lmKF8uaXMwKCkpe2lmKGUuYWxsb3dJbmZpbml0eVBvaW50JiYhci5pczAoXy5ZKSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6cCx5OmJ9PV8udG9BZmZpbmUoKTtpZighci5pc1ZhbGlkKHApfHwhci5pc1ZhbGlkKGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBmaWVsZCBlbGVtZW50c1wiKTtpZighdihwLGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodFwiKTtpZighXy5pc1RvcnNpb25GcmVlKCkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXBcIik7cmV0dXJuITB9KTtmdW5jdGlvbiBrKF8scCxiLGcseCl7cmV0dXJuIGI9bmV3IE8oci5tdWwoYi5YLF8pLGIuWSxiLlopLHA9cWUoZyxwKSxiPXFlKHgsYikscC5hZGQoYil9Y2xhc3MgT3tjb25zdHJ1Y3RvcihwLGIsZyl7dGhpcy5YPVIoXCJ4XCIscCksdGhpcy5ZPVIoXCJ5XCIsYiwhMCksdGhpcy5aPVIoXCJ6XCIsZyksT2JqZWN0LmZyZWV6ZSh0aGlzKX1zdGF0aWMgQ1VSVkUoKXtyZXR1cm4gc31zdGF0aWMgZnJvbUFmZmluZShwKXtjb25zdHt4OmIseTpnfT1wfHx7fTtpZighcHx8IXIuaXNWYWxpZChiKXx8IXIuaXNWYWxpZChnKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFmZmluZSBwb2ludFwiKTtpZihwIGluc3RhbmNlb2YgTyl0aHJvdyBuZXcgRXJyb3IoXCJwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkXCIpO3JldHVybiByLmlzMChiKSYmci5pczAoZyk/Ty5aRVJPOm5ldyBPKGIsZyxyLk9ORSl9c3RhdGljIGZyb21CeXRlcyhwKXtjb25zdCBiPU8uZnJvbUFmZmluZSh5KEt0KHAsdm9pZCAwLFwicG9pbnRcIikpKTtyZXR1cm4gYi5hc3NlcnRWYWxpZGl0eSgpLGJ9c3RhdGljIGZyb21IZXgocCl7cmV0dXJuIE8uZnJvbUJ5dGVzKHR0KFwicG9pbnRIZXhcIixwKSl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9cHJlY29tcHV0ZShwPTgsYj0hMCl7cmV0dXJuIEMuY3JlYXRlQ2FjaGUodGhpcyxwKSxifHx0aGlzLm11bHRpcGx5KFplKSx0aGlzfWFzc2VydFZhbGlkaXR5KCl7TCh0aGlzKX1oYXNFdmVuWSgpe2NvbnN0e3k6cH09dGhpcy50b0FmZmluZSgpO2lmKCFyLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3Qgc3VwcG9ydCBpc09kZFwiKTtyZXR1cm4hci5pc09kZChwKX1lcXVhbHMocCl7WihwKTtjb25zdHtYOmIsWTpnLFo6eH09dGhpcyx7WDpFLFk6QSxaOnd9PXAsQj1yLmVxbChyLm11bChiLHcpLHIubXVsKEUseCkpLEk9ci5lcWwoci5tdWwoZyx3KSxyLm11bChBLHgpKTtyZXR1cm4gQiYmSX1uZWdhdGUoKXtyZXR1cm4gbmV3IE8odGhpcy5YLHIubmVnKHRoaXMuWSksdGhpcy5aKX1kb3VibGUoKXtjb25zdHthOnAsYn09cyxnPXIubXVsKGIsWmUpLHtYOngsWTpFLFo6QX09dGhpcztsZXQgdz1yLlpFUk8sQj1yLlpFUk8sST1yLlpFUk8sTj1yLm11bCh4LHgpLEQ9ci5tdWwoRSxFKSxQPXIubXVsKEEsQSksJD1yLm11bCh4LEUpO3JldHVybiAkPXIuYWRkKCQsJCksST1yLm11bCh4LEEpLEk9ci5hZGQoSSxJKSx3PXIubXVsKHAsSSksQj1yLm11bChnLFApLEI9ci5hZGQodyxCKSx3PXIuc3ViKEQsQiksQj1yLmFkZChELEIpLEI9ci5tdWwodyxCKSx3PXIubXVsKCQsdyksST1yLm11bChnLEkpLFA9ci5tdWwocCxQKSwkPXIuc3ViKE4sUCksJD1yLm11bChwLCQpLCQ9ci5hZGQoJCxJKSxJPXIuYWRkKE4sTiksTj1yLmFkZChJLE4pLE49ci5hZGQoTixQKSxOPXIubXVsKE4sJCksQj1yLmFkZChCLE4pLFA9ci5tdWwoRSxBKSxQPXIuYWRkKFAsUCksTj1yLm11bChQLCQpLHc9ci5zdWIodyxOKSxJPXIubXVsKFAsRCksST1yLmFkZChJLEkpLEk9ci5hZGQoSSxJKSxuZXcgTyh3LEIsSSl9YWRkKHApe1oocCk7Y29uc3R7WDpiLFk6ZyxaOnh9PXRoaXMse1g6RSxZOkEsWjp3fT1wO2xldCBCPXIuWkVSTyxJPXIuWkVSTyxOPXIuWkVSTztjb25zdCBEPXMuYSxQPXIubXVsKHMuYixaZSk7bGV0ICQ9ci5tdWwoYixFKSxWPXIubXVsKGcsQSkscT1yLm11bCh4LHcpLEc9ci5hZGQoYixnKSxNPXIuYWRkKEUsQSk7Rz1yLm11bChHLE0pLE09ci5hZGQoJCxWKSxHPXIuc3ViKEcsTSksTT1yLmFkZChiLHgpO2xldCBZPXIuYWRkKEUsdyk7cmV0dXJuIE09ci5tdWwoTSxZKSxZPXIuYWRkKCQscSksTT1yLnN1YihNLFkpLFk9ci5hZGQoZyx4KSxCPXIuYWRkKEEsdyksWT1yLm11bChZLEIpLEI9ci5hZGQoVixxKSxZPXIuc3ViKFksQiksTj1yLm11bChELE0pLEI9ci5tdWwoUCxxKSxOPXIuYWRkKEIsTiksQj1yLnN1YihWLE4pLE49ci5hZGQoVixOKSxJPXIubXVsKEIsTiksVj1yLmFkZCgkLCQpLFY9ci5hZGQoViwkKSxxPXIubXVsKEQscSksTT1yLm11bChQLE0pLFY9ci5hZGQoVixxKSxxPXIuc3ViKCQscSkscT1yLm11bChELHEpLE09ci5hZGQoTSxxKSwkPXIubXVsKFYsTSksST1yLmFkZChJLCQpLCQ9ci5tdWwoWSxNKSxCPXIubXVsKEcsQiksQj1yLnN1YihCLCQpLCQ9ci5tdWwoRyxWKSxOPXIubXVsKFksTiksTj1yLmFkZChOLCQpLG5ldyBPKEIsSSxOKX1zdWJ0cmFjdChwKXtyZXR1cm4gdGhpcy5hZGQocC5uZWdhdGUoKSl9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKE8uWkVSTyl9bXVsdGlwbHkocCl7Y29uc3R7ZW5kbzpifT1lO2lmKCFvLmlzVmFsaWROb3QwKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7bGV0IGcseDtjb25zdCBFPUE9PkMuY2FjaGVkKHRoaXMsQSx3PT5UbihPLHcpKTtpZihiKXtjb25zdHtrMW5lZzpBLGsxOncsazJuZWc6QixrMjpJfT1IKHApLHtwOk4sZjpEfT1FKHcpLHtwOlAsZjokfT1FKEkpO3g9RC5hZGQoJCksZz1rKGIuYmV0YSxOLFAsQSxCKX1lbHNle2NvbnN0e3A6QSxmOnd9PUUocCk7Zz1BLHg9d31yZXR1cm4gVG4oTyxbZyx4XSlbMF19bXVsdGlwbHlVbnNhZmUocCl7Y29uc3R7ZW5kbzpifT1lLGc9dGhpcztpZighby5pc1ZhbGlkKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7aWYocD09PUV0fHxnLmlzMCgpKXJldHVybiBPLlpFUk87aWYocD09PW5lKXJldHVybiBnO2lmKEMuaGFzQ2FjaGUodGhpcykpcmV0dXJuIHRoaXMubXVsdGlwbHkocCk7aWYoYil7Y29uc3R7azFuZWc6eCxrMTpFLGsybmVnOkEsazI6d309SChwKSx7cDE6QixwMjpJfT1qZihPLGcsRSx3KTtyZXR1cm4gayhiLmJldGEsQixJLHgsQSl9ZWxzZSByZXR1cm4gQy51bnNhZmUoZyxwKX1tdWx0aXBseUFuZEFkZFVuc2FmZShwLGIsZyl7Y29uc3QgeD10aGlzLm11bHRpcGx5VW5zYWZlKGIpLmFkZChwLm11bHRpcGx5VW5zYWZlKGcpKTtyZXR1cm4geC5pczAoKT92b2lkIDA6eH10b0FmZmluZShwKXtyZXR1cm4gaih0aGlzLHApfWlzVG9yc2lvbkZyZWUoKXtjb25zdHtpc1RvcnNpb25GcmVlOnB9PWU7cmV0dXJuIGk9PT1uZT8hMDpwP3AoTyx0aGlzKTpDLnVuc2FmZSh0aGlzLGMpLmlzMCgpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtjbGVhckNvZmFjdG9yOnB9PWU7cmV0dXJuIGk9PT1uZT90aGlzOnA/cChPLHRoaXMpOnRoaXMubXVsdGlwbHlVbnNhZmUoaSl9aXNTbWFsbE9yZGVyKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoaSkuaXMwKCl9dG9CeXRlcyhwPSEwKXtyZXR1cm4gSGUocCxcImlzQ29tcHJlc3NlZFwiKSx0aGlzLmFzc2VydFZhbGlkaXR5KCksaChPLHRoaXMscCl9dG9IZXgocD0hMCl7cmV0dXJuIEp0KHRoaXMudG9CeXRlcyhwKSl9dG9TdHJpbmcoKXtyZXR1cm5gPFBvaW50ICR7dGhpcy5pczAoKT9cIlpFUk9cIjp0aGlzLnRvSGV4KCl9PmB9Z2V0IHB4KCl7cmV0dXJuIHRoaXMuWH1nZXQgcHkoKXtyZXR1cm4gdGhpcy5YfWdldCBweigpe3JldHVybiB0aGlzLlp9dG9SYXdCeXRlcyhwPSEwKXtyZXR1cm4gdGhpcy50b0J5dGVzKHApfV9zZXRXaW5kb3dTaXplKHApe3RoaXMucHJlY29tcHV0ZShwKX1zdGF0aWMgbm9ybWFsaXplWihwKXtyZXR1cm4gVG4oTyxwKX1zdGF0aWMgbXNtKHAsYil7cmV0dXJuIExmKE8sbyxwLGIpfXN0YXRpYyBmcm9tUHJpdmF0ZUtleShwKXtyZXR1cm4gTy5CQVNFLm11bHRpcGx5KHJlKG8scCkpfX1PLkJBU0U9bmV3IE8ocy5HeCxzLkd5LHIuT05FKSxPLlpFUk89bmV3IE8oci5aRVJPLHIuT05FLHIuWkVSTyksTy5GcD1yLE8uRm49bztjb25zdCBUPW8uQklUUyxDPW5ldyBDZihPLGUuZW5kbz9NYXRoLmNlaWwoVC8yKTpUKTtyZXR1cm4gTy5CQVNFLnByZWNvbXB1dGUoOCksT31mdW5jdGlvbiBZbyh0KXtyZXR1cm4gVWludDhBcnJheS5vZih0PzI6Myl9ZnVuY3Rpb24gV28odCxlKXtyZXR1cm57c2VjcmV0S2V5OmUuQllURVMscHVibGljS2V5OjErdC5CWVRFUyxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6MSsyKnQuQllURVMscHVibGljS2V5SGFzUHJlZml4OiEwLHNpZ25hdHVyZToyKmUuQllURVN9fWZ1bmN0aW9uIEpmKHQsZT17fSl7Y29uc3R7Rm46bn09dCxyPWUucmFuZG9tQnl0ZXN8fE10LG89T2JqZWN0LmFzc2lnbihXbyh0LkZwLG4pLHtzZWVkOkhvKG4uT1JERVIpfSk7ZnVuY3Rpb24gcyhoKXt0cnl7cmV0dXJuISFyZShuLGgpfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBpKGgseSl7Y29uc3R7cHVibGljS2V5Om0scHVibGljS2V5VW5jb21wcmVzc2VkOnZ9PW87dHJ5e2NvbnN0IFU9aC5sZW5ndGg7cmV0dXJuIHk9PT0hMCYmVSE9PW18fHk9PT0hMSYmVSE9PXY/ITE6ISF0LmZyb21CeXRlcyhoKX1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gYyhoPXIoby5zZWVkKSl7cmV0dXJuIFJmKEt0KGgsby5zZWVkLFwic2VlZFwiKSxuLk9SREVSKX1mdW5jdGlvbiBmKGgseT0hMCl7cmV0dXJuIHQuQkFTRS5tdWx0aXBseShyZShuLGgpKS50b0J5dGVzKHkpfWZ1bmN0aW9uIHUoaCl7Y29uc3QgeT1jKGgpO3JldHVybntzZWNyZXRLZXk6eSxwdWJsaWNLZXk6Zih5KX19ZnVuY3Rpb24gYShoKXtpZih0eXBlb2YgaD09XCJiaWdpbnRcIilyZXR1cm4hMTtpZihoIGluc3RhbmNlb2YgdClyZXR1cm4hMDtjb25zdHtzZWNyZXRLZXk6eSxwdWJsaWNLZXk6bSxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6dn09bztpZihuLmFsbG93ZWRMZW5ndGhzfHx5PT09bSlyZXR1cm47Y29uc3QgVT10dChcImtleVwiLGgpLmxlbmd0aDtyZXR1cm4gVT09PW18fFU9PT12fWZ1bmN0aW9uIGwoaCx5LG09ITApe2lmKGEoaCk9PT0hMCl0aHJvdyBuZXcgRXJyb3IoXCJmaXJzdCBhcmcgbXVzdCBiZSBwcml2YXRlIGtleVwiKTtpZihhKHkpPT09ITEpdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXlcIik7Y29uc3Qgdj1yZShuLGgpO3JldHVybiB0LmZyb21IZXgoeSkubXVsdGlwbHkodikudG9CeXRlcyhtKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7Z2V0UHVibGljS2V5OmYsZ2V0U2hhcmVkU2VjcmV0Omwsa2V5Z2VuOnUsUG9pbnQ6dCx1dGlsczp7aXNWYWxpZFNlY3JldEtleTpzLGlzVmFsaWRQdWJsaWNLZXk6aSxyYW5kb21TZWNyZXRLZXk6Yyxpc1ZhbGlkUHJpdmF0ZUtleTpzLHJhbmRvbVByaXZhdGVLZXk6Yyxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOmg9PnJlKG4saCkscHJlY29tcHV0ZShoPTgseT10LkJBU0Upe3JldHVybiB5LnByZWNvbXB1dGUoaCwhMSl9fSxsZW5ndGhzOm99KX1mdW5jdGlvbiBRZih0LGUsbj17fSl7VWUoZSksS2Uobix7fSx7aG1hYzpcImZ1bmN0aW9uXCIsbG93UzpcImJvb2xlYW5cIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCIsYml0czJpbnQ6XCJmdW5jdGlvblwiLGJpdHMyaW50X21vZE46XCJmdW5jdGlvblwifSk7Y29uc3Qgcj1uLnJhbmRvbUJ5dGVzfHxNdCxvPW4uaG1hY3x8KChiLC4uLmcpPT5rZShlLGIsX3QoLi4uZykpKSx7RnA6cyxGbjppfT10LHtPUkRFUjpjLEJJVFM6Zn09aSx7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmh9PUpmKHQsbikseT17cHJlaGFzaDohMSxsb3dTOnR5cGVvZiBuLmxvd1M9PVwiYm9vbGVhblwiP24ubG93UzohMSxmb3JtYXQ6dm9pZCAwLGV4dHJhRW50cm9weTohMX0sbT1cImNvbXBhY3RcIjtmdW5jdGlvbiB2KGIpe2NvbnN0IGc9Yz4+bmU7cmV0dXJuIGI+Z31mdW5jdGlvbiBVKGIsZyl7aWYoIWkuaXNWYWxpZE5vdDAoZykpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNpZ25hdHVyZSAke2J9OiBvdXQgb2YgcmFuZ2UgMS4uUG9pbnQuRm4uT1JERVJgKTtyZXR1cm4gZ31mdW5jdGlvbiBGKGIsZyl7UG4oZyk7Y29uc3QgeD1oLnNpZ25hdHVyZSxFPWc9PT1cImNvbXBhY3RcIj94Omc9PT1cInJlY292ZXJlZFwiP3grMTp2b2lkIDA7cmV0dXJuIEt0KGIsRSxgJHtnfSBzaWduYXR1cmVgKX1jbGFzcyBSe2NvbnN0cnVjdG9yKGcseCxFKXt0aGlzLnI9VShcInJcIixnKSx0aGlzLnM9VShcInNcIix4KSxFIT1udWxsJiYodGhpcy5yZWNvdmVyeT1FKSxPYmplY3QuZnJlZXplKHRoaXMpfXN0YXRpYyBmcm9tQnl0ZXMoZyx4PW0pe0YoZyx4KTtsZXQgRTtpZih4PT09XCJkZXJcIil7Y29uc3R7cjpJLHM6Tn09eHQudG9TaWcoS3QoZykpO3JldHVybiBuZXcgUihJLE4pfXg9PT1cInJlY292ZXJlZFwiJiYoRT1nWzBdLHg9XCJjb21wYWN0XCIsZz1nLnN1YmFycmF5KDEpKTtjb25zdCBBPWkuQllURVMsdz1nLnN1YmFycmF5KDAsQSksQj1nLnN1YmFycmF5KEEsQSoyKTtyZXR1cm4gbmV3IFIoaS5mcm9tQnl0ZXModyksaS5mcm9tQnl0ZXMoQiksRSl9c3RhdGljIGZyb21IZXgoZyx4KXtyZXR1cm4gdGhpcy5mcm9tQnl0ZXMoX2UoZykseCl9YWRkUmVjb3ZlcnlCaXQoZyl7cmV0dXJuIG5ldyBSKHRoaXMucix0aGlzLnMsZyl9cmVjb3ZlclB1YmxpY0tleShnKXtjb25zdCB4PXMuT1JERVIse3I6RSxzOkEscmVjb3Zlcnk6d309dGhpcztpZih3PT1udWxsfHwhWzAsMSwyLDNdLmluY2x1ZGVzKHcpKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGludmFsaWRcIik7aWYoYyp6bzx4JiZ3PjEpdGhyb3cgbmV3IEVycm9yKFwicmVjb3ZlcnkgaWQgaXMgYW1iaWd1b3VzIGZvciBoPjEgY3VydmVcIik7Y29uc3QgST13PT09Mnx8dz09PTM/RStjOkU7aWYoIXMuaXNWYWxpZChJKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZFwiKTtjb25zdCBOPXMudG9CeXRlcyhJKSxEPXQuZnJvbUJ5dGVzKF90KFlvKCh3JjEpPT09MCksTikpLFA9aS5pbnYoSSksJD1IKHR0KFwibXNnSGFzaFwiLGcpKSxWPWkuY3JlYXRlKC0kKlApLHE9aS5jcmVhdGUoQSpQKSxHPXQuQkFTRS5tdWx0aXBseVVuc2FmZShWKS5hZGQoRC5tdWx0aXBseVVuc2FmZShxKSk7aWYoRy5pczAoKSl0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBhdCBpbmZpbmlmeVwiKTtyZXR1cm4gRy5hc3NlcnRWYWxpZGl0eSgpLEd9aGFzSGlnaFMoKXtyZXR1cm4gdih0aGlzLnMpfXRvQnl0ZXMoZz1tKXtpZihQbihnKSxnPT09XCJkZXJcIilyZXR1cm4gX2UoeHQuaGV4RnJvbVNpZyh0aGlzKSk7Y29uc3QgeD1pLnRvQnl0ZXModGhpcy5yKSxFPWkudG9CeXRlcyh0aGlzLnMpO2lmKGc9PT1cInJlY292ZXJlZFwiKXtpZih0aGlzLnJlY292ZXJ5PT1udWxsKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGJpdCBtdXN0IGJlIHByZXNlbnRcIik7cmV0dXJuIF90KFVpbnQ4QXJyYXkub2YodGhpcy5yZWNvdmVyeSkseCxFKX1yZXR1cm4gX3QoeCxFKX10b0hleChnKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKGcpKX1hc3NlcnRWYWxpZGl0eSgpe31zdGF0aWMgZnJvbUNvbXBhY3QoZyl7cmV0dXJuIFIuZnJvbUJ5dGVzKHR0KFwic2lnXCIsZyksXCJjb21wYWN0XCIpfXN0YXRpYyBmcm9tREVSKGcpe3JldHVybiBSLmZyb21CeXRlcyh0dChcInNpZ1wiLGcpLFwiZGVyXCIpfW5vcm1hbGl6ZVMoKXtyZXR1cm4gdGhpcy5oYXNIaWdoUygpP25ldyBSKHRoaXMucixpLm5lZyh0aGlzLnMpLHRoaXMucmVjb3ZlcnkpOnRoaXN9dG9ERVJSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJkZXJcIil9dG9ERVJIZXgoKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKFwiZGVyXCIpKX10b0NvbXBhY3RSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpfXRvQ29tcGFjdEhleCgpe3JldHVybiBKdCh0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpKX19Y29uc3QgWj1uLmJpdHMyaW50fHxmdW5jdGlvbihnKXtpZihnLmxlbmd0aD44MTkyKXRocm93IG5ldyBFcnJvcihcImlucHV0IGlzIHRvbyBsYXJnZVwiKTtjb25zdCB4PVZlKGcpLEU9Zy5sZW5ndGgqOC1mO3JldHVybiBFPjA/eD4+QmlnSW50KEUpOnh9LEg9bi5iaXRzMmludF9tb2ROfHxmdW5jdGlvbihnKXtyZXR1cm4gaS5jcmVhdGUoWihnKSl9LGo9eWUoZik7ZnVuY3Rpb24gTChiKXtyZXR1cm4gUm4oXCJudW0gPCAyXlwiK2YsYixFdCxqKSxpLnRvQnl0ZXMoYil9ZnVuY3Rpb24gayhiLGcpe3JldHVybiBLdChiLHZvaWQgMCxcIm1lc3NhZ2VcIiksZz9LdChlKGIpLHZvaWQgMCxcInByZWhhc2hlZCBtZXNzYWdlXCIpOmJ9ZnVuY3Rpb24gTyhiLGcseCl7aWYoW1wicmVjb3ZlcmVkXCIsXCJjYW5vbmljYWxcIl0uc29tZShWPT5WIGluIHgpKXRocm93IG5ldyBFcnJvcihcInNpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e2xvd1M6RSxwcmVoYXNoOkEsZXh0cmFFbnRyb3B5Ond9PUhuKHgseSk7Yj1rKGIsQSk7Y29uc3QgQj1IKGIpLEk9cmUoaSxnKSxOPVtMKEkpLEwoQildO2lmKHchPW51bGwmJnchPT0hMSl7Y29uc3QgVj13PT09ITA/cihoLnNlY3JldEtleSk6dztOLnB1c2godHQoXCJleHRyYUVudHJvcHlcIixWKSl9Y29uc3QgRD1fdCguLi5OKSxQPUI7ZnVuY3Rpb24gJChWKXtjb25zdCBxPVooVik7aWYoIWkuaXNWYWxpZE5vdDAocSkpcmV0dXJuO2NvbnN0IEc9aS5pbnYocSksTT10LkJBU0UubXVsdGlwbHkocSkudG9BZmZpbmUoKSxZPWkuY3JlYXRlKE0ueCk7aWYoWT09PUV0KXJldHVybjtjb25zdCBZdD1pLmNyZWF0ZShHKmkuY3JlYXRlKFArWSpJKSk7aWYoWXQ9PT1FdClyZXR1cm47bGV0IGNlPShNLng9PT1ZPzA6Mil8TnVtYmVyKE0ueSZuZSksZmU9WXQ7cmV0dXJuIEUmJnYoWXQpJiYoZmU9aS5uZWcoWXQpLGNlXj0xKSxuZXcgUihZLGZlLGNlKX1yZXR1cm57c2VlZDpELGsyc2lnOiR9fWZ1bmN0aW9uIFQoYixnLHg9e30pe2I9dHQoXCJtZXNzYWdlXCIsYik7Y29uc3R7c2VlZDpFLGsyc2lnOkF9PU8oYixnLHgpO3JldHVybiBFZihlLm91dHB1dExlbixpLkJZVEVTLG8pKEUsQSl9ZnVuY3Rpb24gQyhiKXtsZXQgZztjb25zdCB4PXR5cGVvZiBiPT1cInN0cmluZ1wifHxOZShiKSxFPSF4JiZiIT09bnVsbCYmdHlwZW9mIGI9PVwib2JqZWN0XCImJnR5cGVvZiBiLnI9PVwiYmlnaW50XCImJnR5cGVvZiBiLnM9PVwiYmlnaW50XCI7aWYoIXgmJiFFKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2lnbmF0dXJlLCBleHBlY3RlZCBVaW50OEFycmF5LCBoZXggc3RyaW5nIG9yIFNpZ25hdHVyZSBpbnN0YW5jZVwiKTtpZihFKWc9bmV3IFIoYi5yLGIucyk7ZWxzZSBpZih4KXt0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiZGVyXCIpfWNhdGNoKEEpe2lmKCEoQSBpbnN0YW5jZW9mIHh0LkVycikpdGhyb3cgQX1pZighZyl0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiY29tcGFjdFwiKX1jYXRjaHtyZXR1cm4hMX19cmV0dXJuIGd8fCExfWZ1bmN0aW9uIF8oYixnLHgsRT17fSl7Y29uc3R7bG93UzpBLHByZWhhc2g6dyxmb3JtYXQ6Qn09SG4oRSx5KTtpZih4PXR0KFwicHVibGljS2V5XCIseCksZz1rKHR0KFwibWVzc2FnZVwiLGcpLHcpLFwic3RyaWN0XCJpbiBFKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuc3RyaWN0IHdhcyByZW5hbWVkIHRvIGxvd1NcIik7Y29uc3QgST1CPT09dm9pZCAwP0MoYik6Ui5mcm9tQnl0ZXModHQoXCJzaWdcIixiKSxCKTtpZihJPT09ITEpcmV0dXJuITE7dHJ5e2NvbnN0IE49dC5mcm9tQnl0ZXMoeCk7aWYoQSYmSS5oYXNIaWdoUygpKXJldHVybiExO2NvbnN0e3I6RCxzOlB9PUksJD1IKGcpLFY9aS5pbnYoUCkscT1pLmNyZWF0ZSgkKlYpLEc9aS5jcmVhdGUoRCpWKSxNPXQuQkFTRS5tdWx0aXBseVVuc2FmZShxKS5hZGQoTi5tdWx0aXBseVVuc2FmZShHKSk7cmV0dXJuIE0uaXMwKCk/ITE6aS5jcmVhdGUoTS54KT09PUR9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIHAoYixnLHg9e30pe2NvbnN0e3ByZWhhc2g6RX09SG4oeCx5KTtyZXR1cm4gZz1rKGcsRSksUi5mcm9tQnl0ZXMoYixcInJlY292ZXJlZFwiKS5yZWNvdmVyUHVibGljS2V5KGcpLnRvQnl0ZXMoKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmgsUG9pbnQ6dCxzaWduOlQsdmVyaWZ5Ol8scmVjb3ZlclB1YmxpY0tleTpwLFNpZ25hdHVyZTpSLGhhc2g6ZX0pfWZ1bmN0aW9uIHRhKHQpe2NvbnN0IGU9e2E6dC5hLGI6dC5iLHA6dC5GcC5PUkRFUixuOnQubixoOnQuaCxHeDp0Lkd4LEd5OnQuR3l9LG49dC5GcDtsZXQgcj10LmFsbG93ZWRQcml2YXRlS2V5TGVuZ3Rocz9BcnJheS5mcm9tKG5ldyBTZXQodC5hbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMubWFwKGk9Pk1hdGguY2VpbChpLzIpKSkpOnZvaWQgMDtjb25zdCBvPUh0KGUubix7QklUUzp0Lm5CaXRMZW5ndGgsYWxsb3dlZExlbmd0aHM6cixtb2RGcm9tQnl0ZXM6dC53cmFwUHJpdmF0ZUtleX0pLHM9e0ZwOm4sRm46byxhbGxvd0luZmluaXR5UG9pbnQ6dC5hbGxvd0luZmluaXR5UG9pbnQsZW5kbzp0LmVuZG8saXNUb3JzaW9uRnJlZTp0LmlzVG9yc2lvbkZyZWUsY2xlYXJDb2ZhY3Rvcjp0LmNsZWFyQ29mYWN0b3IsZnJvbUJ5dGVzOnQuZnJvbUJ5dGVzLHRvQnl0ZXM6dC50b0J5dGVzfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6c319ZnVuY3Rpb24gZWEodCl7Y29uc3R7Q1VSVkU6ZSxjdXJ2ZU9wdHM6bn09dGEodCkscj17aG1hYzp0LmhtYWMscmFuZG9tQnl0ZXM6dC5yYW5kb21CeXRlcyxsb3dTOnQubG93UyxiaXRzMmludDp0LmJpdHMyaW50LGJpdHMyaW50X21vZE46dC5iaXRzMmludF9tb2ROfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6bixoYXNoOnQuaGFzaCxlY2RzYU9wdHM6cn19ZnVuY3Rpb24gbmEodCxlKXtjb25zdCBuPWUuUG9pbnQ7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7UHJvamVjdGl2ZVBvaW50Om4sQ1VSVkU6T2JqZWN0LmFzc2lnbih7fSx0LGtvKG4uRm4uT1JERVIsbi5Gbi5CSVRTKSl9KX1mdW5jdGlvbiByYSh0KXtjb25zdHtDVVJWRTplLGN1cnZlT3B0czpuLGhhc2g6cixlY2RzYU9wdHM6b309ZWEodCkscz1YZihlLG4pLGk9UWYocyxyLG8pO3JldHVybiBuYSh0LGkpfWZ1bmN0aW9uIERuKHQsZSl7Y29uc3Qgbj1yPT5yYSh7Li4udCxoYXNoOnJ9KTtyZXR1cm57Li4ubihlKSxjcmVhdGU6bn19Y29uc3QgWG89e3A6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmJjZTZmYWFkYTcxNzllODRmM2I5Y2FjMmZjNjMyNTUxXCIpLGg6QmlnSW50KDEpLGE6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHg1YWM2MzVkOGFhM2E5M2U3YjNlYmJkNTU3Njk4ODZiYzY1MWQwNmIwY2M1M2IwZjYzYmNlM2MzZTI3ZDI2MDRiXCIpLEd4OkJpZ0ludChcIjB4NmIxN2QxZjJlMTJjNDI0N2Y4YmNlNmU1NjNhNDQwZjI3NzAzN2Q4MTJkZWIzM2EwZjRhMTM5NDVkODk4YzI5NlwiKSxHeTpCaWdJbnQoXCIweDRmZTM0MmUyZmUxYTdmOWI4ZWU3ZWI0YTdjMGY5ZTE2MmJjZTMzNTc2YjMxNWVjZWNiYjY0MDY4MzdiZjUxZjVcIil9LEpvPXtwOkJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmZmZmMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjNzYzNGQ4MWY0MzcyZGRmNTgxYTBkYjI0OGIwYTc3YWVjZWMxOTZhY2NjNTI5NzNcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmZmZjAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmY1wiKSxiOkJpZ0ludChcIjB4YjMzMTJmYTdlMjNlZTdlNDk4OGUwNTZiZTNmODJkMTkxODFkOWM2ZWZlODE0MTEyMDMxNDA4OGY1MDEzODc1YWM2NTYzOThkOGEyZWQxOWQyYTg1YzhlZGQzZWMyYWVmXCIpLEd4OkJpZ0ludChcIjB4YWE4N2NhMjJiZThiMDUzNzhlYjFjNzFlZjMyMGFkNzQ2ZTFkM2I2MjhiYTc5Yjk4NTlmNzQxZTA4MjU0MmEzODU1MDJmMjVkYmY1NTI5NmMzYTU0NWUzODcyNzYwYWI3XCIpLEd5OkJpZ0ludChcIjB4MzYxN2RlNGE5NjI2MmM2ZjVkOWU5OGJmOTI5MmRjMjlmOGY0MWRiZDI4OWExNDdjZTlkYTMxMTNiNWYwYjhjMDBhNjBiMWNlMWQ3ZTgxOWQ3YTQzMWQ3YzkwZWEwZTVmXCIpfSxRbz17cDpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHgwMWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYTUxODY4NzgzYmYyZjk2NmI3ZmNjMDE0OGY3MDlhNWQwM2JiNWM5Yjg4OTljNDdhZWJiNmZiNzFlOTEzODY0MDlcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHgwMDUxOTUzZWI5NjE4ZTFjOWExZjkyOWEyMWEwYjY4NTQwZWVhMmRhNzI1Yjk5YjMxNWYzYjhiNDg5OTE4ZWYxMDllMTU2MTkzOTUxZWM3ZTkzN2IxNjUyYzBiZDNiYjFiZjA3MzU3M2RmODgzZDJjMzRmMWVmNDUxZmQ0NmI1MDNmMDBcIiksR3g6QmlnSW50KFwiMHgwMGM2ODU4ZTA2YjcwNDA0ZTljZDllM2VjYjY2MjM5NWI0NDI5YzY0ODEzOTA1M2ZiNTIxZjgyOGFmNjA2YjRkM2RiYWExNGI1ZTc3ZWZlNzU5MjhmZTFkYzEyN2EyZmZhOGRlMzM0OGIzYzE4NTZhNDI5YmY5N2U3ZTMxYzJlNWJkNjZcIiksR3k6QmlnSW50KFwiMHgwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIil9LG9hPUh0KFhvLnApLHNhPUh0KEpvLnApLGlhPUh0KFFvLnApLGNhPURuKHsuLi5YbyxGcDpvYSxsb3dTOiExfSwkZSk7RG4oey4uLkpvLEZwOnNhLGxvd1M6ITF9LHljKSxEbih7Li4uUW8sRnA6aWEsbG93UzohMSxhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6WzEzMCwxMzEsMTMyXX0sYmMpO2NvbnN0IGZhPWNhLFZuPVwiYmFzZTEwXCIscnQ9XCJiYXNlMTZcIixvZT1cImJhc2U2NHBhZFwiLEdlPVwiYmFzZTY0dXJsXCIsc2U9XCJ1dGY4XCIsTW49MCxpZT0xLHdlPTIsYWE9MCx0cz0xLHZlPTEyLEtuPTMyO2Z1bmN0aW9uIHVhKCl7Y29uc3QgdD1rbi51dGlscy5yYW5kb21Qcml2YXRlS2V5KCksZT1rbi5nZXRQdWJsaWNLZXkodCk7cmV0dXJue3ByaXZhdGVLZXk6aXQodCxydCkscHVibGljS2V5Oml0KGUscnQpfX1mdW5jdGlvbiBsYSgpe2NvbnN0IHQ9TXQoS24pO3JldHVybiBpdCh0LHJ0KX1mdW5jdGlvbiBkYSh0LGUpe2NvbnN0IG49a24uZ2V0U2hhcmVkU2VjcmV0KGF0KHQscnQpLGF0KGUscnQpKSxyPXZmKFBlLG4sdm9pZCAwLHZvaWQgMCxLbik7cmV0dXJuIGl0KHIscnQpfWZ1bmN0aW9uIGhhKHQpe2NvbnN0IGU9UGUoYXQodCxydCkpO3JldHVybiBpdChlLHJ0KX1mdW5jdGlvbiBwYSh0KXtjb25zdCBlPVBlKGF0KHQsc2UpKTtyZXR1cm4gaXQoZSxydCl9ZnVuY3Rpb24gcW4odCl7cmV0dXJuIGF0KGAke3R9YCxWbil9ZnVuY3Rpb24gWnQodCl7cmV0dXJuIE51bWJlcihpdCh0LFZuKSl9ZnVuY3Rpb24gZXModCl7cmV0dXJuIHQucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKS5yZXBsYWNlKC89L2csXCJcIil9ZnVuY3Rpb24gbnModCl7Y29uc3QgZT10LnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxuPSg0LWUubGVuZ3RoJTQpJTQ7cmV0dXJuIGUrXCI9XCIucmVwZWF0KG4pfWZ1bmN0aW9uIGdhKHQpe2NvbnN0IGU9cW4odHlwZW9mIHQudHlwZTxcInVcIj90LnR5cGU6TW4pO2lmKFp0KGUpPT09aWUmJnR5cGVvZiB0LnNlbmRlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHNlbmRlciBwdWJsaWMga2V5IGZvciB0eXBlIDEgZW52ZWxvcGVcIik7Y29uc3Qgbj10eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/YXQodC5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyPXR5cGVvZiB0Lml2PFwidVwiP2F0KHQuaXYscnQpOk10KHZlKSxvPWF0KHQuc3ltS2V5LHJ0KSxzPXhvKG8scikuZW5jcnlwdChhdCh0Lm1lc3NhZ2Usc2UpKSxpPUZuKHt0eXBlOmUsc2VhbGVkOnMsaXY6cixzZW5kZXJQdWJsaWNLZXk6bn0pO3JldHVybiB0LmVuY29kaW5nPT09R2U/ZXMoaSk6aX1mdW5jdGlvbiBiYSh0KXtjb25zdCBlPWF0KHQuc3ltS2V5LHJ0KSx7c2VhbGVkOm4saXY6cn09emUoe2VuY29kZWQ6dC5lbmNvZGVkLGVuY29kaW5nOnQuZW5jb2Rpbmd9KSxvPXhvKGUscikuZGVjcnlwdChuKTtpZihvPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtyZXR1cm4gaXQobyxzZSl9ZnVuY3Rpb24geWEodCxlKXtjb25zdCBuPXFuKHdlKSxyPU10KHZlKSxvPWF0KHQsc2UpLHM9Rm4oe3R5cGU6bixzZWFsZWQ6byxpdjpyfSk7cmV0dXJuIGU9PT1HZT9lcyhzKTpzfWZ1bmN0aW9uIG1hKHQsZSl7Y29uc3R7c2VhbGVkOm59PXplKHtlbmNvZGVkOnQsZW5jb2Rpbmc6ZX0pO3JldHVybiBpdChuLHNlKX1mdW5jdGlvbiBGbih0KXtpZihadCh0LnR5cGUpPT09d2UpcmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5zZWFsZWRdKSxvZSk7aWYoWnQodC50eXBlKT09PWllKXtpZih0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO3JldHVybiBpdChsZShbdC50eXBlLHQuc2VuZGVyUHVibGljS2V5LHQuaXYsdC5zZWFsZWRdKSxvZSl9cmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5pdix0LnNlYWxlZF0pLG9lKX1mdW5jdGlvbiB6ZSh0KXtjb25zdCBlPSh0LmVuY29kaW5nfHxvZSk9PT1HZT9ucyh0LmVuY29kZWQpOnQuZW5jb2RlZCxuPWF0KGUsb2UpLHI9bi5zbGljZShhYSx0cyksbz10cztpZihadChyKT09PWllKXtjb25zdCBmPW8rS24sdT1mK3ZlLGE9bi5zbGljZShvLGYpLGw9bi5zbGljZShmLHUpLGQ9bi5zbGljZSh1KTtyZXR1cm57dHlwZTpyLHNlYWxlZDpkLGl2Omwsc2VuZGVyUHVibGljS2V5OmF9fWlmKFp0KHIpPT09d2Upe2NvbnN0IGY9bi5zbGljZShvKSx1PU10KHZlKTtyZXR1cm57dHlwZTpyLHNlYWxlZDpmLGl2OnV9fWNvbnN0IHM9byt2ZSxpPW4uc2xpY2UobyxzKSxjPW4uc2xpY2Uocyk7cmV0dXJue3R5cGU6cixzZWFsZWQ6YyxpdjppfX1mdW5jdGlvbiB3YSh0LGUpe2NvbnN0IG49emUoe2VuY29kZWQ6dCxlbmNvZGluZzplPy5lbmNvZGluZ30pO3JldHVybiBycyh7dHlwZTpadChuLnR5cGUpLHNlbmRlclB1YmxpY0tleTp0eXBlb2Ygbi5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/aXQobi5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyZWNlaXZlclB1YmxpY0tleTplPy5yZWNlaXZlclB1YmxpY0tleX0pfWZ1bmN0aW9uIHJzKHQpe2NvbnN0IGU9dD8udHlwZXx8TW47aWYoZT09PWllKXtpZih0eXBlb2YgdD8uc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXlcIik7aWYodHlwZW9mIHQ/LnJlY2VpdmVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcmVjZWl2ZXIgcHVibGljIGtleVwiKX1yZXR1cm57dHlwZTplLHNlbmRlclB1YmxpY0tleTp0Py5zZW5kZXJQdWJsaWNLZXkscmVjZWl2ZXJQdWJsaWNLZXk6dD8ucmVjZWl2ZXJQdWJsaWNLZXl9fWZ1bmN0aW9uIHZhKHQpe3JldHVybiB0LnR5cGU9PT1pZSYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PT1cInN0cmluZ1wiJiZ0eXBlb2YgdC5yZWNlaXZlclB1YmxpY0tleT09XCJzdHJpbmdcIn1mdW5jdGlvbiB4YSh0KXtyZXR1cm4gdC50eXBlPT09d2V9ZnVuY3Rpb24gb3ModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LngsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnksXCJiYXNlNjRcIik7cmV0dXJuIGxlKFtuZXcgVWludDhBcnJheShbNF0pLGUsbl0pfWZ1bmN0aW9uIEVhKHQsZSl7Y29uc3RbbixyLG9dPXQuc3BsaXQoXCIuXCIpLHM9QnVmZmVyLmZyb20obnMobyksXCJiYXNlNjRcIik7aWYocy5sZW5ndGghPT02NCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGhcIik7Y29uc3QgaT1zLnNsaWNlKDAsMzIpLGM9cy5zbGljZSgzMiw2NCksZj1gJHtufS4ke3J9YCx1PVBlKGYpLGE9b3MoZSk7aWYoIWZhLnZlcmlmeShsZShbaSxjXSksdSxhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZVwiKTtyZXR1cm4gWnModCkucGF5bG9hZH1jb25zdCBzcz1cImlyblwiO2Z1bmN0aW9uIEJhKHQpe3JldHVybiB0Py5yZWxheXx8e3Byb3RvY29sOnNzfX1mdW5jdGlvbiBBYSh0KXtjb25zdCBlPUdzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgUmVsYXkgUHJvdG9jb2wgbm90IHN1cHBvcnRlZDogJHt0fWApO3JldHVybiBlfXZhciBJYT1PYmplY3QuZGVmaW5lUHJvcGVydHksU2E9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsT2E9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsaXM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxOYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFVhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsY3M9KHQsZSxuKT0+ZSBpbiB0P0lhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixabj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpTmEuY2FsbChlLG4pJiZjcyh0LG4sZVtuXSk7aWYoaXMpZm9yKHZhciBuIG9mIGlzKGUpKVVhLmNhbGwoZSxuKSYmY3ModCxuLGVbbl0pO3JldHVybiB0fSxfYT0odCxlKT0+U2EodCxPYShlKSk7ZnVuY3Rpb24gZnModCxlPVwiLVwiKXtjb25zdCBuPXt9LHI9XCJyZWxheVwiK2U7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2lmKG8uc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz1vLnJlcGxhY2UocixcIlwiKSxpPXRbb107bltzXT1pfX0pLG59ZnVuY3Rpb24gUmEodCl7aWYoIXQuaW5jbHVkZXMoXCJ3YzpcIikpe2NvbnN0IHU9Y24odCk7dSE9bnVsbCYmdS5pbmNsdWRlcyhcIndjOlwiKSYmKHQ9dSl9dD10LmluY2x1ZGVzKFwid2M6Ly9cIik/dC5yZXBsYWNlKFwid2M6Ly9cIixcIlwiKTp0LHQ9dC5pbmNsdWRlcyhcIndjOlwiKT90LnJlcGxhY2UoXCJ3YzpcIixcIlwiKTp0O2NvbnN0IGU9dC5pbmRleE9mKFwiOlwiKSxuPXQuaW5kZXhPZihcIj9cIikhPT0tMT90LmluZGV4T2YoXCI/XCIpOnZvaWQgMCxyPXQuc3Vic3RyaW5nKDAsZSksbz10LnN1YnN0cmluZyhlKzEsbikuc3BsaXQoXCJAXCIpLHM9dHlwZW9mIG48XCJ1XCI/dC5zdWJzdHJpbmcobik6XCJcIixpPW5ldyBVUkxTZWFyY2hQYXJhbXMocyksYz1PYmplY3QuZnJvbUVudHJpZXMoaS5lbnRyaWVzKCkpLGY9dHlwZW9mIGMubWV0aG9kcz09XCJzdHJpbmdcIj9jLm1ldGhvZHMuc3BsaXQoXCIsXCIpOnZvaWQgMDtyZXR1cm57cHJvdG9jb2w6cix0b3BpYzphcyhvWzBdKSx2ZXJzaW9uOnBhcnNlSW50KG9bMV0sMTApLHN5bUtleTpjLnN5bUtleSxyZWxheTpmcyhjKSxtZXRob2RzOmYsZXhwaXJ5VGltZXN0YW1wOmMuZXhwaXJ5VGltZXN0YW1wP3BhcnNlSW50KGMuZXhwaXJ5VGltZXN0YW1wLDEwKTp2b2lkIDB9fWZ1bmN0aW9uIGFzKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCIvL1wiKT90LnN1YnN0cmluZygyKTp0fWZ1bmN0aW9uIHVzKHQsZT1cIi1cIil7Y29uc3Qgbj1cInJlbGF5XCIscj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChvPT57Y29uc3Qgcz1vLGk9bitlK3M7dFtzXSYmKHJbaV09dFtzXSl9KSxyfWZ1bmN0aW9uICRhKHQpe2NvbnN0IGU9bmV3IFVSTFNlYXJjaFBhcmFtcyxuPVpuKFpuKF9hKFpuKHt9LHVzKHQucmVsYXkpKSx7c3ltS2V5OnQuc3ltS2V5fSksdC5leHBpcnlUaW1lc3RhbXAmJntleHBpcnlUaW1lc3RhbXA6dC5leHBpcnlUaW1lc3RhbXAudG9TdHJpbmcoKX0pLHQubWV0aG9kcyYme21ldGhvZHM6dC5tZXRob2RzLmpvaW4oXCIsXCIpfSk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKG4pLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPT12b2lkIDAmJmUuYXBwZW5kKHIsU3RyaW5nKG8pKX0pLGAke3QucHJvdG9jb2x9OiR7dC50b3BpY31AJHt0LnZlcnNpb259PyR7ZX1gfWZ1bmN0aW9uIFRhKHQsZSxuKXtyZXR1cm5gJHt0fT93Y19ldj0ke259JnRvcGljPSR7ZX1gfXZhciBDYT1PYmplY3QuZGVmaW5lUHJvcGVydHksamE9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsTGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsbHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxrYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFBhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZHM9KHQsZSxuKT0+ZSBpbiB0P0NhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixIYT0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpa2EuY2FsbChlLG4pJiZkcyh0LG4sZVtuXSk7aWYobHMpZm9yKHZhciBuIG9mIGxzKGUpKVBhLmNhbGwoZSxuKSYmZHModCxuLGVbbl0pO3JldHVybiB0fSxEYT0odCxlKT0+amEodCxMYShlKSk7ZnVuY3Rpb24gR3QodCl7Y29uc3QgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49Pntjb25zdFtyLG9dPW4uc3BsaXQoXCI6XCIpO2UucHVzaChgJHtyfToke299YCl9KSxlfWZ1bmN0aW9uIGhzKHQpe2NvbnN0IGU9W107cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChuPT57ZS5wdXNoKC4uLkd0KG4uYWNjb3VudHMpKX0pLGV9ZnVuY3Rpb24gcHModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5tZXRob2RzKX0pLG59ZnVuY3Rpb24gZ3ModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5ldmVudHMpfSksbn1mdW5jdGlvbiBWYSh0LGUpe2NvbnN0IG49U3ModCxlKTtpZihuKXRocm93IG5ldyBFcnJvcihuLm1lc3NhZ2UpO2NvbnN0IHI9e307Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyh0KSlyW29dPXttZXRob2RzOnMubWV0aG9kcyxldmVudHM6cy5ldmVudHMsY2hhaW5zOnMuYWNjb3VudHMubWFwKGk9PmAke2kuc3BsaXQoXCI6XCIpWzBdfToke2kuc3BsaXQoXCI6XCIpWzFdfWApfTtyZXR1cm4gcn1mdW5jdGlvbiBNYSh0KXt2YXIgZTtjb25zdHtwcm9wb3NhbDp7cmVxdWlyZWROYW1lc3BhY2VzOm4sb3B0aW9uYWxOYW1lc3BhY2VzOnI9e319LHN1cHBvcnRlZE5hbWVzcGFjZXM6b309dCxzPXhlKG4pLGk9eGUociksYz17fTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLGQ9b1thXS5tZXRob2RzLGg9b1thXS5ldmVudHMseT1vW2FdLmFjY291bnRzO2wuZm9yRWFjaChtPT57aWYoIXkuc29tZSh2PT52LmluY2x1ZGVzKG0pKSl0aHJvdyBuZXcgRXJyb3IoYE5vIGFjY291bnRzIHByb3ZpZGVkIGZvciBjaGFpbiAke219IGluIG5hbWVzcGFjZSAke2F9YCl9KSxjW2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KTtjb25zdCBmPU5zKG4sYyxcImFwcHJvdmUoKVwiKTtpZihmKXRocm93IG5ldyBFcnJvcihmLm1lc3NhZ2UpO2NvbnN0IHU9e307aWYoIU9iamVjdC5rZXlzKG4pLmxlbmd0aCYmIU9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gYztPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLmZpbHRlcihtPT57dmFyIHYsVTtyZXR1cm4oVT0odj1zW2FdKT09bnVsbD92b2lkIDA6di5jaGFpbnMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksZD1vW2FdLm1ldGhvZHMuZmlsdGVyKG09Pnt2YXIgdixVO3JldHVybihVPSh2PXNbYV0pPT1udWxsP3ZvaWQgMDp2Lm1ldGhvZHMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksaD1vW2FdLmV2ZW50cy5maWx0ZXIobT0+e3ZhciB2LFU7cmV0dXJuKFU9KHY9c1thXSk9PW51bGw/dm9pZCAwOnYuZXZlbnRzKT09bnVsbD92b2lkIDA6VS5pbmNsdWRlcyhtKX0pLHk9bC5tYXAobT0+b1thXS5hY2NvdW50cy5maWx0ZXIodj0+di5pbmNsdWRlcyhgJHttfTpgKSkpLmZsYXQoKTt1W2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGE9Pnt2YXIgbCxkLGgseSxtLHY7aWYoIW9bYV0pcmV0dXJuO2NvbnN0IFU9KGQ9KGw9aVthXSk9PW51bGw/dm9pZCAwOmwuY2hhaW5zKT09bnVsbD92b2lkIDA6ZC5maWx0ZXIoSD0+b1thXS5jaGFpbnMuaW5jbHVkZXMoSCkpLEY9b1thXS5tZXRob2RzLmZpbHRlcihIPT57dmFyIGosTDtyZXR1cm4oTD0oaj1pW2FdKT09bnVsbD92b2lkIDA6ai5tZXRob2RzKT09bnVsbD92b2lkIDA6TC5pbmNsdWRlcyhIKX0pLFI9b1thXS5ldmVudHMuZmlsdGVyKEg9Pnt2YXIgaixMO3JldHVybihMPShqPWlbYV0pPT1udWxsP3ZvaWQgMDpqLmV2ZW50cyk9PW51bGw/dm9pZCAwOkwuaW5jbHVkZXMoSCl9KSxaPVU/Lm1hcChIPT5vW2FdLmFjY291bnRzLmZpbHRlcihqPT5qLmluY2x1ZGVzKGAke0h9OmApKSkuZmxhdCgpO3VbYV09e2NoYWluczp1dCgoaD11W2FdKT09bnVsbD92b2lkIDA6aC5jaGFpbnMsVSksbWV0aG9kczp1dCgoeT11W2FdKT09bnVsbD92b2lkIDA6eS5tZXRob2RzLEYpLGV2ZW50czp1dCgobT11W2FdKT09bnVsbD92b2lkIDA6bS5ldmVudHMsUiksYWNjb3VudHM6dXQoKHY9dVthXSk9PW51bGw/dm9pZCAwOnYuYWNjb3VudHMsWil9fSk7Zm9yKGNvbnN0W2EsbF1vZiBPYmplY3QuZW50cmllcyh1KSkobC5hY2NvdW50cy5sZW5ndGg9PT0wfHwoKGU9bD8uY2hhaW5zKT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpPT09MCkmJmRlbGV0ZSB1W2FdO3JldHVybiB1fWZ1bmN0aW9uIEduKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKX1mdW5jdGlvbiBicyh0KXtyZXR1cm4gR24odCk/dC5zcGxpdChcIjpcIilbMF06dH1mdW5jdGlvbiB4ZSh0KXt2YXIgZSxuLHI7Y29uc3Qgbz17fTtpZighWWUodCkpcmV0dXJuIG87Zm9yKGNvbnN0W3MsaV1vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgYz1HbihzKT9bc106aS5jaGFpbnMsZj1pLm1ldGhvZHN8fFtdLHU9aS5ldmVudHN8fFtdLGE9YnMocyk7b1thXT1EYShIYSh7fSxvW2FdKSx7Y2hhaW5zOnV0KGMsKGU9b1thXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5zKSxtZXRob2RzOnV0KGYsKG49b1thXSk9PW51bGw/dm9pZCAwOm4ubWV0aG9kcyksZXZlbnRzOnV0KHUsKHI9b1thXSk9PW51bGw/dm9pZCAwOnIuZXZlbnRzKX0pfXJldHVybiBvfWZ1bmN0aW9uIHlzKHQpe2NvbnN0IGU9e307cmV0dXJuIHQ/LmZvckVhY2gobj0+e3ZhciByO2NvbnN0W28sc109bi5zcGxpdChcIjpcIik7ZVtvXXx8KGVbb109e2FjY291bnRzOltdLGNoYWluczpbXSxldmVudHM6W10sbWV0aG9kczpbXX0pLGVbb10uYWNjb3VudHMucHVzaChuKSwocj1lW29dLmNoYWlucyk9PW51bGx8fHIucHVzaChgJHtvfToke3N9YCl9KSxlfWZ1bmN0aW9uIEthKHQsZSl7ZT1lLm1hcChyPT5yLnJlcGxhY2UoXCJkaWQ6cGtoOlwiLFwiXCIpKTtjb25zdCBuPXlzKGUpO2Zvcihjb25zdFtyLG9db2YgT2JqZWN0LmVudHJpZXMobikpby5tZXRob2RzP28ubWV0aG9kcz11dChvLm1ldGhvZHMsdCk6by5tZXRob2RzPXQsby5ldmVudHM9W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07cmV0dXJuIG59ZnVuY3Rpb24gcWEodCxlKXt2YXIgbixyLG8scyxpLGM7Y29uc3QgZj14ZSh0KSx1PXhlKGUpLGE9e30sbD1PYmplY3Qua2V5cyhmKS5jb25jYXQoT2JqZWN0LmtleXModSkpO2Zvcihjb25zdCBkIG9mIGwpYVtkXT17Y2hhaW5zOnV0KChuPWZbZF0pPT1udWxsP3ZvaWQgMDpuLmNoYWlucywocj11W2RdKT09bnVsbD92b2lkIDA6ci5jaGFpbnMpLG1ldGhvZHM6dXQoKG89ZltkXSk9PW51bGw/dm9pZCAwOm8ubWV0aG9kcywocz11W2RdKT09bnVsbD92b2lkIDA6cy5tZXRob2RzKSxldmVudHM6dXQoKGk9ZltkXSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzLChjPXVbZF0pPT1udWxsP3ZvaWQgMDpjLmV2ZW50cyl9O3JldHVybiBhfWNvbnN0IG1zPXtJTlZBTElEX01FVEhPRDp7bWVzc2FnZTpcIkludmFsaWQgbWV0aG9kLlwiLGNvZGU6MTAwMX0sSU5WQUxJRF9FVkVOVDp7bWVzc2FnZTpcIkludmFsaWQgZXZlbnQuXCIsY29kZToxMDAyfSxJTlZBTElEX1VQREFURV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjEwMDN9LElOVkFMSURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIGV4dGVuZCByZXF1ZXN0LlwiLGNvZGU6MTAwNH0sSU5WQUxJRF9TRVNTSU9OX1NFVFRMRV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCBzZXNzaW9uIHNldHRsZSByZXF1ZXN0LlwiLGNvZGU6MTAwNX0sVU5BVVRIT1JJWkVEX01FVEhPRDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBtZXRob2QuXCIsY29kZTozMDAxfSxVTkFVVEhPUklaRURfRVZFTlQ6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXZlbnQuXCIsY29kZTozMDAyfSxVTkFVVEhPUklaRURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgdXBkYXRlIHJlcXVlc3QuXCIsY29kZTozMDAzfSxVTkFVVEhPUklaRURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZTozMDA0fSxVU0VSX1JFSkVDVEVEOnttZXNzYWdlOlwiVXNlciByZWplY3RlZC5cIixjb2RlOjVlM30sVVNFUl9SRUpFQ1RFRF9DSEFJTlM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGNoYWlucy5cIixjb2RlOjUwMDF9LFVTRVJfUkVKRUNURURfTUVUSE9EUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgbWV0aG9kcy5cIixjb2RlOjUwMDJ9LFVTRVJfUkVKRUNURURfRVZFTlRTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBldmVudHMuXCIsY29kZTo1MDAzfSxVTlNVUFBPUlRFRF9DSEFJTlM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBjaGFpbnMuXCIsY29kZTo1MTAwfSxVTlNVUFBPUlRFRF9NRVRIT0RTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbWV0aG9kcy5cIixjb2RlOjUxMDF9LFVOU1VQUE9SVEVEX0VWRU5UUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGV2ZW50cy5cIixjb2RlOjUxMDJ9LFVOU1VQUE9SVEVEX0FDQ09VTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgYWNjb3VudHMuXCIsY29kZTo1MTAzfSxVTlNVUFBPUlRFRF9OQU1FU1BBQ0VfS0VZOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbmFtZXNwYWNlIGtleS5cIixjb2RlOjUxMDR9LFVTRVJfRElTQ09OTkVDVEVEOnttZXNzYWdlOlwiVXNlciBkaXNjb25uZWN0ZWQuXCIsY29kZTo2ZTN9LFNFU1NJT05fU0VUVExFTUVOVF9GQUlMRUQ6e21lc3NhZ2U6XCJTZXNzaW9uIHNldHRsZW1lbnQgZmFpbGVkLlwiLGNvZGU6N2UzfSxXQ19NRVRIT0RfVU5TVVBQT1JURUQ6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCB3Y18gbWV0aG9kLlwiLGNvZGU6MTAwMDF9fSx3cz17Tk9UX0lOSVRJQUxJWkVEOnttZXNzYWdlOlwiTm90IGluaXRpYWxpemVkLlwiLGNvZGU6MX0sTk9fTUFUQ0hJTkdfS0VZOnttZXNzYWdlOlwiTm8gbWF0Y2hpbmcga2V5LlwiLGNvZGU6Mn0sUkVTVE9SRV9XSUxMX09WRVJSSURFOnttZXNzYWdlOlwiUmVzdG9yZSB3aWxsIG92ZXJyaWRlLlwiLGNvZGU6M30sUkVTVUJTQ1JJQkVEOnttZXNzYWdlOlwiUmVzdWJzY3JpYmVkLlwiLGNvZGU6NH0sTUlTU0lOR19PUl9JTlZBTElEOnttZXNzYWdlOlwiTWlzc2luZyBvciBpbnZhbGlkLlwiLGNvZGU6NX0sRVhQSVJFRDp7bWVzc2FnZTpcIkV4cGlyZWQuXCIsY29kZTo2fSxVTktOT1dOX1RZUEU6e21lc3NhZ2U6XCJVbmtub3duIHR5cGUuXCIsY29kZTo3fSxNSVNNQVRDSEVEX1RPUElDOnttZXNzYWdlOlwiTWlzbWF0Y2hlZCB0b3BpYy5cIixjb2RlOjh9LE5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVM6e21lc3NhZ2U6XCJOb24gY29uZm9ybWluZyBuYW1lc3BhY2VzLlwiLGNvZGU6OX19O2Z1bmN0aW9uIEJ0KHQsZSl7Y29uc3R7bWVzc2FnZTpuLGNvZGU6cn09d3NbdF07cmV0dXJue21lc3NhZ2U6ZT9gJHtufSAke2V9YDpuLGNvZGU6cn19ZnVuY3Rpb24genQodCxlKXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT1tc1t0XTtyZXR1cm57bWVzc2FnZTplP2Ake259ICR7ZX1gOm4sY29kZTpyfX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3R5cGVvZiBlPFwidVwiJiZ0Lmxlbmd0aD90LmV2ZXJ5KGUpOiEwOiExfWZ1bmN0aW9uIFllKHQpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1PYmplY3QucHJvdG90eXBlJiZPYmplY3Qua2V5cyh0KS5sZW5ndGh9ZnVuY3Rpb24gRHQodCl7cmV0dXJuIHR5cGVvZiB0PlwidVwifWZ1bmN0aW9uIGZ0KHQsZSl7cmV0dXJuIGUmJkR0KHQpPyEwOnR5cGVvZiB0PT1cInN0cmluZ1wiJiYhIXQudHJpbSgpLmxlbmd0aH1mdW5jdGlvbiBXZSh0LGUpe3JldHVybiBlJiZEdCh0KT8hMDp0eXBlb2YgdD09XCJudW1iZXJcIiYmIWlzTmFOKHQpfWZ1bmN0aW9uIEZhKHQsZSl7Y29uc3R7cmVxdWlyZWROYW1lc3BhY2VzOm59PWUscj1PYmplY3Qua2V5cyh0Lm5hbWVzcGFjZXMpLG89T2JqZWN0LmtleXMobik7bGV0IHM9ITA7cmV0dXJuIEl0KG8scik/KHIuZm9yRWFjaChpPT57Y29uc3R7YWNjb3VudHM6YyxtZXRob2RzOmYsZXZlbnRzOnV9PXQubmFtZXNwYWNlc1tpXSxhPUd0KGMpLGw9bltpXTsoIUl0KEllKGksbCksYSl8fCFJdChsLm1ldGhvZHMsZil8fCFJdChsLmV2ZW50cyx1KSkmJihzPSExKX0pLHMpOiExfWZ1bmN0aW9uIEJlKHQpe3JldHVybiBmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIikubGVuZ3RoPT09MjohMX1mdW5jdGlvbiB2cyh0KXtpZihmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIikpe2NvbnN0IGU9dC5zcGxpdChcIjpcIik7aWYoZS5sZW5ndGg9PT0zKXtjb25zdCBuPWVbMF0rXCI6XCIrZVsxXTtyZXR1cm4hIWVbMl0mJkJlKG4pfX1yZXR1cm4hMX1mdW5jdGlvbiBaYSh0KXtmdW5jdGlvbiBlKG4pe3RyeXtyZXR1cm4gdHlwZW9mIG5ldyBVUkwobik8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fXRyeXtpZihmdCh0LCExKSl7aWYoZSh0KSlyZXR1cm4hMDtjb25zdCBuPWNuKHQpO3JldHVybiBlKG4pfX1jYXRjaHt9cmV0dXJuITF9ZnVuY3Rpb24gR2EodCl7dmFyIGU7cmV0dXJuKGU9dD8ucHJvcG9zZXIpPT1udWxsP3ZvaWQgMDplLnB1YmxpY0tleX1mdW5jdGlvbiB6YSh0KXtyZXR1cm4gdD8udG9waWN9ZnVuY3Rpb24gWWEodCxlKXtsZXQgbj1udWxsO3JldHVybiBmdCh0Py5wdWJsaWNLZXksITEpfHwobj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksbn1mdW5jdGlvbiB6bih0KXtsZXQgZT0hMDtyZXR1cm4gRWUodCk/dC5sZW5ndGgmJihlPXQuZXZlcnkobj0+ZnQobiwhMSkpKTplPSExLGV9ZnVuY3Rpb24geHModCxlLG4pe2xldCByPW51bGw7cmV0dXJuIEVlKGUpJiZlLmxlbmd0aD9lLmZvckVhY2gobz0+e3J8fEJlKG8pfHwocj16dChcIlVOU1VQUE9SVEVEX0NIQUlOU1wiLGAke259LCBjaGFpbiAke299IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZm9ybWF0YCkpfSk6QmUodCl8fChyPXp0KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWlucyBtdXN0IGJlIGRlZmluZWQgYXMgXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGUuZy4gXCJlaXAxNTU6MVwiOiB7Li4ufSBpbiB0aGUgbmFtZXNwYWNlIGtleSBPUiBhcyBhbiBhcnJheSBvZiBDQUlQLTIgY2hhaW5JZHMgZS5nLiBlaXAxNTU6IHsgY2hhaW5zOiBbXCJlaXAxNTU6MVwiLCBcImVpcDE1NTo1XCJdIH1gKSkscn1mdW5jdGlvbiBFcyh0LGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW28sc10pPT57aWYocilyZXR1cm47Y29uc3QgaT14cyhvLEllKG8scyksYCR7ZX0gJHtufWApO2kmJihyPWkpfSkscn1mdW5jdGlvbiBCcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIEVlKHQpP3QuZm9yRWFjaChyPT57bnx8dnMocil8fChuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudCAke3J9IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSl9KTpuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgY29uZm9ybWluZyB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSxufWZ1bmN0aW9uIEFzKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUJzKHI/LmFjY291bnRzLGAke2V9IG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBJcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIHpuKHQ/Lm1ldGhvZHMpP3puKHQ/LmV2ZW50cyl8fChuPXp0KFwiVU5TVVBQT1JURURfRVZFTlRTXCIsYCR7ZX0sIGV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gZXZlbnRzYCkpOm49enQoXCJVTlNVUFBPUlRFRF9NRVRIT0RTXCIsYCR7ZX0sIG1ldGhvZHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIG1ldGhvZHNgKSxufWZ1bmN0aW9uIFluKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUlzKHIsYCR7ZX0sIG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBXYSh0LGUsbil7bGV0IHI9bnVsbDtpZih0JiZZZSh0KSl7Y29uc3Qgbz1Zbih0LGUpO28mJihyPW8pO2NvbnN0IHM9RXModCxlLG4pO3MmJihyPXMpfWVsc2Ugcj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCAke259IHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gU3ModCxlKXtsZXQgbj1udWxsO2lmKHQmJlllKHQpKXtjb25zdCByPVluKHQsZSk7ciYmKG49cik7Y29uc3Qgbz1Bcyh0LGUpO28mJihuPW8pfWVsc2Ugbj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCBuYW1lc3BhY2VzIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIG59ZnVuY3Rpb24gT3ModCl7cmV0dXJuIGZ0KHQucHJvdG9jb2wsITApfWZ1bmN0aW9uIFhhKHQsZSl7bGV0IG49ITE7cmV0dXJuIGUmJiF0P249ITA6dCYmRWUodCkmJnQubGVuZ3RoJiZ0LmZvckVhY2gocj0+e249T3Mocil9KSxufWZ1bmN0aW9uIEphKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIn1mdW5jdGlvbiBRYSh0KXtyZXR1cm4gdHlwZW9mIHQ8XCJ1XCImJnR5cGVvZiB0IT09bnVsbH1mdW5jdGlvbiB0dSh0KXtyZXR1cm4hKCF0fHx0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuY29kZXx8IVdlKHQuY29kZSwhMSl8fCF0Lm1lc3NhZ2V8fCFmdCh0Lm1lc3NhZ2UsITEpKX1mdW5jdGlvbiBldSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5tZXRob2QsITEpKX1mdW5jdGlvbiBudSh0KXtyZXR1cm4hKER0KHQpfHxEdCh0LnJlc3VsdCkmJkR0KHQuZXJyb3IpfHwhV2UodC5pZCwhMSl8fCFmdCh0Lmpzb25ycGMsITEpKX1mdW5jdGlvbiBydSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5uYW1lLCExKSl9ZnVuY3Rpb24gb3UodCxlKXtyZXR1cm4hKCFCZShlKXx8IWhzKHQpLmluY2x1ZGVzKGUpKX1mdW5jdGlvbiBzdSh0LGUsbil7cmV0dXJuIGZ0KG4sITEpP3BzKHQsZSkuaW5jbHVkZXMobik6ITF9ZnVuY3Rpb24gaXUodCxlLG4pe3JldHVybiBmdChuLCExKT9ncyh0LGUpLmluY2x1ZGVzKG4pOiExfWZ1bmN0aW9uIE5zKHQsZSxuKXtsZXQgcj1udWxsO2NvbnN0IG89Y3UodCkscz1mdShlKSxpPU9iamVjdC5rZXlzKG8pLGM9T2JqZWN0LmtleXMocyksZj1VcyhPYmplY3Qua2V5cyh0KSksdT1VcyhPYmplY3Qua2V5cyhlKSksYT1mLmZpbHRlcihsPT4hdS5pbmNsdWRlcyhsKSk7cmV0dXJuIGEubGVuZ3RoJiYocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGtleXMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZE5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHthLnRvU3RyaW5nKCl9XG4gICAgICBSZWNlaXZlZDogJHtPYmplY3Qua2V5cyhlKS50b1N0cmluZygpfWApKSxJdChpLGMpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGNoYWlucyBkb24ndCBzYXRpc2Z5IHJlcXVpcmVkIG5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHtpLnRvU3RyaW5nKCl9XG4gICAgICBBcHByb3ZlZDogJHtjLnRvU3RyaW5nKCl9YCkpLE9iamVjdC5rZXlzKGUpLmZvckVhY2gobD0+e2lmKCFsLmluY2x1ZGVzKFwiOlwiKXx8cilyZXR1cm47Y29uc3QgZD1HdChlW2xdLmFjY291bnRzKTtkLmluY2x1ZGVzKGwpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGFjY291bnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGFjY291bnRzIGZvciAke2x9XG4gICAgICAgIFJlcXVpcmVkOiAke2x9XG4gICAgICAgIEFwcHJvdmVkOiAke2QudG9TdHJpbmcoKX1gKSl9KSxpLmZvckVhY2gobD0+e3J8fChJdChvW2xdLm1ldGhvZHMsc1tsXS5tZXRob2RzKT9JdChvW2xdLmV2ZW50cyxzW2xdLmV2ZW50cyl8fChyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgZXZlbnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGV2ZW50cyBmb3IgJHtsfWApKTpyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBtZXRob2RzIGZvciAke2x9YCkpfSkscn1mdW5jdGlvbiBjdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt2YXIgcjtuLmluY2x1ZGVzKFwiOlwiKT9lW25dPXRbbl06KHI9dFtuXS5jaGFpbnMpPT1udWxsfHxyLmZvckVhY2gobz0+e2Vbb109e21ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX0pLGV9ZnVuY3Rpb24gVXModCl7cmV0dXJuWy4uLm5ldyBTZXQodC5tYXAoZT0+ZS5pbmNsdWRlcyhcIjpcIik/ZS5zcGxpdChcIjpcIilbMF06ZSkpXX1mdW5jdGlvbiBmdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49PntpZihuLmluY2x1ZGVzKFwiOlwiKSllW25dPXRbbl07ZWxzZXtjb25zdCByPUd0KHRbbl0uYWNjb3VudHMpO3I/LmZvckVhY2gobz0+e2Vbb109e2FjY291bnRzOnRbbl0uYWNjb3VudHMuZmlsdGVyKHM9PnMuaW5jbHVkZXMoYCR7b306YCkpLG1ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX19KSxlfWZ1bmN0aW9uIGF1KHQsZSl7cmV0dXJuIFdlKHQsITEpJiZ0PD1lLm1heCYmdD49ZS5taW59ZnVuY3Rpb24gdXUoKXtjb25zdCB0PVZ0KCk7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pntzd2l0Y2godCl7Y2FzZSBldC5icm93c2VyOmUoX3MoKSk7YnJlYWs7Y2FzZSBldC5yZWFjdE5hdGl2ZTplKFJzKCkpO2JyZWFrO2Nhc2UgZXQubm9kZTplKCRzKCkpO2JyZWFrO2RlZmF1bHQ6ZSghMCl9fSl9ZnVuY3Rpb24gX3MoKXtyZXR1cm4gV3QoKSYmbmF2aWdhdG9yPy5vbkxpbmV9YXN5bmMgZnVuY3Rpb24gUnMoKXtpZihBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZnbG9iYWwhPW51bGwmJmdsb2JhbC5OZXRJbmZvKXtjb25zdCB0PWF3YWl0KGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLk5ldEluZm8uZmV0Y2goKSk7cmV0dXJuIHQ/LmlzQ29ubmVjdGVkfXJldHVybiEwfWZ1bmN0aW9uICRzKCl7cmV0dXJuITB9ZnVuY3Rpb24gbHUodCl7c3dpdGNoKFZ0KCkpe2Nhc2UgZXQuYnJvd3NlcjpUcyh0KTticmVhaztjYXNlIGV0LnJlYWN0TmF0aXZlOkNzKHQpO2JyZWFrO2Nhc2UgZXQubm9kZTpicmVha319ZnVuY3Rpb24gVHModCl7IUF0KCkmJld0KCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgpPT50KCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9PnQoITEpKSl9ZnVuY3Rpb24gQ3ModCl7QXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyYmZ2xvYmFsPy5OZXRJbmZvLmFkZEV2ZW50TGlzdGVuZXIoZT0+dChlPy5pc0Nvbm5lY3RlZCkpfWZ1bmN0aW9uIGR1KCl7dmFyIHQ7cmV0dXJuIFd0KCkmJmFlKCk/KCh0PWFlKCkpPT1udWxsP3ZvaWQgMDp0LnZpc2liaWxpdHlTdGF0ZSk9PT1cInZpc2libGVcIjohMH1jb25zdCBXbj17fTtjbGFzcyBodXtzdGF0aWMgZ2V0KGUpe3JldHVybiBXbltlXX1zdGF0aWMgc2V0KGUsbil7V25bZV09bn1zdGF0aWMgZGVsZXRlKGUpe2RlbGV0ZSBXbltlXX19ZnVuY3Rpb24ganModCl7Y29uc3QgZT11ZS5kZWNvZGUodCk7aWYoZS5sZW5ndGg8MzMpdGhyb3cgbmV3IEVycm9yKFwiVG9vIHNob3J0IHRvIGNvbnRhaW4gYSBwdWJsaWMga2V5XCIpO3JldHVybiBlLnNsaWNlKDEsMzMpfWZ1bmN0aW9uIExzKHtwdWJsaWNLZXk6dCxzaWduYXR1cmU6ZSxwYXlsb2FkOm59KXt2YXIgcjtjb25zdCBvPVhuKG4ubWV0aG9kKSxzPTEyOHxwYXJzZUludCgoKHI9bi52ZXJzaW9uKT09bnVsbD92b2lkIDA6ci50b1N0cmluZygpKXx8XCI0XCIpLGk9Z3Uobi5hZGRyZXNzKSxjPW4uZXJhPT09XCIwMFwiP25ldyBVaW50OEFycmF5KFswXSk6WG4obi5lcmEpO2lmKGMubGVuZ3RoIT09MSYmYy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXJhIGxlbmd0aFwiKTtjb25zdCBmPXBhcnNlSW50KG4ubm9uY2UsMTYpLHU9bmV3IFVpbnQ4QXJyYXkoW2YmMjU1LGY+PjgmMjU1XSksYT1CaWdJbnQoYDB4JHtwdShuLnRpcCl9YCksbD15dShhKSxkPW5ldyBVaW50OEFycmF5KFswLC4uLnQsaSwuLi5lLC4uLmMsLi4udSwuLi5sLC4uLm9dKSxoPWJ1KGQubGVuZ3RoKzEpO3JldHVybiBuZXcgVWludDhBcnJheShbLi4uaCxzLC4uLmRdKX1mdW5jdGlvbiBrcyh0KXtjb25zdCBlPVhuKHQpLG49enMoZSx2b2lkIDAsMzIpO3JldHVyblwiMHhcIitCdWZmZXIuZnJvbShuKS50b1N0cmluZyhcImhleFwiKX1mdW5jdGlvbiBYbih0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5yZXBsYWNlKC9eMHgvLFwiXCIpLm1hdGNoKC8uezEsMn0vZykubWFwKGU9PnBhcnNlSW50KGUsMTYpKSl9ZnVuY3Rpb24gcHUodCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcIjB4XCIpP3Quc2xpY2UoMik6dH1mdW5jdGlvbiBndSh0KXtjb25zdCBlPXVlLmRlY29kZSh0KVswXTtyZXR1cm4gZT09PTQyPzA6ZT09PTYwPzI6MX1mdW5jdGlvbiBidSh0KXtpZih0PDY0KXJldHVybiBuZXcgVWludDhBcnJheShbdDw8Ml0pO2lmKHQ8MTYzODQpe2NvbnN0IGU9dDw8MnwxO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTVdKX1lbHNlIGlmKHQ8MTw8MzApe2NvbnN0IGU9dDw8MnwyO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV0pfWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFjdCBlbmNvZGluZyA+IDJeMzAgbm90IHN1cHBvcnRlZFwiKX1mdW5jdGlvbiB5dSh0KXtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDYpKXJldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKHQ8PEJpZ0ludCgyKSldKTtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDE0KSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDEpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpXSl9ZWxzZSBpZih0PEJpZ0ludCgxKTw8QmlnSW50KDMwKSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDIpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoMTYpJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDI0KSZCaWdJbnQoMjU1KSldKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBjb21wYWN0IGVuY29kaW5nIG5vdCBzdXBwb3J0ZWQgPiAyXjMwXCIpfWZ1bmN0aW9uIG11KHQpe2NvbnN0IGU9VWludDhBcnJheS5mcm9tKEJ1ZmZlci5mcm9tKHQuc2lnbmF0dXJlLFwiaGV4XCIpKSxuPWpzKHQudHJhbnNhY3Rpb24uYWRkcmVzcykscj1Mcyh7cHVibGljS2V5Om4sc2lnbmF0dXJlOmUscGF5bG9hZDp0LnRyYW5zYWN0aW9ufSksbz1CdWZmZXIuZnJvbShyKS50b1N0cmluZyhcImhleFwiKTtyZXR1cm4ga3Mobyl9ZnVuY3Rpb24gd3Uoe2xvZ2dlcjp0LG5hbWU6ZX0pe2NvbnN0IG49dHlwZW9mIHQ9PVwic3RyaW5nXCI/WXMoe29wdHM6e2xldmVsOnQsbmFtZTplfX0pLmxvZ2dlcjp0O3JldHVybiBuLmxldmVsPXR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6dC5sZXZlbCxufWV4cG9ydHtWbiBhcyBCQVNFMTAscnQgYXMgQkFTRTE2LG9lIGFzIEJBU0U2NCxHZSBhcyBCQVNFNjRVUkwsY2kgYXMgQ09MT04sbm4gYXMgREVGQVVMVF9ERVBUSCxTZSBhcyBFTVBUWV9TUEFDRSxldCBhcyBFTlZfTUFQLHdzIGFzIElOVEVSTkFMX0VSUk9SUyxraSBhcyBMaW1pdGVkU2V0LGh1IGFzIE1lbW9yeVN0b3JlLGZpIGFzIE9ORV9USE9VU0FORCxkciBhcyBSRUFDVF9OQVRJVkVfUFJPRFVDVCxzcyBhcyBSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wsbXMgYXMgU0RLX0VSUk9SUyxwciBhcyBTREtfVFlQRSxociBhcyBTTEFTSCxNbiBhcyBUWVBFXzAsaWUgYXMgVFlQRV8xLHdlIGFzIFRZUEVfMixzZSBhcyBVVEY4LGZvIGFzIGFkZFJlc291cmNlVG9SZWNhcCxMcyBhcyBhZGRTaWduYXR1cmVUb0V4dHJpbnNpYyxnciBhcyBhcHBlbmRUb1F1ZXJ5U3RyaW5nLGJpIGFzIGFzc2VydFR5cGUseW4gYXMgYXNzaWduQWJpbGl0eVRvQWN0aW9ucyxpbyBhcyBiYXNlNjREZWNvZGUsc28gYXMgYmFzZTY0RW5jb2RlLE1hIGFzIGJ1aWxkQXBwcm92ZWROYW1lc3BhY2VzLEhjIGFzIGJ1aWxkQXV0aE9iamVjdCxLYSBhcyBidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCx1byBhcyBidWlsZFJlY2FwU3RhdGVtZW50LG11IGFzIGJ1aWxkU2lnbmVkRXh0cmluc2ljSGFzaCxOaSBhcyBjYWxjRXhwaXJ5LEVpIGFzIGNhcGl0YWxpemUsRXIgYXMgY2FwaXRhbGl6ZVdvcmQsQmkgYXMgY3JlYXRlRGVsYXllZFByb21pc2UsS2MgYXMgY3JlYXRlRW5jb2RlZFJlY2FwLEFpIGFzIGNyZWF0ZUV4cGlyaW5nUHJvbWlzZSx3dSBhcyBjcmVhdGVMb2dnZXIsY28gYXMgY3JlYXRlUmVjYXAsa3QgYXMgZGVjb2RlUmVjYXAsWnQgYXMgZGVjb2RlVHlwZUJ5dGUsbWEgYXMgZGVjb2RlVHlwZVR3b0VudmVsb3BlLGJhIGFzIGRlY3J5cHQsa3MgYXMgZGVyaXZlRXh0cmluc2ljSGFzaCxkYSBhcyBkZXJpdmVTeW1LZXksemUgYXMgZGVzZXJpYWxpemUsQ2UgYXMgZW5jb2RlUmVjYXAscW4gYXMgZW5jb2RlVHlwZUJ5dGUseWEgYXMgZW5jb2RlVHlwZVR3b0VudmVsb3BlLGdhIGFzIGVuY3J5cHQsX2kgYXMgZW5naW5lRXZlbnQseGkgYXMgZW51bWlmeSxTYyBhcyBleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCxzciBhcyBmb3JtYXRBY2NvdW50SWQsV3MgYXMgZm9ybWF0QWNjb3VudFdpdGhDaGFpbixvciBhcyBmb3JtYXRDaGFpbklkLEJyIGFzIGZvcm1hdERlZXBsaW5rVXJsLG9uIGFzIGZvcm1hdEV4cGlyZXJUYXJnZXQsU2kgYXMgZm9ybWF0SWRUYXJnZXQsZW8gYXMgZm9ybWF0TWVzc2FnZSx5aSBhcyBmb3JtYXRNZXNzYWdlQ29udGV4dCx1cyBhcyBmb3JtYXRSZWxheVBhcmFtcyxwaSBhcyBmb3JtYXRSZWxheVJwY1VybCx3biBhcyBmb3JtYXRTdGF0ZW1lbnRGcm9tUmVjYXAsSWkgYXMgZm9ybWF0VG9waWNUYXJnZXQsd3IgYXMgZm9ybWF0VUEsJGEgYXMgZm9ybWF0VXJpLGNuIGFzIGZyb21CYXNlNjQsdWEgYXMgZ2VuZXJhdGVLZXlQYWlyLGxhIGFzIGdlbmVyYXRlUmFuZG9tQnl0ZXMzMixHdCBhcyBnZXRBY2NvdW50c0NoYWlucyxKcyBhcyBnZXRBY2NvdW50c0Zyb21OYW1lc3BhY2VzLGlyIGFzIGdldEFkZHJlc3NGcm9tQWNjb3VudCxYcyBhcyBnZXRBZGRyZXNzZXNGcm9tQWNjb3VudHMsVWMgYXMgZ2V0QWxnb3JhbmRUcmFuc2FjdGlvbklkLGxpIGFzIGdldEFwcElkLGJyIGFzIGdldEFwcE1ldGFkYXRhLF9zIGFzIGdldEJyb3dzZXJPbmxpbmVTdGF0dXMsY3IgYXMgZ2V0Q2hhaW5Gcm9tQWNjb3VudCxmciBhcyBnZXRDaGFpbnNGcm9tQWNjb3VudHMsSWUgYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZSxRcyBhcyBnZXRDaGFpbnNGcm9tTmFtZXNwYWNlcyxaYyBhcyBnZXRDaGFpbnNGcm9tUmVjYXAsdGkgYXMgZ2V0Q2hhaW5zRnJvbVJlcXVpcmVkTmFtZXNwYWNlcyxzbiBhcyBnZXRDb21tb25WYWx1ZXNJbkFycmF5cyxvcyBhcyBnZXRDcnlwdG9LZXlGcm9tS2V5RGF0YSxubyBhcyBnZXREZWNvZGVkUmVjYXBGcm9tUmVzb3VyY2VzLCRpIGFzIGdldERlZXBMaW5rLGJuIGFzIGdldERpZEFkZHJlc3MsVGUgYXMgZ2V0RGlkQWRkcmVzc1NlZ21lbnRzLFFyIGFzIGdldERpZENoYWluSWQsVnQgYXMgZ2V0RW52aXJvbm1lbnQsZ2kgYXMgZ2V0SHR0cFVybCxCdCBhcyBnZXRJbnRlcm5hbEVycm9yLG1yIGFzIGdldEphdmFzY3JpcHRJRCx5ciBhcyBnZXRKYXZhc2NyaXB0T1MseHIgYXMgZ2V0TGFzdEl0ZW1zLFRhIGFzIGdldExpbmtNb2RlVVJMLEZjIGFzIGdldE1ldGhvZHNGcm9tUmVjYXAsdG8gYXMgZ2V0TmFtZXNwYWNlZERpZENoYWluSWQsaHMgYXMgZ2V0TmFtZXNwYWNlc0NoYWlucyxncyBhcyBnZXROYW1lc3BhY2VzRXZlbnRzRm9yQ2hhaW5JZCx5cyBhcyBnZXROYW1lc3BhY2VzRnJvbUFjY291bnRzLHBzIGFzIGdldE5hbWVzcGFjZXNNZXRob2RzRm9yQ2hhaW5JZCxOYyBhcyBnZXROZWFyVHJhbnNhY3Rpb25JZEZyb21TaWduZWRUcmFuc2FjdGlvbixZciBhcyBnZXROZWFyVWludDhBcnJheUZyb21CeXRlcywkcyBhcyBnZXROb2RlT25saW5lU3RhdHVzLG9vIGFzIGdldFJlQ2FwQWN0aW9ucyxScyBhcyBnZXRSZWFjdE5hdGl2ZU9ubGluZVN0YXR1cyxNYyBhcyBnZXRSZWNhcEFiaWxpdGllc0Zyb21SZXNvdXJjZSxqZSBhcyBnZXRSZWNhcEZyb21SZXNvdXJjZXMscm8gYXMgZ2V0UmVjYXBSZXNvdXJjZSxoaSBhcyBnZXRSZWxheUNsaWVudE1ldGFkYXRhLEFhIGFzIGdldFJlbGF5UHJvdG9jb2xBcGksQmEgYXMgZ2V0UmVsYXlQcm90b2NvbE5hbWUsVmEgYXMgZ2V0UmVxdWlyZWROYW1lc3BhY2VzRnJvbU5hbWVzcGFjZXMsenQgYXMgZ2V0U2RrRXJyb3IsVGkgYXMgZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMLF9jIGFzIGdldFNpZ25EaXJlY3RIYXNoLE9jIGFzIGdldFN1aURpZ2VzdCx0biBhcyBnZXRVbmlxdWVWYWx1ZXMsUmMgYXMgZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzLFJpIGFzIGhhbmRsZURlZXBsaW5rUmVkaXJlY3QsSXQgYXMgaGFzT3ZlcmxhcCxobiBhcyBoYXNoRXRoZXJldW1NZXNzYWdlLGhhIGFzIGhhc2hLZXkscGEgYXMgaGFzaE1lc3NhZ2UsYWkgYXMgaXNBbmRyb2lkLGR1IGFzIGlzQXBwVmlzaWJsZSxXdCBhcyBpc0Jyb3dzZXIsR24gYXMgaXNDYWlwTmFtZXNwYWNlLE5zIGFzIGlzQ29uZm9ybWluZ05hbWVzcGFjZXMsVWkgYXMgaXNFeHBpcmVkLFNyIGFzIGlzSWZyYW1lLHVpIGFzIGlzSW9zLHJuIGFzIGlzTm9kZSx1dSBhcyBpc09ubGluZSxHYSBhcyBpc1Byb3Bvc2FsU3RydWN0LEF0IGFzIGlzUmVhY3ROYXRpdmUsbW4gYXMgaXNSZWNhcCxGYSBhcyBpc1Nlc3Npb25Db21wYXRpYmxlLHphIGFzIGlzU2Vzc2lvblN0cnVjdCxJciBhcyBpc1RlbGVncmFtLGppIGFzIGlzVGVzdFJ1bix2YSBhcyBpc1R5cGVPbmVFbnZlbG9wZSx4YSBhcyBpc1R5cGVUd29FbnZlbG9wZSxEdCBhcyBpc1VuZGVmaW5lZCx2cyBhcyBpc1ZhbGlkQWNjb3VudElkLEJzIGFzIGlzVmFsaWRBY2NvdW50cyxJcyBhcyBpc1ZhbGlkQWN0aW9ucyxFZSBhcyBpc1ZhbGlkQXJyYXksQmUgYXMgaXNWYWxpZENoYWluSWQseHMgYXMgaXNWYWxpZENoYWlucyxZYSBhcyBpc1ZhbGlkQ29udHJvbGxlcix6ciBhcyBpc1ZhbGlkRWlwMTI3MVNpZ25hdHVyZSxHciBhcyBpc1ZhbGlkRWlwMTkxU2lnbmF0dXJlLHR1IGFzIGlzVmFsaWRFcnJvclJlYXNvbixydSBhcyBpc1ZhbGlkRXZlbnQsSmEgYXMgaXNWYWxpZElkLEFzIGFzIGlzVmFsaWROYW1lc3BhY2VBY2NvdW50cyxZbiBhcyBpc1ZhbGlkTmFtZXNwYWNlQWN0aW9ucyxFcyBhcyBpc1ZhbGlkTmFtZXNwYWNlQ2hhaW5zLHpuIGFzIGlzVmFsaWROYW1lc3BhY2VNZXRob2RzT3JFdmVudHMsU3MgYXMgaXNWYWxpZE5hbWVzcGFjZXMsb3UgYXMgaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkLGl1IGFzIGlzVmFsaWROYW1lc3BhY2VzRXZlbnQsc3UgYXMgaXNWYWxpZE5hbWVzcGFjZXNSZXF1ZXN0LFdlIGFzIGlzVmFsaWROdW1iZXIsWWUgYXMgaXNWYWxpZE9iamVjdCxRYSBhcyBpc1ZhbGlkUGFyYW1zLHl0IGFzIGlzVmFsaWRSZWNhcCxPcyBhcyBpc1ZhbGlkUmVsYXksWGEgYXMgaXNWYWxpZFJlbGF5cyxldSBhcyBpc1ZhbGlkUmVxdWVzdCxhdSBhcyBpc1ZhbGlkUmVxdWVzdEV4cGlyeSxXYSBhcyBpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzLG51IGFzIGlzVmFsaWRSZXNwb25zZSxmdCBhcyBpc1ZhbGlkU3RyaW5nLFphIGFzIGlzVmFsaWRVcmwsdmkgYXMgbWFwRW50cmllcyxtaSBhcyBtYXBUb09iaix1dCBhcyBtZXJnZUFycmF5cyxxYyBhcyBtZXJnZUVuY29kZWRSZWNhcHMsYW8gYXMgbWVyZ2VSZWNhcHMscWEgYXMgbWVyZ2VSZXF1aXJlZEFuZE9wdGlvbmFsTmFtZXNwYWNlcyx4ZSBhcyBub3JtYWxpemVOYW1lc3BhY2VzLHdpIGFzIG9ialRvTWFwLEFyIGFzIG9wZW5EZWVwbGluayxRZSBhcyBwYXJzZUFjY291bnRJZCxKZSBhcyBwYXJzZUNoYWluSWQsdnIgYXMgcGFyc2VDb250ZXh0TmFtZXMsT2kgYXMgcGFyc2VFeHBpcmVyVGFyZ2V0LGJzIGFzIHBhcnNlTmFtZXNwYWNlS2V5LGZzIGFzIHBhcnNlUmVsYXlQYXJhbXMsYXMgYXMgcGFyc2VUb3BpYyxSYSBhcyBwYXJzZVVyaSxkaSBhcyBwb3B1bGF0ZUFwcE1ldGFkYXRhLERjIGFzIHBvcHVsYXRlQXV0aFBheWxvYWQsVmMgYXMgcmVjYXBIYXNSZXNvdXJjZSxGbiBhcyBzZXJpYWxpemUsTGkgYXMgc2xlZXAsanMgYXMgc3M1OEFkZHJlc3NUb1B1YmxpY0tleSxUcyBhcyBzdWJzY3JpYmVUb0Jyb3dzZXJOZXR3b3JrQ2hhbmdlLGx1IGFzIHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSxDcyBhcyBzdWJzY3JpYmVUb1JlYWN0TmF0aXZlTmV0d29ya0NoYW5nZSxPciBhcyB0b0Jhc2U2NCxDaSBhcyB1dWlkdjQsd2EgYXMgdmFsaWRhdGVEZWNvZGluZyxycyBhcyB2YWxpZGF0ZUVuY29kaW5nLFBjIGFzIHZhbGlkYXRlU2lnbmVkQ2FjYW8sRWEgYXMgdmVyaWZ5UDI1Nkp3dCxaciBhcyB2ZXJpZnlTaWduYXR1cmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/@walletconnect/utils/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/base-x/src/esm/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/base-x/src/esm/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  const BASE_MAP = new Uint8Array(256)\n  for (let j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (let i = 0; i < ALPHABET.length; i++) {\n    const x = ALPHABET.charAt(i)\n    const xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  const BASE = ALPHABET.length\n  const LEADER = ALPHABET.charAt(0)\n  const FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  const iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    // eslint-disable-next-line no-empty\n    if (source instanceof Uint8Array) { } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n    // Skip & count leading zeroes.\n    let zeroes = 0\n    let length = 0\n    let pbegin = 0\n    const pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n    // Allocate enough space in big-endian base58 representation.\n    const size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    const b58 = new Uint8Array(size)\n    // Process the bytes.\n    while (pbegin !== pend) {\n      let carry = source[pbegin]\n      // Apply \"b58 = b58 * 256 + ch\".\n      let i = 0\n      for (let it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n    // Skip leading zeroes in base58 result.\n    let it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n    // Translate the result into a string.\n    let str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    let psz = 0\n    // Skip and count leading '1's.\n    let zeroes = 0\n    let length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n    // Allocate enough space in big-endian base256 representation.\n    const size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    const b256 = new Uint8Array(size)\n    // Process the characters.\n    while (psz < source.length) {\n      // Find code of next character\n      const charCode = source.charCodeAt(psz)\n      // Base map can not be indexed using char code\n      if (charCode > 255) { return }\n      // Decode character\n      let carry = BASE_MAP[charCode]\n      // Invalid character\n      if (carry === 255) { return }\n      let i = 0\n      for (let it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n    // Skip leading zeroes in b256.\n    let it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    const vch = new Uint8Array(zeroes + (size - it4))\n    let j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    const buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode,\n    decodeUnsafe,\n    decode\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (base);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9iYXNlLXgvc3JjL2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLDJDQUEyQztBQUMzQywrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVksU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLCtCQUErQiw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsSUFBSSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9iYXNlLXgvc3JjL2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBiYXNlLXggZW5jb2RpbmcgLyBkZWNvZGluZ1xuLy8gQ29weXJpZ2h0IChjKSAyMDE4IGJhc2UteCBjb250cmlidXRvcnNcbi8vIENvcHlyaWdodCAoYykgMjAxNC0yMDE4IFRoZSBCaXRjb2luIENvcmUgZGV2ZWxvcGVycyAoYmFzZTU4LmNwcClcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgc29mdHdhcmUgbGljZW5zZSwgc2VlIHRoZSBhY2NvbXBhbnlpbmdcbi8vIGZpbGUgTElDRU5TRSBvciBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocC5cbmZ1bmN0aW9uIGJhc2UgKEFMUEhBQkVUKSB7XG4gIGlmIChBTFBIQUJFVC5sZW5ndGggPj0gMjU1KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscGhhYmV0IHRvbyBsb25nJykgfVxuICBjb25zdCBCQVNFX01BUCA9IG5ldyBVaW50OEFycmF5KDI1NilcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBCQVNFX01BUC5sZW5ndGg7IGorKykge1xuICAgIEJBU0VfTUFQW2pdID0gMjU1XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBBTFBIQUJFVC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHggPSBBTFBIQUJFVC5jaGFyQXQoaSlcbiAgICBjb25zdCB4YyA9IHguY2hhckNvZGVBdCgwKVxuICAgIGlmIChCQVNFX01BUFt4Y10gIT09IDI1NSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKHggKyAnIGlzIGFtYmlndW91cycpIH1cbiAgICBCQVNFX01BUFt4Y10gPSBpXG4gIH1cbiAgY29uc3QgQkFTRSA9IEFMUEhBQkVULmxlbmd0aFxuICBjb25zdCBMRUFERVIgPSBBTFBIQUJFVC5jaGFyQXQoMClcbiAgY29uc3QgRkFDVE9SID0gTWF0aC5sb2coQkFTRSkgLyBNYXRoLmxvZygyNTYpIC8vIGxvZyhCQVNFKSAvIGxvZygyNTYpLCByb3VuZGVkIHVwXG4gIGNvbnN0IGlGQUNUT1IgPSBNYXRoLmxvZygyNTYpIC8gTWF0aC5sb2coQkFTRSkgLy8gbG9nKDI1NikgLyBsb2coQkFTRSksIHJvdW5kZWQgdXBcbiAgZnVuY3Rpb24gZW5jb2RlIChzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSkgeyB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzb3VyY2UpKSB7XG4gICAgICBzb3VyY2UgPSBuZXcgVWludDhBcnJheShzb3VyY2UuYnVmZmVyLCBzb3VyY2UuYnl0ZU9mZnNldCwgc291cmNlLmJ5dGVMZW5ndGgpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHNvdXJjZSA9IFVpbnQ4QXJyYXkuZnJvbShzb3VyY2UpXG4gICAgfVxuICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFVpbnQ4QXJyYXknKSB9XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT09IDApIHsgcmV0dXJuICcnIH1cbiAgICAvLyBTa2lwICYgY291bnQgbGVhZGluZyB6ZXJvZXMuXG4gICAgbGV0IHplcm9lcyA9IDBcbiAgICBsZXQgbGVuZ3RoID0gMFxuICAgIGxldCBwYmVnaW4gPSAwXG4gICAgY29uc3QgcGVuZCA9IHNvdXJjZS5sZW5ndGhcbiAgICB3aGlsZSAocGJlZ2luICE9PSBwZW5kICYmIHNvdXJjZVtwYmVnaW5dID09PSAwKSB7XG4gICAgICBwYmVnaW4rK1xuICAgICAgemVyb2VzKytcbiAgICB9XG4gICAgLy8gQWxsb2NhdGUgZW5vdWdoIHNwYWNlIGluIGJpZy1lbmRpYW4gYmFzZTU4IHJlcHJlc2VudGF0aW9uLlxuICAgIGNvbnN0IHNpemUgPSAoKHBlbmQgLSBwYmVnaW4pICogaUZBQ1RPUiArIDEpID4+PiAwXG4gICAgY29uc3QgYjU4ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvLyBQcm9jZXNzIHRoZSBieXRlcy5cbiAgICB3aGlsZSAocGJlZ2luICE9PSBwZW5kKSB7XG4gICAgICBsZXQgY2FycnkgPSBzb3VyY2VbcGJlZ2luXVxuICAgICAgLy8gQXBwbHkgXCJiNTggPSBiNTggKiAyNTYgKyBjaFwiLlxuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDEgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDEgIT09IC0xKTsgaXQxLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoMjU2ICogYjU4W2l0MV0pID4+PiAwXG4gICAgICAgIGI1OFtpdDFdID0gKGNhcnJ5ICUgQkFTRSkgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyBCQVNFKSA+Pj4gMFxuICAgICAgfVxuICAgICAgaWYgKGNhcnJ5ICE9PSAwKSB7IHRocm93IG5ldyBFcnJvcignTm9uLXplcm8gY2FycnknKSB9XG4gICAgICBsZW5ndGggPSBpXG4gICAgICBwYmVnaW4rK1xuICAgIH1cbiAgICAvLyBTa2lwIGxlYWRpbmcgemVyb2VzIGluIGJhc2U1OCByZXN1bHQuXG4gICAgbGV0IGl0MiA9IHNpemUgLSBsZW5ndGhcbiAgICB3aGlsZSAoaXQyICE9PSBzaXplICYmIGI1OFtpdDJdID09PSAwKSB7XG4gICAgICBpdDIrK1xuICAgIH1cbiAgICAvLyBUcmFuc2xhdGUgdGhlIHJlc3VsdCBpbnRvIGEgc3RyaW5nLlxuICAgIGxldCBzdHIgPSBMRUFERVIucmVwZWF0KHplcm9lcylcbiAgICBmb3IgKDsgaXQyIDwgc2l6ZTsgKytpdDIpIHsgc3RyICs9IEFMUEhBQkVULmNoYXJBdChiNThbaXQyXSkgfVxuICAgIHJldHVybiBzdHJcbiAgfVxuICBmdW5jdGlvbiBkZWNvZGVVbnNhZmUgKHNvdXJjZSkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnc3RyaW5nJykgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBTdHJpbmcnKSB9XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT09IDApIHsgcmV0dXJuIG5ldyBVaW50OEFycmF5KCkgfVxuICAgIGxldCBwc3ogPSAwXG4gICAgLy8gU2tpcCBhbmQgY291bnQgbGVhZGluZyAnMSdzLlxuICAgIGxldCB6ZXJvZXMgPSAwXG4gICAgbGV0IGxlbmd0aCA9IDBcbiAgICB3aGlsZSAoc291cmNlW3Bzel0gPT09IExFQURFUikge1xuICAgICAgemVyb2VzKytcbiAgICAgIHBzeisrXG4gICAgfVxuICAgIC8vIEFsbG9jYXRlIGVub3VnaCBzcGFjZSBpbiBiaWctZW5kaWFuIGJhc2UyNTYgcmVwcmVzZW50YXRpb24uXG4gICAgY29uc3Qgc2l6ZSA9ICgoKHNvdXJjZS5sZW5ndGggLSBwc3opICogRkFDVE9SKSArIDEpID4+PiAwIC8vIGxvZyg1OCkgLyBsb2coMjU2KSwgcm91bmRlZCB1cC5cbiAgICBjb25zdCBiMjU2ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvLyBQcm9jZXNzIHRoZSBjaGFyYWN0ZXJzLlxuICAgIHdoaWxlIChwc3ogPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAvLyBGaW5kIGNvZGUgb2YgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocHN6KVxuICAgICAgLy8gQmFzZSBtYXAgY2FuIG5vdCBiZSBpbmRleGVkIHVzaW5nIGNoYXIgY29kZVxuICAgICAgaWYgKGNoYXJDb2RlID4gMjU1KSB7IHJldHVybiB9XG4gICAgICAvLyBEZWNvZGUgY2hhcmFjdGVyXG4gICAgICBsZXQgY2FycnkgPSBCQVNFX01BUFtjaGFyQ29kZV1cbiAgICAgIC8vIEludmFsaWQgY2hhcmFjdGVyXG4gICAgICBpZiAoY2FycnkgPT09IDI1NSkgeyByZXR1cm4gfVxuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDMgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDMgIT09IC0xKTsgaXQzLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoQkFTRSAqIGIyNTZbaXQzXSkgPj4+IDBcbiAgICAgICAgYjI1NltpdDNdID0gKGNhcnJ5ICUgMjU2KSA+Pj4gMFxuICAgICAgICBjYXJyeSA9IChjYXJyeSAvIDI1NikgPj4+IDBcbiAgICAgIH1cbiAgICAgIGlmIChjYXJyeSAhPT0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoJ05vbi16ZXJvIGNhcnJ5JykgfVxuICAgICAgbGVuZ3RoID0gaVxuICAgICAgcHN6KytcbiAgICB9XG4gICAgLy8gU2tpcCBsZWFkaW5nIHplcm9lcyBpbiBiMjU2LlxuICAgIGxldCBpdDQgPSBzaXplIC0gbGVuZ3RoXG4gICAgd2hpbGUgKGl0NCAhPT0gc2l6ZSAmJiBiMjU2W2l0NF0gPT09IDApIHtcbiAgICAgIGl0NCsrXG4gICAgfVxuICAgIGNvbnN0IHZjaCA9IG5ldyBVaW50OEFycmF5KHplcm9lcyArIChzaXplIC0gaXQ0KSlcbiAgICBsZXQgaiA9IHplcm9lc1xuICAgIHdoaWxlIChpdDQgIT09IHNpemUpIHtcbiAgICAgIHZjaFtqKytdID0gYjI1NltpdDQrK11cbiAgICB9XG4gICAgcmV0dXJuIHZjaFxuICB9XG4gIGZ1bmN0aW9uIGRlY29kZSAoc3RyaW5nKSB7XG4gICAgY29uc3QgYnVmZmVyID0gZGVjb2RlVW5zYWZlKHN0cmluZylcbiAgICBpZiAoYnVmZmVyKSB7IHJldHVybiBidWZmZXIgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm9uLWJhc2UnICsgQkFTRSArICcgY2hhcmFjdGVyJylcbiAgfVxuICByZXR1cm4ge1xuICAgIGVuY29kZSxcbiAgICBkZWNvZGVVbnNhZmUsXG4gICAgZGVjb2RlXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGJhc2VcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/base-x/src/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@reown/appkit/node_modules/bs58/src/esm/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@reown/appkit/node_modules/bs58/src/esm/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var base_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base-x */ \"(app-pages-browser)/./node_modules/@reown/appkit/node_modules/base-x/src/esm/index.js\");\n\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,base_x__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ALPHABET));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0L25vZGVfbW9kdWxlcy9iczU4L3NyYy9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkI7QUFDM0I7QUFDQSxpRUFBZSxrREFBSyxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC9ub2RlX21vZHVsZXMvYnM1OC9zcmMvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiYXNleCBmcm9tICdiYXNlLXgnO1xudmFyIEFMUEhBQkVUID0gJzEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXonO1xuZXhwb3J0IGRlZmF1bHQgYmFzZXgoQUxQSEFCRVQpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@reown/appkit/node_modules/bs58/src/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/big.js/big.mjs":
/*!*************************************!*\
  !*** ./node_modules/big.js/big.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Big: () => (/* binding */ Big),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\r\n *  big.js v6.2.2\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2024 Michael Mclaughlin\r\n *  https://github.com/MikeMcl/big.js/LICENCE.md\r\n */\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n  // The default values below must be integers within the stated ranges.\r\n\r\n  /*\r\n   * The maximum number of decimal places (DP) of the results of operations involving division:\r\n   * div and sqrt, and pow with negative exponents.\r\n   */\r\nvar DP = 20,          // 0 to MAX_DP\r\n\r\n  /*\r\n   * The rounding mode (RM) used when rounding to the above decimal places.\r\n   *\r\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n   *  3  Away from zero.                                  (ROUND_UP)\r\n   */\r\n  RM = 1,             // 0, 1, 2 or 3\r\n\r\n  // The maximum value of DP and Big.DP.\r\n  MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n  // The maximum magnitude of the exponent argument to the pow method.\r\n  MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n  /*\r\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n   * (JavaScript numbers: -7)\r\n   * -1000000 is the minimum recommended exponent value of a Big.\r\n   */\r\n  NE = -7,            // 0 to -1000000\r\n\r\n  /*\r\n   * The positive exponent (PE) at and above which toString returns exponential notation.\r\n   * (JavaScript numbers: 21)\r\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\r\n   */\r\n  PE = 21,            // 0 to 1000000\r\n\r\n  /*\r\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\r\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\r\n   * primitive number without a loss of precision.\r\n   */\r\n  STRICT = false,     // true or false\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n  // Error messages.\r\n  NAME = '[big.js] ',\r\n  INVALID = NAME + 'Invalid ',\r\n  INVALID_DP = INVALID + 'decimal places',\r\n  INVALID_RM = INVALID + 'rounding mode',\r\n  DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n  // The shared prototype object.\r\n  P = {},\r\n  UNDEFINED = void 0,\r\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n/*\r\n * Create and return a Big constructor.\r\n */\r\nfunction _Big_() {\r\n\r\n  /*\r\n   * The Big constructor and exported function.\r\n   * Create and return a new instance of a Big number object.\r\n   *\r\n   * n {number|string|Big} A numeric value.\r\n   */\r\n  function Big(n) {\r\n    var x = this;\r\n\r\n    // Enable constructor usage without new.\r\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\r\n\r\n    // Duplicate.\r\n    if (n instanceof Big) {\r\n      x.s = n.s;\r\n      x.e = n.e;\r\n      x.c = n.c.slice();\r\n    } else {\r\n      if (typeof n !== 'string') {\r\n        if (Big.strict === true && typeof n !== 'bigint') {\r\n          throw TypeError(INVALID + 'value');\r\n        }\r\n\r\n        // Minus zero?\r\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\r\n      }\r\n\r\n      parse(x, n);\r\n    }\r\n\r\n    // Retain a reference to this Big constructor.\r\n    // Shadow Big.prototype.constructor which points to Object.\r\n    x.constructor = Big;\r\n  }\r\n\r\n  Big.prototype = P;\r\n  Big.DP = DP;\r\n  Big.RM = RM;\r\n  Big.NE = NE;\r\n  Big.PE = PE;\r\n  Big.strict = STRICT;\r\n  Big.roundDown = 0;\r\n  Big.roundHalfUp = 1;\r\n  Big.roundHalfEven = 2;\r\n  Big.roundUp = 3;\r\n\r\n  return Big;\r\n}\r\n\r\n\r\n/*\r\n * Parse the number or string value passed to a Big constructor.\r\n *\r\n * x {Big} A Big number instance.\r\n * n {number|string} A numeric value.\r\n */\r\nfunction parse(x, n) {\r\n  var e, i, nl;\r\n\r\n  if (!NUMERIC.test(n)) {\r\n    throw Error(INVALID + 'number');\r\n  }\r\n\r\n  // Determine sign.\r\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n  // Decimal point?\r\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n  // Exponential form?\r\n  if ((i = n.search(/e/i)) > 0) {\r\n\r\n    // Determine exponent.\r\n    if (e < 0) e = i;\r\n    e += +n.slice(i + 1);\r\n    n = n.substring(0, i);\r\n  } else if (e < 0) {\r\n\r\n    // Integer.\r\n    e = n.length;\r\n  }\r\n\r\n  nl = n.length;\r\n\r\n  // Determine leading zeros.\r\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n  if (i == nl) {\r\n\r\n    // Zero.\r\n    x.c = [x.e = 0];\r\n  } else {\r\n\r\n    // Determine trailing zeros.\r\n    for (; nl > 0 && n.charAt(--nl) == '0';);\r\n    x.e = e - i - 1;\r\n    x.c = [];\r\n\r\n    // Convert string to array of digits without leading/trailing zeros.\r\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\r\n *\r\n * x {Big} The Big to round.\r\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\r\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n * [more] {boolean} Whether the result of division was truncated.\r\n */\r\nfunction round(x, sd, rm, more) {\r\n  var xc = x.c;\r\n\r\n  if (rm === UNDEFINED) rm = x.constructor.RM;\r\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\r\n    throw Error(INVALID_RM);\r\n  }\r\n\r\n  if (sd < 1) {\r\n    more =\r\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\r\n      rm === 1 && xc[0] >= 5 ||\r\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\r\n    );\r\n\r\n    xc.length = 1;\r\n\r\n    if (more) {\r\n\r\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n      x.e = x.e - sd + 1;\r\n      xc[0] = 1;\r\n    } else {\r\n\r\n      // Zero.\r\n      xc[0] = x.e = 0;\r\n    }\r\n  } else if (sd < xc.length) {\r\n\r\n    // xc[sd] is the digit after the digit that may be rounded up.\r\n    more =\r\n      rm === 1 && xc[sd] >= 5 ||\r\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\r\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\r\n      rm === 3 && (more || !!xc[0]);\r\n\r\n    // Remove any digits after the required precision.\r\n    xc.length = sd;\r\n\r\n    // Round up?\r\n    if (more) {\r\n\r\n      // Rounding up may mean the previous digit has to be rounded up.\r\n      for (; ++xc[--sd] > 9;) {\r\n        xc[sd] = 0;\r\n        if (sd === 0) {\r\n          ++x.e;\r\n          xc.unshift(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (sd = xc.length; !xc[--sd];) xc.pop();\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Return a string representing the value of Big x in normal or exponential notation.\r\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n */\r\nfunction stringify(x, doExponential, isNonzero) {\r\n  var e = x.e,\r\n    s = x.c.join(''),\r\n    n = s.length;\r\n\r\n  // Exponential notation?\r\n  if (doExponential) {\r\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n  // Normal notation.\r\n  } else if (e < 0) {\r\n    for (; ++e;) s = '0' + s;\r\n    s = '0.' + s;\r\n  } else if (e > 0) {\r\n    if (++e > n) {\r\n      for (e -= n; e--;) s += '0';\r\n    } else if (e < n) {\r\n      s = s.slice(0, e) + '.' + s.slice(e);\r\n    }\r\n  } else if (n > 1) {\r\n    s = s.charAt(0) + '.' + s.slice(1);\r\n  }\r\n\r\n  return x.s < 0 && isNonzero ? '-' + s : s;\r\n}\r\n\r\n\r\n// Prototype/instance methods\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the absolute value of this Big.\r\n */\r\nP.abs = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = 1;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return 1 if the value of this Big is greater than the value of Big y,\r\n *       -1 if the value of this Big is less than the value of Big y, or\r\n *        0 if they have the same value.\r\n */\r\nP.cmp = function (y) {\r\n  var isneg,\r\n    x = this,\r\n    xc = x.c,\r\n    yc = (y = new x.constructor(y)).c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  isneg = i < 0;\r\n\r\n  // Compare exponents.\r\n  if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = -1; ++i < j;) {\r\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n  }\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.div = function (y) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    a = x.c,                  // dividend\r\n    b = (y = new Big(y)).c,   // divisor\r\n    k = x.s == y.s ? 1 : -1,\r\n    dp = Big.DP;\r\n\r\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n\r\n  // Divisor is zero?\r\n  if (!b[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  // Dividend is 0? Return +-0.\r\n  if (!a[0]) {\r\n    y.s = k;\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  var bl, bt, n, cmp, ri,\r\n    bz = b.slice(),\r\n    ai = bl = b.length,\r\n    al = a.length,\r\n    r = a.slice(0, bl),   // remainder\r\n    rl = r.length,\r\n    q = y,                // quotient\r\n    qc = q.c = [],\r\n    qi = 0,\r\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\r\n\r\n  q.s = k;\r\n  k = p < 0 ? 0 : p;\r\n\r\n  // Create version of divisor with leading zero.\r\n  bz.unshift(0);\r\n\r\n  // Add zeros to make remainder as long as divisor.\r\n  for (; rl++ < bl;) r.push(0);\r\n\r\n  do {\r\n\r\n    // n is how many times the divisor goes into current remainder.\r\n    for (n = 0; n < 10; n++) {\r\n\r\n      // Compare divisor and remainder.\r\n      if (bl != (rl = r.length)) {\r\n        cmp = bl > rl ? 1 : -1;\r\n      } else {\r\n        for (ri = -1, cmp = 0; ++ri < bl;) {\r\n          if (b[ri] != r[ri]) {\r\n            cmp = b[ri] > r[ri] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If divisor < remainder, subtract divisor from remainder.\r\n      if (cmp < 0) {\r\n\r\n        // Remainder can't be more than 1 digit longer than divisor.\r\n        // Equalise lengths using divisor with extra leading zero?\r\n        for (bt = rl == bl ? b : bz; rl;) {\r\n          if (r[--rl] < bt[rl]) {\r\n            ri = rl;\r\n            for (; ri && !r[--ri];) r[ri] = 9;\r\n            --r[ri];\r\n            r[rl] += 10;\r\n          }\r\n          r[rl] -= bt[rl];\r\n        }\r\n\r\n        for (; !r[0];) r.shift();\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Add the digit n to the result array.\r\n    qc[qi++] = cmp ? n : ++n;\r\n\r\n    // Update the remainder.\r\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n    else r = [a[ai]];\r\n\r\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n  if (!qc[0] && qi != 1) {\r\n\r\n    // There can't be more than one zero.\r\n    qc.shift();\r\n    q.e--;\r\n    p--;\r\n  }\r\n\r\n  // Round?\r\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\r\n\r\n  return q;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n */\r\nP.eq = function (y) {\r\n  return this.cmp(y) === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n * false.\r\n */\r\nP.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.gte = function (y) {\r\n  return this.cmp(y) > -1;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n */\r\nP.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.lte = function (y) {\r\n  return this.cmp(y) < 1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n */\r\nP.minus = P.sub = function (y) {\r\n  var i, j, t, xlty,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  // Signs differ?\r\n  if (a != b) {\r\n    y.s = -b;\r\n    return x.plus(y);\r\n  }\r\n\r\n  var xc = x.c.slice(),\r\n    xe = x.e,\r\n    yc = y.c,\r\n    ye = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (yc[0]) {\r\n      y.s = -b;\r\n    } else if (xc[0]) {\r\n      y = new Big(x);\r\n    } else {\r\n      y.s = 1;\r\n    }\r\n    return y;\r\n  }\r\n\r\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n  if (a = xe - ye) {\r\n\r\n    if (xlty = a < 0) {\r\n      a = -a;\r\n      t = xc;\r\n    } else {\r\n      ye = xe;\r\n      t = yc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (b = a; b--;) t.push(0);\r\n    t.reverse();\r\n  } else {\r\n\r\n    // Exponents equal. Check digit by digit.\r\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n    for (a = b = 0; b < j; b++) {\r\n      if (xc[b] != yc[b]) {\r\n        xlty = xc[b] < yc[b];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // x < y? Point xc to the array of the bigger number.\r\n  if (xlty) {\r\n    t = xc;\r\n    xc = yc;\r\n    yc = t;\r\n    y.s = -y.s;\r\n  }\r\n\r\n  /*\r\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n   * needs to start at yc.length.\r\n   */\r\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n  // Subtract yc from xc.\r\n  for (b = i; j > a;) {\r\n    if (xc[--j] < yc[j]) {\r\n      for (i = j; i && !xc[--i];) xc[i] = 9;\r\n      --xc[i];\r\n      xc[j] += 10;\r\n    }\r\n\r\n    xc[j] -= yc[j];\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; xc[--b] === 0;) xc.pop();\r\n\r\n  // Remove leading zeros and adjust exponent accordingly.\r\n  for (; xc[0] === 0;) {\r\n    xc.shift();\r\n    --ye;\r\n  }\r\n\r\n  if (!xc[0]) {\r\n\r\n    // n - n = +0\r\n    y.s = 1;\r\n\r\n    // Result must be zero.\r\n    xc = [ye = 0];\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n */\r\nP.mod = function (y) {\r\n  var ygtx,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  if (!y.c[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  x.s = y.s = 1;\r\n  ygtx = y.cmp(x) == 1;\r\n  x.s = a;\r\n  y.s = b;\r\n\r\n  if (ygtx) return new Big(x);\r\n\r\n  a = Big.DP;\r\n  b = Big.RM;\r\n  Big.DP = Big.RM = 0;\r\n  x = x.div(y);\r\n  Big.DP = a;\r\n  Big.RM = b;\r\n\r\n  return this.minus(x.times(y));\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big negated.\r\n */\r\nP.neg = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = -x.s;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n */\r\nP.plus = P.add = function (y) {\r\n  var e, k, t,\r\n    x = this,\r\n    Big = x.constructor;\r\n\r\n  y = new Big(y);\r\n\r\n  // Signs differ?\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.minus(y);\r\n  }\r\n\r\n  var xe = x.e,\r\n    xc = x.c,\r\n    ye = y.e,\r\n    yc = y.c;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (!yc[0]) {\r\n      if (xc[0]) {\r\n        y = new Big(x);\r\n      } else {\r\n        y.s = x.s;\r\n      }\r\n    }\r\n    return y;\r\n  }\r\n\r\n  xc = xc.slice();\r\n\r\n  // Prepend zeros to equalise exponents.\r\n  // Note: reverse faster than unshifts.\r\n  if (e = xe - ye) {\r\n    if (e > 0) {\r\n      ye = xe;\r\n      t = yc;\r\n    } else {\r\n      e = -e;\r\n      t = xc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (; e--;) t.push(0);\r\n    t.reverse();\r\n  }\r\n\r\n  // Point xc to the longer array.\r\n  if (xc.length - yc.length < 0) {\r\n    t = yc;\r\n    yc = xc;\r\n    xc = t;\r\n  }\r\n\r\n  e = yc.length;\r\n\r\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\r\n\r\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n  if (k) {\r\n    xc.unshift(k);\r\n    ++ye;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a Big whose value is the value of this Big raised to the power n.\r\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n * mode Big.RM.\r\n *\r\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n */\r\nP.pow = function (n) {\r\n  var x = this,\r\n    one = new x.constructor('1'),\r\n    y = one,\r\n    isneg = n < 0;\r\n\r\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n    throw Error(INVALID + 'exponent');\r\n  }\r\n\r\n  if (isneg) n = -n;\r\n\r\n  for (;;) {\r\n    if (n & 1) y = y.times(x);\r\n    n >>= 1;\r\n    if (!n) break;\r\n    x = x.times(x);\r\n  }\r\n\r\n  return isneg ? one.div(y) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\r\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.prec = function (sd, rm) {\r\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n    throw Error(INVALID + 'precision');\r\n  }\r\n  return round(new this.constructor(this), sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\r\n * using rounding mode rm, or Big.RM if rm is not specified.\r\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\r\n * If dp is not specified, round to 0 decimal places.\r\n *\r\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.round = function (dp, rm) {\r\n  if (dp === UNDEFINED) dp = 0;\r\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n  return round(new this.constructor(this), dp + this.e + 1, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.sqrt = function () {\r\n  var r, c, t,\r\n    x = this,\r\n    Big = x.constructor,\r\n    s = x.s,\r\n    e = x.e,\r\n    half = new Big('0.5');\r\n\r\n  // Zero?\r\n  if (!x.c[0]) return new Big(x);\r\n\r\n  // Negative?\r\n  if (s < 0) {\r\n    throw Error(NAME + 'No square root');\r\n  }\r\n\r\n  // Estimate.\r\n  s = Math.sqrt(+stringify(x, true, true));\r\n\r\n  // Math.sqrt underflow/overflow?\r\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n  if (s === 0 || s === 1 / 0) {\r\n    c = x.c.join('');\r\n    if (!(c.length + e & 1)) c += '0';\r\n    s = Math.sqrt(c);\r\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n  } else {\r\n    r = new Big(s + '');\r\n  }\r\n\r\n  e = r.e + (Big.DP += 4);\r\n\r\n  // Newton-Raphson iteration.\r\n  do {\r\n    t = r;\r\n    r = half.times(t.plus(x.div(t)));\r\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big times the value of Big y.\r\n */\r\nP.times = P.mul = function (y) {\r\n  var c,\r\n    x = this,\r\n    Big = x.constructor,\r\n    xc = x.c,\r\n    yc = (y = new Big(y)).c,\r\n    a = xc.length,\r\n    b = yc.length,\r\n    i = x.e,\r\n    j = y.e;\r\n\r\n  // Determine sign of result.\r\n  y.s = x.s == y.s ? 1 : -1;\r\n\r\n  // Return signed 0 if either 0.\r\n  if (!xc[0] || !yc[0]) {\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  // Initialise exponent of result as x.e + y.e.\r\n  y.e = i + j;\r\n\r\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n  if (a < b) {\r\n    c = xc;\r\n    xc = yc;\r\n    yc = c;\r\n    j = a;\r\n    a = b;\r\n    b = j;\r\n  }\r\n\r\n  // Initialise coefficient array of result with zeros.\r\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n  // Multiply.\r\n\r\n  // i is initially xc.length.\r\n  for (i = b; i--;) {\r\n    b = 0;\r\n\r\n    // a is yc.length.\r\n    for (j = a + i; j > i;) {\r\n\r\n      // Current sum of products at this digit position, plus carry.\r\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n      c[j--] = b % 10;\r\n\r\n      // carry\r\n      b = b / 10 | 0;\r\n    }\r\n\r\n    c[j] = b;\r\n  }\r\n\r\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n  if (b) ++y.e;\r\n  else c.shift();\r\n\r\n  // Remove trailing zeros.\r\n  for (i = c.length; !c[--i];) c.pop();\r\n  y.c = c;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toExponential = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), ++dp, rm);\r\n    for (; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, true, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n *\r\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n */\r\nP.toFixed = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\r\n\r\n    // x.e may have changed if the value is rounded up.\r\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, false, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Omit the sign for negative zero.\r\n */\r\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\r\n};\r\n\r\n\r\n/*\r\n * Return the value of this Big as a primitve number.\r\n */\r\nP.toNumber = function () {\r\n  var n = +stringify(this, true, true);\r\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\r\n    throw Error(NAME + 'Imprecise conversion');\r\n  }\r\n  return n;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big rounded to sd significant digits using\r\n * rounding mode rm, or Big.RM if rm is not specified.\r\n * Use exponential notation if sd is less than the number of digits necessary to represent\r\n * the integer part of the value in normal notation.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toPrecision = function (sd, rm) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    n = x.c[0];\r\n\r\n  if (sd !== UNDEFINED) {\r\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n      throw Error(INVALID + 'precision');\r\n    }\r\n    x = round(new Big(x), sd, rm);\r\n    for (; x.c.length < sd;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Include the sign for negative zero.\r\n */\r\nP.valueOf = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  if (Big.strict === true) {\r\n    throw Error(NAME + 'valueOf disallowed');\r\n  }\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\r\n};\r\n\r\n\r\n// Export\r\n\r\n\r\nvar Big = _Big_();\r\n\r\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Big);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9iaWcuanMvYmlnLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1CQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sS0FBSztBQUNYLE1BQU0sZUFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFFBQVE7QUFDZixRQUFRLFFBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsaUVBQWUsR0FBRyxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL2JpZy5qcy9iaWcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqICBiaWcuanMgdjYuMi4yXHJcbiAqICBBIHNtYWxsLCBmYXN0LCBlYXN5LXRvLXVzZSBsaWJyYXJ5IGZvciBhcmJpdHJhcnktcHJlY2lzaW9uIGRlY2ltYWwgYXJpdGhtZXRpYy5cclxuICogIENvcHlyaWdodCAoYykgMjAyNCBNaWNoYWVsIE1jbGF1Z2hsaW5cclxuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZy5qcy9MSUNFTkNFLm1kXHJcbiAqL1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFRElUQUJMRSBERUZBVUxUUyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4gIC8vIFRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgc3RhdGVkIHJhbmdlcy5cclxuXHJcbiAgLypcclxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgKERQKSBvZiB0aGUgcmVzdWx0cyBvZiBvcGVyYXRpb25zIGludm9sdmluZyBkaXZpc2lvbjpcclxuICAgKiBkaXYgYW5kIHNxcnQsIGFuZCBwb3cgd2l0aCBuZWdhdGl2ZSBleHBvbmVudHMuXHJcbiAgICovXHJcbnZhciBEUCA9IDIwLCAgICAgICAgICAvLyAwIHRvIE1BWF9EUFxyXG5cclxuICAvKlxyXG4gICAqIFRoZSByb3VuZGluZyBtb2RlIChSTSkgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIHRoZSBhYm92ZSBkZWNpbWFsIHBsYWNlcy5cclxuICAgKlxyXG4gICAqICAwICBUb3dhcmRzIHplcm8gKGkuZS4gdHJ1bmNhdGUsIG5vIHJvdW5kaW5nKS4gICAgICAgKFJPVU5EX0RPV04pXHJcbiAgICogIDEgIFRvIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgcm91bmQgdXAuICAoUk9VTkRfSEFMRl9VUClcclxuICAgKiAgMiAgVG8gbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0byBldmVuLiAgIChST1VORF9IQUxGX0VWRU4pXHJcbiAgICogIDMgIEF3YXkgZnJvbSB6ZXJvLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoUk9VTkRfVVApXHJcbiAgICovXHJcbiAgUk0gPSAxLCAgICAgICAgICAgICAvLyAwLCAxLCAyIG9yIDNcclxuXHJcbiAgLy8gVGhlIG1heGltdW0gdmFsdWUgb2YgRFAgYW5kIEJpZy5EUC5cclxuICBNQVhfRFAgPSAxRTYsICAgICAgIC8vIDAgdG8gMTAwMDAwMFxyXG5cclxuICAvLyBUaGUgbWF4aW11bSBtYWduaXR1ZGUgb2YgdGhlIGV4cG9uZW50IGFyZ3VtZW50IHRvIHRoZSBwb3cgbWV0aG9kLlxyXG4gIE1BWF9QT1dFUiA9IDFFNiwgICAgLy8gMSB0byAxMDAwMDAwXHJcblxyXG4gIC8qXHJcbiAgICogVGhlIG5lZ2F0aXZlIGV4cG9uZW50IChORSkgYXQgYW5kIGJlbmVhdGggd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKiAoSmF2YVNjcmlwdCBudW1iZXJzOiAtNylcclxuICAgKiAtMTAwMDAwMCBpcyB0aGUgbWluaW11bSByZWNvbW1lbmRlZCBleHBvbmVudCB2YWx1ZSBvZiBhIEJpZy5cclxuICAgKi9cclxuICBORSA9IC03LCAgICAgICAgICAgIC8vIDAgdG8gLTEwMDAwMDBcclxuXHJcbiAgLypcclxuICAgKiBUaGUgcG9zaXRpdmUgZXhwb25lbnQgKFBFKSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKiAoSmF2YVNjcmlwdCBudW1iZXJzOiAyMSlcclxuICAgKiAxMDAwMDAwIGlzIHRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIGV4cG9uZW50IHZhbHVlIG9mIGEgQmlnLCBidXQgdGhpcyBsaW1pdCBpcyBub3QgZW5mb3JjZWQuXHJcbiAgICovXHJcbiAgUEUgPSAyMSwgICAgICAgICAgICAvLyAwIHRvIDEwMDAwMDBcclxuXHJcbiAgLypcclxuICAgKiBXaGVuIHRydWUsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGlmIGEgcHJpbWl0aXZlIG51bWJlciBpcyBwYXNzZWQgdG8gdGhlIEJpZyBjb25zdHJ1Y3RvcixcclxuICAgKiBvciBpZiB2YWx1ZU9mIGlzIGNhbGxlZCwgb3IgaWYgdG9OdW1iZXIgaXMgY2FsbGVkIG9uIGEgQmlnIHdoaWNoIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYVxyXG4gICAqIHByaW1pdGl2ZSBudW1iZXIgd2l0aG91dCBhIGxvc3Mgb2YgcHJlY2lzaW9uLlxyXG4gICAqL1xyXG4gIFNUUklDVCA9IGZhbHNlLCAgICAgLy8gdHJ1ZSBvciBmYWxzZVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4gIC8vIEVycm9yIG1lc3NhZ2VzLlxyXG4gIE5BTUUgPSAnW2JpZy5qc10gJyxcclxuICBJTlZBTElEID0gTkFNRSArICdJbnZhbGlkICcsXHJcbiAgSU5WQUxJRF9EUCA9IElOVkFMSUQgKyAnZGVjaW1hbCBwbGFjZXMnLFxyXG4gIElOVkFMSURfUk0gPSBJTlZBTElEICsgJ3JvdW5kaW5nIG1vZGUnLFxyXG4gIERJVl9CWV9aRVJPID0gTkFNRSArICdEaXZpc2lvbiBieSB6ZXJvJyxcclxuXHJcbiAgLy8gVGhlIHNoYXJlZCBwcm90b3R5cGUgb2JqZWN0LlxyXG4gIFAgPSB7fSxcclxuICBVTkRFRklORUQgPSB2b2lkIDAsXHJcbiAgTlVNRVJJQyA9IC9eLT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pO1xyXG5cclxuXHJcbi8qXHJcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgQmlnIGNvbnN0cnVjdG9yLlxyXG4gKi9cclxuZnVuY3Rpb24gX0JpZ18oKSB7XHJcblxyXG4gIC8qXHJcbiAgICogVGhlIEJpZyBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYSBCaWcgbnVtYmVyIG9iamVjdC5cclxuICAgKlxyXG4gICAqIG4ge251bWJlcnxzdHJpbmd8QmlnfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gQmlnKG4pIHtcclxuICAgIHZhciB4ID0gdGhpcztcclxuXHJcbiAgICAvLyBFbmFibGUgY29uc3RydWN0b3IgdXNhZ2Ugd2l0aG91dCBuZXcuXHJcbiAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnKSkgcmV0dXJuIG4gPT09IFVOREVGSU5FRCA/IF9CaWdfKCkgOiBuZXcgQmlnKG4pO1xyXG5cclxuICAgIC8vIER1cGxpY2F0ZS5cclxuICAgIGlmIChuIGluc3RhbmNlb2YgQmlnKSB7XHJcbiAgICAgIHgucyA9IG4ucztcclxuICAgICAgeC5lID0gbi5lO1xyXG4gICAgICB4LmMgPSBuLmMuc2xpY2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0eXBlb2YgbiAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICBpZiAoQmlnLnN0cmljdCA9PT0gdHJ1ZSAmJiB0eXBlb2YgbiAhPT0gJ2JpZ2ludCcpIHtcclxuICAgICAgICAgIHRocm93IFR5cGVFcnJvcihJTlZBTElEICsgJ3ZhbHVlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNaW51cyB6ZXJvP1xyXG4gICAgICAgIG4gPSBuID09PSAwICYmIDEgLyBuIDwgMCA/ICctMCcgOiBTdHJpbmcobik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBhcnNlKHgsIG4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldGFpbiBhIHJlZmVyZW5jZSB0byB0aGlzIEJpZyBjb25zdHJ1Y3Rvci5cclxuICAgIC8vIFNoYWRvdyBCaWcucHJvdG90eXBlLmNvbnN0cnVjdG9yIHdoaWNoIHBvaW50cyB0byBPYmplY3QuXHJcbiAgICB4LmNvbnN0cnVjdG9yID0gQmlnO1xyXG4gIH1cclxuXHJcbiAgQmlnLnByb3RvdHlwZSA9IFA7XHJcbiAgQmlnLkRQID0gRFA7XHJcbiAgQmlnLlJNID0gUk07XHJcbiAgQmlnLk5FID0gTkU7XHJcbiAgQmlnLlBFID0gUEU7XHJcbiAgQmlnLnN0cmljdCA9IFNUUklDVDtcclxuICBCaWcucm91bmREb3duID0gMDtcclxuICBCaWcucm91bmRIYWxmVXAgPSAxO1xyXG4gIEJpZy5yb3VuZEhhbGZFdmVuID0gMjtcclxuICBCaWcucm91bmRVcCA9IDM7XHJcblxyXG4gIHJldHVybiBCaWc7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQYXJzZSB0aGUgbnVtYmVyIG9yIHN0cmluZyB2YWx1ZSBwYXNzZWQgdG8gYSBCaWcgY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIHgge0JpZ30gQSBCaWcgbnVtYmVyIGluc3RhbmNlLlxyXG4gKiBuIHtudW1iZXJ8c3RyaW5nfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZSh4LCBuKSB7XHJcbiAgdmFyIGUsIGksIG5sO1xyXG5cclxuICBpZiAoIU5VTUVSSUMudGVzdChuKSkge1xyXG4gICAgdGhyb3cgRXJyb3IoSU5WQUxJRCArICdudW1iZXInKTtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBzaWduLlxyXG4gIHgucyA9IG4uY2hhckF0KDApID09ICctJyA/IChuID0gbi5zbGljZSgxKSwgLTEpIDogMTtcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKGUgPSBuLmluZGV4T2YoJy4nKSkgPiAtMSkgbiA9IG4ucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICBpZiAoKGkgPSBuLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgIGUgKz0gK24uc2xpY2UoaSArIDEpO1xyXG4gICAgbiA9IG4uc3Vic3RyaW5nKDAsIGkpO1xyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAvLyBJbnRlZ2VyLlxyXG4gICAgZSA9IG4ubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgbmwgPSBuLmxlbmd0aDtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgZm9yIChpID0gMDsgaSA8IG5sICYmIG4uY2hhckF0KGkpID09ICcwJzspICsraTtcclxuXHJcbiAgaWYgKGkgPT0gbmwpIHtcclxuXHJcbiAgICAvLyBaZXJvLlxyXG4gICAgeC5jID0gW3guZSA9IDBdO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7IG5sID4gMCAmJiBuLmNoYXJBdCgtLW5sKSA9PSAnMCc7KTtcclxuICAgIHguZSA9IGUgLSBpIC0gMTtcclxuICAgIHguYyA9IFtdO1xyXG5cclxuICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGFycmF5IG9mIGRpZ2l0cyB3aXRob3V0IGxlYWRpbmcvdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGUgPSAwOyBpIDw9IG5sOykgeC5jW2UrK10gPSArbi5jaGFyQXQoaSsrKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUm91bmQgQmlnIHggdG8gYSBtYXhpbXVtIG9mIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLlxyXG4gKlxyXG4gKiB4IHtCaWd9IFRoZSBCaWcgdG8gcm91bmQuXHJcbiAqIHNkIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0czogaW50ZWdlciwgMCB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gKiBybSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlOiAwIChkb3duKSwgMSAoaGFsZi11cCksIDIgKGhhbGYtZXZlbikgb3IgMyAodXApLlxyXG4gKiBbbW9yZV0ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbiB3YXMgdHJ1bmNhdGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmQoeCwgc2QsIHJtLCBtb3JlKSB7XHJcbiAgdmFyIHhjID0geC5jO1xyXG5cclxuICBpZiAocm0gPT09IFVOREVGSU5FRCkgcm0gPSB4LmNvbnN0cnVjdG9yLlJNO1xyXG4gIGlmIChybSAhPT0gMCAmJiBybSAhPT0gMSAmJiBybSAhPT0gMiAmJiBybSAhPT0gMykge1xyXG4gICAgdGhyb3cgRXJyb3IoSU5WQUxJRF9STSk7XHJcbiAgfVxyXG5cclxuICBpZiAoc2QgPCAxKSB7XHJcbiAgICBtb3JlID1cclxuICAgICAgcm0gPT09IDMgJiYgKG1vcmUgfHwgISF4Y1swXSkgfHwgc2QgPT09IDAgJiYgKFxyXG4gICAgICBybSA9PT0gMSAmJiB4Y1swXSA+PSA1IHx8XHJcbiAgICAgIHJtID09PSAyICYmICh4Y1swXSA+IDUgfHwgeGNbMF0gPT09IDUgJiYgKG1vcmUgfHwgeGNbMV0gIT09IFVOREVGSU5FRCkpXHJcbiAgICApO1xyXG5cclxuICAgIHhjLmxlbmd0aCA9IDE7XHJcblxyXG4gICAgaWYgKG1vcmUpIHtcclxuXHJcbiAgICAgIC8vIDEsIDAuMSwgMC4wMSwgMC4wMDEsIDAuMDAwMSBldGMuXHJcbiAgICAgIHguZSA9IHguZSAtIHNkICsgMTtcclxuICAgICAgeGNbMF0gPSAxO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIHhjWzBdID0geC5lID0gMDtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHNkIDwgeGMubGVuZ3RoKSB7XHJcblxyXG4gICAgLy8geGNbc2RdIGlzIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgIG1vcmUgPVxyXG4gICAgICBybSA9PT0gMSAmJiB4Y1tzZF0gPj0gNSB8fFxyXG4gICAgICBybSA9PT0gMiAmJiAoeGNbc2RdID4gNSB8fCB4Y1tzZF0gPT09IDUgJiZcclxuICAgICAgICAobW9yZSB8fCB4Y1tzZCArIDFdICE9PSBVTkRFRklORUQgfHwgeGNbc2QgLSAxXSAmIDEpKSB8fFxyXG4gICAgICBybSA9PT0gMyAmJiAobW9yZSB8fCAhIXhjWzBdKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgYW55IGRpZ2l0cyBhZnRlciB0aGUgcmVxdWlyZWQgcHJlY2lzaW9uLlxyXG4gICAgeGMubGVuZ3RoID0gc2Q7XHJcblxyXG4gICAgLy8gUm91bmQgdXA/XHJcbiAgICBpZiAobW9yZSkge1xyXG5cclxuICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwLlxyXG4gICAgICBmb3IgKDsgKyt4Y1stLXNkXSA+IDk7KSB7XHJcbiAgICAgICAgeGNbc2RdID0gMDtcclxuICAgICAgICBpZiAoc2QgPT09IDApIHtcclxuICAgICAgICAgICsreC5lO1xyXG4gICAgICAgICAgeGMudW5zaGlmdCgxKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoc2QgPSB4Yy5sZW5ndGg7ICF4Y1stLXNkXTspIHhjLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiBCaWcgeCBpbiBub3JtYWwgb3IgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAqIEhhbmRsZXMgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsIFAudG9KU09OLCBQLnRvUHJlY2lzaW9uLCBQLnRvU3RyaW5nIGFuZCBQLnZhbHVlT2YuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnkoeCwgZG9FeHBvbmVudGlhbCwgaXNOb256ZXJvKSB7XHJcbiAgdmFyIGUgPSB4LmUsXHJcbiAgICBzID0geC5jLmpvaW4oJycpLFxyXG4gICAgbiA9IHMubGVuZ3RoO1xyXG5cclxuICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbj9cclxuICBpZiAoZG9FeHBvbmVudGlhbCkge1xyXG4gICAgcyA9IHMuY2hhckF0KDApICsgKG4gPiAxID8gJy4nICsgcy5zbGljZSgxKSA6ICcnKSArIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxuXHJcbiAgLy8gTm9ybWFsIG5vdGF0aW9uLlxyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgIGZvciAoOyArK2U7KSBzID0gJzAnICsgcztcclxuICAgIHMgPSAnMC4nICsgcztcclxuICB9IGVsc2UgaWYgKGUgPiAwKSB7XHJcbiAgICBpZiAoKytlID4gbikge1xyXG4gICAgICBmb3IgKGUgLT0gbjsgZS0tOykgcyArPSAnMCc7XHJcbiAgICB9IGVsc2UgaWYgKGUgPCBuKSB7XHJcbiAgICAgIHMgPSBzLnNsaWNlKDAsIGUpICsgJy4nICsgcy5zbGljZShlKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKG4gPiAxKSB7XHJcbiAgICBzID0gcy5jaGFyQXQoMCkgKyAnLicgKyBzLnNsaWNlKDEpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHgucyA8IDAgJiYgaXNOb256ZXJvID8gJy0nICsgcyA6IHM7XHJcbn1cclxuXHJcblxyXG4vLyBQcm90b3R5cGUvaW5zdGFuY2UgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnLlxyXG4gKi9cclxuUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICB4LnMgPSAxO1xyXG4gIHJldHVybiB4O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiAxIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIEJpZyB5LFxyXG4gKiAgICAgICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWcgeSwgb3JcclxuICogICAgICAgIDAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLlxyXG4gKi9cclxuUC5jbXAgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBpc25lZyxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgeGMgPSB4LmMsXHJcbiAgICB5YyA9ICh5ID0gbmV3IHguY29uc3RydWN0b3IoeSkpLmMsXHJcbiAgICBpID0geC5zLFxyXG4gICAgaiA9IHkucyxcclxuICAgIGsgPSB4LmUsXHJcbiAgICBsID0geS5lO1xyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkgcmV0dXJuICF4Y1swXSA/ICF5Y1swXSA/IDAgOiAtaiA6IGk7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgaXNuZWcgPSBpIDwgMDtcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKGsgIT0gbCkgcmV0dXJuIGsgPiBsIF4gaXNuZWcgPyAxIDogLTE7XHJcblxyXG4gIGogPSAoayA9IHhjLmxlbmd0aCkgPCAobCA9IHljLmxlbmd0aCkgPyBrIDogbDtcclxuXHJcbiAgLy8gQ29tcGFyZSBkaWdpdCBieSBkaWdpdC5cclxuICBmb3IgKGkgPSAtMTsgKytpIDwgajspIHtcclxuICAgIGlmICh4Y1tpXSAhPSB5Y1tpXSkgcmV0dXJuIHhjW2ldID4geWNbaV0gXiBpc25lZyA/IDEgOiAtMTtcclxuICB9XHJcblxyXG4gIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gaXNuZWcgPyAxIDogLTE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgZGl2aWRlZCBieSB0aGUgdmFsdWUgb2YgQmlnIHksIHJvdW5kZWQsXHJcbiAqIGlmIG5lY2Vzc2FyeSwgdG8gYSBtYXhpbXVtIG9mIEJpZy5EUCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIEJpZy5STS5cclxuICovXHJcblAuZGl2ID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgYSA9IHguYywgICAgICAgICAgICAgICAgICAvLyBkaXZpZGVuZFxyXG4gICAgYiA9ICh5ID0gbmV3IEJpZyh5KSkuYywgICAvLyBkaXZpc29yXHJcbiAgICBrID0geC5zID09IHkucyA/IDEgOiAtMSxcclxuICAgIGRwID0gQmlnLkRQO1xyXG5cclxuICBpZiAoZHAgIT09IH5+ZHAgfHwgZHAgPCAwIHx8IGRwID4gTUFYX0RQKSB7XHJcbiAgICB0aHJvdyBFcnJvcihJTlZBTElEX0RQKTtcclxuICB9XHJcblxyXG4gIC8vIERpdmlzb3IgaXMgemVybz9cclxuICBpZiAoIWJbMF0pIHtcclxuICAgIHRocm93IEVycm9yKERJVl9CWV9aRVJPKTtcclxuICB9XHJcblxyXG4gIC8vIERpdmlkZW5kIGlzIDA/IFJldHVybiArLTAuXHJcbiAgaWYgKCFhWzBdKSB7XHJcbiAgICB5LnMgPSBrO1xyXG4gICAgeS5jID0gW3kuZSA9IDBdO1xyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICB2YXIgYmwsIGJ0LCBuLCBjbXAsIHJpLFxyXG4gICAgYnogPSBiLnNsaWNlKCksXHJcbiAgICBhaSA9IGJsID0gYi5sZW5ndGgsXHJcbiAgICBhbCA9IGEubGVuZ3RoLFxyXG4gICAgciA9IGEuc2xpY2UoMCwgYmwpLCAgIC8vIHJlbWFpbmRlclxyXG4gICAgcmwgPSByLmxlbmd0aCxcclxuICAgIHEgPSB5LCAgICAgICAgICAgICAgICAvLyBxdW90aWVudFxyXG4gICAgcWMgPSBxLmMgPSBbXSxcclxuICAgIHFpID0gMCxcclxuICAgIHAgPSBkcCArIChxLmUgPSB4LmUgLSB5LmUpICsgMTsgICAgLy8gcHJlY2lzaW9uIG9mIHRoZSByZXN1bHRcclxuXHJcbiAgcS5zID0gaztcclxuICBrID0gcCA8IDAgPyAwIDogcDtcclxuXHJcbiAgLy8gQ3JlYXRlIHZlcnNpb24gb2YgZGl2aXNvciB3aXRoIGxlYWRpbmcgemVyby5cclxuICBiei51bnNoaWZ0KDApO1xyXG5cclxuICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gIGZvciAoOyBybCsrIDwgYmw7KSByLnB1c2goMCk7XHJcblxyXG4gIGRvIHtcclxuXHJcbiAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgIGZvciAobiA9IDA7IG4gPCAxMDsgbisrKSB7XHJcblxyXG4gICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgaWYgKGJsICE9IChybCA9IHIubGVuZ3RoKSkge1xyXG4gICAgICAgIGNtcCA9IGJsID4gcmwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChyaSA9IC0xLCBjbXAgPSAwOyArK3JpIDwgYmw7KSB7XHJcbiAgICAgICAgICBpZiAoYltyaV0gIT0gcltyaV0pIHtcclxuICAgICAgICAgICAgY21wID0gYltyaV0gPiByW3JpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBkaXZpc29yIDwgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAvLyBSZW1haW5kZXIgY2FuJ3QgYmUgbW9yZSB0aGFuIDEgZGlnaXQgbG9uZ2VyIHRoYW4gZGl2aXNvci5cclxuICAgICAgICAvLyBFcXVhbGlzZSBsZW5ndGhzIHVzaW5nIGRpdmlzb3Igd2l0aCBleHRyYSBsZWFkaW5nIHplcm8/XHJcbiAgICAgICAgZm9yIChidCA9IHJsID09IGJsID8gYiA6IGJ6OyBybDspIHtcclxuICAgICAgICAgIGlmIChyWy0tcmxdIDwgYnRbcmxdKSB7XHJcbiAgICAgICAgICAgIHJpID0gcmw7XHJcbiAgICAgICAgICAgIGZvciAoOyByaSAmJiAhclstLXJpXTspIHJbcmldID0gOTtcclxuICAgICAgICAgICAgLS1yW3JpXTtcclxuICAgICAgICAgICAgcltybF0gKz0gMTA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByW3JsXSAtPSBidFtybF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKDsgIXJbMF07KSByLnNoaWZ0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgdGhlIGRpZ2l0IG4gdG8gdGhlIHJlc3VsdCBhcnJheS5cclxuICAgIHFjW3FpKytdID0gY21wID8gbiA6ICsrbjtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgIGlmIChyWzBdICYmIGNtcCkgcltybF0gPSBhW2FpXSB8fCAwO1xyXG4gICAgZWxzZSByID0gW2FbYWldXTtcclxuXHJcbiAgfSB3aGlsZSAoKGFpKysgPCBhbCB8fCByWzBdICE9PSBVTkRFRklORUQpICYmIGstLSk7XHJcblxyXG4gIC8vIExlYWRpbmcgemVybz8gRG8gbm90IHJlbW92ZSBpZiByZXN1bHQgaXMgc2ltcGx5IHplcm8gKHFpID09IDEpLlxyXG4gIGlmICghcWNbMF0gJiYgcWkgIT0gMSkge1xyXG5cclxuICAgIC8vIFRoZXJlIGNhbid0IGJlIG1vcmUgdGhhbiBvbmUgemVyby5cclxuICAgIHFjLnNoaWZ0KCk7XHJcbiAgICBxLmUtLTtcclxuICAgIHAtLTtcclxuICB9XHJcblxyXG4gIC8vIFJvdW5kP1xyXG4gIGlmIChxaSA+IHApIHJvdW5kKHEsIHAsIEJpZy5STSwgclswXSAhPT0gVU5ERUZJTkVEKTtcclxuXHJcbiAgcmV0dXJuIHE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBCaWcgeSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICovXHJcblAuZXEgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWcgeSwgb3RoZXJ3aXNlIHJldHVyblxyXG4gKiBmYWxzZS5cclxuICovXHJcblAuZ3QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA+IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZVxyXG4gKiByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG5QLmd0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpID4gLTE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG5QLmx0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2VcclxuICogcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuUC5sdGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgbWludXMgdGhlIHZhbHVlIG9mIEJpZyB5LlxyXG4gKi9cclxuUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgaSwgaiwgdCwgeGx0eSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGEgPSB4LnMsXHJcbiAgICBiID0gKHkgPSBuZXcgQmlnKHkpKS5zO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKGEgIT0gYikge1xyXG4gICAgeS5zID0gLWI7XHJcbiAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHhjID0geC5jLnNsaWNlKCksXHJcbiAgICB4ZSA9IHguZSxcclxuICAgIHljID0geS5jLFxyXG4gICAgeWUgPSB5LmU7XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmICgheGNbMF0gfHwgIXljWzBdKSB7XHJcbiAgICBpZiAoeWNbMF0pIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICB9IGVsc2UgaWYgKHhjWzBdKSB7XHJcbiAgICAgIHkgPSBuZXcgQmlnKHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeS5zID0gMTtcclxuICAgIH1cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLiBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICBpZiAoeGx0eSA9IGEgPCAwKSB7XHJcbiAgICAgIGEgPSAtYTtcclxuICAgICAgdCA9IHhjO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeWUgPSB4ZTtcclxuICAgICAgdCA9IHljO1xyXG4gICAgfVxyXG5cclxuICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgZm9yIChiID0gYTsgYi0tOykgdC5wdXNoKDApO1xyXG4gICAgdC5yZXZlcnNlKCk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBFeHBvbmVudHMgZXF1YWwuIENoZWNrIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgaiA9ICgoeGx0eSA9IHhjLmxlbmd0aCA8IHljLmxlbmd0aCkgPyB4YyA6IHljKS5sZW5ndGg7XHJcblxyXG4gICAgZm9yIChhID0gYiA9IDA7IGIgPCBqOyBiKyspIHtcclxuICAgICAgaWYgKHhjW2JdICE9IHljW2JdKSB7XHJcbiAgICAgICAgeGx0eSA9IHhjW2JdIDwgeWNbYl07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHggPCB5PyBQb2ludCB4YyB0byB0aGUgYXJyYXkgb2YgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgaWYgKHhsdHkpIHtcclxuICAgIHQgPSB4YztcclxuICAgIHhjID0geWM7XHJcbiAgICB5YyA9IHQ7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBBcHBlbmQgemVyb3MgdG8geGMgaWYgc2hvcnRlci4gTm8gbmVlZCB0byBhZGQgemVyb3MgdG8geWMgaWYgc2hvcnRlciBhcyBzdWJ0cmFjdGlvbiBvbmx5XHJcbiAgICogbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAqL1xyXG4gIGlmICgoYiA9IChqID0geWMubGVuZ3RoKSAtIChpID0geGMubGVuZ3RoKSkgPiAwKSBmb3IgKDsgYi0tOykgeGNbaSsrXSA9IDA7XHJcblxyXG4gIC8vIFN1YnRyYWN0IHljIGZyb20geGMuXHJcbiAgZm9yIChiID0gaTsgaiA+IGE7KSB7XHJcbiAgICBpZiAoeGNbLS1qXSA8IHljW2pdKSB7XHJcbiAgICAgIGZvciAoaSA9IGo7IGkgJiYgIXhjWy0taV07KSB4Y1tpXSA9IDk7XHJcbiAgICAgIC0teGNbaV07XHJcbiAgICAgIHhjW2pdICs9IDEwO1xyXG4gICAgfVxyXG5cclxuICAgIHhjW2pdIC09IHljW2pdO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyB4Y1stLWJdID09PSAwOykgeGMucG9wKCk7XHJcblxyXG4gIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgZm9yICg7IHhjWzBdID09PSAwOykge1xyXG4gICAgeGMuc2hpZnQoKTtcclxuICAgIC0teWU7XHJcbiAgfVxyXG5cclxuICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgLy8gbiAtIG4gPSArMFxyXG4gICAgeS5zID0gMTtcclxuXHJcbiAgICAvLyBSZXN1bHQgbXVzdCBiZSB6ZXJvLlxyXG4gICAgeGMgPSBbeWUgPSAwXTtcclxuICB9XHJcblxyXG4gIHkuYyA9IHhjO1xyXG4gIHkuZSA9IHllO1xyXG5cclxuICByZXR1cm4geTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBtb2R1bG8gdGhlIHZhbHVlIG9mIEJpZyB5LlxyXG4gKi9cclxuUC5tb2QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciB5Z3R4LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgYSA9IHgucyxcclxuICAgIGIgPSAoeSA9IG5ldyBCaWcoeSkpLnM7XHJcblxyXG4gIGlmICgheS5jWzBdKSB7XHJcbiAgICB0aHJvdyBFcnJvcihESVZfQllfWkVSTyk7XHJcbiAgfVxyXG5cclxuICB4LnMgPSB5LnMgPSAxO1xyXG4gIHlndHggPSB5LmNtcCh4KSA9PSAxO1xyXG4gIHgucyA9IGE7XHJcbiAgeS5zID0gYjtcclxuXHJcbiAgaWYgKHlndHgpIHJldHVybiBuZXcgQmlnKHgpO1xyXG5cclxuICBhID0gQmlnLkRQO1xyXG4gIGIgPSBCaWcuUk07XHJcbiAgQmlnLkRQID0gQmlnLlJNID0gMDtcclxuICB4ID0geC5kaXYoeSk7XHJcbiAgQmlnLkRQID0gYTtcclxuICBCaWcuUk0gPSBiO1xyXG5cclxuICByZXR1cm4gdGhpcy5taW51cyh4LnRpbWVzKHkpKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBuZWdhdGVkLlxyXG4gKi9cclxuUC5uZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICB4LnMgPSAteC5zO1xyXG4gIHJldHVybiB4O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHBsdXMgdGhlIHZhbHVlIG9mIEJpZyB5LlxyXG4gKi9cclxuUC5wbHVzID0gUC5hZGQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBlLCBrLCB0LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEJpZyh5KTtcclxuXHJcbiAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgfVxyXG5cclxuICB2YXIgeGUgPSB4LmUsXHJcbiAgICB4YyA9IHguYyxcclxuICAgIHllID0geS5lLFxyXG4gICAgeWMgPSB5LmM7XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmICgheGNbMF0gfHwgIXljWzBdKSB7XHJcbiAgICBpZiAoIXljWzBdKSB7XHJcbiAgICAgIGlmICh4Y1swXSkge1xyXG4gICAgICAgIHkgPSBuZXcgQmlnKHgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHkucyA9IHgucztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gIC8vIE5vdGU6IHJldmVyc2UgZmFzdGVyIHRoYW4gdW5zaGlmdHMuXHJcbiAgaWYgKGUgPSB4ZSAtIHllKSB7XHJcbiAgICBpZiAoZSA+IDApIHtcclxuICAgICAgeWUgPSB4ZTtcclxuICAgICAgdCA9IHljO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZSA9IC1lO1xyXG4gICAgICB0ID0geGM7XHJcbiAgICB9XHJcblxyXG4gICAgdC5yZXZlcnNlKCk7XHJcbiAgICBmb3IgKDsgZS0tOykgdC5wdXNoKDApO1xyXG4gICAgdC5yZXZlcnNlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBQb2ludCB4YyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gIGlmICh4Yy5sZW5ndGggLSB5Yy5sZW5ndGggPCAwKSB7XHJcbiAgICB0ID0geWM7XHJcbiAgICB5YyA9IHhjO1xyXG4gICAgeGMgPSB0O1xyXG4gIH1cclxuXHJcbiAgZSA9IHljLmxlbmd0aDtcclxuXHJcbiAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWMubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGMgY2FuIGJlIGxlZnQgYXMgdGhleSBhcmUuXHJcbiAgZm9yIChrID0gMDsgZTsgeGNbZV0gJT0gMTApIGsgPSAoeGNbLS1lXSA9IHhjW2VdICsgeWNbZV0gKyBrKSAvIDEwIHwgMDtcclxuXHJcbiAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG5cclxuICBpZiAoaykge1xyXG4gICAgeGMudW5zaGlmdChrKTtcclxuICAgICsreWU7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChlID0geGMubGVuZ3RoOyB4Y1stLWVdID09PSAwOykgeGMucG9wKCk7XHJcblxyXG4gIHkuYyA9IHhjO1xyXG4gIHkuZSA9IHllO1xyXG5cclxuICByZXR1cm4geTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHJhaXNlZCB0byB0aGUgcG93ZXIgbi5cclxuICogSWYgbiBpcyBuZWdhdGl2ZSwgcm91bmQgdG8gYSBtYXhpbXVtIG9mIEJpZy5EUCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZ1xyXG4gKiBtb2RlIEJpZy5STS5cclxuICpcclxuICogbiB7bnVtYmVyfSBJbnRlZ2VyLCAtTUFYX1BPV0VSIHRvIE1BWF9QT1dFUiBpbmNsdXNpdmUuXHJcbiAqL1xyXG5QLnBvdyA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgb25lID0gbmV3IHguY29uc3RydWN0b3IoJzEnKSxcclxuICAgIHkgPSBvbmUsXHJcbiAgICBpc25lZyA9IG4gPCAwO1xyXG5cclxuICBpZiAobiAhPT0gfn5uIHx8IG4gPCAtTUFYX1BPV0VSIHx8IG4gPiBNQVhfUE9XRVIpIHtcclxuICAgIHRocm93IEVycm9yKElOVkFMSUQgKyAnZXhwb25lbnQnKTtcclxuICB9XHJcblxyXG4gIGlmIChpc25lZykgbiA9IC1uO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBpZiAobiAmIDEpIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgbiA+Pj0gMTtcclxuICAgIGlmICghbikgYnJlYWs7XHJcbiAgICB4ID0geC50aW1lcyh4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBpc25lZyA/IG9uZS5kaXYoeSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHJvdW5kZWQgdG8gYSBtYXhpbXVtIHByZWNpc2lvbiBvZiBzZFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgQmlnLlJNIGlmIHJtIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIHNkIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0czogaW50ZWdlciwgMSB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gKiBybT8ge251bWJlcn0gUm91bmRpbmcgbW9kZTogMCAoZG93biksIDEgKGhhbGYtdXApLCAyIChoYWxmLWV2ZW4pIG9yIDMgKHVwKS5cclxuICovXHJcblAucHJlYyA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICBpZiAoc2QgIT09IH5+c2QgfHwgc2QgPCAxIHx8IHNkID4gTUFYX0RQKSB7XHJcbiAgICB0aHJvdyBFcnJvcihJTlZBTElEICsgJ3ByZWNpc2lvbicpO1xyXG4gIH1cclxuICByZXR1cm4gcm91bmQobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgcm91bmRlZCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgQmlnLlJNIGlmIHJtIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAqIElmIGRwIGlzIG5lZ2F0aXZlLCByb3VuZCB0byBhbiBpbnRlZ2VyIHdoaWNoIGlzIGEgbXVsdGlwbGUgb2YgMTAqKi1kcC5cclxuICogSWYgZHAgaXMgbm90IHNwZWNpZmllZCwgcm91bmQgdG8gMCBkZWNpbWFsIHBsYWNlcy5cclxuICpcclxuICogZHA/IHtudW1iZXJ9IEludGVnZXIsIC1NQVhfRFAgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICogcm0/IHtudW1iZXJ9IFJvdW5kaW5nIG1vZGU6IDAgKGRvd24pLCAxIChoYWxmLXVwKSwgMiAoaGFsZi1ldmVuKSBvciAzICh1cCkuXHJcbiAqL1xyXG5QLnJvdW5kID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIGlmIChkcCA9PT0gVU5ERUZJTkVEKSBkcCA9IDA7XHJcbiAgZWxzZSBpZiAoZHAgIT09IH5+ZHAgfHwgZHAgPCAtTUFYX0RQIHx8IGRwID4gTUFYX0RQKSB7XHJcbiAgICB0aHJvdyBFcnJvcihJTlZBTElEX0RQKTtcclxuICB9XHJcbiAgcmV0dXJuIHJvdW5kKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCBkcCArIHRoaXMuZSArIDEsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcsIHJvdW5kZWQsIGlmXHJcbiAqIG5lY2Vzc2FyeSwgdG8gYSBtYXhpbXVtIG9mIEJpZy5EUCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIEJpZy5STS5cclxuICovXHJcblAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgciwgYywgdCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHMgPSB4LnMsXHJcbiAgICBlID0geC5lLFxyXG4gICAgaGFsZiA9IG5ldyBCaWcoJzAuNScpO1xyXG5cclxuICAvLyBaZXJvP1xyXG4gIGlmICgheC5jWzBdKSByZXR1cm4gbmV3IEJpZyh4KTtcclxuXHJcbiAgLy8gTmVnYXRpdmU/XHJcbiAgaWYgKHMgPCAwKSB7XHJcbiAgICB0aHJvdyBFcnJvcihOQU1FICsgJ05vIHNxdWFyZSByb290Jyk7XHJcbiAgfVxyXG5cclxuICAvLyBFc3RpbWF0ZS5cclxuICBzID0gTWF0aC5zcXJ0KCtzdHJpbmdpZnkoeCwgdHJ1ZSwgdHJ1ZSkpO1xyXG5cclxuICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gIC8vIFJlLWVzdGltYXRlOiBwYXNzIHggY29lZmZpY2llbnQgdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSByZXN1bHQgZXhwb25lbnQuXHJcbiAgaWYgKHMgPT09IDAgfHwgcyA9PT0gMSAvIDApIHtcclxuICAgIGMgPSB4LmMuam9pbignJyk7XHJcbiAgICBpZiAoIShjLmxlbmd0aCArIGUgJiAxKSkgYyArPSAnMCc7XHJcbiAgICBzID0gTWF0aC5zcXJ0KGMpO1xyXG4gICAgZSA9ICgoZSArIDEpIC8gMiB8IDApIC0gKGUgPCAwIHx8IGUgJiAxKTtcclxuICAgIHIgPSBuZXcgQmlnKChzID09IDEgLyAwID8gJzVlJyA6IChzID0gcy50b0V4cG9uZW50aWFsKCkpLnNsaWNlKDAsIHMuaW5kZXhPZignZScpICsgMSkpICsgZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSBuZXcgQmlnKHMgKyAnJyk7XHJcbiAgfVxyXG5cclxuICBlID0gci5lICsgKEJpZy5EUCArPSA0KTtcclxuXHJcbiAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gIGRvIHtcclxuICAgIHQgPSByO1xyXG4gICAgciA9IGhhbGYudGltZXModC5wbHVzKHguZGl2KHQpKSk7XHJcbiAgfSB3aGlsZSAodC5jLnNsaWNlKDAsIGUpLmpvaW4oJycpICE9PSByLmMuc2xpY2UoMCwgZSkuam9pbignJykpO1xyXG5cclxuICByZXR1cm4gcm91bmQociwgKEJpZy5EUCAtPSA0KSArIHIuZSArIDEsIEJpZy5STSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgdGltZXMgdGhlIHZhbHVlIG9mIEJpZyB5LlxyXG4gKi9cclxuUC50aW1lcyA9IFAubXVsID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgYyxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHhjID0geC5jLFxyXG4gICAgeWMgPSAoeSA9IG5ldyBCaWcoeSkpLmMsXHJcbiAgICBhID0geGMubGVuZ3RoLFxyXG4gICAgYiA9IHljLmxlbmd0aCxcclxuICAgIGkgPSB4LmUsXHJcbiAgICBqID0geS5lO1xyXG5cclxuICAvLyBEZXRlcm1pbmUgc2lnbiBvZiByZXN1bHQuXHJcbiAgeS5zID0geC5zID09IHkucyA/IDEgOiAtMTtcclxuXHJcbiAgLy8gUmV0dXJuIHNpZ25lZCAwIGlmIGVpdGhlciAwLlxyXG4gIGlmICgheGNbMF0gfHwgIXljWzBdKSB7XHJcbiAgICB5LmMgPSBbeS5lID0gMF07XHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gIC8vIEluaXRpYWxpc2UgZXhwb25lbnQgb2YgcmVzdWx0IGFzIHguZSArIHkuZS5cclxuICB5LmUgPSBpICsgajtcclxuXHJcbiAgLy8gSWYgYXJyYXkgeGMgaGFzIGZld2VyIGRpZ2l0cyB0aGFuIHljLCBzd2FwIHhjIGFuZCB5YywgYW5kIGxlbmd0aHMuXHJcbiAgaWYgKGEgPCBiKSB7XHJcbiAgICBjID0geGM7XHJcbiAgICB4YyA9IHljO1xyXG4gICAgeWMgPSBjO1xyXG4gICAgaiA9IGE7XHJcbiAgICBhID0gYjtcclxuICAgIGIgPSBqO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdGlhbGlzZSBjb2VmZmljaWVudCBhcnJheSBvZiByZXN1bHQgd2l0aCB6ZXJvcy5cclxuICBmb3IgKGMgPSBuZXcgQXJyYXkoaiA9IGEgKyBiKTsgai0tOykgY1tqXSA9IDA7XHJcblxyXG4gIC8vIE11bHRpcGx5LlxyXG5cclxuICAvLyBpIGlzIGluaXRpYWxseSB4Yy5sZW5ndGguXHJcbiAgZm9yIChpID0gYjsgaS0tOykge1xyXG4gICAgYiA9IDA7XHJcblxyXG4gICAgLy8gYSBpcyB5Yy5sZW5ndGguXHJcbiAgICBmb3IgKGogPSBhICsgaTsgaiA+IGk7KSB7XHJcblxyXG4gICAgICAvLyBDdXJyZW50IHN1bSBvZiBwcm9kdWN0cyBhdCB0aGlzIGRpZ2l0IHBvc2l0aW9uLCBwbHVzIGNhcnJ5LlxyXG4gICAgICBiID0gY1tqXSArIHljW2ldICogeGNbaiAtIGkgLSAxXSArIGI7XHJcbiAgICAgIGNbai0tXSA9IGIgJSAxMDtcclxuXHJcbiAgICAgIC8vIGNhcnJ5XHJcbiAgICAgIGIgPSBiIC8gMTAgfCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNbal0gPSBiO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5jcmVtZW50IHJlc3VsdCBleHBvbmVudCBpZiB0aGVyZSBpcyBhIGZpbmFsIGNhcnJ5LCBvdGhlcndpc2UgcmVtb3ZlIGxlYWRpbmcgemVyby5cclxuICBpZiAoYikgKyt5LmU7XHJcbiAgZWxzZSBjLnNoaWZ0KCk7XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKGkgPSBjLmxlbmd0aDsgIWNbLS1pXTspIGMucG9wKCk7XHJcbiAgeS5jID0gYztcclxuXHJcbiAgcmV0dXJuIHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gcm91bmRlZCB0byBkcCBmaXhlZFxyXG4gKiBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciBCaWcuUk0gaWYgcm0gaXMgbm90IHNwZWNpZmllZC5cclxuICpcclxuICogZHA/IHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzOiBpbnRlZ2VyLCAwIHRvIE1BWF9EUCBpbmNsdXNpdmUuXHJcbiAqIHJtPyB7bnVtYmVyfSBSb3VuZGluZyBtb2RlOiAwIChkb3duKSwgMSAoaGFsZi11cCksIDIgKGhhbGYtZXZlbikgb3IgMyAodXApLlxyXG4gKi9cclxuUC50b0V4cG9uZW50aWFsID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIG4gPSB4LmNbMF07XHJcblxyXG4gIGlmIChkcCAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICBpZiAoZHAgIT09IH5+ZHAgfHwgZHAgPCAwIHx8IGRwID4gTUFYX0RQKSB7XHJcbiAgICAgIHRocm93IEVycm9yKElOVkFMSURfRFApO1xyXG4gICAgfVxyXG4gICAgeCA9IHJvdW5kKG5ldyB4LmNvbnN0cnVjdG9yKHgpLCArK2RwLCBybSk7XHJcbiAgICBmb3IgKDsgeC5jLmxlbmd0aCA8IGRwOykgeC5jLnB1c2goMCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyaW5naWZ5KHgsIHRydWUsICEhbik7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaW4gbm9ybWFsIG5vdGF0aW9uIHJvdW5kZWQgdG8gZHAgZml4ZWRcclxuICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgQmlnLlJNIGlmIHJtIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIGRwPyB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlczogaW50ZWdlciwgMCB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gKiBybT8ge251bWJlcn0gUm91bmRpbmcgbW9kZTogMCAoZG93biksIDEgKGhhbGYtdXApLCAyIChoYWxmLWV2ZW4pIG9yIDMgKHVwKS5cclxuICpcclxuICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqICgtMCkudG9GaXhlZCgxKSBpcyAnMC4wJywgYnV0ICgtMC4wMSkudG9GaXhlZCgxKSBpcyAnLTAuMCcuXHJcbiAqL1xyXG5QLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgbiA9IHguY1swXTtcclxuXHJcbiAgaWYgKGRwICE9PSBVTkRFRklORUQpIHtcclxuICAgIGlmIChkcCAhPT0gfn5kcCB8fCBkcCA8IDAgfHwgZHAgPiBNQVhfRFApIHtcclxuICAgICAgdGhyb3cgRXJyb3IoSU5WQUxJRF9EUCk7XHJcbiAgICB9XHJcbiAgICB4ID0gcm91bmQobmV3IHguY29uc3RydWN0b3IoeCksIGRwICsgeC5lICsgMSwgcm0pO1xyXG5cclxuICAgIC8vIHguZSBtYXkgaGF2ZSBjaGFuZ2VkIGlmIHRoZSB2YWx1ZSBpcyByb3VuZGVkIHVwLlxyXG4gICAgZm9yIChkcCA9IGRwICsgeC5lICsgMTsgeC5jLmxlbmd0aCA8IGRwOykgeC5jLnB1c2goMCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyaW5naWZ5KHgsIGZhbHNlLCAhIW4pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnLlxyXG4gKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhpcyBCaWcgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXHJcbiAqIEJpZy5QRSwgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW4gQmlnLk5FLlxyXG4gKiBPbWl0IHRoZSBzaWduIGZvciBuZWdhdGl2ZSB6ZXJvLlxyXG4gKi9cclxuUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudG9KU09OID0gUC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIHJldHVybiBzdHJpbmdpZnkoeCwgeC5lIDw9IEJpZy5ORSB8fCB4LmUgPj0gQmlnLlBFLCAhIXguY1swXSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBhcyBhIHByaW1pdHZlIG51bWJlci5cclxuICovXHJcblAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG4gPSArc3RyaW5naWZ5KHRoaXMsIHRydWUsIHRydWUpO1xyXG4gIGlmICh0aGlzLmNvbnN0cnVjdG9yLnN0cmljdCA9PT0gdHJ1ZSAmJiAhdGhpcy5lcShuLnRvU3RyaW5nKCkpKSB7XHJcbiAgICB0aHJvdyBFcnJvcihOQU1FICsgJ0ltcHJlY2lzZSBjb252ZXJzaW9uJyk7XHJcbiAgfVxyXG4gIHJldHVybiBuO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHJvdW5kZWQgdG8gc2Qgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nXHJcbiAqIHJvdW5kaW5nIG1vZGUgcm0sIG9yIEJpZy5STSBpZiBybSBpcyBub3Qgc3BlY2lmaWVkLlxyXG4gKiBVc2UgZXhwb25lbnRpYWwgbm90YXRpb24gaWYgc2QgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzIG5lY2Vzc2FyeSB0byByZXByZXNlbnRcclxuICogdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gbm9ybWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBzZCB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICogcm0/IHtudW1iZXJ9IFJvdW5kaW5nIG1vZGU6IDAgKGRvd24pLCAxIChoYWxmLXVwKSwgMiAoaGFsZi1ldmVuKSBvciAzICh1cCkuXHJcbiAqL1xyXG5QLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICBuID0geC5jWzBdO1xyXG5cclxuICBpZiAoc2QgIT09IFVOREVGSU5FRCkge1xyXG4gICAgaWYgKHNkICE9PSB+fnNkIHx8IHNkIDwgMSB8fCBzZCA+IE1BWF9EUCkge1xyXG4gICAgICB0aHJvdyBFcnJvcihJTlZBTElEICsgJ3ByZWNpc2lvbicpO1xyXG4gICAgfVxyXG4gICAgeCA9IHJvdW5kKG5ldyBCaWcoeCksIHNkLCBybSk7XHJcbiAgICBmb3IgKDsgeC5jLmxlbmd0aCA8IHNkOykgeC5jLnB1c2goMCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyaW5naWZ5KHgsIHNkIDw9IHguZSB8fCB4LmUgPD0gQmlnLk5FIHx8IHguZSA+PSBCaWcuUEUsICEhbik7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcuXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGlzIEJpZyBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cclxuICogQmlnLlBFLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhbiBCaWcuTkUuXHJcbiAqIEluY2x1ZGUgdGhlIHNpZ24gZm9yIG5lZ2F0aXZlIHplcm8uXHJcbiAqL1xyXG5QLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcjtcclxuICBpZiAoQmlnLnN0cmljdCA9PT0gdHJ1ZSkge1xyXG4gICAgdGhyb3cgRXJyb3IoTkFNRSArICd2YWx1ZU9mIGRpc2FsbG93ZWQnKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0cmluZ2lmeSh4LCB4LmUgPD0gQmlnLk5FIHx8IHguZSA+PSBCaWcuUEUsIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8vIEV4cG9ydFxyXG5cclxuXHJcbmV4cG9ydCB2YXIgQmlnID0gX0JpZ18oKTtcclxuXHJcbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0RlZmluaXRlbHlUeXBlZC9EZWZpbml0ZWx5VHlwZWQvbWFzdGVyL3R5cGVzL2JpZy5qcy9pbmRleC5kLnRzXCIgLz5cclxuZXhwb3J0IGRlZmF1bHQgQmlnO1xyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/big.js/big.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lit-element/development/lit-element.js":
/*!*************************************************************!*\
  !*** ./node_modules/lit-element/development/lit-element.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.CSSResult),\n/* harmony export */   LitElement: () => (/* binding */ LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement),\n/* harmony export */   _$LE: () => (/* binding */ _$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.html),\n/* harmony export */   mathml: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.mathml),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(app-pages-browser)/./node_modules/@lit/reactive-element/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(app-pages-browser)/./node_modules/lit-html/development/lit-html.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * The main LitElement module, which defines the {@linkcode LitElement} base\n * class and related APIs.\n *\n * LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n * Import {@linkcode LitElement} and {@linkcode html} from this module to\n * create a component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html\n * templating. The `ReactiveElement` class is provided for users that want to\n * build their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\n\n\n\n\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst DEV_MODE = true;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n}\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the {@linkcode LitElement.properties properties} property or the\n * {@linkcode property} decorator.\n */\nclass LitElement extends _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @category rendering\n         */\n        this.renderOptions = { host: this };\n        this.__childPart = undefined;\n    }\n    /**\n     * @category rendering\n     */\n    createRenderRoot() {\n        const renderRoot = super.createRenderRoot();\n        // When adoptedStyleSheets are shimmed, they are inserted into the\n        // shadowRoot by createRenderRoot. Adjust the renderBefore node so that\n        // any styles in Lit content render before adoptedStyleSheets. This is\n        // important so that adoptedStyleSheets have precedence over styles in\n        // the shadowRoot.\n        this.renderOptions.renderBefore ??= renderRoot.firstChild;\n        return renderRoot;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const value = this.render();\n        if (!this.hasUpdated) {\n            this.renderOptions.isConnected = this.isConnected;\n        }\n        super.update(changedProperties);\n        this.__childPart = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(value, this.renderRoot, this.renderOptions);\n    }\n    /**\n     * Invoked when the component is added to the document's DOM.\n     *\n     * In `connectedCallback()` you should setup tasks that should only occur when\n     * the element is connected to the document. The most common of these is\n     * adding event listeners to nodes external to the element, like a keydown\n     * event handler added to the window.\n     *\n     * ```ts\n     * connectedCallback() {\n     *   super.connectedCallback();\n     *   addEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * Typically, anything done in `connectedCallback()` should be undone when the\n     * element is disconnected, in `disconnectedCallback()`.\n     *\n     * @category lifecycle\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.__childPart?.setConnected(true);\n    }\n    /**\n     * Invoked when the component is removed from the document's DOM.\n     *\n     * This callback is the main signal to the element that it may no longer be\n     * used. `disconnectedCallback()` should ensure that nothing is holding a\n     * reference to the element (such as event listeners added to nodes external\n     * to the element), so that it is free to be garbage collected.\n     *\n     * ```ts\n     * disconnectedCallback() {\n     *   super.disconnectedCallback();\n     *   window.removeEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * An element may be re-connected after being disconnected.\n     *\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.__childPart?.setConnected(false);\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `ChildPart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     * @category rendering\n     */\n    render() {\n        return lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange;\n    }\n}\n// This property needs to remain unminified.\nLitElement['_$litElement$'] = true;\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See @lit/reactive-element for more information.\n */\nLitElement[JSCompiler_renameProperty('finalized', LitElement)] = true;\n// Install hydration if available\nglobal.litElementHydrateSupport?.({ LitElement });\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? global.litElementPolyfillSupportDevMode\n    : global.litElementPolyfillSupport;\npolyfillSupport?.({ LitElement });\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LE object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-html, since this module re-exports all of lit-html.\n *\n * @private\n */\nconst _$LE = {\n    _$attributeToProperty: (el, name, value) => {\n        // eslint-disable-next-line\n        el._$attributeToProperty(name, value);\n    },\n    // eslint-disable-next-line\n    _$changedProperties: (el) => el._$changedProperties,\n};\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n(global.litElementVersions ??= []).push('4.2.1');\nif (DEV_MODE && global.litElementVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n            `is not recommended.`);\n    });\n}\n//# sourceMappingURL=lit-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9kZXZlbG9wbWVudC9saXQtZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzQkFBc0IsS0FBSyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsV0FBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0Q7QUFDWjtBQUNOO0FBQ2I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0Q0FBNEM7QUFDMUQsSUFBSSxvQkFBb0I7QUFDeEI7QUFDTyx5QkFBeUIsa0VBQWU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnREFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4Q0FBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxZQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9kZXZlbG9wbWVudC9saXQtZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogVGhlIG1haW4gTGl0RWxlbWVudCBtb2R1bGUsIHdoaWNoIGRlZmluZXMgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYmFzZVxuICogY2xhc3MgYW5kIHJlbGF0ZWQgQVBJcy5cbiAqXG4gKiBMaXRFbGVtZW50IGNvbXBvbmVudHMgY2FuIGRlZmluZSBhIHRlbXBsYXRlIGFuZCBhIHNldCBvZiBvYnNlcnZlZFxuICogcHJvcGVydGllcy4gQ2hhbmdpbmcgYW4gb2JzZXJ2ZWQgcHJvcGVydHkgdHJpZ2dlcnMgYSByZS1yZW5kZXIgb2YgdGhlXG4gKiBlbGVtZW50LlxuICpcbiAqIEltcG9ydCB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGFuZCB7QGxpbmtjb2RlIGh0bWx9IGZyb20gdGhpcyBtb2R1bGUgdG9cbiAqIGNyZWF0ZSBhIGNvbXBvbmVudDpcbiAqXG4gKiAgYGBganNcbiAqIGltcG9ydCB7TGl0RWxlbWVudCwgaHRtbH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuICpcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICpcbiAqICAgLy8gRGVjbGFyZSBvYnNlcnZlZCBwcm9wZXJ0aWVzXG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgYWRqZWN0aXZlOiB7fVxuICogICAgIH1cbiAqICAgfVxuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5hZGplY3RpdmUgPSAnYXdlc29tZSc7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIERlZmluZSB0aGUgZWxlbWVudCdzIHRlbXBsYXRlXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGA8cD55b3VyICR7YWRqZWN0aXZlfSB0ZW1wbGF0ZSBoZXJlPC9wPmA7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWVsZW1lbnQnLCBNeUVsZW1lbnQpO1xuICogYGBgXG4gKlxuICogYExpdEVsZW1lbnRgIGV4dGVuZHMge0BsaW5rY29kZSBSZWFjdGl2ZUVsZW1lbnR9IGFuZCBhZGRzIGxpdC1odG1sXG4gKiB0ZW1wbGF0aW5nLiBUaGUgYFJlYWN0aXZlRWxlbWVudGAgY2xhc3MgaXMgcHJvdmlkZWQgZm9yIHVzZXJzIHRoYXQgd2FudCB0b1xuICogYnVpbGQgdGhlaXIgb3duIGN1c3RvbSBlbGVtZW50IGJhc2UgY2xhc3NlcyB0aGF0IGRvbid0IHVzZSBsaXQtaHRtbC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHsgUmVhY3RpdmVFbGVtZW50IH0gZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmltcG9ydCB7IHJlbmRlciwgbm9DaGFuZ2UgfSBmcm9tICdsaXQtaHRtbCc7XG5leHBvcnQgKiBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnbGl0LWh0bWwnO1xuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gKHByb3AsIF9vYmopID0+IHByb3A7XG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5sZXQgaXNzdWVXYXJuaW5nO1xuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuICAgIC8qKlxuICAgICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgICAqIFdhcm5pbmdzIGFyZSBkaXNhYmxlZCBhdXRvbWF0aWNhbGx5IG9ubHkgYnkgYHdhcm5pbmdgOyBkaXNhYmxpbmcgdmlhIGBjb2RlYFxuICAgICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgICAqL1xuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgICAgIGlmICghZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSAmJlxuICAgICAgICAgICAgIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5oYXMoY29kZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3MgdGhhdCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcywgYW5kXG4gKiByZW5kZXJzIGEgbGl0LWh0bWwgdGVtcGxhdGUuXG4gKlxuICogVG8gZGVmaW5lIGEgY29tcG9uZW50LCBzdWJjbGFzcyBgTGl0RWxlbWVudGAgYW5kIGltcGxlbWVudCBhXG4gKiBgcmVuZGVyYCBtZXRob2QgdG8gcHJvdmlkZSB0aGUgY29tcG9uZW50J3MgdGVtcGxhdGUuIERlZmluZSBwcm9wZXJ0aWVzXG4gKiB1c2luZyB0aGUge0BsaW5rY29kZSBMaXRFbGVtZW50LnByb3BlcnRpZXMgcHJvcGVydGllc30gcHJvcGVydHkgb3IgdGhlXG4gKiB7QGxpbmtjb2RlIHByb3BlcnR5fSBkZWNvcmF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgUmVhY3RpdmVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucyA9IHsgaG9zdDogdGhpcyB9O1xuICAgICAgICB0aGlzLl9fY2hpbGRQYXJ0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyUm9vdCA9IHN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgLy8gV2hlbiBhZG9wdGVkU3R5bGVTaGVldHMgYXJlIHNoaW1tZWQsIHRoZXkgYXJlIGluc2VydGVkIGludG8gdGhlXG4gICAgICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgICAgIC8vIGFueSBzdHlsZXMgaW4gTGl0IGNvbnRlbnQgcmVuZGVyIGJlZm9yZSBhZG9wdGVkU3R5bGVTaGVldHMuIFRoaXMgaXNcbiAgICAgICAgLy8gaW1wb3J0YW50IHNvIHRoYXQgYWRvcHRlZFN0eWxlU2hlZXRzIGhhdmUgcHJlY2VkZW5jZSBvdmVyIHN0eWxlcyBpblxuICAgICAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zLnJlbmRlckJlZm9yZSA/Pz0gcmVuZGVyUm9vdC5maXJzdENoaWxkO1xuICAgICAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQHBhcmFtIGNoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgICAgIC8vIHVwZGF0ZXMgYXJlIGFsbG93ZWQgYWZ0ZXIgc3VwZXIudXBkYXRlLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGByZW5kZXJgXG4gICAgICAgIC8vIGJlZm9yZSB0aGF0LlxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMuaXNDb25uZWN0ZWQgPSB0aGlzLmlzQ29ubmVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuX19jaGlsZFBhcnQgPSByZW5kZXIodmFsdWUsIHRoaXMucmVuZGVyUm9vdCwgdGhpcy5yZW5kZXJPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWRkZWQgdG8gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgICAqXG4gICAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAgICogdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC4gVGhlIG1vc3QgY29tbW9uIG9mIHRoZXNlIGlzXG4gICAgICogYWRkaW5nIGV2ZW50IGxpc3RlbmVycyB0byBub2RlcyBleHRlcm5hbCB0byB0aGUgZWxlbWVudCwgbGlrZSBhIGtleWRvd25cbiAgICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAqICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgKiAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCwgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgLlxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZG9jdW1lbnQncyBET00uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRoZSBtYWluIHNpZ25hbCB0byB0aGUgZWxlbWVudCB0aGF0IGl0IG1heSBubyBsb25nZXIgYmVcbiAgICAgKiB1c2VkLiBgZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgc2hvdWxkIGVuc3VyZSB0aGF0IG5vdGhpbmcgaXMgaG9sZGluZyBhXG4gICAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgICAqIHRvIHRoZSBlbGVtZW50KSwgc28gdGhhdCBpdCBpcyBmcmVlIHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgKiAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuIGVsZW1lbnQgbWF5IGJlIHJlLWNvbm5lY3RlZCBhZnRlciBiZWluZyBkaXNjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZChmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gZWFjaCB1cGRhdGUgdG8gcGVyZm9ybSByZW5kZXJpbmcgdGFza3MuIFRoaXMgbWV0aG9kIG1heSByZXR1cm5cbiAgICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICAgKiBgVGVtcGxhdGVSZXN1bHRgLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIHRoZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbm9DaGFuZ2U7XG4gICAgfVxufVxuLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbkxpdEVsZW1lbnRbJ18kbGl0RWxlbWVudCQnXSA9IHRydWU7XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5MaXRFbGVtZW50W0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIExpdEVsZW1lbnQpXSA9IHRydWU7XG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbmdsb2JhbC5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7IExpdEVsZW1lbnQgfSk7XG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICAgID8gZ2xvYmFsLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gICAgOiBnbG9iYWwubGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydDtcbnBvbHlmaWxsU3VwcG9ydD8uKHsgTGl0RWxlbWVudCB9KTtcbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzICBtYW5nbGVkIGluIHRoZVxuICogY2xpZW50IHNpZGUgY29kZSwgd2UgZXhwb3J0IGEgXyRMRSBvYmplY3QgY29udGFpbmluZyB0aG9zZSBtZW1iZXJzIChvclxuICogaGVscGVyIG1ldGhvZHMgZm9yIGFjY2Vzc2luZyBwcml2YXRlIGZpZWxkcyBvZiB0aG9zZSBtZW1iZXJzKSwgYW5kIHRoZW5cbiAqIHJlLWV4cG9ydCB0aGVtIGZvciB1c2UgaW4gbGl0LXNzci4gVGhpcyBrZWVwcyBsaXQtc3NyIGFnbm9zdGljIHRvIHdoZXRoZXIgdGhlXG4gKiBjbGllbnQtc2lkZSBjb2RlIGlzIGJlaW5nIHVzZWQgaW4gYGRldmAgbW9kZSBvciBgcHJvZGAgbW9kZS5cbiAqXG4gKiBUaGlzIGhhcyBhIHVuaXF1ZSBuYW1lLCB0byBkaXNhbWJpZ3VhdGUgaXQgZnJvbSBwcml2YXRlIGV4cG9ydHMgaW5cbiAqIGxpdC1odG1sLCBzaW5jZSB0aGlzIG1vZHVsZSByZS1leHBvcnRzIGFsbCBvZiBsaXQtaHRtbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgXyRMRSA9IHtcbiAgICBfJGF0dHJpYnV0ZVRvUHJvcGVydHk6IChlbCwgbmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGVsLl8kYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBfJGNoYW5nZWRQcm9wZXJ0aWVzOiAoZWwpID0+IGVsLl8kY2hhbmdlZFByb3BlcnRpZXMsXG59O1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5saXRFbGVtZW50VmVyc2lvbnMgPz89IFtdKS5wdXNoKCc0LjIuMScpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGAgK1xuICAgICAgICAgICAgYGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lit-element/development/lit-element.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lit-html/development/is-server.js":
/*!********************************************************!*\
  !*** ./node_modules/lit-html/development/is-server.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isServer: () => (/* binding */ isServer)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * @fileoverview\n *\n * This file exports a boolean const whose value will depend on what environment\n * the module is being imported from.\n */\nconst NODE_MODE = false;\n/**\n * A boolean that will be `true` in server environments like Node, and `false`\n * in browser environments. Note that your server environment or toolchain must\n * support the `\"node\"` export condition for this to be `true`.\n *\n * This can be used when authoring components to change behavior based on\n * whether or not the component is executing in an SSR context.\n */\nconst isServer = NODE_MODE;\n//# sourceMappingURL=is-server.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9pcy1zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyIvVXNlcnMvemlzaGFuL2NvaW5mbG93L29wZW5wdW1wLWFwaS93ZWIvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RldmVsb3BtZW50L2lzLXNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIFRoaXMgZmlsZSBleHBvcnRzIGEgYm9vbGVhbiBjb25zdCB3aG9zZSB2YWx1ZSB3aWxsIGRlcGVuZCBvbiB3aGF0IGVudmlyb25tZW50XG4gKiB0aGUgbW9kdWxlIGlzIGJlaW5nIGltcG9ydGVkIGZyb20uXG4gKi9cbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuLyoqXG4gKiBBIGJvb2xlYW4gdGhhdCB3aWxsIGJlIGB0cnVlYCBpbiBzZXJ2ZXIgZW52aXJvbm1lbnRzIGxpa2UgTm9kZSwgYW5kIGBmYWxzZWBcbiAqIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiBOb3RlIHRoYXQgeW91ciBzZXJ2ZXIgZW52aXJvbm1lbnQgb3IgdG9vbGNoYWluIG11c3RcbiAqIHN1cHBvcnQgdGhlIGBcIm5vZGVcImAgZXhwb3J0IGNvbmRpdGlvbiBmb3IgdGhpcyB0byBiZSBgdHJ1ZWAuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCB3aGVuIGF1dGhvcmluZyBjb21wb25lbnRzIHRvIGNoYW5nZSBiZWhhdmlvciBiYXNlZCBvblxuICogd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBleGVjdXRpbmcgaW4gYW4gU1NSIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IE5PREVfTU9ERTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lit-html/development/is-server.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lit-html/development/lit-html.js":
/*!*******************************************************!*\
  !*** ./node_modules/lit-html/development/lit-html.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _$LH: () => (/* binding */ _$LH),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   mathml: () => (/* binding */ mathml),\n/* harmony export */   noChange: () => (/* binding */ noChange),\n/* harmony export */   nothing: () => (/* binding */ nothing),\n/* harmony export */   render: () => (/* binding */ render),\n/* harmony export */   svg: () => (/* binding */ svg)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst DEV_MODE = true;\nconst ENABLE_EXTRA_SECURITY_HOOKS = true;\nconst ENABLE_SHADYDOM_NOPATCH = true;\nconst NODE_MODE = false;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n    ? (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    : undefined;\n// Used for connecting beginRender and endRender events when there are nested\n// renders when errors are thrown preventing an endRender event from being\n// called.\nlet debugLogRenderId = 0;\nlet issueWarning;\nif (DEV_MODE) {\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += code\n            ? ` See https://lit.dev/msg/${code} for more information.`\n            : '';\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    queueMicrotask(() => {\n        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n    });\n}\nconst wrap = ENABLE_SHADYDOM_NOPATCH &&\n    global.ShadyDOM?.inUse &&\n    global.ShadyDOM?.noPatch === true\n    ? global.ShadyDOM.wrap\n    : (node) => node;\nconst trustedTypes = global.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = trustedTypes\n    ? trustedTypes.createPolicy('lit-html', {\n        createHTML: (s) => s,\n    })\n    : undefined;\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/** Sets the global sanitizer factory. */\nconst setSanitizer = (newSanitizer) => {\n    if (!ENABLE_EXTRA_SECURITY_HOOKS) {\n        return;\n    }\n    if (sanitizerFactoryInternal !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactoryInternal = newSanitizer;\n};\n/**\n * Only used in internal tests, not a part of the public API.\n */\nconst _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n    sanitizerFactoryInternal = noopSanitizer;\n};\nconst createSanitizer = (node, name, type) => {\n    return sanitizerFactoryInternal(node, name, type);\n};\n// Added to an attribute name to mark the attribute as bound so we can find\n// it easily.\nconst boundAttributeSuffix = '$lit$';\n// This marker is used in many syntactic positions in HTML, so it must be\n// a valid element name and attribute name. We don't support dynamic names (yet)\n// but this at least ensures that the parse tree is closer to the template\n// intention.\nconst marker = `lit$${Math.random().toFixed(9).slice(2)}$`;\n// String used to tell if a comment is a marker comment\nconst markerMatch = '?' + marker;\n// Text used to insert a comment marker node. We use processing instruction\n// syntax because it's slightly smaller, but parses as a comment node.\nconst nodeMarker = `<${markerMatch}>`;\nconst d = NODE_MODE && global.document === undefined\n    ? {\n        createTreeWalker() {\n            return {};\n        },\n    }\n    : document;\n// Creates a dynamic marker. We never have to search for these in the DOM.\nconst createMarker = () => d.createComment('');\nconst isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');\nconst isArray = Array.isArray;\nconst isIterable = (value) => isArray(value) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof value?.[Symbol.iterator] === 'function';\nconst SPACE_CHAR = `[ \\t\\n\\f\\r]`;\nconst ATTR_VALUE_CHAR = `[^ \\t\\n\\f\\r\"'\\`<>=]`;\nconst NAME_CHAR = `[^\\\\s\"'>=/]`;\n// These regexes represent the five parsing states that we care about in the\n// Template's HTML scanner. They match the *end* of the state they're named\n// after.\n// Depending on the match, we transition to a new state. If there's no match,\n// we stay in the same state.\n// Note that the regexes are stateful. We utilize lastIndex and sync it\n// across the multiple regexes used. In addition to the five regexes below\n// we also dynamically create a regex to find the matching end tags for raw\n// text elements.\n/**\n * End of text is: `<` followed by:\n *   (comment start) or (tag) or (dynamic tag binding)\n */\nconst textEndRegex = /<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g;\nconst COMMENT_START = 1;\nconst TAG_NAME = 2;\nconst DYNAMIC_TAG_NAME = 3;\nconst commentEndRegex = /-->/g;\n/**\n * Comments not started with <!--, like </{, can be ended by a single `>`\n */\nconst comment2EndRegex = />/g;\n/**\n * The tagEnd regex matches the end of the \"inside an opening\" tag syntax\n * position. It either matches a `>`, an attribute-like sequence, or the end\n * of the string after a space (attribute-name position ending).\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\t\\n\\f\\r\" are HTML space characters:\n * https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * So an attribute is:\n *  * The name: any character except a whitespace character, (\"), ('), \">\",\n *    \"=\", or \"/\". Note: this is different from the HTML spec which also excludes control characters.\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|(\"|')|))|$)`, 'g');\nconst ENTIRE_MATCH = 0;\nconst ATTRIBUTE_NAME = 1;\nconst SPACES_AND_EQUALS = 2;\nconst QUOTE_CHAR = 3;\nconst singleQuoteAttrEndRegex = /'/g;\nconst doubleQuoteAttrEndRegex = /\"/g;\n/**\n * Matches the raw text elements.\n *\n * Comments are not parsed within raw text elements, so we need to search their\n * text content for marker strings.\n */\nconst rawTextElement = /^(?:script|style|textarea|title)$/i;\n/** TemplateResult types */\nconst HTML_RESULT = 1;\nconst SVG_RESULT = 2;\nconst MATHML_RESULT = 3;\n// TemplatePart types\n// IMPORTANT: these must match the values in PartType\nconst ATTRIBUTE_PART = 1;\nconst CHILD_PART = 2;\nconst PROPERTY_PART = 3;\nconst BOOLEAN_ATTRIBUTE_PART = 4;\nconst EVENT_PART = 5;\nconst ELEMENT_PART = 6;\nconst COMMENT_PART = 7;\n/**\n * Generates a template literal tag function that returns a TemplateResult with\n * the given result type.\n */\nconst tag = (type) => (strings, ...values) => {\n    // Warn against templates octal escape sequences\n    // We do this here rather than in render so that the warning is closer to the\n    // template definition.\n    if (DEV_MODE && strings.some((s) => s === undefined)) {\n        console.warn('Some template strings are undefined.\\n' +\n            'This is probably caused by illegal octal escape sequences.');\n    }\n    if (DEV_MODE) {\n        // Import static-html.js results in a circular dependency which g3 doesn't\n        // handle. Instead we know that static values must have the field\n        // `_$litStatic$`.\n        if (values.some((val) => val?.['_$litStatic$'])) {\n            issueWarning('', `Static values 'literal' or 'unsafeStatic' cannot be used as values to non-static templates.\\n` +\n                `Please use the static 'html' tag function. See https://lit.dev/docs/templates/expressions/#static-expressions`);\n        }\n    }\n    return {\n        // This property needs to remain unminified.\n        ['_$litType$']: type,\n        strings,\n        values,\n    };\n};\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const header = (title: string) => html`<h1>${title}</h1>`;\n * ```\n *\n * The `html` tag returns a description of the DOM to render as a value. It is\n * lazy, meaning no work is done until the template is rendered. When rendering,\n * if a template comes from the same expression as a previously rendered result,\n * it's efficiently updated instead of replaced.\n */\nconst html = tag(HTML_RESULT);\n/**\n * Interprets a template literal as an SVG fragment that can efficiently render\n * to and update a container.\n *\n * ```ts\n * const rect = svg`<rect width=\"10\" height=\"10\"></rect>`;\n *\n * const myImage = html`\n *   <svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n *     ${rect}\n *   </svg>`;\n * ```\n *\n * The `svg` *tag function* should only be used for SVG fragments, or elements\n * that would be contained **inside** an `<svg>` HTML element. A common error is\n * placing an `<svg>` *element* in a template tagged with the `svg` tag\n * function. The `<svg>` element is an HTML element and should be used within a\n * template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an SVG fragment from the\n * `render()` method, as the SVG fragment will be contained within the element's\n * shadow root and thus not be properly contained within an `<svg>` HTML\n * element.\n */\nconst svg = tag(SVG_RESULT);\n/**\n * Interprets a template literal as MathML fragment that can efficiently render\n * to and update a container.\n *\n * ```ts\n * const num = mathml`<mn>1</mn>`;\n *\n * const eq = html`\n *   <math>\n *     ${num}\n *   </math>`;\n * ```\n *\n * The `mathml` *tag function* should only be used for MathML fragments, or\n * elements that would be contained **inside** a `<math>` HTML element. A common\n * error is placing a `<math>` *element* in a template tagged with the `mathml`\n * tag function. The `<math>` element is an HTML element and should be used\n * within a template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an MathML fragment from the\n * `render()` method, as the MathML fragment will be contained within the\n * element's shadow root and thus not be properly contained within a `<math>`\n * HTML element.\n */\nconst mathml = tag(MATHML_RESULT);\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = Symbol.for('lit-noChange');\n/**\n * A sentinel value that signals a ChildPart to fully clear its content.\n *\n * ```ts\n * const button = html`${\n *  user.isAdmin\n *    ? html`<button>DELETE</button>`\n *    : nothing\n * }`;\n * ```\n *\n * Prefer using `nothing` over other falsy values as it provides a consistent\n * behavior between various expression binding contexts.\n *\n * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the\n * same and render no nodes. In attribute expressions, `nothing` _removes_ the\n * attribute, while `undefined` and `null` will render an empty string. In\n * property expressions `nothing` becomes `undefined`.\n */\nconst nothing = Symbol.for('lit-nothing');\n/**\n * The cache of prepared templates, keyed by the tagged TemplateStringsArray\n * and _not_ accounting for the specific template tag used. This means that\n * template tags cannot be dynamic - they must statically be one of html, svg,\n * or attr. This restriction simplifies the cache lookup, which is on the hot\n * path for rendering.\n */\nconst templateCache = new WeakMap();\nconst walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */);\nlet sanitizerFactoryInternal = noopSanitizer;\nfunction trustFromTemplateString(tsa, stringFromTSA) {\n    // A security check to prevent spoofing of Lit template results.\n    // In the future, we may be able to replace this with Array.isTemplateObject,\n    // though we might need to make that check inside of the html and svg\n    // functions, because precompiled templates don't come in as\n    // TemplateStringArray objects.\n    if (!isArray(tsa) || !tsa.hasOwnProperty('raw')) {\n        let message = 'invalid template strings array';\n        if (DEV_MODE) {\n            message = `\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        `\n                .trim()\n                .replace(/\\n */g, '\\n');\n        }\n        throw new Error(message);\n    }\n    return policy !== undefined\n        ? policy.createHTML(stringFromTSA)\n        : stringFromTSA;\n}\n/**\n * Returns an HTML string for the given TemplateStringsArray and result type\n * (HTML or SVG), along with the case-sensitive bound attribute names in\n * template order. The HTML contains comment markers denoting the `ChildPart`s\n * and suffixes on bound attributes denoting the `AttributeParts`.\n *\n * @param strings template strings array\n * @param type HTML or SVG\n * @return Array containing `[html, attrNames]` (array returned for terseness,\n *     to avoid object fields since this code is shared with non-minified SSR\n *     code)\n */\nconst getTemplateHtml = (strings, type) => {\n    // Insert makers into the template HTML to represent the position of\n    // bindings. The following code scans the template strings to determine the\n    // syntactic position of the bindings. They can be in text position, where\n    // we insert an HTML comment, attribute value position, where we insert a\n    // sentinel string and re-write the attribute name, or inside a tag where\n    // we insert the sentinel string.\n    const l = strings.length - 1;\n    // Stores the case-sensitive bound attribute names in the order of their\n    // parts. ElementParts are also reflected in this array as undefined\n    // rather than a string, to disambiguate from attribute bindings.\n    const attrNames = [];\n    let html = type === SVG_RESULT ? '<svg>' : type === MATHML_RESULT ? '<math>' : '';\n    // When we're inside a raw text tag (not it's text content), the regex\n    // will still be tagRegex so we can find attributes, but will switch to\n    // this regex when the tag ends.\n    let rawTextEndRegex;\n    // The current parsing state, represented as a reference to one of the\n    // regexes\n    let regex = textEndRegex;\n    for (let i = 0; i < l; i++) {\n        const s = strings[i];\n        // The index of the end of the last attribute name. When this is\n        // positive at end of a string, it means we're in an attribute value\n        // position and need to rewrite the attribute name.\n        // We also use a special value of -2 to indicate that we encountered\n        // the end of a string in attribute name position.\n        let attrNameEndIndex = -1;\n        let attrName;\n        let lastIndex = 0;\n        let match;\n        // The conditions in this loop handle the current parse state, and the\n        // assignments to the `regex` variable are the state transitions.\n        while (lastIndex < s.length) {\n            // Make sure we start searching from where we previously left off\n            regex.lastIndex = lastIndex;\n            match = regex.exec(s);\n            if (match === null) {\n                break;\n            }\n            lastIndex = regex.lastIndex;\n            if (regex === textEndRegex) {\n                if (match[COMMENT_START] === '!--') {\n                    regex = commentEndRegex;\n                }\n                else if (match[COMMENT_START] !== undefined) {\n                    // We started a weird comment, like </{\n                    regex = comment2EndRegex;\n                }\n                else if (match[TAG_NAME] !== undefined) {\n                    if (rawTextElement.test(match[TAG_NAME])) {\n                        // Record if we encounter a raw-text element. We'll switch to\n                        // this regex at the end of the tag.\n                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');\n                    }\n                    regex = tagEndRegex;\n                }\n                else if (match[DYNAMIC_TAG_NAME] !== undefined) {\n                    if (DEV_MODE) {\n                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +\n                            'See https://lit.dev/docs/templates/expressions/#static-expressions');\n                    }\n                    regex = tagEndRegex;\n                }\n            }\n            else if (regex === tagEndRegex) {\n                if (match[ENTIRE_MATCH] === '>') {\n                    // End of a tag. If we had started a raw-text element, use that\n                    // regex\n                    regex = rawTextEndRegex ?? textEndRegex;\n                    // We may be ending an unquoted attribute value, so make sure we\n                    // clear any pending attrNameEndIndex\n                    attrNameEndIndex = -1;\n                }\n                else if (match[ATTRIBUTE_NAME] === undefined) {\n                    // Attribute name position\n                    attrNameEndIndex = -2;\n                }\n                else {\n                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;\n                    attrName = match[ATTRIBUTE_NAME];\n                    regex =\n                        match[QUOTE_CHAR] === undefined\n                            ? tagEndRegex\n                            : match[QUOTE_CHAR] === '\"'\n                                ? doubleQuoteAttrEndRegex\n                                : singleQuoteAttrEndRegex;\n                }\n            }\n            else if (regex === doubleQuoteAttrEndRegex ||\n                regex === singleQuoteAttrEndRegex) {\n                regex = tagEndRegex;\n            }\n            else if (regex === commentEndRegex || regex === comment2EndRegex) {\n                regex = textEndRegex;\n            }\n            else {\n                // Not one of the five state regexes, so it must be the dynamically\n                // created raw text regex and we're at the close of that element.\n                regex = tagEndRegex;\n                rawTextEndRegex = undefined;\n            }\n        }\n        if (DEV_MODE) {\n            // If we have a attrNameEndIndex, which indicates that we should\n            // rewrite the attribute name, assert that we're in a valid attribute\n            // position - either in a tag, or a quoted attribute value.\n            console.assert(attrNameEndIndex === -1 ||\n                regex === tagEndRegex ||\n                regex === singleQuoteAttrEndRegex ||\n                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');\n        }\n        // We have four cases:\n        //  1. We're in text position, and not in a raw text element\n        //     (regex === textEndRegex): insert a comment marker.\n        //  2. We have a non-negative attrNameEndIndex which means we need to\n        //     rewrite the attribute name to add a bound attribute suffix.\n        //  3. We're at the non-first binding in a multi-binding attribute, use a\n        //     plain marker.\n        //  4. We're somewhere else inside the tag. If we're in attribute name\n        //     position (attrNameEndIndex === -2), add a sequential suffix to\n        //     generate a unique attribute name.\n        // Detect a binding next to self-closing tag end and insert a space to\n        // separate the marker from the tag end:\n        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';\n        html +=\n            regex === textEndRegex\n                ? s + nodeMarker\n                : attrNameEndIndex >= 0\n                    ? (attrNames.push(attrName),\n                        s.slice(0, attrNameEndIndex) +\n                            boundAttributeSuffix +\n                            s.slice(attrNameEndIndex)) +\n                        marker +\n                        end\n                    : s + marker + (attrNameEndIndex === -2 ? i : end);\n    }\n    const htmlResult = html +\n        (strings[l] || '<?>') +\n        (type === SVG_RESULT ? '</svg>' : type === MATHML_RESULT ? '</math>' : '');\n    // Returned as an array for terseness\n    return [trustFromTemplateString(strings, htmlResult), attrNames];\n};\nclass Template {\n    constructor(\n    // This property needs to remain unminified.\n    { strings, ['_$litType$']: type }, options) {\n        this.parts = [];\n        let node;\n        let nodeIndex = 0;\n        let attrNameIndex = 0;\n        const partCount = strings.length - 1;\n        const parts = this.parts;\n        // Create template element\n        const [html, attrNames] = getTemplateHtml(strings, type);\n        this.el = Template.createElement(html, options);\n        walker.currentNode = this.el.content;\n        // Re-parent SVG or MathML nodes into template root\n        if (type === SVG_RESULT || type === MATHML_RESULT) {\n            const wrapper = this.el.content.firstChild;\n            wrapper.replaceWith(...wrapper.childNodes);\n        }\n        // Walk the template to find binding markers and create TemplateParts\n        while ((node = walker.nextNode()) !== null && parts.length < partCount) {\n            if (node.nodeType === 1) {\n                if (DEV_MODE) {\n                    const tag = node.localName;\n                    // Warn if `textarea` includes an expression and throw if `template`\n                    // does since these are not supported. We do this by checking\n                    // innerHTML for anything that looks like a marker. This catches\n                    // cases like bindings in textarea there markers turn into text nodes.\n                    if (/^(?:textarea|template)$/i.test(tag) &&\n                        node.innerHTML.includes(marker)) {\n                        const m = `Expressions are not supported inside \\`${tag}\\` ` +\n                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +\n                            `information.`;\n                        if (tag === 'template') {\n                            throw new Error(m);\n                        }\n                        else\n                            issueWarning('', m);\n                    }\n                }\n                // TODO (justinfagnani): for attempted dynamic tag names, we don't\n                // increment the bindingIndex, and it'll be off by 1 in the element\n                // and off by two after it.\n                if (node.hasAttributes()) {\n                    for (const name of node.getAttributeNames()) {\n                        if (name.endsWith(boundAttributeSuffix)) {\n                            const realName = attrNames[attrNameIndex++];\n                            const value = node.getAttribute(name);\n                            const statics = value.split(marker);\n                            const m = /([.?@])?(.*)/.exec(realName);\n                            parts.push({\n                                type: ATTRIBUTE_PART,\n                                index: nodeIndex,\n                                name: m[2],\n                                strings: statics,\n                                ctor: m[1] === '.'\n                                    ? PropertyPart\n                                    : m[1] === '?'\n                                        ? BooleanAttributePart\n                                        : m[1] === '@'\n                                            ? EventPart\n                                            : AttributePart,\n                            });\n                            node.removeAttribute(name);\n                        }\n                        else if (name.startsWith(marker)) {\n                            parts.push({\n                                type: ELEMENT_PART,\n                                index: nodeIndex,\n                            });\n                            node.removeAttribute(name);\n                        }\n                    }\n                }\n                // TODO (justinfagnani): benchmark the regex against testing for each\n                // of the 3 raw text element names.\n                if (rawTextElement.test(node.tagName)) {\n                    // For raw text elements we need to split the text content on\n                    // markers, create a Text node for each segment, and create\n                    // a TemplatePart for each marker.\n                    const strings = node.textContent.split(marker);\n                    const lastIndex = strings.length - 1;\n                    if (lastIndex > 0) {\n                        node.textContent = trustedTypes\n                            ? trustedTypes.emptyScript\n                            : '';\n                        // Generate a new text node for each literal section\n                        // These nodes are also used as the markers for child parts\n                        for (let i = 0; i < lastIndex; i++) {\n                            node.append(strings[i], createMarker());\n                            // Walk past the marker node we just added\n                            walker.nextNode();\n                            parts.push({ type: CHILD_PART, index: ++nodeIndex });\n                        }\n                        // Note because this marker is added after the walker's current\n                        // node, it will be walked to in the outer loop (and ignored), so\n                        // we don't need to adjust nodeIndex here\n                        node.append(strings[lastIndex], createMarker());\n                    }\n                }\n            }\n            else if (node.nodeType === 8) {\n                const data = node.data;\n                if (data === markerMatch) {\n                    parts.push({ type: CHILD_PART, index: nodeIndex });\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        parts.push({ type: COMMENT_PART, index: nodeIndex });\n                        // Move to the end of the match\n                        i += marker.length - 1;\n                    }\n                }\n            }\n            nodeIndex++;\n        }\n        if (DEV_MODE) {\n            // If there was a duplicate attribute on a tag, then when the tag is\n            // parsed into an element the attribute gets de-duplicated. We can detect\n            // this mismatch if we haven't precisely consumed every attribute name\n            // when preparing the template. This works because `attrNames` is built\n            // from the template string and `attrNameIndex` comes from processing the\n            // resulting DOM.\n            if (attrNames.length !== attrNameIndex) {\n                throw new Error(`Detected duplicate attribute bindings. This occurs if your template ` +\n                    `has duplicate attributes on an element tag. For example ` +\n                    `\"<input ?disabled=\\${true} ?disabled=\\${false}>\" contains a ` +\n                    `duplicate \"disabled\" attribute. The error was detected in ` +\n                    `the following template: \\n` +\n                    '`' +\n                    strings.join('${...}') +\n                    '`');\n            }\n        }\n        // We could set walker.currentNode to another node here to prevent a memory\n        // leak, but every time we prepare a template, we immediately render it\n        // and re-use the walker in new TemplateInstance._clone().\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'template prep',\n                template: this,\n                clonableTemplate: this.el,\n                parts: this.parts,\n                strings,\n            });\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @nocollapse */\n    static createElement(html, _options) {\n        const el = d.createElement('template');\n        el.innerHTML = html;\n        return el;\n    }\n}\nfunction resolveDirective(part, value, parent = part, attributeIndex) {\n    // Bail early if the value is explicitly noChange. Note, this means any\n    // nested directive is still attached and is not run.\n    if (value === noChange) {\n        return value;\n    }\n    let currentDirective = attributeIndex !== undefined\n        ? parent.__directives?.[attributeIndex]\n        : parent.__directive;\n    const nextDirectiveConstructor = isPrimitive(value)\n        ? undefined\n        : // This property needs to remain unminified.\n            value['_$litDirective$'];\n    if (currentDirective?.constructor !== nextDirectiveConstructor) {\n        // This property needs to remain unminified.\n        currentDirective?.['_$notifyDirectiveConnectionChanged']?.(false);\n        if (nextDirectiveConstructor === undefined) {\n            currentDirective = undefined;\n        }\n        else {\n            currentDirective = new nextDirectiveConstructor(part);\n            currentDirective._$initialize(part, parent, attributeIndex);\n        }\n        if (attributeIndex !== undefined) {\n            (parent.__directives ??= [])[attributeIndex] =\n                currentDirective;\n        }\n        else {\n            parent.__directive = currentDirective;\n        }\n    }\n    if (currentDirective !== undefined) {\n        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);\n    }\n    return value;\n}\n/**\n * An updateable instance of a Template. Holds references to the Parts used to\n * update the template instance.\n */\nclass TemplateInstance {\n    constructor(template, parent) {\n        this._$parts = [];\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$template = template;\n        this._$parent = parent;\n    }\n    // Called by ChildPart parentNode getter\n    get parentNode() {\n        return this._$parent.parentNode;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    // This method is separate from the constructor because we need to return a\n    // DocumentFragment and we don't want to hold onto it with an instance field.\n    _clone(options) {\n        const { el: { content }, parts: parts, } = this._$template;\n        const fragment = (options?.creationScope ?? d).importNode(content, true);\n        walker.currentNode = fragment;\n        let node = walker.nextNode();\n        let nodeIndex = 0;\n        let partIndex = 0;\n        let templatePart = parts[0];\n        while (templatePart !== undefined) {\n            if (nodeIndex === templatePart.index) {\n                let part;\n                if (templatePart.type === CHILD_PART) {\n                    part = new ChildPart(node, node.nextSibling, this, options);\n                }\n                else if (templatePart.type === ATTRIBUTE_PART) {\n                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);\n                }\n                else if (templatePart.type === ELEMENT_PART) {\n                    part = new ElementPart(node, this, options);\n                }\n                this._$parts.push(part);\n                templatePart = parts[++partIndex];\n            }\n            if (nodeIndex !== templatePart?.index) {\n                node = walker.nextNode();\n                nodeIndex++;\n            }\n        }\n        // We need to set the currentNode away from the cloned tree so that we\n        // don't hold onto the tree even if the tree is detached and should be\n        // freed.\n        walker.currentNode = d;\n        return fragment;\n    }\n    _update(values) {\n        let i = 0;\n        for (const part of this._$parts) {\n            if (part !== undefined) {\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'set part',\n                        part,\n                        value: values[i],\n                        valueIndex: i,\n                        values,\n                        templateInstance: this,\n                    });\n                if (part.strings !== undefined) {\n                    part._$setValue(values, part, i);\n                    // The number of values the part consumes is part.strings.length - 1\n                    // since values are in between template spans. We increment i by 1\n                    // later in the loop, so increment it by part.strings.length - 2 here\n                    i += part.strings.length - 2;\n                }\n                else {\n                    part._$setValue(values[i]);\n                }\n            }\n            i++;\n        }\n    }\n}\nclass ChildPart {\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        // ChildParts that are not at the root should always be created with a\n        // parent; only RootChildNode's won't, so they return the local isConnected\n        // state\n        return this._$parent?._$isConnected ?? this.__isConnected;\n    }\n    constructor(startNode, endNode, parent, options) {\n        this.type = CHILD_PART;\n        this._$committedValue = nothing;\n        // The following fields will be patched onto ChildParts when required by\n        // AsyncDirective\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$startNode = startNode;\n        this._$endNode = endNode;\n        this._$parent = parent;\n        this.options = options;\n        // Note __isConnected is only ever accessed on RootParts (i.e. when there is\n        // no _$parent); the value on a non-root-part is \"don't care\", but checking\n        // for parent would be more code\n        this.__isConnected = options?.isConnected ?? true;\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            // Explicitly initialize for consistent class shape.\n            this._textSanitizer = undefined;\n        }\n    }\n    /**\n     * The parent node into which the part renders its content.\n     *\n     * A ChildPart's content consists of a range of adjacent child nodes of\n     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and\n     * `.endNode`).\n     *\n     * - If both `.startNode` and `.endNode` are non-null, then the part's content\n     * consists of all siblings between `.startNode` and `.endNode`, exclusively.\n     *\n     * - If `.startNode` is non-null but `.endNode` is null, then the part's\n     * content consists of all siblings following `.startNode`, up to and\n     * including the last child of `.parentNode`. If `.endNode` is non-null, then\n     * `.startNode` will always be non-null.\n     *\n     * - If both `.endNode` and `.startNode` are null, then the part's content\n     * consists of all child nodes of `.parentNode`.\n     */\n    get parentNode() {\n        let parentNode = wrap(this._$startNode).parentNode;\n        const parent = this._$parent;\n        if (parent !== undefined &&\n            parentNode?.nodeType === 11 /* Node.DOCUMENT_FRAGMENT */) {\n            // If the parentNode is a DocumentFragment, it may be because the DOM is\n            // still in the cloned fragment during initial render; if so, get the real\n            // parentNode the part will be committed into by asking the parent.\n            parentNode = parent.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * The part's leading marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get startNode() {\n        return this._$startNode;\n    }\n    /**\n     * The part's trailing marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get endNode() {\n        return this._$endNode;\n    }\n    _$setValue(value, directiveParent = this) {\n        if (DEV_MODE && this.parentNode === null) {\n            throw new Error(`This \\`ChildPart\\` has no \\`parentNode\\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \\`innerHTML\\` or \\`textContent\\` can do this.`);\n        }\n        value = resolveDirective(this, value, directiveParent);\n        if (isPrimitive(value)) {\n            // Non-rendering child values. It's important that these do not render\n            // empty text nodes to avoid issues with preventing default <slot>\n            // fallback content.\n            if (value === nothing || value == null || value === '') {\n                if (this._$committedValue !== nothing) {\n                    debugLogEvent &&\n                        debugLogEvent({\n                            kind: 'commit nothing to child',\n                            start: this._$startNode,\n                            end: this._$endNode,\n                            parent: this._$parent,\n                            options: this.options,\n                        });\n                    this._$clear();\n                }\n                this._$committedValue = nothing;\n            }\n            else if (value !== this._$committedValue && value !== noChange) {\n                this._commitText(value);\n            }\n            // This property needs to remain unminified.\n        }\n        else if (value['_$litType$'] !== undefined) {\n            this._commitTemplateResult(value);\n        }\n        else if (value.nodeType !== undefined) {\n            if (DEV_MODE && this.options?.host === value) {\n                this._commitText(`[probable mistake: rendered a template's host in itself ` +\n                    `(commonly caused by writing \\${this} in a template]`);\n                console.warn(`Attempted to render the template host`, value, `inside itself. This is almost always a mistake, and in dev mode `, `we render some warning text. In production however, we'll `, `render it, which will usually result in an error, and sometimes `, `in the element disappearing from the DOM.`);\n                return;\n            }\n            this._commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this._commitIterable(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._commitText(value);\n        }\n    }\n    _insert(node) {\n        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, this._$endNode);\n    }\n    _commitNode(value) {\n        if (this._$committedValue !== value) {\n            this._$clear();\n            if (ENABLE_EXTRA_SECURITY_HOOKS &&\n                sanitizerFactoryInternal !== noopSanitizer) {\n                const parentNodeName = this._$startNode.parentNode?.nodeName;\n                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {\n                    let message = 'Forbidden';\n                    if (DEV_MODE) {\n                        if (parentNodeName === 'STYLE') {\n                            message =\n                                `Lit does not support binding inside style nodes. ` +\n                                    `This is a security risk, as style injection attacks can ` +\n                                    `exfiltrate data and spoof UIs. ` +\n                                    `Consider instead using css\\`...\\` literals ` +\n                                    `to compose styles, and do dynamic styling with ` +\n                                    `css custom properties, ::parts, <slot>s, ` +\n                                    `and by mutating the DOM rather than stylesheets.`;\n                        }\n                        else {\n                            message =\n                                `Lit does not support binding inside script nodes. ` +\n                                    `This is a security risk, as it could allow arbitrary ` +\n                                    `code execution.`;\n                        }\n                    }\n                    throw new Error(message);\n                }\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit node',\n                    start: this._$startNode,\n                    parent: this._$parent,\n                    value: value,\n                    options: this.options,\n                });\n            this._$committedValue = this._insert(value);\n        }\n    }\n    _commitText(value) {\n        // If the committed value is a primitive it means we called _commitText on\n        // the previous render, and we know that this._$startNode.nextSibling is a\n        // Text node. We can now just replace the text content (.data) of the node.\n        if (this._$committedValue !== nothing &&\n            isPrimitive(this._$committedValue)) {\n            const node = wrap(this._$startNode).nextSibling;\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(node, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit text',\n                    node,\n                    value,\n                    options: this.options,\n                });\n            node.data = value;\n        }\n        else {\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                const textNode = d.createTextNode('');\n                this._commitNode(textNode);\n                // When setting text content, for security purposes it matters a lot\n                // what the parent is. For example, <style> and <script> need to be\n                // handled with care, while <span> does not. So first we need to put a\n                // text node into the document, then we can sanitize its content.\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'commit text',\n                        node: textNode,\n                        value,\n                        options: this.options,\n                    });\n                textNode.data = value;\n            }\n            else {\n                this._commitNode(d.createTextNode(value));\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'commit text',\n                        node: wrap(this._$startNode).nextSibling,\n                        value,\n                        options: this.options,\n                    });\n            }\n        }\n        this._$committedValue = value;\n    }\n    _commitTemplateResult(result) {\n        // This property needs to remain unminified.\n        const { values, ['_$litType$']: type } = result;\n        // If $litType$ is a number, result is a plain TemplateResult and we get\n        // the template from the template cache. If not, result is a\n        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need\n        // to create the <template> element the first time we see it.\n        const template = typeof type === 'number'\n            ? this._$getTemplate(result)\n            : (type.el === undefined &&\n                (type.el = Template.createElement(trustFromTemplateString(type.h, type.h[0]), this.options)),\n                type);\n        if (this._$committedValue?._$template === template) {\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template updating',\n                    template,\n                    instance: this._$committedValue,\n                    parts: this._$committedValue._$parts,\n                    options: this.options,\n                    values,\n                });\n            this._$committedValue._update(values);\n        }\n        else {\n            const instance = new TemplateInstance(template, this);\n            const fragment = instance._clone(this.options);\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template instantiated',\n                    template,\n                    instance,\n                    parts: instance._$parts,\n                    options: this.options,\n                    fragment,\n                    values,\n                });\n            instance._update(values);\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template instantiated and updated',\n                    template,\n                    instance,\n                    parts: instance._$parts,\n                    options: this.options,\n                    fragment,\n                    values,\n                });\n            this._commitNode(fragment);\n            this._$committedValue = instance;\n        }\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @internal */\n    _$getTemplate(result) {\n        let template = templateCache.get(result.strings);\n        if (template === undefined) {\n            templateCache.set(result.strings, (template = new Template(result)));\n        }\n        return template;\n    }\n    _commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If value is an array, then the previous render was of an\n        // iterable and value will contain the ChildParts from the previous\n        // render. If value is not an array, clear this part and make a new\n        // array for ChildParts.\n        if (!isArray(this._$committedValue)) {\n            this._$committedValue = [];\n            this._$clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this._$committedValue;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            if (partIndex === itemParts.length) {\n                // If no existing part, create a new one\n                // TODO (justinfagnani): test perf impact of always creating two parts\n                // instead of sharing parts between nodes\n                // https://github.com/lit/lit/issues/1266\n                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));\n            }\n            else {\n                // Reuse an existing part\n                itemPart = itemParts[partIndex];\n            }\n            itemPart._$setValue(item);\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // itemParts always have end nodes\n            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n        }\n    }\n    /**\n     * Removes the nodes contained within this Part from the DOM.\n     *\n     * @param start Start node to clear from, for clearing a subset of the part's\n     *     DOM (used when truncating iterables)\n     * @param from  When `start` is specified, the index within the iterable from\n     *     which ChildParts are being removed, used for disconnecting directives\n     *     in those Parts.\n     *\n     * @internal\n     */\n    _$clear(start = wrap(this._$startNode).nextSibling, from) {\n        this._$notifyConnectionChanged?.(false, true, from);\n        while (start !== this._$endNode) {\n            // The non-null assertion is safe because if _$startNode.nextSibling is\n            // null, then _$endNode is also null, and we would not have entered this\n            // loop.\n            const n = wrap(start).nextSibling;\n            wrap(start).remove();\n            start = n;\n        }\n    }\n    /**\n     * Implementation of RootPart's `isConnected`. Note that this method\n     * should only be called on `RootPart`s (the `ChildPart` returned from a\n     * top-level `render()` call). It has no effect on non-root ChildParts.\n     * @param isConnected Whether to set\n     * @internal\n     */\n    setConnected(isConnected) {\n        if (this._$parent === undefined) {\n            this.__isConnected = isConnected;\n            this._$notifyConnectionChanged?.(isConnected);\n        }\n        else if (DEV_MODE) {\n            throw new Error('part.setConnected() may only be called on a ' +\n                'RootPart returned from render().');\n        }\n    }\n}\nclass AttributePart {\n    get tagName() {\n        return this.element.tagName;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    constructor(element, name, strings, parent, options) {\n        this.type = ATTRIBUTE_PART;\n        /** @internal */\n        this._$committedValue = nothing;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this.element = element;\n        this.name = name;\n        this._$parent = parent;\n        this.options = options;\n        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {\n            this._$committedValue = new Array(strings.length - 1).fill(new String());\n            this.strings = strings;\n        }\n        else {\n            this._$committedValue = nothing;\n        }\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            this._sanitizer = undefined;\n        }\n    }\n    /**\n     * Sets the value of this part by resolving the value from possibly multiple\n     * values and static strings and committing it to the DOM.\n     * If this part is single-valued, `this._strings` will be undefined, and the\n     * method will be called with a single value argument. If this part is\n     * multi-value, `this._strings` will be defined, and the method is called\n     * with the value array of the part's owning TemplateInstance, and an offset\n     * into the value array from which the values should be read.\n     * This method is overloaded this way to eliminate short-lived array slices\n     * of the template instance values, and allow a fast-path for single-valued\n     * parts.\n     *\n     * @param value The part value, or an array of values for multi-valued parts\n     * @param valueIndex the index to start reading values from. `undefined` for\n     *   single-valued parts\n     * @param noCommit causes the part to not commit its value to the DOM. Used\n     *   in hydration to prime attribute parts with their first-rendered value,\n     *   but not set the attribute, and in SSR to no-op the DOM operation and\n     *   capture the value for serialization.\n     *\n     * @internal\n     */\n    _$setValue(value, directiveParent = this, valueIndex, noCommit) {\n        const strings = this.strings;\n        // Whether any of the values has changed, for dirty-checking\n        let change = false;\n        if (strings === undefined) {\n            // Single-value binding case\n            value = resolveDirective(this, value, directiveParent, 0);\n            change =\n                !isPrimitive(value) ||\n                    (value !== this._$committedValue && value !== noChange);\n            if (change) {\n                this._$committedValue = value;\n            }\n        }\n        else {\n            // Interpolation case\n            const values = value;\n            value = strings[0];\n            let i, v;\n            for (i = 0; i < strings.length - 1; i++) {\n                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);\n                if (v === noChange) {\n                    // If the user-provided value is `noChange`, use the previous value\n                    v = this._$committedValue[i];\n                }\n                change ||=\n                    !isPrimitive(v) || v !== this._$committedValue[i];\n                if (v === nothing) {\n                    value = nothing;\n                }\n                else if (value !== nothing) {\n                    value += (v ?? '') + strings[i + 1];\n                }\n                // We always record each value, even if one is `nothing`, for future\n                // change detection.\n                this._$committedValue[i] = v;\n            }\n        }\n        if (change && !noCommit) {\n            this._commitValue(value);\n        }\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (value === nothing) {\n            wrap(this.element).removeAttribute(this.name);\n        }\n        else {\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                if (this._sanitizer === undefined) {\n                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');\n                }\n                value = this._sanitizer(value ?? '');\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit attribute',\n                    element: this.element,\n                    name: this.name,\n                    value,\n                    options: this.options,\n                });\n            wrap(this.element).setAttribute(this.name, (value ?? ''));\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = PROPERTY_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            if (this._sanitizer === undefined) {\n                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');\n            }\n            value = this._sanitizer(value);\n        }\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit property',\n                element: this.element,\n                name: this.name,\n                value,\n                options: this.options,\n            });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.element[this.name] = value === nothing ? undefined : value;\n    }\n}\nclass BooleanAttributePart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = BOOLEAN_ATTRIBUTE_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit boolean attribute',\n                element: this.element,\n                name: this.name,\n                value: !!(value && value !== nothing),\n                options: this.options,\n            });\n        wrap(this.element).toggleAttribute(this.name, !!value && value !== nothing);\n    }\n}\nclass EventPart extends AttributePart {\n    constructor(element, name, strings, parent, options) {\n        super(element, name, strings, parent, options);\n        this.type = EVENT_PART;\n        if (DEV_MODE && this.strings !== undefined) {\n            throw new Error(`A \\`<${element.localName}>\\` has a \\`@${name}=...\\` listener with ` +\n                'invalid content. Event listeners in templates must have exactly ' +\n                'one expression and no surrounding text.');\n        }\n    }\n    // EventPart does not use the base _$setValue/_resolveValue implementation\n    // since the dirty checking is more complex\n    /** @internal */\n    _$setValue(newListener, directiveParent = this) {\n        newListener =\n            resolveDirective(this, newListener, directiveParent, 0) ?? nothing;\n        if (newListener === noChange) {\n            return;\n        }\n        const oldListener = this._$committedValue;\n        // If the new value is nothing or any options change we have to remove the\n        // part as a listener.\n        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||\n            newListener.capture !==\n                oldListener.capture ||\n            newListener.once !==\n                oldListener.once ||\n            newListener.passive !==\n                oldListener.passive;\n        // If the new value is not nothing and we removed the listener, we have\n        // to add the part as a listener.\n        const shouldAddListener = newListener !== nothing &&\n            (oldListener === nothing || shouldRemoveListener);\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit event listener',\n                element: this.element,\n                name: this.name,\n                value: newListener,\n                options: this.options,\n                removeListener: shouldRemoveListener,\n                addListener: shouldAddListener,\n                oldListener,\n            });\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.name, this, oldListener);\n        }\n        if (shouldAddListener) {\n            this.element.addEventListener(this.name, this, newListener);\n        }\n        this._$committedValue = newListener;\n    }\n    handleEvent(event) {\n        if (typeof this._$committedValue === 'function') {\n            this._$committedValue.call(this.options?.host ?? this.element, event);\n        }\n        else {\n            this._$committedValue.handleEvent(event);\n        }\n    }\n}\nclass ElementPart {\n    constructor(element, parent, options) {\n        this.element = element;\n        this.type = ELEMENT_PART;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$parent = parent;\n        this.options = options;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    _$setValue(value) {\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit to element binding',\n                element: this.element,\n                value,\n                options: this.options,\n            });\n        resolveDirective(this, value);\n    }\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports mangled in the\n * client side code, we export a _$LH object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-element, which re-exports all of lit-html.\n *\n * @private\n */\nconst _$LH = {\n    // Used in lit-ssr\n    _boundAttributeSuffix: boundAttributeSuffix,\n    _marker: marker,\n    _markerMatch: markerMatch,\n    _HTML_RESULT: HTML_RESULT,\n    _getTemplateHtml: getTemplateHtml,\n    // Used in tests and private-ssr-support\n    _TemplateInstance: TemplateInstance,\n    _isIterable: isIterable,\n    _resolveDirective: resolveDirective,\n    _ChildPart: ChildPart,\n    _AttributePart: AttributePart,\n    _BooleanAttributePart: BooleanAttributePart,\n    _EventPart: EventPart,\n    _PropertyPart: PropertyPart,\n    _ElementPart: ElementPart,\n};\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? global.litHtmlPolyfillSupportDevMode\n    : global.litHtmlPolyfillSupport;\npolyfillSupport?.(Template, ChildPart);\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n(global.litHtmlVersions ??= []).push('3.3.1');\nif (DEV_MODE && global.litHtmlVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +\n            `Loading multiple versions is not recommended.`);\n    });\n}\n/**\n * Renders a value, usually a lit-html TemplateResult, to the container.\n *\n * This example renders the text \"Hello, Zoe!\" inside a paragraph tag, appending\n * it to the container `document.body`.\n *\n * ```js\n * import {html, render} from 'lit';\n *\n * const name = \"Zoe\";\n * render(html`<p>Hello, ${name}!</p>`, document.body);\n * ```\n *\n * @param value Any [renderable\n *   value](https://lit.dev/docs/templates/expressions/#child-expressions),\n *   typically a {@linkcode TemplateResult} created by evaluating a template tag\n *   like {@linkcode html} or {@linkcode svg}.\n * @param container A DOM container to render to. The first render will append\n *   the rendered value to the container, and subsequent renders will\n *   efficiently update the rendered value if the same result type was\n *   previously rendered there.\n * @param options See {@linkcode RenderOptions} for options documentation.\n * @see\n * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}\n */\nconst render = (value, container, options) => {\n    if (DEV_MODE && container == null) {\n        // Give a clearer error message than\n        //     Uncaught TypeError: Cannot read properties of null (reading\n        //     '_$litPart$')\n        // which reads like an internal Lit error.\n        throw new TypeError(`The container to render into may not be ${container}`);\n    }\n    const renderId = DEV_MODE ? debugLogRenderId++ : 0;\n    const partOwnerNode = options?.renderBefore ?? container;\n    // This property needs to remain unminified.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let part = partOwnerNode['_$litPart$'];\n    debugLogEvent &&\n        debugLogEvent({\n            kind: 'begin render',\n            id: renderId,\n            value,\n            container,\n            options,\n            part,\n        });\n    if (part === undefined) {\n        const endNode = options?.renderBefore ?? null;\n        // This property needs to remain unminified.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options ?? {});\n    }\n    part._$setValue(value);\n    debugLogEvent &&\n        debugLogEvent({\n            kind: 'end render',\n            id: renderId,\n            value,\n            container,\n            options,\n            part,\n        });\n    return part;\n};\nif (ENABLE_EXTRA_SECURITY_HOOKS) {\n    render.setSanitizer = setSanitizer;\n    render.createSanitizer = createSanitizer;\n    if (DEV_MODE) {\n        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =\n            _testOnlyClearSanitizerFactoryDoNotCallOrElse;\n    }\n}\n//# sourceMappingURL=lit-html.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9saXQtaHRtbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtDQUFrQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixZQUFZO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxXQUFXLE1BQU0sVUFBVSxLQUFLLFdBQVcsSUFBSSxXQUFXLE1BQU0sZ0JBQWdCO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsTUFBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQkFBaUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtCQUErQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLElBQUk7QUFDaEYsK0VBQStFLEtBQUs7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsc0NBQXNDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzQ0FBc0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNLGFBQWEsTUFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsSUFBSTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU0sU0FBUyxrQkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE1BQU07QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0IsZUFBZSxLQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQSwyQkFBMkIsS0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQkFBMEI7QUFDNUMsV0FBVyxnQkFBZ0IsSUFBSSxjQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlCQUF5QjtBQUNoRDtBQUNBLElBQUk7QUFDSjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxVQUFVO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2SUFBNkk7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9saXQtaHRtbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyA9IHRydWU7XG5jb25zdCBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCA9IHRydWU7XG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcbi8vIEFsbG93cyBtaW5pZmllcnMgdG8gcmVuYW1lIHJlZmVyZW5jZXMgdG8gZ2xvYmFsVGhpc1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSBERVZfTU9ERVxuICAgID8gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBnbG9iYWxcbiAgICAgICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGl0LWRlYnVnJywge1xuICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICA6IHVuZGVmaW5lZDtcbi8vIFVzZWQgZm9yIGNvbm5lY3RpbmcgYmVnaW5SZW5kZXIgYW5kIGVuZFJlbmRlciBldmVudHMgd2hlbiB0aGVyZSBhcmUgbmVzdGVkXG4vLyByZW5kZXJzIHdoZW4gZXJyb3JzIGFyZSB0aHJvd24gcHJldmVudGluZyBhbiBlbmRSZW5kZXIgZXZlbnQgZnJvbSBiZWluZ1xuLy8gY2FsbGVkLlxubGV0IGRlYnVnTG9nUmVuZGVySWQgPSAwO1xubGV0IGlzc3VlV2FybmluZztcbmlmIChERVZfTU9ERSkge1xuICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuICAgIC8qKlxuICAgICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgICAqIFdhcm5pbmdzIGFyZSBkaXNhYmxlZCBhdXRvbWF0aWNhbGx5IG9ubHkgYnkgYHdhcm5pbmdgOyBkaXNhYmxpbmcgdmlhIGBjb2RlYFxuICAgICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgICAqL1xuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gY29kZVxuICAgICAgICAgICAgPyBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgaWYgKCFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpICYmXG4gICAgICAgICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoJ2Rldi1tb2RlJywgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWApO1xuICAgIH0pO1xufVxuY29uc3Qgd3JhcCA9IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIICYmXG4gICAgZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJlxuICAgIGdsb2JhbC5TaGFkeURPTT8ubm9QYXRjaCA9PT0gdHJ1ZVxuICAgID8gZ2xvYmFsLlNoYWR5RE9NLndyYXBcbiAgICA6IChub2RlKSA9PiBub2RlO1xuY29uc3QgdHJ1c3RlZFR5cGVzID0gZ2xvYmFsLnRydXN0ZWRUeXBlcztcbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgICA/IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywge1xuICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICB9KVxuICAgIDogdW5kZWZpbmVkO1xuY29uc3QgaWRlbnRpdHlGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyID0gKF9ub2RlLCBfbmFtZSwgX3R5cGUpID0+IGlkZW50aXR5RnVuY3Rpb247XG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcikgPT4ge1xuICAgIGlmICghRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICAgICAgYCBzZXRTYW5pdGl6ZURPTVZhbHVlRmFjdG9yeSBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZS5gKTtcbiAgICB9XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5jb25zdCBjcmVhdGVTYW5pdGl6ZXIgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICAgIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vLyBUaGlzIG1hcmtlciBpcyB1c2VkIGluIG1hbnkgc3ludGFjdGljIHBvc2l0aW9ucyBpbiBIVE1MLCBzbyBpdCBtdXN0IGJlXG4vLyBhIHZhbGlkIGVsZW1lbnQgbmFtZSBhbmQgYXR0cmlidXRlIG5hbWUuIFdlIGRvbid0IHN1cHBvcnQgZHluYW1pYyBuYW1lcyAoeWV0KVxuLy8gYnV0IHRoaXMgYXQgbGVhc3QgZW5zdXJlcyB0aGF0IHRoZSBwYXJzZSB0cmVlIGlzIGNsb3NlciB0byB0aGUgdGVtcGxhdGVcbi8vIGludGVudGlvbi5cbmNvbnN0IG1hcmtlciA9IGBsaXQkJHtNYXRoLnJhbmRvbSgpLnRvRml4ZWQoOSkuc2xpY2UoMil9JGA7XG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcbmNvbnN0IGQgPSBOT0RFX01PREUgJiYgZ2xvYmFsLmRvY3VtZW50ID09PSB1bmRlZmluZWRcbiAgICA/IHtcbiAgICAgICAgY3JlYXRlVHJlZVdhbGtlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICB9XG4gICAgOiBkb2N1bWVudDtcbi8vIENyZWF0ZXMgYSBkeW5hbWljIG1hcmtlci4gV2UgbmV2ZXIgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZXNlIGluIHRoZSBET00uXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkLmNyZWF0ZUNvbW1lbnQoJycpO1xuY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKSB8fFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdHlwZW9mIHZhbHVlPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IFNQQUNFX0NIQVIgPSBgWyBcXHRcXG5cXGZcXHJdYDtcbmNvbnN0IEFUVFJfVkFMVUVfQ0hBUiA9IGBbXiBcXHRcXG5cXGZcXHJcIidcXGA8Pj1dYDtcbmNvbnN0IE5BTUVfQ0hBUiA9IGBbXlxcXFxzXCInPj0vXWA7XG4vLyBUaGVzZSByZWdleGVzIHJlcHJlc2VudCB0aGUgZml2ZSBwYXJzaW5nIHN0YXRlcyB0aGF0IHdlIGNhcmUgYWJvdXQgaW4gdGhlXG4vLyBUZW1wbGF0ZSdzIEhUTUwgc2Nhbm5lci4gVGhleSBtYXRjaCB0aGUgKmVuZCogb2YgdGhlIHN0YXRlIHRoZXkncmUgbmFtZWRcbi8vIGFmdGVyLlxuLy8gRGVwZW5kaW5nIG9uIHRoZSBtYXRjaCwgd2UgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZS4gSWYgdGhlcmUncyBubyBtYXRjaCxcbi8vIHdlIHN0YXkgaW4gdGhlIHNhbWUgc3RhdGUuXG4vLyBOb3RlIHRoYXQgdGhlIHJlZ2V4ZXMgYXJlIHN0YXRlZnVsLiBXZSB1dGlsaXplIGxhc3RJbmRleCBhbmQgc3luYyBpdFxuLy8gYWNyb3NzIHRoZSBtdWx0aXBsZSByZWdleGVzIHVzZWQuIEluIGFkZGl0aW9uIHRvIHRoZSBmaXZlIHJlZ2V4ZXMgYmVsb3dcbi8vIHdlIGFsc28gZHluYW1pY2FsbHkgY3JlYXRlIGEgcmVnZXggdG8gZmluZCB0aGUgbWF0Y2hpbmcgZW5kIHRhZ3MgZm9yIHJhd1xuLy8gdGV4dCBlbGVtZW50cy5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuY29uc3QgY29tbWVudEVuZFJlZ2V4ID0gLy0tPi9nO1xuLyoqXG4gKiBDb21tZW50cyBub3Qgc3RhcnRlZCB3aXRoIDwhLS0sIGxpa2UgPC97LCBjYW4gYmUgZW5kZWQgYnkgYSBzaW5nbGUgYD5gXG4gKi9cbmNvbnN0IGNvbW1lbnQyRW5kUmVnZXggPSAvPi9nO1xuLyoqXG4gKiBUaGUgdGFnRW5kIHJlZ2V4IG1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgXCJpbnNpZGUgYW4gb3BlbmluZ1wiIHRhZyBzeW50YXhcbiAqIHBvc2l0aW9uLiBJdCBlaXRoZXIgbWF0Y2hlcyBhIGA+YCwgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UsIG9yIHRoZSBlbmRcbiAqIG9mIHRoZSBzdHJpbmcgYWZ0ZXIgYSBzcGFjZSAoYXR0cmlidXRlLW5hbWUgcG9zaXRpb24gZW5kaW5nKS5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHRcXG5cXGZcXHJcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI2FzY2lpLXdoaXRlc3BhY2VcbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciwgKFwiKSwgKCcpLCBcIj5cIixcbiAqICAgIFwiPVwiLCBvciBcIi9cIi4gTm90ZTogdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgSFRNTCBzcGVjIHdoaWNoIGFsc28gZXhjbHVkZXMgY29udHJvbCBjaGFyYWN0ZXJzLlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuY29uc3QgdGFnRW5kUmVnZXggPSBuZXcgUmVnRXhwKGA+fCR7U1BBQ0VfQ0hBUn0oPzooJHtOQU1FX0NIQVJ9KykoJHtTUEFDRV9DSEFSfSo9JHtTUEFDRV9DSEFSfSooPzoke0FUVFJfVkFMVUVfQ0hBUn18KFwifCcpfCkpfCQpYCwgJ2cnKTtcbmNvbnN0IEVOVElSRV9NQVRDSCA9IDA7XG5jb25zdCBBVFRSSUJVVEVfTkFNRSA9IDE7XG5jb25zdCBTUEFDRVNfQU5EX0VRVUFMUyA9IDI7XG5jb25zdCBRVU9URV9DSEFSID0gMztcbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuLyoqIFRlbXBsYXRlUmVzdWx0IHR5cGVzICovXG5jb25zdCBIVE1MX1JFU1VMVCA9IDE7XG5jb25zdCBTVkdfUkVTVUxUID0gMjtcbmNvbnN0IE1BVEhNTF9SRVNVTFQgPSAzO1xuLy8gVGVtcGxhdGVQYXJ0IHR5cGVzXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIG11c3QgbWF0Y2ggdGhlIHZhbHVlcyBpbiBQYXJ0VHlwZVxuY29uc3QgQVRUUklCVVRFX1BBUlQgPSAxO1xuY29uc3QgQ0hJTERfUEFSVCA9IDI7XG5jb25zdCBQUk9QRVJUWV9QQVJUID0gMztcbmNvbnN0IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQgPSA0O1xuY29uc3QgRVZFTlRfUEFSVCA9IDU7XG5jb25zdCBFTEVNRU5UX1BBUlQgPSA2O1xuY29uc3QgQ09NTUVOVF9QQVJUID0gNztcbi8qKlxuICogR2VuZXJhdGVzIGEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgVGVtcGxhdGVSZXN1bHQgd2l0aFxuICogdGhlIGdpdmVuIHJlc3VsdCB0eXBlLlxuICovXG5jb25zdCB0YWcgPSAodHlwZSkgPT4gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU29tZSB0ZW1wbGF0ZSBzdHJpbmdzIGFyZSB1bmRlZmluZWQuXFxuJyArXG4gICAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLicpO1xuICAgIH1cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgICAgLy8gaGFuZGxlLiBJbnN0ZWFkIHdlIGtub3cgdGhhdCBzdGF0aWMgdmFsdWVzIG11c3QgaGF2ZSB0aGUgZmllbGRcbiAgICAgICAgLy8gYF8kbGl0U3RhdGljJGAuXG4gICAgICAgIGlmICh2YWx1ZXMuc29tZSgodmFsKSA9PiB2YWw/LlsnXyRsaXRTdGF0aWMkJ10pKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJycsIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICAgICAgYFBsZWFzZSB1c2UgdGhlIHN0YXRpYyAnaHRtbCcgdGFnIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnNgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgICAgc3RyaW5ncyxcbiAgICAgICAgdmFsdWVzLFxuICAgIH07XG59O1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseSByZW5kZXJcbiAqIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHJlY3QgPSBzdmdgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+PC9yZWN0PmA7XG4gKlxuICogY29uc3QgbXlJbWFnZSA9IGh0bWxgXG4gKiAgIDxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAqICAgICAke3JlY3R9XG4gKiAgIDwvc3ZnPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYHN2Z2AgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgU1ZHIGZyYWdtZW50cywgb3IgZWxlbWVudHNcbiAqIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uIGVycm9yIGlzXG4gKiBwbGFjaW5nIGFuIGA8c3ZnPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBzdmdgIHRhZ1xuICogZnVuY3Rpb24uIFRoZSBgPHN2Zz5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYVxuICogdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gU1ZHIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIFNWRyBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQnc1xuICogc2hhZG93IHJvb3QgYW5kIHRodXMgbm90IGJlIHByb3Blcmx5IGNvbnRhaW5lZCB3aXRoaW4gYW4gYDxzdmc+YCBIVE1MXG4gKiBlbGVtZW50LlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gdGFnKFNWR19SRVNVTFQpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBNYXRoTUwgZnJhZ21lbnQgdGhhdCBjYW4gZWZmaWNpZW50bHkgcmVuZGVyXG4gKiB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBudW0gPSBtYXRobWxgPG1uPjE8L21uPmA7XG4gKlxuICogY29uc3QgZXEgPSBodG1sYFxuICogICA8bWF0aD5cbiAqICAgICAke251bX1cbiAqICAgPC9tYXRoPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYG1hdGhtbGAgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgTWF0aE1MIGZyYWdtZW50cywgb3JcbiAqIGVsZW1lbnRzIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYSBgPG1hdGg+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uXG4gKiBlcnJvciBpcyBwbGFjaW5nIGEgYDxtYXRoPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBtYXRobWxgXG4gKiB0YWcgZnVuY3Rpb24uIFRoZSBgPG1hdGg+YCBlbGVtZW50IGlzIGFuIEhUTUwgZWxlbWVudCBhbmQgc2hvdWxkIGJlIHVzZWRcbiAqIHdpdGhpbiBhIHRlbXBsYXRlIHRhZ2dlZCB3aXRoIHRoZSB7QGxpbmtjb2RlIGh0bWx9IHRhZyBmdW5jdGlvbi5cbiAqXG4gKiBJbiBMaXRFbGVtZW50IHVzYWdlLCBpdCdzIGludmFsaWQgdG8gcmV0dXJuIGFuIE1hdGhNTCBmcmFnbWVudCBmcm9tIHRoZVxuICogYHJlbmRlcigpYCBtZXRob2QsIGFzIHRoZSBNYXRoTUwgZnJhZ21lbnQgd2lsbCBiZSBjb250YWluZWQgd2l0aGluIHRoZVxuICogZWxlbWVudCdzIHNoYWRvdyByb290IGFuZCB0aHVzIG5vdCBiZSBwcm9wZXJseSBjb250YWluZWQgd2l0aGluIGEgYDxtYXRoPmBcbiAqIEhUTUwgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGhtbCA9IHRhZyhNQVRITUxfUkVTVUxUKTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSBTeW1ib2wuZm9yKCdsaXQtbm90aGluZycpO1xuLyoqXG4gKiBUaGUgY2FjaGUgb2YgcHJlcGFyZWQgdGVtcGxhdGVzLCBrZXllZCBieSB0aGUgdGFnZ2VkIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gKiBhbmQgX25vdF8gYWNjb3VudGluZyBmb3IgdGhlIHNwZWNpZmljIHRlbXBsYXRlIHRhZyB1c2VkLiBUaGlzIG1lYW5zIHRoYXRcbiAqIHRlbXBsYXRlIHRhZ3MgY2Fubm90IGJlIGR5bmFtaWMgLSB0aGV5IG11c3Qgc3RhdGljYWxseSBiZSBvbmUgb2YgaHRtbCwgc3ZnLFxuICogb3IgYXR0ci4gVGhpcyByZXN0cmljdGlvbiBzaW1wbGlmaWVzIHRoZSBjYWNoZSBsb29rdXAsIHdoaWNoIGlzIG9uIHRoZSBob3RcbiAqIHBhdGggZm9yIHJlbmRlcmluZy5cbiAqL1xuY29uc3QgdGVtcGxhdGVDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoZCwgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqLyk7XG5sZXQgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbmZ1bmN0aW9uIHRydXN0RnJvbVRlbXBsYXRlU3RyaW5nKHRzYSwgc3RyaW5nRnJvbVRTQSkge1xuICAgIC8vIEEgc2VjdXJpdHkgY2hlY2sgdG8gcHJldmVudCBzcG9vZmluZyBvZiBMaXQgdGVtcGxhdGUgcmVzdWx0cy5cbiAgICAvLyBJbiB0aGUgZnV0dXJlLCB3ZSBtYXkgYmUgYWJsZSB0byByZXBsYWNlIHRoaXMgd2l0aCBBcnJheS5pc1RlbXBsYXRlT2JqZWN0LFxuICAgIC8vIHRob3VnaCB3ZSBtaWdodCBuZWVkIHRvIG1ha2UgdGhhdCBjaGVjayBpbnNpZGUgb2YgdGhlIGh0bWwgYW5kIHN2Z1xuICAgIC8vIGZ1bmN0aW9ucywgYmVjYXVzZSBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgZG9uJ3QgY29tZSBpbiBhc1xuICAgIC8vIFRlbXBsYXRlU3RyaW5nQXJyYXkgb2JqZWN0cy5cbiAgICBpZiAoIWlzQXJyYXkodHNhKSB8fCAhdHNhLmhhc093blByb3BlcnR5KCdyYXcnKSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXknO1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgXG4gICAgICAgICAgSW50ZXJuYWwgRXJyb3I6IGV4cGVjdGVkIHRlbXBsYXRlIHN0cmluZ3MgdG8gYmUgYW4gYXJyYXlcbiAgICAgICAgICB3aXRoIGEgJ3JhdycgZmllbGQuIEZha2luZyBhIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXkgYnlcbiAgICAgICAgICBjYWxsaW5nIGh0bWwgb3Igc3ZnIGxpa2UgYW4gb3JkaW5hcnkgZnVuY3Rpb24gaXMgZWZmZWN0aXZlbHlcbiAgICAgICAgICB0aGUgc2FtZSBhcyBjYWxsaW5nIHVuc2FmZUh0bWwgYW5kIGNhbiBsZWFkIHRvIG1ham9yIHNlY3VyaXR5XG4gICAgICAgICAgaXNzdWVzLCBlLmcuIG9wZW5pbmcgeW91ciBjb2RlIHVwIHRvIFhTUyBhdHRhY2tzLlxuICAgICAgICAgIElmIHlvdSdyZSB1c2luZyB0aGUgaHRtbCBvciBzdmcgdGFnZ2VkIHRlbXBsYXRlIGZ1bmN0aW9ucyBub3JtYWxseVxuICAgICAgICAgIGFuZCBzdGlsbCBzZWVpbmcgdGhpcyBlcnJvciwgcGxlYXNlIGZpbGUgYSBidWcgYXRcbiAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvbmV3P3RlbXBsYXRlPWJ1Z19yZXBvcnQubWRcbiAgICAgICAgICBhbmQgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGJ1aWxkIHRvb2xpbmcsIGlmIGFueS5cbiAgICAgICAgYFxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcG9saWN5LmNyZWF0ZUhUTUwoc3RyaW5nRnJvbVRTQSlcbiAgICAgICAgOiBzdHJpbmdGcm9tVFNBO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVGVtcGxhdGVTdHJpbmdzQXJyYXkgYW5kIHJlc3VsdCB0eXBlXG4gKiAoSFRNTCBvciBTVkcpLCBhbG9uZyB3aXRoIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW5cbiAqIHRlbXBsYXRlIG9yZGVyLiBUaGUgSFRNTCBjb250YWlucyBjb21tZW50IG1hcmtlcnMgZGVub3RpbmcgdGhlIGBDaGlsZFBhcnRgc1xuICogYW5kIHN1ZmZpeGVzIG9uIGJvdW5kIGF0dHJpYnV0ZXMgZGVub3RpbmcgdGhlIGBBdHRyaWJ1dGVQYXJ0c2AuXG4gKlxuICogQHBhcmFtIHN0cmluZ3MgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVxuICogQHBhcmFtIHR5cGUgSFRNTCBvciBTVkdcbiAqIEByZXR1cm4gQXJyYXkgY29udGFpbmluZyBgW2h0bWwsIGF0dHJOYW1lc11gIChhcnJheSByZXR1cm5lZCBmb3IgdGVyc2VuZXNzLFxuICogICAgIHRvIGF2b2lkIG9iamVjdCBmaWVsZHMgc2luY2UgdGhpcyBjb2RlIGlzIHNoYXJlZCB3aXRoIG5vbi1taW5pZmllZCBTU1JcbiAqICAgICBjb2RlKVxuICovXG5jb25zdCBnZXRUZW1wbGF0ZUh0bWwgPSAoc3RyaW5ncywgdHlwZSkgPT4ge1xuICAgIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gICAgLy8gYmluZGluZ3MuIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc3RyaW5ncyB0byBkZXRlcm1pbmUgdGhlXG4gICAgLy8gc3ludGFjdGljIHBvc2l0aW9uIG9mIHRoZSBiaW5kaW5ncy4gVGhleSBjYW4gYmUgaW4gdGV4dCBwb3NpdGlvbiwgd2hlcmVcbiAgICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gICAgLy8gc2VudGluZWwgc3RyaW5nIGFuZCByZS13cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIG9yIGluc2lkZSBhIHRhZyB3aGVyZVxuICAgIC8vIHdlIGluc2VydCB0aGUgc2VudGluZWwgc3RyaW5nLlxuICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgLy8gU3RvcmVzIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIG9yZGVyIG9mIHRoZWlyXG4gICAgLy8gcGFydHMuIEVsZW1lbnRQYXJ0cyBhcmUgYWxzbyByZWZsZWN0ZWQgaW4gdGhpcyBhcnJheSBhcyB1bmRlZmluZWRcbiAgICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgIGNvbnN0IGF0dHJOYW1lcyA9IFtdO1xuICAgIGxldCBodG1sID0gdHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8c3ZnPicgOiB0eXBlID09PSBNQVRITUxfUkVTVUxUID8gJzxtYXRoPicgOiAnJztcbiAgICAvLyBXaGVuIHdlJ3JlIGluc2lkZSBhIHJhdyB0ZXh0IHRhZyAobm90IGl0J3MgdGV4dCBjb250ZW50KSwgdGhlIHJlZ2V4XG4gICAgLy8gd2lsbCBzdGlsbCBiZSB0YWdSZWdleCBzbyB3ZSBjYW4gZmluZCBhdHRyaWJ1dGVzLCBidXQgd2lsbCBzd2l0Y2ggdG9cbiAgICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICAgIGxldCByYXdUZXh0RW5kUmVnZXg7XG4gICAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAgIC8vIHJlZ2V4ZXNcbiAgICBsZXQgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3QgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAgICAgLy8gcG9zaXRpdmUgYXQgZW5kIG9mIGEgc3RyaW5nLCBpdCBtZWFucyB3ZSdyZSBpbiBhbiBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgLy8gcG9zaXRpb24gYW5kIG5lZWQgdG8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUuXG4gICAgICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgICAgIC8vIHRoZSBlbmQgb2YgYSBzdHJpbmcgaW4gYXR0cmlidXRlIG5hbWUgcG9zaXRpb24uXG4gICAgICAgIGxldCBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIGxldCBhdHRyTmFtZTtcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgLy8gVGhlIGNvbmRpdGlvbnMgaW4gdGhpcyBsb29wIGhhbmRsZSB0aGUgY3VycmVudCBwYXJzZSBzdGF0ZSwgYW5kIHRoZVxuICAgICAgICAvLyBhc3NpZ25tZW50cyB0byB0aGUgYHJlZ2V4YCB2YXJpYWJsZSBhcmUgdGhlIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICAgICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgICAgICAgIGlmIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdID09PSAnIS0tJykge1xuICAgICAgICAgICAgICAgICAgICByZWdleCA9IGNvbW1lbnRFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdGFydGVkIGEgd2VpcmQgY29tbWVudCwgbGlrZSA8L3tcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSBjb21tZW50MkVuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3VGV4dEVsZW1lbnQudGVzdChtYXRjaFtUQUdfTkFNRV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgaWYgd2UgZW5jb3VudGVyIGEgcmF3LXRleHQgZWxlbWVudC4gV2UnbGwgc3dpdGNoIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHJlZ2V4IGF0IHRoZSBlbmQgb2YgdGhlIHRhZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1RleHRFbmRSZWdleCA9IG5ldyBSZWdFeHAoYDwvJHttYXRjaFtUQUdfTkFNRV19YCwgJ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtEWU5BTUlDX1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCaW5kaW5ncyBpbiB0YWcgbmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2Ugc3RhdGljIHRlbXBsYXRlcyBpbnN0ZWFkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jc3RhdGljLWV4cHJlc3Npb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gdGFnRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBhIHRhZy4gSWYgd2UgaGFkIHN0YXJ0ZWQgYSByYXctdGV4dCBlbGVtZW50LCB1c2UgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyByZWdleFxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBiZSBlbmRpbmcgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLCBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXIgYW55IHBlbmRpbmcgYXR0ck5hbWVFbmRJbmRleFxuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0FUVFJJQlVURV9OQU1FXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFtTUEFDRVNfQU5EX0VRVUFMU10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbUVVPVEVfQ0hBUl0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoW1FVT1RFX0NIQVJdID09PSAnXCInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IG9uZSBvZiB0aGUgZml2ZSBzdGF0ZSByZWdleGVzLCBzbyBpdCBtdXN0IGJlIHRoZSBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgYXR0ck5hbWVFbmRJbmRleCwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgYXNzZXJ0IHRoYXQgd2UncmUgaW4gYSB2YWxpZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIC0gZWl0aGVyIGluIGEgdGFnLCBvciBhIHF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCwgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgZm91ciBjYXNlczpcbiAgICAgICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgICAgICAvLyAgMi4gV2UgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhdHRyTmFtZUVuZEluZGV4IHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAgICAgLy8gICAgIHBsYWluIG1hcmtlci5cbiAgICAgICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAgICAgLy8gICAgIGdlbmVyYXRlIGEgdW5pcXVlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBtYXJrZXIgZnJvbSB0aGUgdGFnIGVuZDpcbiAgICAgICAgY29uc3QgZW5kID0gcmVnZXggPT09IHRhZ0VuZFJlZ2V4ICYmIHN0cmluZ3NbaSArIDFdLnN0YXJ0c1dpdGgoJy8+JykgPyAnICcgOiAnJztcbiAgICAgICAgaHRtbCArPVxuICAgICAgICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICAgICAgICAgID8gcyArIG5vZGVNYXJrZXJcbiAgICAgICAgICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICAgICA/IChhdHRyTmFtZXMucHVzaChhdHRyTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zbGljZShhdHRyTmFtZUVuZEluZGV4KSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFxuICAgICAgICAgICAgICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgICB9XG4gICAgY29uc3QgaHRtbFJlc3VsdCA9IGh0bWwgK1xuICAgICAgICAoc3RyaW5nc1tsXSB8fCAnPD8+JykgK1xuICAgICAgICAodHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8L3N2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8L21hdGg+JyA6ICcnKTtcbiAgICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gICAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7IHN0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlIH0sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgICAgIGNvbnN0IFtodG1sLCBhdHRyTmFtZXNdID0gZ2V0VGVtcGxhdGVIdG1sKHN0cmluZ3MsIHR5cGUpO1xuICAgICAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAvLyBSZS1wYXJlbnQgU1ZHIG9yIE1hdGhNTCBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICAgICAgaWYgKHR5cGUgPT09IFNWR19SRVNVTFQgfHwgdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgd3JhcHBlci5yZXBsYWNlV2l0aCguLi53cmFwcGVyLmNoaWxkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgICAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWcgPSBub2RlLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2FybiBpZiBgdGV4dGFyZWFgIGluY2x1ZGVzIGFuIGV4cHJlc3Npb24gYW5kIHRocm93IGlmIGB0ZW1wbGF0ZWBcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBzaW5jZSB0aGVzZSBhcmUgbm90IHN1cHBvcnRlZC4gV2UgZG8gdGhpcyBieSBjaGVja2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2VzIGxpa2UgYmluZGluZ3MgaW4gdGV4dGFyZWEgdGhlcmUgbWFya2VycyB0dXJuIGludG8gdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pLnRlc3QodGFnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwuaW5jbHVkZXMobWFya2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IGBFeHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgXFxgJHt0YWd9XFxgIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGluZm9ybWF0aW9uLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygnJywgbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBiaW5kaW5nSW5kZXgsIGFuZCBpdCdsbCBiZSBvZmYgYnkgMSBpbiB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGFuZCBvZmYgYnkgdHdvIGFmdGVyIGl0LlxuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygbm9kZS5nZXRBdHRyaWJ1dGVOYW1lcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aChib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IC8oWy4/QF0pPyguKikvLmV4ZWMocmVhbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBVFRSSUJVVEVfUEFSVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nczogc3RhdGljcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RvcjogbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFByb3BlcnR5UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBFdmVudFBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRUxFTUVOVF9QQVJULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBiZW5jaG1hcmsgdGhlIHJlZ2V4IGFnYWluc3QgdGVzdGluZyBmb3IgZWFjaFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3Qobm9kZS50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgVGVtcGxhdGVQYXJ0IGZvciBlYWNoIG1hcmtlci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IG5vZGUudGV4dENvbnRlbnQuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIGNoaWxkIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcGFzdCB0aGUgbWFya2VyIG5vZGUgd2UganVzdCBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDSElMRF9QQVJULCBpbmRleDogKytub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIGJlY2F1c2UgdGhpcyBtYXJrZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIHdhbGtlcidzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vZGUsIGl0IHdpbGwgYmUgd2Fsa2VkIHRvIGluIHRoZSBvdXRlciBsb29wIChhbmQgaWdub3JlZCksIHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkanVzdCBub2RlSW5kZXggaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tsYXN0SW5kZXhdLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbWFya2VyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENISUxEX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDT01NRU5UX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBkdXBsaWNhdGUgYXR0cmlidXRlIG9uIGEgdGFnLCB0aGVuIHdoZW4gdGhlIHRhZyBpc1xuICAgICAgICAgICAgLy8gcGFyc2VkIGludG8gYW4gZWxlbWVudCB0aGUgYXR0cmlidXRlIGdldHMgZGUtZHVwbGljYXRlZC4gV2UgY2FuIGRldGVjdFxuICAgICAgICAgICAgLy8gdGhpcyBtaXNtYXRjaCBpZiB3ZSBoYXZlbid0IHByZWNpc2VseSBjb25zdW1lZCBldmVyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgLy8gd2hlbiBwcmVwYXJpbmcgdGhlIHRlbXBsYXRlLiBUaGlzIHdvcmtzIGJlY2F1c2UgYGF0dHJOYW1lc2AgaXMgYnVpbHRcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHRlbXBsYXRlIHN0cmluZyBhbmQgYGF0dHJOYW1lSW5kZXhgIGNvbWVzIGZyb20gcHJvY2Vzc2luZyB0aGVcbiAgICAgICAgICAgIC8vIHJlc3VsdGluZyBET00uXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWVzLmxlbmd0aCAhPT0gYXR0ck5hbWVJbmRleCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGV0ZWN0ZWQgZHVwbGljYXRlIGF0dHJpYnV0ZSBiaW5kaW5ncy4gVGhpcyBvY2N1cnMgaWYgeW91ciB0ZW1wbGF0ZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGhhcyBkdXBsaWNhdGUgYXR0cmlidXRlcyBvbiBhbiBlbGVtZW50IHRhZy4gRm9yIGV4YW1wbGUgYCArXG4gICAgICAgICAgICAgICAgICAgIGBcIjxpbnB1dCA/ZGlzYWJsZWQ9XFwke3RydWV9ID9kaXNhYmxlZD1cXCR7ZmFsc2V9PlwiIGNvbnRhaW5zIGEgYCArXG4gICAgICAgICAgICAgICAgICAgIGBkdXBsaWNhdGUgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZS4gVGhlIGVycm9yIHdhcyBkZXRlY3RlZCBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgYHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6IFxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAnYCcgK1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdzLmpvaW4oJyR7Li4ufScpICtcbiAgICAgICAgICAgICAgICAgICAgJ2AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAgICAgLy8gbGVhaywgYnV0IGV2ZXJ5IHRpbWUgd2UgcHJlcGFyZSBhIHRlbXBsYXRlLCB3ZSBpbW1lZGlhdGVseSByZW5kZXIgaXRcbiAgICAgICAgLy8gYW5kIHJlLXVzZSB0aGUgd2Fsa2VyIGluIG5ldyBUZW1wbGF0ZUluc3RhbmNlLl9jbG9uZSgpLlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgcHJlcCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgICAgICAgICBwYXJ0czogdGhpcy5wYXJ0cyxcbiAgICAgICAgICAgICAgICBzdHJpbmdzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGNyZWF0ZUVsZW1lbnQoaHRtbCwgX29wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKHBhcnQsIHZhbHVlLCBwYXJlbnQgPSBwYXJ0LCBhdHRyaWJ1dGVJbmRleCkge1xuICAgIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gICAgLy8gbmVzdGVkIGRpcmVjdGl2ZSBpcyBzdGlsbCBhdHRhY2hlZCBhbmQgaXMgbm90IHJ1bi5cbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPSBhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyZW50Ll9fZGlyZWN0aXZlcz8uW2F0dHJpYnV0ZUluZGV4XVxuICAgICAgICA6IHBhcmVudC5fX2RpcmVjdGl2ZTtcbiAgICBjb25zdCBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPSBpc1ByaW1pdGl2ZSh2YWx1ZSlcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICAgICAgdmFsdWVbJ18kbGl0RGlyZWN0aXZlJCddO1xuICAgIGlmIChjdXJyZW50RGlyZWN0aXZlPy5jb25zdHJ1Y3RvciAhPT0gbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmU/LlsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddPy4oZmFsc2UpO1xuICAgICAgICBpZiAobmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0KTtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAocGFyZW50Ll9fZGlyZWN0aXZlcyA/Pz0gW10pW2F0dHJpYnV0ZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5fX2RpcmVjdGl2ZSA9IGN1cnJlbnREaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUocGFydCwgY3VycmVudERpcmVjdGl2ZS5fJHJlc29sdmUocGFydCwgdmFsdWUudmFsdWVzKSwgY3VycmVudERpcmVjdGl2ZSwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgaW5zdGFuY2Ugb2YgYSBUZW1wbGF0ZS4gSG9sZHMgcmVmZXJlbmNlcyB0byB0aGUgUGFydHMgdXNlZCB0b1xuICogdXBkYXRlIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHBhcmVudCkge1xuICAgICAgICB0aGlzLl8kcGFydHMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHdlIG5lZWQgdG8gcmV0dXJuIGFcbiAgICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICAgIF9jbG9uZShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgZWw6IHsgY29udGVudCB9LCBwYXJ0czogcGFydHMsIH0gPSB0aGlzLl8kdGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gKG9wdGlvbnM/LmNyZWF0aW9uU2NvcGUgPz8gZCkuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRlbXBsYXRlUGFydCA9IHBhcnRzWzBdO1xuICAgICAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0O1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQ0hJTERfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChub2RlLCBub2RlLm5leHRTaWJsaW5nLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEFUVFJJQlVURV9QQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgdGVtcGxhdGVQYXJ0LmN0b3Iobm9kZSwgdGVtcGxhdGVQYXJ0Lm5hbWUsIHRlbXBsYXRlUGFydC5zdHJpbmdzLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IEVsZW1lbnRQYXJ0KG5vZGUsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl8kcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1srK3BhcnRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUluZGV4ICE9PSB0ZW1wbGF0ZVBhcnQ/LmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBjdXJyZW50Tm9kZSBhd2F5IGZyb20gdGhlIGNsb25lZCB0cmVlIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gZG9uJ3QgaG9sZCBvbnRvIHRoZSB0cmVlIGV2ZW4gaWYgdGhlIHRyZWUgaXMgZGV0YWNoZWQgYW5kIHNob3VsZCBiZVxuICAgICAgICAvLyBmcmVlZC5cbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZDtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbiAgICBfdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl8kcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ3NldCBwYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgdGhlIHBhcnQgY29uc3VtZXMgaXMgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIGxhdGVyIGluIHRoZSBsb29wLCBzbyBpbmNyZW1lbnQgaXQgYnkgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDIgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpICs9IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQ2hpbGRQYXJ0IHtcbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIC8vIENoaWxkUGFydHMgdGhhdCBhcmUgbm90IGF0IHRoZSByb290IHNob3VsZCBhbHdheXMgYmUgY3JlYXRlZCB3aXRoIGFcbiAgICAgICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Py5fJGlzQ29ubmVjdGVkID8/IHRoaXMuX19pc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc3RhcnROb2RlLCBlbmROb2RlLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gQ0hJTERfUEFSVDtcbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBiZSBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyB3aGVuIHJlcXVpcmVkIGJ5XG4gICAgICAgIC8vIEFzeW5jRGlyZWN0aXZlXG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuXyRzdGFydE5vZGUgPSBzdGFydE5vZGU7XG4gICAgICAgIHRoaXMuXyRlbmROb2RlID0gZW5kTm9kZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLy8gTm90ZSBfX2lzQ29ubmVjdGVkIGlzIG9ubHkgZXZlciBhY2Nlc3NlZCBvbiBSb290UGFydHMgKGkuZS4gd2hlbiB0aGVyZSBpc1xuICAgICAgICAvLyBubyBfJHBhcmVudCk7IHRoZSB2YWx1ZSBvbiBhIG5vbi1yb290LXBhcnQgaXMgXCJkb24ndCBjYXJlXCIsIGJ1dCBjaGVja2luZ1xuICAgICAgICAvLyBmb3IgcGFyZW50IHdvdWxkIGJlIG1vcmUgY29kZVxuICAgICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBvcHRpb25zPy5pc0Nvbm5lY3RlZCA/PyB0cnVlO1xuICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGluaXRpYWxpemUgZm9yIGNvbnNpc3RlbnQgY2xhc3Mgc2hhcGUuXG4gICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBBIENoaWxkUGFydCdzIGNvbnRlbnQgY29uc2lzdHMgb2YgYSByYW5nZSBvZiBhZGphY2VudCBjaGlsZCBub2RlcyBvZlxuICAgICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAgICogYC5lbmROb2RlYCkuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICAgKiBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgYmV0d2VlbiBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAsIGV4Y2x1c2l2ZWx5LlxuICAgICAqXG4gICAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAgICogY29udGVudCBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgZm9sbG93aW5nIGAuc3RhcnROb2RlYCwgdXAgdG8gYW5kXG4gICAgICogaW5jbHVkaW5nIHRoZSBsYXN0IGNoaWxkIG9mIGAucGFyZW50Tm9kZWAuIElmIGAuZW5kTm9kZWAgaXMgbm9uLW51bGwsIHRoZW5cbiAgICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5lbmROb2RlYCBhbmQgYC5zdGFydE5vZGVgIGFyZSBudWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgICAqL1xuICAgIGdldCBwYXJlbnROb2RlKCkge1xuICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fJHBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBwYXJlbnROb2RlPy5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmVudE5vZGUgaXMgYSBEb2N1bWVudEZyYWdtZW50LCBpdCBtYXkgYmUgYmVjYXVzZSB0aGUgRE9NIGlzXG4gICAgICAgICAgICAvLyBzdGlsbCBpbiB0aGUgY2xvbmVkIGZyYWdtZW50IGR1cmluZyBpbml0aWFsIHJlbmRlcjsgaWYgc28sIGdldCB0aGUgcmVhbFxuICAgICAgICAgICAgLy8gcGFyZW50Tm9kZSB0aGUgcGFydCB3aWxsIGJlIGNvbW1pdHRlZCBpbnRvIGJ5IGFza2luZyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhcnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnQncyB0cmFpbGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgICAqIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVuZE5vZGU7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGlzIFxcYENoaWxkUGFydFxcYCBoYXMgbm8gXFxgcGFyZW50Tm9kZVxcYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBhY2NlcHQgYSB2YWx1ZS4gVGhpcyBsaWtlbHkgbWVhbnMgdGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFydCB3YXMgbWFuaXB1bGF0ZWQgaW4gYW4gdW5zdXBwb3J0ZWQgd2F5IG91dHNpZGUgb2YgTGl0J3MgY29udHJvbCBzdWNoIHRoYXQgdGhlIHBhcnQncyBtYXJrZXIgbm9kZXMgd2VyZSBlamVjdGVkIGZyb20gRE9NLiBGb3IgZXhhbXBsZSwgc2V0dGluZyB0aGUgZWxlbWVudCdzIFxcYGlubmVySFRNTFxcYCBvciBcXGB0ZXh0Q29udGVudFxcYCBjYW4gZG8gdGhpcy5gKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCk7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgICAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBub3RoaW5nIHRvIGNoaWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuXyRlbmROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZVsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoREVWX01PREUgJiYgdGhpcy5vcHRpb25zPy5ob3N0ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQoYFtwcm9iYWJsZSBtaXN0YWtlOiByZW5kZXJlZCBhIHRlbXBsYXRlJ3MgaG9zdCBpbiBpdHNlbGYgYCArXG4gICAgICAgICAgICAgICAgICAgIGAoY29tbW9ubHkgY2F1c2VkIGJ5IHdyaXRpbmcgXFwke3RoaXN9IGluIGEgdGVtcGxhdGVdYCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ZWQgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSBob3N0YCwgdmFsdWUsIGBpbnNpZGUgaXRzZWxmLiBUaGlzIGlzIGFsbW9zdCBhbHdheXMgYSBtaXN0YWtlLCBhbmQgaW4gZGV2IG1vZGUgYCwgYHdlIHJlbmRlciBzb21lIHdhcm5pbmcgdGV4dC4gSW4gcHJvZHVjdGlvbiBob3dldmVyLCB3ZSdsbCBgLCBgcmVuZGVyIGl0LCB3aGljaCB3aWxsIHVzdWFsbHkgcmVzdWx0IGluIGFuIGVycm9yLCBhbmQgc29tZXRpbWVzIGAsIGBpbiB0aGUgZWxlbWVudCBkaXNhcHBlYXJpbmcgZnJvbSB0aGUgRE9NLmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2luc2VydChub2RlKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuXyRlbmROb2RlKTtcbiAgICB9XG4gICAgX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyAmJlxuICAgICAgICAgICAgICAgIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGVOYW1lID0gdGhpcy5fJHN0YXJ0Tm9kZS5wYXJlbnROb2RlPy5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScgfHwgcGFyZW50Tm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJ0ZvcmJpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBleGZpbHRyYXRlIGRhdGEgYW5kIHNwb29mIFVJcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBkbyBkeW5hbWljIHN0eWxpbmcgd2l0aCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIDo6cGFydHMsIDxzbG90PnMsIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuZCBieSBtdXRhdGluZyB0aGUgRE9NIHJhdGhlciB0aGFuIHN0eWxlc2hlZXRzLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHNjcmlwdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIGl0IGNvdWxkIGFsbG93IGFyYml0cmFyeSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjb2RlIGV4ZWN1dGlvbi5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm9kZScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdGhpcy5faW5zZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICAvLyBJZiB0aGUgY29tbWl0dGVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlIGl0IG1lYW5zIHdlIGNhbGxlZCBfY29tbWl0VGV4dCBvblxuICAgICAgICAvLyB0aGUgcHJldmlvdXMgcmVuZGVyLCBhbmQgd2Uga25vdyB0aGF0IHRoaXMuXyRzdGFydE5vZGUubmV4dFNpYmxpbmcgaXMgYVxuICAgICAgICAvLyBUZXh0IG5vZGUuIFdlIGNhbiBub3cganVzdCByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgKC5kYXRhKSBvZiB0aGUgbm9kZS5cbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZyAmJlxuICAgICAgICAgICAgaXNQcmltaXRpdmUodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKG5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gc2V0dGluZyB0ZXh0IGNvbnRlbnQsIGZvciBzZWN1cml0eSBwdXJwb3NlcyBpdCBtYXR0ZXJzIGEgbG90XG4gICAgICAgICAgICAgICAgLy8gd2hhdCB0aGUgcGFyZW50IGlzLiBGb3IgZXhhbXBsZSwgPHN0eWxlPiBhbmQgPHNjcmlwdD4gbmVlZCB0byBiZVxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZWQgd2l0aCBjYXJlLCB3aGlsZSA8c3Bhbj4gZG9lcyBub3QuIFNvIGZpcnN0IHdlIG5lZWQgdG8gcHV0IGFcbiAgICAgICAgICAgICAgICAvLyB0ZXh0IG5vZGUgaW50byB0aGUgZG9jdW1lbnQsIHRoZW4gd2UgY2FuIHNhbml0aXplIGl0cyBjb250ZW50LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcih0ZXh0Tm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICBjb25zdCB7IHZhbHVlcywgWydfJGxpdFR5cGUkJ106IHR5cGUgfSA9IHJlc3VsdDtcbiAgICAgICAgLy8gSWYgJGxpdFR5cGUkIGlzIGEgbnVtYmVyLCByZXN1bHQgaXMgYSBwbGFpbiBUZW1wbGF0ZVJlc3VsdCBhbmQgd2UgZ2V0XG4gICAgICAgIC8vIHRoZSB0ZW1wbGF0ZSBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZS4gSWYgbm90LCByZXN1bHQgaXMgYVxuICAgICAgICAvLyBDb21waWxlZFRlbXBsYXRlUmVzdWx0IGFuZCBfJGxpdFR5cGUkIGlzIGEgQ29tcGlsZWRUZW1wbGF0ZSBhbmQgd2UgbmVlZFxuICAgICAgICAvLyB0byBjcmVhdGUgdGhlIDx0ZW1wbGF0ZT4gZWxlbWVudCB0aGUgZmlyc3QgdGltZSB3ZSBzZWUgaXQuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdHlwZW9mIHR5cGUgPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IHRoaXMuXyRnZXRUZW1wbGF0ZShyZXN1bHQpXG4gICAgICAgICAgICA6ICh0eXBlLmVsID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAodHlwZS5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQodHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcodHlwZS5oLCB0eXBlLmhbMF0pLCB0aGlzLm9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgICB0eXBlKTtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZT8uXyR0ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ3RlbXBsYXRlIHVwZGF0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJGdldFRlbXBsYXRlKHJlc3VsdCkge1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUNhY2hlLnNldChyZXN1bHQuc3RyaW5ncywgKHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIF9jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgICAgICAvLyBpdGVyYWJsZSBhbmQgdmFsdWUgd2lsbCBjb250YWluIHRoZSBDaGlsZFBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlbmRlci4gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIENoaWxkUGFydHMuXG4gICAgICAgIGlmICghaXNBcnJheSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgICAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiB0ZXN0IHBlcmYgaW1wYWN0IG9mIGFsd2F5cyBjcmVhdGluZyB0d28gcGFydHNcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHNoYXJpbmcgcGFydHMgYmV0d2VlbiBub2Rlc1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy8xMjY2XG4gICAgICAgICAgICAgICAgaXRlbVBhcnRzLnB1c2goKGl0ZW1QYXJ0ID0gbmV3IENoaWxkUGFydCh0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLCB0aGlzLm9wdGlvbnMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0Ll8kc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaXRlbVBhcnRzIGFsd2F5cyBoYXZlIGVuZCBub2Rlc1xuICAgICAgICAgICAgdGhpcy5fJGNsZWFyKGl0ZW1QYXJ0ICYmIHdyYXAoaXRlbVBhcnQuXyRlbmROb2RlKS5uZXh0U2libGluZywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbm9kZXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBhcnQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0IG5vZGUgdG8gY2xlYXIgZnJvbSwgZm9yIGNsZWFyaW5nIGEgc3Vic2V0IG9mIHRoZSBwYXJ0J3NcbiAgICAgKiAgICAgRE9NICh1c2VkIHdoZW4gdHJ1bmNhdGluZyBpdGVyYWJsZXMpXG4gICAgICogQHBhcmFtIGZyb20gIFdoZW4gYHN0YXJ0YCBpcyBzcGVjaWZpZWQsIHRoZSBpbmRleCB3aXRoaW4gdGhlIGl0ZXJhYmxlIGZyb21cbiAgICAgKiAgICAgd2hpY2ggQ2hpbGRQYXJ0cyBhcmUgYmVpbmcgcmVtb3ZlZCwgdXNlZCBmb3IgZGlzY29ubmVjdGluZyBkaXJlY3RpdmVzXG4gICAgICogICAgIGluIHRob3NlIFBhcnRzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRjbGVhcihzdGFydCA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcsIGZyb20pIHtcbiAgICAgICAgdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPy4oZmFsc2UsIHRydWUsIGZyb20pO1xuICAgICAgICB3aGlsZSAoc3RhcnQgIT09IHRoaXMuXyRlbmROb2RlKSB7XG4gICAgICAgICAgICAvLyBUaGUgbm9uLW51bGwgYXNzZXJ0aW9uIGlzIHNhZmUgYmVjYXVzZSBpZiBfJHN0YXJ0Tm9kZS5uZXh0U2libGluZyBpc1xuICAgICAgICAgICAgLy8gbnVsbCwgdGhlbiBfJGVuZE5vZGUgaXMgYWxzbyBudWxsLCBhbmQgd2Ugd291bGQgbm90IGhhdmUgZW50ZXJlZCB0aGlzXG4gICAgICAgICAgICAvLyBsb29wLlxuICAgICAgICAgICAgY29uc3QgbiA9IHdyYXAoc3RhcnQpLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgd3JhcChzdGFydCkucmVtb3ZlKCk7XG4gICAgICAgICAgICBzdGFydCA9IG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50YXRpb24gb2YgUm9vdFBhcnQncyBgaXNDb25uZWN0ZWRgLiBOb3RlIHRoYXQgdGhpcyBtZXRob2RcbiAgICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYFJvb3RQYXJ0YHMgKHRoZSBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGFcbiAgICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIHRvIHNldFxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldENvbm5lY3RlZChpc0Nvbm5lY3RlZCkge1xuICAgICAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgICAgICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGlzQ29ubmVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgZ2V0IHRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gQVRUUklCVVRFX1BBUlQ7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoID4gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3IEFycmF5KHN0cmluZ3MubGVuZ3RoIC0gMSkuZmlsbChuZXcgU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoaXMgcGFydCBieSByZXNvbHZpbmcgdGhlIHZhbHVlIGZyb20gcG9zc2libHkgbXVsdGlwbGVcbiAgICAgKiB2YWx1ZXMgYW5kIHN0YXRpYyBzdHJpbmdzIGFuZCBjb21taXR0aW5nIGl0IHRvIHRoZSBET00uXG4gICAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgICAqIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIHZhbHVlIGFyZ3VtZW50LiBJZiB0aGlzIHBhcnQgaXNcbiAgICAgKiBtdWx0aS12YWx1ZSwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgZGVmaW5lZCwgYW5kIHRoZSBtZXRob2QgaXMgY2FsbGVkXG4gICAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgICAqIGludG8gdGhlIHZhbHVlIGFycmF5IGZyb20gd2hpY2ggdGhlIHZhbHVlcyBzaG91bGQgYmUgcmVhZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBvdmVybG9hZGVkIHRoaXMgd2F5IHRvIGVsaW1pbmF0ZSBzaG9ydC1saXZlZCBhcnJheSBzbGljZXNcbiAgICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICAgKiBwYXJ0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICAgKiBAcGFyYW0gdmFsdWVJbmRleCB0aGUgaW5kZXggdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgZnJvbS4gYHVuZGVmaW5lZGAgZm9yXG4gICAgICogICBzaW5nbGUtdmFsdWVkIHBhcnRzXG4gICAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAgICogICBpbiBoeWRyYXRpb24gdG8gcHJpbWUgYXR0cmlidXRlIHBhcnRzIHdpdGggdGhlaXIgZmlyc3QtcmVuZGVyZWQgdmFsdWUsXG4gICAgICogICBidXQgbm90IHNldCB0aGUgYXR0cmlidXRlLCBhbmQgaW4gU1NSIHRvIG5vLW9wIHRoZSBET00gb3BlcmF0aW9uIGFuZFxuICAgICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfJHNldFZhbHVlKHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzLCB2YWx1ZUluZGV4LCBub0NvbW1pdCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICAvLyBXaGV0aGVyIGFueSBvZiB0aGUgdmFsdWVzIGhhcyBjaGFuZ2VkLCBmb3IgZGlydHktY2hlY2tpbmdcbiAgICAgICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RyaW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBTaW5nbGUtdmFsdWUgYmluZGluZyBjYXNlXG4gICAgICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCwgMCk7XG4gICAgICAgICAgICBjaGFuZ2UgPVxuICAgICAgICAgICAgICAgICFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRpb24gY2FzZVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cmluZ3NbMF07XG4gICAgICAgICAgICBsZXQgaSwgdjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHYgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlc1t2YWx1ZUluZGV4ICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyLXByb3ZpZGVkIHZhbHVlIGlzIGBub0NoYW5nZWAsIHVzZSB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlIHx8PVxuICAgICAgICAgICAgICAgICAgICAhaXNQcmltaXRpdmUodikgfHwgdiAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlW2ldO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gKHYgPz8gJycpICsgc3RyaW5nc1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV0gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKHRoaXMuZWxlbWVudCwgdGhpcy5uYW1lLCAnYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlID8/ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAodmFsdWUgPz8gJycpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2NvbW1pdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCh0aGlzLmVsZW1lbnQsIHRoaXMubmFtZSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBwcm9wZXJ0eScsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbn1cbmNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfY29tbWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkudG9nZ2xlQXR0cmlidXRlKHRoaXMubmFtZSwgISF2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZyk7XG4gICAgfVxufVxuY2xhc3MgRXZlbnRQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEVWRU5UX1BBUlQ7XG4gICAgICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIFxcYDwke2VsZW1lbnQubG9jYWxOYW1lfT5cXGAgaGFzIGEgXFxgQCR7bmFtZX09Li4uXFxgIGxpc3RlbmVyIHdpdGggYCArXG4gICAgICAgICAgICAgICAgJ2ludmFsaWQgY29udGVudC4gRXZlbnQgbGlzdGVuZXJzIGluIHRlbXBsYXRlcyBtdXN0IGhhdmUgZXhhY3RseSAnICtcbiAgICAgICAgICAgICAgICAnb25lIGV4cHJlc3Npb24gYW5kIG5vIHN1cnJvdW5kaW5nIHRleHQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRXZlbnRQYXJ0IGRvZXMgbm90IHVzZSB0aGUgYmFzZSBfJHNldFZhbHVlL19yZXNvbHZlVmFsdWUgaW1wbGVtZW50YXRpb25cbiAgICAvLyBzaW5jZSB0aGUgZGlydHkgY2hlY2tpbmcgaXMgbW9yZSBjb21wbGV4XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kc2V0VmFsdWUobmV3TGlzdGVuZXIsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgbmV3TGlzdGVuZXIgPVxuICAgICAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSA/PyBub3RoaW5nO1xuICAgICAgICBpZiAobmV3TGlzdGVuZXIgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWU7XG4gICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90aGluZyBvciBhbnkgb3B0aW9ucyBjaGFuZ2Ugd2UgaGF2ZSB0byByZW1vdmUgdGhlXG4gICAgICAgIC8vIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSAobmV3TGlzdGVuZXIgPT09IG5vdGhpbmcgJiYgb2xkTGlzdGVuZXIgIT09IG5vdGhpbmcpIHx8XG4gICAgICAgICAgICBuZXdMaXN0ZW5lci5jYXB0dXJlICE9PVxuICAgICAgICAgICAgICAgIG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09XG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT1cbiAgICAgICAgICAgICAgICBvbGRMaXN0ZW5lci5wYXNzaXZlO1xuICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdCBub3RoaW5nIGFuZCB3ZSByZW1vdmVkIHRoZSBsaXN0ZW5lciwgd2UgaGF2ZVxuICAgICAgICAvLyB0byBhZGQgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICAgICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciAhPT0gbm90aGluZyAmJlxuICAgICAgICAgICAgKG9sZExpc3RlbmVyID09PSBub3RoaW5nIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcicsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcjogc2hvdWxkQWRkTGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIHRoaXMsIG9sZExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMubmFtZSwgdGhpcywgbmV3TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEVsZW1lbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy50eXBlID0gRUxFTUVOVF9QQVJUO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEggb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtZWxlbWVudCwgd2hpY2ggcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEggPSB7XG4gICAgLy8gVXNlZCBpbiBsaXQtc3NyXG4gICAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgICBfbWFya2VyOiBtYXJrZXIsXG4gICAgX21hcmtlck1hdGNoOiBtYXJrZXJNYXRjaCxcbiAgICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICAgIF9nZXRUZW1wbGF0ZUh0bWw6IGdldFRlbXBsYXRlSHRtbCxcbiAgICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gICAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gICAgX2lzSXRlcmFibGU6IGlzSXRlcmFibGUsXG4gICAgX3Jlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gICAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICAgIF9BdHRyaWJ1dGVQYXJ0OiBBdHRyaWJ1dGVQYXJ0LFxuICAgIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gICAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICAgIF9Qcm9wZXJ0eVBhcnQ6IFByb3BlcnR5UGFydCxcbiAgICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IERFVl9NT0RFXG4gICAgPyBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgICA6IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oVGVtcGxhdGUsIENoaWxkUGFydCk7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMgPz89IFtdKS5wdXNoKCczLjMuMScpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBgICtcbiAgICAgICAgICAgIGBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVuZGVycyBhIHZhbHVlLCB1c3VhbGx5IGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQsIHRvIHRoZSBjb250YWluZXIuXG4gKlxuICogVGhpcyBleGFtcGxlIHJlbmRlcnMgdGhlIHRleHQgXCJIZWxsbywgWm9lIVwiIGluc2lkZSBhIHBhcmFncmFwaCB0YWcsIGFwcGVuZGluZ1xuICogaXQgdG8gdGhlIGNvbnRhaW5lciBgZG9jdW1lbnQuYm9keWAuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQnO1xuICpcbiAqIGNvbnN0IG5hbWUgPSBcIlpvZVwiO1xuICogcmVuZGVyKGh0bWxgPHA+SGVsbG8sICR7bmFtZX0hPC9wPmAsIGRvY3VtZW50LmJvZHkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIEFueSBbcmVuZGVyYWJsZVxuICogICB2YWx1ZV0oaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNjaGlsZC1leHByZXNzaW9ucyksXG4gKiAgIHR5cGljYWxseSBhIHtAbGlua2NvZGUgVGVtcGxhdGVSZXN1bHR9IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZ1xuICogICBsaWtlIHtAbGlua2NvZGUgaHRtbH0gb3Ige0BsaW5rY29kZSBzdmd9LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBjb250YWluZXIgdG8gcmVuZGVyIHRvLiBUaGUgZmlyc3QgcmVuZGVyIHdpbGwgYXBwZW5kXG4gKiAgIHRoZSByZW5kZXJlZCB2YWx1ZSB0byB0aGUgY29udGFpbmVyLCBhbmQgc3Vic2VxdWVudCByZW5kZXJzIHdpbGxcbiAqICAgZWZmaWNpZW50bHkgdXBkYXRlIHRoZSByZW5kZXJlZCB2YWx1ZSBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXNcbiAqICAgcHJldmlvdXNseSByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFNlZSB7QGxpbmtjb2RlIFJlbmRlck9wdGlvbnN9IGZvciBvcHRpb25zIGRvY3VtZW50YXRpb24uXG4gKiBAc2VlXG4gKiB7QGxpbmsgaHR0cHM6Ly9saXQuZGV2L2RvY3MvbGlicmFyaWVzL3N0YW5kYWxvbmUtdGVtcGxhdGVzLyNyZW5kZXJpbmctbGl0LWh0bWwtdGVtcGxhdGVzfCBSZW5kZXJpbmcgTGl0IEhUTUwgVGVtcGxhdGVzfVxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHZhbHVlLCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoREVWX01PREUgJiYgY29udGFpbmVyID09IG51bGwpIHtcbiAgICAgICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgICAgIC8vICAgICBVbmNhdWdodCBUeXBlRXJyb3I6IENhbm5vdCByZWFkIHByb3BlcnRpZXMgb2YgbnVsbCAocmVhZGluZ1xuICAgICAgICAvLyAgICAgJ18kbGl0UGFydCQnKVxuICAgICAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGNvbnRhaW5lciB0byByZW5kZXIgaW50byBtYXkgbm90IGJlICR7Y29udGFpbmVyfWApO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJJZCA9IERFVl9NT0RFID8gZGVidWdMb2dSZW5kZXJJZCsrIDogMDtcbiAgICBjb25zdCBwYXJ0T3duZXJOb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IGNvbnRhaW5lcjtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHBhcnQgPSBwYXJ0T3duZXJOb2RlWydfJGxpdFBhcnQkJ107XG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInLFxuICAgICAgICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgfSk7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbmROb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IG51bGw7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHBhcnRPd25lck5vZGVbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIGVuZE5vZGUpLCBlbmROb2RlLCB1bmRlZmluZWQsIG9wdGlvbnMgPz8ge30pO1xuICAgIH1cbiAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWUpO1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnZW5kIHJlbmRlcicsXG4gICAgICAgICAgICBpZDogcmVuZGVySWQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICB9KTtcbiAgICByZXR1cm4gcGFydDtcbn07XG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgcmVuZGVyLnNldFNhbml0aXplciA9IHNldFNhbml0aXplcjtcbiAgICByZW5kZXIuY3JlYXRlU2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICByZW5kZXIuX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID1cbiAgICAgICAgICAgIF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lit-html/development/lit-html.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lit/index.js":
/*!***********************************!*\
  !*** ./node_modules/lit/index.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.CSSResult),\n/* harmony export */   LitElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.ReactiveElement),\n/* harmony export */   _$LE: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.html),\n/* harmony export */   isServer: () => (/* reexport safe */ lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__.isServer),\n/* harmony export */   mathml: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.mathml),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(app-pages-browser)/./node_modules/@lit/reactive-element/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(app-pages-browser)/./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-element/lit-element.js */ \"(app-pages-browser)/./node_modules/lit-element/development/lit-element.js\");\n/* harmony import */ var lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/is-server.js */ \"(app-pages-browser)/./node_modules/lit-html/development/is-server.js\");\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9saXQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEg7QUFDMUgiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvbGl0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7aW1wb3J0XCJsaXQtaHRtbFwiO2V4cG9ydCpmcm9tXCJsaXQtZWxlbWVudC9saXQtZWxlbWVudC5qc1wiO2V4cG9ydCpmcm9tXCJsaXQtaHRtbC9pcy1zZXJ2ZXIuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lit/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/proxy-compare/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/proxy-compare/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   affectedToPathList: () => (/* binding */ affectedToPathList),\n/* harmony export */   createProxy: () => (/* binding */ createProxy),\n/* harmony export */   getUntracked: () => (/* binding */ getUntracked),\n/* harmony export */   isChanged: () => (/* binding */ isChanged),\n/* harmony export */   markToTrack: () => (/* binding */ markToTrack),\n/* harmony export */   replaceNewProxy: () => (/* binding */ replaceNewProxy),\n/* harmony export */   trackMemo: () => (/* binding */ trackMemo)\n/* harmony export */ });\n/* eslint @typescript-eslint/no-explicit-any: off */\n// symbols\nconst TRACK_MEMO_SYMBOL = Symbol();\nconst GET_ORIGINAL_SYMBOL = Symbol();\n// properties\nconst AFFECTED_PROPERTY = 'a';\nconst IS_TARGET_COPIED_PROPERTY = 'f';\nconst PROXY_PROPERTY = 'p';\nconst PROXY_CACHE_PROPERTY = 'c';\nconst TARGET_CACHE_PROPERTY = 't';\nconst HAS_KEY_PROPERTY = 'h';\nconst ALL_OWN_KEYS_PROPERTY = 'w';\nconst HAS_OWN_KEY_PROPERTY = 'o';\nconst KEYS_PROPERTY = 'k';\n// function to create a new bare proxy\nlet newProxy = (target, handler) => new Proxy(target, handler);\n// get object prototype\nconst getProto = Object.getPrototypeOf;\nconst objectsToTrack = new WeakMap();\n// check if obj is a plain object or an array\nconst isObjectToTrack = (obj) => obj &&\n    (objectsToTrack.has(obj)\n        ? objectsToTrack.get(obj)\n        : getProto(obj) === Object.prototype || getProto(obj) === Array.prototype);\n// check if it is object\nconst isObject = (x) => typeof x === 'object' && x !== null;\n// Properties that are both non-configurable and non-writable will break\n// the proxy get trap when we try to return a recursive/child compare proxy\n// from them. We can avoid this by making a copy of the target object with\n// all descriptors marked as configurable, see `copyTargetObject`.\n// See: https://github.com/dai-shi/proxy-compare/pull/8\nconst needsToCopyTargetObject = (obj) => Object.values(Object.getOwnPropertyDescriptors(obj)).some((descriptor) => !descriptor.configurable && !descriptor.writable);\n// Make a copy with all descriptors marked as configurable.\nconst copyTargetObject = (obj) => {\n    if (Array.isArray(obj)) {\n        // Arrays need a special way to copy\n        return Array.from(obj);\n    }\n    // For non-array objects, we create a new object keeping the prototype\n    // with changing all configurable options (otherwise, proxies will complain)\n    const descriptors = Object.getOwnPropertyDescriptors(obj);\n    Object.values(descriptors).forEach((desc) => {\n        desc.configurable = true;\n    });\n    return Object.create(getProto(obj), descriptors);\n};\nconst createProxyHandler = (origObj, isTargetCopied) => {\n    const state = {\n        [IS_TARGET_COPIED_PROPERTY]: isTargetCopied,\n    };\n    let trackObject = false; // for trackMemo\n    const recordUsage = (type, key) => {\n        if (!trackObject) {\n            let used = state[AFFECTED_PROPERTY].get(origObj);\n            if (!used) {\n                used = {};\n                state[AFFECTED_PROPERTY].set(origObj, used);\n            }\n            if (type === ALL_OWN_KEYS_PROPERTY) {\n                used[ALL_OWN_KEYS_PROPERTY] = true;\n            }\n            else {\n                let set = used[type];\n                if (!set) {\n                    set = new Set();\n                    used[type] = set;\n                }\n                set.add(key);\n            }\n        }\n    };\n    const recordObjectAsUsed = () => {\n        trackObject = true;\n        state[AFFECTED_PROPERTY].delete(origObj);\n    };\n    const handler = {\n        get(target, key) {\n            if (key === GET_ORIGINAL_SYMBOL) {\n                return origObj;\n            }\n            recordUsage(KEYS_PROPERTY, key);\n            return createProxy(Reflect.get(target, key), state[AFFECTED_PROPERTY], state[PROXY_CACHE_PROPERTY], state[TARGET_CACHE_PROPERTY]);\n        },\n        has(target, key) {\n            if (key === TRACK_MEMO_SYMBOL) {\n                recordObjectAsUsed();\n                return true;\n            }\n            recordUsage(HAS_KEY_PROPERTY, key);\n            return Reflect.has(target, key);\n        },\n        getOwnPropertyDescriptor(target, key) {\n            recordUsage(HAS_OWN_KEY_PROPERTY, key);\n            return Reflect.getOwnPropertyDescriptor(target, key);\n        },\n        ownKeys(target) {\n            recordUsage(ALL_OWN_KEYS_PROPERTY);\n            return Reflect.ownKeys(target);\n        },\n    };\n    if (isTargetCopied) {\n        handler.set = handler.deleteProperty = () => false;\n    }\n    return [handler, state];\n};\nconst getOriginalObject = (obj) => \n// unwrap proxy\nobj[GET_ORIGINAL_SYMBOL] ||\n    // otherwise\n    obj;\n/**\n * Create a proxy.\n *\n * This function will create a proxy at top level and proxy nested objects as you access them,\n * in order to keep track of which properties were accessed via get/has proxy handlers:\n *\n * NOTE: Printing of WeakMap is hard to inspect and not very readable\n * for this purpose you can use the `affectedToPathList` helper.\n *\n * @param {object} obj - Object that will be wrapped on the proxy.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that will hold the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [proxyCache] -\n * WeakMap that will help keep referential identity for proxies.\n * @returns {Proxy<object>} - Object wrapped in a proxy.\n *\n * @example\n * import { createProxy } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n * const proxy = createProxy(original, affected);\n *\n * proxy.a // Will mark as used and track its value.\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"a\"\n *\n * proxy.d // Will mark \"d\" as accessed to track and proxy itself ({ e: \"3\" }).\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"d\"\n */\nconst createProxy = (obj, affected, proxyCache, targetCache) => {\n    if (!isObjectToTrack(obj))\n        return obj;\n    let targetAndCopied = targetCache && targetCache.get(obj);\n    if (!targetAndCopied) {\n        const target = getOriginalObject(obj);\n        if (needsToCopyTargetObject(target)) {\n            targetAndCopied = [target, copyTargetObject(target)];\n        }\n        else {\n            targetAndCopied = [target];\n        }\n        targetCache === null || targetCache === void 0 ? void 0 : targetCache.set(obj, targetAndCopied);\n    }\n    const [target, copiedTarget] = targetAndCopied;\n    let handlerAndState = proxyCache && proxyCache.get(target);\n    if (!handlerAndState ||\n        handlerAndState[1][IS_TARGET_COPIED_PROPERTY] !== !!copiedTarget) {\n        handlerAndState = createProxyHandler(target, !!copiedTarget);\n        handlerAndState[1][PROXY_PROPERTY] = newProxy(copiedTarget || target, handlerAndState[0]);\n        if (proxyCache) {\n            proxyCache.set(target, handlerAndState);\n        }\n    }\n    handlerAndState[1][AFFECTED_PROPERTY] = affected;\n    handlerAndState[1][PROXY_CACHE_PROPERTY] = proxyCache;\n    handlerAndState[1][TARGET_CACHE_PROPERTY] = targetCache;\n    return handlerAndState[1][PROXY_PROPERTY];\n};\nconst isAllOwnKeysChanged = (prevObj, nextObj) => {\n    const prevKeys = Reflect.ownKeys(prevObj);\n    const nextKeys = Reflect.ownKeys(nextObj);\n    return (prevKeys.length !== nextKeys.length ||\n        prevKeys.some((k, i) => k !== nextKeys[i]));\n};\n/**\n * Compare changes on objects.\n *\n * This will compare the affected properties on tracked objects inside the proxy\n * to check if there were any changes made to it,\n * by default if no property was accessed on the proxy it will attempt to do a\n * reference equality check for the objects provided (Object.is(a, b)). If you access a property\n * on the proxy, then isChanged will only compare the affected properties.\n *\n * @param {object} prevObj - The previous object to compare.\n * @param {object} nextObj - Object to compare with the previous one.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that holds the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [cache] -\n * WeakMap that holds a cache of the comparisons for better performance with repetitive comparisons,\n * and to avoid infinite loop with circular structures.\n * @returns {boolean} - Boolean indicating if the affected property on the object has changed.\n *\n * @example\n * import { createProxy, isChanged } from 'proxy-compare';\n *\n * const obj = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(obj, affected);\n *\n * proxy.a\n *\n * isChanged(obj, { a: \"1\" }, affected) // false\n *\n * proxy.a = \"2\"\n *\n * isChanged(obj, { a: \"1\" }, affected) // true\n */\nconst isChanged = (prevObj, nextObj, affected, cache, // for object with cycles\nisEqual = Object.is) => {\n    if (isEqual(prevObj, nextObj)) {\n        return false;\n    }\n    if (!isObject(prevObj) || !isObject(nextObj))\n        return true;\n    const used = affected.get(getOriginalObject(prevObj));\n    if (!used)\n        return true;\n    if (cache) {\n        const hit = cache.get(prevObj);\n        if (hit === nextObj) {\n            return false;\n        }\n        // for object with cycles\n        cache.set(prevObj, nextObj);\n    }\n    let changed = null;\n    for (const key of used[HAS_KEY_PROPERTY] || []) {\n        changed = Reflect.has(prevObj, key) !== Reflect.has(nextObj, key);\n        if (changed)\n            return changed;\n    }\n    if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n        changed = isAllOwnKeysChanged(prevObj, nextObj);\n        if (changed)\n            return changed;\n    }\n    else {\n        for (const key of used[HAS_OWN_KEY_PROPERTY] || []) {\n            const hasPrev = !!Reflect.getOwnPropertyDescriptor(prevObj, key);\n            const hasNext = !!Reflect.getOwnPropertyDescriptor(nextObj, key);\n            changed = hasPrev !== hasNext;\n            if (changed)\n                return changed;\n        }\n    }\n    for (const key of used[KEYS_PROPERTY] || []) {\n        changed = isChanged(prevObj[key], nextObj[key], affected, cache, isEqual);\n        if (changed)\n            return changed;\n    }\n    if (changed === null)\n        throw new Error('invalid used');\n    return changed;\n};\n// explicitly track object with memo\nconst trackMemo = (obj) => {\n    if (isObjectToTrack(obj)) {\n        return TRACK_MEMO_SYMBOL in obj;\n    }\n    return false;\n};\n/**\n * Unwrap proxy to get the original object.\n *\n * Used to retrieve the original object used to create the proxy instance with `createProxy`.\n *\n * @param {Proxy<object>} obj -  The proxy wrapper of the originial object.\n * @returns {object | null} - Return either the unwrapped object if exists.\n *\n * @example\n * import { createProxy, getUntracked } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n * const originalFromProxy = getUntracked(proxy)\n *\n * Object.is(original, originalFromProxy) // true\n * isChanged(original, originalFromProxy, affected) // false\n */\nconst getUntracked = (obj) => {\n    if (isObjectToTrack(obj)) {\n        return obj[GET_ORIGINAL_SYMBOL] || null;\n    }\n    return null;\n};\n/**\n * Mark object to be tracked.\n *\n * This function marks an object that will be passed into `createProxy`\n * as marked to track or not. By default only Array and Object are marked to track,\n * so this is useful for example to mark a class instance to track or to mark a object\n * to be untracked when creating your proxy.\n *\n * @param obj - Object to mark as tracked or not.\n * @param mark - Boolean indicating whether you want to track this object or not.\n * @returns - No return.\n *\n * @example\n * import { createProxy, markToTrack, isChanged } from 'proxy-compare';\n *\n * const nested = { e: \"3\" }\n *\n * markToTrack(nested, false)\n *\n * const original = { a: \"1\", c: \"2\", d: nested };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n *\n * proxy.d.e\n *\n * isChanged(original, { d: { e: \"3\" } }, affected) // true\n */\nconst markToTrack = (obj, mark = true) => {\n    objectsToTrack.set(obj, mark);\n};\n/**\n * Convert `affected` to path list\n *\n * `affected` is a weak map which is not printable.\n * This function is can convert it to printable path list.\n * It's for debugging purpose.\n *\n * @param obj - An object that is used with `createProxy`.\n * @param affected - A weak map that is used with `createProxy`.\n * @param onlyWithValues - An optional boolean to exclude object getters.\n * @returns - An array of paths.\n */\nconst affectedToPathList = (obj, affected, onlyWithValues) => {\n    const list = [];\n    const seen = new WeakSet();\n    const walk = (x, path) => {\n        var _a, _b, _c;\n        if (seen.has(x)) {\n            // for object with cycles\n            return;\n        }\n        if (isObject(x)) {\n            seen.add(x);\n        }\n        const used = isObject(x) && affected.get(getOriginalObject(x));\n        if (used) {\n            (_a = used[HAS_KEY_PROPERTY]) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n                const segment = `:has(${String(key)})`;\n                list.push(path ? [...path, segment] : [segment]);\n            });\n            if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n                const segment = ':ownKeys';\n                list.push(path ? [...path, segment] : [segment]);\n            }\n            else {\n                (_b = used[HAS_OWN_KEY_PROPERTY]) === null || _b === void 0 ? void 0 : _b.forEach((key) => {\n                    const segment = `:hasOwn(${String(key)})`;\n                    list.push(path ? [...path, segment] : [segment]);\n                });\n            }\n            (_c = used[KEYS_PROPERTY]) === null || _c === void 0 ? void 0 : _c.forEach((key) => {\n                if (!onlyWithValues ||\n                    'value' in (Object.getOwnPropertyDescriptor(x, key) || {})) {\n                    walk(x[key], path ? [...path, key] : [key]);\n                }\n            });\n        }\n        else if (path) {\n            list.push(path);\n        }\n    };\n    walk(obj);\n    return list;\n};\n/**\n * replace newProxy function.\n *\n * This can be used if you want to use proxy-polyfill.\n * Note that proxy-polyfill can't polyfill everything.\n * Use it at your own risk.\n */\nconst replaceNewProxy = (fn) => {\n    newProxy = fn;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9wcm94eS1jb21wYXJlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVywwQkFBMEI7QUFDckM7QUFDQSxXQUFXLDBCQUEwQjtBQUNyQztBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0Esc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxRQUFRO0FBQzdFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsMEJBQTBCO0FBQ3JDO0FBQ0EsV0FBVywwQkFBMEI7QUFDckM7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7QUFDQSxpQkFBaUIscUJBQXFCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0Esc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNDQUFzQztBQUNsRDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLEtBQUssVUFBVTtBQUN4QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxZQUFZO0FBQzNEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RTtBQUM3RTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy9wcm94eS1jb21wYXJlL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnk6IG9mZiAqL1xuLy8gc3ltYm9sc1xuY29uc3QgVFJBQ0tfTUVNT19TWU1CT0wgPSBTeW1ib2woKTtcbmNvbnN0IEdFVF9PUklHSU5BTF9TWU1CT0wgPSBTeW1ib2woKTtcbi8vIHByb3BlcnRpZXNcbmNvbnN0IEFGRkVDVEVEX1BST1BFUlRZID0gJ2EnO1xuY29uc3QgSVNfVEFSR0VUX0NPUElFRF9QUk9QRVJUWSA9ICdmJztcbmNvbnN0IFBST1hZX1BST1BFUlRZID0gJ3AnO1xuY29uc3QgUFJPWFlfQ0FDSEVfUFJPUEVSVFkgPSAnYyc7XG5jb25zdCBUQVJHRVRfQ0FDSEVfUFJPUEVSVFkgPSAndCc7XG5jb25zdCBIQVNfS0VZX1BST1BFUlRZID0gJ2gnO1xuY29uc3QgQUxMX09XTl9LRVlTX1BST1BFUlRZID0gJ3cnO1xuY29uc3QgSEFTX09XTl9LRVlfUFJPUEVSVFkgPSAnbyc7XG5jb25zdCBLRVlTX1BST1BFUlRZID0gJ2snO1xuLy8gZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IGJhcmUgcHJveHlcbmxldCBuZXdQcm94eSA9ICh0YXJnZXQsIGhhbmRsZXIpID0+IG5ldyBQcm94eSh0YXJnZXQsIGhhbmRsZXIpO1xuLy8gZ2V0IG9iamVjdCBwcm90b3R5cGVcbmNvbnN0IGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuY29uc3Qgb2JqZWN0c1RvVHJhY2sgPSBuZXcgV2Vha01hcCgpO1xuLy8gY2hlY2sgaWYgb2JqIGlzIGEgcGxhaW4gb2JqZWN0IG9yIGFuIGFycmF5XG5jb25zdCBpc09iamVjdFRvVHJhY2sgPSAob2JqKSA9PiBvYmogJiZcbiAgICAob2JqZWN0c1RvVHJhY2suaGFzKG9iailcbiAgICAgICAgPyBvYmplY3RzVG9UcmFjay5nZXQob2JqKVxuICAgICAgICA6IGdldFByb3RvKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgZ2V0UHJvdG8ob2JqKSA9PT0gQXJyYXkucHJvdG90eXBlKTtcbi8vIGNoZWNrIGlmIGl0IGlzIG9iamVjdFxuY29uc3QgaXNPYmplY3QgPSAoeCkgPT4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG4vLyBQcm9wZXJ0aWVzIHRoYXQgYXJlIGJvdGggbm9uLWNvbmZpZ3VyYWJsZSBhbmQgbm9uLXdyaXRhYmxlIHdpbGwgYnJlYWtcbi8vIHRoZSBwcm94eSBnZXQgdHJhcCB3aGVuIHdlIHRyeSB0byByZXR1cm4gYSByZWN1cnNpdmUvY2hpbGQgY29tcGFyZSBwcm94eVxuLy8gZnJvbSB0aGVtLiBXZSBjYW4gYXZvaWQgdGhpcyBieSBtYWtpbmcgYSBjb3B5IG9mIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGhcbi8vIGFsbCBkZXNjcmlwdG9ycyBtYXJrZWQgYXMgY29uZmlndXJhYmxlLCBzZWUgYGNvcHlUYXJnZXRPYmplY3RgLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGFpLXNoaS9wcm94eS1jb21wYXJlL3B1bGwvOFxuY29uc3QgbmVlZHNUb0NvcHlUYXJnZXRPYmplY3QgPSAob2JqKSA9PiBPYmplY3QudmFsdWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikpLnNvbWUoKGRlc2NyaXB0b3IpID0+ICFkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJiAhZGVzY3JpcHRvci53cml0YWJsZSk7XG4vLyBNYWtlIGEgY29weSB3aXRoIGFsbCBkZXNjcmlwdG9ycyBtYXJrZWQgYXMgY29uZmlndXJhYmxlLlxuY29uc3QgY29weVRhcmdldE9iamVjdCA9IChvYmopID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIC8vIEFycmF5cyBuZWVkIGEgc3BlY2lhbCB3YXkgdG8gY29weVxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShvYmopO1xuICAgIH1cbiAgICAvLyBGb3Igbm9uLWFycmF5IG9iamVjdHMsIHdlIGNyZWF0ZSBhIG5ldyBvYmplY3Qga2VlcGluZyB0aGUgcHJvdG90eXBlXG4gICAgLy8gd2l0aCBjaGFuZ2luZyBhbGwgY29uZmlndXJhYmxlIG9wdGlvbnMgKG90aGVyd2lzZSwgcHJveGllcyB3aWxsIGNvbXBsYWluKVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgICBPYmplY3QudmFsdWVzKGRlc2NyaXB0b3JzKS5mb3JFYWNoKChkZXNjKSA9PiB7XG4gICAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShnZXRQcm90byhvYmopLCBkZXNjcmlwdG9ycyk7XG59O1xuY29uc3QgY3JlYXRlUHJveHlIYW5kbGVyID0gKG9yaWdPYmosIGlzVGFyZ2V0Q29waWVkKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIFtJU19UQVJHRVRfQ09QSUVEX1BST1BFUlRZXTogaXNUYXJnZXRDb3BpZWQsXG4gICAgfTtcbiAgICBsZXQgdHJhY2tPYmplY3QgPSBmYWxzZTsgLy8gZm9yIHRyYWNrTWVtb1xuICAgIGNvbnN0IHJlY29yZFVzYWdlID0gKHR5cGUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoIXRyYWNrT2JqZWN0KSB7XG4gICAgICAgICAgICBsZXQgdXNlZCA9IHN0YXRlW0FGRkVDVEVEX1BST1BFUlRZXS5nZXQob3JpZ09iaik7XG4gICAgICAgICAgICBpZiAoIXVzZWQpIHtcbiAgICAgICAgICAgICAgICB1c2VkID0ge307XG4gICAgICAgICAgICAgICAgc3RhdGVbQUZGRUNURURfUFJPUEVSVFldLnNldChvcmlnT2JqLCB1c2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBBTExfT1dOX0tFWVNfUFJPUEVSVFkpIHtcbiAgICAgICAgICAgICAgICB1c2VkW0FMTF9PV05fS0VZU19QUk9QRVJUWV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHNldCA9IHVzZWRbdHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICB1c2VkW3R5cGVdID0gc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlY29yZE9iamVjdEFzVXNlZCA9ICgpID0+IHtcbiAgICAgICAgdHJhY2tPYmplY3QgPSB0cnVlO1xuICAgICAgICBzdGF0ZVtBRkZFQ1RFRF9QUk9QRVJUWV0uZGVsZXRlKG9yaWdPYmopO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlciA9IHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBHRVRfT1JJR0lOQUxfU1lNQk9MKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmRVc2FnZShLRVlTX1BST1BFUlRZLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVByb3h5KFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5KSwgc3RhdGVbQUZGRUNURURfUFJPUEVSVFldLCBzdGF0ZVtQUk9YWV9DQUNIRV9QUk9QRVJUWV0sIHN0YXRlW1RBUkdFVF9DQUNIRV9QUk9QRVJUWV0pO1xuICAgICAgICB9LFxuICAgICAgICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFRSQUNLX01FTU9fU1lNQk9MKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkT2JqZWN0QXNVc2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmRVc2FnZShIQVNfS0VZX1BST1BFUlRZLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICByZWNvcmRVc2FnZShIQVNfT1dOX0tFWV9QUk9QRVJUWSwga2V5KTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIG93bktleXModGFyZ2V0KSB7XG4gICAgICAgICAgICByZWNvcmRVc2FnZShBTExfT1dOX0tFWVNfUFJPUEVSVFkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKGlzVGFyZ2V0Q29waWVkKSB7XG4gICAgICAgIGhhbmRsZXIuc2V0ID0gaGFuZGxlci5kZWxldGVQcm9wZXJ0eSA9ICgpID0+IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gW2hhbmRsZXIsIHN0YXRlXTtcbn07XG5jb25zdCBnZXRPcmlnaW5hbE9iamVjdCA9IChvYmopID0+IFxuLy8gdW53cmFwIHByb3h5XG5vYmpbR0VUX09SSUdJTkFMX1NZTUJPTF0gfHxcbiAgICAvLyBvdGhlcndpc2VcbiAgICBvYmo7XG4vKipcbiAqIENyZWF0ZSBhIHByb3h5LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBwcm94eSBhdCB0b3AgbGV2ZWwgYW5kIHByb3h5IG5lc3RlZCBvYmplY3RzIGFzIHlvdSBhY2Nlc3MgdGhlbSxcbiAqIGluIG9yZGVyIHRvIGtlZXAgdHJhY2sgb2Ygd2hpY2ggcHJvcGVydGllcyB3ZXJlIGFjY2Vzc2VkIHZpYSBnZXQvaGFzIHByb3h5IGhhbmRsZXJzOlxuICpcbiAqIE5PVEU6IFByaW50aW5nIG9mIFdlYWtNYXAgaXMgaGFyZCB0byBpbnNwZWN0IGFuZCBub3QgdmVyeSByZWFkYWJsZVxuICogZm9yIHRoaXMgcHVycG9zZSB5b3UgY2FuIHVzZSB0aGUgYGFmZmVjdGVkVG9QYXRoTGlzdGAgaGVscGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBPYmplY3QgdGhhdCB3aWxsIGJlIHdyYXBwZWQgb24gdGhlIHByb3h5LlxuICogQHBhcmFtIHtXZWFrTWFwPG9iamVjdCwgdW5rbm93bj59IGFmZmVjdGVkIC1cbiAqIFdlYWtNYXAgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYWNraW5nIG9mIHdoaWNoIHByb3BlcnRpZXMgaW4gdGhlIHByb3hpZWQgb2JqZWN0IHdlcmUgYWNjZXNzZWQuXG4gKiBAcGFyYW0ge1dlYWtNYXA8b2JqZWN0LCB1bmtub3duPn0gW3Byb3h5Q2FjaGVdIC1cbiAqIFdlYWtNYXAgdGhhdCB3aWxsIGhlbHAga2VlcCByZWZlcmVudGlhbCBpZGVudGl0eSBmb3IgcHJveGllcy5cbiAqIEByZXR1cm5zIHtQcm94eTxvYmplY3Q+fSAtIE9iamVjdCB3cmFwcGVkIGluIGEgcHJveHkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNyZWF0ZVByb3h5IH0gZnJvbSAncHJveHktY29tcGFyZSc7XG4gKlxuICogY29uc3Qgb3JpZ2luYWwgPSB7IGE6IFwiMVwiLCBjOiBcIjJcIiwgZDogeyBlOiBcIjNcIiB9IH07XG4gKiBjb25zdCBhZmZlY3RlZCA9IG5ldyBXZWFrTWFwKCk7XG4gKiBjb25zdCBwcm94eSA9IGNyZWF0ZVByb3h5KG9yaWdpbmFsLCBhZmZlY3RlZCk7XG4gKlxuICogcHJveHkuYSAvLyBXaWxsIG1hcmsgYXMgdXNlZCBhbmQgdHJhY2sgaXRzIHZhbHVlLlxuICogLy8gVGhpcyB3aWxsIHVwZGF0ZSB0aGUgYWZmZWN0ZWQgV2Vha01hcCB3aXRoIG9yaWdpbmFsIGFzIGtleVxuICogLy8gYW5kIGEgU2V0IHdpdGggXCJhXCJcbiAqXG4gKiBwcm94eS5kIC8vIFdpbGwgbWFyayBcImRcIiBhcyBhY2Nlc3NlZCB0byB0cmFjayBhbmQgcHJveHkgaXRzZWxmICh7IGU6IFwiM1wiIH0pLlxuICogLy8gVGhpcyB3aWxsIHVwZGF0ZSB0aGUgYWZmZWN0ZWQgV2Vha01hcCB3aXRoIG9yaWdpbmFsIGFzIGtleVxuICogLy8gYW5kIGEgU2V0IHdpdGggXCJkXCJcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb3h5ID0gKG9iaiwgYWZmZWN0ZWQsIHByb3h5Q2FjaGUsIHRhcmdldENhY2hlKSA9PiB7XG4gICAgaWYgKCFpc09iamVjdFRvVHJhY2sob2JqKSlcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICBsZXQgdGFyZ2V0QW5kQ29waWVkID0gdGFyZ2V0Q2FjaGUgJiYgdGFyZ2V0Q2FjaGUuZ2V0KG9iaik7XG4gICAgaWYgKCF0YXJnZXRBbmRDb3BpZWQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0T3JpZ2luYWxPYmplY3Qob2JqKTtcbiAgICAgICAgaWYgKG5lZWRzVG9Db3B5VGFyZ2V0T2JqZWN0KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldEFuZENvcGllZCA9IFt0YXJnZXQsIGNvcHlUYXJnZXRPYmplY3QodGFyZ2V0KV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRBbmRDb3BpZWQgPSBbdGFyZ2V0XTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRDYWNoZSA9PT0gbnVsbCB8fCB0YXJnZXRDYWNoZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Q2FjaGUuc2V0KG9iaiwgdGFyZ2V0QW5kQ29waWVkKTtcbiAgICB9XG4gICAgY29uc3QgW3RhcmdldCwgY29waWVkVGFyZ2V0XSA9IHRhcmdldEFuZENvcGllZDtcbiAgICBsZXQgaGFuZGxlckFuZFN0YXRlID0gcHJveHlDYWNoZSAmJiBwcm94eUNhY2hlLmdldCh0YXJnZXQpO1xuICAgIGlmICghaGFuZGxlckFuZFN0YXRlIHx8XG4gICAgICAgIGhhbmRsZXJBbmRTdGF0ZVsxXVtJU19UQVJHRVRfQ09QSUVEX1BST1BFUlRZXSAhPT0gISFjb3BpZWRUYXJnZXQpIHtcbiAgICAgICAgaGFuZGxlckFuZFN0YXRlID0gY3JlYXRlUHJveHlIYW5kbGVyKHRhcmdldCwgISFjb3BpZWRUYXJnZXQpO1xuICAgICAgICBoYW5kbGVyQW5kU3RhdGVbMV1bUFJPWFlfUFJPUEVSVFldID0gbmV3UHJveHkoY29waWVkVGFyZ2V0IHx8IHRhcmdldCwgaGFuZGxlckFuZFN0YXRlWzBdKTtcbiAgICAgICAgaWYgKHByb3h5Q2FjaGUpIHtcbiAgICAgICAgICAgIHByb3h5Q2FjaGUuc2V0KHRhcmdldCwgaGFuZGxlckFuZFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVyQW5kU3RhdGVbMV1bQUZGRUNURURfUFJPUEVSVFldID0gYWZmZWN0ZWQ7XG4gICAgaGFuZGxlckFuZFN0YXRlWzFdW1BST1hZX0NBQ0hFX1BST1BFUlRZXSA9IHByb3h5Q2FjaGU7XG4gICAgaGFuZGxlckFuZFN0YXRlWzFdW1RBUkdFVF9DQUNIRV9QUk9QRVJUWV0gPSB0YXJnZXRDYWNoZTtcbiAgICByZXR1cm4gaGFuZGxlckFuZFN0YXRlWzFdW1BST1hZX1BST1BFUlRZXTtcbn07XG5jb25zdCBpc0FsbE93bktleXNDaGFuZ2VkID0gKHByZXZPYmosIG5leHRPYmopID0+IHtcbiAgICBjb25zdCBwcmV2S2V5cyA9IFJlZmxlY3Qub3duS2V5cyhwcmV2T2JqKTtcbiAgICBjb25zdCBuZXh0S2V5cyA9IFJlZmxlY3Qub3duS2V5cyhuZXh0T2JqKTtcbiAgICByZXR1cm4gKHByZXZLZXlzLmxlbmd0aCAhPT0gbmV4dEtleXMubGVuZ3RoIHx8XG4gICAgICAgIHByZXZLZXlzLnNvbWUoKGssIGkpID0+IGsgIT09IG5leHRLZXlzW2ldKSk7XG59O1xuLyoqXG4gKiBDb21wYXJlIGNoYW5nZXMgb24gb2JqZWN0cy5cbiAqXG4gKiBUaGlzIHdpbGwgY29tcGFyZSB0aGUgYWZmZWN0ZWQgcHJvcGVydGllcyBvbiB0cmFja2VkIG9iamVjdHMgaW5zaWRlIHRoZSBwcm94eVxuICogdG8gY2hlY2sgaWYgdGhlcmUgd2VyZSBhbnkgY2hhbmdlcyBtYWRlIHRvIGl0LFxuICogYnkgZGVmYXVsdCBpZiBubyBwcm9wZXJ0eSB3YXMgYWNjZXNzZWQgb24gdGhlIHByb3h5IGl0IHdpbGwgYXR0ZW1wdCB0byBkbyBhXG4gKiByZWZlcmVuY2UgZXF1YWxpdHkgY2hlY2sgZm9yIHRoZSBvYmplY3RzIHByb3ZpZGVkIChPYmplY3QuaXMoYSwgYikpLiBJZiB5b3UgYWNjZXNzIGEgcHJvcGVydHlcbiAqIG9uIHRoZSBwcm94eSwgdGhlbiBpc0NoYW5nZWQgd2lsbCBvbmx5IGNvbXBhcmUgdGhlIGFmZmVjdGVkIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXZPYmogLSBUaGUgcHJldmlvdXMgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV4dE9iaiAtIE9iamVjdCB0byBjb21wYXJlIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAqIEBwYXJhbSB7V2Vha01hcDxvYmplY3QsIHVua25vd24+fSBhZmZlY3RlZCAtXG4gKiBXZWFrTWFwIHRoYXQgaG9sZHMgdGhlIHRyYWNraW5nIG9mIHdoaWNoIHByb3BlcnRpZXMgaW4gdGhlIHByb3hpZWQgb2JqZWN0IHdlcmUgYWNjZXNzZWQuXG4gKiBAcGFyYW0ge1dlYWtNYXA8b2JqZWN0LCB1bmtub3duPn0gW2NhY2hlXSAtXG4gKiBXZWFrTWFwIHRoYXQgaG9sZHMgYSBjYWNoZSBvZiB0aGUgY29tcGFyaXNvbnMgZm9yIGJldHRlciBwZXJmb3JtYW5jZSB3aXRoIHJlcGV0aXRpdmUgY29tcGFyaXNvbnMsXG4gKiBhbmQgdG8gYXZvaWQgaW5maW5pdGUgbG9vcCB3aXRoIGNpcmN1bGFyIHN0cnVjdHVyZXMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBCb29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGFmZmVjdGVkIHByb3BlcnR5IG9uIHRoZSBvYmplY3QgaGFzIGNoYW5nZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNyZWF0ZVByb3h5LCBpc0NoYW5nZWQgfSBmcm9tICdwcm94eS1jb21wYXJlJztcbiAqXG4gKiBjb25zdCBvYmogPSB7IGE6IFwiMVwiLCBjOiBcIjJcIiwgZDogeyBlOiBcIjNcIiB9IH07XG4gKiBjb25zdCBhZmZlY3RlZCA9IG5ldyBXZWFrTWFwKCk7XG4gKlxuICogY29uc3QgcHJveHkgPSBjcmVhdGVQcm94eShvYmosIGFmZmVjdGVkKTtcbiAqXG4gKiBwcm94eS5hXG4gKlxuICogaXNDaGFuZ2VkKG9iaiwgeyBhOiBcIjFcIiB9LCBhZmZlY3RlZCkgLy8gZmFsc2VcbiAqXG4gKiBwcm94eS5hID0gXCIyXCJcbiAqXG4gKiBpc0NoYW5nZWQob2JqLCB7IGE6IFwiMVwiIH0sIGFmZmVjdGVkKSAvLyB0cnVlXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NoYW5nZWQgPSAocHJldk9iaiwgbmV4dE9iaiwgYWZmZWN0ZWQsIGNhY2hlLCAvLyBmb3Igb2JqZWN0IHdpdGggY3ljbGVzXG5pc0VxdWFsID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgaWYgKGlzRXF1YWwocHJldk9iaiwgbmV4dE9iaikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0KHByZXZPYmopIHx8ICFpc09iamVjdChuZXh0T2JqKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgdXNlZCA9IGFmZmVjdGVkLmdldChnZXRPcmlnaW5hbE9iamVjdChwcmV2T2JqKSk7XG4gICAgaWYgKCF1c2VkKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY29uc3QgaGl0ID0gY2FjaGUuZ2V0KHByZXZPYmopO1xuICAgICAgICBpZiAoaGl0ID09PSBuZXh0T2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIG9iamVjdCB3aXRoIGN5Y2xlc1xuICAgICAgICBjYWNoZS5zZXQocHJldk9iaiwgbmV4dE9iaik7XG4gICAgfVxuICAgIGxldCBjaGFuZ2VkID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1c2VkW0hBU19LRVlfUFJPUEVSVFldIHx8IFtdKSB7XG4gICAgICAgIGNoYW5nZWQgPSBSZWZsZWN0LmhhcyhwcmV2T2JqLCBrZXkpICE9PSBSZWZsZWN0LmhhcyhuZXh0T2JqLCBrZXkpO1xuICAgICAgICBpZiAoY2hhbmdlZClcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBpZiAodXNlZFtBTExfT1dOX0tFWVNfUFJPUEVSVFldID09PSB0cnVlKSB7XG4gICAgICAgIGNoYW5nZWQgPSBpc0FsbE93bktleXNDaGFuZ2VkKHByZXZPYmosIG5leHRPYmopO1xuICAgICAgICBpZiAoY2hhbmdlZClcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXNlZFtIQVNfT1dOX0tFWV9QUk9QRVJUWV0gfHwgW10pIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc1ByZXYgPSAhIVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByZXZPYmosIGtleSk7XG4gICAgICAgICAgICBjb25zdCBoYXNOZXh0ID0gISFSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0T2JqLCBrZXkpO1xuICAgICAgICAgICAgY2hhbmdlZCA9IGhhc1ByZXYgIT09IGhhc05leHQ7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1c2VkW0tFWVNfUFJPUEVSVFldIHx8IFtdKSB7XG4gICAgICAgIGNoYW5nZWQgPSBpc0NoYW5nZWQocHJldk9ialtrZXldLCBuZXh0T2JqW2tleV0sIGFmZmVjdGVkLCBjYWNoZSwgaXNFcXVhbCk7XG4gICAgICAgIGlmIChjaGFuZ2VkKVxuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkID09PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdXNlZCcpO1xuICAgIHJldHVybiBjaGFuZ2VkO1xufTtcbi8vIGV4cGxpY2l0bHkgdHJhY2sgb2JqZWN0IHdpdGggbWVtb1xuZXhwb3J0IGNvbnN0IHRyYWNrTWVtbyA9IChvYmopID0+IHtcbiAgICBpZiAoaXNPYmplY3RUb1RyYWNrKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFRSQUNLX01FTU9fU1lNQk9MIGluIG9iajtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8qKlxuICogVW53cmFwIHByb3h5IHRvIGdldCB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICpcbiAqIFVzZWQgdG8gcmV0cmlldmUgdGhlIG9yaWdpbmFsIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGUgcHJveHkgaW5zdGFuY2Ugd2l0aCBgY3JlYXRlUHJveHlgLlxuICpcbiAqIEBwYXJhbSB7UHJveHk8b2JqZWN0Pn0gb2JqIC0gIFRoZSBwcm94eSB3cmFwcGVyIG9mIHRoZSBvcmlnaW5pYWwgb2JqZWN0LlxuICogQHJldHVybnMge29iamVjdCB8IG51bGx9IC0gUmV0dXJuIGVpdGhlciB0aGUgdW53cmFwcGVkIG9iamVjdCBpZiBleGlzdHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNyZWF0ZVByb3h5LCBnZXRVbnRyYWNrZWQgfSBmcm9tICdwcm94eS1jb21wYXJlJztcbiAqXG4gKiBjb25zdCBvcmlnaW5hbCA9IHsgYTogXCIxXCIsIGM6IFwiMlwiLCBkOiB7IGU6IFwiM1wiIH0gfTtcbiAqIGNvbnN0IGFmZmVjdGVkID0gbmV3IFdlYWtNYXAoKTtcbiAqXG4gKiBjb25zdCBwcm94eSA9IGNyZWF0ZVByb3h5KG9yaWdpbmFsLCBhZmZlY3RlZCk7XG4gKiBjb25zdCBvcmlnaW5hbEZyb21Qcm94eSA9IGdldFVudHJhY2tlZChwcm94eSlcbiAqXG4gKiBPYmplY3QuaXMob3JpZ2luYWwsIG9yaWdpbmFsRnJvbVByb3h5KSAvLyB0cnVlXG4gKiBpc0NoYW5nZWQob3JpZ2luYWwsIG9yaWdpbmFsRnJvbVByb3h5LCBhZmZlY3RlZCkgLy8gZmFsc2VcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVudHJhY2tlZCA9IChvYmopID0+IHtcbiAgICBpZiAoaXNPYmplY3RUb1RyYWNrKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9ialtHRVRfT1JJR0lOQUxfU1lNQk9MXSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vKipcbiAqIE1hcmsgb2JqZWN0IHRvIGJlIHRyYWNrZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBtYXJrcyBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIHBhc3NlZCBpbnRvIGBjcmVhdGVQcm94eWBcbiAqIGFzIG1hcmtlZCB0byB0cmFjayBvciBub3QuIEJ5IGRlZmF1bHQgb25seSBBcnJheSBhbmQgT2JqZWN0IGFyZSBtYXJrZWQgdG8gdHJhY2ssXG4gKiBzbyB0aGlzIGlzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0byBtYXJrIGEgY2xhc3MgaW5zdGFuY2UgdG8gdHJhY2sgb3IgdG8gbWFyayBhIG9iamVjdFxuICogdG8gYmUgdW50cmFja2VkIHdoZW4gY3JlYXRpbmcgeW91ciBwcm94eS5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gT2JqZWN0IHRvIG1hcmsgYXMgdHJhY2tlZCBvciBub3QuXG4gKiBAcGFyYW0gbWFyayAtIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHlvdSB3YW50IHRvIHRyYWNrIHRoaXMgb2JqZWN0IG9yIG5vdC5cbiAqIEByZXR1cm5zIC0gTm8gcmV0dXJuLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBjcmVhdGVQcm94eSwgbWFya1RvVHJhY2ssIGlzQ2hhbmdlZCB9IGZyb20gJ3Byb3h5LWNvbXBhcmUnO1xuICpcbiAqIGNvbnN0IG5lc3RlZCA9IHsgZTogXCIzXCIgfVxuICpcbiAqIG1hcmtUb1RyYWNrKG5lc3RlZCwgZmFsc2UpXG4gKlxuICogY29uc3Qgb3JpZ2luYWwgPSB7IGE6IFwiMVwiLCBjOiBcIjJcIiwgZDogbmVzdGVkIH07XG4gKiBjb25zdCBhZmZlY3RlZCA9IG5ldyBXZWFrTWFwKCk7XG4gKlxuICogY29uc3QgcHJveHkgPSBjcmVhdGVQcm94eShvcmlnaW5hbCwgYWZmZWN0ZWQpO1xuICpcbiAqIHByb3h5LmQuZVxuICpcbiAqIGlzQ2hhbmdlZChvcmlnaW5hbCwgeyBkOiB7IGU6IFwiM1wiIH0gfSwgYWZmZWN0ZWQpIC8vIHRydWVcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtUb1RyYWNrID0gKG9iaiwgbWFyayA9IHRydWUpID0+IHtcbiAgICBvYmplY3RzVG9UcmFjay5zZXQob2JqLCBtYXJrKTtcbn07XG4vKipcbiAqIENvbnZlcnQgYGFmZmVjdGVkYCB0byBwYXRoIGxpc3RcbiAqXG4gKiBgYWZmZWN0ZWRgIGlzIGEgd2VhayBtYXAgd2hpY2ggaXMgbm90IHByaW50YWJsZS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgY2FuIGNvbnZlcnQgaXQgdG8gcHJpbnRhYmxlIHBhdGggbGlzdC5cbiAqIEl0J3MgZm9yIGRlYnVnZ2luZyBwdXJwb3NlLlxuICpcbiAqIEBwYXJhbSBvYmogLSBBbiBvYmplY3QgdGhhdCBpcyB1c2VkIHdpdGggYGNyZWF0ZVByb3h5YC5cbiAqIEBwYXJhbSBhZmZlY3RlZCAtIEEgd2VhayBtYXAgdGhhdCBpcyB1c2VkIHdpdGggYGNyZWF0ZVByb3h5YC5cbiAqIEBwYXJhbSBvbmx5V2l0aFZhbHVlcyAtIEFuIG9wdGlvbmFsIGJvb2xlYW4gdG8gZXhjbHVkZSBvYmplY3QgZ2V0dGVycy5cbiAqIEByZXR1cm5zIC0gQW4gYXJyYXkgb2YgcGF0aHMuXG4gKi9cbmV4cG9ydCBjb25zdCBhZmZlY3RlZFRvUGF0aExpc3QgPSAob2JqLCBhZmZlY3RlZCwgb25seVdpdGhWYWx1ZXMpID0+IHtcbiAgICBjb25zdCBsaXN0ID0gW107XG4gICAgY29uc3Qgc2VlbiA9IG5ldyBXZWFrU2V0KCk7XG4gICAgY29uc3Qgd2FsayA9ICh4LCBwYXRoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAoc2Vlbi5oYXMoeCkpIHtcbiAgICAgICAgICAgIC8vIGZvciBvYmplY3Qgd2l0aCBjeWNsZXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QoeCkpIHtcbiAgICAgICAgICAgIHNlZW4uYWRkKHgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZWQgPSBpc09iamVjdCh4KSAmJiBhZmZlY3RlZC5nZXQoZ2V0T3JpZ2luYWxPYmplY3QoeCkpO1xuICAgICAgICBpZiAodXNlZCkge1xuICAgICAgICAgICAgKF9hID0gdXNlZFtIQVNfS0VZX1BST1BFUlRZXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBgOmhhcygke1N0cmluZyhrZXkpfSlgO1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChwYXRoID8gWy4uLnBhdGgsIHNlZ21lbnRdIDogW3NlZ21lbnRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHVzZWRbQUxMX09XTl9LRVlTX1BST1BFUlRZXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSAnOm93bktleXMnO1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChwYXRoID8gWy4uLnBhdGgsIHNlZ21lbnRdIDogW3NlZ21lbnRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChfYiA9IHVzZWRbSEFTX09XTl9LRVlfUFJPUEVSVFldKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBgOmhhc093bigke1N0cmluZyhrZXkpfSlgO1xuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2gocGF0aCA/IFsuLi5wYXRoLCBzZWdtZW50XSA6IFtzZWdtZW50XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2MgPSB1c2VkW0tFWVNfUFJPUEVSVFldKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvbmx5V2l0aFZhbHVlcyB8fFxuICAgICAgICAgICAgICAgICAgICAndmFsdWUnIGluIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHgsIGtleSkgfHwge30pKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhbGsoeFtrZXldLCBwYXRoID8gWy4uLnBhdGgsIGtleV0gOiBba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0aCkge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHBhdGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3YWxrKG9iaik7XG4gICAgcmV0dXJuIGxpc3Q7XG59O1xuLyoqXG4gKiByZXBsYWNlIG5ld1Byb3h5IGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgaWYgeW91IHdhbnQgdG8gdXNlIHByb3h5LXBvbHlmaWxsLlxuICogTm90ZSB0aGF0IHByb3h5LXBvbHlmaWxsIGNhbid0IHBvbHlmaWxsIGV2ZXJ5dGhpbmcuXG4gKiBVc2UgaXQgYXQgeW91ciBvd24gcmlzay5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGxhY2VOZXdQcm94eSA9IChmbikgPT4ge1xuICAgIG5ld1Byb3h5ID0gZm47XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/proxy-compare/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs":
/*!*********************************************!*\
  !*** ./node_modules/valtio/esm/vanilla.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVersion: () => (/* binding */ getVersion),\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   unstable_getInternalStates: () => (/* binding */ unstable_getInternalStates),\n/* harmony export */   unstable_replaceInternalFunction: () => (/* binding */ unstable_replaceInternalFunction)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(app-pages-browser)/./node_modules/proxy-compare/dist/index.js\");\n\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nconst canProxyDefault = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer) && !(x instanceof Promise);\nconst createSnapshotDefault = (target, version) => {\n  const cache = snapCache.get(target);\n  if ((cache == null ? void 0 : cache[0]) === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(snap, key)) {\n      return;\n    }\n    const value = Reflect.get(target, key);\n    const { enumerable } = Reflect.getOwnPropertyDescriptor(\n      target,\n      key\n    );\n    const desc = {\n      value,\n      enumerable,\n      // This is intentional to avoid copying with proxy-compare.\n      // It's still non-writable, so it avoids assigning a value.\n      configurable: true\n    };\n    if (refSet.has(value)) {\n      (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n    } else if (proxyStateMap.has(value)) {\n      const [target2, ensureVersion] = proxyStateMap.get(\n        value\n      );\n      desc.value = createSnapshotDefault(target2, ensureVersion());\n    }\n    Object.defineProperty(snap, key, desc);\n  });\n  return Object.preventExtensions(snap);\n};\nconst createHandlerDefault = (isInitializing, addPropListener, removePropListener, notifyUpdate) => ({\n  deleteProperty(target, prop) {\n    const prevValue = Reflect.get(target, prop);\n    removePropListener(prop);\n    const deleted = Reflect.deleteProperty(target, prop);\n    if (deleted) {\n      notifyUpdate([\"delete\", [prop], prevValue]);\n    }\n    return deleted;\n  },\n  set(target, prop, value, receiver) {\n    const hasPrevValue = !isInitializing() && Reflect.has(target, prop);\n    const prevValue = Reflect.get(target, prop, receiver);\n    if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n      return true;\n    }\n    removePropListener(prop);\n    if (isObject(value)) {\n      value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n    }\n    const nextValue = !proxyStateMap.has(value) && canProxy(value) ? proxy(value) : value;\n    addPropListener(prop, nextValue);\n    Reflect.set(target, prop, nextValue, receiver);\n    notifyUpdate([\"set\", [prop], value, prevValue]);\n    return true;\n  }\n});\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\nconst refSet = /* @__PURE__ */ new WeakSet();\nconst snapCache = /* @__PURE__ */ new WeakMap();\nconst versionHolder = [1];\nconst proxyCache = /* @__PURE__ */ new WeakMap();\nlet objectIs = Object.is;\nlet newProxy = (target, handler) => new Proxy(target, handler);\nlet canProxy = canProxyDefault;\nlet createSnapshot = createSnapshotDefault;\nlet createHandler = createHandlerDefault;\nfunction proxy(baseObject = {}) {\n  if (!isObject(baseObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(baseObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      checkVersion = version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = version;\n  const ensureVersion = (nextCheckVersion = versionHolder[0]) => {\n    if (checkVersion !== nextCheckVersion) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propValue) => {\n    const propProxyState = !refSet.has(propValue) && proxyStateMap.get(propValue);\n    if (propProxyState) {\n      if (( false ? 0 : void 0) !== \"production\" && propProxyStates.has(prop)) {\n        throw new Error(\"prop listener already exists\");\n      }\n      if (listeners.size) {\n        const remove = propProxyState[2](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      } else {\n        propProxyStates.set(prop, [propProxyState]);\n      }\n    }\n  };\n  const removePropListener = (prop) => {\n    var _a;\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      (_a = entry[1]) == null ? void 0 : _a.call(entry);\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (( false ? 0 : void 0) !== \"production\" && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[2](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  let initializing = true;\n  const handler = createHandler(\n    () => initializing,\n    addPropListener,\n    removePropListener,\n    notifyUpdate\n  );\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(baseObject, proxyObject);\n  const proxyState = [baseObject, ensureVersion, addListener];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(baseObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(\n      baseObject,\n      key\n    );\n    if (\"value\" in desc && desc.writable) {\n      proxyObject[key] = baseObject[key];\n    }\n  });\n  initializing = false;\n  return proxyObject;\n}\nfunction getVersion(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  return proxyState == null ? void 0 : proxyState[1]();\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[2];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion] = proxyState;\n  return createSnapshot(target, ensureVersion());\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\nfunction unstable_getInternalStates() {\n  return {\n    proxyStateMap,\n    refSet,\n    snapCache,\n    versionHolder,\n    proxyCache\n  };\n}\nfunction unstable_replaceInternalFunction(name, fn) {\n  switch (name) {\n    case \"objectIs\":\n      objectIs = fn(objectIs);\n      break;\n    case \"newProxy\":\n      newProxy = fn(newProxy);\n      break;\n    case \"canProxy\":\n      canProxy = fn(canProxy);\n      break;\n    case \"createSnapshot\":\n      createSnapshot = fn(createSnapshot);\n      break;\n    case \"createHandler\":\n      createHandler = fn(createHandler);\n      break;\n    default:\n      throw new Error(\"unknown function\");\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy92YWx0aW8vZXNtL3ZhbmlsbGEubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBEOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwwREFBVztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwREFBVztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBZSxHQUFHLENBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQWUsR0FBRyxDQUFvQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE1BQWUsR0FBRyxDQUFvQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sTUFBZSxHQUFHLENBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcUgiLCJzb3VyY2VzIjpbIi9Vc2Vycy96aXNoYW4vY29pbmZsb3cvb3BlbnB1bXAtYXBpL3dlYi9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXJrVG9UcmFjaywgZ2V0VW50cmFja2VkIH0gZnJvbSAncHJveHktY29tcGFyZSc7XG5cbmNvbnN0IGlzT2JqZWN0ID0gKHgpID0+IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT09IG51bGw7XG5jb25zdCBjYW5Qcm94eURlZmF1bHQgPSAoeCkgPT4gaXNPYmplY3QoeCkgJiYgIXJlZlNldC5oYXMoeCkgJiYgKEFycmF5LmlzQXJyYXkoeCkgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4geCkpICYmICEoeCBpbnN0YW5jZW9mIFdlYWtNYXApICYmICEoeCBpbnN0YW5jZW9mIFdlYWtTZXQpICYmICEoeCBpbnN0YW5jZW9mIEVycm9yKSAmJiAhKHggaW5zdGFuY2VvZiBOdW1iZXIpICYmICEoeCBpbnN0YW5jZW9mIERhdGUpICYmICEoeCBpbnN0YW5jZW9mIFN0cmluZykgJiYgISh4IGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhKHggaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgJiYgISh4IGluc3RhbmNlb2YgUHJvbWlzZSk7XG5jb25zdCBjcmVhdGVTbmFwc2hvdERlZmF1bHQgPSAodGFyZ2V0LCB2ZXJzaW9uKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gc25hcENhY2hlLmdldCh0YXJnZXQpO1xuICBpZiAoKGNhY2hlID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZVswXSkgPT09IHZlcnNpb24pIHtcbiAgICByZXR1cm4gY2FjaGVbMV07XG4gIH1cbiAgY29uc3Qgc25hcCA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IFtdIDogT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSk7XG4gIG1hcmtUb1RyYWNrKHNuYXAsIHRydWUpO1xuICBzbmFwQ2FjaGUuc2V0KHRhcmdldCwgW3ZlcnNpb24sIHNuYXBdKTtcbiAgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc25hcCwga2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5KTtcbiAgICBjb25zdCB7IGVudW1lcmFibGUgfSA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlLFxuICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbCB0byBhdm9pZCBjb3B5aW5nIHdpdGggcHJveHktY29tcGFyZS5cbiAgICAgIC8vIEl0J3Mgc3RpbGwgbm9uLXdyaXRhYmxlLCBzbyBpdCBhdm9pZHMgYXNzaWduaW5nIGEgdmFsdWUuXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9O1xuICAgIGlmIChyZWZTZXQuaGFzKHZhbHVlKSkge1xuICAgICAgbWFya1RvVHJhY2sodmFsdWUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHByb3h5U3RhdGVNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgY29uc3QgW3RhcmdldDIsIGVuc3VyZVZlcnNpb25dID0gcHJveHlTdGF0ZU1hcC5nZXQoXG4gICAgICAgIHZhbHVlXG4gICAgICApO1xuICAgICAgZGVzYy52YWx1ZSA9IGNyZWF0ZVNuYXBzaG90RGVmYXVsdCh0YXJnZXQyLCBlbnN1cmVWZXJzaW9uKCkpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc25hcCwga2V5LCBkZXNjKTtcbiAgfSk7XG4gIHJldHVybiBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoc25hcCk7XG59O1xuY29uc3QgY3JlYXRlSGFuZGxlckRlZmF1bHQgPSAoaXNJbml0aWFsaXppbmcsIGFkZFByb3BMaXN0ZW5lciwgcmVtb3ZlUHJvcExpc3RlbmVyLCBub3RpZnlVcGRhdGUpID0+ICh7XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuICAgIGNvbnN0IHByZXZWYWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCk7XG4gICAgcmVtb3ZlUHJvcExpc3RlbmVyKHByb3ApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCk7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgIG5vdGlmeVVwZGF0ZShbXCJkZWxldGVcIiwgW3Byb3BdLCBwcmV2VmFsdWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH0sXG4gIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgIGNvbnN0IGhhc1ByZXZWYWx1ZSA9ICFpc0luaXRpYWxpemluZygpICYmIFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgY29uc3QgcHJldlZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgaWYgKGhhc1ByZXZWYWx1ZSAmJiAob2JqZWN0SXMocHJldlZhbHVlLCB2YWx1ZSkgfHwgcHJveHlDYWNoZS5oYXModmFsdWUpICYmIG9iamVjdElzKHByZXZWYWx1ZSwgcHJveHlDYWNoZS5nZXQodmFsdWUpKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZW1vdmVQcm9wTGlzdGVuZXIocHJvcCk7XG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSBnZXRVbnRyYWNrZWQodmFsdWUpIHx8IHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBuZXh0VmFsdWUgPSAhcHJveHlTdGF0ZU1hcC5oYXModmFsdWUpICYmIGNhblByb3h5KHZhbHVlKSA/IHByb3h5KHZhbHVlKSA6IHZhbHVlO1xuICAgIGFkZFByb3BMaXN0ZW5lcihwcm9wLCBuZXh0VmFsdWUpO1xuICAgIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgbmV4dFZhbHVlLCByZWNlaXZlcik7XG4gICAgbm90aWZ5VXBkYXRlKFtcInNldFwiLCBbcHJvcF0sIHZhbHVlLCBwcmV2VmFsdWVdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG5jb25zdCBwcm94eVN0YXRlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWZTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbmNvbnN0IHNuYXBDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgdmVyc2lvbkhvbGRlciA9IFsxXTtcbmNvbnN0IHByb3h5Q2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmxldCBvYmplY3RJcyA9IE9iamVjdC5pcztcbmxldCBuZXdQcm94eSA9ICh0YXJnZXQsIGhhbmRsZXIpID0+IG5ldyBQcm94eSh0YXJnZXQsIGhhbmRsZXIpO1xubGV0IGNhblByb3h5ID0gY2FuUHJveHlEZWZhdWx0O1xubGV0IGNyZWF0ZVNuYXBzaG90ID0gY3JlYXRlU25hcHNob3REZWZhdWx0O1xubGV0IGNyZWF0ZUhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyRGVmYXVsdDtcbmZ1bmN0aW9uIHByb3h5KGJhc2VPYmplY3QgPSB7fSkge1xuICBpZiAoIWlzT2JqZWN0KGJhc2VPYmplY3QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IHJlcXVpcmVkXCIpO1xuICB9XG4gIGNvbnN0IGZvdW5kID0gcHJveHlDYWNoZS5nZXQoYmFzZU9iamVjdCk7XG4gIGlmIChmb3VuZCkge1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBsZXQgdmVyc2lvbiA9IHZlcnNpb25Ib2xkZXJbMF07XG4gIGNvbnN0IGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdGlmeVVwZGF0ZSA9IChvcCwgbmV4dFZlcnNpb24gPSArK3ZlcnNpb25Ib2xkZXJbMF0pID0+IHtcbiAgICBpZiAodmVyc2lvbiAhPT0gbmV4dFZlcnNpb24pIHtcbiAgICAgIGNoZWNrVmVyc2lvbiA9IHZlcnNpb24gPSBuZXh0VmVyc2lvbjtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIob3AsIG5leHRWZXJzaW9uKSk7XG4gICAgfVxuICB9O1xuICBsZXQgY2hlY2tWZXJzaW9uID0gdmVyc2lvbjtcbiAgY29uc3QgZW5zdXJlVmVyc2lvbiA9IChuZXh0Q2hlY2tWZXJzaW9uID0gdmVyc2lvbkhvbGRlclswXSkgPT4ge1xuICAgIGlmIChjaGVja1ZlcnNpb24gIT09IG5leHRDaGVja1ZlcnNpb24pIHtcbiAgICAgIGNoZWNrVmVyc2lvbiA9IG5leHRDaGVja1ZlcnNpb247XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlXSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wVmVyc2lvbiA9IHByb3BQcm94eVN0YXRlWzFdKG5leHRDaGVja1ZlcnNpb24pO1xuICAgICAgICBpZiAocHJvcFZlcnNpb24gPiB2ZXJzaW9uKSB7XG4gICAgICAgICAgdmVyc2lvbiA9IHByb3BWZXJzaW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZlcnNpb247XG4gIH07XG4gIGNvbnN0IGNyZWF0ZVByb3BMaXN0ZW5lciA9IChwcm9wKSA9PiAob3AsIG5leHRWZXJzaW9uKSA9PiB7XG4gICAgY29uc3QgbmV3T3AgPSBbLi4ub3BdO1xuICAgIG5ld09wWzFdID0gW3Byb3AsIC4uLm5ld09wWzFdXTtcbiAgICBub3RpZnlVcGRhdGUobmV3T3AsIG5leHRWZXJzaW9uKTtcbiAgfTtcbiAgY29uc3QgcHJvcFByb3h5U3RhdGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgYWRkUHJvcExpc3RlbmVyID0gKHByb3AsIHByb3BWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IHByb3BQcm94eVN0YXRlID0gIXJlZlNldC5oYXMocHJvcFZhbHVlKSAmJiBwcm94eVN0YXRlTWFwLmdldChwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wUHJveHlTdGF0ZSkge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIHByb3BQcm94eVN0YXRlcy5oYXMocHJvcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvcCBsaXN0ZW5lciBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSkge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBwcm9wUHJveHlTdGF0ZVsyXShjcmVhdGVQcm9wTGlzdGVuZXIocHJvcCkpO1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlUHJvcExpc3RlbmVyID0gKHByb3ApID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZW50cnkgPSBwcm9wUHJveHlTdGF0ZXMuZ2V0KHByb3ApO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmRlbGV0ZShwcm9wKTtcbiAgICAgIChfYSA9IGVudHJ5WzFdKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChlbnRyeSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhZGRMaXN0ZW5lciA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMSkge1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZSwgcHJldlJlbW92ZV0sIHByb3ApID0+IHtcbiAgICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIHByZXZSZW1vdmUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdmUgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlID0gcHJvcFByb3h5U3RhdGVbMl0oY3JlYXRlUHJvcExpc3RlbmVyKHByb3ApKTtcbiAgICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGUsIHJlbW92ZV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICBpZiAobGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSwgcHJvcCkgPT4ge1xuICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgcHJvcFByb3h5U3RhdGVzLnNldChwcm9wLCBbcHJvcFByb3h5U3RhdGVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlbW92ZUxpc3RlbmVyO1xuICB9O1xuICBsZXQgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcbiAgY29uc3QgaGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoXG4gICAgKCkgPT4gaW5pdGlhbGl6aW5nLFxuICAgIGFkZFByb3BMaXN0ZW5lcixcbiAgICByZW1vdmVQcm9wTGlzdGVuZXIsXG4gICAgbm90aWZ5VXBkYXRlXG4gICk7XG4gIGNvbnN0IHByb3h5T2JqZWN0ID0gbmV3UHJveHkoYmFzZU9iamVjdCwgaGFuZGxlcik7XG4gIHByb3h5Q2FjaGUuc2V0KGJhc2VPYmplY3QsIHByb3h5T2JqZWN0KTtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IFtiYXNlT2JqZWN0LCBlbnN1cmVWZXJzaW9uLCBhZGRMaXN0ZW5lcl07XG4gIHByb3h5U3RhdGVNYXAuc2V0KHByb3h5T2JqZWN0LCBwcm94eVN0YXRlKTtcbiAgUmVmbGVjdC5vd25LZXlzKGJhc2VPYmplY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgYmFzZU9iamVjdCxcbiAgICAgIGtleVxuICAgICk7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjICYmIGRlc2Mud3JpdGFibGUpIHtcbiAgICAgIHByb3h5T2JqZWN0W2tleV0gPSBiYXNlT2JqZWN0W2tleV07XG4gICAgfVxuICB9KTtcbiAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gIHJldHVybiBwcm94eU9iamVjdDtcbn1cbmZ1bmN0aW9uIGdldFZlcnNpb24ocHJveHlPYmplY3QpIHtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IHByb3h5U3RhdGVNYXAuZ2V0KHByb3h5T2JqZWN0KTtcbiAgcmV0dXJuIHByb3h5U3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3h5U3RhdGVbMV0oKTtcbn1cbmZ1bmN0aW9uIHN1YnNjcmliZShwcm94eU9iamVjdCwgY2FsbGJhY2ssIG5vdGlmeUluU3luYykge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIXByb3h5U3RhdGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIHByb3h5IG9iamVjdFwiKTtcbiAgfVxuICBsZXQgcHJvbWlzZTtcbiAgY29uc3Qgb3BzID0gW107XG4gIGNvbnN0IGFkZExpc3RlbmVyID0gcHJveHlTdGF0ZVsyXTtcbiAgbGV0IGlzTGlzdGVuZXJBY3RpdmUgPSBmYWxzZTtcbiAgY29uc3QgbGlzdGVuZXIgPSAob3ApID0+IHtcbiAgICBvcHMucHVzaChvcCk7XG4gICAgaWYgKG5vdGlmeUluU3luYykge1xuICAgICAgY2FsbGJhY2sob3BzLnNwbGljZSgwKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBwcm9taXNlID0gdm9pZCAwO1xuICAgICAgICBpZiAoaXNMaXN0ZW5lckFjdGl2ZSkge1xuICAgICAgICAgIGNhbGxiYWNrKG9wcy5zcGxpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICBpc0xpc3RlbmVyQWN0aXZlID0gdHJ1ZTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpc0xpc3RlbmVyQWN0aXZlID0gZmFsc2U7XG4gICAgcmVtb3ZlTGlzdGVuZXIoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHNuYXBzaG90KHByb3h5T2JqZWN0KSB7XG4gIGNvbnN0IHByb3h5U3RhdGUgPSBwcm94eVN0YXRlTWFwLmdldChwcm94eU9iamVjdCk7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhcHJveHlTdGF0ZSkge1xuICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgcHJveHkgb2JqZWN0XCIpO1xuICB9XG4gIGNvbnN0IFt0YXJnZXQsIGVuc3VyZVZlcnNpb25dID0gcHJveHlTdGF0ZTtcbiAgcmV0dXJuIGNyZWF0ZVNuYXBzaG90KHRhcmdldCwgZW5zdXJlVmVyc2lvbigpKTtcbn1cbmZ1bmN0aW9uIHJlZihvYmopIHtcbiAgcmVmU2V0LmFkZChvYmopO1xuICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gdW5zdGFibGVfZ2V0SW50ZXJuYWxTdGF0ZXMoKSB7XG4gIHJldHVybiB7XG4gICAgcHJveHlTdGF0ZU1hcCxcbiAgICByZWZTZXQsXG4gICAgc25hcENhY2hlLFxuICAgIHZlcnNpb25Ib2xkZXIsXG4gICAgcHJveHlDYWNoZVxuICB9O1xufVxuZnVuY3Rpb24gdW5zdGFibGVfcmVwbGFjZUludGVybmFsRnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBcIm9iamVjdElzXCI6XG4gICAgICBvYmplY3RJcyA9IGZuKG9iamVjdElzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJuZXdQcm94eVwiOlxuICAgICAgbmV3UHJveHkgPSBmbihuZXdQcm94eSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FuUHJveHlcIjpcbiAgICAgIGNhblByb3h5ID0gZm4oY2FuUHJveHkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNyZWF0ZVNuYXBzaG90XCI6XG4gICAgICBjcmVhdGVTbmFwc2hvdCA9IGZuKGNyZWF0ZVNuYXBzaG90KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjcmVhdGVIYW5kbGVyXCI6XG4gICAgICBjcmVhdGVIYW5kbGVyID0gZm4oY3JlYXRlSGFuZGxlcik7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRWZXJzaW9uLCBwcm94eSwgcmVmLCBzbmFwc2hvdCwgc3Vic2NyaWJlLCB1bnN0YWJsZV9nZXRJbnRlcm5hbFN0YXRlcywgdW5zdGFibGVfcmVwbGFjZUludGVybmFsRnVuY3Rpb24gfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs":
/*!***************************************************!*\
  !*** ./node_modules/valtio/esm/vanilla/utils.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deepClone: () => (/* binding */ deepClone),\n/* harmony export */   devtools: () => (/* binding */ devtools),\n/* harmony export */   proxyMap: () => (/* binding */ proxyMap),\n/* harmony export */   proxySet: () => (/* binding */ proxySet),\n/* harmony export */   subscribeKey: () => (/* binding */ subscribeKey),\n/* harmony export */   watch: () => (/* binding */ watch)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(app-pages-browser)/./node_modules/valtio/esm/vanilla.mjs\");\n\n\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\n  let prevValue = proxyObject[key];\n  return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(\n    proxyObject,\n    () => {\n      const nextValue = proxyObject[key];\n      if (!Object.is(prevValue, nextValue)) {\n        callback(prevValue = nextValue);\n      }\n    },\n    notifyInSync\n  );\n}\n\nlet currentCleanups;\nfunction watch(callback, options) {\n  let alive = true;\n  const cleanups = /* @__PURE__ */ new Set();\n  const subscriptions = /* @__PURE__ */ new Map();\n  const cleanup = () => {\n    if (alive) {\n      alive = false;\n      cleanups.forEach((clean) => clean());\n      cleanups.clear();\n      subscriptions.forEach((unsubscribe) => unsubscribe());\n      subscriptions.clear();\n    }\n  };\n  const revalidate = async () => {\n    if (!alive) {\n      return;\n    }\n    cleanups.forEach((clean) => clean());\n    cleanups.clear();\n    const proxiesToSubscribe = /* @__PURE__ */ new Set();\n    const parent = currentCleanups;\n    currentCleanups = cleanups;\n    try {\n      const promiseOrPossibleCleanup = callback((proxyObject) => {\n        proxiesToSubscribe.add(proxyObject);\n        if (alive && !subscriptions.has(proxyObject)) {\n          const unsubscribe = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, revalidate, options == null ? void 0 : options.sync);\n          subscriptions.set(proxyObject, unsubscribe);\n        }\n        return proxyObject;\n      });\n      const couldBeCleanup = promiseOrPossibleCleanup && promiseOrPossibleCleanup instanceof Promise ? await promiseOrPossibleCleanup : promiseOrPossibleCleanup;\n      if (couldBeCleanup) {\n        if (alive) {\n          cleanups.add(couldBeCleanup);\n        } else {\n          cleanup();\n        }\n      }\n    } finally {\n      currentCleanups = parent;\n    }\n    subscriptions.forEach((unsubscribe, proxyObject) => {\n      if (!proxiesToSubscribe.has(proxyObject)) {\n        subscriptions.delete(proxyObject);\n        unsubscribe();\n      }\n    });\n  };\n  if (currentCleanups) {\n    currentCleanups.add(cleanup);\n  }\n  revalidate();\n  return cleanup;\n}\n\nconst DEVTOOLS = Symbol();\nfunction devtools(proxyObject, options) {\n  const { enabled, name = \"\", ...rest } = options || {};\n  let extension;\n  try {\n    extension = (enabled != null ? enabled : ( false ? 0 : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extension) {\n    if (( false ? 0 : void 0) !== \"production\" && enabled) {\n      console.warn(\"[Warning] Please install/enable Redux devtools extension\");\n    }\n    return;\n  }\n  let isTimeTraveling = false;\n  const devtools2 = extension.connect({ name, ...rest });\n  const unsub1 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(proxyObject, (ops) => {\n    const action = ops.filter(([_, path]) => path[0] !== DEVTOOLS).map(([op, path]) => `${op}:${path.map(String).join(\".\")}`).join(\", \");\n    if (!action) {\n      return;\n    }\n    if (isTimeTraveling) {\n      isTimeTraveling = false;\n    } else {\n      const snapWithoutDevtools = Object.assign({}, (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n      delete snapWithoutDevtools[DEVTOOLS];\n      devtools2.send(\n        {\n          type: action,\n          updatedAt: (/* @__PURE__ */ new Date()).toLocaleString()\n        },\n        snapWithoutDevtools\n      );\n    }\n  });\n  const unsub2 = devtools2.subscribe((message) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (message.type === \"ACTION\" && message.payload) {\n      try {\n        Object.assign(proxyObject, JSON.parse(message.payload));\n      } catch (e) {\n        console.error(\n          \"please dispatch a serializable value that JSON.parse() and proxy() support\\n\",\n          e\n        );\n      }\n    }\n    if (message.type === \"DISPATCH\" && message.state) {\n      if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\n        isTimeTraveling = true;\n        const state = JSON.parse(message.state);\n        Object.assign(proxyObject, state);\n      }\n      proxyObject[DEVTOOLS] = message;\n    } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\n      devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n    } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\n      const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\n      const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\n      isTimeTraveling = true;\n      computedStates.forEach(({ state }, index) => {\n        const action = actions[index] || \"No action found\";\n        Object.assign(proxyObject, state);\n        if (index === 0) {\n          devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n        } else {\n          devtools2.send(action, (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n        }\n      });\n    }\n  });\n  devtools2.init((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(proxyObject));\n  return () => {\n    unsub1();\n    unsub2 == null ? void 0 : unsub2();\n  };\n}\n\nconst { proxyStateMap: proxyStateMap$1, snapCache: snapCache$1 } = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.unstable_getInternalStates)();\nconst isProxy$1 = (x) => proxyStateMap$1.has(x);\nconst isProxyMap = (obj) => {\n  return Symbol.toStringTag in obj && obj[Symbol.toStringTag] === \"Map\" && proxyStateMap$1.has(obj);\n};\nfunction proxyMap(entries) {\n  const initialData = [];\n  let initialIndex = 0;\n  const indexMap = /* @__PURE__ */ new Map();\n  const snapMapCache = /* @__PURE__ */ new WeakMap();\n  const registerSnapMap = () => {\n    const cache = snapCache$1.get(vObject);\n    const latestSnap = cache == null ? void 0 : cache[1];\n    if (latestSnap && !snapMapCache.has(latestSnap)) {\n      const clonedMap = new Map(indexMap);\n      snapMapCache.set(latestSnap, clonedMap);\n    }\n  };\n  const getMapForThis = (x) => snapMapCache.get(x) || indexMap;\n  if (entries) {\n    if (typeof entries[Symbol.iterator] !== \"function\") {\n      throw new TypeError(\n        \"proxyMap:\\n\tinitial state must be iterable\\n\t\ttip: structure should be [[key, value]]\"\n      );\n    }\n    for (const [key, value] of entries) {\n      indexMap.set(key, initialIndex);\n      initialData[initialIndex++] = value;\n    }\n  }\n  const vObject = {\n    data: initialData,\n    index: initialIndex,\n    epoch: 0,\n    get size() {\n      if (!isProxy$1(this)) {\n        registerSnapMap();\n      }\n      const map = getMapForThis(this);\n      return map.size;\n    },\n    get(key) {\n      const map = getMapForThis(this);\n      const index = map.get(key);\n      if (index === void 0) {\n        this.epoch;\n        return void 0;\n      }\n      return this.data[index];\n    },\n    has(key) {\n      const map = getMapForThis(this);\n      this.epoch;\n      return map.has(key);\n    },\n    set(key, value) {\n      if (!isProxy$1(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      const index = indexMap.get(key);\n      if (index === void 0) {\n        indexMap.set(key, this.index);\n        this.data[this.index++] = value;\n      } else {\n        this.data[index] = value;\n      }\n      this.epoch++;\n      return this;\n    },\n    delete(key) {\n      if (!isProxy$1(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      const index = indexMap.get(key);\n      if (index === void 0) {\n        return false;\n      }\n      delete this.data[index];\n      indexMap.delete(key);\n      this.epoch++;\n      return true;\n    },\n    clear() {\n      if (!isProxy$1(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      this.data.length = 0;\n      this.index = 0;\n      this.epoch++;\n      indexMap.clear();\n    },\n    forEach(cb) {\n      this.epoch;\n      const map = getMapForThis(this);\n      map.forEach((index, key) => {\n        cb(this.data[index], key, this);\n      });\n    },\n    *entries() {\n      this.epoch;\n      const map = getMapForThis(this);\n      for (const [key, index] of map) {\n        yield [key, this.data[index]];\n      }\n    },\n    *keys() {\n      this.epoch;\n      const map = getMapForThis(this);\n      for (const key of map.keys()) {\n        yield key;\n      }\n    },\n    *values() {\n      this.epoch;\n      const map = getMapForThis(this);\n      for (const index of map.values()) {\n        yield this.data[index];\n      }\n    },\n    [Symbol.iterator]() {\n      return this.entries();\n    },\n    get [Symbol.toStringTag]() {\n      return \"Map\";\n    },\n    toJSON() {\n      return new Map(this.entries());\n    }\n  };\n  const proxiedObject = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)(vObject);\n  Object.defineProperties(proxiedObject, {\n    size: { enumerable: false },\n    index: { enumerable: false },\n    epoch: { enumerable: false },\n    data: { enumerable: false },\n    toJSON: { enumerable: false }\n  });\n  Object.seal(proxiedObject);\n  return proxiedObject;\n}\n\nconst { proxyStateMap, snapCache } = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.unstable_getInternalStates)();\nconst maybeProxify = (x) => typeof x === \"object\" ? (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({ x }).x : x;\nconst isProxy = (x) => proxyStateMap.has(x);\nconst isProxySet = (obj) => {\n  return Symbol.toStringTag in obj && obj[Symbol.toStringTag] === \"Set\" && proxyStateMap.has(obj);\n};\nfunction proxySet(initialValues) {\n  const initialData = [];\n  const indexMap = /* @__PURE__ */ new Map();\n  let initialIndex = 0;\n  const snapMapCache = /* @__PURE__ */ new WeakMap();\n  const registerSnapMap = () => {\n    const cache = snapCache.get(vObject);\n    const latestSnap = cache == null ? void 0 : cache[1];\n    if (latestSnap && !snapMapCache.has(latestSnap)) {\n      const clonedMap = new Map(indexMap);\n      snapMapCache.set(latestSnap, clonedMap);\n    }\n  };\n  const getMapForThis = (x) => snapMapCache.get(x) || indexMap;\n  if (initialValues) {\n    if (typeof initialValues[Symbol.iterator] !== \"function\") {\n      throw new TypeError(\"not iterable\");\n    }\n    for (const value of initialValues) {\n      if (!indexMap.has(value)) {\n        const v = maybeProxify(value);\n        indexMap.set(v, initialIndex);\n        initialData[initialIndex++] = v;\n      }\n    }\n  }\n  const vObject = {\n    data: initialData,\n    index: initialIndex,\n    epoch: 0,\n    get size() {\n      if (!isProxy(this)) {\n        registerSnapMap();\n      }\n      return indexMap.size;\n    },\n    has(value) {\n      const map = getMapForThis(this);\n      const v = maybeProxify(value);\n      this.epoch;\n      return map.has(v);\n    },\n    add(value) {\n      if (!isProxy(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      const v = maybeProxify(value);\n      if (!indexMap.has(v)) {\n        indexMap.set(v, this.index);\n        this.data[this.index++] = v;\n        this.epoch++;\n      }\n      return this;\n    },\n    delete(value) {\n      if (!isProxy(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      const v = maybeProxify(value);\n      const index = indexMap.get(v);\n      if (index === void 0) {\n        return false;\n      }\n      delete this.data[index];\n      indexMap.delete(v);\n      this.epoch++;\n      return true;\n    },\n    clear() {\n      if (!isProxy(this)) {\n        throw new Error(\"Cannot perform mutations on a snapshot\");\n      }\n      this.data.length = 0;\n      this.index = 0;\n      this.epoch++;\n      indexMap.clear();\n    },\n    forEach(cb) {\n      this.epoch;\n      const map = getMapForThis(this);\n      map.forEach((index) => {\n        cb(this.data[index], this.data[index], this);\n      });\n    },\n    *values() {\n      this.epoch;\n      const map = getMapForThis(this);\n      for (const index of map.values()) {\n        yield this.data[index];\n      }\n    },\n    keys() {\n      this.epoch;\n      return this.values();\n    },\n    *entries() {\n      this.epoch;\n      const map = getMapForThis(this);\n      for (const index of map.values()) {\n        const value = this.data[index];\n        yield [value, value];\n      }\n    },\n    toJSON() {\n      return new Set(this.values());\n    },\n    [Symbol.iterator]() {\n      return this.values();\n    },\n    get [Symbol.toStringTag]() {\n      return \"Set\";\n    },\n    intersection(other) {\n      this.epoch;\n      const otherSet = proxySet(other);\n      const resultSet = proxySet();\n      for (const value of this.values()) {\n        if (otherSet.has(value)) {\n          resultSet.add(value);\n        }\n      }\n      return proxySet(resultSet);\n    },\n    union(other) {\n      this.epoch;\n      const resultSet = proxySet();\n      const otherSet = proxySet(other);\n      for (const value of this.values()) {\n        resultSet.add(value);\n      }\n      for (const value of otherSet) {\n        resultSet.add(value);\n      }\n      return proxySet(resultSet);\n    },\n    difference(other) {\n      this.epoch;\n      const resultSet = proxySet();\n      const otherSet = proxySet(other);\n      for (const value of this.values()) {\n        if (!otherSet.has(value)) {\n          resultSet.add(value);\n        }\n      }\n      return proxySet(resultSet);\n    },\n    symmetricDifference(other) {\n      this.epoch;\n      const resultSet = proxySet();\n      const otherSet = proxySet(other);\n      for (const value of this.values()) {\n        if (!otherSet.has(value)) {\n          resultSet.add(value);\n        }\n      }\n      for (const value of otherSet.values()) {\n        if (!this.has(value)) {\n          resultSet.add(value);\n        }\n      }\n      return proxySet(resultSet);\n    },\n    isSubsetOf(other) {\n      this.epoch;\n      const otherSet = proxySet(other);\n      return this.size <= other.size && [...this.values()].every((value) => otherSet.has(value));\n    },\n    isSupersetOf(other) {\n      this.epoch;\n      const otherSet = proxySet(other);\n      return this.size >= other.size && [...otherSet].every((value) => this.has(value));\n    },\n    isDisjointFrom(other) {\n      this.epoch;\n      const otherSet = proxySet(other);\n      return [...this.values()].every((value) => !otherSet.has(value));\n    }\n  };\n  const proxiedObject = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)(vObject);\n  Object.defineProperties(proxiedObject, {\n    size: { enumerable: false },\n    data: { enumerable: false },\n    index: { enumerable: false },\n    epoch: { enumerable: false },\n    toJSON: { enumerable: false }\n  });\n  Object.seal(proxiedObject);\n  return proxiedObject;\n}\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nlet defaultRefSet;\nconst getDefaultRefSet = () => {\n  if (!defaultRefSet) {\n    defaultRefSet = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.unstable_getInternalStates)().refSet;\n  }\n  return defaultRefSet;\n};\nfunction deepClone(obj, getRefSet = getDefaultRefSet) {\n  if (!isObject(obj) || getRefSet().has(obj)) {\n    return obj;\n  }\n  if (isProxySet(obj)) {\n    return proxySet([...obj]);\n  }\n  if (isProxyMap(obj)) {\n    return proxyMap([\n      ...obj.entries()\n    ]);\n  }\n  const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  Reflect.ownKeys(obj).forEach((key) => {\n    baseObject[key] = deepClone(obj[key], getRefSet);\n  });\n  return baseObject;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy92YWx0aW8vZXNtL3ZhbmlsbGEvdXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Y7O0FBRXhGO0FBQ0E7QUFDQSxTQUFTLHlEQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsOEJBQThCO0FBQ3hDO0FBQ0E7QUFDQSw4Q0FBOEMsTUFBZSxHQUFHLENBQW9CO0FBQ3BGLElBQUk7QUFDSjtBQUNBO0FBQ0EsU0FBUyxNQUFlLEdBQUcsQ0FBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxlQUFlO0FBQ3ZELGlCQUFpQix5REFBUztBQUMxQiwwRkFBMEYsR0FBRyxHQUFHLDJCQUEyQjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGtEQUFrRCxFQUFFLHdEQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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S0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFLO0FBQzdCO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0IsWUFBWSxtQkFBbUI7QUFDL0IsYUFBYSxtQkFBbUI7QUFDaEMsYUFBYSxtQkFBbUI7QUFDaEMsY0FBYztBQUNkLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEVBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUV3RSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy92YWx0aW8vZXNtL3ZhbmlsbGEvdXRpbHMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1YnNjcmliZSwgc25hcHNob3QsIHVuc3RhYmxlX2dldEludGVybmFsU3RhdGVzLCBwcm94eSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcblxuZnVuY3Rpb24gc3Vic2NyaWJlS2V5KHByb3h5T2JqZWN0LCBrZXksIGNhbGxiYWNrLCBub3RpZnlJblN5bmMpIHtcbiAgbGV0IHByZXZWYWx1ZSA9IHByb3h5T2JqZWN0W2tleV07XG4gIHJldHVybiBzdWJzY3JpYmUoXG4gICAgcHJveHlPYmplY3QsXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgbmV4dFZhbHVlID0gcHJveHlPYmplY3Rba2V5XTtcbiAgICAgIGlmICghT2JqZWN0LmlzKHByZXZWYWx1ZSwgbmV4dFZhbHVlKSkge1xuICAgICAgICBjYWxsYmFjayhwcmV2VmFsdWUgPSBuZXh0VmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbm90aWZ5SW5TeW5jXG4gICk7XG59XG5cbmxldCBjdXJyZW50Q2xlYW51cHM7XG5mdW5jdGlvbiB3YXRjaChjYWxsYmFjaywgb3B0aW9ucykge1xuICBsZXQgYWxpdmUgPSB0cnVlO1xuICBjb25zdCBjbGVhbnVwcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGlmIChhbGl2ZSkge1xuICAgICAgYWxpdmUgPSBmYWxzZTtcbiAgICAgIGNsZWFudXBzLmZvckVhY2goKGNsZWFuKSA9PiBjbGVhbigpKTtcbiAgICAgIGNsZWFudXBzLmNsZWFyKCk7XG4gICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICAgIHN1YnNjcmlwdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJldmFsaWRhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFhbGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhbnVwcy5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgY2xlYW51cHMuY2xlYXIoKTtcbiAgICBjb25zdCBwcm94aWVzVG9TdWJzY3JpYmUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGNvbnN0IHBhcmVudCA9IGN1cnJlbnRDbGVhbnVwcztcbiAgICBjdXJyZW50Q2xlYW51cHMgPSBjbGVhbnVwcztcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvbWlzZU9yUG9zc2libGVDbGVhbnVwID0gY2FsbGJhY2soKHByb3h5T2JqZWN0KSA9PiB7XG4gICAgICAgIHByb3hpZXNUb1N1YnNjcmliZS5hZGQocHJveHlPYmplY3QpO1xuICAgICAgICBpZiAoYWxpdmUgJiYgIXN1YnNjcmlwdGlvbnMuaGFzKHByb3h5T2JqZWN0KSkge1xuICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKHByb3h5T2JqZWN0LCByZXZhbGlkYXRlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnN5bmMpO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc2V0KHByb3h5T2JqZWN0LCB1bnN1YnNjcmliZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3h5T2JqZWN0O1xuICAgICAgfSk7XG4gICAgICBjb25zdCBjb3VsZEJlQ2xlYW51cCA9IHByb21pc2VPclBvc3NpYmxlQ2xlYW51cCAmJiBwcm9taXNlT3JQb3NzaWJsZUNsZWFudXAgaW5zdGFuY2VvZiBQcm9taXNlID8gYXdhaXQgcHJvbWlzZU9yUG9zc2libGVDbGVhbnVwIDogcHJvbWlzZU9yUG9zc2libGVDbGVhbnVwO1xuICAgICAgaWYgKGNvdWxkQmVDbGVhbnVwKSB7XG4gICAgICAgIGlmIChhbGl2ZSkge1xuICAgICAgICAgIGNsZWFudXBzLmFkZChjb3VsZEJlQ2xlYW51cCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGN1cnJlbnRDbGVhbnVwcyA9IHBhcmVudDtcbiAgICB9XG4gICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh1bnN1YnNjcmliZSwgcHJveHlPYmplY3QpID0+IHtcbiAgICAgIGlmICghcHJveGllc1RvU3Vic2NyaWJlLmhhcyhwcm94eU9iamVjdCkpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5kZWxldGUocHJveHlPYmplY3QpO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBpZiAoY3VycmVudENsZWFudXBzKSB7XG4gICAgY3VycmVudENsZWFudXBzLmFkZChjbGVhbnVwKTtcbiAgfVxuICByZXZhbGlkYXRlKCk7XG4gIHJldHVybiBjbGVhbnVwO1xufVxuXG5jb25zdCBERVZUT09MUyA9IFN5bWJvbCgpO1xuZnVuY3Rpb24gZGV2dG9vbHMocHJveHlPYmplY3QsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBlbmFibGVkLCBuYW1lID0gXCJcIiwgLi4ucmVzdCB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IGV4dGVuc2lvbjtcbiAgdHJ5IHtcbiAgICBleHRlbnNpb24gPSAoZW5hYmxlZCAhPSBudWxsID8gZW5hYmxlZCA6IChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXztcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGVuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltXYXJuaW5nXSBQbGVhc2UgaW5zdGFsbC9lbmFibGUgUmVkdXggZGV2dG9vbHMgZXh0ZW5zaW9uXCIpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGlzVGltZVRyYXZlbGluZyA9IGZhbHNlO1xuICBjb25zdCBkZXZ0b29sczIgPSBleHRlbnNpb24uY29ubmVjdCh7IG5hbWUsIC4uLnJlc3QgfSk7XG4gIGNvbnN0IHVuc3ViMSA9IHN1YnNjcmliZShwcm94eU9iamVjdCwgKG9wcykgPT4ge1xuICAgIGNvbnN0IGFjdGlvbiA9IG9wcy5maWx0ZXIoKFtfLCBwYXRoXSkgPT4gcGF0aFswXSAhPT0gREVWVE9PTFMpLm1hcCgoW29wLCBwYXRoXSkgPT4gYCR7b3B9OiR7cGF0aC5tYXAoU3RyaW5nKS5qb2luKFwiLlwiKX1gKS5qb2luKFwiLCBcIik7XG4gICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzVGltZVRyYXZlbGluZykge1xuICAgICAgaXNUaW1lVHJhdmVsaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNuYXBXaXRob3V0RGV2dG9vbHMgPSBPYmplY3QuYXNzaWduKHt9LCBzbmFwc2hvdChwcm94eU9iamVjdCkpO1xuICAgICAgZGVsZXRlIHNuYXBXaXRob3V0RGV2dG9vbHNbREVWVE9PTFNdO1xuICAgICAgZGV2dG9vbHMyLnNlbmQoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBhY3Rpb24sXG4gICAgICAgICAgdXBkYXRlZEF0OiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvTG9jYWxlU3RyaW5nKClcbiAgICAgICAgfSxcbiAgICAgICAgc25hcFdpdGhvdXREZXZ0b29sc1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB1bnN1YjIgPSBkZXZ0b29sczIuc3Vic2NyaWJlKChtZXNzYWdlKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJBQ1RJT05cIiAmJiBtZXNzYWdlLnBheWxvYWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocHJveHlPYmplY3QsIEpTT04ucGFyc2UobWVzc2FnZS5wYXlsb2FkKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJwbGVhc2UgZGlzcGF0Y2ggYSBzZXJpYWxpemFibGUgdmFsdWUgdGhhdCBKU09OLnBhcnNlKCkgYW5kIHByb3h5KCkgc3VwcG9ydFxcblwiLFxuICAgICAgICAgIGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJESVNQQVRDSFwiICYmIG1lc3NhZ2Uuc3RhdGUpIHtcbiAgICAgIGlmICgoKF9hID0gbWVzc2FnZS5wYXlsb2FkKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgPT09IFwiSlVNUF9UT19BQ1RJT05cIiB8fCAoKF9iID0gbWVzc2FnZS5wYXlsb2FkKSA9PSBudWxsID8gdm9pZCAwIDogX2IudHlwZSkgPT09IFwiSlVNUF9UT19TVEFURVwiKSB7XG4gICAgICAgIGlzVGltZVRyYXZlbGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gSlNPTi5wYXJzZShtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihwcm94eU9iamVjdCwgc3RhdGUpO1xuICAgICAgfVxuICAgICAgcHJveHlPYmplY3RbREVWVE9PTFNdID0gbWVzc2FnZTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJESVNQQVRDSFwiICYmICgoX2MgPSBtZXNzYWdlLnBheWxvYWQpID09IG51bGwgPyB2b2lkIDAgOiBfYy50eXBlKSA9PT0gXCJDT01NSVRcIikge1xuICAgICAgZGV2dG9vbHMyLmluaXQoc25hcHNob3QocHJveHlPYmplY3QpKTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJESVNQQVRDSFwiICYmICgoX2QgPSBtZXNzYWdlLnBheWxvYWQpID09IG51bGwgPyB2b2lkIDAgOiBfZC50eXBlKSA9PT0gXCJJTVBPUlRfU1RBVEVcIikge1xuICAgICAgY29uc3QgYWN0aW9ucyA9IChfZSA9IG1lc3NhZ2UucGF5bG9hZC5uZXh0TGlmdGVkU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZS5hY3Rpb25zQnlJZDtcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3RhdGVzID0gKChfZiA9IG1lc3NhZ2UucGF5bG9hZC5uZXh0TGlmdGVkU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jb21wdXRlZFN0YXRlcykgfHwgW107XG4gICAgICBpc1RpbWVUcmF2ZWxpbmcgPSB0cnVlO1xuICAgICAgY29tcHV0ZWRTdGF0ZXMuZm9yRWFjaCgoeyBzdGF0ZSB9LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2luZGV4XSB8fCBcIk5vIGFjdGlvbiBmb3VuZFwiO1xuICAgICAgICBPYmplY3QuYXNzaWduKHByb3h5T2JqZWN0LCBzdGF0ZSk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIGRldnRvb2xzMi5pbml0KHNuYXBzaG90KHByb3h5T2JqZWN0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV2dG9vbHMyLnNlbmQoYWN0aW9uLCBzbmFwc2hvdChwcm94eU9iamVjdCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBkZXZ0b29sczIuaW5pdChzbmFwc2hvdChwcm94eU9iamVjdCkpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHVuc3ViMSgpO1xuICAgIHVuc3ViMiA9PSBudWxsID8gdm9pZCAwIDogdW5zdWIyKCk7XG4gIH07XG59XG5cbmNvbnN0IHsgcHJveHlTdGF0ZU1hcDogcHJveHlTdGF0ZU1hcCQxLCBzbmFwQ2FjaGU6IHNuYXBDYWNoZSQxIH0gPSB1bnN0YWJsZV9nZXRJbnRlcm5hbFN0YXRlcygpO1xuY29uc3QgaXNQcm94eSQxID0gKHgpID0+IHByb3h5U3RhdGVNYXAkMS5oYXMoeCk7XG5jb25zdCBpc1Byb3h5TWFwID0gKG9iaikgPT4ge1xuICByZXR1cm4gU3ltYm9sLnRvU3RyaW5nVGFnIGluIG9iaiAmJiBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJNYXBcIiAmJiBwcm94eVN0YXRlTWFwJDEuaGFzKG9iaik7XG59O1xuZnVuY3Rpb24gcHJveHlNYXAoZW50cmllcykge1xuICBjb25zdCBpbml0aWFsRGF0YSA9IFtdO1xuICBsZXQgaW5pdGlhbEluZGV4ID0gMDtcbiAgY29uc3QgaW5kZXhNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBzbmFwTWFwQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgY29uc3QgcmVnaXN0ZXJTbmFwTWFwID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlID0gc25hcENhY2hlJDEuZ2V0KHZPYmplY3QpO1xuICAgIGNvbnN0IGxhdGVzdFNuYXAgPSBjYWNoZSA9PSBudWxsID8gdm9pZCAwIDogY2FjaGVbMV07XG4gICAgaWYgKGxhdGVzdFNuYXAgJiYgIXNuYXBNYXBDYWNoZS5oYXMobGF0ZXN0U25hcCkpIHtcbiAgICAgIGNvbnN0IGNsb25lZE1hcCA9IG5ldyBNYXAoaW5kZXhNYXApO1xuICAgICAgc25hcE1hcENhY2hlLnNldChsYXRlc3RTbmFwLCBjbG9uZWRNYXApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0TWFwRm9yVGhpcyA9ICh4KSA9PiBzbmFwTWFwQ2FjaGUuZ2V0KHgpIHx8IGluZGV4TWFwO1xuICBpZiAoZW50cmllcykge1xuICAgIGlmICh0eXBlb2YgZW50cmllc1tTeW1ib2wuaXRlcmF0b3JdICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwicHJveHlNYXA6XFxuXHRpbml0aWFsIHN0YXRlIG11c3QgYmUgaXRlcmFibGVcXG5cdFx0dGlwOiBzdHJ1Y3R1cmUgc2hvdWxkIGJlIFtba2V5LCB2YWx1ZV1dXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcbiAgICAgIGluZGV4TWFwLnNldChrZXksIGluaXRpYWxJbmRleCk7XG4gICAgICBpbml0aWFsRGF0YVtpbml0aWFsSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgdk9iamVjdCA9IHtcbiAgICBkYXRhOiBpbml0aWFsRGF0YSxcbiAgICBpbmRleDogaW5pdGlhbEluZGV4LFxuICAgIGVwb2NoOiAwLFxuICAgIGdldCBzaXplKCkge1xuICAgICAgaWYgKCFpc1Byb3h5JDEodGhpcykpIHtcbiAgICAgICAgcmVnaXN0ZXJTbmFwTWFwKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXAgPSBnZXRNYXBGb3JUaGlzKHRoaXMpO1xuICAgICAgcmV0dXJuIG1hcC5zaXplO1xuICAgIH0sXG4gICAgZ2V0KGtleSkge1xuICAgICAgY29uc3QgbWFwID0gZ2V0TWFwRm9yVGhpcyh0aGlzKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gbWFwLmdldChrZXkpO1xuICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy5lcG9jaDtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmRhdGFbaW5kZXhdO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgY29uc3QgbWFwID0gZ2V0TWFwRm9yVGhpcyh0aGlzKTtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICByZXR1cm4gbWFwLmhhcyhrZXkpO1xuICAgIH0sXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICghaXNQcm94eSQxKHRoaXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBwZXJmb3JtIG11dGF0aW9ucyBvbiBhIHNuYXBzaG90XCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5kZXggPSBpbmRleE1hcC5nZXQoa2V5KTtcbiAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluZGV4TWFwLnNldChrZXksIHRoaXMuaW5kZXgpO1xuICAgICAgICB0aGlzLmRhdGFbdGhpcy5pbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgdGhpcy5lcG9jaCsrO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICBpZiAoIWlzUHJveHkkMSh0aGlzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBtdXRhdGlvbnMgb24gYSBzbmFwc2hvdFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhNYXAuZ2V0KGtleSk7XG4gICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5kYXRhW2luZGV4XTtcbiAgICAgIGluZGV4TWFwLmRlbGV0ZShrZXkpO1xuICAgICAgdGhpcy5lcG9jaCsrO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBjbGVhcigpIHtcbiAgICAgIGlmICghaXNQcm94eSQxKHRoaXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBwZXJmb3JtIG11dGF0aW9ucyBvbiBhIHNuYXBzaG90XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgIHRoaXMuZXBvY2grKztcbiAgICAgIGluZGV4TWFwLmNsZWFyKCk7XG4gICAgfSxcbiAgICBmb3JFYWNoKGNiKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3QgbWFwID0gZ2V0TWFwRm9yVGhpcyh0aGlzKTtcbiAgICAgIG1hcC5mb3JFYWNoKChpbmRleCwga2V5KSA9PiB7XG4gICAgICAgIGNiKHRoaXMuZGF0YVtpbmRleF0sIGtleSwgdGhpcyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgICplbnRyaWVzKCkge1xuICAgICAgdGhpcy5lcG9jaDtcbiAgICAgIGNvbnN0IG1hcCA9IGdldE1hcEZvclRoaXModGhpcyk7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIGluZGV4XSBvZiBtYXApIHtcbiAgICAgICAgeWllbGQgW2tleSwgdGhpcy5kYXRhW2luZGV4XV07XG4gICAgICB9XG4gICAgfSxcbiAgICAqa2V5cygpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCBtYXAgPSBnZXRNYXBGb3JUaGlzKHRoaXMpO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgbWFwLmtleXMoKSkge1xuICAgICAgICB5aWVsZCBrZXk7XG4gICAgICB9XG4gICAgfSxcbiAgICAqdmFsdWVzKCkge1xuICAgICAgdGhpcy5lcG9jaDtcbiAgICAgIGNvbnN0IG1hcCA9IGdldE1hcEZvclRoaXModGhpcyk7XG4gICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIG1hcC52YWx1ZXMoKSkge1xuICAgICAgICB5aWVsZCB0aGlzLmRhdGFbaW5kZXhdO1xuICAgICAgfVxuICAgIH0sXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgfSxcbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICByZXR1cm4gXCJNYXBcIjtcbiAgICB9LFxuICAgIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwKHRoaXMuZW50cmllcygpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb3hpZWRPYmplY3QgPSBwcm94eSh2T2JqZWN0KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJveGllZE9iamVjdCwge1xuICAgIHNpemU6IHsgZW51bWVyYWJsZTogZmFsc2UgfSxcbiAgICBpbmRleDogeyBlbnVtZXJhYmxlOiBmYWxzZSB9LFxuICAgIGVwb2NoOiB7IGVudW1lcmFibGU6IGZhbHNlIH0sXG4gICAgZGF0YTogeyBlbnVtZXJhYmxlOiBmYWxzZSB9LFxuICAgIHRvSlNPTjogeyBlbnVtZXJhYmxlOiBmYWxzZSB9XG4gIH0pO1xuICBPYmplY3Quc2VhbChwcm94aWVkT2JqZWN0KTtcbiAgcmV0dXJuIHByb3hpZWRPYmplY3Q7XG59XG5cbmNvbnN0IHsgcHJveHlTdGF0ZU1hcCwgc25hcENhY2hlIH0gPSB1bnN0YWJsZV9nZXRJbnRlcm5hbFN0YXRlcygpO1xuY29uc3QgbWF5YmVQcm94aWZ5ID0gKHgpID0+IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiID8gcHJveHkoeyB4IH0pLnggOiB4O1xuY29uc3QgaXNQcm94eSA9ICh4KSA9PiBwcm94eVN0YXRlTWFwLmhhcyh4KTtcbmNvbnN0IGlzUHJveHlTZXQgPSAob2JqKSA9PiB7XG4gIHJldHVybiBTeW1ib2wudG9TdHJpbmdUYWcgaW4gb2JqICYmIG9ialtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIlNldFwiICYmIHByb3h5U3RhdGVNYXAuaGFzKG9iaik7XG59O1xuZnVuY3Rpb24gcHJveHlTZXQoaW5pdGlhbFZhbHVlcykge1xuICBjb25zdCBpbml0aWFsRGF0YSA9IFtdO1xuICBjb25zdCBpbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBpbml0aWFsSW5kZXggPSAwO1xuICBjb25zdCBzbmFwTWFwQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgY29uc3QgcmVnaXN0ZXJTbmFwTWFwID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlID0gc25hcENhY2hlLmdldCh2T2JqZWN0KTtcbiAgICBjb25zdCBsYXRlc3RTbmFwID0gY2FjaGUgPT0gbnVsbCA/IHZvaWQgMCA6IGNhY2hlWzFdO1xuICAgIGlmIChsYXRlc3RTbmFwICYmICFzbmFwTWFwQ2FjaGUuaGFzKGxhdGVzdFNuYXApKSB7XG4gICAgICBjb25zdCBjbG9uZWRNYXAgPSBuZXcgTWFwKGluZGV4TWFwKTtcbiAgICAgIHNuYXBNYXBDYWNoZS5zZXQobGF0ZXN0U25hcCwgY2xvbmVkTWFwKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldE1hcEZvclRoaXMgPSAoeCkgPT4gc25hcE1hcENhY2hlLmdldCh4KSB8fCBpbmRleE1hcDtcbiAgaWYgKGluaXRpYWxWYWx1ZXMpIHtcbiAgICBpZiAodHlwZW9mIGluaXRpYWxWYWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IGl0ZXJhYmxlXCIpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGluaXRpYWxWYWx1ZXMpIHtcbiAgICAgIGlmICghaW5kZXhNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2ID0gbWF5YmVQcm94aWZ5KHZhbHVlKTtcbiAgICAgICAgaW5kZXhNYXAuc2V0KHYsIGluaXRpYWxJbmRleCk7XG4gICAgICAgIGluaXRpYWxEYXRhW2luaXRpYWxJbmRleCsrXSA9IHY7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHZPYmplY3QgPSB7XG4gICAgZGF0YTogaW5pdGlhbERhdGEsXG4gICAgaW5kZXg6IGluaXRpYWxJbmRleCxcbiAgICBlcG9jaDogMCxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIGlmICghaXNQcm94eSh0aGlzKSkge1xuICAgICAgICByZWdpc3RlclNuYXBNYXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleE1hcC5zaXplO1xuICAgIH0sXG4gICAgaGFzKHZhbHVlKSB7XG4gICAgICBjb25zdCBtYXAgPSBnZXRNYXBGb3JUaGlzKHRoaXMpO1xuICAgICAgY29uc3QgdiA9IG1heWJlUHJveGlmeSh2YWx1ZSk7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgcmV0dXJuIG1hcC5oYXModik7XG4gICAgfSxcbiAgICBhZGQodmFsdWUpIHtcbiAgICAgIGlmICghaXNQcm94eSh0aGlzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBtdXRhdGlvbnMgb24gYSBzbmFwc2hvdFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHYgPSBtYXliZVByb3hpZnkodmFsdWUpO1xuICAgICAgaWYgKCFpbmRleE1hcC5oYXModikpIHtcbiAgICAgICAgaW5kZXhNYXAuc2V0KHYsIHRoaXMuaW5kZXgpO1xuICAgICAgICB0aGlzLmRhdGFbdGhpcy5pbmRleCsrXSA9IHY7XG4gICAgICAgIHRoaXMuZXBvY2grKztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZGVsZXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzUHJveHkodGhpcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gbXV0YXRpb25zIG9uIGEgc25hcHNob3RcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB2ID0gbWF5YmVQcm94aWZ5KHZhbHVlKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhNYXAuZ2V0KHYpO1xuICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMuZGF0YVtpbmRleF07XG4gICAgICBpbmRleE1hcC5kZWxldGUodik7XG4gICAgICB0aGlzLmVwb2NoKys7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgaWYgKCFpc1Byb3h5KHRoaXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBwZXJmb3JtIG11dGF0aW9ucyBvbiBhIHNuYXBzaG90XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgIHRoaXMuZXBvY2grKztcbiAgICAgIGluZGV4TWFwLmNsZWFyKCk7XG4gICAgfSxcbiAgICBmb3JFYWNoKGNiKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3QgbWFwID0gZ2V0TWFwRm9yVGhpcyh0aGlzKTtcbiAgICAgIG1hcC5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgICBjYih0aGlzLmRhdGFbaW5kZXhdLCB0aGlzLmRhdGFbaW5kZXhdLCB0aGlzKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKnZhbHVlcygpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCBtYXAgPSBnZXRNYXBGb3JUaGlzKHRoaXMpO1xuICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBtYXAudmFsdWVzKCkpIHtcbiAgICAgICAgeWllbGQgdGhpcy5kYXRhW2luZGV4XTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGtleXMoKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgfSxcbiAgICAqZW50cmllcygpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCBtYXAgPSBnZXRNYXBGb3JUaGlzKHRoaXMpO1xuICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBtYXAudmFsdWVzKCkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRhdGFbaW5kZXhdO1xuICAgICAgICB5aWVsZCBbdmFsdWUsIHZhbHVlXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHRoaXMudmFsdWVzKCkpO1xuICAgIH0sXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICB9LFxuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgIHJldHVybiBcIlNldFwiO1xuICAgIH0sXG4gICAgaW50ZXJzZWN0aW9uKG90aGVyKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3Qgb3RoZXJTZXQgPSBwcm94eVNldChvdGhlcik7XG4gICAgICBjb25zdCByZXN1bHRTZXQgPSBwcm94eVNldCgpO1xuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnZhbHVlcygpKSB7XG4gICAgICAgIGlmIChvdGhlclNldC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgcmVzdWx0U2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm94eVNldChyZXN1bHRTZXQpO1xuICAgIH0sXG4gICAgdW5pb24ob3RoZXIpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCByZXN1bHRTZXQgPSBwcm94eVNldCgpO1xuICAgICAgY29uc3Qgb3RoZXJTZXQgPSBwcm94eVNldChvdGhlcik7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgcmVzdWx0U2V0LmFkZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG90aGVyU2V0KSB7XG4gICAgICAgIHJlc3VsdFNldC5hZGQodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3h5U2V0KHJlc3VsdFNldCk7XG4gICAgfSxcbiAgICBkaWZmZXJlbmNlKG90aGVyKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3QgcmVzdWx0U2V0ID0gcHJveHlTZXQoKTtcbiAgICAgIGNvbnN0IG90aGVyU2V0ID0gcHJveHlTZXQob3RoZXIpO1xuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnZhbHVlcygpKSB7XG4gICAgICAgIGlmICghb3RoZXJTZXQuaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHJlc3VsdFNldC5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJveHlTZXQocmVzdWx0U2V0KTtcbiAgICB9LFxuICAgIHN5bW1ldHJpY0RpZmZlcmVuY2Uob3RoZXIpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCByZXN1bHRTZXQgPSBwcm94eVNldCgpO1xuICAgICAgY29uc3Qgb3RoZXJTZXQgPSBwcm94eVNldChvdGhlcik7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKCFvdGhlclNldC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgcmVzdWx0U2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2Ygb3RoZXJTZXQudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICByZXN1bHRTZXQuYWRkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3h5U2V0KHJlc3VsdFNldCk7XG4gICAgfSxcbiAgICBpc1N1YnNldE9mKG90aGVyKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3Qgb3RoZXJTZXQgPSBwcm94eVNldChvdGhlcik7XG4gICAgICByZXR1cm4gdGhpcy5zaXplIDw9IG90aGVyLnNpemUgJiYgWy4uLnRoaXMudmFsdWVzKCldLmV2ZXJ5KCh2YWx1ZSkgPT4gb3RoZXJTZXQuaGFzKHZhbHVlKSk7XG4gICAgfSxcbiAgICBpc1N1cGVyc2V0T2Yob3RoZXIpIHtcbiAgICAgIHRoaXMuZXBvY2g7XG4gICAgICBjb25zdCBvdGhlclNldCA9IHByb3h5U2V0KG90aGVyKTtcbiAgICAgIHJldHVybiB0aGlzLnNpemUgPj0gb3RoZXIuc2l6ZSAmJiBbLi4ub3RoZXJTZXRdLmV2ZXJ5KCh2YWx1ZSkgPT4gdGhpcy5oYXModmFsdWUpKTtcbiAgICB9LFxuICAgIGlzRGlzam9pbnRGcm9tKG90aGVyKSB7XG4gICAgICB0aGlzLmVwb2NoO1xuICAgICAgY29uc3Qgb3RoZXJTZXQgPSBwcm94eVNldChvdGhlcik7XG4gICAgICByZXR1cm4gWy4uLnRoaXMudmFsdWVzKCldLmV2ZXJ5KCh2YWx1ZSkgPT4gIW90aGVyU2V0Lmhhcyh2YWx1ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJveGllZE9iamVjdCA9IHByb3h5KHZPYmplY3QpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm94aWVkT2JqZWN0LCB7XG4gICAgc2l6ZTogeyBlbnVtZXJhYmxlOiBmYWxzZSB9LFxuICAgIGRhdGE6IHsgZW51bWVyYWJsZTogZmFsc2UgfSxcbiAgICBpbmRleDogeyBlbnVtZXJhYmxlOiBmYWxzZSB9LFxuICAgIGVwb2NoOiB7IGVudW1lcmFibGU6IGZhbHNlIH0sXG4gICAgdG9KU09OOiB7IGVudW1lcmFibGU6IGZhbHNlIH1cbiAgfSk7XG4gIE9iamVjdC5zZWFsKHByb3hpZWRPYmplY3QpO1xuICByZXR1cm4gcHJveGllZE9iamVjdDtcbn1cblxuY29uc3QgaXNPYmplY3QgPSAoeCkgPT4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeCAhPT0gbnVsbDtcbmxldCBkZWZhdWx0UmVmU2V0O1xuY29uc3QgZ2V0RGVmYXVsdFJlZlNldCA9ICgpID0+IHtcbiAgaWYgKCFkZWZhdWx0UmVmU2V0KSB7XG4gICAgZGVmYXVsdFJlZlNldCA9IHVuc3RhYmxlX2dldEludGVybmFsU3RhdGVzKCkucmVmU2V0O1xuICB9XG4gIHJldHVybiBkZWZhdWx0UmVmU2V0O1xufTtcbmZ1bmN0aW9uIGRlZXBDbG9uZShvYmosIGdldFJlZlNldCA9IGdldERlZmF1bHRSZWZTZXQpIHtcbiAgaWYgKCFpc09iamVjdChvYmopIHx8IGdldFJlZlNldCgpLmhhcyhvYmopKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBpZiAoaXNQcm94eVNldChvYmopKSB7XG4gICAgcmV0dXJuIHByb3h5U2V0KFsuLi5vYmpdKTtcbiAgfVxuICBpZiAoaXNQcm94eU1hcChvYmopKSB7XG4gICAgcmV0dXJuIHByb3h5TWFwKFtcbiAgICAgIC4uLm9iai5lbnRyaWVzKClcbiAgICBdKTtcbiAgfVxuICBjb25zdCBiYXNlT2JqZWN0ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKTtcbiAgUmVmbGVjdC5vd25LZXlzKG9iaikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgYmFzZU9iamVjdFtrZXldID0gZGVlcENsb25lKG9ialtrZXldLCBnZXRSZWZTZXQpO1xuICB9KTtcbiAgcmV0dXJuIGJhc2VPYmplY3Q7XG59XG5cbmV4cG9ydCB7IGRlZXBDbG9uZSwgZGV2dG9vbHMsIHByb3h5TWFwLCBwcm94eVNldCwgc3Vic2NyaWJlS2V5LCB3YXRjaCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/valtio/esm/vanilla/utils.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/viem/_esm/clients/transports/fallback.js":
/*!***************************************************************!*\
  !*** ./node_modules/viem/_esm/clients/transports/fallback.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fallback: () => (/* binding */ fallback),\n/* harmony export */   rankTransports: () => (/* binding */ rankTransports),\n/* harmony export */   shouldThrow: () => (/* binding */ shouldThrow)\n/* harmony export */ });\n/* harmony import */ var _errors_node_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/node.js */ \"(app-pages-browser)/./node_modules/viem/_esm/errors/node.js\");\n/* harmony import */ var _errors_rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/rpc.js */ \"(app-pages-browser)/./node_modules/viem/_esm/errors/rpc.js\");\n/* harmony import */ var _utils_wait_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/wait.js */ \"(app-pages-browser)/./node_modules/viem/_esm/utils/wait.js\");\n/* harmony import */ var _createTransport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createTransport.js */ \"(app-pages-browser)/./node_modules/viem/_esm/clients/transports/createTransport.js\");\n\n\n\n\nfunction fallback(transports_, config = {}) {\n    const { key = 'fallback', name = 'Fallback', rank = false, shouldThrow: shouldThrow_ = shouldThrow, retryCount, retryDelay, } = config;\n    return (({ chain, pollingInterval = 4_000, timeout, ...rest }) => {\n        let transports = transports_;\n        let onResponse = () => { };\n        const transport = (0,_createTransport_js__WEBPACK_IMPORTED_MODULE_0__.createTransport)({\n            key,\n            name,\n            async request({ method, params }) {\n                let includes;\n                const fetch = async (i = 0) => {\n                    const transport = transports[i]({\n                        ...rest,\n                        chain,\n                        retryCount: 0,\n                        timeout,\n                    });\n                    try {\n                        const response = await transport.request({\n                            method,\n                            params,\n                        });\n                        onResponse({\n                            method,\n                            params: params,\n                            response,\n                            transport,\n                            status: 'success',\n                        });\n                        return response;\n                    }\n                    catch (err) {\n                        onResponse({\n                            error: err,\n                            method,\n                            params: params,\n                            transport,\n                            status: 'error',\n                        });\n                        if (shouldThrow_(err))\n                            throw err;\n                        // If we've reached the end of the fallbacks, throw the error.\n                        if (i === transports.length - 1)\n                            throw err;\n                        // Check if at least one other transport includes the method\n                        includes ??= transports.slice(i + 1).some((transport) => {\n                            const { include, exclude } = transport({ chain }).config.methods || {};\n                            if (include)\n                                return include.includes(method);\n                            if (exclude)\n                                return !exclude.includes(method);\n                            return true;\n                        });\n                        if (!includes)\n                            throw err;\n                        // Otherwise, try the next fallback.\n                        return fetch(i + 1);\n                    }\n                };\n                return fetch();\n            },\n            retryCount,\n            retryDelay,\n            type: 'fallback',\n        }, {\n            onResponse: (fn) => (onResponse = fn),\n            transports: transports.map((fn) => fn({ chain, retryCount: 0 })),\n        });\n        if (rank) {\n            const rankOptions = (typeof rank === 'object' ? rank : {});\n            rankTransports({\n                chain,\n                interval: rankOptions.interval ?? pollingInterval,\n                onTransports: (transports_) => (transports = transports_),\n                ping: rankOptions.ping,\n                sampleCount: rankOptions.sampleCount,\n                timeout: rankOptions.timeout,\n                transports,\n                weights: rankOptions.weights,\n            });\n        }\n        return transport;\n    });\n}\nfunction shouldThrow(error) {\n    if ('code' in error && typeof error.code === 'number') {\n        if (error.code === _errors_rpc_js__WEBPACK_IMPORTED_MODULE_1__.TransactionRejectedRpcError.code ||\n            error.code === _errors_rpc_js__WEBPACK_IMPORTED_MODULE_1__.UserRejectedRequestError.code ||\n            _errors_node_js__WEBPACK_IMPORTED_MODULE_2__.ExecutionRevertedError.nodeMessage.test(error.message) ||\n            error.code === 5000 // CAIP UserRejectedRequestError\n        )\n            return true;\n    }\n    return false;\n}\n/** @internal */\nfunction rankTransports({ chain, interval = 4_000, onTransports, ping, sampleCount = 10, timeout = 1_000, transports, weights = {}, }) {\n    const { stability: stabilityWeight = 0.7, latency: latencyWeight = 0.3 } = weights;\n    const samples = [];\n    const rankTransports_ = async () => {\n        // 1. Take a sample from each Transport.\n        const sample = await Promise.all(transports.map(async (transport) => {\n            const transport_ = transport({ chain, retryCount: 0, timeout });\n            const start = Date.now();\n            let end;\n            let success;\n            try {\n                await (ping\n                    ? ping({ transport: transport_ })\n                    : transport_.request({ method: 'net_listening' }));\n                success = 1;\n            }\n            catch {\n                success = 0;\n            }\n            finally {\n                end = Date.now();\n            }\n            const latency = end - start;\n            return { latency, success };\n        }));\n        // 2. Store the sample. If we have more than `sampleCount` samples, remove\n        // the oldest sample.\n        samples.push(sample);\n        if (samples.length > sampleCount)\n            samples.shift();\n        // 3. Calculate the max latency from samples.\n        const maxLatency = Math.max(...samples.map((sample) => Math.max(...sample.map(({ latency }) => latency))));\n        // 4. Calculate the score for each Transport.\n        const scores = transports\n            .map((_, i) => {\n            const latencies = samples.map((sample) => sample[i].latency);\n            const meanLatency = latencies.reduce((acc, latency) => acc + latency, 0) /\n                latencies.length;\n            const latencyScore = 1 - meanLatency / maxLatency;\n            const successes = samples.map((sample) => sample[i].success);\n            const stabilityScore = successes.reduce((acc, success) => acc + success, 0) /\n                successes.length;\n            if (stabilityScore === 0)\n                return [0, i];\n            return [\n                latencyWeight * latencyScore + stabilityWeight * stabilityScore,\n                i,\n            ];\n        })\n            .sort((a, b) => b[0] - a[0]);\n        // 5. Sort the Transports by score.\n        onTransports(scores.map(([, i]) => transports[i]));\n        // 6. Wait, and then rank again.\n        await (0,_utils_wait_js__WEBPACK_IMPORTED_MODULE_3__.wait)(interval);\n        rankTransports_();\n    };\n    rankTransports_();\n}\n//# sourceMappingURL=fallback.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy92aWVtL19lc20vY2xpZW50cy90cmFuc3BvcnRzL2ZhbGxiYWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFDK0I7QUFDbEQ7QUFDYTtBQUNqRCwwQ0FBMEM7QUFDakQsWUFBWSxzSEFBc0g7QUFDbEksZUFBZSxrREFBa0Q7QUFDakU7QUFDQTtBQUNBLDBCQUEwQixvRUFBZTtBQUN6QztBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQixjQUFjLE9BQU87QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvREFBb0Qsc0JBQXNCO0FBQzFFLFNBQVM7QUFDVDtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQSwyQkFBMkIsdUVBQTJCO0FBQ3RELDJCQUEyQixvRUFBd0I7QUFDbkQsWUFBWSxtRUFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsd0dBQXdHLEdBQUc7QUFDNUksWUFBWSxpRUFBaUU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsK0JBQStCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BELDJDQUEyQyx5QkFBeUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsU0FBUztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0RBQUk7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ppc2hhbi9jb2luZmxvdy9vcGVucHVtcC1hcGkvd2ViL25vZGVfbW9kdWxlcy92aWVtL19lc20vY2xpZW50cy90cmFuc3BvcnRzL2ZhbGxiYWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4ZWN1dGlvblJldmVydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMvbm9kZS5qcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblJlamVjdGVkUnBjRXJyb3IsIFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvciwgfSBmcm9tICcuLi8uLi9lcnJvcnMvcnBjLmpzJztcbmltcG9ydCB7IHdhaXQgfSBmcm9tICcuLi8uLi91dGlscy93YWl0LmpzJztcbmltcG9ydCB7IGNyZWF0ZVRyYW5zcG9ydCwgfSBmcm9tICcuL2NyZWF0ZVRyYW5zcG9ydC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZmFsbGJhY2sodHJhbnNwb3J0c18sIGNvbmZpZyA9IHt9KSB7XG4gICAgY29uc3QgeyBrZXkgPSAnZmFsbGJhY2snLCBuYW1lID0gJ0ZhbGxiYWNrJywgcmFuayA9IGZhbHNlLCBzaG91bGRUaHJvdzogc2hvdWxkVGhyb3dfID0gc2hvdWxkVGhyb3csIHJldHJ5Q291bnQsIHJldHJ5RGVsYXksIH0gPSBjb25maWc7XG4gICAgcmV0dXJuICgoeyBjaGFpbiwgcG9sbGluZ0ludGVydmFsID0gNF8wMDAsIHRpbWVvdXQsIC4uLnJlc3QgfSkgPT4ge1xuICAgICAgICBsZXQgdHJhbnNwb3J0cyA9IHRyYW5zcG9ydHNfO1xuICAgICAgICBsZXQgb25SZXNwb25zZSA9ICgpID0+IHsgfTtcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhc3luYyByZXF1ZXN0KHsgbWV0aG9kLCBwYXJhbXMgfSkge1xuICAgICAgICAgICAgICAgIGxldCBpbmNsdWRlcztcbiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaCA9IGFzeW5jIChpID0gMCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSB0cmFuc3BvcnRzW2ldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkVGhyb3dfKGVycikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBmYWxsYmFja3MsIHRocm93IHRoZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSB0cmFuc3BvcnRzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYXQgbGVhc3Qgb25lIG90aGVyIHRyYW5zcG9ydCBpbmNsdWRlcyB0aGUgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlcyA/Pz0gdHJhbnNwb3J0cy5zbGljZShpICsgMSkuc29tZSgodHJhbnNwb3J0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlIH0gPSB0cmFuc3BvcnQoeyBjaGFpbiB9KS5jb25maWcubWV0aG9kcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGUuaW5jbHVkZXMobWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFleGNsdWRlLmluY2x1ZGVzKG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5jbHVkZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0cnkgdGhlIG5leHQgZmFsbGJhY2suXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXRyeUNvdW50LFxuICAgICAgICAgICAgcmV0cnlEZWxheSxcbiAgICAgICAgICAgIHR5cGU6ICdmYWxsYmFjaycsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9uUmVzcG9uc2U6IChmbikgPT4gKG9uUmVzcG9uc2UgPSBmbiksXG4gICAgICAgICAgICB0cmFuc3BvcnRzOiB0cmFuc3BvcnRzLm1hcCgoZm4pID0+IGZuKHsgY2hhaW4sIHJldHJ5Q291bnQ6IDAgfSkpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJhbmspIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmtPcHRpb25zID0gKHR5cGVvZiByYW5rID09PSAnb2JqZWN0JyA/IHJhbmsgOiB7fSk7XG4gICAgICAgICAgICByYW5rVHJhbnNwb3J0cyh7XG4gICAgICAgICAgICAgICAgY2hhaW4sXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IHJhbmtPcHRpb25zLmludGVydmFsID8/IHBvbGxpbmdJbnRlcnZhbCxcbiAgICAgICAgICAgICAgICBvblRyYW5zcG9ydHM6ICh0cmFuc3BvcnRzXykgPT4gKHRyYW5zcG9ydHMgPSB0cmFuc3BvcnRzXyksXG4gICAgICAgICAgICAgICAgcGluZzogcmFua09wdGlvbnMucGluZyxcbiAgICAgICAgICAgICAgICBzYW1wbGVDb3VudDogcmFua09wdGlvbnMuc2FtcGxlQ291bnQsXG4gICAgICAgICAgICAgICAgdGltZW91dDogcmFua09wdGlvbnMudGltZW91dCxcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRzLFxuICAgICAgICAgICAgICAgIHdlaWdodHM6IHJhbmtPcHRpb25zLndlaWdodHMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNwb3J0O1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFRocm93KGVycm9yKSB7XG4gICAgaWYgKCdjb2RlJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IuY29kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFRyYW5zYWN0aW9uUmVqZWN0ZWRScGNFcnJvci5jb2RlIHx8XG4gICAgICAgICAgICBlcnJvci5jb2RlID09PSBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IuY29kZSB8fFxuICAgICAgICAgICAgRXhlY3V0aW9uUmV2ZXJ0ZWRFcnJvci5ub2RlTWVzc2FnZS50ZXN0KGVycm9yLm1lc3NhZ2UpIHx8XG4gICAgICAgICAgICBlcnJvci5jb2RlID09PSA1MDAwIC8vIENBSVAgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yXG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gcmFua1RyYW5zcG9ydHMoeyBjaGFpbiwgaW50ZXJ2YWwgPSA0XzAwMCwgb25UcmFuc3BvcnRzLCBwaW5nLCBzYW1wbGVDb3VudCA9IDEwLCB0aW1lb3V0ID0gMV8wMDAsIHRyYW5zcG9ydHMsIHdlaWdodHMgPSB7fSwgfSkge1xuICAgIGNvbnN0IHsgc3RhYmlsaXR5OiBzdGFiaWxpdHlXZWlnaHQgPSAwLjcsIGxhdGVuY3k6IGxhdGVuY3lXZWlnaHQgPSAwLjMgfSA9IHdlaWdodHM7XG4gICAgY29uc3Qgc2FtcGxlcyA9IFtdO1xuICAgIGNvbnN0IHJhbmtUcmFuc3BvcnRzXyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gMS4gVGFrZSBhIHNhbXBsZSBmcm9tIGVhY2ggVHJhbnNwb3J0LlxuICAgICAgICBjb25zdCBzYW1wbGUgPSBhd2FpdCBQcm9taXNlLmFsbCh0cmFuc3BvcnRzLm1hcChhc3luYyAodHJhbnNwb3J0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnRfID0gdHJhbnNwb3J0KHsgY2hhaW4sIHJldHJ5Q291bnQ6IDAsIHRpbWVvdXQgfSk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBsZXQgZW5kO1xuICAgICAgICAgICAgbGV0IHN1Y2Nlc3M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IChwaW5nXG4gICAgICAgICAgICAgICAgICAgID8gcGluZyh7IHRyYW5zcG9ydDogdHJhbnNwb3J0XyB9KVxuICAgICAgICAgICAgICAgICAgICA6IHRyYW5zcG9ydF8ucmVxdWVzdCh7IG1ldGhvZDogJ25ldF9saXN0ZW5pbmcnIH0pKTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGVuZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsYXRlbmN5ID0gZW5kIC0gc3RhcnQ7XG4gICAgICAgICAgICByZXR1cm4geyBsYXRlbmN5LCBzdWNjZXNzIH07XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gMi4gU3RvcmUgdGhlIHNhbXBsZS4gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gYHNhbXBsZUNvdW50YCBzYW1wbGVzLCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG9sZGVzdCBzYW1wbGUuXG4gICAgICAgIHNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPiBzYW1wbGVDb3VudClcbiAgICAgICAgICAgIHNhbXBsZXMuc2hpZnQoKTtcbiAgICAgICAgLy8gMy4gQ2FsY3VsYXRlIHRoZSBtYXggbGF0ZW5jeSBmcm9tIHNhbXBsZXMuXG4gICAgICAgIGNvbnN0IG1heExhdGVuY3kgPSBNYXRoLm1heCguLi5zYW1wbGVzLm1hcCgoc2FtcGxlKSA9PiBNYXRoLm1heCguLi5zYW1wbGUubWFwKCh7IGxhdGVuY3kgfSkgPT4gbGF0ZW5jeSkpKSk7XG4gICAgICAgIC8vIDQuIENhbGN1bGF0ZSB0aGUgc2NvcmUgZm9yIGVhY2ggVHJhbnNwb3J0LlxuICAgICAgICBjb25zdCBzY29yZXMgPSB0cmFuc3BvcnRzXG4gICAgICAgICAgICAubWFwKChfLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYXRlbmNpZXMgPSBzYW1wbGVzLm1hcCgoc2FtcGxlKSA9PiBzYW1wbGVbaV0ubGF0ZW5jeSk7XG4gICAgICAgICAgICBjb25zdCBtZWFuTGF0ZW5jeSA9IGxhdGVuY2llcy5yZWR1Y2UoKGFjYywgbGF0ZW5jeSkgPT4gYWNjICsgbGF0ZW5jeSwgMCkgL1xuICAgICAgICAgICAgICAgIGxhdGVuY2llcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBsYXRlbmN5U2NvcmUgPSAxIC0gbWVhbkxhdGVuY3kgLyBtYXhMYXRlbmN5O1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gc2FtcGxlcy5tYXAoKHNhbXBsZSkgPT4gc2FtcGxlW2ldLnN1Y2Nlc3MpO1xuICAgICAgICAgICAgY29uc3Qgc3RhYmlsaXR5U2NvcmUgPSBzdWNjZXNzZXMucmVkdWNlKChhY2MsIHN1Y2Nlc3MpID0+IGFjYyArIHN1Y2Nlc3MsIDApIC9cbiAgICAgICAgICAgICAgICBzdWNjZXNzZXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHN0YWJpbGl0eVNjb3JlID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBbMCwgaV07XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGxhdGVuY3lXZWlnaHQgKiBsYXRlbmN5U2NvcmUgKyBzdGFiaWxpdHlXZWlnaHQgKiBzdGFiaWxpdHlTY29yZSxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiWzBdIC0gYVswXSk7XG4gICAgICAgIC8vIDUuIFNvcnQgdGhlIFRyYW5zcG9ydHMgYnkgc2NvcmUuXG4gICAgICAgIG9uVHJhbnNwb3J0cyhzY29yZXMubWFwKChbLCBpXSkgPT4gdHJhbnNwb3J0c1tpXSkpO1xuICAgICAgICAvLyA2LiBXYWl0LCBhbmQgdGhlbiByYW5rIGFnYWluLlxuICAgICAgICBhd2FpdCB3YWl0KGludGVydmFsKTtcbiAgICAgICAgcmFua1RyYW5zcG9ydHNfKCk7XG4gICAgfTtcbiAgICByYW5rVHJhbnNwb3J0c18oKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZhbGxiYWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/viem/_esm/clients/transports/fallback.js\n"));

/***/ })

}]);